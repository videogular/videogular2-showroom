{"version":3,"sources":["webpack:///scripts.7c1d2414f0b07c8a2901.bundle.js","webpack:///./~/script-loader/addScript.js","webpack:///./~/aframe-animation-component/dist/aframe-animation-component.min.js?eead","webpack:///./~/aframe-bmfont-text-component/dist/aframe-bmfont-text-component.min.js?c2d2","webpack:///./~/aframe/dist/aframe-v0.4.0.min.js?53e3","webpack:///./~/dashjs/dist/dash.all.min.js?5399","webpack:///./~/hls.js/dist/hls.min.js?3b85","webpack:///./~/aframe-animation-component/dist/aframe-animation-component.min.js","webpack:///./~/aframe-bmfont-text-component/dist/aframe-bmfont-text-component.min.js","webpack:///./~/aframe/dist/aframe-v0.4.0.min.js","webpack:///./~/dashjs/dist/dash.all.min.js","webpack:///./~/hls.js/dist/hls.min.js"],"names":["webpackJsonp","135","module","exports","src","execScript","eval","call","372","__webpack_require__","373","374","375","376","641","642","643","644","645","681"],"mappings":"AAAAA,cAAc,EAAE,IAEVC,IACA,SAASC,EAAQC,GCCvBD,EAAAC,QAAA,SAAAC,GACA,mBAAAC,YACAA,WAAAD,GAEAE,KAAAC,KAAA,KAAAH,KDWMI,IACA,SAASN,EAAQC,EAASM,GEpBhCA,EAAA,KAAAA,EAAA,OF0BMC,IACA,SAASR,EAAQC,EAASM,GG3BhCA,EAAA,KAAAA,EAAA,OHiCME,IACA,SAAST,EAAQC,EAASM,GIlChCA,EAAA,KAAAA,EAAA,OJwCMG,IACA,SAASV,EAAQC,EAASM,GKzChCA,EAAA,KAAAA,EAAA,OL+CMI,IACA,SAASX,EAAQC,EAASM,GMhDhCA,EAAA,KAAAA,EAAA,ONsDMK,IACA,SAASZ,EAAQC,GOvDvBD,EAAAC,QAAA,+xYP6DMY,IACA,SAASb,EAAQC,GQ9DvBD,EAAAC,QAAA;ERoEMa,IACA,SAASd,EAAQC,GSrEvBD,EAAAC,QAAA;ET2EMc,IACA,SAASf,EAAQC,GU5EvBD,EAAAC,QAAA;EVkFMe,IACA,SAAShB,EAAQC,GWnFvBD,EAAAC,QAAA;EXyFMgB,IACA,SAASjB,EAAQC,EAASM,GAEhCA,EAAoB,KACpBA,EAAoB,KACpBA,EAAoB,KACpBA,EAAoB,KACpBP,EAAOC,QAAUM,EAAoB,QAKlC","file":"scripts.7c1d2414f0b07c8a2901.bundle.js","sourcesContent":["webpackJsonp([1,4],{\n\n/***/ 135:\n/***/ function(module, exports) {\n\n/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nmodule.exports = function(src) {\r\n\tif (typeof execScript !== \"undefined\")\r\n\t\texecScript(src);\r\n\telse\r\n\t\teval.call(null, src);\r\n}\r\n\n\n/***/ },\n\n/***/ 372:\n/***/ function(module, exports, __webpack_require__) {\n\n__webpack_require__(135)(__webpack_require__(641))\n\n/***/ },\n\n/***/ 373:\n/***/ function(module, exports, __webpack_require__) {\n\n__webpack_require__(135)(__webpack_require__(642))\n\n/***/ },\n\n/***/ 374:\n/***/ function(module, exports, __webpack_require__) {\n\n__webpack_require__(135)(__webpack_require__(643))\n\n/***/ },\n\n/***/ 375:\n/***/ function(module, exports, __webpack_require__) {\n\n__webpack_require__(135)(__webpack_require__(644))\n\n/***/ },\n\n/***/ 376:\n/***/ function(module, exports, __webpack_require__) {\n\n__webpack_require__(135)(__webpack_require__(645))\n\n/***/ },\n\n/***/ 641:\n/***/ function(module, exports) {\n\nmodule.exports = \"!function(t){function n(r){if(e[r])return e[r].exports;var a=e[r]={exports:{},id:r,loaded:!1};return t[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}var e={};return n.m=t,n.c=e,n.p=\\\"\\\",n(0)}([function(t,n,e){function r(t,n,e){var r=n.from||s(t,n.property);return AFRAME.utils.extend({},e,{targets:[{aframeProperty:r}],aframeProperty:n.to,update:function(){c(t,n.property,this.targets[0].aframeProperty)}})}function a(t,n,e){var r=s(t,n.property);n.from&&(r=AFRAME.utils.coordinates.parse(n.from));var a=AFRAME.utils.coordinates.parse(n.to);return AFRAME.utils.extend({},e,{targets:[r],update:function(){c(t,n.property,this.targets[0])}},a)}function i(t,n){var e=n.split(\\\".\\\"),r=e[0],a=e[1],i=t.components[r]||AFRAME.components[r];return i?a?i.schema[a].type:i.schema.type:null}var o=e(1);if(\\\"undefined\\\"==typeof AFRAME)throw new Error(\\\"Component attempted to register before AFRAME was available.\\\");var u=AFRAME.utils,s=u.entity.getComponentProperty,c=u.entity.setComponentProperty;u.styleParser.parse;AFRAME.registerComponent(\\\"animation\\\",{schema:{delay:{\\\"default\\\":0},dir:{\\\"default\\\":\\\"\\\"},dur:{\\\"default\\\":1e3},easing:{\\\"default\\\":\\\"easeInQuad\\\"},elasticity:{\\\"default\\\":400},from:{\\\"default\\\":\\\"\\\"},loop:{\\\"default\\\":!1},property:{\\\"default\\\":\\\"\\\"},repeat:{\\\"default\\\":0},startEvents:{type:\\\"array\\\"},pauseEvents:{type:\\\"array\\\"},to:{\\\"default\\\":\\\"\\\"}},multiple:!0,init:function(){this.animation=null,this.animationIsPlaying=!1,this.config=null,this.playAnimationBound=this.playAnimation.bind(this),this.pauseAnimationBound=this.pauseAnimation.bind(this),this.repeat=0},update:function(){var t=this.attrName,n=this.data,e=this.el,u=i(e,n.property),s=this;if(n.property){this.repeat=n.repeat;var c={autoplay:!1,begin:function(){e.emit(\\\"animationbegin\\\"),e.emit(t+\\\"-begin\\\")},complete:function(){e.emit(\\\"animationcomplete\\\"),e.emit(t+\\\"-complete\\\"),--s.repeat>0&&s.animation.play()},direction:n.dir,duration:n.dur,easing:n.easing,elasticity:n.elasticity,loop:n.loop},f=r;\\\"vec2\\\"!==u&&\\\"vec3\\\"!==u&&\\\"vec4\\\"!==u||(f=a),this.pauseAnimation(),this.config=f(e,n,c),this.animation=o(this.config),this.data.startEvents.length||(this.animationIsPlaying=!0),this.removeEventListeners(),this.addEventListeners()}},remove:function(){this.pauseAnimation(),this.removeEventListeners()},pause:function(){this.pauseAnimation(),this.removeEventListeners()},play:function(){this.animation&&this.animationIsPlaying&&(this.playAnimation(),this.addEventListeners())},addEventListeners:function(){var t=this,n=this.data,e=this.el;n.startEvents.map(function(n){e.addEventListener(n,t.playAnimationBound)}),n.pauseEvents.map(function(n){e.addEventListener(n,t.pauseAnimationBound)})},removeEventListeners:function(){var t=this,n=this.data,e=this.el;n.startEvents.map(function(n){e.removeEventListener(n,t.playAnimationBound)}),n.pauseEvents.map(function(n){e.removeEventListener(n,t.pauseAnimationBound)})},playAnimation:function(){this.animation&&(this.animation.restart(),this.animationIsPlaying=!0)},pauseAnimation:function(){this.animation&&(this.animation.pause(),this.animationIsPlaying=!1)}})},function(t,n,e){var r,a,i;!function(e,o){a=[],r=o,i=\\\"function\\\"==typeof r?r.apply(n,a):r,!(void 0!==i&&(t.exports=i))}(this,function(){var t,n=\\\"1.1.1\\\",e={duration:1e3,delay:0,loop:!1,autoplay:!0,direction:\\\"normal\\\",easing:\\\"easeOutElastic\\\",elasticity:400,round:!1,begin:void 0,update:void 0,complete:void 0},r=[\\\"translateX\\\",\\\"translateY\\\",\\\"translateZ\\\",\\\"rotate\\\",\\\"rotateX\\\",\\\"rotateY\\\",\\\"rotateZ\\\",\\\"scale\\\",\\\"scaleX\\\",\\\"scaleY\\\",\\\"scaleZ\\\",\\\"skewX\\\",\\\"skewY\\\"],a=\\\"transform\\\",i={arr:function(t){return Array.isArray(t)},obj:function(t){return Object.prototype.toString.call(t).indexOf(\\\"Object\\\")>-1},svg:function(t){return t instanceof SVGElement},dom:function(t){return t.nodeType||i.svg(t)},num:function(t){return!isNaN(parseInt(t))},str:function(t){return\\\"string\\\"==typeof t},fnc:function(t){return\\\"function\\\"==typeof t},und:function(t){return\\\"undefined\\\"==typeof t},nul:function(t){return\\\"null\\\"==typeof t},hex:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},rgb:function(t){return/^rgb/.test(t)},hsl:function(t){return/^hsl/.test(t)},col:function(t){return i.hex(t)||i.rgb(t)||i.hsl(t)}},o=function(){var t={},n=[\\\"Quad\\\",\\\"Cubic\\\",\\\"Quart\\\",\\\"Quint\\\",\\\"Expo\\\"],e={Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t,n){if(0===t||1===t)return t;var e=1-Math.min(n,998)/1e3,r=t/1,a=r-1,i=e/(2*Math.PI)*Math.asin(1);return-(Math.pow(2,10*a)*Math.sin((a-i)*(2*Math.PI)/e))},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var n,e=4;t<((n=Math.pow(2,--e))-1)/11;);return 1/Math.pow(4,3-e)-7.5625*Math.pow((3*n-2)/22-t,2)}};return n.forEach(function(t,n){e[t]=function(t){return Math.pow(t,n+2)}}),Object.keys(e).forEach(function(n){var r=e[n];t[\\\"easeIn\\\"+n]=r,t[\\\"easeOut\\\"+n]=function(t,n){return 1-r(1-t,n)},t[\\\"easeInOut\\\"+n]=function(t,n){return t<.5?r(2*t,n)/2:1-r(t*-2+2,n)/2},t[\\\"easeOutIn\\\"+n]=function(t,n){return t<.5?(1-r(1-2*t,n))/2:(r(2*t-1,n)+1)/2}}),t.linear=function(t){return t},t}(),u=function(t){return i.str(t)?t:t+\\\"\\\"},s=function(t){return t.replace(/([a-z])([A-Z])/g,\\\"$1-$2\\\").toLowerCase()},c=function(t){if(i.col(t))return!1;try{var n=document.querySelectorAll(t);return n}catch(e){return!1}},f=function(t,n){return Math.floor(Math.random()*(n-t+1))+t},l=function(t){return t.reduce(function(t,n){return t.concat(i.arr(n)?l(n):n)},[])},p=function(t){return i.arr(t)?t:(i.str(t)&&(t=c(t)||t),t instanceof NodeList||t instanceof HTMLCollection?[].slice.call(t):[t])},m=function(t,n){return t.some(function(t){return t===n})},d=function(t,n){var e={};return t.forEach(function(t){var r=JSON.stringify(n.map(function(n){return t[n]}));e[r]=e[r]||[],e[r].push(t)}),Object.keys(e).map(function(t){return e[t]})},h=function(t){return t.filter(function(t,n,e){return e.indexOf(t)===n})},v=function(t){var n={};for(var e in t)n[e]=t[e];return n},g=function(t,n){for(var e in n)t[e]=i.und(t[e])?n[e]:t[e];return t},y=function(t){var n=/^#?([a-f\\\\d])([a-f\\\\d])([a-f\\\\d])$/i,t=t.replace(n,function(t,n,e,r){return n+n+e+e+r+r}),e=/^#?([a-f\\\\d]{2})([a-f\\\\d]{2})([a-f\\\\d]{2})$/i.exec(t),r=parseInt(e[1],16),a=parseInt(e[2],16),i=parseInt(e[3],16);return\\\"rgb(\\\"+r+\\\",\\\"+a+\\\",\\\"+i+\\\")\\\"},b=function(t){var n,e,r,t=/hsl\\\\((\\\\d+),\\\\s*([\\\\d.]+)%,\\\\s*([\\\\d.]+)%\\\\)/g.exec(t),a=parseInt(t[1])/360,i=parseInt(t[2])/100,o=parseInt(t[3])/100,u=function(t,n,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?t+6*(n-t)*e:e<.5?n:e<2/3?t+(n-t)*(2/3-e)*6:t};if(0==i)n=e=r=o;else{var s=o<.5?o*(1+i):o+i-o*i,c=2*o-s;n=u(c,s,a+1/3),e=u(c,s,a),r=u(c,s,a-1/3)}return\\\"rgb(\\\"+255*n+\\\",\\\"+255*e+\\\",\\\"+255*r+\\\")\\\"},A=function(t){return i.rgb(t)?t:i.hex(t)?y(t):i.hsl(t)?b(t):void 0},E=function(t){return/([\\\\+\\\\-]?[0-9|auto\\\\.]+)(%|px|pt|em|rem|in|cm|mm|ex|pc|vw|vh|deg)?/.exec(t)[2]},M=function(t,n,e){return E(n)?n:t.indexOf(\\\"translate\\\")>-1?E(e)?n+E(e):n+\\\"px\\\":t.indexOf(\\\"rotate\\\")>-1||t.indexOf(\\\"skew\\\")>-1?n+\\\"deg\\\":n},x=function(t,n){if(n in t.style)return getComputedStyle(t).getPropertyValue(s(n))||\\\"0\\\"},w=function(t,n){var e=n.indexOf(\\\"scale\\\")>-1?1:0,r=t.style.transform;if(!r)return e;for(var a=/(\\\\w+)\\\\((.+?)\\\\)/g,i=[],o=[],u=[];i=a.exec(r);)o.push(i[1]),u.push(i[2]);var s=u.filter(function(t,e){return o[e]===n});return s.length?s[0]:e},I=function(t,n){return i.dom(t)&&m(r,n)?\\\"transform\\\":i.dom(t)&&(t.getAttribute(n)||i.svg(t)&&t[n])?\\\"attribute\\\":i.dom(t)&&\\\"transform\\\"!==n&&x(t,n)?\\\"css\\\":i.nul(t[n])||i.und(t[n])?void 0:\\\"object\\\"},P=function(t,n){switch(I(t,n)){case\\\"transform\\\":return w(t,n);case\\\"css\\\":return x(t,n);case\\\"attribute\\\":return t.getAttribute(n)}return t[n]||0},O=function(t,n,e){if(i.col(n))return A(n);if(E(n))return n;var r=E(E(t.to)?t.to:t.from);return!r&&e&&(r=E(e)),r?n+r:n},L=function(t){var n=/-?\\\\d*\\\\.?\\\\d+/g;return{original:t,numbers:u(t).match(n)?u(t).match(n).map(Number):[0],strings:u(t).split(n)}},k=function(t,n,e){return n.reduce(function(n,r,a){var r=r?r:e[a-1];return n+t[a-1]+r})},F=function(t){var t=t?l(i.arr(t)?t.map(p):p(t)):[];return t.map(function(t,n){return{target:t,id:n}})},j=function(t,n){var r=[];for(var a in t)if(!e.hasOwnProperty(a)&&\\\"targets\\\"!==a){var o=i.obj(t[a])?v(t[a]):{value:t[a]};o.name=a,r.push(g(o,n))}return r},C=function(t,n,e,r){var a=p(i.fnc(e)?e(t,r):e);return{from:a.length>1?a[0]:P(t,n),to:a.length>1?a[1]:a[0]}},R=function(t,n,e,r){var a={};if(\\\"transform\\\"===e)a.from=t+\\\"(\\\"+M(t,n.from,n.to)+\\\")\\\",a.to=t+\\\"(\\\"+M(t,n.to)+\\\")\\\";else{var i=\\\"css\\\"===e?x(r,t):void 0;a.from=O(n,n.from,i),a.to=O(n,n.to,i)}return{from:L(a.from),to:L(a.to)}},B=function(t,n){var e=[];return t.forEach(function(r,a){var o=r.target;return n.forEach(function(n){var u=I(o,n.name);if(u){var s=C(o,n.name,n.value,a),c=v(n);c.animatables=r,c.type=u,c.from=R(n.name,s,c.type,o).from,c.to=R(n.name,s,c.type,o).to,c.round=i.col(s.from)||c.round?1:0,c.delay=(i.fnc(c.delay)?c.delay(o,a,t.length):c.delay)/J.speed,c.duration=(i.fnc(c.duration)?c.duration(o,a,t.length):c.duration)/J.speed,e.push(c)}})}),e},N=function(t,n){var e=B(t,n),r=d(e,[\\\"name\\\",\\\"from\\\",\\\"to\\\",\\\"delay\\\",\\\"duration\\\"]);return r.map(function(t){var n=v(t[0]);return n.animatables=t.map(function(t){return t.animatables}),n.totalDuration=n.delay+n.duration,n})},S=function(t,n){t.tweens.forEach(function(e){var r=e.to,a=e.from,i=t.duration-(e.delay+e.duration);e.from=r,e.to=a,n&&(e.delay=i)}),t.reversed=!t.reversed},T=function(t){if(t.length)return Math.max.apply(Math,t.map(function(t){return t.totalDuration}))},$=function(t){var n=[],e=[];return t.tweens.forEach(function(t){\\\"css\\\"!==t.type&&\\\"transform\\\"!==t.type||(n.push(\\\"css\\\"===t.type?s(t.name):\\\"transform\\\"),t.animatables.forEach(function(t){e.push(t.target)}))}),{properties:h(n).join(\\\", \\\"),elements:h(e)}},V=function(t){var n=$(t);n.elements.forEach(function(t){t.style.willChange=n.properties})},X=function(t){var n=$(t);n.elements.forEach(function(t){t.style.removeProperty(\\\"will-change\\\")})},Y=function(t){var n=i.str(t)?c(t)[0]:t;return{path:n,value:n.getTotalLength()}},Q=function(t,n){var e=t.path,r=t.value*n,a=function(a){var i=a||0,o=n>1?t.value+i:r+i;return e.getPointAtLength(o)},i=a(),o=a(-1),u=a(1);switch(t.name){case\\\"translateX\\\":return i.x;case\\\"translateY\\\":return i.y;case\\\"rotate\\\":return 180*Math.atan2(u.y-o.y,u.x-o.x)/Math.PI}},Z=function(t,n){var e=Math.min(Math.max(n-t.delay,0),t.duration),r=e/t.duration,a=t.to.numbers.map(function(n,e){var a=t.from.numbers[e],i=o[t.easing](r,t.elasticity),u=t.path?Q(t,i):a+i*(n-a);return u=t.round?Math.round(u*t.round)/t.round:u});return k(a,t.to.strings,t.from.strings)},q=function(n,e){var r;n.currentTime=e,n.progress=e/n.duration*100;for(var i=0;i<n.tweens.length;i++){var o=n.tweens[i];o.currentValue=Z(o,e);for(var u=o.currentValue,s=0;s<o.animatables.length;s++){var c=o.animatables[s],f=c.id,l=c.target,p=o.name;switch(o.type){case\\\"css\\\":l.style[p]=u;break;case\\\"attribute\\\":l.setAttribute(p,u);break;case\\\"object\\\":l[p]=u;break;case\\\"transform\\\":r||(r={}),r[f]||(r[f]=[]),r[f].push(u)}}}if(r){t||(t=(x(document.body,a)?\\\"\\\":\\\"-webkit-\\\")+a);for(var i in r)n.animatables[i].target.style[t]=r[i].join(\\\" \\\")}n.settings.update&&n.settings.update(n)},D=function(t){var n={};return n.animatables=F(t.targets),n.settings=g(t,e),n.properties=j(t,n.settings),n.tweens=N(n.animatables,n.properties),n.duration=T(n.tweens)||t.duration,n.currentTime=0,n.progress=0,n.ended=!1,n},z=[],G=0,H=function(){var t=function(){G=requestAnimationFrame(n)},n=function(n){if(z.length){for(var e=0;e<z.length;e++)z[e].tick(n);t()}else cancelAnimationFrame(G),G=0};return t}(),J=function(t){var n=D(t),e={};return n.tick=function(t){n.ended=!1,e.start||(e.start=t),e.current=Math.min(Math.max(e.last+t-e.start,0),n.duration),q(n,e.current);var r=n.settings;r.begin&&e.current>=r.delay&&(r.begin(n),r.begin=void 0),e.current>=n.duration&&(r.loop?(e.start=t,\\\"alternate\\\"===r.direction&&S(n,!0),i.num(r.loop)&&r.loop--):(n.ended=!0,n.pause(),r.complete&&r.complete(n)),e.last=0)},n.seek=function(t){q(n,t/100*n.duration)},n.pause=function(){X(n);var t=z.indexOf(n);t>-1&&z.splice(t,1)},n.play=function(t){n.pause(),t&&(n=g(D(g(t,n.settings)),n)),e.start=0,e.last=n.ended?0:n.currentTime;var r=n.settings;\\\"reverse\\\"===r.direction&&S(n),\\\"alternate\\\"!==r.direction||r.loop||(r.loop=1),V(n),z.push(n),G||H()},n.restart=function(){n.reversed&&S(n),n.pause(),n.seek(0),n.play()},n.settings.autoplay&&n.play(),n},K=function(t){for(var n=l(i.arr(t)?t.map(p):p(t)),e=z.length-1;e>=0;e--)for(var r=z[e],a=r.tweens,o=a.length-1;o>=0;o--)for(var u=a[o].animatables,s=u.length-1;s>=0;s--)m(n,u[s].target)&&(u.splice(s,1),u.length||a.splice(o,1),a.length||r.pause())};return J.version=n,J.speed=1,J.list=z,J.remove=K,J.easings=o,J.getValue=P,J.path=Y,J.random=f,J})}]);\"\n\n/***/ },\n\n/***/ 642:\n/***/ function(module, exports) {\n\nmodule.exports = \"!function(t){function r(n){if(e[n])return e[n].exports;var i=e[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}var e={};return r.m=t,r.c=e,r.p=\\\"\\\",r(0)}([function(t,r,e){function n(t,r){o(t.font,function(e,n){if(e)throw e;var i=new THREE.TextureLoader;i.load(t.image,function(t){r(n,t)})})}if(\\\"undefined\\\"==typeof AFRAME)throw new Error(\\\"Component attempted to register before AFRAME was available.\\\");var i=e(33),o=e(22),a=e(8);e(7),AFRAME.registerComponent(\\\"bmfont-text\\\",{schema:{text:{type:\\\"string\\\"},width:{type:\\\"number\\\",\\\"default\\\":1e3},align:{type:\\\"string\\\",\\\"default\\\":\\\"left\\\"},letterSpacing:{type:\\\"number\\\",\\\"default\\\":0},lineHeight:{type:\\\"number\\\",\\\"default\\\":38},fnt:{type:\\\"string\\\",\\\"default\\\":\\\"https://cdn.rawgit.com/bryik/aframe-bmfont-text-component/aa0655cf90f646e12c40ab4708ea90b4686cfb45/assets/DejaVu-sdf.fnt\\\"},fntImage:{type:\\\"string\\\",\\\"default\\\":\\\"https://cdn.rawgit.com/bryik/aframe-bmfont-text-component/aa0655cf90f646e12c40ab4708ea90b4686cfb45/assets/DejaVu-sdf.png\\\"},mode:{type:\\\"string\\\",\\\"default\\\":\\\"normal\\\"},color:{type:\\\"color\\\",\\\"default\\\":\\\"white\\\"},opacity:{type:\\\"number\\\",\\\"default\\\":\\\"1.0\\\"}},update:function(t){function r(t,r){r.needsUpdate=!0,r.anisotropy=16;var n={font:t,text:o.text,width:o.width,align:o.align,letterSpacing:o.letterSpacing,lineHeight:o.lineHeight,mode:o.mode},u=i(n),f=new THREE.RawShaderMaterial(a({map:r,side:THREE.DoubleSide,transparent:!0,color:o.color,opacity:o.opacity})),s=new THREE.Mesh(u,f);s.rotation.y=Math.PI,s.scale.multiplyScalar(-.005),e.setObject3D(\\\"bmfont-text\\\",s)}var e=this.el,o=this.data;n({font:o.fnt,image:o.fntImage},r)},remove:function(){this.el.removeObject3D(\\\"bmfont-text\\\")}})},function(t,r,e){(function(t,n){/*!\\r\\n\\t * The buffer module from node.js, for the browser.\\r\\n\\t *\\r\\n\\t * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\\r\\n\\t * @license  MIT\\r\\n\\t */\\r\\n\\\"use strict\\\";function i(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&\\\"function\\\"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(r){return!1}}function o(){return t.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(r,e){if(o()<e)throw new RangeError(\\\"Invalid typed array length\\\");return t.TYPED_ARRAY_SUPPORT?(r=new Uint8Array(e),r.__proto__=t.prototype):(null===r&&(r=new t(e)),r.length=e),r}function t(r,e,n){if(!(t.TYPED_ARRAY_SUPPORT||this instanceof t))return new t(r,e,n);if(\\\"number\\\"==typeof r){if(\\\"string\\\"==typeof e)throw new Error(\\\"If encoding is specified then the first argument must be a string\\\");return h(this,r)}return u(this,r,e,n)}function u(t,r,e,n){if(\\\"number\\\"==typeof r)throw new TypeError('\\\"value\\\" argument must not be a number');return\\\"undefined\\\"!=typeof ArrayBuffer&&r instanceof ArrayBuffer?p(t,r,e,n):\\\"string\\\"==typeof r?c(t,r,e):g(t,r)}function f(t){if(\\\"number\\\"!=typeof t)throw new TypeError('\\\"size\\\" argument must be a number');if(t<0)throw new RangeError('\\\"size\\\" argument must not be negative')}function s(t,r,e,n){return f(r),r<=0?a(t,r):void 0!==e?\\\"string\\\"==typeof n?a(t,r).fill(e,n):a(t,r).fill(e):a(t,r)}function h(r,e){if(f(e),r=a(r,e<0?0:0|d(e)),!t.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)r[n]=0;return r}function c(r,e,n){if(\\\"string\\\"==typeof n&&\\\"\\\"!==n||(n=\\\"utf8\\\"),!t.isEncoding(n))throw new TypeError('\\\"encoding\\\" must be a valid string encoding');var i=0|v(e,n);r=a(r,i);var o=r.write(e,n);return o!==i&&(r=r.slice(0,o)),r}function l(t,r){var e=r.length<0?0:0|d(r.length);t=a(t,e);for(var n=0;n<e;n+=1)t[n]=255&r[n];return t}function p(r,e,n,i){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError(\\\"'offset' is out of bounds\\\");if(e.byteLength<n+(i||0))throw new RangeError(\\\"'length' is out of bounds\\\");return e=void 0===n&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,n):new Uint8Array(e,n,i),t.TYPED_ARRAY_SUPPORT?(r=e,r.__proto__=t.prototype):r=l(r,e),r}function g(r,e){if(t.isBuffer(e)){var n=0|d(e.length);return r=a(r,n),0===r.length?r:(e.copy(r,0,0,n),r)}if(e){if(\\\"undefined\\\"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||\\\"length\\\"in e)return\\\"number\\\"!=typeof e.length||Z(e.length)?a(r,0):l(r,e);if(\\\"Buffer\\\"===e.type&&Q(e.data))return l(r,e.data)}throw new TypeError(\\\"First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.\\\")}function d(t){if(t>=o())throw new RangeError(\\\"Attempt to allocate Buffer larger than maximum size: 0x\\\"+o().toString(16)+\\\" bytes\\\");return 0|t}function y(r){return+r!=r&&(r=0),t.alloc(+r)}function v(r,e){if(t.isBuffer(r))return r.length;if(\\\"undefined\\\"!=typeof ArrayBuffer&&\\\"function\\\"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(r)||r instanceof ArrayBuffer))return r.byteLength;\\\"string\\\"!=typeof r&&(r=\\\"\\\"+r);var n=r.length;if(0===n)return 0;for(var i=!1;;)switch(e){case\\\"ascii\\\":case\\\"latin1\\\":case\\\"binary\\\":return n;case\\\"utf8\\\":case\\\"utf-8\\\":case void 0:return z(r).length;case\\\"ucs2\\\":case\\\"ucs-2\\\":case\\\"utf16le\\\":case\\\"utf-16le\\\":return 2*n;case\\\"hex\\\":return n>>>1;case\\\"base64\\\":return J(r).length;default:if(i)return z(r).length;e=(\\\"\\\"+e).toLowerCase(),i=!0}}function w(t,r,e){var n=!1;if((void 0===r||r<0)&&(r=0),r>this.length)return\\\"\\\";if((void 0===e||e>this.length)&&(e=this.length),e<=0)return\\\"\\\";if(e>>>=0,r>>>=0,e<=r)return\\\"\\\";for(t||(t=\\\"utf8\\\");;)switch(t){case\\\"hex\\\":return M(this,r,e);case\\\"utf8\\\":case\\\"utf-8\\\":return U(this,r,e);case\\\"ascii\\\":return I(this,r,e);case\\\"latin1\\\":case\\\"binary\\\":return O(this,r,e);case\\\"base64\\\":return S(this,r,e);case\\\"ucs2\\\":case\\\"ucs-2\\\":case\\\"utf16le\\\":case\\\"utf-16le\\\":return C(this,r,e);default:if(n)throw new TypeError(\\\"Unknown encoding: \\\"+t);t=(t+\\\"\\\").toLowerCase(),n=!0}}function m(t,r,e){var n=t[r];t[r]=t[e],t[e]=n}function b(r,e,n,i,o){if(0===r.length)return-1;if(\\\"string\\\"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:r.length-1),n<0&&(n=r.length+n),n>=r.length){if(o)return-1;n=r.length-1}else if(n<0){if(!o)return-1;n=0}if(\\\"string\\\"==typeof e&&(e=t.from(e,i)),t.isBuffer(e))return 0===e.length?-1:E(r,e,n,i,o);if(\\\"number\\\"==typeof e)return e=255&e,t.TYPED_ARRAY_SUPPORT&&\\\"function\\\"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(r,e,n):Uint8Array.prototype.lastIndexOf.call(r,e,n):E(r,[e],n,i,o);throw new TypeError(\\\"val must be string, number or Buffer\\\")}function E(t,r,e,n,i){function o(t,r){return 1===a?t[r]:t.readUInt16BE(r*a)}var a=1,u=t.length,f=r.length;if(void 0!==n&&(n=String(n).toLowerCase(),\\\"ucs2\\\"===n||\\\"ucs-2\\\"===n||\\\"utf16le\\\"===n||\\\"utf-16le\\\"===n)){if(t.length<2||r.length<2)return-1;a=2,u/=2,f/=2,e/=2}var s;if(i){var h=-1;for(s=e;s<u;s++)if(o(t,s)===o(r,h===-1?0:s-h)){if(h===-1&&(h=s),s-h+1===f)return h*a}else h!==-1&&(s-=s-h),h=-1}else for(e+f>u&&(e=u-f),s=e;s>=0;s--){for(var c=!0,l=0;l<f;l++)if(o(t,s+l)!==o(r,l)){c=!1;break}if(c)return s}return-1}function A(t,r,e,n){e=Number(e)||0;var i=t.length-e;n?(n=Number(n),n>i&&(n=i)):n=i;var o=r.length;if(o%2!==0)throw new TypeError(\\\"Invalid hex string\\\");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var u=parseInt(r.substr(2*a,2),16);if(isNaN(u))return a;t[e+a]=u}return a}function _(t,r,e,n){return W(z(r,t.length-e),t,e,n)}function R(t,r,e,n){return W(G(r),t,e,n)}function x(t,r,e,n){return R(t,r,e,n)}function T(t,r,e,n){return W(J(r),t,e,n)}function B(t,r,e,n){return W(V(r,t.length-e),t,e,n)}function S(t,r,e){return 0===r&&e===t.length?$.fromByteArray(t):$.fromByteArray(t.slice(r,e))}function U(t,r,e){e=Math.min(t.length,e);for(var n=[],i=r;i<e;){var o=t[i],a=null,u=o>239?4:o>223?3:o>191?2:1;if(i+u<=e){var f,s,h,c;switch(u){case 1:o<128&&(a=o);break;case 2:f=t[i+1],128===(192&f)&&(c=(31&o)<<6|63&f,c>127&&(a=c));break;case 3:f=t[i+1],s=t[i+2],128===(192&f)&&128===(192&s)&&(c=(15&o)<<12|(63&f)<<6|63&s,c>2047&&(c<55296||c>57343)&&(a=c));break;case 4:f=t[i+1],s=t[i+2],h=t[i+3],128===(192&f)&&128===(192&s)&&128===(192&h)&&(c=(15&o)<<18|(63&f)<<12|(63&s)<<6|63&h,c>65535&&c<1114112&&(a=c))}}null===a?(a=65533,u=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),i+=u}return P(n)}function P(t){var r=t.length;if(r<=tt)return String.fromCharCode.apply(String,t);for(var e=\\\"\\\",n=0;n<r;)e+=String.fromCharCode.apply(String,t.slice(n,n+=tt));return e}function I(t,r,e){var n=\\\"\\\";e=Math.min(t.length,e);for(var i=r;i<e;++i)n+=String.fromCharCode(127&t[i]);return n}function O(t,r,e){var n=\\\"\\\";e=Math.min(t.length,e);for(var i=r;i<e;++i)n+=String.fromCharCode(t[i]);return n}function M(t,r,e){var n=t.length;(!r||r<0)&&(r=0),(!e||e<0||e>n)&&(e=n);for(var i=\\\"\\\",o=r;o<e;++o)i+=q(t[o]);return i}function C(t,r,e){for(var n=t.slice(r,e),i=\\\"\\\",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function L(t,r,e){if(t%1!==0||t<0)throw new RangeError(\\\"offset is not uint\\\");if(t+r>e)throw new RangeError(\\\"Trying to access beyond buffer length\\\")}function Y(r,e,n,i,o,a){if(!t.isBuffer(r))throw new TypeError('\\\"buffer\\\" argument must be a Buffer instance');if(e>o||e<a)throw new RangeError('\\\"value\\\" argument is out of bounds');if(n+i>r.length)throw new RangeError(\\\"Index out of range\\\")}function k(t,r,e,n){r<0&&(r=65535+r+1);for(var i=0,o=Math.min(t.length-e,2);i<o;++i)t[e+i]=(r&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function D(t,r,e,n){r<0&&(r=4294967295+r+1);for(var i=0,o=Math.min(t.length-e,4);i<o;++i)t[e+i]=r>>>8*(n?i:3-i)&255}function j(t,r,e,n,i,o){if(e+n>t.length)throw new RangeError(\\\"Index out of range\\\");if(e<0)throw new RangeError(\\\"Index out of range\\\")}function H(t,r,e,n,i){return i||j(t,r,e,4,3.4028234663852886e38,-3.4028234663852886e38),K.write(t,r,e,n,23,4),e+4}function N(t,r,e,n,i){return i||j(t,r,e,8,1.7976931348623157e308,-1.7976931348623157e308),K.write(t,r,e,n,52,8),e+8}function F(t){if(t=X(t).replace(rt,\\\"\\\"),t.length<2)return\\\"\\\";for(;t.length%4!==0;)t+=\\\"=\\\";return t}function X(t){return t.trim?t.trim():t.replace(/^\\\\s+|\\\\s+$/g,\\\"\\\")}function q(t){return t<16?\\\"0\\\"+t.toString(16):t.toString(16)}function z(t,r){r=r||1/0;for(var e,n=t.length,i=null,o=[],a=0;a<n;++a){if(e=t.charCodeAt(a),e>55295&&e<57344){if(!i){if(e>56319){(r-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(r-=3)>-1&&o.push(239,191,189);continue}i=e;continue}if(e<56320){(r-=3)>-1&&o.push(239,191,189),i=e;continue}e=(i-55296<<10|e-56320)+65536}else i&&(r-=3)>-1&&o.push(239,191,189);if(i=null,e<128){if((r-=1)<0)break;o.push(e)}else if(e<2048){if((r-=2)<0)break;o.push(e>>6|192,63&e|128)}else if(e<65536){if((r-=3)<0)break;o.push(e>>12|224,e>>6&63|128,63&e|128)}else{if(!(e<1114112))throw new Error(\\\"Invalid code point\\\");if((r-=4)<0)break;o.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}}return o}function G(t){for(var r=[],e=0;e<t.length;++e)r.push(255&t.charCodeAt(e));return r}function V(t,r){for(var e,n,i,o=[],a=0;a<t.length&&!((r-=2)<0);++a)e=t.charCodeAt(a),n=e>>8,i=e%256,o.push(i),o.push(n);return o}function J(t){return $.toByteArray(F(t))}function W(t,r,e,n){for(var i=0;i<n&&!(i+e>=r.length||i>=t.length);++i)r[i+e]=t[i];return i}function Z(t){return t!==t}var $=e(24),K=e(4),Q=e(25);r.Buffer=t,r.SlowBuffer=y,r.INSPECT_MAX_BYTES=50,t.TYPED_ARRAY_SUPPORT=void 0!==n.TYPED_ARRAY_SUPPORT?n.TYPED_ARRAY_SUPPORT:i(),r.kMaxLength=o(),t.poolSize=8192,t._augment=function(r){return r.__proto__=t.prototype,r},t.from=function(t,r,e){return u(null,t,r,e)},t.TYPED_ARRAY_SUPPORT&&(t.prototype.__proto__=Uint8Array.prototype,t.__proto__=Uint8Array,\\\"undefined\\\"!=typeof Symbol&&Symbol.species&&t[Symbol.species]===t&&Object.defineProperty(t,Symbol.species,{value:null,configurable:!0})),t.alloc=function(t,r,e){return s(null,t,r,e)},t.allocUnsafe=function(t){return h(null,t)},t.allocUnsafeSlow=function(t){return h(null,t)},t.isBuffer=function(t){return!(null==t||!t._isBuffer)},t.compare=function(r,e){if(!t.isBuffer(r)||!t.isBuffer(e))throw new TypeError(\\\"Arguments must be Buffers\\\");if(r===e)return 0;for(var n=r.length,i=e.length,o=0,a=Math.min(n,i);o<a;++o)if(r[o]!==e[o]){n=r[o],i=e[o];break}return n<i?-1:i<n?1:0},t.isEncoding=function(t){switch(String(t).toLowerCase()){case\\\"hex\\\":case\\\"utf8\\\":case\\\"utf-8\\\":case\\\"ascii\\\":case\\\"latin1\\\":case\\\"binary\\\":case\\\"base64\\\":case\\\"ucs2\\\":case\\\"ucs-2\\\":case\\\"utf16le\\\":case\\\"utf-16le\\\":return!0;default:return!1}},t.concat=function(r,e){if(!Q(r))throw new TypeError('\\\"list\\\" argument must be an Array of Buffers');if(0===r.length)return t.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<r.length;++n)e+=r[n].length;var i=t.allocUnsafe(e),o=0;for(n=0;n<r.length;++n){var a=r[n];if(!t.isBuffer(a))throw new TypeError('\\\"list\\\" argument must be an Array of Buffers');a.copy(i,o),o+=a.length}return i},t.byteLength=v,t.prototype._isBuffer=!0,t.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError(\\\"Buffer size must be a multiple of 16-bits\\\");for(var r=0;r<t;r+=2)m(this,r,r+1);return this},t.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError(\\\"Buffer size must be a multiple of 32-bits\\\");for(var r=0;r<t;r+=4)m(this,r,r+3),m(this,r+1,r+2);return this},t.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError(\\\"Buffer size must be a multiple of 64-bits\\\");for(var r=0;r<t;r+=8)m(this,r,r+7),m(this,r+1,r+6),m(this,r+2,r+5),m(this,r+3,r+4);return this},t.prototype.toString=function(){var t=0|this.length;return 0===t?\\\"\\\":0===arguments.length?U(this,0,t):w.apply(this,arguments)},t.prototype.equals=function(r){if(!t.isBuffer(r))throw new TypeError(\\\"Argument must be a Buffer\\\");return this===r||0===t.compare(this,r)},t.prototype.inspect=function(){var t=\\\"\\\",e=r.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString(\\\"hex\\\",0,e).match(/.{2}/g).join(\\\" \\\"),this.length>e&&(t+=\\\" ... \\\")),\\\"<Buffer \\\"+t+\\\">\\\"},t.prototype.compare=function(r,e,n,i,o){if(!t.isBuffer(r))throw new TypeError(\\\"Argument must be a Buffer\\\");if(void 0===e&&(e=0),void 0===n&&(n=r?r.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),e<0||n>r.length||i<0||o>this.length)throw new RangeError(\\\"out of range index\\\");if(i>=o&&e>=n)return 0;if(i>=o)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,i>>>=0,o>>>=0,this===r)return 0;for(var a=o-i,u=n-e,f=Math.min(a,u),s=this.slice(i,o),h=r.slice(e,n),c=0;c<f;++c)if(s[c]!==h[c]){a=s[c],u=h[c];break}return a<u?-1:u<a?1:0},t.prototype.includes=function(t,r,e){return this.indexOf(t,r,e)!==-1},t.prototype.indexOf=function(t,r,e){return b(this,t,r,e,!0)},t.prototype.lastIndexOf=function(t,r,e){return b(this,t,r,e,!1)},t.prototype.write=function(t,r,e,n){if(void 0===r)n=\\\"utf8\\\",e=this.length,r=0;else if(void 0===e&&\\\"string\\\"==typeof r)n=r,e=this.length,r=0;else{if(!isFinite(r))throw new Error(\\\"Buffer.write(string, encoding, offset[, length]) is no longer supported\\\");r=0|r,isFinite(e)?(e=0|e,void 0===n&&(n=\\\"utf8\\\")):(n=e,e=void 0)}var i=this.length-r;if((void 0===e||e>i)&&(e=i),t.length>0&&(e<0||r<0)||r>this.length)throw new RangeError(\\\"Attempt to write outside buffer bounds\\\");n||(n=\\\"utf8\\\");for(var o=!1;;)switch(n){case\\\"hex\\\":return A(this,t,r,e);case\\\"utf8\\\":case\\\"utf-8\\\":return _(this,t,r,e);case\\\"ascii\\\":return R(this,t,r,e);case\\\"latin1\\\":case\\\"binary\\\":return x(this,t,r,e);case\\\"base64\\\":return T(this,t,r,e);case\\\"ucs2\\\":case\\\"ucs-2\\\":case\\\"utf16le\\\":case\\\"utf-16le\\\":return B(this,t,r,e);default:if(o)throw new TypeError(\\\"Unknown encoding: \\\"+n);n=(\\\"\\\"+n).toLowerCase(),o=!0}},t.prototype.toJSON=function(){return{type:\\\"Buffer\\\",data:Array.prototype.slice.call(this._arr||this,0)}};var tt=4096;t.prototype.slice=function(r,e){var n=this.length;r=~~r,e=void 0===e?n:~~e,r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),e<r&&(e=r);var i;if(t.TYPED_ARRAY_SUPPORT)i=this.subarray(r,e),i.__proto__=t.prototype;else{var o=e-r;i=new t(o,(void 0));for(var a=0;a<o;++a)i[a]=this[a+r]}return i},t.prototype.readUIntLE=function(t,r,e){t=0|t,r=0|r,e||L(t,r,this.length);for(var n=this[t],i=1,o=0;++o<r&&(i*=256);)n+=this[t+o]*i;return n},t.prototype.readUIntBE=function(t,r,e){t=0|t,r=0|r,e||L(t,r,this.length);for(var n=this[t+--r],i=1;r>0&&(i*=256);)n+=this[t+--r]*i;return n},t.prototype.readUInt8=function(t,r){return r||L(t,1,this.length),this[t]},t.prototype.readUInt16LE=function(t,r){return r||L(t,2,this.length),this[t]|this[t+1]<<8},t.prototype.readUInt16BE=function(t,r){return r||L(t,2,this.length),this[t]<<8|this[t+1]},t.prototype.readUInt32LE=function(t,r){return r||L(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},t.prototype.readUInt32BE=function(t,r){return r||L(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},t.prototype.readIntLE=function(t,r,e){t=0|t,r=0|r,e||L(t,r,this.length);for(var n=this[t],i=1,o=0;++o<r&&(i*=256);)n+=this[t+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*r)),n},t.prototype.readIntBE=function(t,r,e){t=0|t,r=0|r,e||L(t,r,this.length);for(var n=r,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*r)),o},t.prototype.readInt8=function(t,r){return r||L(t,1,this.length),128&this[t]?(255-this[t]+1)*-1:this[t]},t.prototype.readInt16LE=function(t,r){r||L(t,2,this.length);var e=this[t]|this[t+1]<<8;return 32768&e?4294901760|e:e},t.prototype.readInt16BE=function(t,r){r||L(t,2,this.length);var e=this[t+1]|this[t]<<8;return 32768&e?4294901760|e:e},t.prototype.readInt32LE=function(t,r){return r||L(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},t.prototype.readInt32BE=function(t,r){return r||L(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},t.prototype.readFloatLE=function(t,r){return r||L(t,4,this.length),K.read(this,t,!0,23,4)},t.prototype.readFloatBE=function(t,r){return r||L(t,4,this.length),K.read(this,t,!1,23,4)},t.prototype.readDoubleLE=function(t,r){return r||L(t,8,this.length),K.read(this,t,!0,52,8)},t.prototype.readDoubleBE=function(t,r){return r||L(t,8,this.length),K.read(this,t,!1,52,8)},t.prototype.writeUIntLE=function(t,r,e,n){if(t=+t,r=0|r,e=0|e,!n){var i=Math.pow(2,8*e)-1;Y(this,t,r,e,i,0)}var o=1,a=0;for(this[r]=255&t;++a<e&&(o*=256);)this[r+a]=t/o&255;return r+e},t.prototype.writeUIntBE=function(t,r,e,n){if(t=+t,r=0|r,e=0|e,!n){var i=Math.pow(2,8*e)-1;Y(this,t,r,e,i,0)}var o=e-1,a=1;for(this[r+o]=255&t;--o>=0&&(a*=256);)this[r+o]=t/a&255;return r+e},t.prototype.writeUInt8=function(r,e,n){return r=+r,e=0|e,n||Y(this,r,e,1,255,0),t.TYPED_ARRAY_SUPPORT||(r=Math.floor(r)),this[e]=255&r,e+1},t.prototype.writeUInt16LE=function(r,e,n){return r=+r,e=0|e,n||Y(this,r,e,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[e]=255&r,this[e+1]=r>>>8):k(this,r,e,!0),e+2},t.prototype.writeUInt16BE=function(r,e,n){return r=+r,e=0|e,n||Y(this,r,e,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[e]=r>>>8,this[e+1]=255&r):k(this,r,e,!1),e+2},t.prototype.writeUInt32LE=function(r,e,n){return r=+r,e=0|e,n||Y(this,r,e,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[e+3]=r>>>24,this[e+2]=r>>>16,this[e+1]=r>>>8,this[e]=255&r):D(this,r,e,!0),e+4},t.prototype.writeUInt32BE=function(r,e,n){return r=+r,e=0|e,n||Y(this,r,e,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[e]=r>>>24,this[e+1]=r>>>16,this[e+2]=r>>>8,this[e+3]=255&r):D(this,r,e,!1),e+4},t.prototype.writeIntLE=function(t,r,e,n){if(t=+t,r=0|r,!n){var i=Math.pow(2,8*e-1);Y(this,t,r,e,i-1,-i)}var o=0,a=1,u=0;for(this[r]=255&t;++o<e&&(a*=256);)t<0&&0===u&&0!==this[r+o-1]&&(u=1),this[r+o]=(t/a>>0)-u&255;return r+e},t.prototype.writeIntBE=function(t,r,e,n){if(t=+t,r=0|r,!n){var i=Math.pow(2,8*e-1);Y(this,t,r,e,i-1,-i)}var o=e-1,a=1,u=0;for(this[r+o]=255&t;--o>=0&&(a*=256);)t<0&&0===u&&0!==this[r+o+1]&&(u=1),this[r+o]=(t/a>>0)-u&255;return r+e},t.prototype.writeInt8=function(r,e,n){return r=+r,e=0|e,n||Y(this,r,e,1,127,-128),t.TYPED_ARRAY_SUPPORT||(r=Math.floor(r)),r<0&&(r=255+r+1),this[e]=255&r,e+1},t.prototype.writeInt16LE=function(r,e,n){return r=+r,e=0|e,n||Y(this,r,e,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[e]=255&r,this[e+1]=r>>>8):k(this,r,e,!0),e+2},t.prototype.writeInt16BE=function(r,e,n){return r=+r,e=0|e,n||Y(this,r,e,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[e]=r>>>8,this[e+1]=255&r):k(this,r,e,!1),e+2},t.prototype.writeInt32LE=function(r,e,n){return r=+r,e=0|e,n||Y(this,r,e,4,2147483647,-2147483648),t.TYPED_ARRAY_SUPPORT?(this[e]=255&r,this[e+1]=r>>>8,this[e+2]=r>>>16,this[e+3]=r>>>24):D(this,r,e,!0),e+4},t.prototype.writeInt32BE=function(r,e,n){return r=+r,e=0|e,n||Y(this,r,e,4,2147483647,-2147483648),r<0&&(r=4294967295+r+1),t.TYPED_ARRAY_SUPPORT?(this[e]=r>>>24,this[e+1]=r>>>16,this[e+2]=r>>>8,this[e+3]=255&r):D(this,r,e,!1),e+4},t.prototype.writeFloatLE=function(t,r,e){return H(this,t,r,!0,e)},t.prototype.writeFloatBE=function(t,r,e){return H(this,t,r,!1,e)},t.prototype.writeDoubleLE=function(t,r,e){return N(this,t,r,!0,e)},t.prototype.writeDoubleBE=function(t,r,e){return N(this,t,r,!1,e)},t.prototype.copy=function(r,e,n,i){if(n||(n=0),i||0===i||(i=this.length),e>=r.length&&(e=r.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===r.length||0===this.length)return 0;if(e<0)throw new RangeError(\\\"targetStart out of bounds\\\");if(n<0||n>=this.length)throw new RangeError(\\\"sourceStart out of bounds\\\");if(i<0)throw new RangeError(\\\"sourceEnd out of bounds\\\");i>this.length&&(i=this.length),r.length-e<i-n&&(i=r.length-e+n);var o,a=i-n;if(this===r&&n<e&&e<i)for(o=a-1;o>=0;--o)r[o+e]=this[o+n];else if(a<1e3||!t.TYPED_ARRAY_SUPPORT)for(o=0;o<a;++o)r[o+e]=this[o+n];else Uint8Array.prototype.set.call(r,this.subarray(n,n+a),e);return a},t.prototype.fill=function(r,e,n,i){if(\\\"string\\\"==typeof r){if(\\\"string\\\"==typeof e?(i=e,e=0,n=this.length):\\\"string\\\"==typeof n&&(i=n,n=this.length),1===r.length){var o=r.charCodeAt(0);o<256&&(r=o)}if(void 0!==i&&\\\"string\\\"!=typeof i)throw new TypeError(\\\"encoding must be a string\\\");if(\\\"string\\\"==typeof i&&!t.isEncoding(i))throw new TypeError(\\\"Unknown encoding: \\\"+i)}else\\\"number\\\"==typeof r&&(r=255&r);if(e<0||this.length<e||this.length<n)throw new RangeError(\\\"Out of range index\\\");if(n<=e)return this;e>>>=0,n=void 0===n?this.length:n>>>0,r||(r=0);var a;if(\\\"number\\\"==typeof r)for(a=e;a<n;++a)this[a]=r;else{var u=t.isBuffer(r)?r:z(new t(r,i).toString()),f=u.length;for(a=0;a<n-e;++a)this[a+e]=u[a%f]}return this};var rt=/[^+\\\\/0-9A-Za-z-_]/g}).call(r,e(1).Buffer,function(){return this}())},function(t,r){function e(){for(var t={},r=0;r<arguments.length;r++){var e=arguments[r];for(var i in e)n.call(e,i)&&(t[i]=e[i])}return t}t.exports=e;var n=Object.prototype.hasOwnProperty},function(t,r){t.exports=function(t){switch(t){case\\\"int8\\\":return Int8Array;case\\\"int16\\\":return Int16Array;case\\\"int32\\\":return Int32Array;case\\\"uint8\\\":return Uint8Array;case\\\"uint16\\\":return Uint16Array;case\\\"uint32\\\":return Uint32Array;case\\\"float32\\\":return Float32Array;case\\\"float64\\\":return Float64Array;case\\\"array\\\":return Array;case\\\"uint8_clamped\\\":return Uint8ClampedArray}}},function(t,r){r.read=function(t,r,e,n,i){var o,a,u=8*i-n-1,f=(1<<u)-1,s=f>>1,h=-7,c=e?i-1:0,l=e?-1:1,p=t[r+c];for(c+=l,o=p&(1<<-h)-1,p>>=-h,h+=u;h>0;o=256*o+t[r+c],c+=l,h-=8);for(a=o&(1<<-h)-1,o>>=-h,h+=n;h>0;a=256*a+t[r+c],c+=l,h-=8);if(0===o)o=1-s;else{if(o===f)return a?NaN:(p?-1:1)*(1/0);a+=Math.pow(2,n),o-=s}return(p?-1:1)*a*Math.pow(2,o-n)},r.write=function(t,r,e,n,i,o){var a,u,f,s=8*o-i-1,h=(1<<s)-1,c=h>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,g=n?1:-1,d=r<0||0===r&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(u=isNaN(r)?1:0,a=h):(a=Math.floor(Math.log(r)/Math.LN2),r*(f=Math.pow(2,-a))<1&&(a--,f*=2),r+=a+c>=1?l/f:l*Math.pow(2,1-c),r*f>=2&&(a++,f/=2),a+c>=h?(u=0,a=h):a+c>=1?(u=(r*f-1)*Math.pow(2,i),a+=c):(u=r*Math.pow(2,c-1)*Math.pow(2,i),a=0));i>=8;t[e+p]=255&u,p+=g,u/=256,i-=8);for(a=a<<i|u,s+=i;s>0;t[e+p]=255&a,p+=g,a/=256,s-=8);t[e+p-g]|=128*d}},function(t,r){function e(t){var r=n.call(t);return\\\"[object Function]\\\"===r||\\\"function\\\"==typeof t&&\\\"[object RegExp]\\\"!==r||\\\"undefined\\\"!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}t.exports=e;var n=Object.prototype.toString},function(t,r){\\\"use strict\\\";function e(t){if(null===t||void 0===t)throw new TypeError(\\\"Object.assign cannot be called with null or undefined\\\");return Object(t)}function n(){try{if(!Object.assign)return!1;var t=new String(\\\"abc\\\");if(t[5]=\\\"de\\\",\\\"5\\\"===Object.getOwnPropertyNames(t)[0])return!1;for(var r={},e=0;e<10;e++)r[\\\"_\\\"+String.fromCharCode(e)]=e;var n=Object.getOwnPropertyNames(r).map(function(t){return r[t]});if(\\\"0123456789\\\"!==n.join(\\\"\\\"))return!1;var i={};return\\\"abcdefghijklmnopqrst\\\".split(\\\"\\\").forEach(function(t){i[t]=t}),\\\"abcdefghijklmnopqrst\\\"===Object.keys(Object.assign({},i)).join(\\\"\\\")}catch(o){return!1}}var i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;t.exports=n()?Object.assign:function(t,r){for(var n,a,u=e(t),f=1;f<arguments.length;f++){n=Object(arguments[f]);for(var s in n)i.call(n,s)&&(u[s]=n[s]);if(Object.getOwnPropertySymbols){a=Object.getOwnPropertySymbols(n);for(var h=0;h<a.length;h++)o.call(n,a[h])&&(u[a[h]]=n[a[h]])}}return u}},function(t,r){var e=AFRAME.utils.extendDeep,n=AFRAME.primitives.getMeshMixin();AFRAME.registerPrimitive(\\\"a-text\\\",e({},n,{defaultComponents:{\\\"bmfont-text\\\":{}},mappings:{text:\\\"bmfont-text.text\\\",width:\\\"bmfont-text.width\\\",align:\\\"bmfont-text.align\\\",letterSpacing:\\\"bmfont-text.letterSpacing\\\",lineHeight:\\\"bmfont-text.lineHeight\\\",fnt:\\\"bmfont-text.fnt\\\",fntImage:\\\"bmfont-text.fntImage\\\",mode:\\\"bmfont-text.mode\\\",color:\\\"bmfont-text.color\\\",opacity:\\\"bmfont-text.opacity\\\"}}))},function(t,r,e){var n=e(6);t.exports=function(t){t=t||{};var r=\\\"number\\\"==typeof t.opacity?t.opacity:1,e=\\\"number\\\"==typeof t.alphaTest?t.alphaTest:1e-4,i=t.precision||\\\"highp\\\",o=t.color,a=t.map;return delete t.map,delete t.color,delete t.precision,delete t.opacity,n({uniforms:{opacity:{type:\\\"f\\\",value:r},map:{type:\\\"t\\\",value:a||new THREE.Texture},color:{type:\\\"c\\\",value:new THREE.Color(o)}},vertexShader:[\\\"attribute vec2 uv;\\\",\\\"attribute vec4 position;\\\",\\\"uniform mat4 projectionMatrix;\\\",\\\"uniform mat4 modelViewMatrix;\\\",\\\"varying vec2 vUv;\\\",\\\"void main() {\\\",\\\"vUv = uv;\\\",\\\"gl_Position = projectionMatrix * modelViewMatrix * position;\\\",\\\"}\\\"].join(\\\"\\\\n\\\"),fragmentShader:[\\\"#ifdef GL_OES_standard_derivatives\\\",\\\"#extension GL_OES_standard_derivatives : enable\\\",\\\"#endif\\\",\\\"precision \\\"+i+\\\" float;\\\",\\\"uniform float opacity;\\\",\\\"uniform vec3 color;\\\",\\\"uniform sampler2D map;\\\",\\\"varying vec2 vUv;\\\",\\\"float aastep(float value) {\\\",\\\"  #ifdef GL_OES_standard_derivatives\\\",\\\"    float afwidth = length(vec2(dFdx(value), dFdy(value))) * 0.70710678118654757;\\\",\\\"  #else\\\",\\\"    float afwidth = (1.0 / 32.0) * (1.4142135623730951 / (2.0 * gl_FragCoord.w));\\\",\\\"  #endif\\\",\\\"  return smoothstep(0.5 - afwidth, 0.5 + afwidth, value);\\\",\\\"}\\\",\\\"void main() {\\\",\\\"  vec4 texColor = texture2D(map, vUv);\\\",\\\"  float alpha = aastep(texColor.a);\\\",\\\"  gl_FragColor = vec4(color, opacity * alpha);\\\",0===e?\\\"\\\":\\\"  if (gl_FragColor.a < \\\"+e+\\\") discard;\\\",\\\"}\\\"].join(\\\"\\\\n\\\")},t)}},function(t,r){function e(t){return t.BYTES_PER_ELEMENT&&\\\"[object ArrayBuffer]\\\"===n.call(t.buffer)||Array.isArray(t)}var n=Object.prototype.toString;t.exports=e},function(t,r){t.exports=function(t,r){return\\\"number\\\"==typeof t?t:\\\"number\\\"==typeof r?r:0}},function(t,r){\\\"use strict\\\";function e(){for(var t=\\\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\\\",r=0,e=t.length;r<e;++r)u[r]=t[r],f[t.charCodeAt(r)]=r;f[\\\"-\\\".charCodeAt(0)]=62,f[\\\"_\\\".charCodeAt(0)]=63}function n(t){var r,e,n,i,o,a,u=t.length;if(u%4>0)throw new Error(\\\"Invalid string. Length must be a multiple of 4\\\");o=\\\"=\\\"===t[u-2]?2:\\\"=\\\"===t[u-1]?1:0,a=new s(3*u/4-o),n=o>0?u-4:u;var h=0;for(r=0,e=0;r<n;r+=4,e+=3)i=f[t.charCodeAt(r)]<<18|f[t.charCodeAt(r+1)]<<12|f[t.charCodeAt(r+2)]<<6|f[t.charCodeAt(r+3)],a[h++]=i>>16&255,a[h++]=i>>8&255,a[h++]=255&i;return 2===o?(i=f[t.charCodeAt(r)]<<2|f[t.charCodeAt(r+1)]>>4,a[h++]=255&i):1===o&&(i=f[t.charCodeAt(r)]<<10|f[t.charCodeAt(r+1)]<<4|f[t.charCodeAt(r+2)]>>2,a[h++]=i>>8&255,a[h++]=255&i),a}function i(t){return u[t>>18&63]+u[t>>12&63]+u[t>>6&63]+u[63&t]}function o(t,r,e){for(var n,o=[],a=r;a<e;a+=3)n=(t[a]<<16)+(t[a+1]<<8)+t[a+2],o.push(i(n));return o.join(\\\"\\\")}function a(t){for(var r,e=t.length,n=e%3,i=\\\"\\\",a=[],f=16383,s=0,h=e-n;s<h;s+=f)a.push(o(t,s,s+f>h?h:s+f));return 1===n?(r=t[e-1],i+=u[r>>2],i+=u[r<<4&63],i+=\\\"==\\\"):2===n&&(r=(t[e-2]<<8)+t[e-1],i+=u[r>>10],i+=u[r>>4&63],i+=u[r<<2&63],i+=\\\"=\\\"),a.push(i),a.join(\\\"\\\")}r.toByteArray=n,r.fromByteArray=a;var u=[],f=[],s=\\\"undefined\\\"!=typeof Uint8Array?Uint8Array:Array;e()},function(t,r,e){var n=e(13).Buffer;t.exports=function(t,r){if(n.isBuffer(t)&&n.isBuffer(r)){if(\\\"function\\\"==typeof t.equals)return t.equals(r);if(t.length!==r.length)return!1;for(var e=0;e<t.length;e++)if(t[e]!==r[e])return!1;return!0}}},function(t,r,e){(function(t,n){/*!\\r\\n\\t * The buffer module from node.js, for the browser.\\r\\n\\t *\\r\\n\\t * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\\r\\n\\t * @license  MIT\\r\\n\\t */\\r\\n\\\"use strict\\\";function i(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&\\\"function\\\"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(r){return!1}}function o(){return t.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(r,e){if(o()<e)throw new RangeError(\\\"Invalid typed array length\\\");return t.TYPED_ARRAY_SUPPORT?(r=new Uint8Array(e),r.__proto__=t.prototype):(null===r&&(r=new t(e)),r.length=e),r}function t(r,e,n){if(!(t.TYPED_ARRAY_SUPPORT||this instanceof t))return new t(r,e,n);if(\\\"number\\\"==typeof r){if(\\\"string\\\"==typeof e)throw new Error(\\\"If encoding is specified then the first argument must be a string\\\");return h(this,r)}return u(this,r,e,n)}function u(t,r,e,n){if(\\\"number\\\"==typeof r)throw new TypeError('\\\"value\\\" argument must not be a number');return\\\"undefined\\\"!=typeof ArrayBuffer&&r instanceof ArrayBuffer?p(t,r,e,n):\\\"string\\\"==typeof r?c(t,r,e):g(t,r)}function f(t){if(\\\"number\\\"!=typeof t)throw new TypeError('\\\"size\\\" argument must be a number');if(t<0)throw new RangeError('\\\"size\\\" argument must not be negative')}function s(t,r,e,n){return f(r),r<=0?a(t,r):void 0!==e?\\\"string\\\"==typeof n?a(t,r).fill(e,n):a(t,r).fill(e):a(t,r)}function h(r,e){if(f(e),r=a(r,e<0?0:0|d(e)),!t.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)r[n]=0;return r}function c(r,e,n){if(\\\"string\\\"==typeof n&&\\\"\\\"!==n||(n=\\\"utf8\\\"),!t.isEncoding(n))throw new TypeError('\\\"encoding\\\" must be a valid string encoding');var i=0|v(e,n);r=a(r,i);var o=r.write(e,n);return o!==i&&(r=r.slice(0,o)),r}function l(t,r){var e=r.length<0?0:0|d(r.length);t=a(t,e);for(var n=0;n<e;n+=1)t[n]=255&r[n];return t}function p(r,e,n,i){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError(\\\"'offset' is out of bounds\\\");if(e.byteLength<n+(i||0))throw new RangeError(\\\"'length' is out of bounds\\\");return e=void 0===n&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,n):new Uint8Array(e,n,i),t.TYPED_ARRAY_SUPPORT?(r=e,r.__proto__=t.prototype):r=l(r,e),r}function g(r,e){if(t.isBuffer(e)){var n=0|d(e.length);return r=a(r,n),0===r.length?r:(e.copy(r,0,0,n),r)}if(e){if(\\\"undefined\\\"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||\\\"length\\\"in e)return\\\"number\\\"!=typeof e.length||Z(e.length)?a(r,0):l(r,e);if(\\\"Buffer\\\"===e.type&&Q(e.data))return l(r,e.data)}throw new TypeError(\\\"First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.\\\")}function d(t){if(t>=o())throw new RangeError(\\\"Attempt to allocate Buffer larger than maximum size: 0x\\\"+o().toString(16)+\\\" bytes\\\");return 0|t}function y(r){return+r!=r&&(r=0),t.alloc(+r)}function v(r,e){if(t.isBuffer(r))return r.length;if(\\\"undefined\\\"!=typeof ArrayBuffer&&\\\"function\\\"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(r)||r instanceof ArrayBuffer))return r.byteLength;\\\"string\\\"!=typeof r&&(r=\\\"\\\"+r);var n=r.length;if(0===n)return 0;for(var i=!1;;)switch(e){case\\\"ascii\\\":case\\\"latin1\\\":case\\\"binary\\\":return n;case\\\"utf8\\\":case\\\"utf-8\\\":case void 0:return z(r).length;case\\\"ucs2\\\":case\\\"ucs-2\\\":case\\\"utf16le\\\":case\\\"utf-16le\\\":return 2*n;case\\\"hex\\\":return n>>>1;case\\\"base64\\\":return J(r).length;default:if(i)return z(r).length;e=(\\\"\\\"+e).toLowerCase(),i=!0}}function w(t,r,e){var n=!1;if((void 0===r||r<0)&&(r=0),r>this.length)return\\\"\\\";if((void 0===e||e>this.length)&&(e=this.length),e<=0)return\\\"\\\";if(e>>>=0,r>>>=0,e<=r)return\\\"\\\";for(t||(t=\\\"utf8\\\");;)switch(t){case\\\"hex\\\":return M(this,r,e);case\\\"utf8\\\":case\\\"utf-8\\\":return U(this,r,e);case\\\"ascii\\\":return I(this,r,e);case\\\"latin1\\\":case\\\"binary\\\":return O(this,r,e);case\\\"base64\\\":return S(this,r,e);case\\\"ucs2\\\":case\\\"ucs-2\\\":case\\\"utf16le\\\":case\\\"utf-16le\\\":return C(this,r,e);default:if(n)throw new TypeError(\\\"Unknown encoding: \\\"+t);t=(t+\\\"\\\").toLowerCase(),n=!0}}function m(t,r,e){var n=t[r];t[r]=t[e],t[e]=n}function b(r,e,n,i,o){if(0===r.length)return-1;if(\\\"string\\\"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:r.length-1),n<0&&(n=r.length+n),n>=r.length){if(o)return-1;n=r.length-1}else if(n<0){if(!o)return-1;n=0}if(\\\"string\\\"==typeof e&&(e=t.from(e,i)),t.isBuffer(e))return 0===e.length?-1:E(r,e,n,i,o);if(\\\"number\\\"==typeof e)return e=255&e,t.TYPED_ARRAY_SUPPORT&&\\\"function\\\"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(r,e,n):Uint8Array.prototype.lastIndexOf.call(r,e,n):E(r,[e],n,i,o);throw new TypeError(\\\"val must be string, number or Buffer\\\")}function E(t,r,e,n,i){function o(t,r){return 1===a?t[r]:t.readUInt16BE(r*a)}var a=1,u=t.length,f=r.length;if(void 0!==n&&(n=String(n).toLowerCase(),\\\"ucs2\\\"===n||\\\"ucs-2\\\"===n||\\\"utf16le\\\"===n||\\\"utf-16le\\\"===n)){if(t.length<2||r.length<2)return-1;a=2,u/=2,f/=2,e/=2}var s;if(i){var h=-1;for(s=e;s<u;s++)if(o(t,s)===o(r,h===-1?0:s-h)){if(h===-1&&(h=s),s-h+1===f)return h*a}else h!==-1&&(s-=s-h),h=-1}else for(e+f>u&&(e=u-f),s=e;s>=0;s--){for(var c=!0,l=0;l<f;l++)if(o(t,s+l)!==o(r,l)){c=!1;break}if(c)return s}return-1}function A(t,r,e,n){e=Number(e)||0;var i=t.length-e;n?(n=Number(n),n>i&&(n=i)):n=i;var o=r.length;if(o%2!==0)throw new TypeError(\\\"Invalid hex string\\\");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var u=parseInt(r.substr(2*a,2),16);if(isNaN(u))return a;t[e+a]=u}return a}function _(t,r,e,n){return W(z(r,t.length-e),t,e,n)}function R(t,r,e,n){return W(G(r),t,e,n)}function x(t,r,e,n){return R(t,r,e,n)}function T(t,r,e,n){return W(J(r),t,e,n)}function B(t,r,e,n){return W(V(r,t.length-e),t,e,n)}function S(t,r,e){return 0===r&&e===t.length?$.fromByteArray(t):$.fromByteArray(t.slice(r,e))}function U(t,r,e){e=Math.min(t.length,e);for(var n=[],i=r;i<e;){var o=t[i],a=null,u=o>239?4:o>223?3:o>191?2:1;if(i+u<=e){var f,s,h,c;switch(u){case 1:o<128&&(a=o);break;case 2:f=t[i+1],128===(192&f)&&(c=(31&o)<<6|63&f,c>127&&(a=c));break;case 3:f=t[i+1],s=t[i+2],128===(192&f)&&128===(192&s)&&(c=(15&o)<<12|(63&f)<<6|63&s,c>2047&&(c<55296||c>57343)&&(a=c));break;case 4:f=t[i+1],s=t[i+2],h=t[i+3],128===(192&f)&&128===(192&s)&&128===(192&h)&&(c=(15&o)<<18|(63&f)<<12|(63&s)<<6|63&h,c>65535&&c<1114112&&(a=c))}}null===a?(a=65533,u=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),i+=u}return P(n)}function P(t){var r=t.length;if(r<=tt)return String.fromCharCode.apply(String,t);for(var e=\\\"\\\",n=0;n<r;)e+=String.fromCharCode.apply(String,t.slice(n,n+=tt));return e}function I(t,r,e){var n=\\\"\\\";e=Math.min(t.length,e);for(var i=r;i<e;++i)n+=String.fromCharCode(127&t[i]);return n}function O(t,r,e){var n=\\\"\\\";e=Math.min(t.length,e);for(var i=r;i<e;++i)n+=String.fromCharCode(t[i]);return n}function M(t,r,e){var n=t.length;(!r||r<0)&&(r=0),(!e||e<0||e>n)&&(e=n);for(var i=\\\"\\\",o=r;o<e;++o)i+=q(t[o]);return i}function C(t,r,e){for(var n=t.slice(r,e),i=\\\"\\\",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function L(t,r,e){if(t%1!==0||t<0)throw new RangeError(\\\"offset is not uint\\\");if(t+r>e)throw new RangeError(\\\"Trying to access beyond buffer length\\\")}function Y(r,e,n,i,o,a){if(!t.isBuffer(r))throw new TypeError('\\\"buffer\\\" argument must be a Buffer instance');if(e>o||e<a)throw new RangeError('\\\"value\\\" argument is out of bounds');if(n+i>r.length)throw new RangeError(\\\"Index out of range\\\")}function k(t,r,e,n){r<0&&(r=65535+r+1);for(var i=0,o=Math.min(t.length-e,2);i<o;++i)t[e+i]=(r&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function D(t,r,e,n){r<0&&(r=4294967295+r+1);for(var i=0,o=Math.min(t.length-e,4);i<o;++i)t[e+i]=r>>>8*(n?i:3-i)&255}function j(t,r,e,n,i,o){if(e+n>t.length)throw new RangeError(\\\"Index out of range\\\");if(e<0)throw new RangeError(\\\"Index out of range\\\")}function H(t,r,e,n,i){return i||j(t,r,e,4,3.4028234663852886e38,-3.4028234663852886e38),K.write(t,r,e,n,23,4),e+4}function N(t,r,e,n,i){return i||j(t,r,e,8,1.7976931348623157e308,-1.7976931348623157e308),K.write(t,r,e,n,52,8),e+8}function F(t){if(t=X(t).replace(rt,\\\"\\\"),t.length<2)return\\\"\\\";for(;t.length%4!==0;)t+=\\\"=\\\";return t}function X(t){return t.trim?t.trim():t.replace(/^\\\\s+|\\\\s+$/g,\\\"\\\")}function q(t){return t<16?\\\"0\\\"+t.toString(16):t.toString(16)}function z(t,r){r=r||1/0;for(var e,n=t.length,i=null,o=[],a=0;a<n;++a){if(e=t.charCodeAt(a),e>55295&&e<57344){if(!i){if(e>56319){(r-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(r-=3)>-1&&o.push(239,191,189);continue}i=e;continue}if(e<56320){(r-=3)>-1&&o.push(239,191,189),i=e;continue}e=(i-55296<<10|e-56320)+65536}else i&&(r-=3)>-1&&o.push(239,191,189);if(i=null,e<128){if((r-=1)<0)break;o.push(e)}else if(e<2048){if((r-=2)<0)break;o.push(e>>6|192,63&e|128)}else if(e<65536){if((r-=3)<0)break;o.push(e>>12|224,e>>6&63|128,63&e|128)}else{if(!(e<1114112))throw new Error(\\\"Invalid code point\\\");if((r-=4)<0)break;o.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}}return o}function G(t){for(var r=[],e=0;e<t.length;++e)r.push(255&t.charCodeAt(e));return r}function V(t,r){for(var e,n,i,o=[],a=0;a<t.length&&!((r-=2)<0);++a)e=t.charCodeAt(a),n=e>>8,i=e%256,o.push(i),o.push(n);return o}function J(t){return $.toByteArray(F(t))}function W(t,r,e,n){for(var i=0;i<n&&!(i+e>=r.length||i>=t.length);++i)r[i+e]=t[i];return i}function Z(t){return t!==t}var $=e(11),K=e(4),Q=e(14);r.Buffer=t,r.SlowBuffer=y,r.INSPECT_MAX_BYTES=50,t.TYPED_ARRAY_SUPPORT=void 0!==n.TYPED_ARRAY_SUPPORT?n.TYPED_ARRAY_SUPPORT:i(),r.kMaxLength=o(),t.poolSize=8192,t._augment=function(r){return r.__proto__=t.prototype,r},t.from=function(t,r,e){return u(null,t,r,e)},t.TYPED_ARRAY_SUPPORT&&(t.prototype.__proto__=Uint8Array.prototype,t.__proto__=Uint8Array,\\\"undefined\\\"!=typeof Symbol&&Symbol.species&&t[Symbol.species]===t&&Object.defineProperty(t,Symbol.species,{value:null,configurable:!0})),t.alloc=function(t,r,e){return s(null,t,r,e)},t.allocUnsafe=function(t){return h(null,t)},t.allocUnsafeSlow=function(t){return h(null,t)},t.isBuffer=function(t){return!(null==t||!t._isBuffer)},t.compare=function(r,e){if(!t.isBuffer(r)||!t.isBuffer(e))throw new TypeError(\\\"Arguments must be Buffers\\\");if(r===e)return 0;for(var n=r.length,i=e.length,o=0,a=Math.min(n,i);o<a;++o)if(r[o]!==e[o]){n=r[o],i=e[o];break}return n<i?-1:i<n?1:0},t.isEncoding=function(t){switch(String(t).toLowerCase()){case\\\"hex\\\":case\\\"utf8\\\":case\\\"utf-8\\\":case\\\"ascii\\\":case\\\"latin1\\\":case\\\"binary\\\":case\\\"base64\\\":case\\\"ucs2\\\":case\\\"ucs-2\\\":case\\\"utf16le\\\":case\\\"utf-16le\\\":return!0;default:return!1}},t.concat=function(r,e){if(!Q(r))throw new TypeError('\\\"list\\\" argument must be an Array of Buffers');if(0===r.length)return t.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<r.length;++n)e+=r[n].length;var i=t.allocUnsafe(e),o=0;for(n=0;n<r.length;++n){var a=r[n];if(!t.isBuffer(a))throw new TypeError('\\\"list\\\" argument must be an Array of Buffers');a.copy(i,o),o+=a.length}return i},t.byteLength=v,t.prototype._isBuffer=!0,t.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError(\\\"Buffer size must be a multiple of 16-bits\\\");for(var r=0;r<t;r+=2)m(this,r,r+1);return this},t.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError(\\\"Buffer size must be a multiple of 32-bits\\\");for(var r=0;r<t;r+=4)m(this,r,r+3),m(this,r+1,r+2);return this},t.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError(\\\"Buffer size must be a multiple of 64-bits\\\");for(var r=0;r<t;r+=8)m(this,r,r+7),m(this,r+1,r+6),m(this,r+2,r+5),m(this,r+3,r+4);return this},t.prototype.toString=function(){var t=0|this.length;return 0===t?\\\"\\\":0===arguments.length?U(this,0,t):w.apply(this,arguments)},t.prototype.equals=function(r){if(!t.isBuffer(r))throw new TypeError(\\\"Argument must be a Buffer\\\");return this===r||0===t.compare(this,r)},t.prototype.inspect=function(){var t=\\\"\\\",e=r.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString(\\\"hex\\\",0,e).match(/.{2}/g).join(\\\" \\\"),this.length>e&&(t+=\\\" ... \\\")),\\\"<Buffer \\\"+t+\\\">\\\"},t.prototype.compare=function(r,e,n,i,o){if(!t.isBuffer(r))throw new TypeError(\\\"Argument must be a Buffer\\\");if(void 0===e&&(e=0),void 0===n&&(n=r?r.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),e<0||n>r.length||i<0||o>this.length)throw new RangeError(\\\"out of range index\\\");if(i>=o&&e>=n)return 0;if(i>=o)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,i>>>=0,o>>>=0,this===r)return 0;for(var a=o-i,u=n-e,f=Math.min(a,u),s=this.slice(i,o),h=r.slice(e,n),c=0;c<f;++c)if(s[c]!==h[c]){a=s[c],u=h[c];break}return a<u?-1:u<a?1:0},t.prototype.includes=function(t,r,e){return this.indexOf(t,r,e)!==-1},t.prototype.indexOf=function(t,r,e){return b(this,t,r,e,!0)},t.prototype.lastIndexOf=function(t,r,e){return b(this,t,r,e,!1)},t.prototype.write=function(t,r,e,n){if(void 0===r)n=\\\"utf8\\\",e=this.length,r=0;else if(void 0===e&&\\\"string\\\"==typeof r)n=r,e=this.length,r=0;else{if(!isFinite(r))throw new Error(\\\"Buffer.write(string, encoding, offset[, length]) is no longer supported\\\");r=0|r,isFinite(e)?(e=0|e,void 0===n&&(n=\\\"utf8\\\")):(n=e,e=void 0)}var i=this.length-r;if((void 0===e||e>i)&&(e=i),t.length>0&&(e<0||r<0)||r>this.length)throw new RangeError(\\\"Attempt to write outside buffer bounds\\\");n||(n=\\\"utf8\\\");for(var o=!1;;)switch(n){case\\\"hex\\\":return A(this,t,r,e);case\\\"utf8\\\":case\\\"utf-8\\\":return _(this,t,r,e);case\\\"ascii\\\":return R(this,t,r,e);case\\\"latin1\\\":case\\\"binary\\\":return x(this,t,r,e);case\\\"base64\\\":return T(this,t,r,e);case\\\"ucs2\\\":case\\\"ucs-2\\\":case\\\"utf16le\\\":case\\\"utf-16le\\\":return B(this,t,r,e);default:if(o)throw new TypeError(\\\"Unknown encoding: \\\"+n);n=(\\\"\\\"+n).toLowerCase(),o=!0}},t.prototype.toJSON=function(){return{type:\\\"Buffer\\\",data:Array.prototype.slice.call(this._arr||this,0)}};var tt=4096;t.prototype.slice=function(r,e){var n=this.length;r=~~r,e=void 0===e?n:~~e,r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),e<r&&(e=r);var i;if(t.TYPED_ARRAY_SUPPORT)i=this.subarray(r,e),i.__proto__=t.prototype;else{var o=e-r;i=new t(o,(void 0));for(var a=0;a<o;++a)i[a]=this[a+r]}return i},t.prototype.readUIntLE=function(t,r,e){t=0|t,r=0|r,e||L(t,r,this.length);for(var n=this[t],i=1,o=0;++o<r&&(i*=256);)n+=this[t+o]*i;return n},t.prototype.readUIntBE=function(t,r,e){t=0|t,r=0|r,e||L(t,r,this.length);for(var n=this[t+--r],i=1;r>0&&(i*=256);)n+=this[t+--r]*i;return n},t.prototype.readUInt8=function(t,r){return r||L(t,1,this.length),this[t]},t.prototype.readUInt16LE=function(t,r){return r||L(t,2,this.length),this[t]|this[t+1]<<8},t.prototype.readUInt16BE=function(t,r){return r||L(t,2,this.length),this[t]<<8|this[t+1]},t.prototype.readUInt32LE=function(t,r){return r||L(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},t.prototype.readUInt32BE=function(t,r){return r||L(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},t.prototype.readIntLE=function(t,r,e){t=0|t,r=0|r,e||L(t,r,this.length);for(var n=this[t],i=1,o=0;++o<r&&(i*=256);)n+=this[t+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*r)),n},t.prototype.readIntBE=function(t,r,e){t=0|t,r=0|r,e||L(t,r,this.length);for(var n=r,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*r)),o},t.prototype.readInt8=function(t,r){return r||L(t,1,this.length),128&this[t]?(255-this[t]+1)*-1:this[t]},t.prototype.readInt16LE=function(t,r){r||L(t,2,this.length);var e=this[t]|this[t+1]<<8;return 32768&e?4294901760|e:e},t.prototype.readInt16BE=function(t,r){r||L(t,2,this.length);var e=this[t+1]|this[t]<<8;return 32768&e?4294901760|e:e},t.prototype.readInt32LE=function(t,r){return r||L(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},t.prototype.readInt32BE=function(t,r){return r||L(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},t.prototype.readFloatLE=function(t,r){return r||L(t,4,this.length),K.read(this,t,!0,23,4)},t.prototype.readFloatBE=function(t,r){return r||L(t,4,this.length),K.read(this,t,!1,23,4)},t.prototype.readDoubleLE=function(t,r){return r||L(t,8,this.length),K.read(this,t,!0,52,8)},t.prototype.readDoubleBE=function(t,r){return r||L(t,8,this.length),K.read(this,t,!1,52,8)},t.prototype.writeUIntLE=function(t,r,e,n){if(t=+t,r=0|r,e=0|e,!n){var i=Math.pow(2,8*e)-1;Y(this,t,r,e,i,0)}var o=1,a=0;for(this[r]=255&t;++a<e&&(o*=256);)this[r+a]=t/o&255;return r+e},t.prototype.writeUIntBE=function(t,r,e,n){if(t=+t,r=0|r,e=0|e,!n){var i=Math.pow(2,8*e)-1;Y(this,t,r,e,i,0)}var o=e-1,a=1;for(this[r+o]=255&t;--o>=0&&(a*=256);)this[r+o]=t/a&255;return r+e},t.prototype.writeUInt8=function(r,e,n){return r=+r,e=0|e,n||Y(this,r,e,1,255,0),t.TYPED_ARRAY_SUPPORT||(r=Math.floor(r)),this[e]=255&r,e+1},t.prototype.writeUInt16LE=function(r,e,n){return r=+r,e=0|e,n||Y(this,r,e,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[e]=255&r,this[e+1]=r>>>8):k(this,r,e,!0),e+2},t.prototype.writeUInt16BE=function(r,e,n){return r=+r,e=0|e,n||Y(this,r,e,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[e]=r>>>8,this[e+1]=255&r):k(this,r,e,!1),e+2},t.prototype.writeUInt32LE=function(r,e,n){return r=+r,e=0|e,n||Y(this,r,e,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[e+3]=r>>>24,this[e+2]=r>>>16,this[e+1]=r>>>8,this[e]=255&r):D(this,r,e,!0),e+4},t.prototype.writeUInt32BE=function(r,e,n){return r=+r,e=0|e,n||Y(this,r,e,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[e]=r>>>24,this[e+1]=r>>>16,this[e+2]=r>>>8,this[e+3]=255&r):D(this,r,e,!1),e+4},t.prototype.writeIntLE=function(t,r,e,n){if(t=+t,r=0|r,!n){var i=Math.pow(2,8*e-1);Y(this,t,r,e,i-1,-i)}var o=0,a=1,u=0;for(this[r]=255&t;++o<e&&(a*=256);)t<0&&0===u&&0!==this[r+o-1]&&(u=1),this[r+o]=(t/a>>0)-u&255;return r+e},t.prototype.writeIntBE=function(t,r,e,n){if(t=+t,r=0|r,!n){var i=Math.pow(2,8*e-1);Y(this,t,r,e,i-1,-i)}var o=e-1,a=1,u=0;for(this[r+o]=255&t;--o>=0&&(a*=256);)t<0&&0===u&&0!==this[r+o+1]&&(u=1),this[r+o]=(t/a>>0)-u&255;return r+e},t.prototype.writeInt8=function(r,e,n){return r=+r,e=0|e,n||Y(this,r,e,1,127,-128),t.TYPED_ARRAY_SUPPORT||(r=Math.floor(r)),r<0&&(r=255+r+1),this[e]=255&r,e+1},t.prototype.writeInt16LE=function(r,e,n){return r=+r,e=0|e,n||Y(this,r,e,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[e]=255&r,this[e+1]=r>>>8):k(this,r,e,!0),e+2},t.prototype.writeInt16BE=function(r,e,n){return r=+r,e=0|e,n||Y(this,r,e,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[e]=r>>>8,this[e+1]=255&r):k(this,r,e,!1),e+2},t.prototype.writeInt32LE=function(r,e,n){return r=+r,e=0|e,n||Y(this,r,e,4,2147483647,-2147483648),t.TYPED_ARRAY_SUPPORT?(this[e]=255&r,this[e+1]=r>>>8,this[e+2]=r>>>16,this[e+3]=r>>>24):D(this,r,e,!0),e+4},t.prototype.writeInt32BE=function(r,e,n){return r=+r,e=0|e,n||Y(this,r,e,4,2147483647,-2147483648),r<0&&(r=4294967295+r+1),t.TYPED_ARRAY_SUPPORT?(this[e]=r>>>24,this[e+1]=r>>>16,this[e+2]=r>>>8,this[e+3]=255&r):D(this,r,e,!1),e+4},t.prototype.writeFloatLE=function(t,r,e){return H(this,t,r,!0,e)},t.prototype.writeFloatBE=function(t,r,e){return H(this,t,r,!1,e)},t.prototype.writeDoubleLE=function(t,r,e){return N(this,t,r,!0,e)},t.prototype.writeDoubleBE=function(t,r,e){return N(this,t,r,!1,e)},t.prototype.copy=function(r,e,n,i){if(n||(n=0),i||0===i||(i=this.length),e>=r.length&&(e=r.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===r.length||0===this.length)return 0;if(e<0)throw new RangeError(\\\"targetStart out of bounds\\\");if(n<0||n>=this.length)throw new RangeError(\\\"sourceStart out of bounds\\\");if(i<0)throw new RangeError(\\\"sourceEnd out of bounds\\\");i>this.length&&(i=this.length),r.length-e<i-n&&(i=r.length-e+n);var o,a=i-n;if(this===r&&n<e&&e<i)for(o=a-1;o>=0;--o)r[o+e]=this[o+n];else if(a<1e3||!t.TYPED_ARRAY_SUPPORT)for(o=0;o<a;++o)r[o+e]=this[o+n];else Uint8Array.prototype.set.call(r,this.subarray(n,n+a),e);return a},t.prototype.fill=function(r,e,n,i){if(\\\"string\\\"==typeof r){if(\\\"string\\\"==typeof e?(i=e,e=0,n=this.length):\\\"string\\\"==typeof n&&(i=n,n=this.length),1===r.length){var o=r.charCodeAt(0);o<256&&(r=o)}if(void 0!==i&&\\\"string\\\"!=typeof i)throw new TypeError(\\\"encoding must be a string\\\");if(\\\"string\\\"==typeof i&&!t.isEncoding(i))throw new TypeError(\\\"Unknown encoding: \\\"+i)}else\\\"number\\\"==typeof r&&(r=255&r);if(e<0||this.length<e||this.length<n)throw new RangeError(\\\"Out of range index\\\");if(n<=e)return this;e>>>=0,n=void 0===n?this.length:n>>>0,r||(r=0);var a;if(\\\"number\\\"==typeof r)for(a=e;a<n;++a)this[a]=r;else{var u=t.isBuffer(r)?r:z(new t(r,i).toString()),f=u.length;for(a=0;a<n-e;++a)this[a+e]=u[a%f]}return this};var rt=/[^+\\\\/0-9A-Za-z-_]/g}).call(r,e(1).Buffer,function(){return this}())},function(t,r){var e={}.toString;t.exports=Array.isArray||function(t){return\\\"[object Array]\\\"==e.call(t)}},function(t,r,e){function n(t,r,e){if(!t)throw new TypeError(\\\"must specify data as first parameter\\\");if(e=0|+(e||0),Array.isArray(t)&&Array.isArray(t[0])){var n=t[0].length,o=t.length*n;r&&\\\"string\\\"!=typeof r||(r=new(i(r||\\\"float32\\\"))(o+e));var a=r.length-e;if(o!==a)throw new Error(\\\"source length \\\"+o+\\\" (\\\"+n+\\\"x\\\"+t.length+\\\") does not match destination length \\\"+a);for(var u=0,f=e;u<t.length;u++)for(var s=0;s<n;s++)r[f++]=t[u][s]}else if(r&&\\\"string\\\"!=typeof r)r.set(t,e);else{var h=i(r||\\\"float32\\\");0===e?r=new h(t):(r=new h(t.length+e),r.set(t,e))}return r}var i=e(3);t.exports=n},function(t,r,e){function n(t,r,e){if(!u(r))throw new TypeError(\\\"iterator must be a function\\\");arguments.length<3&&(e=this),\\\"[object Array]\\\"===f.call(t)?i(t,r,e):\\\"string\\\"==typeof t?o(t,r,e):a(t,r,e)}function i(t,r,e){for(var n=0,i=t.length;n<i;n++)s.call(t,n)&&r.call(e,t[n],n,t)}function o(t,r,e){for(var n=0,i=t.length;n<i;n++)r.call(e,t.charAt(n),n,t)}function a(t,r,e){for(var n in t)s.call(t,n)&&r.call(e,t[n],n,t)}var u=e(5);t.exports=n;var f=Object.prototype.toString,s=Object.prototype.hasOwnProperty},function(t,r){(function(r){\\\"undefined\\\"!=typeof window?t.exports=window:\\\"undefined\\\"!=typeof r?t.exports=r:\\\"undefined\\\"!=typeof self?t.exports=self:t.exports={}}).call(r,function(){return this}())},function(t,r){t.exports=function(t){if(!t||\\\"string\\\"!=typeof t)throw new Error(\\\"must specify property for indexof search\\\");return new Function(\\\"array\\\",\\\"value\\\",\\\"start\\\",[\\\"start = start || 0\\\",\\\"for (var i=start; i<array.length; i++)\\\",'  if (array[i][\\\"'+t+'\\\"] === value)',\\\"      return i\\\",\\\"return -1\\\"].join(\\\"\\\\n\\\"))}},function(t,r){\\\"function\\\"==typeof Object.create?t.exports=function(t,r){t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,r){t.super_=r;var e=function(){};e.prototype=r.prototype,t.prototype=new e,t.prototype.constructor=t}},function(t,r){t.exports=function(t){return!(null==t||!(t._isBuffer||t.constructor&&\\\"function\\\"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)))}},function(t,r,e){function n(t){this.glyphs=[],this._measure=this.computeMetrics.bind(this),this.update(t)}function i(t){Object.defineProperty(n.prototype,t,{get:o(t),configurable:!0})}function o(t){return new Function([\\\"return function \\\"+t+\\\"() {\\\",\\\"  return this._\\\"+t,\\\"}\\\"].join(\\\"\\\\n\\\"))()}function a(t,r){if(!t.chars||0===t.chars.length)return null;var e=g(t.chars,r);return e>=0?t.chars[e]:null}function u(t){for(var r=0;r<y.length;r++){var e=y[r].charCodeAt(0),n=g(t.chars,e);if(n>=0)return t.chars[n].height}return 0}function f(t){for(var r=0;r<v.length;r++){var e=v[r].charCodeAt(0),n=g(t.chars,e);if(n>=0)return t.chars[n]}return 0}function s(t){for(var r=0;r<w.length;r++){var e=w[r].charCodeAt(0),n=g(t.chars,e);if(n>=0)return t.chars[n].height}return 0}function h(t,r,e){if(!t.kernings||0===t.kernings.length)return 0;for(var n=t.kernings,i=0;i<n.length;i++){var o=n[i];if(o.first===r&&o.second===e)return o.amount}return 0}function c(t){return\\\"center\\\"===t?A:\\\"right\\\"===t?_:E}var l=e(38),p=e(2),g=e(18)(\\\"id\\\"),d=e(10),y=[\\\"x\\\",\\\"e\\\",\\\"a\\\",\\\"o\\\",\\\"n\\\",\\\"s\\\",\\\"r\\\",\\\"c\\\",\\\"u\\\",\\\"m\\\",\\\"v\\\",\\\"w\\\",\\\"z\\\"],v=[\\\"m\\\",\\\"w\\\"],w=[\\\"H\\\",\\\"I\\\",\\\"N\\\",\\\"E\\\",\\\"F\\\",\\\"K\\\",\\\"L\\\",\\\"T\\\",\\\"U\\\",\\\"V\\\",\\\"W\\\",\\\"X\\\",\\\"Y\\\",\\\"Z\\\"],m=\\\"\\\\t\\\".charCodeAt(0),b=\\\" \\\".charCodeAt(0),E=0,A=1,_=2;t.exports=function(t){return new n(t)},n.prototype.update=function(t){if(t=p({measure:this._measure},t),this._opt=t,this._opt.tabSize=d(this._opt.tabSize,4),!t.font)throw new Error(\\\"must provide a valid bitmap font\\\");var r=this.glyphs,e=t.text||\\\"\\\",n=t.font;this._setupSpaceGlyphs(n);var i=l.lines(e,t),o=t.width||0;r.length=0;var a=i.reduce(function(t,r){return Math.max(t,r.width,o)},0),f=0,g=0,y=d(t.lineHeight,n.common.lineHeight),v=n.common.base,w=y-v,m=t.letterSpacing||0,b=y*i.length-w,E=c(this._opt.align);g-=b,this._width=a,this._height=b,this._descender=y-v,this._baseline=v,this._xHeight=u(n),this._capHeight=s(n),this._lineHeight=y,this._ascender=y-w-this._xHeight;var R=this;i.forEach(function(t,i){for(var o,u=t.start,s=t.end,c=t.width,l=u;l<s;l++){var p=e.charCodeAt(l),d=R.getGlyph(n,p);if(d){o&&(f+=h(n,o.id,d.id));var v=f;E===A?v+=(a-c)/2:E===_&&(v+=a-c),r.push({position:[v,g],data:d,index:l,line:i}),f+=d.xadvance+m,o=d}}g+=y,f=0}),this._linesTotal=i.length},n.prototype._setupSpaceGlyphs=function(t){if(this._fallbackSpaceGlyph=null,this._fallbackTabGlyph=null,t.chars&&0!==t.chars.length){var r=a(t,b)||f(t)||t.chars[0],e=this._opt.tabSize*r.xadvance;this._fallbackSpaceGlyph=r,this._fallbackTabGlyph=p(r,{x:0,y:0,xadvance:e,id:m,xoffset:0,yoffset:0,width:0,height:0})}},n.prototype.getGlyph=function(t,r){var e=a(t,r);return e?e:r===m?this._fallbackTabGlyph:r===b?this._fallbackSpaceGlyph:null},n.prototype.computeMetrics=function(t,r,e,n){var i,o,a=this._opt.letterSpacing||0,u=this._opt.font,f=0,s=0,c=0;if(!u.chars||0===u.chars.length)return{start:r,end:r,width:0};e=Math.min(t.length,e);for(var l=r;l<e;l++){var p=t.charCodeAt(l),i=this.getGlyph(u,p);if(i){var g=(i.xoffset,o?h(u,o.id,i.id):0);f+=g;var d=f+i.xadvance+a,y=f+i.width;if(y>=n||d>=n)break;f=d,s=y,o=i}c++}return o&&(s+=o.xoffset),{start:r,end:r+c,width:s}},[\\\"width\\\",\\\"height\\\",\\\"descender\\\",\\\"ascender\\\",\\\"xHeight\\\",\\\"baseline\\\",\\\"capHeight\\\",\\\"lineHeight\\\"].forEach(i)},function(t,r,e){(function(r){function n(t){var r=Object.prototype.toString;return\\\"[object ArrayBuffer]\\\"===r.call(t)}function i(t){if(l)return c(t,{responseType:\\\"arraybuffer\\\"});if(\\\"undefined\\\"==typeof window.XMLHttpRequest)throw new Error(\\\"your browser does not support XHR loading\\\");var r=new window.XMLHttpRequest;return r.overrideMimeType(\\\"text/plain; charset=x-user-defined\\\"),c({xhr:r},t)}var o=e(39),a=function(){},u=e(27),f=e(29),s=e(28),h=e(23),c=e(2),l=function(){return window.XMLHttpRequest&&\\\"withCredentials\\\"in new XMLHttpRequest}();t.exports=function(t,e){e=\\\"function\\\"==typeof e?e:a,\\\"string\\\"==typeof t?t={uri:t}:t||(t={});var c=t.binary;c&&(t=i(t)),o(t,function(i,o,c){if(i)return e(i);if(!/^2/.test(o.statusCode))return e(new Error(\\\"http status code: \\\"+o.statusCode));if(!c)return e(new Error(\\\"no body result\\\"));var l=!1;if(n(c)){var p=new Uint8Array(c);c=new r(p,\\\"binary\\\")}h(c)&&(l=!0,\\\"string\\\"==typeof c&&(c=new r(c,\\\"binary\\\"))),l||(r.isBuffer(c)&&(c=c.toString(t.encoding)),c=c.trim());var g;try{var d=o.headers[\\\"content-type\\\"];g=l?s(c):/json/.test(d)||\\\"{\\\"===c.charAt(0)?JSON.parse(c):/xml/.test(d)||\\\"<\\\"===c.charAt(0)?f(c):u(c)}catch(y){e(new Error(\\\"error parsing font \\\"+y.message)),e=a}e(null,g)})}}).call(r,e(1).Buffer)},function(t,r,e){(function(r){var n=e(12),i=new r([66,77,70,3]);t.exports=function(t){return\\\"string\\\"==typeof t?\\\"BMF\\\"===t.substring(0,3):t.length>4&&n(t.slice(0,4),i)}}).call(r,e(1).Buffer)},function(t,r){\\\"use strict\\\";function e(){for(var t=\\\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\\\",r=0,e=t.length;r<e;++r)u[r]=t[r],f[t.charCodeAt(r)]=r;f[\\\"-\\\".charCodeAt(0)]=62,f[\\\"_\\\".charCodeAt(0)]=63}function n(t){var r,e,n,i,o,a,u=t.length;if(u%4>0)throw new Error(\\\"Invalid string. Length must be a multiple of 4\\\");o=\\\"=\\\"===t[u-2]?2:\\\"=\\\"===t[u-1]?1:0,a=new s(3*u/4-o),n=o>0?u-4:u;var h=0;for(r=0,e=0;r<n;r+=4,e+=3)i=f[t.charCodeAt(r)]<<18|f[t.charCodeAt(r+1)]<<12|f[t.charCodeAt(r+2)]<<6|f[t.charCodeAt(r+3)],a[h++]=i>>16&255,a[h++]=i>>8&255,a[h++]=255&i;return 2===o?(i=f[t.charCodeAt(r)]<<2|f[t.charCodeAt(r+1)]>>4,a[h++]=255&i):1===o&&(i=f[t.charCodeAt(r)]<<10|f[t.charCodeAt(r+1)]<<4|f[t.charCodeAt(r+2)]>>2,a[h++]=i>>8&255,a[h++]=255&i),a}function i(t){return u[t>>18&63]+u[t>>12&63]+u[t>>6&63]+u[63&t]}function o(t,r,e){for(var n,o=[],a=r;a<e;a+=3)n=(t[a]<<16)+(t[a+1]<<8)+t[a+2],o.push(i(n));return o.join(\\\"\\\")}function a(t){for(var r,e=t.length,n=e%3,i=\\\"\\\",a=[],f=16383,s=0,h=e-n;s<h;s+=f)a.push(o(t,s,s+f>h?h:s+f));return 1===n?(r=t[e-1],i+=u[r>>2],i+=u[r<<4&63],i+=\\\"==\\\"):2===n&&(r=(t[e-2]<<8)+t[e-1],i+=u[r>>10],i+=u[r>>4&63],i+=u[r<<2&63],i+=\\\"=\\\"),a.push(i),a.join(\\\"\\\")}r.toByteArray=n,r.fromByteArray=a;var u=[],f=[],s=\\\"undefined\\\"!=typeof Uint8Array?Uint8Array:Array;e()},function(t,r){var e={}.toString;t.exports=Array.isArray||function(t){return\\\"[object Array]\\\"==e.call(t)}},function(t,r){function e(t){var r=!1;return function(){if(!r)return r=!0,t.apply(this,arguments)}}t.exports=e,e.proto=e(function(){Object.defineProperty(Function.prototype,\\\"once\\\",{value:function(){return e(this)},configurable:!0})})},function(t,r){function e(t,r){if(t=t.replace(/\\\\t+/g,\\\" \\\").trim(),!t)return null;var e=t.indexOf(\\\" \\\");if(e===-1)throw new Error(\\\"no named row at line \\\"+r);var i=t.substring(0,e);t=t.substring(e+1),t=t.replace(/letter=[\\\\'\\\\\\\"]\\\\S+[\\\\'\\\\\\\"]/gi,\\\"\\\"),t=t.split(\\\"=\\\"),t=t.map(function(t){return t.trim().match(/(\\\".*?\\\"|[^\\\"\\\\s]+)+(?=\\\\s*|\\\\s*$)/g)});for(var o=[],a=0;a<t.length;a++){var u=t[a];0===a?o.push({key:u[0],data:\\\"\\\"}):a===t.length-1?o[o.length-1].data=n(u[0]):(o[o.length-1].data=n(u[0]),o.push({key:u[1],data:\\\"\\\"}))}var f={key:i,data:{}};return o.forEach(function(t){f.data[t.key]=t.data}),f}function n(t){return t&&0!==t.length?0===t.indexOf('\\\"')||0===t.indexOf(\\\"'\\\")?t.substring(1,t.length-1):t.indexOf(\\\",\\\")!==-1?i(t):parseInt(t,10):\\\"\\\"}function i(t){return t.split(\\\",\\\").map(function(t){return parseInt(t,10)})}t.exports=function(t){if(!t)throw new Error(\\\"no data provided\\\");t=t.toString().trim();var r={pages:[],chars:[],kernings:[]},n=t.split(/\\\\r\\\\n?|\\\\n/g);if(0===n.length)throw new Error(\\\"no data in BMFont file\\\");for(var i=0;i<n.length;i++){var o=e(n[i],i);if(o)if(\\\"page\\\"===o.key){if(\\\"number\\\"!=typeof o.data.id)throw new Error(\\\"malformed file at line \\\"+i+\\\" -- needs page id=N\\\");if(\\\"string\\\"!=typeof o.data.file)throw new Error(\\\"malformed file at line \\\"+i+' -- needs page file=\\\"path\\\"');r.pages[o.data.id]=o.data.file}else\\\"chars\\\"===o.key||\\\"kernings\\\"===o.key||(\\\"char\\\"===o.key?r.chars.push(o.data):\\\"kerning\\\"===o.key?r.kernings.push(o.data):r[o.key]=o.data)}return r}},function(t,r){function e(t,r,e){if(e>r.length-1)return 0;var f=r.readUInt8(e++),s=r.readInt32LE(e);switch(e+=4,f){case 1:t.info=n(r,e);break;case 2:t.common=i(r,e);break;case 3:t.pages=o(r,e,s);break;case 4:t.chars=a(r,e,s);break;case 5:t.kernings=u(r,e,s)}return 5+s}function n(t,r){var e={};e.size=t.readInt16LE(r);var n=t.readUInt8(r+2);return e.smooth=n>>7&1,e.unicode=n>>6&1,e.italic=n>>5&1,e.bold=n>>4&1,n>>3&1&&(e.fixedHeight=1),e.charset=t.readUInt8(r+3)||\\\"\\\",e.stretchH=t.readUInt16LE(r+4),e.aa=t.readUInt8(r+6),e.padding=[t.readInt8(r+7),t.readInt8(r+8),t.readInt8(r+9),t.readInt8(r+10)],e.spacing=[t.readInt8(r+11),t.readInt8(r+12)],e.outline=t.readUInt8(r+13),e.face=s(t,r+14),e}function i(t,r){var e={};e.lineHeight=t.readUInt16LE(r),e.base=t.readUInt16LE(r+2),e.scaleW=t.readUInt16LE(r+4),e.scaleH=t.readUInt16LE(r+6),e.pages=t.readUInt16LE(r+8);t.readUInt8(r+10);return e.packed=0,e.alphaChnl=t.readUInt8(r+11),e.redChnl=t.readUInt8(r+12),e.greenChnl=t.readUInt8(r+13),e.blueChnl=t.readUInt8(r+14),e}function o(t,r,e){for(var n=[],i=f(t,r),o=i.length+1,a=e/o,u=0;u<a;u++)n[u]=t.slice(r,r+i.length).toString(\\\"utf8\\\"),r+=o;return n}function a(t,r,e){for(var n=[],i=e/20,o=0;o<i;o++){var a={},u=20*o;a.id=t.readUInt32LE(r+0+u),a.x=t.readUInt16LE(r+4+u),a.y=t.readUInt16LE(r+6+u),a.width=t.readUInt16LE(r+8+u),a.height=t.readUInt16LE(r+10+u),a.xoffset=t.readInt16LE(r+12+u),a.yoffset=t.readInt16LE(r+14+u),a.xadvance=t.readInt16LE(r+16+u),a.page=t.readUInt8(r+18+u),a.chnl=t.readUInt8(r+19+u),n[o]=a}return n}function u(t,r,e){for(var n=[],i=e/10,o=0;o<i;o++){var a={},u=10*o;a.first=t.readUInt32LE(r+0+u),a.second=t.readUInt32LE(r+4+u),a.amount=t.readInt16LE(r+8+u),n[o]=a}return n}function f(t,r){for(var e=r;e<t.length&&0!==t[e];e++);return t.slice(r,e)}function s(t,r){return f(t,r).toString(\\\"utf8\\\")}var h=[66,77,70];t.exports=function(t){if(t.length<6)throw new Error(\\\"invalid buffer length for BMFont\\\");var r=h.every(function(r,e){return t.readUInt8(e)===r});if(!r)throw new Error(\\\"BMFont missing BMF byte header\\\");var n=3,i=t.readUInt8(n++);if(i>3)throw new Error(\\\"Only supports BMFont Binary v3 (BMFont App v1.10)\\\");for(var o={kernings:[],chars:[]},a=0;a<5;a++)n+=e(o,t,n);return o}},function(t,r,e){function n(t){var r=i(t);\\r\\nreturn r.reduce(function(t,r){var e=o(r.nodeName);return t[e]=r.nodeValue,t},{})}function i(t){for(var r=[],e=0;e<t.attributes.length;e++)r.push(t.attributes[e]);return r}function o(t){return f[t.toLowerCase()]||t}var a=e(30),u=e(40),f={scaleh:\\\"scaleH\\\",scalew:\\\"scaleW\\\",stretchh:\\\"stretchH\\\",lineheight:\\\"lineHeight\\\",alphachnl:\\\"alphaChnl\\\",redchnl:\\\"redChnl\\\",greenchnl:\\\"greenChnl\\\",bluechnl:\\\"blueChnl\\\"};t.exports=function(t){t=t.toString();var r=u(t),e={pages:[],chars:[],kernings:[]};[\\\"info\\\",\\\"common\\\"].forEach(function(t){var i=r.getElementsByTagName(t)[0];i&&(e[t]=a(n(i)))});var i=r.getElementsByTagName(\\\"pages\\\")[0];if(!i)throw new Error(\\\"malformed file -- no <pages> element\\\");for(var o=i.getElementsByTagName(\\\"page\\\"),f=0;f<o.length;f++){var s=o[f],h=parseInt(s.getAttribute(\\\"id\\\"),10),c=s.getAttribute(\\\"file\\\");if(isNaN(h))throw new Error('malformed file -- page \\\"id\\\" attribute is NaN');if(!c)throw new Error('malformed file -- needs page \\\"file\\\" attribute');e.pages[parseInt(h,10)]=c}return[\\\"chars\\\",\\\"kernings\\\"].forEach(function(t){var i=r.getElementsByTagName(t)[0];if(i)for(var o=t.substring(0,t.length-1),u=i.getElementsByTagName(o),f=0;f<u.length;f++){var s=u[f];e[t].push(a(n(s)))}}),e}},function(t,r){function e(t){return t.split(\\\",\\\").map(function(t){return parseInt(t,10)})}var n=\\\"chasrset\\\";t.exports=function(t){n in t&&(t.charset=t[n],delete t[n]);for(var r in t)\\\"face\\\"!==r&&\\\"charset\\\"!==r&&(\\\"padding\\\"===r||\\\"spacing\\\"===r?t[r]=e(t[r]):t[r]=parseInt(t[r],10));return t}},function(t,r,e){var n=e(37),i=e(16),o=function(t){return\\\"[object Array]\\\"===Object.prototype.toString.call(t)};t.exports=function(t){if(!t)return{};var r={};return i(n(t).split(\\\"\\\\n\\\"),function(t){var e=t.indexOf(\\\":\\\"),i=n(t.slice(0,e)).toLowerCase(),a=n(t.slice(e+1));\\\"undefined\\\"==typeof r[i]?r[i]=a:o(r[i])?r[i].push(a):r[i]=[r[i],a]}),r}},function(t,r,e){var n=e(3),i=e(9),o=e(20),a=[0,2,3],u=[2,1,3];t.exports=function(t,r){t&&(i(t)||o(t))||(r=t||{},t=null),r=\\\"number\\\"==typeof r?{count:r}:r||{};for(var e=\\\"string\\\"==typeof r.type?r.type:\\\"uint16\\\",f=\\\"number\\\"==typeof r.count?r.count:1,s=r.start||0,h=r.clockwise!==!1?a:u,c=h[0],l=h[1],p=h[2],g=6*f,d=t||new(n(e))(g),y=0,v=0;y<g;y+=6,v+=4){var w=y+s;d[w+0]=v+0,d[w+1]=v+1,d[w+2]=v+2,d[w+3]=v+c,d[w+4]=v+l,d[w+5]=v+p}return d}},function(t,r,e){function n(t){c.call(this),\\\"string\\\"==typeof t&&(t={text:t}),this._opt=f({},t),t&&this.update(t)}var i=e(21),o=e(19),a=e(32),u=e(36),f=e(6),s=e(35),h=e(34),c=THREE.BufferGeometry;t.exports=function(t){return new n(t)},o(n,c),n.prototype.update=function(t){if(\\\"string\\\"==typeof t&&(t={text:t}),t=f({},this._opt,t),!t.font)throw new TypeError(\\\"must specify a { font } in options\\\");this.layout=i(t);var r=t.flipY!==!1,e=t.font,n=e.common.scaleW,o=e.common.scaleH,h=this.layout.glyphs.filter(function(t){var r=t.data;return r.width*r.height>0});this.visibleGlyphs=h;var c=s.positions(h),l=s.uvs(h,n,o,r),p=a({clockwise:!0,type:\\\"uint16\\\",count:h.length});if(u.index(this,p,1,\\\"uint16\\\"),u.attr(this,\\\"position\\\",c,2),u.attr(this,\\\"uv\\\",l,2),!t.multipage&&\\\"page\\\"in this.attributes)this.removeAttribute(\\\"page\\\");else if(t.multipage){var g=s.pages(h);u.attr(this,\\\"page\\\",g,1)}},n.prototype.computeBoundingSphere=function(){null===this.boundingSphere&&(this.boundingSphere=new THREE.Sphere);var t=this.attributes.position.array,r=this.attributes.position.itemSize;return!t||!r||t.length<2?(this.boundingSphere.radius=0,void this.boundingSphere.center.set(0,0,0)):(h.computeSphere(t,this.boundingSphere),void(isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The \\\"position\\\" attribute is likely to have NaN values.')))},n.prototype.computeBoundingBox=function(){null===this.boundingBox&&(this.boundingBox=new THREE.Box3);var t=this.boundingBox,r=this.attributes.position.array,e=this.attributes.position.itemSize;return!r||!e||r.length<2?void t.makeEmpty():void h.computeBox(r,t)}},function(t,r){function e(t){var r=t.length/n;i.min[0]=t[0],i.min[1]=t[1],i.max[0]=t[0],i.max[1]=t[1];for(var e=0;e<r;e++){var o=t[e*n+0],a=t[e*n+1];i.min[0]=Math.min(o,i.min[0]),i.min[1]=Math.min(a,i.min[1]),i.max[0]=Math.max(o,i.max[0]),i.max[1]=Math.max(a,i.max[1])}}var n=2,i={min:[0,0],max:[0,0]};t.exports.computeBox=function(t,r){e(t),r.min.set(i.min[0],i.min[1],0),r.max.set(i.max[0],i.max[1],0)},t.exports.computeSphere=function(t,r){e(t);var n=i.min[0],o=i.min[1],a=i.max[0],u=i.max[1],f=a-n,s=u-o,h=Math.sqrt(f*f+s*s);r.center.set(n+f/2,o+s/2,0),r.radius=h/2}},function(t,r){t.exports.pages=function e(t){var e=new Float32Array(4*t.length*1),r=0;return t.forEach(function(t){var n=t.data.page||0;e[r++]=n,e[r++]=n,e[r++]=n,e[r++]=n}),e},t.exports.uvs=function n(t,r,e,i){var n=new Float32Array(4*t.length*2),o=0;return t.forEach(function(t){var a=t.data,u=a.x+a.width,f=a.y+a.height,s=a.x/r,h=a.y/e,c=u/r,l=f/e;i&&(h=(e-a.y)/e,l=(e-f)/e),n[o++]=s,n[o++]=h,n[o++]=s,n[o++]=l,n[o++]=c,n[o++]=l,n[o++]=c,n[o++]=h}),n},t.exports.positions=function i(t){var i=new Float32Array(4*t.length*2),r=0;return t.forEach(function(t){var e=t.data,n=t.position[0]+e.xoffset,o=t.position[1]+e.yoffset,a=e.width,u=e.height;i[r++]=n,i[r++]=o,i[r++]=n,i[r++]=o+u,i[r++]=n+a,i[r++]=o+u,i[r++]=n+a,i[r++]=o}),i}},function(t,r,e){function n(t,r,e,n){\\\"number\\\"!=typeof e&&(e=1),\\\"string\\\"!=typeof n&&(n=\\\"uint16\\\");var i=!t.index&&\\\"function\\\"!=typeof t.setIndex,a=i?t.getAttribute(\\\"index\\\"):t.index,u=o(a,r,e,n);u&&(i?t.addAttribute(\\\"index\\\",u):t.index=u)}function i(t,r,e,n,i){if(\\\"number\\\"!=typeof n&&(n=3),\\\"string\\\"!=typeof i&&(i=\\\"float32\\\"),Array.isArray(e)&&Array.isArray(e[0])&&e[0].length!==n)throw new Error(\\\"Nested vertex array has unexpected size; expected \\\"+n+\\\" but found \\\"+e[0].length);var a=t.getAttribute(r),u=o(a,e,n,i);u&&t.addAttribute(r,u)}function o(t,r,e,n){return r=r||[],!t||a(t,r,e)?(r=u(r,n),t=new THREE.BufferAttribute(r,e),t.needsUpdate=!0,t):(u(r,t.array),t.needsUpdate=!0,null)}function a(t,r,e){if(t.itemSize!==e)return!0;if(!t.array)return!0;var n=t.array.length;return Array.isArray(r)&&Array.isArray(r[0])?n!==r.length*e:n!==r.length}var u=e(15);t.exports.attr=i,t.exports.index=n},function(t,r){function e(t){return t.replace(/^\\\\s*|\\\\s*$/g,\\\"\\\")}r=t.exports=e,r.left=function(t){return t.replace(/^\\\\s*/,\\\"\\\")},r.right=function(t){return t.replace(/\\\\s*$/,\\\"\\\")}},function(t,r){function e(t,r,e,n){var i=t.indexOf(r,e);return i===-1||i>n?n:i}function n(t){return s.test(t)}function i(t,r,e,n,i){for(var o=[],a=e,f=e;f<n&&f<r.length;f++){var s=r.charAt(f),h=u.test(s);if(h||f===n-1){var c=h?f:f+1,l=t(r,a,c,i);o.push(l),a=f+1}}return o}function o(t,r,i,o,a,u){var s=[],h=a;for(\\\"nowrap\\\"===u&&(h=Number.MAX_VALUE);i<o&&i<r.length;){for(var c=e(r,f,i,o);i<c&&n(r.charAt(i));)i++;var l=t(r,i,c,h),p=i+(l.end-l.start),g=p+f.length;if(p<c){for(;p>i&&!n(r.charAt(p));)p--;if(p===i)g>i+f.length&&g--,p=g;else for(g=p;p>i&&n(r.charAt(p-f.length));)p--}if(p>=i){var d=t(r,i,p,h);s.push(d)}i=g}return s}function a(t,r,e,n){var i=Math.min(n,e-r);return{start:r,end:r+i}}var u=/\\\\n/,f=\\\"\\\\n\\\",s=/\\\\s/;t.exports=function(r,e){var n=t.exports.lines(r,e);return n.map(function(t){return r.substring(t.start,t.end)}).join(\\\"\\\\n\\\")},t.exports.lines=function(t,r){if(r=r||{},0===r.width&&\\\"nowrap\\\"!==r.mode)return[];t=t||\\\"\\\";var e=\\\"number\\\"==typeof r.width?r.width:Number.MAX_VALUE,n=Math.max(0,r.start||0),u=\\\"number\\\"==typeof r.end?r.end:t.length,f=r.mode,s=r.measure||a;return\\\"pre\\\"===f?i(s,t,n,u,e):o(s,t,n,u,e,f)}},function(t,r,e){\\\"use strict\\\";function n(t,r){for(var e=0;e<t.length;e++)r(t[e])}function i(t){for(var r in t)if(t.hasOwnProperty(r))return!1;return!0}function o(t,r,e){var n=t;return c(r)?(e=r,\\\"string\\\"==typeof t&&(n={uri:t})):n=p(r,{uri:t}),n.callback=e,n}function a(t,r,e){return r=o(t,r,e),u(r)}function u(t){function r(){4===s.readyState&&o()}function e(){var t=void 0;if(s.response?t=s.response:\\\"text\\\"!==s.responseType&&s.responseType||(t=s.responseText||s.responseXML),b)try{t=JSON.parse(t)}catch(r){}return t}function n(t){clearTimeout(g),t instanceof Error||(t=new Error(\\\"\\\"+(t||\\\"Unknown XMLHttpRequest Error\\\"))),t.statusCode=0,u(t,f)}function o(){if(!p){var r;clearTimeout(g),r=t.useXDR&&void 0===s.status?200:1223===s.status?204:s.status;var n=f,i=null;0!==r?(n={body:e(),statusCode:r,method:y,headers:{},url:d,rawRequest:s},s.getAllResponseHeaders&&(n.headers=l(s.getAllResponseHeaders()))):i=new Error(\\\"Internal XMLHttpRequest Error\\\"),u(i,n,n.body)}}var u=t.callback;if(\\\"undefined\\\"==typeof u)throw new Error(\\\"callback argument missing\\\");u=h(u);var f={body:void 0,headers:{},statusCode:0,method:y,url:d,rawRequest:s},s=t.xhr||null;s||(s=t.cors||t.useXDR?new a.XDomainRequest:new a.XMLHttpRequest);var c,p,g,d=s.url=t.uri||t.url,y=s.method=t.method||\\\"GET\\\",v=t.body||t.data||null,w=s.headers=t.headers||{},m=!!t.sync,b=!1;if(\\\"json\\\"in t&&(b=!0,w.accept||w.Accept||(w.Accept=\\\"application/json\\\"),\\\"GET\\\"!==y&&\\\"HEAD\\\"!==y&&(w[\\\"content-type\\\"]||w[\\\"Content-Type\\\"]||(w[\\\"Content-Type\\\"]=\\\"application/json\\\"),v=JSON.stringify(t.json))),s.onreadystatechange=r,s.onload=o,s.onerror=n,s.onprogress=function(){},s.ontimeout=n,s.open(y,d,!m,t.username,t.password),m||(s.withCredentials=!!t.withCredentials),!m&&t.timeout>0&&(g=setTimeout(function(){p=!0,s.abort(\\\"timeout\\\");var t=new Error(\\\"XMLHttpRequest timeout\\\");t.code=\\\"ETIMEDOUT\\\",n(t)},t.timeout)),s.setRequestHeader)for(c in w)w.hasOwnProperty(c)&&s.setRequestHeader(c,w[c]);else if(t.headers&&!i(t.headers))throw new Error(\\\"Headers cannot be set on an XDomainRequest object\\\");return\\\"responseType\\\"in t&&(s.responseType=t.responseType),\\\"beforeSend\\\"in t&&\\\"function\\\"==typeof t.beforeSend&&t.beforeSend(s),s.send(v),s}function f(){}var s=e(17),h=e(26),c=e(5),l=e(31),p=e(2);t.exports=a,a.XMLHttpRequest=s.XMLHttpRequest||f,a.XDomainRequest=\\\"withCredentials\\\"in new a.XMLHttpRequest?a.XMLHttpRequest:s.XDomainRequest,n([\\\"get\\\",\\\"put\\\",\\\"post\\\",\\\"patch\\\",\\\"head\\\",\\\"delete\\\"],function(t){a[\\\"delete\\\"===t?\\\"del\\\":t]=function(r,e,n){return e=o(r,e,n),e.method=t.toUpperCase(),u(e)}})},function(t,r){t.exports=function(){return\\\"undefined\\\"!=typeof window.DOMParser?function(t){var r=new window.DOMParser;return r.parseFromString(t,\\\"application/xml\\\")}:\\\"undefined\\\"!=typeof window.ActiveXObject&&new window.ActiveXObject(\\\"Microsoft.XMLDOM\\\")?function(t){var r=new window.ActiveXObject(\\\"Microsoft.XMLDOM\\\");return r.async=\\\"false\\\",r.loadXML(t),r}:function(t){var r=document.createElement(\\\"div\\\");return r.innerHTML=t,r}}()}]);\"\n\n/***/ },\n\n/***/ 643:\n/***/ function(module, exports) {\n\nmodule.exports = \"(function(f){if(typeof exports===\\\"object\\\"&&typeof module!==\\\"undefined\\\"){module.exports=f()}else if(typeof define===\\\"function\\\"&&define.amd){define([],f)}else{var g;if(typeof window!==\\\"undefined\\\"){g=window}else if(typeof global!==\\\"undefined\\\"){g=global}else if(typeof self!==\\\"undefined\\\"){g=self}else{g=this}g.AFRAME = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\\\"function\\\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\\\"Cannot find module '\\\"+o+\\\"'\\\");throw f.code=\\\"MODULE_NOT_FOUND\\\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\\\"function\\\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){\\n\\\"use strict\\\";module.exports={createLink:function(e,t){var a=document.head||document.getElementsByTagName(\\\"head\\\")[0],n=document.createElement(\\\"link\\\");n.href=e,n.rel=\\\"stylesheet\\\";for(var d in t)if(t.hasOwnProperty(d)){var r=t[d];n.setAttribute(\\\"data-\\\"+d,r)}a.appendChild(n)},createStyle:function(e,t){var a=document.head||document.getElementsByTagName(\\\"head\\\")[0],n=document.createElement(\\\"style\\\");n.type=\\\"text/css\\\";for(var d in t)if(t.hasOwnProperty(d)){var r=t[d];n.setAttribute(\\\"data-\\\"+d,r)}n.sheet?(n.innerHTML=e,n.sheet.cssText=e,a.appendChild(n)):n.styleSheet?(a.appendChild(n),n.styleSheet.cssText=e):(n.appendChild(document.createTextNode(e)),a.appendChild(n))}};\\n},{}],2:[function(_dereq_,module,exports){\\nfunction runTimeout(e){if(cachedSetTimeout===setTimeout)return setTimeout(e,0);try{return cachedSetTimeout(e,0)}catch(r){try{return cachedSetTimeout.call(null,e,0)}catch(r){return cachedSetTimeout.call(this,e,0)}}}function runClearTimeout(e){if(cachedClearTimeout===clearTimeout)return clearTimeout(e);try{return cachedClearTimeout(e)}catch(r){try{return cachedClearTimeout.call(null,e)}catch(r){return cachedClearTimeout.call(this,e)}}}function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=runTimeout(cleanUpNextTick);draining=!0;for(var r=queue.length;r;){for(currentQueue=queue,queue=[];++queueIndex<r;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,r=queue.length}currentQueue=null,draining=!1,runClearTimeout(e)}}function Item(e,r){this.fun=e,this.array=r}function noop(){}var process=module.exports={},cachedSetTimeout,cachedClearTimeout;!function(){try{cachedSetTimeout=setTimeout}catch(e){cachedSetTimeout=function(){throw new Error(\\\"setTimeout is not defined\\\")}}try{cachedClearTimeout=clearTimeout}catch(e){cachedClearTimeout=function(){throw new Error(\\\"clearTimeout is not defined\\\")}}}();var queue=[],draining=!1,currentQueue,queueIndex=-1;process.nextTick=function(e){var r=new Array(arguments.length-1);if(arguments.length>1)for(var u=1;u<arguments.length;u++)r[u-1]=arguments[u];queue.push(new Item(e,r)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title=\\\"browser\\\",process.browser=!0,process.env={},process.argv=[],process.version=\\\"\\\",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(e){throw new Error(\\\"process.binding is not supported\\\")},process.cwd=function(){return\\\"/\\\"},process.chdir=function(e){throw new Error(\\\"process.chdir is not supported\\\")},process.umask=function(){return 0};\\n},{}],3:[function(_dereq_,module,exports){\\nfunction useColors(){return\\\"WebkitAppearance\\\"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\\\\/(\\\\d+)/)&&parseInt(RegExp.$1,10)>=31}function formatArgs(){var o=arguments,e=this.useColors;if(o[0]=(e?\\\"%c\\\":\\\"\\\")+this.namespace+(e?\\\" %c\\\":\\\" \\\")+o[0]+(e?\\\"%c \\\":\\\" \\\")+\\\"+\\\"+exports.humanize(this.diff),!e)return o;var r=\\\"color: \\\"+this.color;o=[o[0],r,\\\"color: inherit\\\"].concat(Array.prototype.slice.call(o,1));var t=0,s=0;return o[0].replace(/%[a-z%]/g,function(o){\\\"%%\\\"!==o&&(t++,\\\"%c\\\"===o&&(s=t))}),o.splice(s,0,r),o}function log(){return\\\"object\\\"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function save(o){try{null==o?exports.storage.removeItem(\\\"debug\\\"):exports.storage.debug=o}catch(o){}}function load(){var o;try{o=exports.storage.debug}catch(o){}return o}function localstorage(){try{return window.localStorage}catch(o){}}exports=module.exports=_dereq_(\\\"./debug\\\"),exports.log=log,exports.formatArgs=formatArgs,exports.save=save,exports.load=load,exports.useColors=useColors,exports.storage=\\\"undefined\\\"!=typeof chrome&&\\\"undefined\\\"!=typeof chrome.storage?chrome.storage.local:localstorage(),exports.colors=[\\\"lightseagreen\\\",\\\"forestgreen\\\",\\\"goldenrod\\\",\\\"dodgerblue\\\",\\\"darkorchid\\\",\\\"crimson\\\"],exports.formatters.j=function(o){return JSON.stringify(o)},exports.enable(load());\\n},{\\\"./debug\\\":4}],4:[function(_dereq_,module,exports){\\nfunction selectColor(){return exports.colors[prevColor++%exports.colors.length]}function debug(e){function r(){}function o(){var e=o,r=+new Date,s=r-(prevTime||r);e.diff=s,e.prev=prevTime,e.curr=r,prevTime=r,null==e.useColors&&(e.useColors=exports.useColors()),null==e.color&&e.useColors&&(e.color=selectColor());var t=Array.prototype.slice.call(arguments);t[0]=exports.coerce(t[0]),\\\"string\\\"!=typeof t[0]&&(t=[\\\"%o\\\"].concat(t));var n=0;t[0]=t[0].replace(/%([a-z%])/g,function(r,o){if(\\\"%%\\\"===r)return r;n++;var s=exports.formatters[o];if(\\\"function\\\"==typeof s){var p=t[n];r=s.call(e,p),t.splice(n,1),n--}return r}),\\\"function\\\"==typeof exports.formatArgs&&(t=exports.formatArgs.apply(e,t));var p=o.log||exports.log||console.log.bind(console);p.apply(e,t)}r.enabled=!1,o.enabled=!0;var s=exports.enabled(e)?o:r;return s.namespace=e,s}function enable(e){exports.save(e);for(var r=(e||\\\"\\\").split(/[\\\\s,]+/),o=r.length,s=0;s<o;s++)r[s]&&(e=r[s].replace(/\\\\*/g,\\\".*?\\\"),\\\"-\\\"===e[0]?exports.skips.push(new RegExp(\\\"^\\\"+e.substr(1)+\\\"$\\\")):exports.names.push(new RegExp(\\\"^\\\"+e+\\\"$\\\")))}function disable(){exports.enable(\\\"\\\")}function enabled(e){var r,o;for(r=0,o=exports.skips.length;r<o;r++)if(exports.skips[r].test(e))return!1;for(r=0,o=exports.names.length;r<o;r++)if(exports.names[r].test(e))return!0;return!1}function coerce(e){return e instanceof Error?e.stack||e.message:e}exports=module.exports=debug,exports.coerce=coerce,exports.disable=disable,exports.enable=enable,exports.enabled=enabled,exports.humanize=_dereq_(\\\"ms\\\"),exports.names=[],exports.skips=[],exports.formatters={};var prevColor=0,prevTime;\\n},{\\\"ms\\\":5}],5:[function(_dereq_,module,exports){\\nfunction parse(e){if(e=\\\"\\\"+e,!(e.length>1e4)){var a=/^((?:\\\\d+)?\\\\.?\\\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(a){var r=parseFloat(a[1]),c=(a[2]||\\\"ms\\\").toLowerCase();switch(c){case\\\"years\\\":case\\\"year\\\":case\\\"yrs\\\":case\\\"yr\\\":case\\\"y\\\":return r*y;case\\\"days\\\":case\\\"day\\\":case\\\"d\\\":return r*d;case\\\"hours\\\":case\\\"hour\\\":case\\\"hrs\\\":case\\\"hr\\\":case\\\"h\\\":return r*h;case\\\"minutes\\\":case\\\"minute\\\":case\\\"mins\\\":case\\\"min\\\":case\\\"m\\\":return r*m;case\\\"seconds\\\":case\\\"second\\\":case\\\"secs\\\":case\\\"sec\\\":case\\\"s\\\":return r*s;case\\\"milliseconds\\\":case\\\"millisecond\\\":case\\\"msecs\\\":case\\\"msec\\\":case\\\"ms\\\":return r}}}}function short(e){return e>=d?Math.round(e/d)+\\\"d\\\":e>=h?Math.round(e/h)+\\\"h\\\":e>=m?Math.round(e/m)+\\\"m\\\":e>=s?Math.round(e/s)+\\\"s\\\":e+\\\"ms\\\"}function long(e){return plural(e,d,\\\"day\\\")||plural(e,h,\\\"hour\\\")||plural(e,m,\\\"minute\\\")||plural(e,s,\\\"second\\\")||e+\\\" ms\\\"}function plural(s,e,a){if(!(s<e))return s<1.5*e?Math.floor(s/e)+\\\" \\\"+a:Math.ceil(s/e)+\\\" \\\"+a+\\\"s\\\"}var s=1e3,m=60*s,h=60*m,d=24*h,y=365.25*d;module.exports=function(s,e){return e=e||{},\\\"string\\\"==typeof s?parse(s):e.long?long(s):short(s)};\\n},{}],6:[function(_dereq_,module,exports){\\n\\\"use strict\\\";function toObject(r){if(null===r||void 0===r)throw new TypeError(\\\"Sources cannot be null or undefined\\\");return Object(r)}function assignKey(r,e,n){var t=e[n];if(void 0!==t&&null!==t){if(hasOwnProperty.call(r,n)&&(void 0===r[n]||null===r[n]))throw new TypeError(\\\"Cannot convert undefined or null to object (\\\"+n+\\\")\\\");hasOwnProperty.call(r,n)&&isObj(t)?r[n]=assign(Object(r[n]),e[n]):r[n]=t}}function assign(r,e){if(r===e)return r;e=Object(e);for(var n in e)hasOwnProperty.call(e,n)&&assignKey(r,e,n);if(Object.getOwnPropertySymbols)for(var t=Object.getOwnPropertySymbols(e),o=0;o<t.length;o++)propIsEnumerable.call(e,t[o])&&assignKey(r,e,t[o]);return r}var isObj=_dereq_(\\\"is-obj\\\"),hasOwnProperty=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;module.exports=function(r){r=toObject(r);for(var e=1;e<arguments.length;e++)assign(r,arguments[e]);return r};\\n},{\\\"is-obj\\\":7}],7:[function(_dereq_,module,exports){\\n\\\"use strict\\\";module.exports=function(t){var e=typeof t;return null!==t&&(\\\"object\\\"===e||\\\"function\\\"===e)};\\n},{}],8:[function(_dereq_,module,exports){\\n!function(t,r,n,a){\\\"use strict\\\";function l(e,t){for(var r=0,n=e.length;r<n;r++)m(e[r],t)}function i(e){for(var t,r=0,n=e.length;r<n;r++)t=e[r],y(t,H[u(t)])}function o(e){return function(t){ae(t)&&(m(t,e),l(t.querySelectorAll(x),e))}}function u(e){var t=oe.call(e,\\\"is\\\"),r=e.nodeName.toUpperCase(),n=G.call(U,t?k+t.toUpperCase():_+r);return t&&-1<n&&!c(r,t)?-1:n}function c(e,t){return-1<x.indexOf(e+'[is=\\\"'+t+'\\\"]')}function s(e){var t=e.currentTarget,r=e.attrChange,n=e.attrName,a=e.target;me&&(!a||a===t)&&t.attributeChangedCallback&&\\\"style\\\"!==n&&e.prevValue!==e.newValue&&t.attributeChangedCallback(n,r===e[F]?null:e.prevValue,r===e[I]?null:e.newValue)}function d(e){var t=o(e);return function(e){g.push(t,e.target)}}function f(e){be&&(be=!1,e.currentTarget.removeEventListener(P,f)),l((e.target||r).querySelectorAll(x),e.detail===T?T:L),ne&&p()}function h(e,t){var r=this;ue.call(r,e,t),C.call(r,{target:r})}function v(e,t){ee(e,t),O?O.observe(e,de):(pe&&(e.setAttribute=h,e[w]=E(e),e.addEventListener(R,C)),e.addEventListener(D,s)),e.createdCallback&&me&&(e.created=!0,e.createdCallback(),e.created=!1)}function p(){for(var e,t=0,r=le.length;t<r;t++)e=le[t],Z.contains(e)||(r--,le.splice(t--,1),m(e,T))}function b(e){throw new Error(\\\"A \\\"+e+\\\" type is already registered\\\")}function m(e,t){var r,n=u(e);-1<n&&(N(e,H[n]),n=0,t!==L||e[L]?t===T&&!e[T]&&(e[L]=!1,e[T]=!0,n=1):(e[T]=!1,e[L]=!0,n=1,ne&&G.call(le,e)<0&&le.push(e)),n&&(r=e[t+\\\"Callback\\\"])&&r.call(e))}if(!(a in r)){var g,C,A,E,O,N,y,w=\\\"__\\\"+a+(1e5*Math.random()>>0),L=\\\"attached\\\",T=\\\"detached\\\",M=\\\"extends\\\",F=\\\"ADDITION\\\",V=\\\"MODIFICATION\\\",I=\\\"REMOVAL\\\",D=\\\"DOMAttrModified\\\",P=\\\"DOMContentLoaded\\\",R=\\\"DOMSubtreeModified\\\",_=\\\"<\\\",k=\\\"=\\\",q=/^[A-Z][A-Z0-9]*(?:-[A-Z0-9]+)+$/,S=[\\\"ANNOTATION-XML\\\",\\\"COLOR-PROFILE\\\",\\\"FONT-FACE\\\",\\\"FONT-FACE-SRC\\\",\\\"FONT-FACE-URI\\\",\\\"FONT-FACE-FORMAT\\\",\\\"FONT-FACE-NAME\\\",\\\"MISSING-GLYPH\\\"],U=[],H=[],x=\\\"\\\",Z=r.documentElement,G=U.indexOf||function(e){for(var t=this.length;t--&&this[t]!==e;);return t},j=n.prototype,z=j.hasOwnProperty,K=j.isPrototypeOf,W=n.defineProperty,X=n.getOwnPropertyDescriptor,Y=n.getOwnPropertyNames,$=n.getPrototypeOf,B=n.setPrototypeOf,J=!!n.__proto__,Q=n.create||function e(t){return t?(e.prototype=t,new e):this},ee=B||(J?function(e,t){return e.__proto__=t,e}:Y&&X?function(){function e(e,t){for(var r,n=Y(t),a=0,l=n.length;a<l;a++)r=n[a],z.call(e,r)||W(e,r,X(t,r))}return function(t,r){do e(t,r);while((r=$(r))&&!K.call(r,t));return t}}():function(e,t){for(var r in t)e[r]=t[r];return e}),te=t.MutationObserver||t.WebKitMutationObserver,re=(t.HTMLElement||t.Element||t.Node).prototype,ne=!K.call(re,Z),ae=ne?function(e){return 1===e.nodeType}:function(e){return K.call(re,e)},le=ne&&[],ie=re.cloneNode,oe=re.getAttribute,ue=re.setAttribute,ce=re.removeAttribute,se=r.createElement,de=te&&{attributes:!0,characterData:!0,attributeOldValue:!0},fe=te||function(e){pe=!1,Z.removeEventListener(D,fe)},he=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,10)},ve=!1,pe=!0,be=!0,me=!0;B||J?(N=function(e,t){K.call(t,e)||v(e,t)},y=v):(N=function(e,t){e[w]||(e[w]=n(!0),v(e,t))},y=N),ne?(pe=!1,function(){var t=X(re,\\\"addEventListener\\\"),r=t.value,n=function(e){var t=new CustomEvent(D,{bubbles:!0});t.attrName=e,t.prevValue=oe.call(this,e),t.newValue=null,t[I]=t.attrChange=2,ce.call(this,e),this.dispatchEvent(t)},a=function(t,r){var n=this.hasAttribute(t),a=n&&oe.call(this,t);e=new CustomEvent(D,{bubbles:!0}),ue.call(this,t,r),e.attrName=t,e.prevValue=n?a:null,e.newValue=r,n?e[V]=e.attrChange=1:e[F]=e.attrChange=0,this.dispatchEvent(e)},l=function(e){var t,r=e.currentTarget,n=r[w],a=e.propertyName;n.hasOwnProperty(a)&&(n=n[a],t=new CustomEvent(D,{bubbles:!0}),t.attrName=n.name,t.prevValue=n.value||null,t.newValue=n.value=r[a]||null,null==t.prevValue?t[F]=t.attrChange=0:t[V]=t.attrChange=1,r.dispatchEvent(t))};t.value=function(e,t,i){e===D&&this.attributeChangedCallback&&this.setAttribute!==a&&(this[w]={className:{name:\\\"class\\\",value:this.className}},this.setAttribute=a,this.removeAttribute=n,r.call(this,\\\"propertychange\\\",l)),r.call(this,e,t,i)},W(re,\\\"addEventListener\\\",t)}()):te||(Z.addEventListener(D,fe),Z.setAttribute(w,1),Z.removeAttribute(w),pe&&(C=function(e){var t,r,n,a=this;if(a===e.target){t=a[w],a[w]=r=E(a);for(n in r){if(!(n in t))return A(0,a,n,t[n],r[n],F);if(r[n]!==t[n])return A(1,a,n,t[n],r[n],V)}for(n in t)if(!(n in r))return A(2,a,n,t[n],r[n],I)}},A=function(e,t,r,n,a,l){var i={attrChange:e,currentTarget:t,attrName:r,prevValue:n,newValue:a};i[l]=e,s(i)},E=function(e){for(var t,r,n={},a=e.attributes,l=0,i=a.length;l<i;l++)t=a[l],r=t.name,\\\"setAttribute\\\"!==r&&(n[r]=t.value);return n})),r[a]=function(e,t){if(n=e.toUpperCase(),ve||(ve=!0,te?(O=function(e,t){function r(e,t){for(var r=0,n=e.length;r<n;t(e[r++]));}return new te(function(n){for(var a,l,i,o=0,u=n.length;o<u;o++)a=n[o],\\\"childList\\\"===a.type?(r(a.addedNodes,e),r(a.removedNodes,t)):(l=a.target,me&&l.attributeChangedCallback&&\\\"style\\\"!==a.attributeName&&(i=oe.call(l,a.attributeName),i!==a.oldValue&&l.attributeChangedCallback(a.attributeName,a.oldValue,i)))})}(o(L),o(T)),O.observe(r,{childList:!0,subtree:!0})):(g=[],he(function e(){for(;g.length;)g.shift().call(null,g.shift());he(e)}),r.addEventListener(\\\"DOMNodeInserted\\\",d(L)),r.addEventListener(\\\"DOMNodeRemoved\\\",d(T))),r.addEventListener(P,f),r.addEventListener(\\\"readystatechange\\\",f),r.createElement=function(e,t){var n=se.apply(r,arguments),a=\\\"\\\"+e,l=G.call(U,(t?k:_)+(t||a).toUpperCase()),i=-1<l;return t&&(n.setAttribute(\\\"is\\\",t=t.toLowerCase()),i&&(i=c(a.toUpperCase(),t))),me=!r.createElement.innerHTMLHelper,i&&y(n,H[l]),n},re.cloneNode=function(e){var t=ie.call(this,!!e),r=u(t);return-1<r&&y(t,H[r]),e&&i(t.querySelectorAll(x)),t}),-2<G.call(U,k+n)+G.call(U,_+n)&&b(e),!q.test(n)||-1<G.call(S,n))throw new Error(\\\"The type \\\"+e+\\\" is invalid\\\");var n,a,s=function(){return v?r.createElement(p,n):r.createElement(p)},h=t||j,v=z.call(h,M),p=v?t[M].toUpperCase():n;return v&&-1<G.call(U,_+p)&&b(p),a=U.push((v?k:_)+n)-1,x=x.concat(x.length?\\\",\\\":\\\"\\\",v?p+'[is=\\\"'+e.toLowerCase()+'\\\"]':p),s.prototype=H[a]=z.call(h,\\\"prototype\\\")?h.prototype:Q(re),l(r.querySelectorAll(x),L),s}}}(window,document,Object,\\\"registerElement\\\");\\n},{}],9:[function(_dereq_,module,exports){\\n\\\"use strict\\\";function toObject(e){if(null===e||void 0===e)throw new TypeError(\\\"Object.assign cannot be called with null or undefined\\\");return Object(e)}var hasOwnProperty=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;module.exports=Object.assign||function(e,r){for(var t,o,n=toObject(e),l=1;l<arguments.length;l++){t=Object(arguments[l]);for(var c in t)hasOwnProperty.call(t,c)&&(n[c]=t[c]);if(Object.getOwnPropertySymbols){o=Object.getOwnPropertySymbols(t);for(var p=0;p<o.length;p++)propIsEnumerable.call(t,o[p])&&(n[o[p]]=t[o[p]])}}return n};\\n},{}],10:[function(_dereq_,module,exports){\\n(function (global){\\nvar performance=global.performance||{},present=function(){for(var e=[\\\"now\\\",\\\"webkitNow\\\",\\\"msNow\\\",\\\"mozNow\\\",\\\"oNow\\\"];e.length;){var n=e.shift();if(n in performance)return performance[n].bind(performance)}var r=Date.now||function(){return(new Date).getTime()},o=(performance.timing||{}).navigationStart||r();return function(){return r()-o}}();present.performanceNow=performance.now,present.noConflict=function(){performance.now=present.performanceNow},present.conflict=function(){performance.now=present},present.conflict(),module.exports=present;\\n}).call(this,typeof global !== \\\"undefined\\\" ? global : typeof self !== \\\"undefined\\\" ? self : typeof window !== \\\"undefined\\\" ? window : {})\\n\\n},{}],11:[function(_dereq_,module,exports){\\n!function(t){function e(t,e){return function(){t.apply(e,arguments)}}function n(t){if(\\\"object\\\"!=typeof this)throw new TypeError(\\\"Promises must be constructed via new\\\");if(\\\"function\\\"!=typeof t)throw new TypeError(\\\"not a function\\\");this._state=null,this._value=null,this._deferreds=[],f(t,e(r,this),e(i,this))}function o(t){var e=this;return null===this._state?void this._deferreds.push(t):void l(function(){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return void(e._state?t.resolve:t.reject)(e._value);var o;try{o=n(e._value)}catch(e){return void t.reject(e)}t.resolve(o)})}function r(t){try{if(t===this)throw new TypeError(\\\"A promise cannot be resolved with itself.\\\");if(t&&(\\\"object\\\"==typeof t||\\\"function\\\"==typeof t)){var n=t.then;if(\\\"function\\\"==typeof n)return void f(e(n,t),e(r,this),e(i,this))}this._state=!0,this._value=t,u.call(this)}catch(t){i.call(this,t)}}function i(t){this._state=!1,this._value=t,u.call(this)}function u(){for(var t=0,e=this._deferreds.length;t<e;t++)o.call(this,this._deferreds[t]);this._deferreds=null}function c(t,e,n,o){this.onFulfilled=\\\"function\\\"==typeof t?t:null,this.onRejected=\\\"function\\\"==typeof e?e:null,this.resolve=n,this.reject=o}function f(t,e,n){var o=!1;try{t(function(t){o||(o=!0,e(t))},function(t){o||(o=!0,n(t))})}catch(t){if(o)return;o=!0,n(t)}}var s=setTimeout,l=\\\"function\\\"==typeof setImmediate&&setImmediate||function(t){s(t,1)},h=Array.isArray||function(t){return\\\"[object Array]\\\"===Object.prototype.toString.call(t)};n.prototype.catch=function(t){return this.then(null,t)},n.prototype.then=function(t,e){var r=this;return new n(function(n,i){o.call(r,new c(t,e,n,i))})},n.all=function(){var t=Array.prototype.slice.call(1===arguments.length&&h(arguments[0])?arguments[0]:arguments);return new n(function(e,n){function o(i,u){try{if(u&&(\\\"object\\\"==typeof u||\\\"function\\\"==typeof u)){var c=u.then;if(\\\"function\\\"==typeof c)return void c.call(u,function(t){o(i,t)},n)}t[i]=u,0===--r&&e(t)}catch(t){n(t)}}if(0===t.length)return e([]);for(var r=t.length,i=0;i<t.length;i++)o(i,t[i])})},n.resolve=function(t){return t&&\\\"object\\\"==typeof t&&t.constructor===n?t:new n(function(e){e(t)})},n.reject=function(t){return new n(function(e,n){n(t)})},n.race=function(t){return new n(function(e,n){for(var o=0,r=t.length;o<r;o++)t[o].then(e,n)})},n._setImmediateFn=function(t){l=t},\\\"undefined\\\"!=typeof module&&module.exports?module.exports=n:t.Promise||(t.Promise=n)}(this);\\n},{}],12:[function(_dereq_,module,exports){\\nfunction parse(r){var n=function(r){return r.trim()},e={};return getKeyValueChunks(r).map(n).filter(Boolean).forEach(function(r){var n=r.indexOf(\\\":\\\"),t=r.substr(0,n).trim(),i=r.substr(n+1).trim();e[t]=i}),e}function getKeyValueChunks(r){for(var n,e=[],t=0,i=\\\";\\\",u=/url\\\\([^\\\\)]+$/,s=\\\"\\\";t<r.length;)n=r.indexOf(i,t),n===-1&&(n=r.length),s+=r.substring(t,n),u.test(s)?(s+=\\\";\\\",t=n+1):(e.push(s),s=\\\"\\\",t=n+1);return e}function stringify(r){return Object.keys(r).map(function(n){return n+\\\":\\\"+r[n]}).join(\\\";\\\")}function normalize(r){return stringify(parse(r))}module.exports.parse=parse,module.exports.stringify=stringify,module.exports.normalize=normalize;\\n},{}],13:[function(_dereq_,module,exports){\\n!function(t,e){\\\"object\\\"==typeof exports&&\\\"undefined\\\"!=typeof module?e(exports):\\\"function\\\"==typeof define&&define.amd?define([\\\"exports\\\"],e):e(t.THREE=t.THREE||{})}(this,function(t){\\\"use strict\\\";function e(){}function i(t,e){this.x=t||0,this.y=e||0}function n(t,e,a,o,s,c,h,l,u,p){Object.defineProperty(this,\\\"id\\\",{value:r()}),this.uuid=Fo.generateUUID(),this.name=\\\"\\\",this.sourceFile=\\\"\\\",this.image=void 0!==t?t:n.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==e?e:n.DEFAULT_MAPPING,this.wrapS=void 0!==a?a:Ra,this.wrapT=void 0!==o?o:Ra,this.magFilter=void 0!==s?s:Da,this.minFilter=void 0!==c?c:Fa,this.anisotropy=void 0!==u?u:1,this.format=void 0!==h?h:$a,this.type=void 0!==l?l:za,this.offset=new i(0,0),this.repeat=new i(1,1),this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==p?p:Ao,this.version=0,this.onUpdate=null}function r(){return Bo++}function a(t,e,i,n){this.x=t||0,this.y=e||0,this.z=i||0,this.w=void 0!==n?n:1}function o(t,e,i){this.uuid=Fo.generateUUID(),this.width=t,this.height=e,this.scissor=new a(0,0,t,e),this.scissorTest=!1,this.viewport=new a(0,0,t,e),i=i||{},void 0===i.minFilter&&(i.minFilter=Da),this.texture=new n((void 0),(void 0),i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.depthBuffer=void 0===i.depthBuffer||i.depthBuffer,this.stencilBuffer=void 0===i.stencilBuffer||i.stencilBuffer,this.depthTexture=void 0!==i.depthTexture?i.depthTexture:null}function s(t,e,i){o.call(this,t,e,i),this.activeCubeFace=0,this.activeMipMapLevel=0}function c(t,e,i,n){this._x=t||0,this._y=e||0,this._z=i||0,this._w=void 0!==n?n:1}function h(t,e,i){this.x=t||0,this.y=e||0,this.z=i||0}function l(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),arguments.length>0&&console.error(\\\"THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.\\\")}function u(t,e,i,r,a,o,s,c,h,l){t=void 0!==t?t:[],e=void 0!==e?e:_a,n.call(this,t,e,i,r,a,o,s,c,h,l),this.flipY=!1}function p(){this.seq=[],this.map={}}function d(t,e,i){var n=t[0];if(n<=0||n>0)return t;var r=e*i,a=Ho[r];if(void 0===a&&(a=new Float32Array(r),Ho[r]=a),0!==e){n.toArray(a,0);for(var o=1,s=0;o!==e;++o)s+=i,t[o].toArray(a,s)}return a}function f(t,e){var i=Vo[e];void 0===i&&(i=new Int32Array(e),Vo[e]=i);for(var n=0;n!==e;++n)i[n]=t.allocTextureUnit();return i}function m(t,e){t.uniform1f(this.addr,e)}function v(t,e){t.uniform1i(this.addr,e)}function g(t,e){void 0===e.x?t.uniform2fv(this.addr,e):t.uniform2f(this.addr,e.x,e.y)}function y(t,e){void 0!==e.x?t.uniform3f(this.addr,e.x,e.y,e.z):void 0!==e.r?t.uniform3f(this.addr,e.r,e.g,e.b):t.uniform3fv(this.addr,e)}function x(t,e){void 0===e.x?t.uniform4fv(this.addr,e):t.uniform4f(this.addr,e.x,e.y,e.z,e.w)}function _(t,e){t.uniformMatrix2fv(this.addr,!1,e.elements||e)}function b(t,e){t.uniformMatrix3fv(this.addr,!1,e.elements||e)}function w(t,e){t.uniformMatrix4fv(this.addr,!1,e.elements||e)}function M(t,e,i){var n=i.allocTextureUnit();t.uniform1i(this.addr,n),i.setTexture2D(e||zo,n)}function E(t,e,i){var n=i.allocTextureUnit();t.uniform1i(this.addr,n),i.setTextureCube(e||Go,n)}function T(t,e){t.uniform2iv(this.addr,e)}function S(t,e){t.uniform3iv(this.addr,e)}function A(t,e){t.uniform4iv(this.addr,e)}function L(t){switch(t){case 5126:return m;case 35664:return g;case 35665:return y;case 35666:return x;case 35674:return _;case 35675:return b;case 35676:return w;case 35678:return M;case 35680:return E;case 5124:case 35670:return v;case 35667:case 35671:return T;case 35668:case 35672:return S;case 35669:case 35673:return A}}function R(t,e){t.uniform1fv(this.addr,e)}function P(t,e){t.uniform1iv(this.addr,e)}function C(t,e){t.uniform2fv(this.addr,d(e,this.size,2))}function I(t,e){t.uniform3fv(this.addr,d(e,this.size,3))}function U(t,e){t.uniform4fv(this.addr,d(e,this.size,4))}function N(t,e){t.uniformMatrix2fv(this.addr,!1,d(e,this.size,4))}function D(t,e){t.uniformMatrix3fv(this.addr,!1,d(e,this.size,9))}function O(t,e){t.uniformMatrix4fv(this.addr,!1,d(e,this.size,16))}function F(t,e,i){var n=e.length,r=f(i,n);t.uniform1iv(this.addr,r);for(var a=0;a!==n;++a)i.setTexture2D(e[a]||zo,r[a])}function B(t,e,i){var n=e.length,r=f(i,n);t.uniform1iv(this.addr,r);for(var a=0;a!==n;++a)i.setTextureCube(e[a]||Go,r[a])}function z(t){switch(t){case 5126:return R;case 35664:return C;case 35665:return I;case 35666:return U;case 35674:return N;case 35675:return D;case 35676:return O;case 35678:return F;case 35680:return B;case 5124:case 35670:return P;case 35667:case 35671:return T;case 35668:case 35672:return S;case 35669:case 35673:return A}}function G(t,e,i){this.id=t,this.addr=i,this.setValue=L(e.type)}function H(t,e,i){this.id=t,this.addr=i,this.size=e.size,this.setValue=z(e.type)}function V(t){this.id=t,p.call(this)}function k(t,e){t.seq.push(e),t.map[e.id]=e}function j(t,e,i){var n=t.name,r=n.length;for(ko.lastIndex=0;;){var a=ko.exec(n),o=ko.lastIndex,s=a[1],c=\\\"]\\\"===a[2],h=a[3];if(c&&(s=0|s),void 0===h||\\\"[\\\"===h&&o+2===r){k(i,void 0===h?new G(s,t,e):new H(s,t,e));break}var l=i.map,u=l[s];void 0===u&&(u=new V(s),k(i,u)),i=u}}function W(t,e,i){p.call(this),this.renderer=i;for(var n=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),r=0;r!==n;++r){var a=t.getActiveUniform(e,r),o=a.name,s=t.getUniformLocation(e,o);j(a,s,this)}}function X(t,e,i){return void 0===e&&void 0===i?this.set(t):this.setRGB(t,e,i)}function Y(t,e){this.min=void 0!==t?t:new i((+(1/0)),(+(1/0))),this.max=void 0!==e?e:new i((-(1/0)),(-(1/0)))}function q(t,e){function n(){var t=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]),e=new Uint16Array([0,1,2,0,2,3]);a=f.createBuffer(),o=f.createBuffer(),f.bindBuffer(f.ARRAY_BUFFER,a),f.bufferData(f.ARRAY_BUFFER,t,f.STATIC_DRAW),f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,o),f.bufferData(f.ELEMENT_ARRAY_BUFFER,e,f.STATIC_DRAW),p=f.createTexture(),d=f.createTexture(),m.bindTexture(f.TEXTURE_2D,p),f.texImage2D(f.TEXTURE_2D,0,f.RGB,16,16,0,f.RGB,f.UNSIGNED_BYTE,null),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,f.NEAREST),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,f.NEAREST),m.bindTexture(f.TEXTURE_2D,d),f.texImage2D(f.TEXTURE_2D,0,f.RGBA,16,16,0,f.RGBA,f.UNSIGNED_BYTE,null),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,f.NEAREST),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,f.NEAREST),s={vertexShader:[\\\"uniform lowp int renderType;\\\",\\\"uniform vec3 screenPosition;\\\",\\\"uniform vec2 scale;\\\",\\\"uniform float rotation;\\\",\\\"uniform sampler2D occlusionMap;\\\",\\\"attribute vec2 position;\\\",\\\"attribute vec2 uv;\\\",\\\"varying vec2 vUV;\\\",\\\"varying float vVisibility;\\\",\\\"void main() {\\\",\\\"vUV = uv;\\\",\\\"vec2 pos = position;\\\",\\\"if ( renderType == 2 ) {\\\",\\\"vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );\\\",\\\"visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );\\\",\\\"visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );\\\",\\\"visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );\\\",\\\"visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );\\\",\\\"visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );\\\",\\\"visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );\\\",\\\"visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );\\\",\\\"visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );\\\",\\\"vVisibility =        visibility.r / 9.0;\\\",\\\"vVisibility *= 1.0 - visibility.g / 9.0;\\\",\\\"vVisibility *=       visibility.b / 9.0;\\\",\\\"vVisibility *= 1.0 - visibility.a / 9.0;\\\",\\\"pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;\\\",\\\"pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;\\\",\\\"}\\\",\\\"gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );\\\",\\\"}\\\"].join(\\\"\\\\n\\\"),fragmentShader:[\\\"uniform lowp int renderType;\\\",\\\"uniform sampler2D map;\\\",\\\"uniform float opacity;\\\",\\\"uniform vec3 color;\\\",\\\"varying vec2 vUV;\\\",\\\"varying float vVisibility;\\\",\\\"void main() {\\\",\\\"if ( renderType == 0 ) {\\\",\\\"gl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );\\\",\\\"} else if ( renderType == 1 ) {\\\",\\\"gl_FragColor = texture2D( map, vUV );\\\",\\\"} else {\\\",\\\"vec4 texture = texture2D( map, vUV );\\\",\\\"texture.a *= opacity * vVisibility;\\\",\\\"gl_FragColor = texture;\\\",\\\"gl_FragColor.rgb *= color;\\\",\\\"}\\\",\\\"}\\\"].join(\\\"\\\\n\\\")},c=r(s),l={vertex:f.getAttribLocation(c,\\\"position\\\"),uv:f.getAttribLocation(c,\\\"uv\\\")},u={renderType:f.getUniformLocation(c,\\\"renderType\\\"),map:f.getUniformLocation(c,\\\"map\\\"),occlusionMap:f.getUniformLocation(c,\\\"occlusionMap\\\"),opacity:f.getUniformLocation(c,\\\"opacity\\\"),color:f.getUniformLocation(c,\\\"color\\\"),scale:f.getUniformLocation(c,\\\"scale\\\"),rotation:f.getUniformLocation(c,\\\"rotation\\\"),screenPosition:f.getUniformLocation(c,\\\"screenPosition\\\")}}function r(e){var i=f.createProgram(),n=f.createShader(f.FRAGMENT_SHADER),r=f.createShader(f.VERTEX_SHADER),a=\\\"precision \\\"+t.getPrecision()+\\\" float;\\\\n\\\";return f.shaderSource(n,a+e.fragmentShader),f.shaderSource(r,a+e.vertexShader),f.compileShader(n),f.compileShader(r),f.attachShader(i,n),f.attachShader(i,r),f.linkProgram(i),i}var a,o,s,c,l,u,p,d,f=t.context,m=t.state;this.render=function(r,s,v){if(0!==e.length){var g=new h,y=v.w/v.z,x=.5*v.z,_=.5*v.w,b=16/v.w,w=new i(b*y,b),M=new h(1,1,0),E=new i(1,1),T=new Y;T.min.set(v.x,v.y),T.max.set(v.x+(v.z-16),v.y+(v.w-16)),void 0===c&&n(),f.useProgram(c),m.initAttributes(),m.enableAttribute(l.vertex),m.enableAttribute(l.uv),m.disableUnusedAttributes(),f.uniform1i(u.occlusionMap,0),f.uniform1i(u.map,1),f.bindBuffer(f.ARRAY_BUFFER,a),f.vertexAttribPointer(l.vertex,2,f.FLOAT,!1,16,0),f.vertexAttribPointer(l.uv,2,f.FLOAT,!1,16,8),f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,o),m.disable(f.CULL_FACE),m.setDepthWrite(!1);for(var S=0,A=e.length;S<A;S++){b=16/v.w,w.set(b*y,b);var L=e[S];if(g.set(L.matrixWorld.elements[12],L.matrixWorld.elements[13],L.matrixWorld.elements[14]),g.applyMatrix4(s.matrixWorldInverse),g.applyProjection(s.projectionMatrix),M.copy(g),E.x=v.x+M.x*x+x-8,E.y=v.y+M.y*_+_-8,T.containsPoint(E)===!0){m.activeTexture(f.TEXTURE0),m.bindTexture(f.TEXTURE_2D,null),m.activeTexture(f.TEXTURE1),m.bindTexture(f.TEXTURE_2D,p),f.copyTexImage2D(f.TEXTURE_2D,0,f.RGB,E.x,E.y,16,16,0),f.uniform1i(u.renderType,0),f.uniform2f(u.scale,w.x,w.y),f.uniform3f(u.screenPosition,M.x,M.y,M.z),m.disable(f.BLEND),m.enable(f.DEPTH_TEST),f.drawElements(f.TRIANGLES,6,f.UNSIGNED_SHORT,0),m.activeTexture(f.TEXTURE0),m.bindTexture(f.TEXTURE_2D,d),f.copyTexImage2D(f.TEXTURE_2D,0,f.RGBA,E.x,E.y,16,16,0),f.uniform1i(u.renderType,1),m.disable(f.DEPTH_TEST),m.activeTexture(f.TEXTURE1),m.bindTexture(f.TEXTURE_2D,p),f.drawElements(f.TRIANGLES,6,f.UNSIGNED_SHORT,0),L.positionScreen.copy(M),L.customUpdateCallback?L.customUpdateCallback(L):L.updateLensFlares(),f.uniform1i(u.renderType,2),m.enable(f.BLEND);for(var R=0,P=L.lensFlares.length;R<P;R++){var C=L.lensFlares[R];C.opacity>.001&&C.scale>.001&&(M.x=C.x,M.y=C.y,M.z=C.z,b=C.size*C.scale/v.w,w.x=b*y,w.y=b,f.uniform3f(u.screenPosition,M.x,M.y,M.z),f.uniform2f(u.scale,w.x,w.y),f.uniform1f(u.rotation,C.rotation),f.uniform1f(u.opacity,C.opacity),f.uniform3f(u.color,C.color.r,C.color.g,C.color.b),m.setBlending(C.blending,C.blendEquation,C.blendSrc,C.blendDst),t.setTexture2D(C.texture,1),f.drawElements(f.TRIANGLES,6,f.UNSIGNED_SHORT,0))}}}m.enable(f.CULL_FACE),m.enable(f.DEPTH_TEST),m.setDepthWrite(!0),t.resetGLState()}}}function Z(t,e){function i(){var t=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),e=new Uint16Array([0,1,2,0,2,3]);o=f.createBuffer(),s=f.createBuffer(),f.bindBuffer(f.ARRAY_BUFFER,o),f.bufferData(f.ARRAY_BUFFER,t,f.STATIC_DRAW),f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,s),f.bufferData(f.ELEMENT_ARRAY_BUFFER,e,f.STATIC_DRAW),l=r(),u={position:f.getAttribLocation(l,\\\"position\\\"),uv:f.getAttribLocation(l,\\\"uv\\\")},p={uvOffset:f.getUniformLocation(l,\\\"uvOffset\\\"),uvScale:f.getUniformLocation(l,\\\"uvScale\\\"),rotation:f.getUniformLocation(l,\\\"rotation\\\"),scale:f.getUniformLocation(l,\\\"scale\\\"),color:f.getUniformLocation(l,\\\"color\\\"),map:f.getUniformLocation(l,\\\"map\\\"),opacity:f.getUniformLocation(l,\\\"opacity\\\"),modelViewMatrix:f.getUniformLocation(l,\\\"modelViewMatrix\\\"),projectionMatrix:f.getUniformLocation(l,\\\"projectionMatrix\\\"),fogType:f.getUniformLocation(l,\\\"fogType\\\"),fogDensity:f.getUniformLocation(l,\\\"fogDensity\\\"),fogNear:f.getUniformLocation(l,\\\"fogNear\\\"),fogFar:f.getUniformLocation(l,\\\"fogFar\\\"),fogColor:f.getUniformLocation(l,\\\"fogColor\\\"),alphaTest:f.getUniformLocation(l,\\\"alphaTest\\\")};var i=document.createElementNS(\\\"http://www.w3.org/1999/xhtml\\\",\\\"canvas\\\");i.width=8,i.height=8;var a=i.getContext(\\\"2d\\\");a.fillStyle=\\\"white\\\",a.fillRect(0,0,8,8),d=new n(i),d.needsUpdate=!0}function r(){var e=f.createProgram(),i=f.createShader(f.VERTEX_SHADER),n=f.createShader(f.FRAGMENT_SHADER);return f.shaderSource(i,[\\\"precision \\\"+t.getPrecision()+\\\" float;\\\",\\\"uniform mat4 modelViewMatrix;\\\",\\\"uniform mat4 projectionMatrix;\\\",\\\"uniform float rotation;\\\",\\\"uniform vec2 scale;\\\",\\\"uniform vec2 uvOffset;\\\",\\\"uniform vec2 uvScale;\\\",\\\"attribute vec2 position;\\\",\\\"attribute vec2 uv;\\\",\\\"varying vec2 vUV;\\\",\\\"void main() {\\\",\\\"vUV = uvOffset + uv * uvScale;\\\",\\\"vec2 alignedPosition = position * scale;\\\",\\\"vec2 rotatedPosition;\\\",\\\"rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\\\",\\\"rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\\\",\\\"vec4 finalPosition;\\\",\\\"finalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\\\",\\\"finalPosition.xy += rotatedPosition;\\\",\\\"finalPosition = projectionMatrix * finalPosition;\\\",\\\"gl_Position = finalPosition;\\\",\\\"}\\\"].join(\\\"\\\\n\\\")),f.shaderSource(n,[\\\"precision \\\"+t.getPrecision()+\\\" float;\\\",\\\"uniform vec3 color;\\\",\\\"uniform sampler2D map;\\\",\\\"uniform float opacity;\\\",\\\"uniform int fogType;\\\",\\\"uniform vec3 fogColor;\\\",\\\"uniform float fogDensity;\\\",\\\"uniform float fogNear;\\\",\\\"uniform float fogFar;\\\",\\\"uniform float alphaTest;\\\",\\\"varying vec2 vUV;\\\",\\\"void main() {\\\",\\\"vec4 texture = texture2D( map, vUV );\\\",\\\"if ( texture.a < alphaTest ) discard;\\\",\\\"gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );\\\",\\\"if ( fogType > 0 ) {\\\",\\\"float depth = gl_FragCoord.z / gl_FragCoord.w;\\\",\\\"float fogFactor = 0.0;\\\",\\\"if ( fogType == 1 ) {\\\",\\\"fogFactor = smoothstep( fogNear, fogFar, depth );\\\",\\\"} else {\\\",\\\"const float LOG2 = 1.442695;\\\",\\\"fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );\\\",\\\"fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );\\\",\\\"}\\\",\\\"gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\\\",\\\"}\\\",\\\"}\\\"].join(\\\"\\\\n\\\")),f.compileShader(i),f.compileShader(n),f.attachShader(e,i),f.attachShader(e,n),f.linkProgram(e),e}function a(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:e.id-t.id}var o,s,l,u,p,d,f=t.context,m=t.state,v=new h,g=new c,y=new h;this.render=function(n,r){if(0!==e.length){void 0===l&&i(),f.useProgram(l),m.initAttributes(),m.enableAttribute(u.position),m.enableAttribute(u.uv),m.disableUnusedAttributes(),m.disable(f.CULL_FACE),m.enable(f.BLEND),f.bindBuffer(f.ARRAY_BUFFER,o),f.vertexAttribPointer(u.position,2,f.FLOAT,!1,16,0),f.vertexAttribPointer(u.uv,2,f.FLOAT,!1,16,8),f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,s),f.uniformMatrix4fv(p.projectionMatrix,!1,r.projectionMatrix.elements),m.activeTexture(f.TEXTURE0),f.uniform1i(p.map,0);var c=0,h=0,x=n.fog;x?(f.uniform3f(p.fogColor,x.color.r,x.color.g,x.color.b),x&&x.isFog?(f.uniform1f(p.fogNear,x.near),f.uniform1f(p.fogFar,x.far),f.uniform1i(p.fogType,1),c=1,h=1):x&&x.isFogExp2&&(f.uniform1f(p.fogDensity,x.density),f.uniform1i(p.fogType,2),c=2,h=2)):(f.uniform1i(p.fogType,0),c=0,h=0);for(var _=0,b=e.length;_<b;_++){var w=e[_];w.modelViewMatrix.multiplyMatrices(r.matrixWorldInverse,w.matrixWorld),w.z=-w.modelViewMatrix.elements[14]}e.sort(a);for(var M=[],_=0,b=e.length;_<b;_++){var w=e[_],E=w.material;if(E.visible!==!1){f.uniform1f(p.alphaTest,E.alphaTest),f.uniformMatrix4fv(p.modelViewMatrix,!1,w.modelViewMatrix.elements),w.matrixWorld.decompose(v,g,y),M[0]=y.x,M[1]=y.y;var T=0;n.fog&&E.fog&&(T=h),c!==T&&(f.uniform1i(p.fogType,T),c=T),null!==E.map?(f.uniform2f(p.uvOffset,E.map.offset.x,E.map.offset.y),f.uniform2f(p.uvScale,E.map.repeat.x,E.map.repeat.y)):(f.uniform2f(p.uvOffset,0,0),f.uniform2f(p.uvScale,1,1)),f.uniform1f(p.opacity,E.opacity),f.uniform3f(p.color,E.color.r,E.color.g,E.color.b),f.uniform1f(p.rotation,E.rotation),f.uniform2fv(p.scale,M),m.setBlending(E.blending,E.blendEquation,E.blendSrc,E.blendDst),m.setDepthTest(E.depthTest),m.setDepthWrite(E.depthWrite),E.map?t.setTexture2D(E.map,0):t.setTexture2D(d,0),f.drawElements(f.TRIANGLES,6,f.UNSIGNED_SHORT,0)}}m.enable(f.CULL_FACE),t.resetGLState()}}}function J(){Object.defineProperty(this,\\\"id\\\",{value:Q()}),this.uuid=Fo.generateUUID(),this.name=\\\"\\\",this.type=\\\"Material\\\",this.fog=!0,this.lights=!0,this.blending=Dr,this.side=Sr,this.shading=Pr,this.vertexColors=Cr,this.opacity=1,this.transparent=!1,this.blendSrc=Jr,this.blendDst=Qr,this.blendEquation=Hr,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=oa,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.alphaTest=0,this.premultipliedAlpha=!1,this.overdraw=0,this.visible=!0,this._needsUpdate=!0}function Q(){return Xc++}function K(t){J.call(this),this.type=\\\"ShaderMaterial\\\",this.defines={},this.uniforms={},this.vertexShader=\\\"void main() {\\\\n\\\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\\\n}\\\",this.fragmentShader=\\\"void main() {\\\\n\\\\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\\\\n}\\\",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,void 0!==t&&(void 0!==t.attributes&&console.error(\\\"THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead.\\\"),this.setValues(t))}function $(t){J.call(this),this.type=\\\"MeshDepthMaterial\\\",this.depthPacking=Do,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(t)}function tt(t,e){this.min=void 0!==t?t:new h((+(1/0)),(+(1/0)),(+(1/0))),this.max=void 0!==e?e:new h((-(1/0)),(-(1/0)),(-(1/0)))}function et(t,e){this.center=void 0!==t?t:new h,this.radius=void 0!==e?e:0}function it(){this.elements=new Float32Array([1,0,0,0,1,0,0,0,1]),arguments.length>0&&console.error(\\\"THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.\\\")}function nt(t,e){this.normal=void 0!==t?t:new h(1,0,0),this.constant=void 0!==e?e:0}function rt(t,e,i,n,r,a){this.planes=[void 0!==t?t:new nt,void 0!==e?e:new nt,void 0!==i?i:new nt,void 0!==n?n:new nt,void 0!==r?r:new nt,void 0!==a?a:new nt]}function at(t,e,n,r){function s(e,i,n,r){var a=e.geometry,o=null,s=E,c=e.customDepthMaterial;if(n&&(s=T,c=e.customDistanceMaterial),c)o=c;else{var h=!1;i.morphTargets&&(a&&a.isBufferGeometry?h=a.morphAttributes&&a.morphAttributes.position&&a.morphAttributes.position.length>0:a&&a.isGeometry&&(h=a.morphTargets&&a.morphTargets.length>0));var l=e.isSkinnedMesh&&i.skinning,u=0;h&&(u|=b),l&&(u|=w),o=s[u]}if(t.localClippingEnabled&&i.clipShadows===!0&&0!==i.clippingPlanes.length){var p=o.uuid,d=i.uuid,f=S[p];void 0===f&&(f={},S[p]=f);var m=f[d];void 0===m&&(m=o.clone(),f[d]=m),o=m}o.visible=i.visible,o.wireframe=i.wireframe;var v=i.side;return B.renderSingleSided&&v==Lr&&(v=Sr),B.renderReverseSided&&(v===Sr?v=Ar:v===Ar&&(v=Sr)),o.side=v,o.clipShadows=i.clipShadows,o.clippingPlanes=i.clippingPlanes,o.wireframeLinewidth=i.wireframeLinewidth,o.linewidth=i.linewidth,n&&void 0!==o.uniforms.lightPos&&o.uniforms.lightPos.value.copy(r),o}function c(t,e,i){if(t.visible!==!1){var n=0!==(t.layers.mask&e.layers.mask);if(n&&(t.isMesh||t.isLine||t.isPoints)&&t.castShadow&&(t.frustumCulled===!1||d.intersectsObject(t)===!0)){var r=t.material;r.visible===!0&&(t.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,t.matrixWorld),_.push(t))}for(var a=t.children,o=0,s=a.length;o<s;o++)c(a[o],e,i)}}var u=t.context,p=t.state,d=new rt,f=new l,m=e.shadows,v=new i,g=new i(r.maxTextureSize,r.maxTextureSize),y=new h,x=new h,_=[],b=1,w=2,M=(b|w)+1,E=new Array(M),T=new Array(M),S={},A=[new h(1,0,0),new h((-1),0,0),new h(0,0,1),new h(0,0,(-1)),new h(0,1,0),new h(0,(-1),0)],L=[new h(0,1,0),new h(0,1,0),new h(0,1,0),new h(0,1,0),new h(0,0,1),new h(0,0,(-1))],R=[new a,new a,new a,new a,new a,new a],P=new $;P.depthPacking=Oo,P.clipping=!0;for(var C=Wc.distanceRGBA,I=jo.clone(C.uniforms),U=0;U!==M;++U){var N=0!==(U&b),D=0!==(U&w),O=P.clone();O.morphTargets=N,O.skinning=D,E[U]=O;var F=new K({defines:{USE_SHADOWMAP:\\\"\\\"},uniforms:I,vertexShader:C.vertexShader,fragmentShader:C.fragmentShader,morphTargets:N,skinning:D,clipping:!0});T[U]=F}var B=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Er,this.renderReverseSided=!0,this.renderSingleSided=!0,this.render=function(e,i){if(B.enabled!==!1&&(B.autoUpdate!==!1||B.needsUpdate!==!1)&&0!==m.length){p.clearColor(1,1,1,1),p.disable(u.BLEND),p.setDepthTest(!0),p.setScissorTest(!1);for(var r,a,h=0,l=m.length;h<l;h++){var b=m[h],w=b.shadow;if(void 0!==w){var M=w.camera;if(v.copy(w.mapSize),v.min(g),b&&b.isPointLight){r=6,a=!0;var E=v.x,T=v.y;R[0].set(2*E,T,E,T),R[1].set(0,T,E,T),R[2].set(3*E,T,E,T),R[3].set(E,T,E,T),R[4].set(3*E,0,E,T),R[5].set(E,0,E,T),v.x*=4,v.y*=2}else r=1,a=!1;if(null===w.map){var S={minFilter:Ia,magFilter:Ia,format:$a};w.map=new o(v.x,v.y,S),M.updateProjectionMatrix()}w&&w.isSpotLightShadow&&w.update(b);var P=w.map,C=w.matrix;x.setFromMatrixPosition(b.matrixWorld),M.position.copy(x),t.setRenderTarget(P),t.clear();for(var I=0;I<r;I++){if(a){y.copy(M.position),y.add(A[I]),M.up.copy(L[I]),M.lookAt(y);var U=R[I];p.viewport(U)}else y.setFromMatrixPosition(b.target.matrixWorld),M.lookAt(y);M.updateMatrixWorld(),M.matrixWorldInverse.getInverse(M.matrixWorld),C.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),C.multiply(M.projectionMatrix),C.multiply(M.matrixWorldInverse),f.multiplyMatrices(M.projectionMatrix,M.matrixWorldInverse),d.setFromMatrix(f),_.length=0,c(e,i,M);for(var N=0,D=_.length;N<D;N++){var O=_[N],F=n.update(O),z=O.material;if(z&&z.isMultiMaterial)for(var G=F.groups,H=z.materials,V=0,k=G.length;V<k;V++){var j=G[V],W=H[j.materialIndex];if(W.visible===!0){var X=s(O,W,a,x);t.renderBufferDirect(M,null,F,X,O,j)}}else{var X=s(O,z,a,x);t.renderBufferDirect(M,null,F,X,O,null)}}}}else console.warn(\\\"THREE.WebGLShadowMap:\\\",b,\\\"has no shadow.\\\")}var Y=t.getClearColor(),q=t.getClearAlpha();t.setClearColor(Y,q),B.needsUpdate=!1}}}function ot(t,e){this.origin=void 0!==t?t:new h,this.direction=void 0!==e?e:new h}function st(t,e,i,n){this._x=t||0,this._y=e||0,this._z=i||0,this._order=n||st.DefaultOrder}function ct(){this.mask=1}function ht(){function t(){r.setFromEuler(n,!1)}function e(){n.setFromQuaternion(r,void 0,!1)}Object.defineProperty(this,\\\"id\\\",{value:lt()}),this.uuid=Fo.generateUUID(),this.name=\\\"\\\",this.type=\\\"Object3D\\\",this.parent=null,this.children=[],this.up=ht.DefaultUp.clone();var i=new h,n=new st,r=new c,a=new h(1,1,1);n.onChange(t),r.onChange(e),Object.defineProperties(this,{position:{enumerable:!0,value:i},rotation:{enumerable:!0,value:n},quaternion:{enumerable:!0,value:r},scale:{enumerable:!0,value:a},modelViewMatrix:{value:new l},normalMatrix:{value:new it}}),this.matrix=new l,this.matrixWorld=new l,this.matrixAutoUpdate=ht.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new ct,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={},this.onBeforeRender=function(){},this.onAfterRender=function(){}}function lt(){return Yc++}function ut(t,e){this.start=void 0!==t?t:new h,this.end=void 0!==e?e:new h}function pt(t,e,i){this.a=void 0!==t?t:new h,this.b=void 0!==e?e:new h,this.c=void 0!==i?i:new h}function dt(t,e,i,n,r,a){this.a=t,this.b=e,this.c=i,this.normal=n&&n.isVector3?n:new h,this.vertexNormals=Array.isArray(n)?n:[],this.color=r&&r.isColor?r:new X,this.vertexColors=Array.isArray(r)?r:[],this.materialIndex=void 0!==a?a:0}function ft(t){J.call(this),this.type=\\\"MeshBasicMaterial\\\",this.color=new X(16777215),this.map=null,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ua,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap=\\\"round\\\",this.wireframeLinejoin=\\\"round\\\",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(t)}function mt(t,e,i){if(Array.isArray(t))throw new TypeError(\\\"THREE.BufferAttribute: array should be a Typed Array.\\\");this.uuid=Fo.generateUUID(),this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=i===!0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function vt(t,e){return new mt(new Int8Array(t),e)}function gt(t,e){return new mt(new Uint8Array(t),e)}function yt(t,e){return new mt(new Uint8ClampedArray(t),e)}function xt(t,e){return new mt(new Int16Array(t),e)}function _t(t,e){return new mt(new Uint16Array(t),e)}function bt(t,e){return new mt(new Int32Array(t),e)}function wt(t,e){return new mt(new Uint32Array(t),e)}function Mt(t,e){return new mt(new Float32Array(t),e)}function Et(t,e){return new mt(new Float64Array(t),e)}function Tt(t,e){return console.warn(\\\"THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead.\\\"),new mt(t,e).setDynamic(!0)}function St(){Object.defineProperty(this,\\\"id\\\",{value:At()}),this.uuid=Fo.generateUUID(),this.name=\\\"\\\",this.type=\\\"Geometry\\\",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function At(){return qc++}function Lt(){Object.defineProperty(this,\\\"id\\\",{value:At()}),this.uuid=Fo.generateUUID(),this.name=\\\"\\\",this.type=\\\"DirectGeometry\\\",this.indices=[],this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function Rt(){Object.defineProperty(this,\\\"id\\\",{value:At()}),this.uuid=Fo.generateUUID(),this.name=\\\"\\\",this.type=\\\"BufferGeometry\\\",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0}}function Pt(t,e){ht.call(this),this.type=\\\"Mesh\\\",this.geometry=void 0!==t?t:new Rt,this.material=void 0!==e?e:new ft({color:16777215*Math.random()}),this.drawMode=Eo,this.updateMorphTargets()}function Ct(t,e,i,n,r,a){function o(t,e,i){var n=0;return n+=(t+1)*(e+1)*2,n+=(t+1)*(i+1)*2,n+=(i+1)*(e+1)*2}function s(t,e,i){var n=0;return n+=t*e*2,n+=t*i*2,n+=i*e*2,6*n}function c(t,e,i,n,r,a,o,s,c,u,p){for(var w=a/c,M=o/u,E=a/2,T=o/2,S=s/2,A=c+1,L=u+1,R=0,P=0,C=new h,I=0;I<L;I++)for(var U=I*M-T,N=0;N<A;N++){var D=N*w-E;C[t]=D*n,C[e]=U*r,C[i]=S,f[g]=C.x,f[g+1]=C.y,f[g+2]=C.z,C[t]=0,C[e]=0,C[i]=s>0?1:-1,m[g]=C.x,m[g+1]=C.y,m[g+2]=C.z,v[y]=N/c,v[y+1]=1-I/u,g+=3,y+=2,R+=1}for(I=0;I<u;I++)for(N=0;N<c;N++){var O=_+N+A*I,F=_+N+A*(I+1),B=_+(N+1)+A*(I+1),z=_+(N+1)+A*I;d[x]=O,d[x+1]=F,d[x+2]=z,d[x+3]=F,d[x+4]=B,d[x+5]=z,x+=6,P+=6}l.addGroup(b,P,p),b+=P,_+=R}Rt.call(this),this.type=\\\"BoxBufferGeometry\\\",this.parameters={width:t,height:e,depth:i,widthSegments:n,heightSegments:r,depthSegments:a};var l=this;n=Math.floor(n)||1,r=Math.floor(r)||1,a=Math.floor(a)||1;var u=o(n,r,a),p=s(n,r,a),d=new(p>65535?Uint32Array:Uint16Array)(p),f=new Float32Array(3*u),m=new Float32Array(3*u),v=new Float32Array(2*u),g=0,y=0,x=0,_=0,b=0;c(\\\"z\\\",\\\"y\\\",\\\"x\\\",-1,-1,i,e,t,a,r,0),c(\\\"z\\\",\\\"y\\\",\\\"x\\\",1,-1,i,e,-t,a,r,1),c(\\\"x\\\",\\\"z\\\",\\\"y\\\",1,1,t,i,e,n,a,2),c(\\\"x\\\",\\\"z\\\",\\\"y\\\",1,-1,t,i,-e,n,a,3),c(\\\"x\\\",\\\"y\\\",\\\"z\\\",1,-1,t,e,i,n,r,4),c(\\\"x\\\",\\\"y\\\",\\\"z\\\",-1,-1,t,e,-i,n,r,5),this.setIndex(new mt(d,1)),this.addAttribute(\\\"position\\\",new mt(f,3)),this.addAttribute(\\\"normal\\\",new mt(m,3)),this.addAttribute(\\\"uv\\\",new mt(v,2))}function It(t,e,i,n){Rt.call(this),this.type=\\\"PlaneBufferGeometry\\\",this.parameters={width:t,height:e,widthSegments:i,heightSegments:n};for(var r=t/2,a=e/2,o=Math.floor(i)||1,s=Math.floor(n)||1,c=o+1,h=s+1,l=t/o,u=e/s,p=new Float32Array(c*h*3),d=new Float32Array(c*h*3),f=new Float32Array(c*h*2),m=0,v=0,g=0;g<h;g++)for(var y=g*u-a,x=0;x<c;x++){var _=x*l-r;p[m]=_,p[m+1]=-y,d[m+2]=1,f[v]=x/o,f[v+1]=1-g/s,m+=3,v+=2}m=0;for(var b=new(p.length/3>65535?Uint32Array:Uint16Array)(o*s*6),g=0;g<s;g++)for(var x=0;x<o;x++){var w=x+c*g,M=x+c*(g+1),E=x+1+c*(g+1),T=x+1+c*g;b[m]=w,b[m+1]=M,b[m+2]=T,b[m+3]=M,b[m+4]=E,b[m+5]=T,m+=6}this.setIndex(new mt(b,1)),this.addAttribute(\\\"position\\\",new mt(p,3)),this.addAttribute(\\\"normal\\\",new mt(d,3)),this.addAttribute(\\\"uv\\\",new mt(f,2))}function Ut(){ht.call(this),this.type=\\\"Camera\\\",this.matrixWorldInverse=new l,this.projectionMatrix=new l}function Nt(t,e,i,n){Ut.call(this),this.type=\\\"PerspectiveCamera\\\",this.fov=void 0!==t?t:50,this.zoom=1,this.near=void 0!==i?i:.1,this.far=void 0!==n?n:2e3,this.focus=10,this.aspect=void 0!==e?e:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function Dt(t,e,i,n,r,a){Ut.call(this),this.type=\\\"OrthographicCamera\\\",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=i,this.bottom=n,this.near=void 0!==r?r:.1,this.far=void 0!==a?a:2e3,this.updateProjectionMatrix()}function Ot(t,e,i){function n(t){s=t}function r(i){i.array instanceof Uint32Array&&e.get(\\\"OES_element_index_uint\\\")?(c=t.UNSIGNED_INT,h=4):(c=t.UNSIGNED_SHORT,h=2)}function a(e,n){t.drawElements(s,n,c,e*h),i.calls++,i.vertices+=n,s===t.TRIANGLES&&(i.faces+=n/3)}function o(n,r,a){var o=e.get(\\\"ANGLE_instanced_arrays\\\");return null===o?void console.error(\\\"THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.\\\"):(o.drawElementsInstancedANGLE(s,a,c,r*h,n.maxInstancedCount),i.calls++,i.vertices+=a*n.maxInstancedCount,void(s===t.TRIANGLES&&(i.faces+=n.maxInstancedCount*a/3)))}var s,c,h;return{setMode:n,setIndex:r,render:a,renderInstances:o}}function Ft(t,e,i){function n(t){o=t}function r(e,n){t.drawArrays(o,e,n),i.calls++,i.vertices+=n,o===t.TRIANGLES&&(i.faces+=n/3)}function a(n){var r=e.get(\\\"ANGLE_instanced_arrays\\\");if(null===r)return void console.error(\\\"THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.\\\");var a=n.attributes.position,s=0;a&&a.isInterleavedBufferAttribute?(s=a.data.count,r.drawArraysInstancedANGLE(o,0,s,n.maxInstancedCount)):(s=a.count,r.drawArraysInstancedANGLE(o,0,s,n.maxInstancedCount)),i.calls++,i.vertices+=s*n.maxInstancedCount,o===t.TRIANGLES&&(i.faces+=n.maxInstancedCount*s/3)}var o;return{setMode:n,render:r,renderInstances:a}}function Bt(){var t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];var n;switch(e.type){case\\\"DirectionalLight\\\":n={direction:new h,color:new X,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new i};break;case\\\"SpotLight\\\":n={position:new h,direction:new h,color:new X,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new i};break;case\\\"PointLight\\\":n={position:new h,color:new X,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new i\\n};break;case\\\"HemisphereLight\\\":n={direction:new h,skyColor:new X,groundColor:new X}}return t[e.id]=n,n}}}function zt(t){for(var e=t.split(\\\"\\\\n\\\"),i=0;i<e.length;i++)e[i]=i+1+\\\": \\\"+e[i];return e.join(\\\"\\\\n\\\")}function Gt(t,e,i){var n=t.createShader(e);return t.shaderSource(n,i),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS)===!1&&console.error(\\\"THREE.WebGLShader: Shader couldn't compile.\\\"),\\\"\\\"!==t.getShaderInfoLog(n)&&console.warn(\\\"THREE.WebGLShader: gl.getShaderInfoLog()\\\",e===t.VERTEX_SHADER?\\\"vertex\\\":\\\"fragment\\\",t.getShaderInfoLog(n),zt(i)),n}function Ht(t){switch(t){case Ao:return[\\\"Linear\\\",\\\"( value )\\\"];case Lo:return[\\\"sRGB\\\",\\\"( value )\\\"];case Po:return[\\\"RGBE\\\",\\\"( value )\\\"];case Io:return[\\\"RGBM\\\",\\\"( value, 7.0 )\\\"];case Uo:return[\\\"RGBM\\\",\\\"( value, 16.0 )\\\"];case No:return[\\\"RGBD\\\",\\\"( value, 256.0 )\\\"];case Ro:return[\\\"Gamma\\\",\\\"( value, float( GAMMA_FACTOR ) )\\\"];default:throw new Error(\\\"unsupported encoding: \\\"+t)}}function Vt(t,e){var i=Ht(e);return\\\"vec4 \\\"+t+\\\"( vec4 value ) { return \\\"+i[0]+\\\"ToLinear\\\"+i[1]+\\\"; }\\\"}function kt(t,e){var i=Ht(e);return\\\"vec4 \\\"+t+\\\"( vec4 value ) { return LinearTo\\\"+i[0]+i[1]+\\\"; }\\\"}function jt(t,e){var i;switch(e){case ma:i=\\\"Linear\\\";break;case va:i=\\\"Reinhard\\\";break;case ga:i=\\\"Uncharted2\\\";break;case ya:i=\\\"OptimizedCineon\\\";break;default:throw new Error(\\\"unsupported toneMapping: \\\"+e)}return\\\"vec3 \\\"+t+\\\"( vec3 color ) { return \\\"+i+\\\"ToneMapping( color ); }\\\"}function Wt(t,e,i){t=t||{};var n=[t.derivatives||e.envMapCubeUV||e.bumpMap||e.normalMap||e.flatShading?\\\"#extension GL_OES_standard_derivatives : enable\\\":\\\"\\\",(t.fragDepth||e.logarithmicDepthBuffer)&&i.get(\\\"EXT_frag_depth\\\")?\\\"#extension GL_EXT_frag_depth : enable\\\":\\\"\\\",t.drawBuffers&&i.get(\\\"WEBGL_draw_buffers\\\")?\\\"#extension GL_EXT_draw_buffers : require\\\":\\\"\\\",(t.shaderTextureLOD||e.envMap)&&i.get(\\\"EXT_shader_texture_lod\\\")?\\\"#extension GL_EXT_shader_texture_lod : enable\\\":\\\"\\\"];return n.filter(qt).join(\\\"\\\\n\\\")}function Xt(t){var e=[];for(var i in t){var n=t[i];n!==!1&&e.push(\\\"#define \\\"+i+\\\" \\\"+n)}return e.join(\\\"\\\\n\\\")}function Yt(t,e,i){for(var n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),a=0;a<r;a++){var o=t.getActiveAttrib(e,a),s=o.name;n[s]=t.getAttribLocation(e,s)}return n}function qt(t){return\\\"\\\"!==t}function Zt(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights)}function Jt(t){function e(t,e){var i=Vc[e];if(void 0===i)throw new Error(\\\"Can not resolve #include <\\\"+e+\\\">\\\");return Jt(i)}var i=/#include +<([\\\\w\\\\d.]+)>/g;return t.replace(i,e)}function Qt(t){function e(t,e,i,n){for(var r=\\\"\\\",a=parseInt(e);a<parseInt(i);a++)r+=n.replace(/\\\\[ i \\\\]/g,\\\"[ \\\"+a+\\\" ]\\\");return r}var i=/for \\\\( int i \\\\= (\\\\d+)\\\\; i < (\\\\d+)\\\\; i \\\\+\\\\+ \\\\) \\\\{([\\\\s\\\\S]+?)(?=\\\\})\\\\}/g;return t.replace(i,e)}function Kt(t,e,i,n){var r=t.context,a=i.extensions,o=i.defines,s=i.__webglShader.vertexShader,c=i.__webglShader.fragmentShader,h=\\\"SHADOWMAP_TYPE_BASIC\\\";n.shadowMapType===Er?h=\\\"SHADOWMAP_TYPE_PCF\\\":n.shadowMapType===Tr&&(h=\\\"SHADOWMAP_TYPE_PCF_SOFT\\\");var l=\\\"ENVMAP_TYPE_CUBE\\\",u=\\\"ENVMAP_MODE_REFLECTION\\\",p=\\\"ENVMAP_BLENDING_MULTIPLY\\\";if(n.envMap){switch(i.envMap.mapping){case _a:case ba:l=\\\"ENVMAP_TYPE_CUBE\\\";break;case Ta:case Sa:l=\\\"ENVMAP_TYPE_CUBE_UV\\\";break;case wa:case Ma:l=\\\"ENVMAP_TYPE_EQUIREC\\\";break;case Ea:l=\\\"ENVMAP_TYPE_SPHERE\\\"}switch(i.envMap.mapping){case ba:case Ma:u=\\\"ENVMAP_MODE_REFRACTION\\\"}switch(i.combine){case ua:p=\\\"ENVMAP_BLENDING_MULTIPLY\\\";break;case pa:p=\\\"ENVMAP_BLENDING_MIX\\\";break;case da:p=\\\"ENVMAP_BLENDING_ADD\\\"}}var d,f,m=t.gammaFactor>0?t.gammaFactor:1,v=Wt(a,n,t.extensions),g=Xt(o),y=r.createProgram();i.isRawShaderMaterial?(d=[g,\\\"\\\\n\\\"].filter(qt).join(\\\"\\\\n\\\"),f=[v,g,\\\"\\\\n\\\"].filter(qt).join(\\\"\\\\n\\\")):(d=[\\\"precision \\\"+n.precision+\\\" float;\\\",\\\"precision \\\"+n.precision+\\\" int;\\\",\\\"#define SHADER_NAME \\\"+i.__webglShader.name,g,n.supportsVertexTextures?\\\"#define VERTEX_TEXTURES\\\":\\\"\\\",\\\"#define GAMMA_FACTOR \\\"+m,\\\"#define MAX_BONES \\\"+n.maxBones,n.map?\\\"#define USE_MAP\\\":\\\"\\\",n.envMap?\\\"#define USE_ENVMAP\\\":\\\"\\\",n.envMap?\\\"#define \\\"+u:\\\"\\\",n.lightMap?\\\"#define USE_LIGHTMAP\\\":\\\"\\\",n.aoMap?\\\"#define USE_AOMAP\\\":\\\"\\\",n.emissiveMap?\\\"#define USE_EMISSIVEMAP\\\":\\\"\\\",n.bumpMap?\\\"#define USE_BUMPMAP\\\":\\\"\\\",n.normalMap?\\\"#define USE_NORMALMAP\\\":\\\"\\\",n.displacementMap&&n.supportsVertexTextures?\\\"#define USE_DISPLACEMENTMAP\\\":\\\"\\\",n.specularMap?\\\"#define USE_SPECULARMAP\\\":\\\"\\\",n.roughnessMap?\\\"#define USE_ROUGHNESSMAP\\\":\\\"\\\",n.metalnessMap?\\\"#define USE_METALNESSMAP\\\":\\\"\\\",n.alphaMap?\\\"#define USE_ALPHAMAP\\\":\\\"\\\",n.vertexColors?\\\"#define USE_COLOR\\\":\\\"\\\",n.flatShading?\\\"#define FLAT_SHADED\\\":\\\"\\\",n.skinning?\\\"#define USE_SKINNING\\\":\\\"\\\",n.useVertexTexture?\\\"#define BONE_TEXTURE\\\":\\\"\\\",n.morphTargets?\\\"#define USE_MORPHTARGETS\\\":\\\"\\\",n.morphNormals&&n.flatShading===!1?\\\"#define USE_MORPHNORMALS\\\":\\\"\\\",n.doubleSided?\\\"#define DOUBLE_SIDED\\\":\\\"\\\",n.flipSided?\\\"#define FLIP_SIDED\\\":\\\"\\\",\\\"#define NUM_CLIPPING_PLANES \\\"+n.numClippingPlanes,n.shadowMapEnabled?\\\"#define USE_SHADOWMAP\\\":\\\"\\\",n.shadowMapEnabled?\\\"#define \\\"+h:\\\"\\\",n.sizeAttenuation?\\\"#define USE_SIZEATTENUATION\\\":\\\"\\\",n.logarithmicDepthBuffer?\\\"#define USE_LOGDEPTHBUF\\\":\\\"\\\",n.logarithmicDepthBuffer&&t.extensions.get(\\\"EXT_frag_depth\\\")?\\\"#define USE_LOGDEPTHBUF_EXT\\\":\\\"\\\",\\\"uniform mat4 modelMatrix;\\\",\\\"uniform mat4 modelViewMatrix;\\\",\\\"uniform mat4 projectionMatrix;\\\",\\\"uniform mat4 viewMatrix;\\\",\\\"uniform mat3 normalMatrix;\\\",\\\"uniform vec3 cameraPosition;\\\",\\\"attribute vec3 position;\\\",\\\"attribute vec3 normal;\\\",\\\"attribute vec2 uv;\\\",\\\"#ifdef USE_COLOR\\\",\\\"\\\\tattribute vec3 color;\\\",\\\"#endif\\\",\\\"#ifdef USE_MORPHTARGETS\\\",\\\"\\\\tattribute vec3 morphTarget0;\\\",\\\"\\\\tattribute vec3 morphTarget1;\\\",\\\"\\\\tattribute vec3 morphTarget2;\\\",\\\"\\\\tattribute vec3 morphTarget3;\\\",\\\"\\\\t#ifdef USE_MORPHNORMALS\\\",\\\"\\\\t\\\\tattribute vec3 morphNormal0;\\\",\\\"\\\\t\\\\tattribute vec3 morphNormal1;\\\",\\\"\\\\t\\\\tattribute vec3 morphNormal2;\\\",\\\"\\\\t\\\\tattribute vec3 morphNormal3;\\\",\\\"\\\\t#else\\\",\\\"\\\\t\\\\tattribute vec3 morphTarget4;\\\",\\\"\\\\t\\\\tattribute vec3 morphTarget5;\\\",\\\"\\\\t\\\\tattribute vec3 morphTarget6;\\\",\\\"\\\\t\\\\tattribute vec3 morphTarget7;\\\",\\\"\\\\t#endif\\\",\\\"#endif\\\",\\\"#ifdef USE_SKINNING\\\",\\\"\\\\tattribute vec4 skinIndex;\\\",\\\"\\\\tattribute vec4 skinWeight;\\\",\\\"#endif\\\",\\\"\\\\n\\\"].filter(qt).join(\\\"\\\\n\\\"),f=[v,\\\"precision \\\"+n.precision+\\\" float;\\\",\\\"precision \\\"+n.precision+\\\" int;\\\",\\\"#define SHADER_NAME \\\"+i.__webglShader.name,g,n.alphaTest?\\\"#define ALPHATEST \\\"+n.alphaTest:\\\"\\\",\\\"#define GAMMA_FACTOR \\\"+m,n.useFog&&n.fog?\\\"#define USE_FOG\\\":\\\"\\\",n.useFog&&n.fogExp?\\\"#define FOG_EXP2\\\":\\\"\\\",n.map?\\\"#define USE_MAP\\\":\\\"\\\",n.envMap?\\\"#define USE_ENVMAP\\\":\\\"\\\",n.envMap?\\\"#define \\\"+l:\\\"\\\",n.envMap?\\\"#define \\\"+u:\\\"\\\",n.envMap?\\\"#define \\\"+p:\\\"\\\",n.lightMap?\\\"#define USE_LIGHTMAP\\\":\\\"\\\",n.aoMap?\\\"#define USE_AOMAP\\\":\\\"\\\",n.emissiveMap?\\\"#define USE_EMISSIVEMAP\\\":\\\"\\\",n.bumpMap?\\\"#define USE_BUMPMAP\\\":\\\"\\\",n.normalMap?\\\"#define USE_NORMALMAP\\\":\\\"\\\",n.specularMap?\\\"#define USE_SPECULARMAP\\\":\\\"\\\",n.roughnessMap?\\\"#define USE_ROUGHNESSMAP\\\":\\\"\\\",n.metalnessMap?\\\"#define USE_METALNESSMAP\\\":\\\"\\\",n.alphaMap?\\\"#define USE_ALPHAMAP\\\":\\\"\\\",n.vertexColors?\\\"#define USE_COLOR\\\":\\\"\\\",n.flatShading?\\\"#define FLAT_SHADED\\\":\\\"\\\",n.doubleSided?\\\"#define DOUBLE_SIDED\\\":\\\"\\\",n.flipSided?\\\"#define FLIP_SIDED\\\":\\\"\\\",\\\"#define NUM_CLIPPING_PLANES \\\"+n.numClippingPlanes,\\\"#define UNION_CLIPPING_PLANES \\\"+(n.numClippingPlanes-n.numClipIntersection),n.shadowMapEnabled?\\\"#define USE_SHADOWMAP\\\":\\\"\\\",n.shadowMapEnabled?\\\"#define \\\"+h:\\\"\\\",n.premultipliedAlpha?\\\"#define PREMULTIPLIED_ALPHA\\\":\\\"\\\",n.physicallyCorrectLights?\\\"#define PHYSICALLY_CORRECT_LIGHTS\\\":\\\"\\\",n.logarithmicDepthBuffer?\\\"#define USE_LOGDEPTHBUF\\\":\\\"\\\",n.logarithmicDepthBuffer&&t.extensions.get(\\\"EXT_frag_depth\\\")?\\\"#define USE_LOGDEPTHBUF_EXT\\\":\\\"\\\",n.envMap&&t.extensions.get(\\\"EXT_shader_texture_lod\\\")?\\\"#define TEXTURE_LOD_EXT\\\":\\\"\\\",\\\"uniform mat4 viewMatrix;\\\",\\\"uniform vec3 cameraPosition;\\\",n.toneMapping!==fa?\\\"#define TONE_MAPPING\\\":\\\"\\\",n.toneMapping!==fa?Vc.tonemapping_pars_fragment:\\\"\\\",n.toneMapping!==fa?jt(\\\"toneMapping\\\",n.toneMapping):\\\"\\\",n.outputEncoding||n.mapEncoding||n.envMapEncoding||n.emissiveMapEncoding?Vc.encodings_pars_fragment:\\\"\\\",n.mapEncoding?Vt(\\\"mapTexelToLinear\\\",n.mapEncoding):\\\"\\\",n.envMapEncoding?Vt(\\\"envMapTexelToLinear\\\",n.envMapEncoding):\\\"\\\",n.emissiveMapEncoding?Vt(\\\"emissiveMapTexelToLinear\\\",n.emissiveMapEncoding):\\\"\\\",n.outputEncoding?kt(\\\"linearToOutputTexel\\\",n.outputEncoding):\\\"\\\",n.depthPacking?\\\"#define DEPTH_PACKING \\\"+i.depthPacking:\\\"\\\",\\\"\\\\n\\\"].filter(qt).join(\\\"\\\\n\\\")),s=Jt(s,n),s=Zt(s,n),c=Jt(c,n),c=Zt(c,n),i.isShaderMaterial||(s=Qt(s),c=Qt(c));var x=d+s,_=f+c,b=Gt(r,r.VERTEX_SHADER,x),w=Gt(r,r.FRAGMENT_SHADER,_);r.attachShader(y,b),r.attachShader(y,w),void 0!==i.index0AttributeName?r.bindAttribLocation(y,0,i.index0AttributeName):n.morphTargets===!0&&r.bindAttribLocation(y,0,\\\"position\\\"),r.linkProgram(y);var M=r.getProgramInfoLog(y),E=r.getShaderInfoLog(b),T=r.getShaderInfoLog(w),S=!0,A=!0;r.getProgramParameter(y,r.LINK_STATUS)===!1?(S=!1,console.error(\\\"THREE.WebGLProgram: shader error: \\\",r.getError(),\\\"gl.VALIDATE_STATUS\\\",r.getProgramParameter(y,r.VALIDATE_STATUS),\\\"gl.getProgramInfoLog\\\",M,E,T)):\\\"\\\"!==M?console.warn(\\\"THREE.WebGLProgram: gl.getProgramInfoLog()\\\",M):\\\"\\\"!==E&&\\\"\\\"!==T||(A=!1),A&&(this.diagnostics={runnable:S,material:i,programLog:M,vertexShader:{log:E,prefix:d},fragmentShader:{log:T,prefix:f}}),r.deleteShader(b),r.deleteShader(w);var L;this.getUniforms=function(){return void 0===L&&(L=new W(r,y,t)),L};var R;return this.getAttributes=function(){return void 0===R&&(R=Yt(r,y)),R},this.destroy=function(){r.deleteProgram(y),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn(\\\"THREE.WebGLProgram: .uniforms is now .getUniforms().\\\"),this.getUniforms()}},attributes:{get:function(){return console.warn(\\\"THREE.WebGLProgram: .attributes is now .getAttributes().\\\"),this.getAttributes()}}}),this.id=Zc++,this.code=e,this.usedTimes=1,this.program=y,this.vertexShader=b,this.fragmentShader=w,this}function $t(t,e){function i(t){if(e.floatVertexTextures&&t&&t.skeleton&&t.skeleton.useVertexTexture)return 1024;var i=e.maxVertexUniforms,n=Math.floor((i-20)/4),r=n;return void 0!==t&&t&&t.isSkinnedMesh&&(r=Math.min(t.skeleton.bones.length,r),r<t.skeleton.bones.length&&console.warn(\\\"WebGLRenderer: too many bones - \\\"+t.skeleton.bones.length+\\\", this GPU supports just \\\"+r+\\\" (try OpenGL instead of ANGLE)\\\")),r}function n(t,e){var i;return t?t&&t.isTexture?i=t.encoding:t&&t.isWebGLRenderTarget&&(console.warn(\\\"THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead.\\\"),i=t.texture.encoding):i=Ao,i===Ao&&e&&(i=Ro),i}var r=[],a={MeshDepthMaterial:\\\"depth\\\",MeshNormalMaterial:\\\"normal\\\",MeshBasicMaterial:\\\"basic\\\",MeshLambertMaterial:\\\"lambert\\\",MeshPhongMaterial:\\\"phong\\\",MeshStandardMaterial:\\\"physical\\\",MeshPhysicalMaterial:\\\"physical\\\",LineBasicMaterial:\\\"basic\\\",LineDashedMaterial:\\\"dashed\\\",PointsMaterial:\\\"points\\\"},o=[\\\"precision\\\",\\\"supportsVertexTextures\\\",\\\"map\\\",\\\"mapEncoding\\\",\\\"envMap\\\",\\\"envMapMode\\\",\\\"envMapEncoding\\\",\\\"lightMap\\\",\\\"aoMap\\\",\\\"emissiveMap\\\",\\\"emissiveMapEncoding\\\",\\\"bumpMap\\\",\\\"normalMap\\\",\\\"displacementMap\\\",\\\"specularMap\\\",\\\"roughnessMap\\\",\\\"metalnessMap\\\",\\\"alphaMap\\\",\\\"combine\\\",\\\"vertexColors\\\",\\\"fog\\\",\\\"useFog\\\",\\\"fogExp\\\",\\\"flatShading\\\",\\\"sizeAttenuation\\\",\\\"logarithmicDepthBuffer\\\",\\\"skinning\\\",\\\"maxBones\\\",\\\"useVertexTexture\\\",\\\"morphTargets\\\",\\\"morphNormals\\\",\\\"maxMorphTargets\\\",\\\"maxMorphNormals\\\",\\\"premultipliedAlpha\\\",\\\"numDirLights\\\",\\\"numPointLights\\\",\\\"numSpotLights\\\",\\\"numHemiLights\\\",\\\"shadowMapEnabled\\\",\\\"shadowMapType\\\",\\\"toneMapping\\\",\\\"physicallyCorrectLights\\\",\\\"alphaTest\\\",\\\"doubleSided\\\",\\\"flipSided\\\",\\\"numClippingPlanes\\\",\\\"numClipIntersection\\\",\\\"depthPacking\\\"];this.getParameters=function(r,o,s,c,h,l){var u=a[r.type],p=i(l),d=t.getPrecision();null!==r.precision&&(d=e.getMaxPrecision(r.precision),d!==r.precision&&console.warn(\\\"THREE.WebGLProgram.getParameters:\\\",r.precision,\\\"not supported, using\\\",d,\\\"instead.\\\"));var f=t.getCurrentRenderTarget(),m={shaderID:u,precision:d,supportsVertexTextures:e.vertexTextures,outputEncoding:n(f?f.texture:null,t.gammaOutput),map:!!r.map,mapEncoding:n(r.map,t.gammaInput),envMap:!!r.envMap,envMapMode:r.envMap&&r.envMap.mapping,envMapEncoding:n(r.envMap,t.gammaInput),envMapCubeUV:!!r.envMap&&(r.envMap.mapping===Ta||r.envMap.mapping===Sa),lightMap:!!r.lightMap,aoMap:!!r.aoMap,emissiveMap:!!r.emissiveMap,emissiveMapEncoding:n(r.emissiveMap,t.gammaInput),bumpMap:!!r.bumpMap,normalMap:!!r.normalMap,displacementMap:!!r.displacementMap,roughnessMap:!!r.roughnessMap,metalnessMap:!!r.metalnessMap,specularMap:!!r.specularMap,alphaMap:!!r.alphaMap,combine:r.combine,vertexColors:r.vertexColors,fog:!!s,useFog:r.fog,fogExp:s&&s.isFogExp2,flatShading:r.shading===Rr,sizeAttenuation:r.sizeAttenuation,logarithmicDepthBuffer:e.logarithmicDepthBuffer,skinning:r.skinning,maxBones:p,useVertexTexture:e.floatVertexTextures&&l&&l.skeleton&&l.skeleton.useVertexTexture,morphTargets:r.morphTargets,morphNormals:r.morphNormals,maxMorphTargets:t.maxMorphTargets,maxMorphNormals:t.maxMorphNormals,numDirLights:o.directional.length,numPointLights:o.point.length,numSpotLights:o.spot.length,numHemiLights:o.hemi.length,numClippingPlanes:c,numClipIntersection:h,shadowMapEnabled:t.shadowMap.enabled&&l.receiveShadow&&o.shadows.length>0,shadowMapType:t.shadowMap.type,toneMapping:t.toneMapping,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:r.premultipliedAlpha,alphaTest:r.alphaTest,doubleSided:r.side===Lr,flipSided:r.side===Ar,depthPacking:void 0!==r.depthPacking&&r.depthPacking};return m},this.getProgramCode=function(t,e){var i=[];if(e.shaderID?i.push(e.shaderID):(i.push(t.fragmentShader),i.push(t.vertexShader)),void 0!==t.defines)for(var n in t.defines)i.push(n),i.push(t.defines[n]);for(var r=0;r<o.length;r++)i.push(e[o[r]]);return i.join()},this.acquireProgram=function(e,i,n){for(var a,o=0,s=r.length;o<s;o++){var c=r[o];if(c.code===n){a=c,++a.usedTimes;break}}return void 0===a&&(a=new Kt(t,n,e,i),r.push(a)),a},this.releaseProgram=function(t){if(0===--t.usedTimes){var e=r.indexOf(t);r[e]=r[r.length-1],r.pop(),t.destroy()}},this.programs=r}function te(t,e,i){function n(t){var r=t.target,s=c[r.id];null!==s.index&&a(s.index),o(s.attributes),r.removeEventListener(\\\"dispose\\\",n),delete c[r.id];var h=e.get(r);h.wireframe&&a(h.wireframe),e.delete(r);var l=e.get(s);l.wireframe&&a(l.wireframe),e.delete(s),i.memory.geometries--}function r(t){return t.isInterleavedBufferAttribute?e.get(t.data).__webglBuffer:e.get(t).__webglBuffer}function a(e){var i=r(e);void 0!==i&&(t.deleteBuffer(i),s(e))}function o(t){for(var e in t)a(t[e])}function s(t){t.isInterleavedBufferAttribute?e.delete(t.data):e.delete(t)}var c={};return{get:function(t){var e=t.geometry;if(void 0!==c[e.id])return c[e.id];e.addEventListener(\\\"dispose\\\",n);var r;return e.isBufferGeometry?r=e:e.isGeometry&&(void 0===e._bufferGeometry&&(e._bufferGeometry=(new Rt).setFromObject(t)),r=e._bufferGeometry),c[e.id]=r,i.memory.geometries++,r}}}function ee(t,e,i){function n(e){var i=h.get(e);e.geometry.isGeometry&&i.updateFromObject(e);var n=i.index,a=i.attributes;null!==n&&r(n,t.ELEMENT_ARRAY_BUFFER);for(var o in a)r(a[o],t.ARRAY_BUFFER);var s=i.morphAttributes;for(var o in s)for(var c=s[o],l=0,u=c.length;l<u;l++)r(c[l],t.ARRAY_BUFFER);return i}function r(t,i){var n=t.isInterleavedBufferAttribute?t.data:t,r=e.get(n);void 0===r.__webglBuffer?a(r,n,i):r.version!==n.version&&o(r,n,i)}function a(e,i,n){e.__webglBuffer=t.createBuffer(),t.bindBuffer(n,e.__webglBuffer);var r=i.dynamic?t.DYNAMIC_DRAW:t.STATIC_DRAW;t.bufferData(n,i.array,r),e.version=i.version}function o(e,i,n){t.bindBuffer(n,e.__webglBuffer),i.dynamic===!1?t.bufferData(n,i.array,t.STATIC_DRAW):i.updateRange.count===-1?t.bufferSubData(n,0,i.array):0===i.updateRange.count?console.error(\\\"THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually.\\\"):(t.bufferSubData(n,i.updateRange.offset*i.array.BYTES_PER_ELEMENT,i.array.subarray(i.updateRange.offset,i.updateRange.offset+i.updateRange.count)),i.updateRange.count=0),e.version=i.version}function s(t){return t.isInterleavedBufferAttribute?e.get(t.data).__webglBuffer:e.get(t).__webglBuffer}function c(i){var n=e.get(i);if(void 0!==n.wireframe)return n.wireframe;var a=[],o=i.index,s=i.attributes,c=s.position;if(null!==o)for(var h=o.array,l=0,u=h.length;l<u;l+=3){var p=h[l+0],d=h[l+1],f=h[l+2];a.push(p,d,d,f,f,p)}else for(var h=s.position.array,l=0,u=h.length/3-1;l<u;l+=3){var p=l+0,d=l+1,f=l+2;a.push(p,d,d,f,f,p)}var m=c.count>65535?Uint32Array:Uint16Array,v=new mt(new m(a),1);return r(v,t.ELEMENT_ARRAY_BUFFER),n.wireframe=v,v}var h=new te(t,e,i);return{getAttributeBuffer:s,getWireframeAttribute:c,update:n}}function ie(t,e,i,n,r,a,o){function s(t,e){if(t.width>e||t.height>e){var i=e/Math.max(t.width,t.height),n=document.createElementNS(\\\"http://www.w3.org/1999/xhtml\\\",\\\"canvas\\\");n.width=Math.floor(t.width*i),n.height=Math.floor(t.height*i);var r=n.getContext(\\\"2d\\\");return r.drawImage(t,0,0,t.width,t.height,0,0,n.width,n.height),console.warn(\\\"THREE.WebGLRenderer: image is too big (\\\"+t.width+\\\"x\\\"+t.height+\\\"). Resized to \\\"+n.width+\\\"x\\\"+n.height,t),n}return t}function c(t){return Fo.isPowerOfTwo(t.width)&&Fo.isPowerOfTwo(t.height)}function h(t){if(t instanceof HTMLImageElement||t instanceof HTMLCanvasElement){var e=document.createElementNS(\\\"http://www.w3.org/1999/xhtml\\\",\\\"canvas\\\");e.width=Fo.nearestPowerOfTwo(t.width),e.height=Fo.nearestPowerOfTwo(t.height);var i=e.getContext(\\\"2d\\\");return i.drawImage(t,0,0,e.width,e.height),console.warn(\\\"THREE.WebGLRenderer: image is not power of two (\\\"+t.width+\\\"x\\\"+t.height+\\\"). Resized to \\\"+e.width+\\\"x\\\"+e.height,t),e}return t}function l(t){return t.wrapS!==Ra||t.wrapT!==Ra||t.minFilter!==Ia&&t.minFilter!==Da}function u(e){return e===Ia||e===Ua||e===Na?t.NEAREST:t.LINEAR}function p(t){var e=t.target;e.removeEventListener(\\\"dispose\\\",p),f(e),A.textures--}function d(t){var e=t.target;e.removeEventListener(\\\"dispose\\\",d),m(e),A.textures--}function f(e){var i=n.get(e);if(e.image&&i.__image__webglTextureCube)t.deleteTexture(i.__image__webglTextureCube);else{if(void 0===i.__webglInit)return;t.deleteTexture(i.__webglTexture)}n.delete(e)}function m(e){var i=n.get(e),r=n.get(e.texture);if(e){if(void 0!==r.__webglTexture&&t.deleteTexture(r.__webglTexture),e.depthTexture&&e.depthTexture.dispose(),e&&e.isWebGLRenderTargetCube)for(var a=0;a<6;a++)t.deleteFramebuffer(i.__webglFramebuffer[a]),i.__webglDepthbuffer&&t.deleteRenderbuffer(i.__webglDepthbuffer[a]);else t.deleteFramebuffer(i.__webglFramebuffer),i.__webglDepthbuffer&&t.deleteRenderbuffer(i.__webglDepthbuffer);n.delete(e.texture),n.delete(e)}}function v(e,r){var a=n.get(e);if(e.version>0&&a.__version!==e.version){var o=e.image;if(void 0===o)console.warn(\\\"THREE.WebGLRenderer: Texture marked for update but image is undefined\\\",e);else{if(o.complete!==!1)return void _(a,e,r);console.warn(\\\"THREE.WebGLRenderer: Texture marked for update but image is incomplete\\\",e)}}i.activeTexture(t.TEXTURE0+r),i.bindTexture(t.TEXTURE_2D,a.__webglTexture)}function g(e,o){var h=n.get(e);if(6===e.image.length)if(e.version>0&&h.__version!==e.version){h.__image__webglTextureCube||(e.addEventListener(\\\"dispose\\\",p),h.__image__webglTextureCube=t.createTexture(),A.textures++),i.activeTexture(t.TEXTURE0+o),i.bindTexture(t.TEXTURE_CUBE_MAP,h.__image__webglTextureCube),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e.flipY);for(var l=e&&e.isCompressedTexture,u=e.image[0]&&e.image[0].isDataTexture,d=[],f=0;f<6;f++)l||u?d[f]=u?e.image[f].image:e.image[f]:d[f]=s(e.image[f],r.maxCubemapSize);var m=d[0],v=c(m),g=a(e.format),y=a(e.type);x(t.TEXTURE_CUBE_MAP,e,v);for(var f=0;f<6;f++)if(l)for(var _,b=d[f].mipmaps,w=0,M=b.length;w<M;w++)_=b[w],e.format!==$a&&e.format!==Ka?i.getCompressedTextureFormats().indexOf(g)>-1?i.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+f,w,g,_.width,_.height,0,_.data):console.warn(\\\"THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()\\\"):i.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+f,w,g,_.width,_.height,0,g,y,_.data);else u?i.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+f,0,g,d[f].width,d[f].height,0,g,y,d[f].data):i.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+f,0,g,g,y,d[f]);e.generateMipmaps&&v&&t.generateMipmap(t.TEXTURE_CUBE_MAP),h.__version=e.version,e.onUpdate&&e.onUpdate(e)}else i.activeTexture(t.TEXTURE0+o),i.bindTexture(t.TEXTURE_CUBE_MAP,h.__image__webglTextureCube)}function y(e,r){i.activeTexture(t.TEXTURE0+r),i.bindTexture(t.TEXTURE_CUBE_MAP,n.get(e).__webglTexture)}function x(i,o,s){var c;if(s?(t.texParameteri(i,t.TEXTURE_WRAP_S,a(o.wrapS)),t.texParameteri(i,t.TEXTURE_WRAP_T,a(o.wrapT)),t.texParameteri(i,t.TEXTURE_MAG_FILTER,a(o.magFilter)),t.texParameteri(i,t.TEXTURE_MIN_FILTER,a(o.minFilter))):(t.texParameteri(i,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(i,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),o.wrapS===Ra&&o.wrapT===Ra||console.warn(\\\"THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.\\\",o),t.texParameteri(i,t.TEXTURE_MAG_FILTER,u(o.magFilter)),t.texParameteri(i,t.TEXTURE_MIN_FILTER,u(o.minFilter)),o.minFilter!==Ia&&o.minFilter!==Da&&console.warn(\\\"THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.\\\",o)),c=e.get(\\\"EXT_texture_filter_anisotropic\\\")){if(o.type===Wa&&null===e.get(\\\"OES_texture_float_linear\\\"))return;if(o.type===Xa&&null===e.get(\\\"OES_texture_half_float_linear\\\"))return;(o.anisotropy>1||n.get(o).__currentAnisotropy)&&(t.texParameterf(i,c.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,r.getMaxAnisotropy())),n.get(o).__currentAnisotropy=o.anisotropy)}}function _(e,n,o){void 0===e.__webglInit&&(e.__webglInit=!0,n.addEventListener(\\\"dispose\\\",p),e.__webglTexture=t.createTexture(),A.textures++),i.activeTexture(t.TEXTURE0+o),i.bindTexture(t.TEXTURE_2D,e.__webglTexture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,n.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,n.unpackAlignment);var u=s(n.image,r.maxTextureSize);l(n)&&c(u)===!1&&(u=h(u));var d=c(u),f=a(n.format),m=a(n.type);x(t.TEXTURE_2D,n,d);var v,g=n.mipmaps;if(n&&n.isDepthTexture){var y=t.DEPTH_COMPONENT;if(n.type===Wa){if(!L)throw new Error(\\\"Float Depth Texture only supported in WebGL2.0\\\");y=t.DEPTH_COMPONENT32F}else L&&(y=t.DEPTH_COMPONENT16);n.format===ro&&(y=t.DEPTH_STENCIL),i.texImage2D(t.TEXTURE_2D,0,y,u.width,u.height,0,f,m,null)}else if(n&&n.isDataTexture)if(g.length>0&&d){for(var _=0,b=g.length;_<b;_++)v=g[_],i.texImage2D(t.TEXTURE_2D,_,f,v.width,v.height,0,f,m,v.data);n.generateMipmaps=!1}else i.texImage2D(t.TEXTURE_2D,0,f,u.width,u.height,0,f,m,u.data);else if(n&&n.isCompressedTexture)for(var _=0,b=g.length;_<b;_++)v=g[_],n.format!==$a&&n.format!==Ka?i.getCompressedTextureFormats().indexOf(f)>-1?i.compressedTexImage2D(t.TEXTURE_2D,_,f,v.width,v.height,0,v.data):console.warn(\\\"THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()\\\"):i.texImage2D(t.TEXTURE_2D,_,f,v.width,v.height,0,f,m,v.data);else if(g.length>0&&d){for(var _=0,b=g.length;_<b;_++)v=g[_],i.texImage2D(t.TEXTURE_2D,_,f,f,m,v);n.generateMipmaps=!1}else i.texImage2D(t.TEXTURE_2D,0,f,f,m,u);n.generateMipmaps&&d&&t.generateMipmap(t.TEXTURE_2D),e.__version=n.version,n.onUpdate&&n.onUpdate(n)}function b(e,r,o,s){var c=a(r.texture.format),h=a(r.texture.type);i.texImage2D(s,0,c,r.width,r.height,0,c,h,null),t.bindFramebuffer(t.FRAMEBUFFER,e),t.framebufferTexture2D(t.FRAMEBUFFER,o,s,n.get(r.texture).__webglTexture,0),t.bindFramebuffer(t.FRAMEBUFFER,null)}function w(e,i){t.bindRenderbuffer(t.RENDERBUFFER,e),i.depthBuffer&&!i.stencilBuffer?(t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,i.width,i.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e)):i.depthBuffer&&i.stencilBuffer?(t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,i.width,i.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,e)):t.renderbufferStorage(t.RENDERBUFFER,t.RGBA4,i.width,i.height),t.bindRenderbuffer(t.RENDERBUFFER,null)}function M(e,i){var r=i&&i.isWebGLRenderTargetCube;if(r)throw new Error(\\\"Depth Texture with cube render targets is not supported!\\\");if(t.bindFramebuffer(t.FRAMEBUFFER,e),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error(\\\"renderTarget.depthTexture must be an instance of THREE.DepthTexture\\\");n.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),v(i.depthTexture,0);var a=n.get(i.depthTexture).__webglTexture;if(i.depthTexture.format===no)t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,a,0);else{if(i.depthTexture.format!==ro)throw new Error(\\\"Unknown depthTexture format\\\");t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,a,0)}}function E(e){var i=n.get(e),r=e&&e.isWebGLRenderTargetCube;if(e.depthTexture){if(r)throw new Error(\\\"target.depthTexture not supported in Cube render targets\\\");M(i.__webglFramebuffer,e)}else if(r){i.__webglDepthbuffer=[];for(var a=0;a<6;a++)t.bindFramebuffer(t.FRAMEBUFFER,i.__webglFramebuffer[a]),i.__webglDepthbuffer[a]=t.createRenderbuffer(),w(i.__webglDepthbuffer[a],e)}else t.bindFramebuffer(t.FRAMEBUFFER,i.__webglFramebuffer),i.__webglDepthbuffer=t.createRenderbuffer(),w(i.__webglDepthbuffer,e);t.bindFramebuffer(t.FRAMEBUFFER,null)}function T(e){var r=n.get(e),a=n.get(e.texture);e.addEventListener(\\\"dispose\\\",d),a.__webglTexture=t.createTexture(),A.textures++;var o=e&&e.isWebGLRenderTargetCube,s=c(e);if(o){r.__webglFramebuffer=[];for(var h=0;h<6;h++)r.__webglFramebuffer[h]=t.createFramebuffer()}else r.__webglFramebuffer=t.createFramebuffer();if(o){i.bindTexture(t.TEXTURE_CUBE_MAP,a.__webglTexture),x(t.TEXTURE_CUBE_MAP,e.texture,s);for(var h=0;h<6;h++)b(r.__webglFramebuffer[h],e,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+h);e.texture.generateMipmaps&&s&&t.generateMipmap(t.TEXTURE_CUBE_MAP),i.bindTexture(t.TEXTURE_CUBE_MAP,null)}else i.bindTexture(t.TEXTURE_2D,a.__webglTexture),x(t.TEXTURE_2D,e.texture,s),b(r.__webglFramebuffer,e,t.COLOR_ATTACHMENT0,t.TEXTURE_2D),e.texture.generateMipmaps&&s&&t.generateMipmap(t.TEXTURE_2D),i.bindTexture(t.TEXTURE_2D,null);e.depthBuffer&&E(e)}function S(e){var r=e.texture;if(r.generateMipmaps&&c(e)&&r.minFilter!==Ia&&r.minFilter!==Da){var a=e&&e.isWebGLRenderTargetCube?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,o=n.get(r).__webglTexture;i.bindTexture(a,o),t.generateMipmap(a),i.bindTexture(a,null)}}var A=o.memory,L=\\\"undefined\\\"!=typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext;this.setTexture2D=v,this.setTextureCube=g,this.setTextureCubeDynamic=y,this.setupRenderTarget=T,this.updateRenderTargetMipmap=S}function ne(){var t={};return{get:function(e){var i=e.uuid,n=t[i];return void 0===n&&(n={},t[i]=n),n},delete:function(e){delete t[e.uuid]},clear:function(){t={}}}}function re(t,e,i){function n(){var e=!1,i=new a,n=null,r=new a;return{setMask:function(i){n===i||e||(t.colorMask(i,i,i,i),n=i)},setLocked:function(t){e=t},setClear:function(e,n,a,o){i.set(e,n,a,o),r.equals(i)===!1&&(t.clearColor(e,n,a,o),r.copy(i))},reset:function(){e=!1,n=null,r.set(0,0,0,1)}}}function r(){var e=!1,i=null,n=null,r=null;return{setTest:function(e){e?d(t.DEPTH_TEST):f(t.DEPTH_TEST)},setMask:function(n){i===n||e||(t.depthMask(n),i=n)},setFunc:function(e){if(n!==e){if(e)switch(e){case na:t.depthFunc(t.NEVER);break;case ra:t.depthFunc(t.ALWAYS);break;case aa:t.depthFunc(t.LESS);break;case oa:t.depthFunc(t.LEQUAL);break;case sa:t.depthFunc(t.EQUAL);break;case ca:t.depthFunc(t.GEQUAL);break;case ha:t.depthFunc(t.GREATER);break;case la:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}else t.depthFunc(t.LEQUAL);n=e}},setLocked:function(t){e=t},setClear:function(e){r!==e&&(t.clearDepth(e),r=e)},reset:function(){e=!1,i=null,n=null,r=null}}}function o(){var e=!1,i=null,n=null,r=null,a=null,o=null,s=null,c=null,h=null;return{setTest:function(e){e?d(t.STENCIL_TEST):f(t.STENCIL_TEST)},setMask:function(n){i===n||e||(t.stencilMask(n),i=n)},setFunc:function(e,i,o){n===e&&r===i&&a===o||(t.stencilFunc(e,i,o),n=e,r=i,a=o)},setOp:function(e,i,n){o===e&&s===i&&c===n||(t.stencilOp(e,i,n),o=e,s=i,c=n)},setLocked:function(t){e=t},setClear:function(e){h!==e&&(t.clearStencil(e),h=e)},reset:function(){e=!1,i=null,n=null,r=null,a=null,o=null,s=null,c=null,h=null}}}function s(e,i,n){var r=new Uint8Array(4),a=t.createTexture();t.bindTexture(e,a),t.texParameteri(e,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(e,t.TEXTURE_MAG_FILTER,t.NEAREST);for(var o=0;o<n;o++)t.texImage2D(i+o,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,r);return a}function c(){D(0,0,0,1),O(1),F(0),d(t.DEPTH_TEST),_(oa),T(!1),S(yr),d(t.CULL_FACE),d(t.BLEND),v(Dr)}function h(){for(var t=0,e=W.length;t<e;t++)W[t]=0}function l(i){if(W[i]=1,0===X[i]&&(t.enableVertexAttribArray(i),X[i]=1),0!==Y[i]){var n=e.get(\\\"ANGLE_instanced_arrays\\\");n.vertexAttribDivisorANGLE(i,0),Y[i]=0}}function u(e,i,n){W[e]=1,0===X[e]&&(t.enableVertexAttribArray(e),X[e]=1),Y[e]!==i&&(n.vertexAttribDivisorANGLE(e,i),Y[e]=i)}function p(){for(var e=0,i=X.length;e!==i;++e)X[e]!==W[e]&&(t.disableVertexAttribArray(e),X[e]=0)}function d(e){q[e]!==!0&&(t.enable(e),q[e]=!0)}function f(e){q[e]!==!1&&(t.disable(e),q[e]=!1)}function m(){if(null===Z&&(Z=[],e.get(\\\"WEBGL_compressed_texture_pvrtc\\\")||e.get(\\\"WEBGL_compressed_texture_s3tc\\\")||e.get(\\\"WEBGL_compressed_texture_etc1\\\")))for(var i=t.getParameter(t.COMPRESSED_TEXTURE_FORMATS),n=0;n<i.length;n++)Z.push(i[n]);return Z}function v(e,n,r,a,o,s,c,h){e!==Nr?d(t.BLEND):f(t.BLEND),e===J&&h===nt||(e===Or?h?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE,t.ONE,t.ONE)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.SRC_ALPHA,t.ONE)):e===Fr?h?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ZERO,t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ONE_MINUS_SRC_ALPHA)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ZERO,t.ONE_MINUS_SRC_COLOR)):e===Br?h?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ZERO,t.SRC_COLOR)):h?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA)):(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA)),J=e,nt=h),e===zr?(o=o||n,s=s||r,c=c||a,n===Q&&o===tt||(t.blendEquationSeparate(i(n),i(o)),Q=n,tt=o),r===K&&a===$&&s===et&&c===it||(t.blendFuncSeparate(i(r),i(a),i(s),i(c)),K=r,$=a,et=s,it=c)):(Q=null,K=null,$=null,tt=null,et=null,it=null)}function g(t){H.setMask(t)}function y(t){V.setTest(t)}function x(t){V.setMask(t)}function _(t){V.setFunc(t)}function b(t){k.setTest(t)}function w(t){k.setMask(t)}function M(t,e,i){k.setFunc(t,e,i)}function E(t,e,i){k.setOp(t,e,i)}function T(e){rt!==e&&(e?t.frontFace(t.CW):t.frontFace(t.CCW),rt=e)}function S(e){e!==gr?(d(t.CULL_FACE),e!==at&&(e===yr?t.cullFace(t.BACK):e===xr?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):f(t.CULL_FACE),at=e}function A(e){e!==ot&&(t.lineWidth(e),ot=e)}function L(e,i,n){e?(d(t.POLYGON_OFFSET_FILL),st===i&&ct===n||(t.polygonOffset(i,n),st=i,ct=n)):f(t.POLYGON_OFFSET_FILL)}function R(){return ht}function P(e){ht=e,e?d(t.SCISSOR_TEST):f(t.SCISSOR_TEST)}function C(e){void 0===e&&(e=t.TEXTURE0+lt-1),ut!==e&&(t.activeTexture(e),ut=e)}function I(e,i){null===ut&&C();var n=pt[ut];void 0===n&&(n={type:void 0,texture:void 0},pt[ut]=n),n.type===e&&n.texture===i||(t.bindTexture(e,i||mt[e]),n.type=e,n.texture=i)}function U(){try{t.compressedTexImage2D.apply(t,arguments)}catch(t){console.error(t)}}function N(){try{t.texImage2D.apply(t,arguments)}catch(t){console.error(t)}}function D(t,e,i,n){H.setClear(t,e,i,n)}function O(t){V.setClear(t)}function F(t){k.setClear(t)}function B(e){dt.equals(e)===!1&&(t.scissor(e.x,e.y,e.z,e.w),dt.copy(e))}function z(e){ft.equals(e)===!1&&(t.viewport(e.x,e.y,e.z,e.w),ft.copy(e))}function G(){for(var e=0;e<X.length;e++)1===X[e]&&(t.disableVertexAttribArray(e),\\nX[e]=0);q={},Z=null,ut=null,pt={},J=null,rt=null,at=null,H.reset(),V.reset(),k.reset()}var H=new n,V=new r,k=new o,j=t.getParameter(t.MAX_VERTEX_ATTRIBS),W=new Uint8Array(j),X=new Uint8Array(j),Y=new Uint8Array(j),q={},Z=null,J=null,Q=null,K=null,$=null,tt=null,et=null,it=null,nt=!1,rt=null,at=null,ot=null,st=null,ct=null,ht=null,lt=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),ut=null,pt={},dt=new a,ft=new a,mt={};return mt[t.TEXTURE_2D]=s(t.TEXTURE_2D,t.TEXTURE_2D,1),mt[t.TEXTURE_CUBE_MAP]=s(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),{buffers:{color:H,depth:V,stencil:k},init:c,initAttributes:h,enableAttribute:l,enableAttributeAndDivisor:u,disableUnusedAttributes:p,enable:d,disable:f,getCompressedTextureFormats:m,setBlending:v,setColorWrite:g,setDepthTest:y,setDepthWrite:x,setDepthFunc:_,setStencilTest:b,setStencilWrite:w,setStencilFunc:M,setStencilOp:E,setFlipSided:T,setCullFace:S,setLineWidth:A,setPolygonOffset:L,getScissorTest:R,setScissorTest:P,activeTexture:C,bindTexture:I,compressedTexImage2D:U,texImage2D:N,clearColor:D,clearDepth:O,clearStencil:F,scissor:B,viewport:z,reset:G}}function ae(t,e,i){function n(){if(void 0!==a)return a;var i=e.get(\\\"EXT_texture_filter_anisotropic\\\");return a=null!==i?t.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}function r(e){if(\\\"highp\\\"===e){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return\\\"highp\\\";e=\\\"mediump\\\"}return\\\"mediump\\\"===e&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?\\\"mediump\\\":\\\"lowp\\\"}var a,o=void 0!==i.precision?i.precision:\\\"highp\\\",s=r(o);s!==o&&(console.warn(\\\"THREE.WebGLRenderer:\\\",o,\\\"not supported, using\\\",s,\\\"instead.\\\"),o=s);var c=i.logarithmicDepthBuffer===!0&&!!e.get(\\\"EXT_frag_depth\\\"),h=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),l=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),u=t.getParameter(t.MAX_TEXTURE_SIZE),p=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),d=t.getParameter(t.MAX_VERTEX_ATTRIBS),f=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),m=t.getParameter(t.MAX_VARYING_VECTORS),v=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),g=l>0,y=!!e.get(\\\"OES_texture_float\\\"),x=g&&y;return{getMaxAnisotropy:n,getMaxPrecision:r,precision:o,logarithmicDepthBuffer:c,maxTextures:h,maxVertexTextures:l,maxTextureSize:u,maxCubemapSize:p,maxAttributes:d,maxVertexUniforms:f,maxVaryings:m,maxFragmentUniforms:v,vertexTextures:g,floatFragmentTextures:y,floatVertexTextures:x}}function oe(t){var e={};return{get:function(i){if(void 0!==e[i])return e[i];var n;switch(i){case\\\"WEBGL_depth_texture\\\":n=t.getExtension(\\\"WEBGL_depth_texture\\\")||t.getExtension(\\\"MOZ_WEBGL_depth_texture\\\")||t.getExtension(\\\"WEBKIT_WEBGL_depth_texture\\\");break;case\\\"EXT_texture_filter_anisotropic\\\":n=t.getExtension(\\\"EXT_texture_filter_anisotropic\\\")||t.getExtension(\\\"MOZ_EXT_texture_filter_anisotropic\\\")||t.getExtension(\\\"WEBKIT_EXT_texture_filter_anisotropic\\\");break;case\\\"WEBGL_compressed_texture_s3tc\\\":n=t.getExtension(\\\"WEBGL_compressed_texture_s3tc\\\")||t.getExtension(\\\"MOZ_WEBGL_compressed_texture_s3tc\\\")||t.getExtension(\\\"WEBKIT_WEBGL_compressed_texture_s3tc\\\");break;case\\\"WEBGL_compressed_texture_pvrtc\\\":n=t.getExtension(\\\"WEBGL_compressed_texture_pvrtc\\\")||t.getExtension(\\\"WEBKIT_WEBGL_compressed_texture_pvrtc\\\");break;case\\\"WEBGL_compressed_texture_etc1\\\":n=t.getExtension(\\\"WEBGL_compressed_texture_etc1\\\");break;default:n=t.getExtension(i)}return null===n&&console.warn(\\\"THREE.WebGLRenderer: \\\"+i+\\\" extension not supported.\\\"),e[i]=n,n}}}function se(){function t(){h.value!==n&&(h.value=n,h.needsUpdate=r>0),i.numPlanes=r,i.numIntersection=0}function e(t,e,n,r){var a=null!==t?t.length:0,o=null;if(0!==a){if(o=h.value,r!==!0||null===o){var l=n+4*a,u=e.matrixWorldInverse;c.getNormalMatrix(u),(null===o||o.length<l)&&(o=new Float32Array(l));for(var p=0,d=n;p!==a;++p,d+=4)s.copy(t[p]).applyMatrix4(u,c),s.normal.toArray(o,d),o[d+3]=s.constant}h.value=o,h.needsUpdate=!0}return i.numPlanes=a,o}var i=this,n=null,r=0,a=!1,o=!1,s=new nt,c=new it,h={value:null,needsUpdate:!1};this.uniform=h,this.numPlanes=0,this.numIntersection=0,this.init=function(t,i,o){var s=0!==t.length||i||0!==r||a;return a=i,n=e(t,o,0),r=t.length,s},this.beginShadows=function(){o=!0,e(null)},this.endShadows=function(){o=!1,t()},this.setState=function(i,s,c,l,u,p){if(!a||null===i||0===i.length||o&&!c)o?e(null):t();else{var d=o?0:r,f=4*d,m=u.clippingState||null;h.value=m,m=e(i,l,f,p);for(var v=0;v!==f;++v)m[v]=n[v];u.clippingState=m,this.numIntersection=s?this.numPlanes:0,this.numPlanes+=d}}}function ce(t){function e(){return null===ut?Tt:1}function i(t,e,i,n){Y===!0&&(t*=n,e*=n,i*=n),Qt.clearColor(t,e,i,n)}function n(){Qt.init(),Qt.scissor(gt.copy(St).multiplyScalar(Tt)),Qt.viewport(xt.copy(Lt).multiplyScalar(Tt)),i(bt.r,bt.g,bt.b,wt)}function r(){lt=null,vt=null,mt=\\\"\\\",dt=-1,Qt.reset()}function o(t){t.preventDefault(),r(),n(),Kt.clear()}function s(t){var e=t.target;e.removeEventListener(\\\"dispose\\\",s),c(e)}function c(t){u(t),Kt.delete(t)}function u(t){var e=Kt.get(t).program;t.program=void 0,void 0!==e&&he.releaseProgram(e)}function p(t,e,i,n){var r;if(i&&i.isInstancedBufferGeometry&&(r=Zt.get(\\\"ANGLE_instanced_arrays\\\"),null===r))return void console.error(\\\"THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.\\\");void 0===n&&(n=0),Qt.initAttributes();var a=i.attributes,o=e.getAttributes(),s=t.defaultAttributeValues;for(var c in o){var h=o[c];if(h>=0){var l=a[c];if(void 0!==l){var u=Yt.FLOAT,p=l.array,d=l.normalized;p instanceof Float32Array?u=Yt.FLOAT:p instanceof Float64Array?console.warn(\\\"Unsupported data buffer format: Float64Array\\\"):p instanceof Uint16Array?u=Yt.UNSIGNED_SHORT:p instanceof Int16Array?u=Yt.SHORT:p instanceof Uint32Array?u=Yt.UNSIGNED_INT:p instanceof Int32Array?u=Yt.INT:p instanceof Int8Array?u=Yt.BYTE:p instanceof Uint8Array&&(u=Yt.UNSIGNED_BYTE);var f=l.itemSize,m=ce.getAttributeBuffer(l);if(l.isInterleavedBufferAttribute){var v=l.data,g=v.stride,y=l.offset;v&&v.isInstancedInterleavedBuffer?(Qt.enableAttributeAndDivisor(h,v.meshPerAttribute,r),void 0===i.maxInstancedCount&&(i.maxInstancedCount=v.meshPerAttribute*v.count)):Qt.enableAttribute(h),Yt.bindBuffer(Yt.ARRAY_BUFFER,m),Yt.vertexAttribPointer(h,f,u,d,g*v.array.BYTES_PER_ELEMENT,(n*g+y)*v.array.BYTES_PER_ELEMENT)}else l.isInstancedBufferAttribute?(Qt.enableAttributeAndDivisor(h,l.meshPerAttribute,r),void 0===i.maxInstancedCount&&(i.maxInstancedCount=l.meshPerAttribute*l.count)):Qt.enableAttribute(h),Yt.bindBuffer(Yt.ARRAY_BUFFER,m),Yt.vertexAttribPointer(h,f,u,d,0,n*f*l.array.BYTES_PER_ELEMENT)}else if(void 0!==s){var x=s[c];if(void 0!==x)switch(x.length){case 2:Yt.vertexAttrib2fv(h,x);break;case 3:Yt.vertexAttrib3fv(h,x);break;case 4:Yt.vertexAttrib4fv(h,x);break;default:Yt.vertexAttrib1fv(h,x)}}}}Qt.disableUnusedAttributes()}function d(t,e){return Math.abs(e[0])-Math.abs(t[0])}function f(t,e){return t.object.renderOrder!==e.object.renderOrder?t.object.renderOrder-e.object.renderOrder:t.material.program&&e.material.program&&t.material.program!==e.material.program?t.material.program.id-e.material.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function m(t,e){return t.object.renderOrder!==e.object.renderOrder?t.object.renderOrder-e.object.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function v(t,e,i,n,r){var a,o;i.transparent?(a=it,o=++nt):(a=$,o=++tt);var s=a[o];void 0!==s?(s.id=t.id,s.object=t,s.geometry=e,s.material=i,s.z=jt.z,s.group=r):(s={id:t.id,object:t,geometry:e,material:i,z:jt.z,group:r},a.push(s))}function g(t){var e=t.geometry;return null===e.boundingSphere&&e.computeBoundingSphere(),Vt.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),x(Vt)}function y(t){return Vt.center.set(0,0,0),Vt.radius=.7071067811865476,Vt.applyMatrix4(t.matrixWorld),x(Vt)}function x(t){if(!Ut.intersectsSphere(t))return!1;var e=zt.numPlanes;if(0===e)return!0;var i=ht.clippingPlanes,n=t.center,r=-t.radius,a=0;do if(i[a].distanceToPoint(n)<r)return!1;while(++a!==e);return!0}function _(t,e){if(t.visible!==!1){var i=0!==(t.layers.mask&e.layers.mask);if(i)if(t.isLight)Q.push(t);else if(t.isSprite)t.frustumCulled!==!1&&y(t)!==!0||st.push(t);else if(t.isLensFlare)ct.push(t);else if(t.isImmediateRenderObject)ht.sortObjects===!0&&(jt.setFromMatrixPosition(t.matrixWorld),jt.applyProjection(kt)),v(t,null,t.material,jt.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.update(),t.frustumCulled===!1||g(t)===!0)){var n=t.material;if(n.visible===!0){ht.sortObjects===!0&&(jt.setFromMatrixPosition(t.matrixWorld),jt.applyProjection(kt));var r=ce.update(t);if(n.isMultiMaterial)for(var a=r.groups,o=n.materials,s=0,c=a.length;s<c;s++){var h=a[s],l=o[h.materialIndex];l.visible===!0&&v(t,r,l,jt.z,h)}else v(t,r,n,jt.z,null)}}for(var u=t.children,s=0,c=u.length;s<c;s++)_(u[s],e)}}function b(t,e,i,n){for(var r=0,a=t.length;r<a;r++){var o=t[r],s=o.object,c=o.geometry,h=void 0===n?o.material:n,l=o.group;if(s.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,s.matrixWorld),s.normalMatrix.getNormalMatrix(s.modelViewMatrix),s.onBeforeRender(ht,e,i,c,h,l),s.isImmediateRenderObject){M(h);var u=E(i,e.fog,h,s);mt=\\\"\\\",s.render(function(t){ht.renderBufferImmediate(t,u,h)})}else ht.renderBufferDirect(i,e.fog,c,h,s,l);s.onAfterRender(ht,e,i,c,h,l)}}function w(t,e,i){var n=Kt.get(t),r=he.getParameters(t,Wt,e,zt.numPlanes,zt.numIntersection,i),a=he.getProgramCode(t,r),o=n.program,c=!0;if(void 0===o)t.addEventListener(\\\"dispose\\\",s);else if(o.code!==a)u(t);else{if(void 0!==r.shaderID)return;c=!1}if(c){if(r.shaderID){var h=Wc[r.shaderID];n.__webglShader={name:t.type,uniforms:jo.clone(h.uniforms),vertexShader:h.vertexShader,fragmentShader:h.fragmentShader}}else n.__webglShader={name:t.type,uniforms:t.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader};t.__webglShader=n.__webglShader,o=he.acquireProgram(t,r,a),n.program=o,t.program=o}var l=o.getAttributes();if(t.morphTargets){t.numSupportedMorphTargets=0;for(var p=0;p<ht.maxMorphTargets;p++)l[\\\"morphTarget\\\"+p]>=0&&t.numSupportedMorphTargets++}if(t.morphNormals){t.numSupportedMorphNormals=0;for(var p=0;p<ht.maxMorphNormals;p++)l[\\\"morphNormal\\\"+p]>=0&&t.numSupportedMorphNormals++}var d=n.__webglShader.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&&t.clipping!==!0||(n.numClippingPlanes=zt.numPlanes,n.numIntersection=zt.numIntersection,d.clippingPlanes=zt.uniform),n.fog=e,n.lightsHash=Wt.hash,t.lights&&(d.ambientLightColor.value=Wt.ambient,d.directionalLights.value=Wt.directional,d.spotLights.value=Wt.spot,d.pointLights.value=Wt.point,d.hemisphereLights.value=Wt.hemi,d.directionalShadowMap.value=Wt.directionalShadowMap,d.directionalShadowMatrix.value=Wt.directionalShadowMatrix,d.spotShadowMap.value=Wt.spotShadowMap,d.spotShadowMatrix.value=Wt.spotShadowMatrix,d.pointShadowMap.value=Wt.pointShadowMap,d.pointShadowMatrix.value=Wt.pointShadowMatrix);var f=n.program.getUniforms(),m=W.seqWithValue(f.seq,d);n.uniformsList=m}function M(t){t.side===Lr?Qt.disable(Yt.CULL_FACE):Qt.enable(Yt.CULL_FACE),Qt.setFlipSided(t.side===Ar),t.transparent===!0?Qt.setBlending(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha):Qt.setBlending(Nr),Qt.setDepthFunc(t.depthFunc),Qt.setDepthTest(t.depthTest),Qt.setDepthWrite(t.depthWrite),Qt.setColorWrite(t.colorWrite),Qt.setPolygonOffset(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)}function E(t,e,i,n){_t=0;var r=Kt.get(i);if(Gt&&(Ht||t!==vt)){var a=t===vt&&i.id===dt;zt.setState(i.clippingPlanes,i.clipIntersection,i.clipShadows,t,r,a)}i.needsUpdate===!1&&(void 0===r.program?i.needsUpdate=!0:i.fog&&r.fog!==e?i.needsUpdate=!0:i.lights&&r.lightsHash!==Wt.hash?i.needsUpdate=!0:void 0===r.numClippingPlanes||r.numClippingPlanes===zt.numPlanes&&r.numIntersection===zt.numIntersection||(i.needsUpdate=!0)),i.needsUpdate&&(w(i,e,n),i.needsUpdate=!1);var o=!1,s=!1,c=!1,h=r.program,l=h.getUniforms(),u=r.__webglShader.uniforms;if(h.id!==lt&&(Yt.useProgram(h.program),lt=h.id,o=!0,s=!0,c=!0),i.id!==dt&&(dt=i.id,s=!0),o||t!==vt){if(l.set(Yt,t,\\\"projectionMatrix\\\"),Jt.logarithmicDepthBuffer&&l.setValue(Yt,\\\"logDepthBufFC\\\",2/(Math.log(t.far+1)/Math.LN2)),t!==vt&&(vt=t,s=!0,c=!0),i.isShaderMaterial||i.isMeshPhongMaterial||i.isMeshStandardMaterial||i.envMap){var p=l.map.cameraPosition;void 0!==p&&p.setValue(Yt,jt.setFromMatrixPosition(t.matrixWorld))}(i.isMeshPhongMaterial||i.isMeshLambertMaterial||i.isMeshBasicMaterial||i.isMeshStandardMaterial||i.isShaderMaterial||i.skinning)&&l.setValue(Yt,\\\"viewMatrix\\\",t.matrixWorldInverse),l.set(Yt,ht,\\\"toneMappingExposure\\\"),l.set(Yt,ht,\\\"toneMappingWhitePoint\\\")}if(i.skinning){l.setOptional(Yt,n,\\\"bindMatrix\\\"),l.setOptional(Yt,n,\\\"bindMatrixInverse\\\");var d=n.skeleton;d&&(Jt.floatVertexTextures&&d.useVertexTexture?(l.set(Yt,d,\\\"boneTexture\\\"),l.set(Yt,d,\\\"boneTextureWidth\\\"),l.set(Yt,d,\\\"boneTextureHeight\\\")):l.setOptional(Yt,d,\\\"boneMatrices\\\"))}return s&&(i.lights&&N(u,c),e&&i.fog&&R(u,e),(i.isMeshBasicMaterial||i.isMeshLambertMaterial||i.isMeshPhongMaterial||i.isMeshStandardMaterial||i.isMeshDepthMaterial)&&T(u,i),i.isLineBasicMaterial?S(u,i):i.isLineDashedMaterial?(S(u,i),A(u,i)):i.isPointsMaterial?L(u,i):i.isMeshLambertMaterial?P(u,i):i.isMeshPhongMaterial?C(u,i):i.isMeshPhysicalMaterial?U(u,i):i.isMeshStandardMaterial?I(u,i):i.isMeshDepthMaterial?i.displacementMap&&(u.displacementMap.value=i.displacementMap,u.displacementScale.value=i.displacementScale,u.displacementBias.value=i.displacementBias):i.isMeshNormalMaterial&&(u.opacity.value=i.opacity),W.upload(Yt,r.uniformsList,u,ht)),l.set(Yt,n,\\\"modelViewMatrix\\\"),l.set(Yt,n,\\\"normalMatrix\\\"),l.setValue(Yt,\\\"modelMatrix\\\",n.matrixWorld),h}function T(t,e){t.opacity.value=e.opacity,t.diffuse.value=e.color,e.emissive&&t.emissive.value.copy(e.emissive).multiplyScalar(e.emissiveIntensity),t.map.value=e.map,t.specularMap.value=e.specularMap,t.alphaMap.value=e.alphaMap,e.aoMap&&(t.aoMap.value=e.aoMap,t.aoMapIntensity.value=e.aoMapIntensity);var i;if(e.map?i=e.map:e.specularMap?i=e.specularMap:e.displacementMap?i=e.displacementMap:e.normalMap?i=e.normalMap:e.bumpMap?i=e.bumpMap:e.roughnessMap?i=e.roughnessMap:e.metalnessMap?i=e.metalnessMap:e.alphaMap?i=e.alphaMap:e.emissiveMap&&(i=e.emissiveMap),void 0!==i){i.isWebGLRenderTarget&&(i=i.texture);var n=i.offset,r=i.repeat;t.offsetRepeat.value.set(n.x,n.y,r.x,r.y)}t.envMap.value=e.envMap,t.flipEnvMap.value=e.envMap&&e.envMap.isCubeTexture?-1:1,t.reflectivity.value=e.reflectivity,t.refractionRatio.value=e.refractionRatio}function S(t,e){t.diffuse.value=e.color,t.opacity.value=e.opacity}function A(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}function L(t,e){if(t.diffuse.value=e.color,t.opacity.value=e.opacity,t.size.value=e.size*Tt,t.scale.value=.5*Et,t.map.value=e.map,null!==e.map){var i=e.map.offset,n=e.map.repeat;t.offsetRepeat.value.set(i.x,i.y,n.x,n.y)}}function R(t,e){t.fogColor.value=e.color,e.isFog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e.isFogExp2&&(t.fogDensity.value=e.density)}function P(t,e){e.lightMap&&(t.lightMap.value=e.lightMap,t.lightMapIntensity.value=e.lightMapIntensity),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap)}function C(t,e){t.specular.value=e.specular,t.shininess.value=Math.max(e.shininess,1e-4),e.lightMap&&(t.lightMap.value=e.lightMap,t.lightMapIntensity.value=e.lightMapIntensity),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale)),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function I(t,e){t.roughness.value=e.roughness,t.metalness.value=e.metalness,e.roughnessMap&&(t.roughnessMap.value=e.roughnessMap),e.metalnessMap&&(t.metalnessMap.value=e.metalnessMap),e.lightMap&&(t.lightMap.value=e.lightMap,t.lightMapIntensity.value=e.lightMapIntensity),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale)),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),e.envMap&&(t.envMapIntensity.value=e.envMapIntensity)}function U(t,e){t.clearCoat.value=e.clearCoat,t.clearCoatRoughness.value=e.clearCoatRoughness,I(t,e)}function N(t,e){t.ambientLightColor.needsUpdate=e,t.directionalLights.needsUpdate=e,t.pointLights.needsUpdate=e,t.spotLights.needsUpdate=e,t.hemisphereLights.needsUpdate=e}function D(t){for(var e=0,i=0,n=t.length;i<n;i++){var r=t[i];r.castShadow&&(Wt.shadows[e++]=r)}Wt.shadows.length=e}function O(t,e){var i,n,r,a,o,s,c,h=0,u=0,p=0,d=e.matrixWorldInverse,f=0,m=0,v=0,g=0;for(i=0,n=t.length;i<n;i++)if(r=t[i],a=r.color,o=r.intensity,s=r.distance,c=r.shadow&&r.shadow.map?r.shadow.map.texture:null,r.isAmbientLight)h+=a.r*o,u+=a.g*o,p+=a.b*o;else if(r.isDirectionalLight){var y=le.get(r);y.color.copy(r.color).multiplyScalar(r.intensity),y.direction.setFromMatrixPosition(r.matrixWorld),jt.setFromMatrixPosition(r.target.matrixWorld),y.direction.sub(jt),y.direction.transformDirection(d),y.shadow=r.castShadow,r.castShadow&&(y.shadowBias=r.shadow.bias,y.shadowRadius=r.shadow.radius,y.shadowMapSize=r.shadow.mapSize),Wt.directionalShadowMap[f]=c,Wt.directionalShadowMatrix[f]=r.shadow.matrix,Wt.directional[f++]=y}else if(r.isSpotLight){var y=le.get(r);y.position.setFromMatrixPosition(r.matrixWorld),y.position.applyMatrix4(d),y.color.copy(a).multiplyScalar(o),y.distance=s,y.direction.setFromMatrixPosition(r.matrixWorld),jt.setFromMatrixPosition(r.target.matrixWorld),y.direction.sub(jt),y.direction.transformDirection(d),y.coneCos=Math.cos(r.angle),y.penumbraCos=Math.cos(r.angle*(1-r.penumbra)),y.decay=0===r.distance?0:r.decay,y.shadow=r.castShadow,r.castShadow&&(y.shadowBias=r.shadow.bias,y.shadowRadius=r.shadow.radius,y.shadowMapSize=r.shadow.mapSize),Wt.spotShadowMap[v]=c,Wt.spotShadowMatrix[v]=r.shadow.matrix,Wt.spot[v++]=y}else if(r.isPointLight){var y=le.get(r);y.position.setFromMatrixPosition(r.matrixWorld),y.position.applyMatrix4(d),y.color.copy(r.color).multiplyScalar(r.intensity),y.distance=r.distance,y.decay=0===r.distance?0:r.decay,y.shadow=r.castShadow,r.castShadow&&(y.shadowBias=r.shadow.bias,y.shadowRadius=r.shadow.radius,y.shadowMapSize=r.shadow.mapSize),Wt.pointShadowMap[m]=c,void 0===Wt.pointShadowMatrix[m]&&(Wt.pointShadowMatrix[m]=new l),jt.setFromMatrixPosition(r.matrixWorld).negate(),Wt.pointShadowMatrix[m].identity().setPosition(jt),Wt.point[m++]=y}else if(r.isHemisphereLight){var y=le.get(r);y.direction.setFromMatrixPosition(r.matrixWorld),y.direction.transformDirection(d),y.direction.normalize(),y.skyColor.copy(r.color).multiplyScalar(o),y.groundColor.copy(r.groundColor).multiplyScalar(o),Wt.hemi[g++]=y}Wt.ambient[0]=h,Wt.ambient[1]=u,Wt.ambient[2]=p,Wt.directional.length=f,Wt.spot.length=v,Wt.point.length=m,Wt.hemi.length=g,Wt.hash=f+\\\",\\\"+m+\\\",\\\"+v+\\\",\\\"+g+\\\",\\\"+Wt.shadows.length}function F(){var t=_t;return t>=Jt.maxTextures&&console.warn(\\\"WebGLRenderer: trying to use \\\"+t+\\\" texture units while this GPU supports only \\\"+Jt.maxTextures),_t+=1,t}function B(t){var e;if(t===La)return Yt.REPEAT;if(t===Ra)return Yt.CLAMP_TO_EDGE;if(t===Pa)return Yt.MIRRORED_REPEAT;if(t===Ia)return Yt.NEAREST;if(t===Ua)return Yt.NEAREST_MIPMAP_NEAREST;if(t===Na)return Yt.NEAREST_MIPMAP_LINEAR;if(t===Da)return Yt.LINEAR;if(t===Oa)return Yt.LINEAR_MIPMAP_NEAREST;if(t===Fa)return Yt.LINEAR_MIPMAP_LINEAR;if(t===za)return Yt.UNSIGNED_BYTE;if(t===Ya)return Yt.UNSIGNED_SHORT_4_4_4_4;if(t===qa)return Yt.UNSIGNED_SHORT_5_5_5_1;if(t===Za)return Yt.UNSIGNED_SHORT_5_6_5;if(t===Ga)return Yt.BYTE;if(t===Ha)return Yt.SHORT;if(t===Va)return Yt.UNSIGNED_SHORT;if(t===ka)return Yt.INT;if(t===ja)return Yt.UNSIGNED_INT;if(t===Wa)return Yt.FLOAT;if(t===Xa&&(e=Zt.get(\\\"OES_texture_half_float\\\"),null!==e))return e.HALF_FLOAT_OES;if(t===Qa)return Yt.ALPHA;if(t===Ka)return Yt.RGB;if(t===$a)return Yt.RGBA;if(t===to)return Yt.LUMINANCE;if(t===eo)return Yt.LUMINANCE_ALPHA;if(t===no)return Yt.DEPTH_COMPONENT;if(t===ro)return Yt.DEPTH_STENCIL;if(t===Hr)return Yt.FUNC_ADD;if(t===Vr)return Yt.FUNC_SUBTRACT;if(t===kr)return Yt.FUNC_REVERSE_SUBTRACT;if(t===Xr)return Yt.ZERO;if(t===Yr)return Yt.ONE;if(t===qr)return Yt.SRC_COLOR;if(t===Zr)return Yt.ONE_MINUS_SRC_COLOR;if(t===Jr)return Yt.SRC_ALPHA;if(t===Qr)return Yt.ONE_MINUS_SRC_ALPHA;if(t===Kr)return Yt.DST_ALPHA;if(t===$r)return Yt.ONE_MINUS_DST_ALPHA;if(t===ta)return Yt.DST_COLOR;if(t===ea)return Yt.ONE_MINUS_DST_COLOR;if(t===ia)return Yt.SRC_ALPHA_SATURATE;if((t===ao||t===oo||t===so||t===co)&&(e=Zt.get(\\\"WEBGL_compressed_texture_s3tc\\\"),null!==e)){if(t===ao)return e.COMPRESSED_RGB_S3TC_DXT1_EXT;if(t===oo)return e.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(t===so)return e.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(t===co)return e.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((t===ho||t===lo||t===uo||t===po)&&(e=Zt.get(\\\"WEBGL_compressed_texture_pvrtc\\\"),null!==e)){if(t===ho)return e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(t===lo)return e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(t===uo)return e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(t===po)return e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(t===fo&&(e=Zt.get(\\\"WEBGL_compressed_texture_etc1\\\"),null!==e))return e.COMPRESSED_RGB_ETC1_WEBGL;if((t===jr||t===Wr)&&(e=Zt.get(\\\"EXT_blend_minmax\\\"),null!==e)){if(t===jr)return e.MIN_EXT;if(t===Wr)return e.MAX_EXT}return t===Ja&&(e=Zt.get(\\\"WEBGL_depth_texture\\\"),null!==e)?e.UNSIGNED_INT_24_8_WEBGL:0}console.log(\\\"THREE.WebGLRenderer\\\",mr),t=t||{};var z=void 0!==t.canvas?t.canvas:document.createElementNS(\\\"http://www.w3.org/1999/xhtml\\\",\\\"canvas\\\"),G=void 0!==t.context?t.context:null,H=void 0!==t.alpha&&t.alpha,V=void 0===t.depth||t.depth,k=void 0===t.stencil||t.stencil,j=void 0!==t.antialias&&t.antialias,Y=void 0===t.premultipliedAlpha||t.premultipliedAlpha,J=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,Q=[],$=[],tt=-1,it=[],nt=-1,ot=new Float32Array(8),st=[],ct=[];this.domElement=z,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=ma,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var ht=this,lt=null,ut=null,pt=null,dt=-1,mt=\\\"\\\",vt=null,gt=new a,yt=null,xt=new a,_t=0,bt=new X(0),wt=0,Mt=z.width,Et=z.height,Tt=1,St=new a(0,0,Mt,Et),At=!1,Lt=new a(0,0,Mt,Et),Ut=new rt,zt=new se,Gt=!1,Ht=!1,Vt=new et,kt=new l,jt=new h,Wt={hash:\\\"\\\",ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],shadows:[]},Xt={calls:0,vertices:0,faces:0,points:0};this.info={render:Xt,memory:{geometries:0,textures:0},programs:null};var Yt;try{var qt={alpha:H,depth:V,stencil:k,antialias:j,premultipliedAlpha:Y,preserveDrawingBuffer:J};if(Yt=G||z.getContext(\\\"webgl\\\",qt)||z.getContext(\\\"experimental-webgl\\\",qt),null===Yt)throw null!==z.getContext(\\\"webgl\\\")?\\\"Error creating WebGL context with your selected attributes.\\\":\\\"Error creating WebGL context.\\\";void 0===Yt.getShaderPrecisionFormat&&(Yt.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}}),z.addEventListener(\\\"webglcontextlost\\\",o,!1)}catch(t){console.error(\\\"THREE.WebGLRenderer: \\\"+t)}var Zt=new oe(Yt);Zt.get(\\\"WEBGL_depth_texture\\\"),Zt.get(\\\"OES_texture_float\\\"),Zt.get(\\\"OES_texture_float_linear\\\"),Zt.get(\\\"OES_texture_half_float\\\"),Zt.get(\\\"OES_texture_half_float_linear\\\"),Zt.get(\\\"OES_standard_derivatives\\\"),Zt.get(\\\"ANGLE_instanced_arrays\\\"),Zt.get(\\\"OES_element_index_uint\\\")&&(Rt.MaxIndex=4294967296);var Jt=new ae(Yt,Zt,t),Qt=new re(Yt,Zt,B),Kt=new ne,te=new ie(Yt,Zt,Qt,Kt,Jt,B,this.info),ce=new ee(Yt,Kt,this.info),he=new $t(this,Jt),le=new Bt;this.info.programs=he.programs;var ue=new Ft(Yt,Zt,Xt),pe=new Ot(Yt,Zt,Xt),de=new Dt((-1),1,1,(-1),0,1),fe=new Nt,me=new Pt(new It(2,2),new ft({depthTest:!1,depthWrite:!1,fog:!1})),ve=Wc.cube,ge=new Pt(new Ct(5,5,5),new K({uniforms:ve.uniforms,vertexShader:ve.vertexShader,fragmentShader:ve.fragmentShader,side:Ar,depthTest:!1,depthWrite:!1,fog:!1}));n(),this.context=Yt,this.capabilities=Jt,this.extensions=Zt,this.properties=Kt,this.state=Qt;var ye=new at(this,Wt,ce,Jt);this.shadowMap=ye;var xe=new Z(this,st),_e=new q(this,ct);this.getContext=function(){return Yt},this.getContextAttributes=function(){return Yt.getContextAttributes()},this.forceContextLoss=function(){Zt.get(\\\"WEBGL_lose_context\\\").loseContext()},this.getMaxAnisotropy=function(){return Jt.getMaxAnisotropy()},this.getPrecision=function(){return Jt.precision},this.getPixelRatio=function(){return Tt},this.setPixelRatio=function(t){void 0!==t&&(Tt=t,this.setSize(Lt.z,Lt.w,!1))},this.getSize=function(){return{width:Mt,height:Et}},this.setSize=function(t,e,i){Mt=t,Et=e,z.width=t*Tt,z.height=e*Tt,i!==!1&&(z.style.width=t+\\\"px\\\",z.style.height=e+\\\"px\\\"),this.setViewport(0,0,t,e)},this.setViewport=function(t,e,i,n){Qt.viewport(Lt.set(t,e,i,n))},this.setScissor=function(t,e,i,n){Qt.scissor(St.set(t,e,i,n))},this.setScissorTest=function(t){Qt.setScissorTest(At=t)},this.getClearColor=function(){return bt},this.setClearColor=function(t,e){bt.set(t),wt=void 0!==e?e:1,i(bt.r,bt.g,bt.b,wt)},this.getClearAlpha=function(){return wt},this.setClearAlpha=function(t){wt=t,i(bt.r,bt.g,bt.b,wt)},this.clear=function(t,e,i){var n=0;(void 0===t||t)&&(n|=Yt.COLOR_BUFFER_BIT),(void 0===e||e)&&(n|=Yt.DEPTH_BUFFER_BIT),(void 0===i||i)&&(n|=Yt.STENCIL_BUFFER_BIT),Yt.clear(n)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.clearTarget=function(t,e,i,n){this.setRenderTarget(t),this.clear(e,i,n)},this.resetGLState=r,this.dispose=function(){it=[],nt=-1,$=[],tt=-1,z.removeEventListener(\\\"webglcontextlost\\\",o,!1)},this.renderBufferImmediate=function(t,e,i){Qt.initAttributes();var n=Kt.get(t);t.hasPositions&&!n.position&&(n.position=Yt.createBuffer()),t.hasNormals&&!n.normal&&(n.normal=Yt.createBuffer()),t.hasUvs&&!n.uv&&(n.uv=Yt.createBuffer()),t.hasColors&&!n.color&&(n.color=Yt.createBuffer());var r=e.getAttributes();if(t.hasPositions&&(Yt.bindBuffer(Yt.ARRAY_BUFFER,n.position),Yt.bufferData(Yt.ARRAY_BUFFER,t.positionArray,Yt.DYNAMIC_DRAW),Qt.enableAttribute(r.position),Yt.vertexAttribPointer(r.position,3,Yt.FLOAT,!1,0,0)),t.hasNormals){if(Yt.bindBuffer(Yt.ARRAY_BUFFER,n.normal),!i.isMeshPhongMaterial&&!i.isMeshStandardMaterial&&i.shading===Rr)for(var a=0,o=3*t.count;a<o;a+=9){var s=t.normalArray,c=(s[a+0]+s[a+3]+s[a+6])/3,h=(s[a+1]+s[a+4]+s[a+7])/3,l=(s[a+2]+s[a+5]+s[a+8])/3;s[a+0]=c,s[a+1]=h,s[a+2]=l,s[a+3]=c,s[a+4]=h,s[a+5]=l,s[a+6]=c,s[a+7]=h,s[a+8]=l}Yt.bufferData(Yt.ARRAY_BUFFER,t.normalArray,Yt.DYNAMIC_DRAW),Qt.enableAttribute(r.normal),Yt.vertexAttribPointer(r.normal,3,Yt.FLOAT,!1,0,0)}t.hasUvs&&i.map&&(Yt.bindBuffer(Yt.ARRAY_BUFFER,n.uv),Yt.bufferData(Yt.ARRAY_BUFFER,t.uvArray,Yt.DYNAMIC_DRAW),Qt.enableAttribute(r.uv),Yt.vertexAttribPointer(r.uv,2,Yt.FLOAT,!1,0,0)),t.hasColors&&i.vertexColors!==Cr&&(Yt.bindBuffer(Yt.ARRAY_BUFFER,n.color),Yt.bufferData(Yt.ARRAY_BUFFER,t.colorArray,Yt.DYNAMIC_DRAW),Qt.enableAttribute(r.color),Yt.vertexAttribPointer(r.color,3,Yt.FLOAT,!1,0,0)),Qt.disableUnusedAttributes(),Yt.drawArrays(Yt.TRIANGLES,0,t.count),t.count=0},this.renderBufferDirect=function(t,i,n,r,a,o){M(r);var s=E(t,i,r,a),c=!1,h=n.id+\\\"_\\\"+s.id+\\\"_\\\"+r.wireframe;h!==mt&&(mt=h,c=!0);var l=a.morphTargetInfluences;if(void 0!==l){for(var u=[],f=0,m=l.length;f<m;f++){var v=l[f];u.push([v,f])}u.sort(d),u.length>8&&(u.length=8);for(var g=n.morphAttributes,f=0,m=u.length;f<m;f++){var v=u[f];if(ot[f]=v[0],0!==v[0]){var y=v[1];r.morphTargets===!0&&g.position&&n.addAttribute(\\\"morphTarget\\\"+f,g.position[y]),r.morphNormals===!0&&g.normal&&n.addAttribute(\\\"morphNormal\\\"+f,g.normal[y])}else r.morphTargets===!0&&n.removeAttribute(\\\"morphTarget\\\"+f),r.morphNormals===!0&&n.removeAttribute(\\\"morphNormal\\\"+f)}for(var f=u.length,x=ot.length;f<x;f++)ot[f]=0;s.getUniforms().setValue(Yt,\\\"morphTargetInfluences\\\",ot),c=!0}var y=n.index,_=n.attributes.position,b=1;r.wireframe===!0&&(y=ce.getWireframeAttribute(n),b=2);var w;null!==y?(w=pe,w.setIndex(y)):w=ue,c&&(p(r,s,n),null!==y&&Yt.bindBuffer(Yt.ELEMENT_ARRAY_BUFFER,ce.getAttributeBuffer(y)));var T=0;null!==y?T=y.count:void 0!==_&&(T=_.count);var S=n.drawRange.start*b,A=n.drawRange.count*b,L=null!==o?o.start*b:0,R=null!==o?o.count*b:1/0,P=Math.max(S,L),C=Math.min(T,S+A,L+R)-1,I=Math.max(0,C-P+1);if(0!==I){if(a.isMesh)if(r.wireframe===!0)Qt.setLineWidth(r.wireframeLinewidth*e()),w.setMode(Yt.LINES);else switch(a.drawMode){case Eo:w.setMode(Yt.TRIANGLES);break;case To:w.setMode(Yt.TRIANGLE_STRIP);break;case So:w.setMode(Yt.TRIANGLE_FAN)}else if(a.isLine){var U=r.linewidth;void 0===U&&(U=1),Qt.setLineWidth(U*e()),a.isLineSegments?w.setMode(Yt.LINES):w.setMode(Yt.LINE_STRIP)}else a.isPoints&&w.setMode(Yt.POINTS);n&&n.isInstancedBufferGeometry?n.maxInstancedCount>0&&w.renderInstances(n,P,I):w.render(P,I)}},this.render=function(t,e,n,r){if(void 0!==e&&e.isCamera!==!0)return void console.error(\\\"THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.\\\");mt=\\\"\\\",dt=-1,vt=null,t.autoUpdate===!0&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),e.matrixWorldInverse.getInverse(e.matrixWorld),kt.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),Ut.setFromMatrix(kt),Q.length=0,tt=-1,nt=-1,st.length=0,ct.length=0,Ht=this.localClippingEnabled,Gt=zt.init(this.clippingPlanes,Ht,e),_(t,e),$.length=tt+1,it.length=nt+1,ht.sortObjects===!0&&($.sort(f),it.sort(m)),Gt&&zt.beginShadows(),D(Q),ye.render(t,e),O(Q,e),Gt&&zt.endShadows(),Xt.calls=0,Xt.vertices=0,Xt.faces=0,Xt.points=0,void 0===n&&(n=null),this.setRenderTarget(n);var a=t.background;if(null===a?i(bt.r,bt.g,bt.b,wt):a&&a.isColor&&(i(a.r,a.g,a.b,1),r=!0),(this.autoClear||r)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil),a&&a.isCubeTexture?(fe.projectionMatrix.copy(e.projectionMatrix),fe.matrixWorld.extractRotation(e.matrixWorld),fe.matrixWorldInverse.getInverse(fe.matrixWorld),ge.material.uniforms.tCube.value=a,ge.modelViewMatrix.multiplyMatrices(fe.matrixWorldInverse,ge.matrixWorld),ce.update(ge),ht.renderBufferDirect(fe,null,ge.geometry,ge.material,ge,null)):a&&a.isTexture&&(me.material.map=a,ce.update(me),ht.renderBufferDirect(de,null,me.geometry,me.material,me,null)),t.overrideMaterial){var o=t.overrideMaterial;b($,t,e,o),b(it,t,e,o)}else Qt.setBlending(Nr),b($,t,e),b(it,t,e);xe.render(t,e),_e.render(t,e,xt),n&&te.updateRenderTargetMipmap(n),Qt.setDepthTest(!0),Qt.setDepthWrite(!0),Qt.setColorWrite(!0)},this.setFaceCulling=function(t,e){Qt.setCullFace(t),Qt.setFlipSided(e===br)},this.allocTextureUnit=F,this.setTexture2D=function(){var t=!1;return function(e,i){e&&e.isWebGLRenderTarget&&(t||(console.warn(\\\"THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead.\\\"),t=!0),e=e.texture),te.setTexture2D(e,i)}}(),this.setTexture=function(){var t=!1;return function(e,i){t||(console.warn(\\\"THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead.\\\"),t=!0),te.setTexture2D(e,i)}}(),this.setTextureCube=function(){var t=!1;return function(e,i){e&&e.isWebGLRenderTargetCube&&(t||(console.warn(\\\"THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead.\\\"),t=!0),e=e.texture),e&&e.isCubeTexture||Array.isArray(e.image)&&6===e.image.length?te.setTextureCube(e,i):te.setTextureCubeDynamic(e,i)}}(),\\nthis.getCurrentRenderTarget=function(){return ut},this.setRenderTarget=function(t){ut=t,t&&void 0===Kt.get(t).__webglFramebuffer&&te.setupRenderTarget(t);var e,i=t&&t.isWebGLRenderTargetCube;if(t){var n=Kt.get(t);e=i?n.__webglFramebuffer[t.activeCubeFace]:n.__webglFramebuffer,gt.copy(t.scissor),yt=t.scissorTest,xt.copy(t.viewport)}else e=null,gt.copy(St).multiplyScalar(Tt),yt=At,xt.copy(Lt).multiplyScalar(Tt);if(pt!==e&&(Yt.bindFramebuffer(Yt.FRAMEBUFFER,e),pt=e),Qt.scissor(gt),Qt.setScissorTest(yt),Qt.viewport(xt),i){var r=Kt.get(t.texture);Yt.framebufferTexture2D(Yt.FRAMEBUFFER,Yt.COLOR_ATTACHMENT0,Yt.TEXTURE_CUBE_MAP_POSITIVE_X+t.activeCubeFace,r.__webglTexture,t.activeMipMapLevel)}},this.readRenderTargetPixels=function(t,e,i,n,r,a){if((t&&t.isWebGLRenderTarget)===!1)return void console.error(\\\"THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.\\\");var o=Kt.get(t).__webglFramebuffer;if(o){var s=!1;o!==pt&&(Yt.bindFramebuffer(Yt.FRAMEBUFFER,o),s=!0);try{var c=t.texture,h=c.format,l=c.type;if(h!==$a&&B(h)!==Yt.getParameter(Yt.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error(\\\"THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.\\\");if(!(l===za||B(l)===Yt.getParameter(Yt.IMPLEMENTATION_COLOR_READ_TYPE)||l===Wa&&(Zt.get(\\\"OES_texture_float\\\")||Zt.get(\\\"WEBGL_color_buffer_float\\\"))||l===Xa&&Zt.get(\\\"EXT_color_buffer_half_float\\\")))return void console.error(\\\"THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.\\\");Yt.checkFramebufferStatus(Yt.FRAMEBUFFER)===Yt.FRAMEBUFFER_COMPLETE?e>=0&&e<=t.width-n&&i>=0&&i<=t.height-r&&Yt.readPixels(e,i,n,r,B(h),B(l),a):console.error(\\\"THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.\\\")}finally{s&&Yt.bindFramebuffer(Yt.FRAMEBUFFER,pt)}}}}function he(t,e){this.name=\\\"\\\",this.color=new X(t),this.density=void 0!==e?e:25e-5}function le(t,e,i){this.name=\\\"\\\",this.color=new X(t),this.near=void 0!==e?e:1,this.far=void 0!==i?i:1e3}function ue(){ht.call(this),this.type=\\\"Scene\\\",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}function pe(t,e,i,n,r){ht.call(this),this.lensFlares=[],this.positionScreen=new h,this.customUpdateCallback=void 0,void 0!==t&&this.add(t,e,i,n,r)}function de(t){J.call(this),this.type=\\\"SpriteMaterial\\\",this.color=new X(16777215),this.map=null,this.rotation=0,this.fog=!1,this.lights=!1,this.setValues(t)}function fe(t){ht.call(this),this.type=\\\"Sprite\\\",this.material=void 0!==t?t:new de}function me(){ht.call(this),this.type=\\\"LOD\\\",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function ve(t,e,i,r,a,o,s,c,h,l,u,p){n.call(this,null,o,s,c,h,l,r,a,u,p),this.image={data:t,width:e,height:i},this.magFilter=void 0!==h?h:Ia,this.minFilter=void 0!==l?l:Ia,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function ge(t,e,i){if(this.useVertexTexture=void 0===i||i,this.identityMatrix=new l,t=t||[],this.bones=t.slice(0),this.useVertexTexture){var n=Math.sqrt(4*this.bones.length);n=Fo.nextPowerOfTwo(Math.ceil(n)),n=Math.max(n,4),this.boneTextureWidth=n,this.boneTextureHeight=n,this.boneMatrices=new Float32Array(this.boneTextureWidth*this.boneTextureHeight*4),this.boneTexture=new ve(this.boneMatrices,this.boneTextureWidth,this.boneTextureHeight,$a,Wa)}else this.boneMatrices=new Float32Array(16*this.bones.length);if(void 0===e)this.calculateInverses();else if(this.bones.length===e.length)this.boneInverses=e.slice(0);else{console.warn(\\\"THREE.Skeleton bonInverses is the wrong length.\\\"),this.boneInverses=[];for(var r=0,a=this.bones.length;r<a;r++)this.boneInverses.push(new l)}}function ye(t){ht.call(this),this.type=\\\"Bone\\\",this.skin=t}function xe(t,e,i){Pt.call(this,t,e),this.type=\\\"SkinnedMesh\\\",this.bindMode=\\\"attached\\\",this.bindMatrix=new l,this.bindMatrixInverse=new l;var n=[];if(this.geometry&&void 0!==this.geometry.bones){for(var r,a,o=0,s=this.geometry.bones.length;o<s;++o)a=this.geometry.bones[o],r=new ye(this),n.push(r),r.name=a.name,r.position.fromArray(a.pos),r.quaternion.fromArray(a.rotq),void 0!==a.scl&&r.scale.fromArray(a.scl);for(var o=0,s=this.geometry.bones.length;o<s;++o)a=this.geometry.bones[o],a.parent!==-1&&null!==a.parent&&void 0!==n[a.parent]?n[a.parent].add(n[o]):this.add(n[o])}this.normalizeSkinWeights(),this.updateMatrixWorld(!0),this.bind(new ge(n,(void 0),i),this.matrixWorld)}function _e(t){J.call(this),this.type=\\\"LineBasicMaterial\\\",this.color=new X(16777215),this.linewidth=1,this.linecap=\\\"round\\\",this.linejoin=\\\"round\\\",this.lights=!1,this.setValues(t)}function be(t,e,i){return 1===i?(console.warn(\\\"THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead.\\\"),new we(t,e)):(ht.call(this),this.type=\\\"Line\\\",this.geometry=void 0!==t?t:new Rt,void(this.material=void 0!==e?e:new _e({color:16777215*Math.random()})))}function we(t,e){be.call(this,t,e),this.type=\\\"LineSegments\\\"}function Me(t){J.call(this),this.type=\\\"PointsMaterial\\\",this.color=new X(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.lights=!1,this.setValues(t)}function Ee(t,e){ht.call(this),this.type=\\\"Points\\\",this.geometry=void 0!==t?t:new Rt,this.material=void 0!==e?e:new Me({color:16777215*Math.random()})}function Te(){ht.call(this),this.type=\\\"Group\\\"}function Se(t,e,i,r,a,o,s,c,h){function l(){requestAnimationFrame(l),t.readyState>=t.HAVE_CURRENT_DATA&&(u.needsUpdate=!0)}n.call(this,t,e,i,r,a,o,s,c,h),this.generateMipmaps=!1;var u=this;l()}function Ae(t,e,i,r,a,o,s,c,h,l,u,p){n.call(this,null,o,s,c,h,l,r,a,u,p),this.image={width:e,height:i},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}function Le(t,e,i,r,a,o,s,c,h){n.call(this,t,e,i,r,a,o,s,c,h),this.needsUpdate=!0}function Re(t,e,i,r,a,o,s,c,h,l){if(l=void 0!==l?l:no,l!==no&&l!==ro)throw new Error(\\\"DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat\\\");n.call(this,null,r,a,o,s,c,l,i,h),this.image={width:t,height:e},this.type=void 0!==i?i:Va,this.magFilter=void 0!==s?s:Ia,this.minFilter=void 0!==c?c:Ia,this.flipY=!1,this.generateMipmaps=!1}function Pe(t){function e(t,e){return t-e}Rt.call(this);var i=[0,0],n={},r=[\\\"a\\\",\\\"b\\\",\\\"c\\\"];if(t&&t.isGeometry){for(var a=t.vertices,o=t.faces,s=0,c=new Uint32Array(6*o.length),h=0,l=o.length;h<l;h++)for(var u=o[h],p=0;p<3;p++){i[0]=u[r[p]],i[1]=u[r[(p+1)%3]],i.sort(e);var d=i.toString();void 0===n[d]&&(c[2*s]=i[0],c[2*s+1]=i[1],n[d]=!0,s++)}for(var f=new Float32Array(2*s*3),h=0,l=s;h<l;h++)for(var p=0;p<2;p++){var m=a[c[2*h+p]],v=6*h+3*p;f[v+0]=m.x,f[v+1]=m.y,f[v+2]=m.z}this.addAttribute(\\\"position\\\",new mt(f,3))}else if(t&&t.isBufferGeometry)if(null!==t.index){var g=t.index.array,a=t.attributes.position,y=t.groups,s=0;0===y.length&&t.addGroup(0,g.length);for(var c=new Uint32Array(2*g.length),x=0,_=y.length;x<_;++x)for(var b=y[x],w=b.start,M=b.count,h=w,E=w+M;h<E;h+=3)for(var p=0;p<3;p++){i[0]=g[h+p],i[1]=g[h+(p+1)%3],i.sort(e);var d=i.toString();void 0===n[d]&&(c[2*s]=i[0],c[2*s+1]=i[1],n[d]=!0,s++)}for(var f=new Float32Array(2*s*3),h=0,l=s;h<l;h++)for(var p=0;p<2;p++){var v=6*h+3*p,T=c[2*h+p];f[v+0]=a.getX(T),f[v+1]=a.getY(T),f[v+2]=a.getZ(T)}this.addAttribute(\\\"position\\\",new mt(f,3))}else{for(var a=t.attributes.position.array,s=a.length/3,S=s/3,f=new Float32Array(2*s*3),h=0,l=S;h<l;h++)for(var p=0;p<3;p++){var v=18*h+6*p,A=9*h+3*p;f[v+0]=a[A],f[v+1]=a[A+1],f[v+2]=a[A+2];var T=9*h+3*((p+1)%3);f[v+3]=a[T],f[v+4]=a[T+1],f[v+5]=a[T+2]}this.addAttribute(\\\"position\\\",new mt(f,3))}}function Ce(t,e,i){Rt.call(this),this.type=\\\"ParametricBufferGeometry\\\",this.parameters={func:t,slices:e,stacks:i};var n,r,a,o,s,c=[],h=[],l=e+1;for(n=0;n<=i;n++)for(s=n/i,r=0;r<=e;r++)o=r/e,a=t(o,s),c.push(a.x,a.y,a.z),h.push(o,s);var u,p,d,f,m=[];for(n=0;n<i;n++)for(r=0;r<e;r++)u=n*l+r,p=n*l+r+1,d=(n+1)*l+r+1,f=(n+1)*l+r,m.push(u,p,f),m.push(p,d,f);this.setIndex((m.length>65535?wt:_t)(m,1)),this.addAttribute(\\\"position\\\",Mt(c,3)),this.addAttribute(\\\"uv\\\",Mt(h,2)),this.computeVertexNormals()}function Ie(t,e,i){St.call(this),this.type=\\\"ParametricGeometry\\\",this.parameters={func:t,slices:e,stacks:i},this.fromBufferGeometry(new Ce(t,e,i)),this.mergeVertices()}function Ue(t,e,n,r){function a(t){for(var i=new h,n=new h,r=new h,a=0;a<e.length;a+=3)p(e[a+0],i),p(e[a+1],n),p(e[a+2],r),o(i,n,r,t)}function o(t,e,i,n){var r,a,o=Math.pow(2,n),s=[];for(r=0;r<=o;r++){s[r]=[];var c=t.clone().lerp(i,r/o),h=e.clone().lerp(i,r/o),l=o-r;for(a=0;a<=l;a++)0===a&&r===o?s[r][a]=c:s[r][a]=c.clone().lerp(h,a/l)}for(r=0;r<o;r++)for(a=0;a<2*(o-r)-1;a++){var p=Math.floor(a/2);a%2===0?(u(s[r][p+1]),u(s[r+1][p]),u(s[r][p])):(u(s[r][p+1]),u(s[r+1][p+1]),u(s[r+1][p]))}}function s(t){for(var e=new h,i=0;i<g.length;i+=3)e.x=g[i+0],e.y=g[i+1],e.z=g[i+2],e.normalize().multiplyScalar(t),g[i+0]=e.x,g[i+1]=e.y,g[i+2]=e.z}function c(){for(var t=new h,e=0;e<g.length;e+=3){t.x=g[e+0],t.y=g[e+1],t.z=g[e+2];var i=m(t)/2/Math.PI+.5,n=v(t)/Math.PI+.5;y.push(i,1-n)}d(),l()}function l(){for(var t=0;t<y.length;t+=6){var e=y[t+0],i=y[t+2],n=y[t+4],r=Math.max(e,i,n),a=Math.min(e,i,n);r>.9&&a<.1&&(e<.2&&(y[t+0]+=1),i<.2&&(y[t+2]+=1),n<.2&&(y[t+4]+=1))}}function u(t){g.push(t.x,t.y,t.z)}function p(e,i){var n=3*e;i.x=t[n+0],i.y=t[n+1],i.z=t[n+2]}function d(){for(var t=new h,e=new h,n=new h,r=new h,a=new i,o=new i,s=new i,c=0,l=0;c<g.length;c+=9,l+=6){t.set(g[c+0],g[c+1],g[c+2]),e.set(g[c+3],g[c+4],g[c+5]),n.set(g[c+6],g[c+7],g[c+8]),a.set(y[l+0],y[l+1]),o.set(y[l+2],y[l+3]),s.set(y[l+4],y[l+5]),r.copy(t).add(e).add(n).divideScalar(3);var u=m(r);f(a,l+0,t,u),f(o,l+2,e,u),f(s,l+4,n,u)}}function f(t,e,i,n){n<0&&1===t.x&&(y[e]=t.x-1),0===i.x&&0===i.z&&(y[e]=n/2/Math.PI+.5)}function m(t){return Math.atan2(t.z,-t.x)}function v(t){return Math.atan2(-t.y,Math.sqrt(t.x*t.x+t.z*t.z))}Rt.call(this),this.type=\\\"PolyhedronBufferGeometry\\\",this.parameters={vertices:t,indices:e,radius:n,detail:r},n=n||1,r=r||0;var g=[],y=[];a(r),s(n),c(),this.addAttribute(\\\"position\\\",Mt(g,3)),this.addAttribute(\\\"normal\\\",Mt(g.slice(),3)),this.addAttribute(\\\"uv\\\",Mt(y,2)),this.normalizeNormals(),this.boundingSphere=new et(new h,n)}function Ne(t,e){var i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],n=[2,1,0,0,3,2,1,3,0,2,3,1];Ue.call(this,i,n,t,e),this.type=\\\"TetrahedronBufferGeometry\\\",this.parameters={radius:t,detail:e}}function De(t,e){St.call(this),this.type=\\\"TetrahedronGeometry\\\",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Ne(t,e)),this.mergeVertices()}function Oe(t,e){var i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],n=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];Ue.call(this,i,n,t,e),this.type=\\\"OctahedronBufferGeometry\\\",this.parameters={radius:t,detail:e}}function Fe(t,e){St.call(this),this.type=\\\"OctahedronGeometry\\\",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Oe(t,e)),this.mergeVertices()}function Be(t,e){var i=(1+Math.sqrt(5))/2,n=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],r=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];Ue.call(this,n,r,t,e),this.type=\\\"IcosahedronBufferGeometry\\\",this.parameters={radius:t,detail:e}}function ze(t,e){St.call(this),this.type=\\\"IcosahedronGeometry\\\",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Be(t,e)),this.mergeVertices()}function Ge(t,e){var i=(1+Math.sqrt(5))/2,n=1/i,r=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-n,-i,0,-n,i,0,n,-i,0,n,i,-n,-i,0,-n,i,0,n,-i,0,n,i,0,-i,0,-n,i,0,-n,-i,0,n,i,0,n],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];Ue.call(this,r,a,t,e),this.type=\\\"DodecahedronBufferGeometry\\\",this.parameters={radius:t,detail:e}}function He(t,e){St.call(this),this.type=\\\"DodecahedronGeometry\\\",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Ge(t,e)),this.mergeVertices()}function Ve(t,e,i,n){St.call(this),this.type=\\\"PolyhedronGeometry\\\",this.parameters={vertices:t,indices:e,radius:i,detail:n},this.fromBufferGeometry(new Ue(t,e,i,n)),this.mergeVertices()}function ke(t,e,n,r,a){function o(){for(p=0;p<e;p++)s(p);s(a===!1?e:0),l(),c()}function s(i){var a=t.getPointAt(i/e),o=u.normals[i],s=u.binormals[i];for(d=0;d<=r;d++){var c=d/r*Math.PI*2,h=Math.sin(c),l=-Math.cos(c);m.x=l*o.x+h*s.x,m.y=l*o.y+h*s.y,m.z=l*o.z+h*s.z,m.normalize(),y.push(m.x,m.y,m.z),f.x=a.x+n*m.x,f.y=a.y+n*m.y,f.z=a.z+n*m.z,g.push(f.x,f.y,f.z)}}function c(){for(d=1;d<=e;d++)for(p=1;p<=r;p++){var t=(r+1)*(d-1)+(p-1),i=(r+1)*d+(p-1),n=(r+1)*d+p,a=(r+1)*(d-1)+p;_.push(t,i,a),_.push(i,n,a)}}function l(){for(p=0;p<=e;p++)for(d=0;d<=r;d++)v.x=p/e,v.y=d/r,x.push(v.x,v.y)}Rt.call(this),this.type=\\\"TubeBufferGeometry\\\",this.parameters={path:t,tubularSegments:e,radius:n,radialSegments:r,closed:a},e=e||64,n=n||1,r=r||8,a=a||!1;var u=t.computeFrenetFrames(e,a);this.tangents=u.tangents,this.normals=u.normals,this.binormals=u.binormals;var p,d,f=new h,m=new h,v=new i,g=[],y=[],x=[],_=[];o(),this.setIndex((_.length>65535?wt:_t)(_,1)),this.addAttribute(\\\"position\\\",Mt(g,3)),this.addAttribute(\\\"normal\\\",Mt(y,3)),this.addAttribute(\\\"uv\\\",Mt(x,2))}function je(t,e,i,n,r,a){St.call(this),this.type=\\\"TubeGeometry\\\",this.parameters={path:t,tubularSegments:e,radius:i,radialSegments:n,closed:r},void 0!==a&&console.warn(\\\"THREE.TubeGeometry: taper has been removed.\\\");var o=new ke(t,e,i,n,r);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals,this.fromBufferGeometry(o),this.mergeVertices()}function We(t,e,n,r,a,o){function s(t,e,i,n,r){var a=Math.cos(t),o=Math.sin(t),s=i/e*t,c=Math.cos(s);r.x=n*(2+c)*.5*a,r.y=n*(2+c)*o*.5,r.z=n*Math.sin(s)*.5}Rt.call(this),this.type=\\\"TorusKnotBufferGeometry\\\",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:r,p:a,q:o},t=t||100,e=e||40,n=Math.floor(n)||64,r=Math.floor(r)||8,a=a||2,o=o||3;var c,l,u=(r+1)*(n+1),p=r*n*2*3,d=new mt(new(p>65535?Uint32Array:Uint16Array)(p),1),f=new mt(new Float32Array(3*u),3),m=new mt(new Float32Array(3*u),3),v=new mt(new Float32Array(2*u),2),g=0,y=0,x=new h,_=new h,b=new i,w=new h,M=new h,E=new h,T=new h,S=new h;for(c=0;c<=n;++c){var A=c/n*a*Math.PI*2;for(s(A,a,o,t,w),s(A+.01,a,o,t,M),T.subVectors(M,w),S.addVectors(M,w),E.crossVectors(T,S),S.crossVectors(E,T),E.normalize(),S.normalize(),l=0;l<=r;++l){var L=l/r*Math.PI*2,R=-e*Math.cos(L),P=e*Math.sin(L);x.x=w.x+(R*S.x+P*E.x),x.y=w.y+(R*S.y+P*E.y),x.z=w.z+(R*S.z+P*E.z),f.setXYZ(g,x.x,x.y,x.z),_.subVectors(x,w).normalize(),m.setXYZ(g,_.x,_.y,_.z),b.x=c/n,b.y=l/r,v.setXY(g,b.x,b.y),g++}}for(l=1;l<=n;l++)for(c=1;c<=r;c++){var C=(r+1)*(l-1)+(c-1),I=(r+1)*l+(c-1),U=(r+1)*l+c,N=(r+1)*(l-1)+c;d.setX(y,C),y++,d.setX(y,I),y++,d.setX(y,N),y++,d.setX(y,I),y++,d.setX(y,U),y++,d.setX(y,N),y++}this.setIndex(d),this.addAttribute(\\\"position\\\",f),this.addAttribute(\\\"normal\\\",m),this.addAttribute(\\\"uv\\\",v)}function Xe(t,e,i,n,r,a,o){St.call(this),this.type=\\\"TorusKnotGeometry\\\",this.parameters={radius:t,tube:e,tubularSegments:i,radialSegments:n,p:r,q:a},void 0!==o&&console.warn(\\\"THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead.\\\"),this.fromBufferGeometry(new We(t,e,i,n,r,a)),this.mergeVertices()}function Ye(t,e,i,n,r){Rt.call(this),this.type=\\\"TorusBufferGeometry\\\",this.parameters={radius:t,tube:e,radialSegments:i,tubularSegments:n,arc:r},t=t||100,e=e||40,i=Math.floor(i)||8,n=Math.floor(n)||6,r=r||2*Math.PI;var a,o,s=(i+1)*(n+1),c=i*n*2*3,l=new(c>65535?Uint32Array:Uint16Array)(c),u=new Float32Array(3*s),p=new Float32Array(3*s),d=new Float32Array(2*s),f=0,m=0,v=0,g=new h,y=new h,x=new h;for(a=0;a<=i;a++)for(o=0;o<=n;o++){var _=o/n*r,b=a/i*Math.PI*2;y.x=(t+e*Math.cos(b))*Math.cos(_),y.y=(t+e*Math.cos(b))*Math.sin(_),y.z=e*Math.sin(b),u[f]=y.x,u[f+1]=y.y,u[f+2]=y.z,g.x=t*Math.cos(_),g.y=t*Math.sin(_),x.subVectors(y,g).normalize(),p[f]=x.x,p[f+1]=x.y,p[f+2]=x.z,d[m]=o/n,d[m+1]=a/i,f+=3,m+=2}for(a=1;a<=i;a++)for(o=1;o<=n;o++){var w=(n+1)*a+o-1,M=(n+1)*(a-1)+o-1,E=(n+1)*(a-1)+o,T=(n+1)*a+o;l[v]=w,l[v+1]=M,l[v+2]=T,l[v+3]=M,l[v+4]=E,l[v+5]=T,v+=6}this.setIndex(new mt(l,1)),this.addAttribute(\\\"position\\\",new mt(u,3)),this.addAttribute(\\\"normal\\\",new mt(p,3)),this.addAttribute(\\\"uv\\\",new mt(d,2))}function qe(t,e,i,n,r){St.call(this),this.type=\\\"TorusGeometry\\\",this.parameters={radius:t,tube:e,radialSegments:i,tubularSegments:n,arc:r},this.fromBufferGeometry(new Ye(t,e,i,n,r))}function Ze(t,e){return\\\"undefined\\\"==typeof t?void(t=[]):(St.call(this),this.type=\\\"ExtrudeGeometry\\\",t=Array.isArray(t)?t:[t],this.addShapeList(t,e),void this.computeFaceNormals())}function Je(t,e){e=e||{};var i=e.font;if((i&&i.isFont)===!1)return console.error(\\\"THREE.TextGeometry: font parameter is not an instance of THREE.Font.\\\"),new St;var n=i.generateShapes(t,e.size,e.curveSegments);e.amount=void 0!==e.height?e.height:50,void 0===e.bevelThickness&&(e.bevelThickness=10),void 0===e.bevelSize&&(e.bevelSize=8),void 0===e.bevelEnabled&&(e.bevelEnabled=!1),Ze.call(this,n,e),this.type=\\\"TextGeometry\\\"}function Qe(t,e,i,n,r,a,o){Rt.call(this),this.type=\\\"SphereBufferGeometry\\\",this.parameters={radius:t,widthSegments:e,heightSegments:i,phiStart:n,phiLength:r,thetaStart:a,thetaLength:o},t=t||50,e=Math.max(3,Math.floor(e)||8),i=Math.max(2,Math.floor(i)||6),n=void 0!==n?n:0,r=void 0!==r?r:2*Math.PI,a=void 0!==a?a:0,o=void 0!==o?o:Math.PI;for(var s=a+o,c=(e+1)*(i+1),l=new mt(new Float32Array(3*c),3),u=new mt(new Float32Array(3*c),3),p=new mt(new Float32Array(2*c),2),d=0,f=[],m=new h,v=0;v<=i;v++){for(var g=[],y=v/i,x=0;x<=e;x++){var _=x/e,b=-t*Math.cos(n+_*r)*Math.sin(a+y*o),w=t*Math.cos(a+y*o),M=t*Math.sin(n+_*r)*Math.sin(a+y*o);m.set(b,w,M).normalize(),l.setXYZ(d,b,w,M),u.setXYZ(d,m.x,m.y,m.z),p.setXY(d,_,1-y),g.push(d),d++}f.push(g)}for(var E=[],v=0;v<i;v++)for(var x=0;x<e;x++){var T=f[v][x+1],S=f[v][x],A=f[v+1][x],L=f[v+1][x+1];(0!==v||a>0)&&E.push(T,S,L),(v!==i-1||s<Math.PI)&&E.push(S,A,L)}this.setIndex(new(l.count>65535?wt:_t)(E,1)),this.addAttribute(\\\"position\\\",l),this.addAttribute(\\\"normal\\\",u),this.addAttribute(\\\"uv\\\",p),this.boundingSphere=new et(new h,t)}function Ke(t,e,i,n,r,a,o){St.call(this),this.type=\\\"SphereGeometry\\\",this.parameters={radius:t,widthSegments:e,heightSegments:i,phiStart:n,phiLength:r,thetaStart:a,thetaLength:o},this.fromBufferGeometry(new Qe(t,e,i,n,r,a,o))}function $e(t,e,n,r,a,o){Rt.call(this),this.type=\\\"RingBufferGeometry\\\",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:r,thetaStart:a,thetaLength:o},t=t||20,e=e||50,a=void 0!==a?a:0,o=void 0!==o?o:2*Math.PI,n=void 0!==n?Math.max(3,n):8,r=void 0!==r?Math.max(1,r):1;var s,c,l,u=(n+1)*(r+1),p=n*r*2*3,d=new mt(new(p>65535?Uint32Array:Uint16Array)(p),1),f=new mt(new Float32Array(3*u),3),m=new mt(new Float32Array(3*u),3),v=new mt(new Float32Array(2*u),2),g=0,y=0,x=t,_=(e-t)/r,b=new h,w=new i;for(c=0;c<=r;c++){for(l=0;l<=n;l++)s=a+l/n*o,b.x=x*Math.cos(s),b.y=x*Math.sin(s),f.setXYZ(g,b.x,b.y,b.z),m.setXYZ(g,0,0,1),w.x=(b.x/e+1)/2,w.y=(b.y/e+1)/2,v.setXY(g,w.x,w.y),g++;x+=_}for(c=0;c<r;c++){var M=c*(n+1);for(l=0;l<n;l++){s=l+M;var E=s,T=s+n+1,S=s+n+2,A=s+1;d.setX(y,E),y++,d.setX(y,T),y++,d.setX(y,S),y++,d.setX(y,E),y++,d.setX(y,S),y++,d.setX(y,A),y++}}this.setIndex(d),this.addAttribute(\\\"position\\\",f),this.addAttribute(\\\"normal\\\",m),this.addAttribute(\\\"uv\\\",v)}function ti(t,e,i,n,r,a){St.call(this),this.type=\\\"RingGeometry\\\",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:i,phiSegments:n,thetaStart:r,thetaLength:a},this.fromBufferGeometry(new $e(t,e,i,n,r,a))}function ei(t,e,i,n){St.call(this),this.type=\\\"PlaneGeometry\\\",this.parameters={width:t,height:e,widthSegments:i,heightSegments:n},this.fromBufferGeometry(new It(t,e,i,n))}function ii(t,e,n,r){Rt.call(this),this.type=\\\"LatheBufferGeometry\\\",this.parameters={points:t,segments:e,phiStart:n,phiLength:r},e=Math.floor(e)||12,n=n||0,r=r||2*Math.PI,r=Fo.clamp(r,0,2*Math.PI);var a,o,s,c=(e+1)*t.length,l=e*t.length*2*3,u=new mt(new(l>65535?Uint32Array:Uint16Array)(l),1),p=new mt(new Float32Array(3*c),3),d=new mt(new Float32Array(2*c),2),f=0,m=0,v=1/e,g=new h,y=new i;for(o=0;o<=e;o++){var x=n+o*v*r,_=Math.sin(x),b=Math.cos(x);for(s=0;s<=t.length-1;s++)g.x=t[s].x*_,g.y=t[s].y,g.z=t[s].x*b,p.setXYZ(f,g.x,g.y,g.z),y.x=o/e,y.y=s/(t.length-1),d.setXY(f,y.x,y.y),f++}for(o=0;o<e;o++)for(s=0;s<t.length-1;s++){a=s+o*t.length;var w=a,M=a+t.length,E=a+t.length+1,T=a+1;u.setX(m,w),m++,u.setX(m,M),m++,u.setX(m,T),m++,u.setX(m,M),m++,u.setX(m,E),m++,u.setX(m,T),m++}if(this.setIndex(u),this.addAttribute(\\\"position\\\",p),this.addAttribute(\\\"uv\\\",d),this.computeVertexNormals(),r===2*Math.PI){var S=this.attributes.normal.array,A=new h,L=new h,R=new h;for(a=e*t.length*3,o=0,s=0;o<t.length;o++,s+=3)A.x=S[s+0],A.y=S[s+1],A.z=S[s+2],L.x=S[a+s+0],L.y=S[a+s+1],L.z=S[a+s+2],R.addVectors(A,L).normalize(),S[s+0]=S[a+s+0]=R.x,S[s+1]=S[a+s+1]=R.y,S[s+2]=S[a+s+2]=R.z}}function ni(t,e,i,n){St.call(this),this.type=\\\"LatheGeometry\\\",this.parameters={points:t,segments:e,phiStart:i,phiLength:n},this.fromBufferGeometry(new ii(t,e,i,n)),this.mergeVertices()}function ri(t,e){St.call(this),this.type=\\\"ShapeGeometry\\\",Array.isArray(t)===!1&&(t=[t]),this.addShapeList(t,e),this.computeFaceNormals()}function ai(t,e){function i(t,e){return t-e}Rt.call(this),e=void 0!==e?e:1;var n,r=Math.cos(Fo.DEG2RAD*e),a=[0,0],o={},s=[\\\"a\\\",\\\"b\\\",\\\"c\\\"];t&&t.isBufferGeometry?(n=new St,n.fromBufferGeometry(t)):n=t.clone(),n.mergeVertices(),n.computeFaceNormals();for(var c=n.vertices,h=n.faces,l=0,u=h.length;l<u;l++)for(var p=h[l],d=0;d<3;d++){a[0]=p[s[d]],a[1]=p[s[(d+1)%3]],a.sort(i);var f=a.toString();void 0===o[f]?o[f]={vert1:a[0],vert2:a[1],face1:l,face2:void 0}:o[f].face2=l}var m=[];for(var f in o){var v=o[f];if(void 0===v.face2||h[v.face1].normal.dot(h[v.face2].normal)<=r){var g=c[v.vert1];m.push(g.x),m.push(g.y),m.push(g.z),g=c[v.vert2],m.push(g.x),m.push(g.y),m.push(g.z)}}this.addAttribute(\\\"position\\\",new mt(new Float32Array(m),3))}function oi(t,e,n,r,a,o,s,c){function l(){var t=(r+1)*(a+1);return o===!1&&(t+=(r+1)*m+r*m),t}function u(){var t=r*a*2*3;return o===!1&&(t+=r*m*3),t}function p(){var i,o,l=new h,u=new h,p=0,d=(e-t)/n;for(o=0;o<=a;o++){var m=[],v=o/a,g=v*(e-t)+t;for(i=0;i<=r;i++){var A=i/r,L=A*c+s,R=Math.sin(L),P=Math.cos(L);u.x=g*R,u.y=-v*n+T,u.z=g*P,x.setXYZ(w,u.x,u.y,u.z),l.set(R,d,P).normalize(),_.setXYZ(w,l.x,l.y,l.z),b.setXY(w,A,1-v),m.push(w),w++}E.push(m)}for(i=0;i<r;i++)for(o=0;o<a;o++){var C=E[o][i],I=E[o+1][i],U=E[o+1][i+1],N=E[o][i+1];y.setX(M,C),M++,y.setX(M,I),M++,y.setX(M,N),M++,y.setX(M,I),M++,y.setX(M,U),M++,y.setX(M,N),M++,p+=6}f.addGroup(S,p,0),S+=p}function d(n){var a,o,l,u=new i,p=new h,d=0,m=n===!0?t:e,v=n===!0?1:-1;for(o=w,a=1;a<=r;a++)x.setXYZ(w,0,T*v,0),_.setXYZ(w,0,v,0),u.x=.5,u.y=.5,b.setXY(w,u.x,u.y),w++;for(l=w,a=0;a<=r;a++){var g=a/r,E=g*c+s,A=Math.cos(E),L=Math.sin(E);p.x=m*L,p.y=T*v,p.z=m*A,x.setXYZ(w,p.x,p.y,p.z),_.setXYZ(w,0,v,0),u.x=.5*A+.5,u.y=.5*L*v+.5,b.setXY(w,u.x,u.y),w++}for(a=0;a<r;a++){var R=o+a,P=l+a;n===!0?(y.setX(M,P),M++,y.setX(M,P+1),M++,y.setX(M,R),M++):(y.setX(M,P+1),M++,y.setX(M,P),M++,y.setX(M,R),M++),d+=3}f.addGroup(S,d,n===!0?1:2),S+=d}Rt.call(this),this.type=\\\"CylinderBufferGeometry\\\",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:r,heightSegments:a,openEnded:o,thetaStart:s,thetaLength:c};var f=this;t=void 0!==t?t:20,e=void 0!==e?e:20,n=void 0!==n?n:100,r=Math.floor(r)||8,a=Math.floor(a)||1,o=void 0!==o&&o,s=void 0!==s?s:0,c=void 0!==c?c:2*Math.PI;var m=0;o===!1&&(t>0&&m++,e>0&&m++);var v=l(),g=u(),y=new mt(new(g>65535?Uint32Array:Uint16Array)(g),1),x=new mt(new Float32Array(3*v),3),_=new mt(new Float32Array(3*v),3),b=new mt(new Float32Array(2*v),2),w=0,M=0,E=[],T=n/2,S=0;p(),o===!1&&(t>0&&d(!0),e>0&&d(!1)),this.setIndex(y),this.addAttribute(\\\"position\\\",x),this.addAttribute(\\\"normal\\\",_),this.addAttribute(\\\"uv\\\",b)}function si(t,e,i,n,r,a,o,s){St.call(this),this.type=\\\"CylinderGeometry\\\",this.parameters={radiusTop:t,radiusBottom:e,height:i,radialSegments:n,heightSegments:r,openEnded:a,thetaStart:o,thetaLength:s},this.fromBufferGeometry(new oi(t,e,i,n,r,a,o,s)),this.mergeVertices()}function ci(t,e,i,n,r,a,o){si.call(this,0,t,e,i,n,r,a,o),this.type=\\\"ConeGeometry\\\",this.parameters={radius:t,height:e,radialSegments:i,heightSegments:n,openEnded:r,thetaStart:a,thetaLength:o}}function hi(t,e,i,n,r,a,o){oi.call(this,0,t,e,i,n,r,a,o),this.type=\\\"ConeBufferGeometry\\\",this.parameters={radius:t,height:e,radialSegments:i,heightSegments:n,openEnded:r,thetaStart:a,thetaLength:o}}function li(t,e,i,n){Rt.call(this),this.type=\\\"CircleBufferGeometry\\\",this.parameters={radius:t,segments:e,thetaStart:i,thetaLength:n},t=t||50,e=void 0!==e?Math.max(3,e):8,i=void 0!==i?i:0,n=void 0!==n?n:2*Math.PI;var r=e+2,a=new Float32Array(3*r),o=new Float32Array(3*r),s=new Float32Array(2*r);o[2]=1,s[0]=.5,s[1]=.5;for(var c=0,l=3,u=2;c<=e;c++,l+=3,u+=2){var p=i+c/e*n;a[l]=t*Math.cos(p),a[l+1]=t*Math.sin(p),o[l+2]=1,s[u]=(a[l]/t+1)/2,s[u+1]=(a[l+1]/t+1)/2}for(var d=[],l=1;l<=e;l++)d.push(l,l+1,0);this.setIndex(new mt(new Uint16Array(d),1)),this.addAttribute(\\\"position\\\",new mt(a,3)),this.addAttribute(\\\"normal\\\",new mt(o,3)),this.addAttribute(\\\"uv\\\",new mt(s,2)),this.boundingSphere=new et(new h,t)}function ui(t,e,i,n){St.call(this),this.type=\\\"CircleGeometry\\\",this.parameters={radius:t,segments:e,thetaStart:i,thetaLength:n},this.fromBufferGeometry(new li(t,e,i,n))}function pi(t,e,i,n,r,a){St.call(this),this.type=\\\"BoxGeometry\\\",this.parameters={width:t,height:e,depth:i,widthSegments:n,heightSegments:r,depthSegments:a},this.fromBufferGeometry(new Ct(t,e,i,n,r,a)),this.mergeVertices()}function di(){K.call(this,{uniforms:jo.merge([jc.lights,{opacity:{value:1}}]),vertexShader:Vc.shadow_vert,fragmentShader:Vc.shadow_frag}),this.lights=!0,this.transparent=!0,Object.defineProperties(this,{opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(t){this.uniforms.opacity.value=t}}})}function fi(t){K.call(this,t),this.type=\\\"RawShaderMaterial\\\"}function mi(t){this.uuid=Fo.generateUUID(),this.type=\\\"MultiMaterial\\\",this.materials=t instanceof Array?t:[],this.visible=!0}function vi(t){J.call(this),this.defines={STANDARD:\\\"\\\"},this.type=\\\"MeshStandardMaterial\\\",this.color=new X(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new X(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new i(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap=\\\"round\\\",this.wireframeLinejoin=\\\"round\\\",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function gi(t){vi.call(this),this.defines={PHYSICAL:\\\"\\\"},this.type=\\\"MeshPhysicalMaterial\\\",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(t)}function yi(t){J.call(this),this.type=\\\"MeshPhongMaterial\\\",this.color=new X(16777215),this.specular=new X(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new X(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new i(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ua,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap=\\\"round\\\",this.wireframeLinejoin=\\\"round\\\",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function xi(t){J.call(this,t),this.type=\\\"MeshNormalMaterial\\\",this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.morphTargets=!1,this.setValues(t)}function _i(t){J.call(this),this.type=\\\"MeshLambertMaterial\\\",this.color=new X(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new X(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ua,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap=\\\"round\\\",this.wireframeLinejoin=\\\"round\\\",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function bi(t){J.call(this),this.type=\\\"LineDashedMaterial\\\",this.color=new X(16777215),this.linewidth=1,this.scale=1,this.dashSize=3,this.gapSize=1,this.lights=!1,this.setValues(t)}function wi(t,e,i){var n=this,r=!1,a=0,o=0;this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=i,this.itemStart=function(t){o++,r===!1&&void 0!==n.onStart&&n.onStart(t,a,o),r=!0},this.itemEnd=function(t){a++,void 0!==n.onProgress&&n.onProgress(t,a,o),a===o&&(r=!1,void 0!==n.onLoad&&n.onLoad())},this.itemError=function(t){void 0!==n.onError&&n.onError(t)}}function Mi(t){this.manager=void 0!==t?t:th}function Ei(t){this.manager=void 0!==t?t:th,this._parser=null}function Ti(t){this.manager=void 0!==t?t:th,this._parser=null}function Si(t){this.manager=void 0!==t?t:th}function Ai(t){this.manager=void 0!==t?t:th}function Li(t){this.manager=void 0!==t?t:th}function Ri(t,e){ht.call(this),this.type=\\\"Light\\\",this.color=new X(t),this.intensity=void 0!==e?e:1,this.receiveShadow=void 0}function Pi(t,e,i){Ri.call(this,t,i),this.type=\\\"HemisphereLight\\\",this.castShadow=void 0,this.position.copy(ht.DefaultUp),this.updateMatrix(),this.groundColor=new X(e)}function Ci(t){this.camera=t,this.bias=0,this.radius=1,this.mapSize=new i(512,512),this.map=null,this.matrix=new l}function Ii(){Ci.call(this,new Nt(50,1,.5,500))}function Ui(t,e,i,n,r,a){Ri.call(this,t,e),this.type=\\\"SpotLight\\\",this.position.copy(ht.DefaultUp),this.updateMatrix(),this.target=new ht,Object.defineProperty(this,\\\"power\\\",{get:function(){return this.intensity*Math.PI},set:function(t){this.intensity=t/Math.PI}}),this.distance=void 0!==i?i:0,this.angle=void 0!==n?n:Math.PI/3,this.penumbra=void 0!==r?r:0,this.decay=void 0!==a?a:1,this.shadow=new Ii}function Ni(t,e,i,n){Ri.call(this,t,e),this.type=\\\"PointLight\\\",Object.defineProperty(this,\\\"power\\\",{get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)}}),this.distance=void 0!==i?i:0,this.decay=void 0!==n?n:1,this.shadow=new Ci(new Nt(90,1,.5,500))}function Di(t){Ci.call(this,new Dt((-5),5,5,(-5),.5,500))}function Oi(t,e){Ri.call(this,t,e),this.type=\\\"DirectionalLight\\\",this.position.copy(ht.DefaultUp),this.updateMatrix(),this.target=new ht,this.shadow=new Di}function Fi(t,e){Ri.call(this,t,e),this.type=\\\"AmbientLight\\\",this.castShadow=void 0}function Bi(t,e,i,n){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==n?n:new e.constructor(i),this.sampleValues=e,this.valueSize=i}function zi(t,e,i,n){Bi.call(this,t,e,i,n),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function Gi(t,e,i,n){Bi.call(this,t,e,i,n)}function Hi(t,e,i,n){Bi.call(this,t,e,i,n)}function Vi(t,e,i,n){if(void 0===t)throw new Error(\\\"track name is undefined\\\");if(void 0===e||0===e.length)throw new Error(\\\"no keyframes in track named \\\"+t);this.name=t,this.times=ih.convertArray(e,this.TimeBufferType),this.values=ih.convertArray(i,this.ValueBufferType),this.setInterpolation(n||this.DefaultInterpolation),this.validate(),this.optimize()}function ki(t,e,i,n){Vi.call(this,t,e,i,n)}function ji(t,e,i,n){Bi.call(this,t,e,i,n)}function Wi(t,e,i,n){Vi.call(this,t,e,i,n)}function Xi(t,e,i,n){Vi.call(this,t,e,i,n)}function Yi(t,e,i,n){Vi.call(this,t,e,i,n)}function qi(t,e,i){Vi.call(this,t,e,i)}function Zi(t,e,i,n){Vi.call(this,t,e,i,n)}function Ji(t,e,i,n){Vi.apply(this,arguments)}function Qi(t,e,i){this.name=t,this.tracks=i,this.duration=void 0!==e?e:-1,\\nthis.uuid=Fo.generateUUID(),this.duration<0&&this.resetDuration(),this.optimize()}function Ki(t){this.manager=void 0!==t?t:th,this.textures={}}function $i(t){this.manager=void 0!==t?t:th}function tn(){this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){}}function en(t){\\\"boolean\\\"==typeof t&&(console.warn(\\\"THREE.JSONLoader: showStatus parameter has been removed from constructor.\\\"),t=void 0),this.manager=void 0!==t?t:th,this.withCredentials=!1}function nn(t){this.manager=void 0!==t?t:th,this.texturePath=\\\"\\\"}function rn(){}function an(t,e){this.v1=t,this.v2=e}function on(){this.curves=[],this.autoClose=!1}function sn(t,e,i,n,r,a,o,s){this.aX=t,this.aY=e,this.xRadius=i,this.yRadius=n,this.aStartAngle=r,this.aEndAngle=a,this.aClockwise=o,this.aRotation=s||0}function cn(t){this.points=void 0===t?[]:t}function hn(t,e,i,n){this.v0=t,this.v1=e,this.v2=i,this.v3=n}function ln(t,e,i){this.v0=t,this.v1=e,this.v2=i}function un(){pn.apply(this,arguments),this.holes=[]}function pn(t){on.call(this),this.currentPoint=new i,t&&this.fromPoints(t)}function dn(){this.subPaths=[],this.currentPath=null}function fn(t){this.data=t}function mn(t){this.manager=void 0!==t?t:th}function vn(){return void 0===oh&&(oh=new(window.AudioContext||window.webkitAudioContext)),oh}function gn(t){this.manager=void 0!==t?t:th}function yn(){this.type=\\\"StereoCamera\\\",this.aspect=1,this.eyeSep=.064,this.cameraL=new Nt,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Nt,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}function xn(t,e,i){ht.call(this),this.type=\\\"CubeCamera\\\";var n=90,r=1,a=new Nt(n,r,t,e);a.up.set(0,-1,0),a.lookAt(new h(1,0,0)),this.add(a);var o=new Nt(n,r,t,e);o.up.set(0,-1,0),o.lookAt(new h((-1),0,0)),this.add(o);var c=new Nt(n,r,t,e);c.up.set(0,0,1),c.lookAt(new h(0,1,0)),this.add(c);var l=new Nt(n,r,t,e);l.up.set(0,0,-1),l.lookAt(new h(0,(-1),0)),this.add(l);var u=new Nt(n,r,t,e);u.up.set(0,-1,0),u.lookAt(new h(0,0,1)),this.add(u);var p=new Nt(n,r,t,e);p.up.set(0,-1,0),p.lookAt(new h(0,0,(-1))),this.add(p);var d={format:Ka,magFilter:Da,minFilter:Da};this.renderTarget=new s(i,i,d),this.updateCubeMap=function(t,e){null===this.parent&&this.updateMatrixWorld();var i=this.renderTarget,n=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,i.activeCubeFace=0,t.render(e,a,i),i.activeCubeFace=1,t.render(e,o,i),i.activeCubeFace=2,t.render(e,c,i),i.activeCubeFace=3,t.render(e,l,i),i.activeCubeFace=4,t.render(e,u,i),i.texture.generateMipmaps=n,i.activeCubeFace=5,t.render(e,p,i),t.setRenderTarget(null)}}function _n(){ht.call(this),this.type=\\\"AudioListener\\\",this.context=vn(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null}function bn(t){ht.call(this),this.type=\\\"Audio\\\",this.context=t.context,this.source=this.context.createBufferSource(),this.source.onended=this.onEnded.bind(this),this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.startTime=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType=\\\"empty\\\",this.filters=[]}function wn(t){bn.call(this,t),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}function Mn(t,e){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=void 0!==e?e:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}function En(t,e,i){this.binding=t,this.valueSize=i;var n,r=Float64Array;switch(e){case\\\"quaternion\\\":n=this._slerp;break;case\\\"string\\\":case\\\"bool\\\":r=Array,n=this._select;break;default:n=this._lerp}this.buffer=new r(4*i),this._mixBufferRegion=n,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}function Tn(t,e,i){this.path=e,this.parsedPath=i||Tn.parseTrackName(e),this.node=Tn.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t}function Sn(t){this.uuid=Fo.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var i=0,n=arguments.length;i!==n;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var r=this;this.stats={objects:{get total(){return r._objects.length},get inUse(){return this.total-r.nCachedObjects_}},get bindingsPerObject(){return r._bindings.length}}}function An(t,e,i){this._mixer=t,this._clip=e,this._localRoot=i||null;for(var n=e.tracks,r=n.length,a=new Array(r),o={endingStart:bo,endingEnd:bo},s=0;s!==r;++s){var c=n[s].createInterpolant(null);a[s]=c,c.settings=o}this._interpolantSettings=o,this._interpolants=a,this._propertyBindings=new Array(r),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=vo,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function Ln(t){this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function Rn(t){\\\"string\\\"==typeof t&&(console.warn(\\\"THREE.Uniform: Type parameter is no longer needed.\\\"),t=arguments[1]),this.value=t}function Pn(){Rt.call(this),this.type=\\\"InstancedBufferGeometry\\\",this.maxInstancedCount=void 0}function Cn(t,e,i,n){this.uuid=Fo.generateUUID(),this.data=t,this.itemSize=e,this.offset=i,this.normalized=n===!0}function In(t,e){this.uuid=Fo.generateUUID(),this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function Un(t,e,i){In.call(this,t,e),this.meshPerAttribute=i||1}function Nn(t,e,i){mt.call(this,t,e),this.meshPerAttribute=i||1}function Dn(t,e,i,n){this.ray=new ot(t,e),this.near=i||0,this.far=n||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn(\\\"THREE.Raycaster: params.PointCloud has been renamed to params.Points.\\\"),this.Points}}})}function On(t,e){return t.distance-e.distance}function Fn(t,e,i,n){if(t.visible!==!1&&(t.raycast(e,i),n===!0))for(var r=t.children,a=0,o=r.length;a<o;a++)Fn(r[a],e,i,!0)}function Bn(t){this.autoStart=void 0===t||t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}function zn(t){function e(t,e,i,n,r,a,o){var s=.5*(i-t),c=.5*(n-e);return(2*(e-i)+s+c)*o+(-3*(e-i)-2*s-c)*a+s*r+e}this.points=t;var i,n,r,a,o,s,c,l,u,p=[],d={x:0,y:0,z:0};this.initFromArray=function(t){this.points=[];for(var e=0;e<t.length;e++)this.points[e]={x:t[e][0],y:t[e][1],z:t[e][2]}},this.getPoint=function(t){return i=(this.points.length-1)*t,n=Math.floor(i),r=i-n,p[0]=0===n?n:n-1,p[1]=n,p[2]=n>this.points.length-2?this.points.length-1:n+1,p[3]=n>this.points.length-3?this.points.length-1:n+2,s=this.points[p[0]],c=this.points[p[1]],l=this.points[p[2]],u=this.points[p[3]],a=r*r,o=r*a,d.x=e(s.x,c.x,l.x,u.x,r,a,o),d.y=e(s.y,c.y,l.y,u.y,r,a,o),d.z=e(s.z,c.z,l.z,u.z,r,a,o),d},this.getControlPointsArray=function(){var t,e,i=this.points.length,n=[];for(t=0;t<i;t++)e=this.points[t],n[t]=[e.x,e.y,e.z];return n},this.getLength=function(t){var e,i,n,r,a=0,o=0,s=0,c=new h,l=new h,u=[],p=0;for(u[0]=0,t||(t=100),n=this.points.length*t,c.copy(this.points[0]),e=1;e<n;e++)i=e/n,r=this.getPoint(i),l.copy(r),p+=l.distanceTo(c),c.copy(r),a=(this.points.length-1)*i,o=Math.floor(a),o!==s&&(u[o]=p,s=o);return u[u.length]=p,{chunks:u,total:p}},this.reparametrizeByArcLength=function(t){var e,i,n,r,a,o,s,c,l=[],u=new h,p=this.getLength();for(l.push(u.copy(this.points[0]).clone()),e=1;e<this.points.length;e++){for(o=p.chunks[e]-p.chunks[e-1],s=Math.ceil(t*o/p.total),r=(e-1)/(this.points.length-1),a=e/(this.points.length-1),i=1;i<s-1;i++)n=r+i*(1/s)*(a-r),c=this.getPoint(n),l.push(u.copy(c).clone());l.push(u.copy(this.points[e]).clone())}this.points=l}}function Gn(t,e,i){return this.radius=void 0!==t?t:1,this.phi=void 0!==e?e:0,this.theta=void 0!==i?i:0,this}function Hn(t,e){Pt.call(this,t,e),this.animationsMap={},this.animationsList=[];var i=this.geometry.morphTargets.length,n=\\\"__default\\\",r=0,a=i-1,o=i/1;this.createAnimation(n,r,a,o),this.setAnimationWeight(n,1)}function Vn(t){ht.call(this),this.material=t,this.render=function(t){}}function kn(t,e,i,n){this.object=t,this.size=void 0!==e?e:1;var r=void 0!==i?i:16711680,a=void 0!==n?n:1,o=0,s=this.object.geometry;s&&s.isGeometry?o=3*s.faces.length:s&&s.isBufferGeometry&&(o=s.attributes.normal.count);var c=new Rt,h=new Mt(2*o*3,3);c.addAttribute(\\\"position\\\",h),we.call(this,c,new _e({color:r,linewidth:a})),this.matrixAutoUpdate=!1,this.update()}function jn(t){ht.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1;for(var e=new Rt,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],n=0,r=1,a=32;n<a;n++,r++){var o=n/a*Math.PI*2,s=r/a*Math.PI*2;i.push(Math.cos(o),Math.sin(o),1,Math.cos(s),Math.sin(s),1)}e.addAttribute(\\\"position\\\",new Mt(i,3));var c=new _e({fog:!1});this.cone=new we(e,c),this.add(this.cone),this.update()}function Wn(t){this.bones=this.getBoneList(t);for(var e=new St,i=0;i<this.bones.length;i++){var n=this.bones[i];n.parent&&n.parent.isBone&&(e.vertices.push(new h),e.vertices.push(new h),e.colors.push(new X(0,0,1)),e.colors.push(new X(0,1,0)))}e.dynamic=!0;var r=new _e({vertexColors:Ur,depthTest:!1,depthWrite:!1,transparent:!0});we.call(this,e,r),this.root=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function Xn(t,e){this.light=t,this.light.updateMatrixWorld();var i=new Qe(e,4,2),n=new ft({wireframe:!0,fog:!1});n.color.copy(this.light.color).multiplyScalar(this.light.intensity),Pt.call(this,i,n),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1}function Yn(t,e){ht.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.colors=[new X,new X];var i=new Ke(e,4,2);i.rotateX(-Math.PI/2);for(var n=0,r=8;n<r;n++)i.faces[n].color=this.colors[n<4?0:1];var a=new ft({vertexColors:Ir,wireframe:!0});this.lightSphere=new Pt(i,a),this.add(this.lightSphere),this.update()}function qn(t,e,i,n){e=e||1,i=new X(void 0!==i?i:4473924),n=new X(void 0!==n?n:8947848);for(var r=e/2,a=2*t/e,o=[],s=[],c=0,h=0,l=-t;c<=e;c++,l+=a){o.push(-t,0,l,t,0,l),o.push(l,0,-t,l,0,t);var u=c===r?i:n;u.toArray(s,h),h+=3,u.toArray(s,h),h+=3,u.toArray(s,h),h+=3,u.toArray(s,h),h+=3}var p=new Rt;p.addAttribute(\\\"position\\\",new Mt(o,3)),p.addAttribute(\\\"color\\\",new Mt(s,3));var d=new _e({vertexColors:Ur});we.call(this,p,d)}function Zn(t,e,i,n){this.object=t,this.size=void 0!==e?e:1;var r=void 0!==i?i:16776960,a=void 0!==n?n:1,o=0,s=this.object.geometry;s&&s.isGeometry?o=s.faces.length:console.warn(\\\"THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.\\\");var c=new Rt,h=new Mt(2*o*3,3);c.addAttribute(\\\"position\\\",h),we.call(this,c,new _e({color:r,linewidth:a})),this.matrixAutoUpdate=!1,this.update()}function Jn(t,e){ht.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,void 0===e&&(e=1);var i=new Rt;i.addAttribute(\\\"position\\\",new Mt([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));var n=new _e({fog:!1});this.add(new be(i,n)),i=new Rt,i.addAttribute(\\\"position\\\",new Mt([0,0,0,0,0,1],3)),this.add(new be(i,n)),this.update()}function Qn(t){function e(t,e,n){i(t,n),i(e,n)}function i(t,e){n.vertices.push(new h),n.colors.push(new X(e)),void 0===a[t]&&(a[t]=[]),a[t].push(n.vertices.length-1)}var n=new St,r=new _e({color:16777215,vertexColors:Ir}),a={},o=16755200,s=16711680,c=43775,l=16777215,u=3355443;e(\\\"n1\\\",\\\"n2\\\",o),e(\\\"n2\\\",\\\"n4\\\",o),e(\\\"n4\\\",\\\"n3\\\",o),e(\\\"n3\\\",\\\"n1\\\",o),e(\\\"f1\\\",\\\"f2\\\",o),e(\\\"f2\\\",\\\"f4\\\",o),e(\\\"f4\\\",\\\"f3\\\",o),e(\\\"f3\\\",\\\"f1\\\",o),e(\\\"n1\\\",\\\"f1\\\",o),e(\\\"n2\\\",\\\"f2\\\",o),e(\\\"n3\\\",\\\"f3\\\",o),e(\\\"n4\\\",\\\"f4\\\",o),e(\\\"p\\\",\\\"n1\\\",s),e(\\\"p\\\",\\\"n2\\\",s),e(\\\"p\\\",\\\"n3\\\",s),e(\\\"p\\\",\\\"n4\\\",s),e(\\\"u1\\\",\\\"u2\\\",c),e(\\\"u2\\\",\\\"u3\\\",c),e(\\\"u3\\\",\\\"u1\\\",c),e(\\\"c\\\",\\\"t\\\",l),e(\\\"p\\\",\\\"c\\\",u),e(\\\"cn1\\\",\\\"cn2\\\",u),e(\\\"cn3\\\",\\\"cn4\\\",u),e(\\\"cf1\\\",\\\"cf2\\\",u),e(\\\"cf3\\\",\\\"cf4\\\",u),we.call(this,n,r),this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update()}function Kn(t,e){var i=void 0!==e?e:8947848;this.object=t,this.box=new tt,Pt.call(this,new pi(1,1,1),new ft({color:i,wireframe:!0}))}function $n(t,e){void 0===e&&(e=16776960);var i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),n=new Float32Array(24),r=new Rt;r.setIndex(new mt(i,1)),r.addAttribute(\\\"position\\\",new mt(n,3)),we.call(this,r,new _e({color:e})),void 0!==t&&this.update(t)}function tr(t,e,i,n,r,a){ht.call(this),void 0===n&&(n=16776960),void 0===i&&(i=1),void 0===r&&(r=.2*i),void 0===a&&(a=.2*r),this.position.copy(e),this.line=new be(sh,new _e({color:n})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Pt(ch,new ft({color:n})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(i,r,a)}function er(t){t=t||1;var e=new Float32Array([0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t]),i=new Float32Array([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1]),n=new Rt;n.addAttribute(\\\"position\\\",new mt(e,3)),n.addAttribute(\\\"color\\\",new mt(i,3));var r=new _e({vertexColors:Ur});we.call(this,n,r)}function ir(t){console.warn(\\\"THREE.ClosedSplineCurve3 has been deprecated. Please use THREE.CatmullRomCurve3.\\\"),hh.call(this,t),this.type=\\\"catmullrom\\\",this.closed=!0}function nr(t,e,i,n,r,a){sn.call(this,t,e,i,i,n,r,a)}function rr(t,e,i,n,r,a,o){return console.warn(\\\"THREE.Face4 has been removed. A THREE.Face3 will be created instead.\\\"),new dt(t,e,i,r,a,o)}function ar(t,e){return console.warn(\\\"THREE.PointCloud has been renamed to THREE.Points.\\\"),new Ee(t,e)}function or(t,e){return console.warn(\\\"THREE.ParticleSystem has been renamed to THREE.Points.\\\"),new Ee(t,e)}function sr(t){return console.warn(\\\"THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.\\\"),new Me(t)}function cr(t){return console.warn(\\\"THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.\\\"),new Me(t)}function hr(t){return console.warn(\\\"THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.\\\"),new Me(t)}function lr(t,e,i){return console.warn(\\\"THREE.Vertex has been removed. Use THREE.Vector3 instead.\\\"),new h(t,e,i)}function ur(t,e){return console.warn(\\\"THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead.\\\"),new we(new ai(t.geometry),new _e({color:void 0!==e?e:16777215}))}function pr(t,e){return console.warn(\\\"THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead.\\\"),new we(new Pe(t.geometry),new _e({color:void 0!==e?e:16777215}))}function dr(){console.error(\\\"THREE.Projector has been moved to /examples/js/renderers/Projector.js.\\\"),this.projectVector=function(t,e){console.warn(\\\"THREE.Projector: .projectVector() is now vector.project().\\\"),t.project(e)},this.unprojectVector=function(t,e){console.warn(\\\"THREE.Projector: .unprojectVector() is now vector.unproject().\\\"),t.unproject(e)},this.pickingRay=function(t,e){console.error(\\\"THREE.Projector: .pickingRay() is now raycaster.setFromCamera().\\\")}}function fr(){console.error(\\\"THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js\\\"),this.domElement=document.createElementNS(\\\"http://www.w3.org/1999/xhtml\\\",\\\"canvas\\\"),this.clear=function(){},this.render=function(){},this.setClearColor=function(){},this.setSize=function(){}}void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Math.sign&&(Math.sign=function(t){return t<0?-1:t>0?1:+t}),void 0===Function.prototype.name&&Object.defineProperty(Function.prototype,\\\"name\\\",{get:function(){return this.toString().match(/^\\\\s*function\\\\s*(\\\\S*)\\\\s*\\\\(/)[1]}}),void 0===Object.assign&&!function(){Object.assign=function(t){if(void 0===t||null===t)throw new TypeError(\\\"Cannot convert undefined or null to object\\\");for(var e=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(void 0!==n&&null!==n)for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}}(),Object.assign(e.prototype,{addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var i=this._listeners;void 0===i[t]&&(i[t]=[]),i[t].indexOf(e)===-1&&i[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var i=this._listeners;return void 0!==i[t]&&i[t].indexOf(e)!==-1},removeEventListener:function(t,e){if(void 0!==this._listeners){var i=this._listeners,n=i[t];if(void 0!==n){var r=n.indexOf(e);r!==-1&&n.splice(r,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var e=this._listeners,i=e[t.type];if(void 0!==i){t.target=this;var n=[],r=0,a=i.length;for(r=0;r<a;r++)n[r]=i[r];for(r=0;r<a;r++)n[r].call(this,t)}}}});var mr=\\\"82\\\",vr={LEFT:0,MIDDLE:1,RIGHT:2},gr=0,yr=1,xr=2,_r=3,br=0,wr=1,Mr=0,Er=1,Tr=2,Sr=0,Ar=1,Lr=2,Rr=1,Pr=2,Cr=0,Ir=1,Ur=2,Nr=0,Dr=1,Or=2,Fr=3,Br=4,zr=5,Gr={NoBlending:Nr,NormalBlending:Dr,AdditiveBlending:Or,SubtractiveBlending:Fr,MultiplyBlending:Br,CustomBlending:zr},Hr=100,Vr=101,kr=102,jr=103,Wr=104,Xr=200,Yr=201,qr=202,Zr=203,Jr=204,Qr=205,Kr=206,$r=207,ta=208,ea=209,ia=210,na=0,ra=1,aa=2,oa=3,sa=4,ca=5,ha=6,la=7,ua=0,pa=1,da=2,fa=0,ma=1,va=2,ga=3,ya=4,xa=300,_a=301,ba=302,wa=303,Ma=304,Ea=305,Ta=306,Sa=307,Aa={UVMapping:xa,CubeReflectionMapping:_a,CubeRefractionMapping:ba,EquirectangularReflectionMapping:wa,EquirectangularRefractionMapping:Ma,SphericalReflectionMapping:Ea,CubeUVReflectionMapping:Ta,CubeUVRefractionMapping:Sa},La=1e3,Ra=1001,Pa=1002,Ca={RepeatWrapping:La,ClampToEdgeWrapping:Ra,MirroredRepeatWrapping:Pa},Ia=1003,Ua=1004,Na=1005,Da=1006,Oa=1007,Fa=1008,Ba={NearestFilter:Ia,NearestMipMapNearestFilter:Ua,NearestMipMapLinearFilter:Na,LinearFilter:Da,LinearMipMapNearestFilter:Oa,LinearMipMapLinearFilter:Fa},za=1009,Ga=1010,Ha=1011,Va=1012,ka=1013,ja=1014,Wa=1015,Xa=1016,Ya=1017,qa=1018,Za=1019,Ja=1020,Qa=1021,Ka=1022,$a=1023,to=1024,eo=1025,io=$a,no=1026,ro=1027,ao=2001,oo=2002,so=2003,co=2004,ho=2100,lo=2101,uo=2102,po=2103,fo=2151,mo=2200,vo=2201,go=2202,yo=2300,xo=2301,_o=2302,bo=2400,wo=2401,Mo=2402,Eo=0,To=1,So=2,Ao=3e3,Lo=3001,Ro=3007,Po=3002,Co=3003,Io=3004,Uo=3005,No=3006,Do=3200,Oo=3201,Fo={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var t,e=\\\"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\\\".split(\\\"\\\"),i=new Array(36),n=0;return function(){for(var r=0;r<36;r++)8===r||13===r||18===r||23===r?i[r]=\\\"-\\\":14===r?i[r]=\\\"4\\\":(n<=2&&(n=33554432+16777216*Math.random()|0),t=15&n,n>>=4,i[r]=e[19===r?3&t|8:t]);return i.join(\\\"\\\")}}(),clamp:function(t,e,i){return Math.max(e,Math.min(i,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,i,n,r){return n+(t-e)*(r-n)/(i-e)},lerp:function(t,e,i){return(1-i)*t+i*e},smoothstep:function(t,e,i){return t<=e?0:t>=i?1:(t=(t-e)/(i-e),t*t*(3-2*t))},smootherstep:function(t,e,i){return t<=e?0:t>=i?1:(t=(t-e)/(i-e),t*t*t*(t*(6*t-15)+10))},random16:function(){return console.warn(\\\"THREE.Math.random16() has been deprecated. Use Math.random() instead.\\\"),Math.random()},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(t){return t*Fo.DEG2RAD},radToDeg:function(t){return t*Fo.RAD2DEG},isPowerOfTwo:function(t){return 0===(t&t-1)&&0!==t},nearestPowerOfTwo:function(t){return Math.pow(2,Math.round(Math.log(t)/Math.LN2))},nextPowerOfTwo:function(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t++,t}};i.prototype={constructor:i,isVector2:!0,get width(){return this.x},set width(t){this.x=t},get height(){return this.y},set height(t){this.y=t},set:function(t,e){return this.x=t,this.y=e,this},setScalar:function(t){return this.x=t,this.y=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error(\\\"index is out of range: \\\"+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error(\\\"index is out of range: \\\"+t)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,e){return void 0!==e?(console.warn(\\\"THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.\\\"),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)},addScalar:function(t){return this.x+=t,this.y+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this},sub:function(t,e){return void 0!==e?(console.warn(\\\"THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.\\\"),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)},subScalar:function(t){return this.x-=t,this.y-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return isFinite(t)?(this.x*=t,this.y*=t):(this.x=0,this.y=0),this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this},clampScalar:function(){var t,e;return function(n,r){return void 0===t&&(t=new i,e=new i),t.set(n,n),e.set(r,r),this.clamp(t,e)}}(),clampLength:function(t,e){var i=this.length();return this.multiplyScalar(Math.max(t,Math.min(e,i))/i)},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length())},angle:function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,i=this.y-t.y;return e*e+i*i},distanceToManhattan:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},lerpVectors:function(t,e,i){return this.subVectors(e,t).multiplyScalar(i).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t},fromAttribute:function(t,e,i){return void 0===i&&(i=0),e=e*t.itemSize+i,this.x=t.array[e],this.y=t.array[e+1],this},rotateAround:function(t,e){var i=Math.cos(e),n=Math.sin(e),r=this.x-t.x,a=this.y-t.y;return this.x=r*i-a*n+t.x,this.y=r*n+a*i+t.y,this}},n.DEFAULT_IMAGE=void 0,n.DEFAULT_MAPPING=xa,n.prototype={constructor:n,isTexture:!0,set needsUpdate(t){t===!0&&this.version++},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){function e(t){var e;return void 0!==t.toDataURL?e=t:(e=document.createElementNS(\\\"http://www.w3.org/1999/xhtml\\\",\\\"canvas\\\"),e.width=t.width,e.height=t.height,e.getContext(\\\"2d\\\").drawImage(t,0,0,t.width,t.height)),e.width>2048||e.height>2048?e.toDataURL(\\\"image/jpeg\\\",.6):e.toDataURL(\\\"image/png\\\")}if(void 0!==t.textures[this.uuid])return t.textures[this.uuid];var i={metadata:{version:4.4,type:\\\"Texture\\\",generator:\\\"Texture.toJSON\\\"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(void 0!==this.image){var n=this.image;void 0===n.uuid&&(n.uuid=Fo.generateUUID()),void 0===t.images[n.uuid]&&(t.images[n.uuid]={uuid:n.uuid,url:e(n)}),i.image=n.uuid}return t.textures[this.uuid]=i,i},dispose:function(){this.dispatchEvent({type:\\\"dispose\\\"})},transformUv:function(t){if(this.mapping===xa){if(t.multiply(this.repeat),t.add(this.offset),t.x<0||t.x>1)switch(this.wrapS){case La:t.x=t.x-Math.floor(t.x);break;case Ra:t.x=t.x<0?0:1;break;case Pa:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case La:t.y=t.y-Math.floor(t.y);break;case Ra:t.y=t.y<0?0:1;break;case Pa:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}this.flipY&&(t.y=1-t.y)}}},Object.assign(n.prototype,e.prototype);var Bo=0;a.prototype={constructor:a,isVector4:!0,set:function(t,e,i,n){return this.x=t,this.y=e,this.z=i,this.w=n,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setW:function(t){return this.w=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error(\\\"index is out of range: \\\"+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error(\\\"index is out of range: \\\"+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this},add:function(t,e){return void 0!==e?(console.warn(\\\"THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead.\\\"),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this},sub:function(t,e){return void 0!==e?(console.warn(\\\"THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.\\\"),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this},multiplyScalar:function(t){return isFinite(t)?(this.x*=t,this.y*=t,this.z*=t,this.w*=t):(this.x=0,this.y=0,this.z=0,this.w=0),this},applyMatrix4:function(t){var e=this.x,i=this.y,n=this.z,r=this.w,a=t.elements;return this.x=a[0]*e+a[4]*i+a[8]*n+a[12]*r,this.y=a[1]*e+a[5]*i+a[9]*n+a[13]*r,this.z=a[2]*e+a[6]*i+a[10]*n+a[14]*r,this.w=a[3]*e+a[7]*i+a[11]*n+a[15]*r,this},divideScalar:function(t){return this.multiplyScalar(1/t)},setAxisAngleFromQuaternion:function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this},setAxisAngleFromRotationMatrix:function(t){var e,i,n,r,a=.01,o=.1,s=t.elements,c=s[0],h=s[4],l=s[8],u=s[1],p=s[5],d=s[9],f=s[2],m=s[6],v=s[10];if(Math.abs(h-u)<a&&Math.abs(l-f)<a&&Math.abs(d-m)<a){if(Math.abs(h+u)<o&&Math.abs(l+f)<o&&Math.abs(d+m)<o&&Math.abs(c+p+v-3)<o)return this.set(1,0,0,0),this;e=Math.PI;var g=(c+1)/2,y=(p+1)/2,x=(v+1)/2,_=(h+u)/4,b=(l+f)/4,w=(d+m)/4;return g>y&&g>x?g<a?(i=0,n=.707106781,r=.707106781):(i=Math.sqrt(g),n=_/i,r=b/i):y>x?y<a?(i=.707106781,n=0,r=.707106781):(n=Math.sqrt(y),i=_/n,r=w/n):x<a?(i=.707106781,n=.707106781,r=0):(r=Math.sqrt(x),i=b/r,n=w/r),this.set(i,n,r,e),this}var M=Math.sqrt((m-d)*(m-d)+(l-f)*(l-f)+(u-h)*(u-h));return Math.abs(M)<.001&&(M=1),this.x=(m-d)/M,this.y=(l-f)/M,this.z=(u-h)/M,this.w=Math.acos((c+p+v-1)/2),this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this},clampScalar:function(){var t,e;return function(i,n){return void 0===t&&(t=new a,e=new a),t.set(i,i,i,i),e.set(n,n,n,n),this.clamp(t,e)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length())},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this},lerpVectors:function(t,e,i){return this.subVectors(e,t).multiplyScalar(i).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t},fromAttribute:function(t,e,i){return void 0===i&&(i=0),e=e*t.itemSize+i,this.x=t.array[e],this.y=t.array[e+1],this.z=t.array[e+2],this.w=t.array[e+3],this}},Object.assign(o.prototype,e.prototype,{isWebGLRenderTarget:!0,setSize:function(t,e){this.width===t&&this.height===e||(this.width=t,this.height=e,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this},dispose:function(){this.dispatchEvent({type:\\\"dispose\\\"})}}),s.prototype=Object.create(o.prototype),s.prototype.constructor=s,s.prototype.isWebGLRenderTargetCube=!0,c.prototype={constructor:c,get x(){return this._x;\\n},set x(t){this._x=t,this.onChangeCallback()},get y(){return this._y},set y(t){this._y=t,this.onChangeCallback()},get z(){return this._z},set z(t){this._z=t,this.onChangeCallback()},get w(){return this._w},set w(t){this._w=t,this.onChangeCallback()},set:function(t,e,i,n){return this._x=t,this._y=e,this._z=i,this._w=n,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this.onChangeCallback(),this},setFromEuler:function(t,e){if((t&&t.isEuler)===!1)throw new Error(\\\"THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.\\\");var i=Math.cos(t._x/2),n=Math.cos(t._y/2),r=Math.cos(t._z/2),a=Math.sin(t._x/2),o=Math.sin(t._y/2),s=Math.sin(t._z/2),c=t.order;return\\\"XYZ\\\"===c?(this._x=a*n*r+i*o*s,this._y=i*o*r-a*n*s,this._z=i*n*s+a*o*r,this._w=i*n*r-a*o*s):\\\"YXZ\\\"===c?(this._x=a*n*r+i*o*s,this._y=i*o*r-a*n*s,this._z=i*n*s-a*o*r,this._w=i*n*r+a*o*s):\\\"ZXY\\\"===c?(this._x=a*n*r-i*o*s,this._y=i*o*r+a*n*s,this._z=i*n*s+a*o*r,this._w=i*n*r-a*o*s):\\\"ZYX\\\"===c?(this._x=a*n*r-i*o*s,this._y=i*o*r+a*n*s,this._z=i*n*s-a*o*r,this._w=i*n*r+a*o*s):\\\"YZX\\\"===c?(this._x=a*n*r+i*o*s,this._y=i*o*r+a*n*s,this._z=i*n*s-a*o*r,this._w=i*n*r-a*o*s):\\\"XZY\\\"===c&&(this._x=a*n*r-i*o*s,this._y=i*o*r-a*n*s,this._z=i*n*s+a*o*r,this._w=i*n*r+a*o*s),e!==!1&&this.onChangeCallback(),this},setFromAxisAngle:function(t,e){var i=e/2,n=Math.sin(i);return this._x=t.x*n,this._y=t.y*n,this._z=t.z*n,this._w=Math.cos(i),this.onChangeCallback(),this},setFromRotationMatrix:function(t){var e,i=t.elements,n=i[0],r=i[4],a=i[8],o=i[1],s=i[5],c=i[9],h=i[2],l=i[6],u=i[10],p=n+s+u;return p>0?(e=.5/Math.sqrt(p+1),this._w=.25/e,this._x=(l-c)*e,this._y=(a-h)*e,this._z=(o-r)*e):n>s&&n>u?(e=2*Math.sqrt(1+n-s-u),this._w=(l-c)/e,this._x=.25*e,this._y=(r+o)/e,this._z=(a+h)/e):s>u?(e=2*Math.sqrt(1+s-n-u),this._w=(a-h)/e,this._x=(r+o)/e,this._y=.25*e,this._z=(c+l)/e):(e=2*Math.sqrt(1+u-n-s),this._w=(o-r)/e,this._x=(a+h)/e,this._y=(c+l)/e,this._z=.25*e),this.onChangeCallback(),this},setFromUnitVectors:function(){var t,e,i=1e-6;return function(n,r){return void 0===t&&(t=new h),e=n.dot(r)+1,e<i?(e=0,Math.abs(n.x)>Math.abs(n.z)?t.set(-n.y,n.x,0):t.set(0,-n.z,n.y)):t.crossVectors(n,r),this._x=t.x,this._y=t.y,this._z=t.z,this._w=e,this.normalize()}}(),inverse:function(){return this.conjugate().normalize()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this.onChangeCallback(),this},multiply:function(t,e){return void 0!==e?(console.warn(\\\"THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.\\\"),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)},premultiply:function(t){return this.multiplyQuaternions(t,this)},multiplyQuaternions:function(t,e){var i=t._x,n=t._y,r=t._z,a=t._w,o=e._x,s=e._y,c=e._z,h=e._w;return this._x=i*h+a*o+n*c-r*s,this._y=n*h+a*s+r*o-i*c,this._z=r*h+a*c+i*s-n*o,this._w=a*h-i*o-n*s-r*c,this.onChangeCallback(),this},slerp:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var i=this._x,n=this._y,r=this._z,a=this._w,o=a*t._w+i*t._x+n*t._y+r*t._z;if(o<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,o=-o):this.copy(t),o>=1)return this._w=a,this._x=i,this._y=n,this._z=r,this;var s=Math.sqrt(1-o*o);if(Math.abs(s)<.001)return this._w=.5*(a+this._w),this._x=.5*(i+this._x),this._y=.5*(n+this._y),this._z=.5*(r+this._z),this;var c=Math.atan2(s,o),h=Math.sin((1-e)*c)/s,l=Math.sin(e*c)/s;return this._w=a*h+this._w*l,this._x=i*h+this._x*l,this._y=n*h+this._y*l,this._z=r*h+this._z*l,this.onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}},Object.assign(c,{slerp:function(t,e,i,n){return i.copy(t).slerp(e,n)},slerpFlat:function(t,e,i,n,r,a,o){var s=i[n+0],c=i[n+1],h=i[n+2],l=i[n+3],u=r[a+0],p=r[a+1],d=r[a+2],f=r[a+3];if(l!==f||s!==u||c!==p||h!==d){var m=1-o,v=s*u+c*p+h*d+l*f,g=v>=0?1:-1,y=1-v*v;if(y>Number.EPSILON){var x=Math.sqrt(y),_=Math.atan2(x,v*g);m=Math.sin(m*_)/x,o=Math.sin(o*_)/x}var b=o*g;if(s=s*m+u*b,c=c*m+p*b,h=h*m+d*b,l=l*m+f*b,m===1-o){var w=1/Math.sqrt(s*s+c*c+h*h+l*l);s*=w,c*=w,h*=w,l*=w}}t[e]=s,t[e+1]=c,t[e+2]=h,t[e+3]=l}}),h.prototype={constructor:h,isVector3:!0,set:function(t,e,i){return this.x=t,this.y=e,this.z=i,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error(\\\"index is out of range: \\\"+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error(\\\"index is out of range: \\\"+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,e){return void 0!==e?(console.warn(\\\"THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.\\\"),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this},sub:function(t,e){return void 0!==e?(console.warn(\\\"THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.\\\"),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},multiply:function(t,e){return void 0!==e?(console.warn(\\\"THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.\\\"),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return isFinite(t)?(this.x*=t,this.y*=t,this.z*=t):(this.x=0,this.y=0,this.z=0),this},multiplyVectors:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},applyEuler:function(){var t;return function(e){return(e&&e.isEuler)===!1&&console.error(\\\"THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.\\\"),void 0===t&&(t=new c),this.applyQuaternion(t.setFromEuler(e))}}(),applyAxisAngle:function(){var t;return function(e,i){return void 0===t&&(t=new c),this.applyQuaternion(t.setFromAxisAngle(e,i))}}(),applyMatrix3:function(t){var e=this.x,i=this.y,n=this.z,r=t.elements;return this.x=r[0]*e+r[3]*i+r[6]*n,this.y=r[1]*e+r[4]*i+r[7]*n,this.z=r[2]*e+r[5]*i+r[8]*n,this},applyMatrix4:function(t){var e=this.x,i=this.y,n=this.z,r=t.elements;return this.x=r[0]*e+r[4]*i+r[8]*n+r[12],this.y=r[1]*e+r[5]*i+r[9]*n+r[13],this.z=r[2]*e+r[6]*i+r[10]*n+r[14],this},applyProjection:function(t){var e=this.x,i=this.y,n=this.z,r=t.elements,a=1/(r[3]*e+r[7]*i+r[11]*n+r[15]);return this.x=(r[0]*e+r[4]*i+r[8]*n+r[12])*a,this.y=(r[1]*e+r[5]*i+r[9]*n+r[13])*a,this.z=(r[2]*e+r[6]*i+r[10]*n+r[14])*a,this},applyQuaternion:function(t){var e=this.x,i=this.y,n=this.z,r=t.x,a=t.y,o=t.z,s=t.w,c=s*e+a*n-o*i,h=s*i+o*e-r*n,l=s*n+r*i-a*e,u=-r*e-a*i-o*n;return this.x=c*s+u*-r+h*-o-l*-a,this.y=h*s+u*-a+l*-r-c*-o,this.z=l*s+u*-o+c*-a-h*-r,this},project:function(){var t;return function(e){return void 0===t&&(t=new l),t.multiplyMatrices(e.projectionMatrix,t.getInverse(e.matrixWorld)),this.applyProjection(t)}}(),unproject:function(){var t;return function(e){return void 0===t&&(t=new l),t.multiplyMatrices(e.matrixWorld,t.getInverse(e.projectionMatrix)),this.applyProjection(t)}}(),transformDirection:function(t){var e=this.x,i=this.y,n=this.z,r=t.elements;return this.x=r[0]*e+r[4]*i+r[8]*n,this.y=r[1]*e+r[5]*i+r[9]*n,this.z=r[2]*e+r[6]*i+r[10]*n,this.normalize()},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this},clampScalar:function(){var t,e;return function(i,n){return void 0===t&&(t=new h,e=new h),t.set(i,i,i),e.set(n,n,n),this.clamp(t,e)}}(),clampLength:function(t,e){var i=this.length();return this.multiplyScalar(Math.max(t,Math.min(e,i))/i)},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this},lerpVectors:function(t,e,i){return this.subVectors(e,t).multiplyScalar(i).add(t)},cross:function(t,e){if(void 0!==e)return console.warn(\\\"THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.\\\"),this.crossVectors(t,e);var i=this.x,n=this.y,r=this.z;return this.x=n*t.z-r*t.y,this.y=r*t.x-i*t.z,this.z=i*t.y-n*t.x,this},crossVectors:function(t,e){var i=t.x,n=t.y,r=t.z,a=e.x,o=e.y,s=e.z;return this.x=n*s-r*o,this.y=r*a-i*s,this.z=i*o-n*a,this},projectOnVector:function(t){var e=t.dot(this)/t.lengthSq();return this.copy(t).multiplyScalar(e)},projectOnPlane:function(){var t;return function(e){return void 0===t&&(t=new h),t.copy(this).projectOnVector(e),this.sub(t)}}(),reflect:function(){var t;return function(e){return void 0===t&&(t=new h),this.sub(t.copy(e).multiplyScalar(2*this.dot(e)))}}(),angleTo:function(t){var e=this.dot(t)/Math.sqrt(this.lengthSq()*t.lengthSq());return Math.acos(Fo.clamp(e,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,i=this.y-t.y,n=this.z-t.z;return e*e+i*i+n*n},distanceToManhattan:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)},setFromSpherical:function(t){var e=Math.sin(t.phi)*t.radius;return this.x=e*Math.sin(t.theta),this.y=Math.cos(t.phi)*t.radius,this.z=e*Math.cos(t.theta),this},setFromMatrixPosition:function(t){return this.setFromMatrixColumn(t,3)},setFromMatrixScale:function(t){var e=this.setFromMatrixColumn(t,0).length(),i=this.setFromMatrixColumn(t,1).length(),n=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=i,this.z=n,this},setFromMatrixColumn:function(t,e){if(\\\"number\\\"==typeof t){console.warn(\\\"THREE.Vector3: setFromMatrixColumn now expects ( matrix, index ).\\\");var i=t;t=e,e=i}return this.fromArray(t.elements,4*e)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},fromAttribute:function(t,e,i){return void 0===i&&(i=0),e=e*t.itemSize+i,this.x=t.array[e],this.y=t.array[e+1],this.z=t.array[e+2],this}},l.prototype={constructor:l,isMatrix4:!0,set:function(t,e,i,n,r,a,o,s,c,h,l,u,p,d,f,m){var v=this.elements;return v[0]=t,v[4]=e,v[8]=i,v[12]=n,v[1]=r,v[5]=a,v[9]=o,v[13]=s,v[2]=c,v[6]=h,v[10]=l,v[14]=u,v[3]=p,v[7]=d,v[11]=f,v[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new l).fromArray(this.elements)},copy:function(t){return this.elements.set(t.elements),this},copyPosition:function(t){var e=this.elements,i=t.elements;return e[12]=i[12],e[13]=i[13],e[14]=i[14],this},extractBasis:function(t,e,i){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this},makeBasis:function(t,e,i){return this.set(t.x,e.x,i.x,0,t.y,e.y,i.y,0,t.z,e.z,i.z,0,0,0,0,1),this},extractRotation:function(){var t;return function(e){void 0===t&&(t=new h);var i=this.elements,n=e.elements,r=1/t.setFromMatrixColumn(e,0).length(),a=1/t.setFromMatrixColumn(e,1).length(),o=1/t.setFromMatrixColumn(e,2).length();return i[0]=n[0]*r,i[1]=n[1]*r,i[2]=n[2]*r,i[4]=n[4]*a,i[5]=n[5]*a,i[6]=n[6]*a,i[8]=n[8]*o,i[9]=n[9]*o,i[10]=n[10]*o,this}}(),makeRotationFromEuler:function(t){(t&&t.isEuler)===!1&&console.error(\\\"THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.\\\");var e=this.elements,i=t.x,n=t.y,r=t.z,a=Math.cos(i),o=Math.sin(i),s=Math.cos(n),c=Math.sin(n),h=Math.cos(r),l=Math.sin(r);if(\\\"XYZ\\\"===t.order){var u=a*h,p=a*l,d=o*h,f=o*l;e[0]=s*h,e[4]=-s*l,e[8]=c,e[1]=p+d*c,e[5]=u-f*c,e[9]=-o*s,e[2]=f-u*c,e[6]=d+p*c,e[10]=a*s}else if(\\\"YXZ\\\"===t.order){var m=s*h,v=s*l,g=c*h,y=c*l;e[0]=m+y*o,e[4]=g*o-v,e[8]=a*c,e[1]=a*l,e[5]=a*h,e[9]=-o,e[2]=v*o-g,e[6]=y+m*o,e[10]=a*s}else if(\\\"ZXY\\\"===t.order){var m=s*h,v=s*l,g=c*h,y=c*l;e[0]=m-y*o,e[4]=-a*l,e[8]=g+v*o,e[1]=v+g*o,e[5]=a*h,e[9]=y-m*o,e[2]=-a*c,e[6]=o,e[10]=a*s}else if(\\\"ZYX\\\"===t.order){var u=a*h,p=a*l,d=o*h,f=o*l;e[0]=s*h,e[4]=d*c-p,e[8]=u*c+f,e[1]=s*l,e[5]=f*c+u,e[9]=p*c-d,e[2]=-c,e[6]=o*s,e[10]=a*s}else if(\\\"YZX\\\"===t.order){var x=a*s,_=a*c,b=o*s,w=o*c;e[0]=s*h,e[4]=w-x*l,e[8]=b*l+_,e[1]=l,e[5]=a*h,e[9]=-o*h,e[2]=-c*h,e[6]=_*l+b,e[10]=x-w*l}else if(\\\"XZY\\\"===t.order){var x=a*s,_=a*c,b=o*s,w=o*c;e[0]=s*h,e[4]=-l,e[8]=c*h,e[1]=x*l+w,e[5]=a*h,e[9]=_*l-b,e[2]=b*l-_,e[6]=o*h,e[10]=w*l+x}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},makeRotationFromQuaternion:function(t){var e=this.elements,i=t.x,n=t.y,r=t.z,a=t.w,o=i+i,s=n+n,c=r+r,h=i*o,l=i*s,u=i*c,p=n*s,d=n*c,f=r*c,m=a*o,v=a*s,g=a*c;return e[0]=1-(p+f),e[4]=l-g,e[8]=u+v,e[1]=l+g,e[5]=1-(h+f),e[9]=d-m,e[2]=u-v,e[6]=d+m,e[10]=1-(h+p),e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},lookAt:function(){var t,e,i;return function(n,r,a){void 0===t&&(t=new h,e=new h,i=new h);var o=this.elements;return i.subVectors(n,r).normalize(),0===i.lengthSq()&&(i.z=1),t.crossVectors(a,i).normalize(),0===t.lengthSq()&&(i.z+=1e-4,t.crossVectors(a,i).normalize()),e.crossVectors(i,t),o[0]=t.x,o[4]=e.x,o[8]=i.x,o[1]=t.y,o[5]=e.y,o[9]=i.y,o[2]=t.z,o[6]=e.z,o[10]=i.z,this}}(),multiply:function(t,e){return void 0!==e?(console.warn(\\\"THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.\\\"),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var i=t.elements,n=e.elements,r=this.elements,a=i[0],o=i[4],s=i[8],c=i[12],h=i[1],l=i[5],u=i[9],p=i[13],d=i[2],f=i[6],m=i[10],v=i[14],g=i[3],y=i[7],x=i[11],_=i[15],b=n[0],w=n[4],M=n[8],E=n[12],T=n[1],S=n[5],A=n[9],L=n[13],R=n[2],P=n[6],C=n[10],I=n[14],U=n[3],N=n[7],D=n[11],O=n[15];return r[0]=a*b+o*T+s*R+c*U,r[4]=a*w+o*S+s*P+c*N,r[8]=a*M+o*A+s*C+c*D,r[12]=a*E+o*L+s*I+c*O,r[1]=h*b+l*T+u*R+p*U,r[5]=h*w+l*S+u*P+p*N,r[9]=h*M+l*A+u*C+p*D,r[13]=h*E+l*L+u*I+p*O,r[2]=d*b+f*T+m*R+v*U,r[6]=d*w+f*S+m*P+v*N,r[10]=d*M+f*A+m*C+v*D,r[14]=d*E+f*L+m*I+v*O,r[3]=g*b+y*T+x*R+_*U,r[7]=g*w+y*S+x*P+_*N,r[11]=g*M+y*A+x*C+_*D,r[15]=g*E+y*L+x*I+_*O,this},multiplyToArray:function(t,e,i){var n=this.elements;return this.multiplyMatrices(t,e),i[0]=n[0],i[1]=n[1],i[2]=n[2],i[3]=n[3],i[4]=n[4],i[5]=n[5],i[6]=n[6],i[7]=n[7],i[8]=n[8],i[9]=n[9],i[10]=n[10],i[11]=n[11],i[12]=n[12],i[13]=n[13],i[14]=n[14],i[15]=n[15],this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this},applyToVector3Array:function(){var t;return function(e,i,n){void 0===t&&(t=new h),void 0===i&&(i=0),void 0===n&&(n=e.length);for(var r=0,a=i;r<n;r+=3,a+=3)t.fromArray(e,a),t.applyMatrix4(this),t.toArray(e,a);return e}}(),applyToBuffer:function(){var t;return function(e,i,n){void 0===t&&(t=new h),void 0===i&&(i=0),void 0===n&&(n=e.length/e.itemSize);for(var r=0,a=i;r<n;r++,a++)t.x=e.getX(a),t.y=e.getY(a),t.z=e.getZ(a),t.applyMatrix4(this),e.setXYZ(a,t.x,t.y,t.z);return e}}(),determinant:function(){var t=this.elements,e=t[0],i=t[4],n=t[8],r=t[12],a=t[1],o=t[5],s=t[9],c=t[13],h=t[2],l=t[6],u=t[10],p=t[14],d=t[3],f=t[7],m=t[11],v=t[15];return d*(+r*s*l-n*c*l-r*o*u+i*c*u+n*o*p-i*s*p)+f*(+e*s*p-e*c*u+r*a*u-n*a*p+n*c*h-r*s*h)+m*(+e*c*l-e*o*p-r*a*l+i*a*p+r*o*h-i*c*h)+v*(-n*o*h-e*s*l+e*o*u+n*a*l-i*a*u+i*s*h)},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},flattenToArrayOffset:function(t,e){return console.warn(\\\"THREE.Matrix3: .flattenToArrayOffset is deprecated - just use .toArray instead.\\\"),this.toArray(t,e)},getPosition:function(){var t;return function(){return void 0===t&&(t=new h),console.warn(\\\"THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.\\\"),t.setFromMatrixColumn(this,3)}}(),setPosition:function(t){var e=this.elements;return e[12]=t.x,e[13]=t.y,e[14]=t.z,this},getInverse:function(t,e){var i=this.elements,n=t.elements,r=n[0],a=n[1],o=n[2],s=n[3],c=n[4],h=n[5],l=n[6],u=n[7],p=n[8],d=n[9],f=n[10],m=n[11],v=n[12],g=n[13],y=n[14],x=n[15],_=d*y*u-g*f*u+g*l*m-h*y*m-d*l*x+h*f*x,b=v*f*u-p*y*u-v*l*m+c*y*m+p*l*x-c*f*x,w=p*g*u-v*d*u+v*h*m-c*g*m-p*h*x+c*d*x,M=v*d*l-p*g*l-v*h*f+c*g*f+p*h*y-c*d*y,E=r*_+a*b+o*w+s*M;if(0===E){var T=\\\"THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0\\\";if(e===!0)throw new Error(T);return console.warn(T),this.identity()}var S=1/E;return i[0]=_*S,i[1]=(g*f*s-d*y*s-g*o*m+a*y*m+d*o*x-a*f*x)*S,i[2]=(h*y*s-g*l*s+g*o*u-a*y*u-h*o*x+a*l*x)*S,i[3]=(d*l*s-h*f*s-d*o*u+a*f*u+h*o*m-a*l*m)*S,i[4]=b*S,i[5]=(p*y*s-v*f*s+v*o*m-r*y*m-p*o*x+r*f*x)*S,i[6]=(v*l*s-c*y*s-v*o*u+r*y*u+c*o*x-r*l*x)*S,i[7]=(c*f*s-p*l*s+p*o*u-r*f*u-c*o*m+r*l*m)*S,i[8]=w*S,i[9]=(v*d*s-p*g*s-v*a*m+r*g*m+p*a*x-r*d*x)*S,i[10]=(c*g*s-v*h*s+v*a*u-r*g*u-c*a*x+r*h*x)*S,i[11]=(p*h*s-c*d*s-p*a*u+r*d*u+c*a*m-r*h*m)*S,i[12]=M*S,i[13]=(p*g*o-v*d*o+v*a*f-r*g*f-p*a*y+r*d*y)*S,i[14]=(v*h*o-c*g*o-v*a*l+r*g*l+c*a*y-r*h*y)*S,i[15]=(c*d*o-p*h*o+p*a*l-r*d*l-c*a*f+r*h*f)*S,this},scale:function(t){var e=this.elements,i=t.x,n=t.y,r=t.z;return e[0]*=i,e[4]*=n,e[8]*=r,e[1]*=i,e[5]*=n,e[9]*=r,e[2]*=i,e[6]*=n,e[10]*=r,e[3]*=i,e[7]*=n,e[11]*=r,this},getMaxScaleOnAxis:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],n=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,i,n))},makeTranslation:function(t,e,i){return this.set(1,0,0,t,0,1,0,e,0,0,1,i,0,0,0,1),this},makeRotationX:function(t){var e=Math.cos(t),i=Math.sin(t);return this.set(1,0,0,0,0,e,-i,0,0,i,e,0,0,0,0,1),this},makeRotationY:function(t){var e=Math.cos(t),i=Math.sin(t);return this.set(e,0,i,0,0,1,0,0,-i,0,e,0,0,0,0,1),this},makeRotationZ:function(t){var e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,0,i,e,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,e){var i=Math.cos(e),n=Math.sin(e),r=1-i,a=t.x,o=t.y,s=t.z,c=r*a,h=r*o;return this.set(c*a+i,c*o-n*s,c*s+n*o,0,c*o+n*s,h*o+i,h*s-n*a,0,c*s-n*o,h*s+n*a,r*s*s+i,0,0,0,0,1),this},makeScale:function(t,e,i){return this.set(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1),this},compose:function(t,e,i){return this.makeRotationFromQuaternion(e),this.scale(i),this.setPosition(t),this},decompose:function(){var t,e;return function(i,n,r){void 0===t&&(t=new h,e=new l);var a=this.elements,o=t.set(a[0],a[1],a[2]).length(),s=t.set(a[4],a[5],a[6]).length(),c=t.set(a[8],a[9],a[10]).length(),u=this.determinant();u<0&&(o=-o),i.x=a[12],i.y=a[13],i.z=a[14],e.elements.set(this.elements);var p=1/o,d=1/s,f=1/c;return e.elements[0]*=p,e.elements[1]*=p,e.elements[2]*=p,e.elements[4]*=d,e.elements[5]*=d,e.elements[6]*=d,e.elements[8]*=f,e.elements[9]*=f,e.elements[10]*=f,n.setFromRotationMatrix(e),r.x=o,r.y=s,r.z=c,this}}(),makeFrustum:function(t,e,i,n,r,a){var o=this.elements,s=2*r/(e-t),c=2*r/(n-i),h=(e+t)/(e-t),l=(n+i)/(n-i),u=-(a+r)/(a-r),p=-2*a*r/(a-r);return o[0]=s,o[4]=0,o[8]=h,o[12]=0,o[1]=0,o[5]=c,o[9]=l,o[13]=0,o[2]=0,o[6]=0,o[10]=u,o[14]=p,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this},makePerspective:function(t,e,i,n){var r=i*Math.tan(Fo.DEG2RAD*t*.5),a=-r,o=a*e,s=r*e;return this.makeFrustum(o,s,a,r,i,n)},makeOrthographic:function(t,e,i,n,r,a){var o=this.elements,s=1/(e-t),c=1/(i-n),h=1/(a-r),l=(e+t)*s,u=(i+n)*c,p=(a+r)*h;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-l,o[1]=0,o[5]=2*c,o[9]=0,o[13]=-u,o[2]=0,o[6]=0,o[10]=-2*h,o[14]=-p,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this},equals:function(t){for(var e=this.elements,i=t.elements,n=0;n<16;n++)if(e[n]!==i[n])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var i=0;i<16;i++)this.elements[i]=t[i+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t[e+9]=i[9],t[e+10]=i[10],t[e+11]=i[11],t[e+12]=i[12],t[e+13]=i[13],t[e+14]=i[14],t[e+15]=i[15],t}},u.prototype=Object.create(n.prototype),u.prototype.constructor=u,u.prototype.isCubeTexture=!0,Object.defineProperty(u.prototype,\\\"images\\\",{get:function(){return this.image},set:function(t){this.image=t}});var zo=new n,Go=new u,Ho=[],Vo=[];V.prototype.setValue=function(t,e){for(var i=this.seq,n=0,r=i.length;n!==r;++n){var a=i[n];a.setValue(t,e[a.id])}};var ko=/([\\\\w\\\\d_]+)(\\\\])?(\\\\[|\\\\.)?/g;W.prototype.setValue=function(t,e,i){var n=this.map[e];void 0!==n&&n.setValue(t,i,this.renderer)},W.prototype.set=function(t,e,i){var n=this.map[i];void 0!==n&&n.setValue(t,e[i],this.renderer)},W.prototype.setOptional=function(t,e,i){var n=e[i];void 0!==n&&this.setValue(t,i,n)},W.upload=function(t,e,i,n){for(var r=0,a=e.length;r!==a;++r){var o=e[r],s=i[o.id];s.needsUpdate!==!1&&o.setValue(t,s.value,n)}},W.seqWithValue=function(t,e){for(var i=[],n=0,r=t.length;n!==r;++n){var a=t[n];a.id in e&&i.push(a)}return i};var jo={merge:function(t){for(var e={},i=0;i<t.length;i++){var n=this.clone(t[i]);for(var r in n)e[r]=n[r]}return e},clone:function(t){var e={};for(var i in t){e[i]={};for(var n in t[i]){var r=t[i][n];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture)?e[i][n]=r.clone():Array.isArray(r)?e[i][n]=r.slice():e[i][n]=r}}return e}},Wo=\\\"#ifdef USE_ALPHAMAP\\\\n\\\\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\\\\n#endif\\\\n\\\",Xo=\\\"#ifdef USE_ALPHAMAP\\\\n\\\\tuniform sampler2D alphaMap;\\\\n#endif\\\\n\\\",Yo=\\\"#ifdef ALPHATEST\\\\n\\\\tif ( diffuseColor.a < ALPHATEST ) discard;\\\\n#endif\\\\n\\\",qo=\\\"#ifdef USE_AOMAP\\\\n\\\\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\\\\n\\\\treflectedLight.indirectDiffuse *= ambientOcclusion;\\\\n\\\\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\\\\n\\\\t\\\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\\\n\\\\t\\\\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\\\\n\\\\t#endif\\\\n#endif\\\\n\\\",Zo=\\\"#ifdef USE_AOMAP\\\\n\\\\tuniform sampler2D aoMap;\\\\n\\\\tuniform float aoMapIntensity;\\\\n#endif\\\",Jo=\\\"\\\\nvec3 transformed = vec3( position );\\\\n\\\",Qo=\\\"\\\\nvec3 objectNormal = vec3( normal );\\\\n\\\",Ko=\\\"bool testLightInRange( const in float lightDistance, const in float cutoffDistance ) {\\\\n\\\\treturn any( bvec2( cutoffDistance == 0.0, lightDistance < cutoffDistance ) );\\\\n}\\\\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\\\\n\\\\t\\\\tif( decayExponent > 0.0 ) {\\\\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\\\\n\\\\t\\\\t\\\\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\\\\n\\\\t\\\\t\\\\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\\\\n\\\\t\\\\t\\\\treturn distanceFalloff * maxDistanceCutoffFactor;\\\\n#else\\\\n\\\\t\\\\t\\\\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\\\\n#endif\\\\n\\\\t\\\\t}\\\\n\\\\t\\\\treturn 1.0;\\\\n}\\\\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\\\\n\\\\treturn RECIPROCAL_PI * diffuseColor;\\\\n}\\\\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\\\\n\\\\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\\\\n\\\\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\\\\n}\\\\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\\\\n\\\\tfloat a2 = pow2( alpha );\\\\n\\\\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\\\n\\\\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\\\n\\\\treturn 1.0 / ( gl * gv );\\\\n}\\\\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\\\\n\\\\tfloat a2 = pow2( alpha );\\\\n\\\\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\\\n\\\\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\\\n\\\\treturn 0.5 / max( gv + gl, EPSILON );\\\\n}\\\\nfloat D_GGX( const in float alpha, const in float dotNH ) {\\\\n\\\\tfloat a2 = pow2( alpha );\\\\n\\\\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\\\\n\\\\treturn RECIPROCAL_PI * a2 / pow2( denom );\\\\n}\\\\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\\\\n\\\\tfloat alpha = pow2( roughness );\\\\n\\\\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\\\\n\\\\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\\\\n\\\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\\\n\\\\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\\\\n\\\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\\\n\\\\tvec3 F = F_Schlick( specularColor, dotLH );\\\\n\\\\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\\\\n\\\\tfloat D = D_GGX( alpha, dotNH );\\\\n\\\\treturn F * ( G * D );\\\\n}\\\\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\\\\n\\\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\\\n\\\\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\\\\n\\\\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\\\\n\\\\tvec4 r = roughness * c0 + c1;\\\\n\\\\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\\\\n\\\\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\\\\n\\\\treturn specularColor * AB.x + AB.y;\\\\n}\\\\nfloat G_BlinnPhong_Implicit( ) {\\\\n\\\\treturn 0.25;\\\\n}\\\\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\\\\n\\\\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\\\\n}\\\\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\\\\n\\\\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\\\\n\\\\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\\\\n\\\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\\\n\\\\tvec3 F = F_Schlick( specularColor, dotLH );\\\\n\\\\tfloat G = G_BlinnPhong_Implicit( );\\\\n\\\\tfloat D = D_BlinnPhong( shininess, dotNH );\\\\n\\\\treturn F * ( G * D );\\\\n}\\\\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\\\\n\\\\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\\\\n}\\\\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\\\\n\\\\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\\\\n}\\\\n\\\",$o=\\\"#ifdef USE_BUMPMAP\\\\n\\\\tuniform sampler2D bumpMap;\\\\n\\\\tuniform float bumpScale;\\\\n\\\\tvec2 dHdxy_fwd() {\\\\n\\\\t\\\\tvec2 dSTdx = dFdx( vUv );\\\\n\\\\t\\\\tvec2 dSTdy = dFdy( vUv );\\\\n\\\\t\\\\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\\\\n\\\\t\\\\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\\\\n\\\\t\\\\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\\\\n\\\\t\\\\treturn vec2( dBx, dBy );\\\\n\\\\t}\\\\n\\\\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\\\\n\\\\t\\\\tvec3 vSigmaX = dFdx( surf_pos );\\\\n\\\\t\\\\tvec3 vSigmaY = dFdy( surf_pos );\\\\n\\\\t\\\\tvec3 vN = surf_norm;\\\\n\\\\t\\\\tvec3 R1 = cross( vSigmaY, vN );\\\\n\\\\t\\\\tvec3 R2 = cross( vN, vSigmaX );\\\\n\\\\t\\\\tfloat fDet = dot( vSigmaX, R1 );\\\\n\\\\t\\\\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\\\\n\\\\t\\\\treturn normalize( abs( fDet ) * surf_norm - vGrad );\\\\n\\\\t}\\\\n#endif\\\\n\\\",ts=\\\"#if NUM_CLIPPING_PLANES > 0\\\\n\\\\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; ++ i ) {\\\\n\\\\t\\\\tvec4 plane = clippingPlanes[ i ];\\\\n\\\\t\\\\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\\\\n\\\\t}\\\\n\\\\t\\\\t\\\\n\\\\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\\\\n\\\\t\\\\tbool clipped = true;\\\\n\\\\t\\\\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; ++ i ) {\\\\n\\\\t\\\\t\\\\tvec4 plane = clippingPlanes[ i ];\\\\n\\\\t\\\\t\\\\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\\\\n\\\\t\\\\t}\\\\n\\\\t\\\\tif ( clipped ) discard;\\\\n\\\\t\\\\n\\\\t#endif\\\\n#endif\\\\n\\\",es=\\\"#if NUM_CLIPPING_PLANES > 0\\\\n\\\\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\\\\n\\\\t\\\\tvarying vec3 vViewPosition;\\\\n\\\\t#endif\\\\n\\\\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\\\\n#endif\\\\n\\\",is=\\\"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\\\\n\\\\tvarying vec3 vViewPosition;\\\\n#endif\\\\n\\\",ns=\\\"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\\\\n\\\\tvViewPosition = - mvPosition.xyz;\\\\n#endif\\\\n\\\",rs=\\\"#ifdef USE_COLOR\\\\n\\\\tdiffuseColor.rgb *= vColor;\\\\n#endif\\\",as=\\\"#ifdef USE_COLOR\\\\n\\\\tvarying vec3 vColor;\\\\n#endif\\\\n\\\",os=\\\"#ifdef USE_COLOR\\\\n\\\\tvarying vec3 vColor;\\\\n#endif\\\",ss=\\\"#ifdef USE_COLOR\\\\n\\\\tvColor.xyz = color.xyz;\\\\n#endif\\\",cs=\\\"#define PI 3.14159265359\\\\n#define PI2 6.28318530718\\\\n#define RECIPROCAL_PI 0.31830988618\\\\n#define RECIPROCAL_PI2 0.15915494\\\\n#define LOG2 1.442695\\\\n#define EPSILON 1e-6\\\\n#define saturate(a) clamp( a, 0.0, 1.0 )\\\\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\\\\nfloat pow2( const in float x ) { return x*x; }\\\\nfloat pow3( const in float x ) { return x*x*x; }\\\\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\\\\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\\\\nhighp float rand( const in vec2 uv ) {\\\\n\\\\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\\\\n\\\\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\\\\n\\\\treturn fract(sin(sn) * c);\\\\n}\\\\nstruct IncidentLight {\\\\n\\\\tvec3 color;\\\\n\\\\tvec3 direction;\\\\n\\\\tbool visible;\\\\n};\\\\nstruct ReflectedLight {\\\\n\\\\tvec3 directDiffuse;\\\\n\\\\tvec3 directSpecular;\\\\n\\\\tvec3 indirectDiffuse;\\\\n\\\\tvec3 indirectSpecular;\\\\n};\\\\nstruct GeometricContext {\\\\n\\\\tvec3 position;\\\\n\\\\tvec3 normal;\\\\n\\\\tvec3 viewDir;\\\\n};\\\\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\\\\n\\\\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\\\\n}\\\\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\\\\n\\\\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\\\\n}\\\\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\\\n\\\\tfloat distance = dot( planeNormal, point - pointOnPlane );\\\\n\\\\treturn - distance * planeNormal + point;\\\\n}\\\\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\\\n\\\\treturn sign( dot( point - pointOnPlane, planeNormal ) );\\\\n}\\\\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\\\\n\\\\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\\\\n}\\\\n\\\",hs=\\\"#ifdef ENVMAP_TYPE_CUBE_UV\\\\n#define cubeUV_textureSize (1024.0)\\\\nint getFaceFromDirection(vec3 direction) {\\\\n\\\\tvec3 absDirection = abs(direction);\\\\n\\\\tint face = -1;\\\\n\\\\tif( absDirection.x > absDirection.z ) {\\\\n\\\\t\\\\tif(absDirection.x > absDirection.y )\\\\n\\\\t\\\\t\\\\tface = direction.x > 0.0 ? 0 : 3;\\\\n\\\\t\\\\telse\\\\n\\\\t\\\\t\\\\tface = direction.y > 0.0 ? 1 : 4;\\\\n\\\\t}\\\\n\\\\telse {\\\\n\\\\t\\\\tif(absDirection.z > absDirection.y )\\\\n\\\\t\\\\t\\\\tface = direction.z > 0.0 ? 2 : 5;\\\\n\\\\t\\\\telse\\\\n\\\\t\\\\t\\\\tface = direction.y > 0.0 ? 1 : 4;\\\\n\\\\t}\\\\n\\\\treturn face;\\\\n}\\\\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\\\\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\\\\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\\\\n\\\\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\\\\n\\\\tfloat dxRoughness = dFdx(roughness);\\\\n\\\\tfloat dyRoughness = dFdy(roughness);\\\\n\\\\tvec3 dx = dFdx( vec * scale * dxRoughness );\\\\n\\\\tvec3 dy = dFdy( vec * scale * dyRoughness );\\\\n\\\\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\\\\n\\\\td = clamp(d, 1.0, cubeUV_rangeClamp);\\\\n\\\\tfloat mipLevel = 0.5 * log2(d);\\\\n\\\\treturn vec2(floor(mipLevel), fract(mipLevel));\\\\n}\\\\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\\\\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\\\\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\\\\n\\\\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\\\\n\\\\tfloat a = 16.0 * cubeUV_rcpTextureSize;\\\\n\\\\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\\\\n\\\\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\\\\n\\\\tfloat powScale = exp2_packed.x * exp2_packed.y;\\\\n\\\\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\\\\n\\\\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\\\\n\\\\tbool bRes = mipLevel == 0.0;\\\\n\\\\tscale =  bRes && (scale < a) ? a : scale;\\\\n\\\\tvec3 r;\\\\n\\\\tvec2 offset;\\\\n\\\\tint face = getFaceFromDirection(direction);\\\\n\\\\tfloat rcpPowScale = 1.0 / powScale;\\\\n\\\\tif( face == 0) {\\\\n\\\\t\\\\tr = vec3(direction.x, -direction.z, direction.y);\\\\n\\\\t\\\\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\\\\n\\\\t\\\\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\\\\n\\\\t}\\\\n\\\\telse if( face == 1) {\\\\n\\\\t\\\\tr = vec3(direction.y, direction.x, direction.z);\\\\n\\\\t\\\\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\\\\n\\\\t\\\\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\\\\n\\\\t}\\\\n\\\\telse if( face == 2) {\\\\n\\\\t\\\\tr = vec3(direction.z, direction.x, direction.y);\\\\n\\\\t\\\\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\\\\n\\\\t\\\\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\\\\n\\\\t}\\\\n\\\\telse if( face == 3) {\\\\n\\\\t\\\\tr = vec3(direction.x, direction.z, direction.y);\\\\n\\\\t\\\\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\\\\n\\\\t\\\\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\\\\n\\\\t}\\\\n\\\\telse if( face == 4) {\\\\n\\\\t\\\\tr = vec3(direction.y, direction.x, -direction.z);\\\\n\\\\t\\\\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\\\\n\\\\t\\\\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\\\\n\\\\t}\\\\n\\\\telse {\\\\n\\\\t\\\\tr = vec3(direction.z, -direction.x, direction.y);\\\\n\\\\t\\\\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\\\\n\\\\t\\\\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\\\\n\\\\t}\\\\n\\\\tr = normalize(r);\\\\n\\\\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\\\\n\\\\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\\\\n\\\\tvec2 base = offset + vec2( texelOffset );\\\\n\\\\treturn base + s * ( scale - 2.0 * texelOffset );\\\\n}\\\\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\\\\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\\\\n\\\\tfloat roughnessVal = roughness* cubeUV_maxLods3;\\\\n\\\\tfloat r1 = floor(roughnessVal);\\\\n\\\\tfloat r2 = r1 + 1.0;\\\\n\\\\tfloat t = fract(roughnessVal);\\\\n\\\\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\\\\n\\\\tfloat s = mipInfo.y;\\\\n\\\\tfloat level0 = mipInfo.x;\\\\n\\\\tfloat level1 = level0 + 1.0;\\\\n\\\\tlevel1 = level1 > 5.0 ? 5.0 : level1;\\\\n\\\\tlevel0 += min( floor( s + 0.5 ), 5.0 );\\\\n\\\\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\\\\n\\\\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\\\\n\\\\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\\\\n\\\\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\\\\n\\\\tvec4 result = mix(color10, color20, t);\\\\n\\\\treturn vec4(result.rgb, 1.0);\\\\n}\\\\n#endif\\\\n\\\",ls=\\\"#ifdef FLIP_SIDED\\\\n\\\\tobjectNormal = -objectNormal;\\\\n#endif\\\\nvec3 transformedNormal = normalMatrix * objectNormal;\\\\n\\\",us=\\\"#ifdef USE_DISPLACEMENTMAP\\\\n\\\\tuniform sampler2D displacementMap;\\\\n\\\\tuniform float displacementScale;\\\\n\\\\tuniform float displacementBias;\\\\n#endif\\\\n\\\",ps=\\\"#ifdef USE_DISPLACEMENTMAP\\\\n\\\\ttransformed += normal * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\\\\n#endif\\\\n\\\",ds=\\\"#ifdef USE_EMISSIVEMAP\\\\n\\\\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\\\\n\\\\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\\\\n\\\\ttotalEmissiveRadiance *= emissiveColor.rgb;\\\\n#endif\\\\n\\\",fs=\\\"#ifdef USE_EMISSIVEMAP\\\\n\\\\tuniform sampler2D emissiveMap;\\\\n#endif\\\\n\\\",ms=\\\"  gl_FragColor = linearToOutputTexel( gl_FragColor );\\\\n\\\",vs=\\\"\\\\nvec4 LinearToLinear( in vec4 value ) {\\\\n  return value;\\\\n}\\\\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\\\\n  return vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\\\\n}\\\\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\\\\n  return vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\\\\n}\\\\nvec4 sRGBToLinear( in vec4 value ) {\\\\n  return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\\\\n}\\\\nvec4 LinearTosRGB( in vec4 value ) {\\\\n  return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\\\\n}\\\\nvec4 RGBEToLinear( in vec4 value ) {\\\\n  return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\\\\n}\\\\nvec4 LinearToRGBE( in vec4 value ) {\\\\n  float maxComponent = max( max( value.r, value.g ), value.b );\\\\n  float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\\\\n  return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\\\\n}\\\\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\\\\n  return vec4( value.xyz * value.w * maxRange, 1.0 );\\\\n}\\\\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\\\\n  float maxRGB = max( value.x, max( value.g, value.b ) );\\\\n  float M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\\\\n  M            = ceil( M * 255.0 ) / 255.0;\\\\n  return vec4( value.rgb / ( M * maxRange ), M );\\\\n}\\\\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\\\\n    return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\\\\n}\\\\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\\\\n    float maxRGB = max( value.x, max( value.g, value.b ) );\\\\n    float D      = max( maxRange / maxRGB, 1.0 );\\\\n    D            = min( floor( D ) / 255.0, 1.0 );\\\\n    return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\\\\n}\\\\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\\\\nvec4 LinearToLogLuv( in vec4 value )  {\\\\n  vec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\\\\n  Xp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\\\\n  vec4 vResult;\\\\n  vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\\\\n  float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\\\\n  vResult.w = fract(Le);\\\\n  vResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\\\\n  return vResult;\\\\n}\\\\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\\\\nvec4 LogLuvToLinear( in vec4 value ) {\\\\n  float Le = value.z * 255.0 + value.w;\\\\n  vec3 Xp_Y_XYZp;\\\\n  Xp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\\\\n  Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\\\\n  Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\\\\n  vec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\\\\n  return vec4( max(vRGB, 0.0), 1.0 );\\\\n}\\\\n\\\",gs=\\\"#ifdef USE_ENVMAP\\\\n\\\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\\\n\\\\t\\\\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\\\\n\\\\t\\\\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\\\\n\\\\t\\\\t#ifdef ENVMAP_MODE_REFLECTION\\\\n\\\\t\\\\t\\\\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\\\\n\\\\t\\\\t#else\\\\n\\\\t\\\\t\\\\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\\\\n\\\\t\\\\t#endif\\\\n\\\\t#else\\\\n\\\\t\\\\tvec3 reflectVec = vReflect;\\\\n\\\\t#endif\\\\n\\\\t#ifdef ENVMAP_TYPE_CUBE\\\\n\\\\t\\\\tvec4 envColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\\\\n\\\\t#elif defined( ENVMAP_TYPE_EQUIREC )\\\\n\\\\t\\\\tvec2 sampleUV;\\\\n\\\\t\\\\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\\\\n\\\\t\\\\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\\\\n\\\\t\\\\tvec4 envColor = texture2D( envMap, sampleUV );\\\\n\\\\t#elif defined( ENVMAP_TYPE_SPHERE )\\\\n\\\\t\\\\tvec3 reflectView = flipNormal * normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\\\\n\\\\t\\\\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\\\\n\\\\t#else\\\\n\\\\t\\\\tvec4 envColor = vec4( 0.0 );\\\\n\\\\t#endif\\\\n\\\\tenvColor = envMapTexelToLinear( envColor );\\\\n\\\\t#ifdef ENVMAP_BLENDING_MULTIPLY\\\\n\\\\t\\\\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\\\\n\\\\t#elif defined( ENVMAP_BLENDING_MIX )\\\\n\\\\t\\\\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\\\\n\\\\t#elif defined( ENVMAP_BLENDING_ADD )\\\\n\\\\t\\\\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\\\\n\\\\t#endif\\\\n#endif\\\\n\\\",ys=\\\"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\\\\n\\\\tuniform float reflectivity;\\\\n\\\\tuniform float envMapIntenstiy;\\\\n#endif\\\\n#ifdef USE_ENVMAP\\\\n\\\\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\\\\n\\\\t\\\\tvarying vec3 vWorldPosition;\\\\n\\\\t#endif\\\\n\\\\t#ifdef ENVMAP_TYPE_CUBE\\\\n\\\\t\\\\tuniform samplerCube envMap;\\\\n\\\\t#else\\\\n\\\\t\\\\tuniform sampler2D envMap;\\\\n\\\\t#endif\\\\n\\\\tuniform float flipEnvMap;\\\\n\\\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\\\\n\\\\t\\\\tuniform float refractionRatio;\\\\n\\\\t#else\\\\n\\\\t\\\\tvarying vec3 vReflect;\\\\n\\\\t#endif\\\\n#endif\\\\n\\\",xs=\\\"#ifdef USE_ENVMAP\\\\n\\\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\\\n\\\\t\\\\tvarying vec3 vWorldPosition;\\\\n\\\\t#else\\\\n\\\\t\\\\tvarying vec3 vReflect;\\\\n\\\\t\\\\tuniform float refractionRatio;\\\\n\\\\t#endif\\\\n#endif\\\\n\\\",_s=\\\"#ifdef USE_ENVMAP\\\\n\\\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\\\n\\\\t\\\\tvWorldPosition = worldPosition.xyz;\\\\n\\\\t#else\\\\n\\\\t\\\\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\\\\n\\\\t\\\\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\\\n\\\\t\\\\t#ifdef ENVMAP_MODE_REFLECTION\\\\n\\\\t\\\\t\\\\tvReflect = reflect( cameraToVertex, worldNormal );\\\\n\\\\t\\\\t#else\\\\n\\\\t\\\\t\\\\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\\\\n\\\\t\\\\t#endif\\\\n\\\\t#endif\\\\n#endif\\\\n\\\",bs=\\\"#ifdef USE_FOG\\\\n\\\\t#ifdef USE_LOGDEPTHBUF_EXT\\\\n\\\\t\\\\tfloat depth = gl_FragDepthEXT / gl_FragCoord.w;\\\\n\\\\t#else\\\\n\\\\t\\\\tfloat depth = gl_FragCoord.z / gl_FragCoord.w;\\\\n\\\\t#endif\\\\n\\\\t#ifdef FOG_EXP2\\\\n\\\\t\\\\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * depth * depth * LOG2 ) );\\\\n\\\\t#else\\\\n\\\\t\\\\tfloat fogFactor = smoothstep( fogNear, fogFar, depth );\\\\n\\\\t#endif\\\\n\\\\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\\\\n#endif\\\\n\\\",ws=\\\"#ifdef USE_FOG\\\\n\\\\tuniform vec3 fogColor;\\\\n\\\\t#ifdef FOG_EXP2\\\\n\\\\t\\\\tuniform float fogDensity;\\\\n\\\\t#else\\\\n\\\\t\\\\tuniform float fogNear;\\\\n\\\\t\\\\tuniform float fogFar;\\\\n\\\\t#endif\\\\n#endif\\\",Ms=\\\"#ifdef USE_LIGHTMAP\\\\n\\\\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\\\\n#endif\\\\n\\\",Es=\\\"#ifdef USE_LIGHTMAP\\\\n\\\\tuniform sampler2D lightMap;\\\\n\\\\tuniform float lightMapIntensity;\\\\n#endif\\\",Ts=\\\"vec3 diffuse = vec3( 1.0 );\\\\nGeometricContext geometry;\\\\ngeometry.position = mvPosition.xyz;\\\\ngeometry.normal = normalize( transformedNormal );\\\\ngeometry.viewDir = normalize( -mvPosition.xyz );\\\\nGeometricContext backGeometry;\\\\nbackGeometry.position = geometry.position;\\\\nbackGeometry.normal = -geometry.normal;\\\\nbackGeometry.viewDir = geometry.viewDir;\\\\nvLightFront = vec3( 0.0 );\\\\n#ifdef DOUBLE_SIDED\\\\n\\\\tvLightBack = vec3( 0.0 );\\\\n#endif\\\\nIncidentLight directLight;\\\\nfloat dotNL;\\\\nvec3 directLightColor_Diffuse;\\\\n#if NUM_POINT_LIGHTS > 0\\\\n\\\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\\\n\\\\t\\\\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\\\\n\\\\t\\\\tdotNL = dot( geometry.normal, directLight.direction );\\\\n\\\\t\\\\tdirectLightColor_Diffuse = PI * directLight.color;\\\\n\\\\t\\\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\\\n\\\\t\\\\t#ifdef DOUBLE_SIDED\\\\n\\\\t\\\\t\\\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\\\n\\\\t\\\\t#endif\\\\n\\\\t}\\\\n#endif\\\\n#if NUM_SPOT_LIGHTS > 0\\\\n\\\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\\\n\\\\t\\\\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\\\\n\\\\t\\\\tdotNL = dot( geometry.normal, directLight.direction );\\\\n\\\\t\\\\tdirectLightColor_Diffuse = PI * directLight.color;\\\\n\\\\t\\\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\\\n\\\\t\\\\t#ifdef DOUBLE_SIDED\\\\n\\\\t\\\\t\\\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\\\n\\\\t\\\\t#endif\\\\n\\\\t}\\\\n#endif\\\\n#if NUM_DIR_LIGHTS > 0\\\\n\\\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\\\n\\\\t\\\\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\\\\n\\\\t\\\\tdotNL = dot( geometry.normal, directLight.direction );\\\\n\\\\t\\\\tdirectLightColor_Diffuse = PI * directLight.color;\\\\n\\\\t\\\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\\\n\\\\t\\\\t#ifdef DOUBLE_SIDED\\\\n\\\\t\\\\t\\\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\\\n\\\\t\\\\t#endif\\\\n\\\\t}\\\\n#endif\\\\n#if NUM_HEMI_LIGHTS > 0\\\\n\\\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\\\n\\\\t\\\\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\\\n\\\\t\\\\t#ifdef DOUBLE_SIDED\\\\n\\\\t\\\\t\\\\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\\\\n\\\\t\\\\t#endif\\\\n\\\\t}\\\\n#endif\\\\n\\\",Ss=\\\"uniform vec3 ambientLightColor;\\\\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\\\\n\\\\tvec3 irradiance = ambientLightColor;\\\\n\\\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\\\n\\\\t\\\\tirradiance *= PI;\\\\n\\\\t#endif\\\\n\\\\treturn irradiance;\\\\n}\\\\n#if NUM_DIR_LIGHTS > 0\\\\n\\\\tstruct DirectionalLight {\\\\n\\\\t\\\\tvec3 direction;\\\\n\\\\t\\\\tvec3 color;\\\\n\\\\t\\\\tint shadow;\\\\n\\\\t\\\\tfloat shadowBias;\\\\n\\\\t\\\\tfloat shadowRadius;\\\\n\\\\t\\\\tvec2 shadowMapSize;\\\\n\\\\t};\\\\n\\\\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\\\\n\\\\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\\\n\\\\t\\\\tdirectLight.color = directionalLight.color;\\\\n\\\\t\\\\tdirectLight.direction = directionalLight.direction;\\\\n\\\\t\\\\tdirectLight.visible = true;\\\\n\\\\t}\\\\n#endif\\\\n#if NUM_POINT_LIGHTS > 0\\\\n\\\\tstruct PointLight {\\\\n\\\\t\\\\tvec3 position;\\\\n\\\\t\\\\tvec3 color;\\\\n\\\\t\\\\tfloat distance;\\\\n\\\\t\\\\tfloat decay;\\\\n\\\\t\\\\tint shadow;\\\\n\\\\t\\\\tfloat shadowBias;\\\\n\\\\t\\\\tfloat shadowRadius;\\\\n\\\\t\\\\tvec2 shadowMapSize;\\\\n\\\\t};\\\\n\\\\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\\\\n\\\\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\\\n\\\\t\\\\tvec3 lVector = pointLight.position - geometry.position;\\\\n\\\\t\\\\tdirectLight.direction = normalize( lVector );\\\\n\\\\t\\\\tfloat lightDistance = length( lVector );\\\\n\\\\t\\\\tif ( testLightInRange( lightDistance, pointLight.distance ) ) {\\\\n\\\\t\\\\t\\\\tdirectLight.color = pointLight.color;\\\\n\\\\t\\\\t\\\\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\\\\n\\\\t\\\\t\\\\tdirectLight.visible = true;\\\\n\\\\t\\\\t} else {\\\\n\\\\t\\\\t\\\\tdirectLight.color = vec3( 0.0 );\\\\n\\\\t\\\\t\\\\tdirectLight.visible = false;\\\\n\\\\t\\\\t}\\\\n\\\\t}\\\\n#endif\\\\n#if NUM_SPOT_LIGHTS > 0\\\\n\\\\tstruct SpotLight {\\\\n\\\\t\\\\tvec3 position;\\\\n\\\\t\\\\tvec3 direction;\\\\n\\\\t\\\\tvec3 color;\\\\n\\\\t\\\\tfloat distance;\\\\n\\\\t\\\\tfloat decay;\\\\n\\\\t\\\\tfloat coneCos;\\\\n\\\\t\\\\tfloat penumbraCos;\\\\n\\\\t\\\\tint shadow;\\\\n\\\\t\\\\tfloat shadowBias;\\\\n\\\\t\\\\tfloat shadowRadius;\\\\n\\\\t\\\\tvec2 shadowMapSize;\\\\n\\\\t};\\\\n\\\\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\\\\n\\\\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\\\\n\\\\t\\\\tvec3 lVector = spotLight.position - geometry.position;\\\\n\\\\t\\\\tdirectLight.direction = normalize( lVector );\\\\n\\\\t\\\\tfloat lightDistance = length( lVector );\\\\n\\\\t\\\\tfloat angleCos = dot( directLight.direction, spotLight.direction );\\\\n\\\\t\\\\tif ( all( bvec2( angleCos > spotLight.coneCos, testLightInRange( lightDistance, spotLight.distance ) ) ) ) {\\\\n\\\\t\\\\t\\\\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\\\\n\\\\t\\\\t\\\\tdirectLight.color = spotLight.color;\\\\n\\\\t\\\\t\\\\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\\\\n\\\\t\\\\t\\\\tdirectLight.visible = true;\\\\n\\\\t\\\\t} else {\\\\n\\\\t\\\\t\\\\tdirectLight.color = vec3( 0.0 );\\\\n\\\\t\\\\t\\\\tdirectLight.visible = false;\\\\n\\\\t\\\\t}\\\\n\\\\t}\\\\n#endif\\\\n#if NUM_HEMI_LIGHTS > 0\\\\n\\\\tstruct HemisphereLight {\\\\n\\\\t\\\\tvec3 direction;\\\\n\\\\t\\\\tvec3 skyColor;\\\\n\\\\t\\\\tvec3 groundColor;\\\\n\\\\t};\\\\n\\\\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\\\\n\\\\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\\\\n\\\\t\\\\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\\\\n\\\\t\\\\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\\\\n\\\\t\\\\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\\\\n\\\\t\\\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\\\n\\\\t\\\\t\\\\tirradiance *= PI;\\\\n\\\\t\\\\t#endif\\\\n\\\\t\\\\treturn irradiance;\\\\n\\\\t}\\\\n#endif\\\\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\\\\n\\\\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\\\\n\\\\t\\\\t#include <normal_flip>\\\\n\\\\t\\\\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\\\n\\\\t\\\\t#ifdef ENVMAP_TYPE_CUBE\\\\n\\\\t\\\\t\\\\tvec3 queryVec = flipNormal * vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\\\\n\\\\t\\\\t\\\\t#ifdef TEXTURE_LOD_EXT\\\\n\\\\t\\\\t\\\\t\\\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\\\\n\\\\t\\\\t\\\\t#else\\\\n\\\\t\\\\t\\\\t\\\\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\\\\n\\\\t\\\\t\\\\t#endif\\\\n\\\\t\\\\t\\\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\\\n\\\\t\\\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\\\n\\\\t\\\\t\\\\tvec3 queryVec = flipNormal * vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\\\\n\\\\t\\\\t\\\\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\\\\n\\\\t\\\\t#else\\\\n\\\\t\\\\t\\\\tvec4 envMapColor = vec4( 0.0 );\\\\n\\\\t\\\\t#endif\\\\n\\\\t\\\\treturn PI * envMapColor.rgb * envMapIntensity;\\\\n\\\\t}\\\\n\\\\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\\\\n\\\\t\\\\tfloat maxMIPLevelScalar = float( maxMIPLevel );\\\\n\\\\t\\\\tfloat desiredMIPLevel = maxMIPLevelScalar - 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\\\\n\\\\t\\\\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\\\\n\\\\t}\\\\n\\\\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\\\\n\\\\t\\\\t#ifdef ENVMAP_MODE_REFLECTION\\\\n\\\\t\\\\t\\\\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\\\\n\\\\t\\\\t#else\\\\n\\\\t\\\\t\\\\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\\\\n\\\\t\\\\t#endif\\\\n\\\\t\\\\t#include <normal_flip>\\\\n\\\\t\\\\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\\\\n\\\\t\\\\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\\\\n\\\\t\\\\t#ifdef ENVMAP_TYPE_CUBE\\\\n\\\\t\\\\t\\\\tvec3 queryReflectVec = flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\\\\n\\\\t\\\\t\\\\t#ifdef TEXTURE_LOD_EXT\\\\n\\\\t\\\\t\\\\t\\\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\\\\n\\\\t\\\\t\\\\t#else\\\\n\\\\t\\\\t\\\\t\\\\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\\\\n\\\\t\\\\t\\\\t#endif\\\\n\\\\t\\\\t\\\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\\\n\\\\t\\\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\\\n\\\\t\\\\t\\\\tvec3 queryReflectVec = flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\\\\n\\\\t\\\\t\\\\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\\\\n\\\\t\\\\t#elif defined( ENVMAP_TYPE_EQUIREC )\\\\n\\\\t\\\\t\\\\tvec2 sampleUV;\\\\n\\\\t\\\\t\\\\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\\\\n\\\\t\\\\t\\\\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\\\\n\\\\t\\\\t\\\\t#ifdef TEXTURE_LOD_EXT\\\\n\\\\t\\\\t\\\\t\\\\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\\\\n\\\\t\\\\t\\\\t#else\\\\n\\\\t\\\\t\\\\t\\\\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\\\\n\\\\t\\\\t\\\\t#endif\\\\n\\\\t\\\\t\\\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\\\n\\\\t\\\\t#elif defined( ENVMAP_TYPE_SPHERE )\\\\n\\\\t\\\\t\\\\tvec3 reflectView = flipNormal * normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\\\\n\\\\t\\\\t\\\\t#ifdef TEXTURE_LOD_EXT\\\\n\\\\t\\\\t\\\\t\\\\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\\\\n\\\\t\\\\t\\\\t#else\\\\n\\\\t\\\\t\\\\t\\\\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\\\\n\\\\t\\\\t\\\\t#endif\\\\n\\\\t\\\\t\\\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\\\n\\\\t\\\\t#endif\\\\n\\\\t\\\\treturn envMapColor.rgb * envMapIntensity;\\\\n\\\\t}\\\\n#endif\\\\n\\\",As=\\\"BlinnPhongMaterial material;\\\\nmaterial.diffuseColor = diffuseColor.rgb;\\\\nmaterial.specularColor = specular;\\\\nmaterial.specularShininess = shininess;\\\\nmaterial.specularStrength = specularStrength;\\\\n\\\",Ls=\\\"varying vec3 vViewPosition;\\\\n#ifndef FLAT_SHADED\\\\n\\\\tvarying vec3 vNormal;\\\\n#endif\\\\nstruct BlinnPhongMaterial {\\\\n\\\\tvec3\\\\tdiffuseColor;\\\\n\\\\tvec3\\\\tspecularColor;\\\\n\\\\tfloat\\\\tspecularShininess;\\\\n\\\\tfloat\\\\tspecularStrength;\\\\n};\\\\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\\\n\\\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\\\n\\\\tvec3 irradiance = dotNL * directLight.color;\\\\n\\\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\\\n\\\\t\\\\tirradiance *= PI;\\\\n\\\\t#endif\\\\n\\\\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\\\n\\\\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\\\\n}\\\\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\\\n\\\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\\\n}\\\\n#define RE_Direct\\\\t\\\\t\\\\t\\\\tRE_Direct_BlinnPhong\\\\n#define RE_IndirectDiffuse\\\\t\\\\tRE_IndirectDiffuse_BlinnPhong\\\\n#define Material_LightProbeLOD( material )\\\\t(0)\\\\n\\\",Rs=\\\"PhysicalMaterial material;\\\\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\\\\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\\\\n#ifdef STANDARD\\\\n\\\\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\\\\n#else\\\\n\\\\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\\\\n\\\\tmaterial.clearCoat = saturate( clearCoat );\\\\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\\\\n#endif\\\\n\\\",Ps=\\\"struct PhysicalMaterial {\\\\n\\\\tvec3\\\\tdiffuseColor;\\\\n\\\\tfloat\\\\tspecularRoughness;\\\\n\\\\tvec3\\\\tspecularColor;\\\\n\\\\t#ifndef STANDARD\\\\n\\\\t\\\\tfloat clearCoat;\\\\n\\\\t\\\\tfloat clearCoatRoughness;\\\\n\\\\t#endif\\\\n};\\\\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\\\\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\\\\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\\\\n\\\\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\\\\n}\\\\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\\\n\\\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\\\n\\\\tvec3 irradiance = dotNL * directLight.color;\\\\n\\\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\\\n\\\\t\\\\tirradiance *= PI;\\\\n\\\\t#endif\\\\n\\\\t#ifndef STANDARD\\\\n\\\\t\\\\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\\\\n\\\\t#else\\\\n\\\\t\\\\tfloat clearCoatDHR = 0.0;\\\\n\\\\t#endif\\\\n\\\\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\\\\n\\\\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\\\n\\\\t#ifndef STANDARD\\\\n\\\\t\\\\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\\\\n\\\\t#endif\\\\n}\\\\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\\\n\\\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\\\n}\\\\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\\\n\\\\t#ifndef STANDARD\\\\n\\\\t\\\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\\\n\\\\t\\\\tfloat dotNL = dotNV;\\\\n\\\\t\\\\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\\\\n\\\\t#else\\\\n\\\\t\\\\tfloat clearCoatDHR = 0.0;\\\\n\\\\t#endif\\\\n\\\\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\\\\n\\\\t#ifndef STANDARD\\\\n\\\\t\\\\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\\\\n\\\\t#endif\\\\n}\\\\n#define RE_Direct\\\\t\\\\t\\\\t\\\\tRE_Direct_Physical\\\\n#define RE_IndirectDiffuse\\\\t\\\\tRE_IndirectDiffuse_Physical\\\\n#define RE_IndirectSpecular\\\\t\\\\tRE_IndirectSpecular_Physical\\\\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\\\\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\\\\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\\\\n\\\\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\\\\n}\\\\n\\\",Cs=\\\"\\\\nGeometricContext geometry;\\\\ngeometry.position = - vViewPosition;\\\\ngeometry.normal = normal;\\\\ngeometry.viewDir = normalize( vViewPosition );\\\\nIncidentLight directLight;\\\\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\\\\n\\\\tPointLight pointLight;\\\\n\\\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\\\n\\\\t\\\\tpointLight = pointLights[ i ];\\\\n\\\\t\\\\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\\\\n\\\\t\\\\t#ifdef USE_SHADOWMAP\\\\n\\\\t\\\\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\\\\n\\\\t\\\\t#endif\\\\n\\\\t\\\\tRE_Direct( directLight, geometry, material, reflectedLight );\\\\n\\\\t}\\\\n#endif\\\\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\\\\n\\\\tSpotLight spotLight;\\\\n\\\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\\\n\\\\t\\\\tspotLight = spotLights[ i ];\\\\n\\\\t\\\\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\\\\n\\\\t\\\\t#ifdef USE_SHADOWMAP\\\\n\\\\t\\\\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\\\n\\\\t\\\\t#endif\\\\n\\\\t\\\\tRE_Direct( directLight, geometry, material, reflectedLight );\\\\n\\\\t}\\\\n#endif\\\\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\\\\n\\\\tDirectionalLight directionalLight;\\\\n\\\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\\\n\\\\t\\\\tdirectionalLight = directionalLights[ i ];\\\\n\\\\t\\\\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\\\\n\\\\t\\\\t#ifdef USE_SHADOWMAP\\\\n\\\\t\\\\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\\\n\\\\t\\\\t#endif\\\\n\\\\t\\\\tRE_Direct( directLight, geometry, material, reflectedLight );\\\\n\\\\t}\\\\n#endif\\\\n#if defined( RE_IndirectDiffuse )\\\\n\\\\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\\\\n\\\\t#ifdef USE_LIGHTMAP\\\\n\\\\t\\\\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\\\\n\\\\t\\\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\\\n\\\\t\\\\t\\\\tlightMapIrradiance *= PI;\\\\n\\\\t\\\\t#endif\\\\n\\\\t\\\\tirradiance += lightMapIrradiance;\\\\n\\\\t#endif\\\\n\\\\t#if ( NUM_HEMI_LIGHTS > 0 )\\\\n\\\\t\\\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\\\n\\\\t\\\\t\\\\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\\\n\\\\t\\\\t}\\\\n\\\\t#endif\\\\n\\\\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\\\\n\\\\t \\\\tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\\\\n\\\\t#endif\\\\n\\\\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\\\\n#endif\\\\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\\\\n\\\\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\\\\n\\\\t#ifndef STANDARD\\\\n\\\\t\\\\tvec3 clearCoatRadiance = getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), 8 );\\\\n\\\\t#else\\\\n\\\\t\\\\tvec3 clearCoatRadiance = vec3( 0.0 );\\\\n\\\\t#endif\\\\n\\\\t\\\\t\\\\n\\\\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\\\\n#endif\\\\n\\\",Is=\\\"#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\\\\n\\\\tgl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\\\\n#endif\\\",Us=\\\"#ifdef USE_LOGDEPTHBUF\\\\n\\\\tuniform float logDepthBufFC;\\\\n\\\\t#ifdef USE_LOGDEPTHBUF_EXT\\\\n\\\\t\\\\tvarying float vFragDepth;\\\\n\\\\t#endif\\\\n#endif\\\\n\\\",Ns=\\\"#ifdef USE_LOGDEPTHBUF\\\\n\\\\t#ifdef USE_LOGDEPTHBUF_EXT\\\\n\\\\t\\\\tvarying float vFragDepth;\\\\n\\\\t#endif\\\\n\\\\tuniform float logDepthBufFC;\\\\n#endif\\\",Ds=\\\"#ifdef USE_LOGDEPTHBUF\\\\n\\\\tgl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\\\\n\\\\t#ifdef USE_LOGDEPTHBUF_EXT\\\\n\\\\t\\\\tvFragDepth = 1.0 + gl_Position.w;\\\\n\\\\t#else\\\\n\\\\t\\\\tgl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\\\\n\\\\t#endif\\\\n#endif\\\\n\\\",Os=\\\"#ifdef USE_MAP\\\\n\\\\tvec4 texelColor = texture2D( map, vUv );\\\\n\\\\ttexelColor = mapTexelToLinear( texelColor );\\\\n\\\\tdiffuseColor *= texelColor;\\\\n#endif\\\\n\\\",Fs=\\\"#ifdef USE_MAP\\\\n\\\\tuniform sampler2D map;\\\\n#endif\\\\n\\\",Bs=\\\"#ifdef USE_MAP\\\\n\\\\tvec4 mapTexel = texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\\\\n\\\\tdiffuseColor *= mapTexelToLinear( mapTexel );\\\\n#endif\\\\n\\\",zs=\\\"#ifdef USE_MAP\\\\n\\\\tuniform vec4 offsetRepeat;\\\\n\\\\tuniform sampler2D map;\\\\n#endif\\\\n\\\",Gs=\\\"float metalnessFactor = metalness;\\\\n#ifdef USE_METALNESSMAP\\\\n\\\\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\\\\n\\\\tmetalnessFactor *= texelMetalness.r;\\\\n#endif\\\\n\\\",Hs=\\\"#ifdef USE_METALNESSMAP\\\\n\\\\tuniform sampler2D metalnessMap;\\\\n#endif\\\",Vs=\\\"#ifdef USE_MORPHNORMALS\\\\n\\\\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\\\\n\\\\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\\\\n\\\\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\\\\n\\\\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\\\\n#endif\\\\n\\\",ks=\\\"#ifdef USE_MORPHTARGETS\\\\n\\\\t#ifndef USE_MORPHNORMALS\\\\n\\\\tuniform float morphTargetInfluences[ 8 ];\\\\n\\\\t#else\\\\n\\\\tuniform float morphTargetInfluences[ 4 ];\\\\n\\\\t#endif\\\\n#endif\\\",js=\\\"#ifdef USE_MORPHTARGETS\\\\n\\\\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\\\\n\\\\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\\\\n\\\\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\\\\n\\\\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\\\\n\\\\t#ifndef USE_MORPHNORMALS\\\\n\\\\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\\\\n\\\\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\\\\n\\\\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\\\\n\\\\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\\\\n\\\\t#endif\\\\n#endif\\\\n\\\",Ws=\\\"#ifdef DOUBLE_SIDED\\\\n\\\\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\\\n#else\\\\n\\\\tfloat flipNormal = 1.0;\\\\n#endif\\\\n\\\",Xs=\\\"#ifdef FLAT_SHADED\\\\n\\\\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\\\\n\\\\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\\\\n\\\\tvec3 normal = normalize( cross( fdx, fdy ) );\\\\n#else\\\\n\\\\tvec3 normal = normalize( vNormal ) * flipNormal;\\\\n#endif\\\\n#ifdef USE_NORMALMAP\\\\n\\\\tnormal = perturbNormal2Arb( -vViewPosition, normal );\\\\n#elif defined( USE_BUMPMAP )\\\\n\\\\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\\\\n#endif\\\\n\\\",Ys=\\\"#ifdef USE_NORMALMAP\\\\n\\\\tuniform sampler2D normalMap;\\\\n\\\\tuniform vec2 normalScale;\\\\n\\\\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\\\\n\\\\t\\\\tvec3 q0 = dFdx( eye_pos.xyz );\\\\n\\\\t\\\\tvec3 q1 = dFdy( eye_pos.xyz );\\\\n\\\\t\\\\tvec2 st0 = dFdx( vUv.st );\\\\n\\\\t\\\\tvec2 st1 = dFdy( vUv.st );\\\\n\\\\t\\\\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\\\\n\\\\t\\\\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\\\\n\\\\t\\\\tvec3 N = normalize( surf_norm );\\\\n\\\\t\\\\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\\\n\\\\t\\\\tmapN.xy = normalScale * mapN.xy;\\\\n\\\\t\\\\tmat3 tsn = mat3( S, T, N );\\\\n\\\\t\\\\treturn normalize( tsn * mapN );\\\\n\\\\t}\\\\n#endif\\\\n\\\",qs=\\\"vec3 packNormalToRGB( const in vec3 normal ) {\\\\n  return normalize( normal ) * 0.5 + 0.5;\\\\n}\\\\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\\\\n  return 1.0 - 2.0 * rgb.xyz;\\\\n}\\\\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\\\\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\\\\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\\\\nconst float ShiftRight8 = 1. / 256.;\\\\nvec4 packDepthToRGBA( const in float v ) {\\\\n\\\\tvec4 r = vec4( fract( v * PackFactors ), v );\\\\n\\\\tr.yzw -= r.xyz * ShiftRight8;\\\\treturn r * PackUpscale;\\\\n}\\\\nfloat unpackRGBAToDepth( const in vec4 v ) {\\\\n\\\\treturn dot( v, UnpackFactors );\\\\n}\\\\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\\\\n  return ( viewZ + near ) / ( near - far );\\\\n}\\\\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\\\\n  return linearClipZ * ( near - far ) - near;\\\\n}\\\\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\\\\n  return (( near + viewZ ) * far ) / (( far - near ) * viewZ );\\\\n}\\\\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\\\\n  return ( near * far ) / ( ( far - near ) * invClipZ - far );\\\\n}\\\\n\\\",Zs=\\\"#ifdef PREMULTIPLIED_ALPHA\\\\n\\\\tgl_FragColor.rgb *= gl_FragColor.a;\\\\n#endif\\\\n\\\",Js=\\\"#ifdef USE_SKINNING\\\\n\\\\tvec4 mvPosition = modelViewMatrix * skinned;\\\\n#else\\\\n\\\\tvec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\\\\n#endif\\\\ngl_Position = projectionMatrix * mvPosition;\\\\n\\\",Qs=\\\"float roughnessFactor = roughness;\\\\n#ifdef USE_ROUGHNESSMAP\\\\n\\\\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\\\\n\\\\troughnessFactor *= texelRoughness.r;\\\\n#endif\\\\n\\\",Ks=\\\"#ifdef USE_ROUGHNESSMAP\\\\n\\\\tuniform sampler2D roughnessMap;\\\\n#endif\\\",$s=\\\"#ifdef USE_SHADOWMAP\\\\n\\\\t#if NUM_DIR_LIGHTS > 0\\\\n\\\\t\\\\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\\\\n\\\\t\\\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\\\\n\\\\t#endif\\\\n\\\\t#if NUM_SPOT_LIGHTS > 0\\\\n\\\\t\\\\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\\\\n\\\\t\\\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\\\\n\\\\t#endif\\\\n\\\\t#if NUM_POINT_LIGHTS > 0\\\\n\\\\t\\\\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\\\\n\\\\t\\\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\\\\n\\\\t#endif\\\\n\\\\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\\\\n\\\\t\\\\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\\\\n\\\\t}\\\\n\\\\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\\\\n\\\\t\\\\tconst vec2 offset = vec2( 0.0, 1.0 );\\\\n\\\\t\\\\tvec2 texelSize = vec2( 1.0 ) / size;\\\\n\\\\t\\\\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\\\\n\\\\t\\\\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\\\\n\\\\t\\\\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\\\\n\\\\t\\\\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\\\\n\\\\t\\\\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\\\\n\\\\t\\\\tvec2 f = fract( uv * size + 0.5 );\\\\n\\\\t\\\\tfloat a = mix( lb, lt, f.y );\\\\n\\\\t\\\\tfloat b = mix( rb, rt, f.y );\\\\n\\\\t\\\\tfloat c = mix( a, b, f.x );\\\\n\\\\t\\\\treturn c;\\\\n\\\\t}\\\\n\\\\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\\\\n\\\\t\\\\tshadowCoord.xyz /= shadowCoord.w;\\\\n\\\\t\\\\tshadowCoord.z += shadowBias;\\\\n\\\\t\\\\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\\\\n\\\\t\\\\tbool inFrustum = all( inFrustumVec );\\\\n\\\\t\\\\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\\\\n\\\\t\\\\tbool frustumTest = all( frustumTestVec );\\\\n\\\\t\\\\tif ( frustumTest ) {\\\\n\\\\t\\\\t#if defined( SHADOWMAP_TYPE_PCF )\\\\n\\\\t\\\\t\\\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\\\n\\\\t\\\\t\\\\tfloat dx0 = - texelSize.x * shadowRadius;\\\\n\\\\t\\\\t\\\\tfloat dy0 = - texelSize.y * shadowRadius;\\\\n\\\\t\\\\t\\\\tfloat dx1 = + texelSize.x * shadowRadius;\\\\n\\\\t\\\\t\\\\tfloat dy1 = + texelSize.y * shadowRadius;\\\\n\\\\t\\\\t\\\\treturn (\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\\\n\\\\t\\\\t\\\\t) * ( 1.0 / 9.0 );\\\\n\\\\t\\\\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\\\\n\\\\t\\\\t\\\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\\\n\\\\t\\\\t\\\\tfloat dx0 = - texelSize.x * shadowRadius;\\\\n\\\\t\\\\t\\\\tfloat dy0 = - texelSize.y * shadowRadius;\\\\n\\\\t\\\\t\\\\tfloat dx1 = + texelSize.x * shadowRadius;\\\\n\\\\t\\\\t\\\\tfloat dy1 = + texelSize.y * shadowRadius;\\\\n\\\\t\\\\t\\\\treturn (\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\\\n\\\\t\\\\t\\\\t) * ( 1.0 / 9.0 );\\\\n\\\\t\\\\t#else\\\\n\\\\t\\\\t\\\\treturn texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\\\\n\\\\t\\\\t#endif\\\\n\\\\t\\\\t}\\\\n\\\\t\\\\treturn 1.0;\\\\n\\\\t}\\\\n\\\\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\\\\n\\\\t\\\\tvec3 absV = abs( v );\\\\n\\\\t\\\\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\\\\n\\\\t\\\\tabsV *= scaleToCube;\\\\n\\\\t\\\\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\\\\n\\\\t\\\\tvec2 planar = v.xy;\\\\n\\\\t\\\\tfloat almostATexel = 1.5 * texelSizeY;\\\\n\\\\t\\\\tfloat almostOne = 1.0 - almostATexel;\\\\n\\\\t\\\\tif ( absV.z >= almostOne ) {\\\\n\\\\t\\\\t\\\\tif ( v.z > 0.0 )\\\\n\\\\t\\\\t\\\\t\\\\tplanar.x = 4.0 - v.x;\\\\n\\\\t\\\\t} else if ( absV.x >= almostOne ) {\\\\n\\\\t\\\\t\\\\tfloat signX = sign( v.x );\\\\n\\\\t\\\\t\\\\tplanar.x = v.z * signX + 2.0 * signX;\\\\n\\\\t\\\\t} else if ( absV.y >= almostOne ) {\\\\n\\\\t\\\\t\\\\tfloat signY = sign( v.y );\\\\n\\\\t\\\\t\\\\tplanar.x = v.x + 2.0 * signY + 2.0;\\\\n\\\\t\\\\t\\\\tplanar.y = v.z * signY - 2.0;\\\\n\\\\t\\\\t}\\\\n\\\\t\\\\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\\\\n\\\\t}\\\\n\\\\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\\\\n\\\\t\\\\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\\\\n\\\\t\\\\tvec3 lightToPosition = shadowCoord.xyz;\\\\n\\\\t\\\\tvec3 bd3D = normalize( lightToPosition );\\\\n\\\\t\\\\tfloat dp = ( length( lightToPosition ) - shadowBias ) / 1000.0;\\\\n\\\\t\\\\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\\\\n\\\\t\\\\t\\\\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\\\\n\\\\t\\\\t\\\\treturn (\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\\\\n\\\\t\\\\t\\\\t) * ( 1.0 / 9.0 );\\\\n\\\\t\\\\t#else\\\\n\\\\t\\\\t\\\\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\\\\n\\\\t\\\\t#endif\\\\n\\\\t}\\\\n#endif\\\\n\\\",tc=\\\"#ifdef USE_SHADOWMAP\\\\n\\\\t#if NUM_DIR_LIGHTS > 0\\\\n\\\\t\\\\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\\\\n\\\\t\\\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\\\\n\\\\t#endif\\\\n\\\\t#if NUM_SPOT_LIGHTS > 0\\\\n\\\\t\\\\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\\\\n\\\\t\\\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\\\\n\\\\t#endif\\\\n\\\\t#if NUM_POINT_LIGHTS > 0\\\\n\\\\t\\\\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\\\\n\\\\t\\\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\\\\n\\\\t#endif\\\\n#endif\\\\n\\\",ec=\\\"#ifdef USE_SHADOWMAP\\\\n\\\\t#if NUM_DIR_LIGHTS > 0\\\\n\\\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\\\n\\\\t\\\\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\\\\n\\\\t}\\\\n\\\\t#endif\\\\n\\\\t#if NUM_SPOT_LIGHTS > 0\\\\n\\\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\\\n\\\\t\\\\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\\\\n\\\\t}\\\\n\\\\t#endif\\\\n\\\\t#if NUM_POINT_LIGHTS > 0\\\\n\\\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\\\n\\\\t\\\\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\\\\n\\\\t}\\\\n\\\\t#endif\\\\n#endif\\\\n\\\",ic=\\\"float getShadowMask() {\\\\n\\\\tfloat shadow = 1.0;\\\\n\\\\t#ifdef USE_SHADOWMAP\\\\n\\\\t#if NUM_DIR_LIGHTS > 0\\\\n\\\\tDirectionalLight directionalLight;\\\\n\\\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\\\n\\\\t\\\\tdirectionalLight = directionalLights[ i ];\\\\n\\\\t\\\\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\\\n\\\\t}\\\\n\\\\t#endif\\\\n\\\\t#if NUM_SPOT_LIGHTS > 0\\\\n\\\\tSpotLight spotLight;\\\\n\\\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\\\n\\\\t\\\\tspotLight = spotLights[ i ];\\\\n\\\\t\\\\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\\\n\\\\t}\\\\n\\\\t#endif\\\\n\\\\t#if NUM_POINT_LIGHTS > 0\\\\n\\\\tPointLight pointLight;\\\\n\\\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\\\n\\\\t\\\\tpointLight = pointLights[ i ];\\\\n\\\\t\\\\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\\\\n\\\\t}\\\\n\\\\t#endif\\\\n\\\\t#endif\\\\n\\\\treturn shadow;\\\\n}\\\\n\\\",nc=\\\"#ifdef USE_SKINNING\\\\n\\\\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\\\\n\\\\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\\\\n\\\\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\\\\n\\\\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\\\\n#endif\\\",rc=\\\"#ifdef USE_SKINNING\\\\n\\\\tuniform mat4 bindMatrix;\\\\n\\\\tuniform mat4 bindMatrixInverse;\\\\n\\\\t#ifdef BONE_TEXTURE\\\\n\\\\t\\\\tuniform sampler2D boneTexture;\\\\n\\\\t\\\\tuniform int boneTextureWidth;\\\\n\\\\t\\\\tuniform int boneTextureHeight;\\\\n\\\\t\\\\tmat4 getBoneMatrix( const in float i ) {\\\\n\\\\t\\\\t\\\\tfloat j = i * 4.0;\\\\n\\\\t\\\\t\\\\tfloat x = mod( j, float( boneTextureWidth ) );\\\\n\\\\t\\\\t\\\\tfloat y = floor( j / float( boneTextureWidth ) );\\\\n\\\\t\\\\t\\\\tfloat dx = 1.0 / float( boneTextureWidth );\\\\n\\\\t\\\\t\\\\tfloat dy = 1.0 / float( boneTextureHeight );\\\\n\\\\t\\\\t\\\\ty = dy * ( y + 0.5 );\\\\n\\\\t\\\\t\\\\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\\\\n\\\\t\\\\t\\\\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\\\\n\\\\t\\\\t\\\\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\\\\n\\\\t\\\\t\\\\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\\\\n\\\\t\\\\t\\\\tmat4 bone = mat4( v1, v2, v3, v4 );\\\\n\\\\t\\\\t\\\\treturn bone;\\\\n\\\\t\\\\t}\\\\n\\\\t#else\\\\n\\\\t\\\\tuniform mat4 boneMatrices[ MAX_BONES ];\\\\n\\\\t\\\\tmat4 getBoneMatrix( const in float i ) {\\\\n\\\\t\\\\t\\\\tmat4 bone = boneMatrices[ int(i) ];\\\\n\\\\t\\\\t\\\\treturn bone;\\\\n\\\\t\\\\t}\\\\n\\\\t#endif\\\\n#endif\\\\n\\\",ac=\\\"#ifdef USE_SKINNING\\\\n\\\\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\\\\n\\\\tvec4 skinned = vec4( 0.0 );\\\\n\\\\tskinned += boneMatX * skinVertex * skinWeight.x;\\\\n\\\\tskinned += boneMatY * skinVertex * skinWeight.y;\\\\n\\\\tskinned += boneMatZ * skinVertex * skinWeight.z;\\\\n\\\\tskinned += boneMatW * skinVertex * skinWeight.w;\\\\n\\\\tskinned  = bindMatrixInverse * skinned;\\\\n#endif\\\\n\\\",oc=\\\"#ifdef USE_SKINNING\\\\n\\\\tmat4 skinMatrix = mat4( 0.0 );\\\\n\\\\tskinMatrix += skinWeight.x * boneMatX;\\\\n\\\\tskinMatrix += skinWeight.y * boneMatY;\\\\n\\\\tskinMatrix += skinWeight.z * boneMatZ;\\\\n\\\\tskinMatrix += skinWeight.w * boneMatW;\\\\n\\\\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\\\\n\\\\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\\\\n#endif\\\\n\\\",sc=\\\"float specularStrength;\\\\n#ifdef USE_SPECULARMAP\\\\n\\\\tvec4 texelSpecular = texture2D( specularMap, vUv );\\\\n\\\\tspecularStrength = texelSpecular.r;\\\\n#else\\\\n\\\\tspecularStrength = 1.0;\\\\n#endif\\\",cc=\\\"#ifdef USE_SPECULARMAP\\\\n\\\\tuniform sampler2D specularMap;\\\\n#endif\\\",hc=\\\"#if defined( TONE_MAPPING )\\\\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\\\\n#endif\\\\n\\\",lc=\\\"#define saturate(a) clamp( a, 0.0, 1.0 )\\\\nuniform float toneMappingExposure;\\\\nuniform float toneMappingWhitePoint;\\\\nvec3 LinearToneMapping( vec3 color ) {\\\\n  return toneMappingExposure * color;\\\\n}\\\\nvec3 ReinhardToneMapping( vec3 color ) {\\\\n  color *= toneMappingExposure;\\\\n  return saturate( color / ( vec3( 1.0 ) + color ) );\\\\n}\\\\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\\\\nvec3 Uncharted2ToneMapping( vec3 color ) {\\\\n  color *= toneMappingExposure;\\\\n  return saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\\\\n}\\\\nvec3 OptimizedCineonToneMapping( vec3 color ) {\\\\n  color *= toneMappingExposure;\\\\n  color = max( vec3( 0.0 ), color - 0.004 );\\\\n  return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\\\\n}\\\\n\\\",uc=\\\"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\\\\n\\\\tvarying vec2 vUv;\\\\n#endif\\\",pc=\\\"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\\\\n\\\\tvarying vec2 vUv;\\\\n\\\\tuniform vec4 offsetRepeat;\\\\n#endif\\\\n\\\",dc=\\\"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\\\\n\\\\tvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\\\\n#endif\\\",fc=\\\"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\\\n\\\\tvarying vec2 vUv2;\\\\n#endif\\\",mc=\\\"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\\\n\\\\tattribute vec2 uv2;\\\\n\\\\tvarying vec2 vUv2;\\\\n#endif\\\",vc=\\\"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\\\n\\\\tvUv2 = uv2;\\\\n#endif\\\",gc=\\\"#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( PHYSICAL ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\\\\n\\\\t#ifdef USE_SKINNING\\\\n\\\\t\\\\tvec4 worldPosition = modelMatrix * skinned;\\\\n\\\\t#else\\\\n\\\\t\\\\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\\\\n\\\\t#endif\\\\n#endif\\\\n\\\",yc=\\\"uniform samplerCube tCube;\\\\nuniform float tFlip;\\\\nuniform float opacity;\\\\nvarying vec3 vWorldPosition;\\\\n#include <common>\\\\nvoid main() {\\\\n\\\\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\\\\n\\\\tgl_FragColor.a *= opacity;\\\\n}\\\\n\\\",xc=\\\"varying vec3 vWorldPosition;\\\\n#include <common>\\\\nvoid main() {\\\\n\\\\tvWorldPosition = transformDirection( position, modelMatrix );\\\\n\\\\t#include <begin_vertex>\\\\n\\\\t#include <project_vertex>\\\\n}\\\\n\\\",_c=\\\"#if DEPTH_PACKING == 3200\\\\n\\\\tuniform float opacity;\\\\n#endif\\\\n#include <common>\\\\n#include <packing>\\\\n#include <uv_pars_fragment>\\\\n#include <map_pars_fragment>\\\\n#include <alphamap_pars_fragment>\\\\n#include <logdepthbuf_pars_fragment>\\\\n#include <clipping_planes_pars_fragment>\\\\nvoid main() {\\\\n\\\\t#include <clipping_planes_fragment>\\\\n\\\\tvec4 diffuseColor = vec4( 1.0 );\\\\n\\\\t#if DEPTH_PACKING == 3200\\\\n\\\\t\\\\tdiffuseColor.a = opacity;\\\\n\\\\t#endif\\\\n\\\\t#include <map_fragment>\\\\n\\\\t#include <alphamap_fragment>\\\\n\\\\t#include <alphatest_fragment>\\\\n\\\\t#include <logdepthbuf_fragment>\\\\n\\\\t#if DEPTH_PACKING == 3200\\\\n\\\\t\\\\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\\\\n\\\\t#elif DEPTH_PACKING == 3201\\\\n\\\\t\\\\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\\\\n\\\\t#endif\\\\n}\\\\n\\\",bc=\\\"#include <common>\\\\n#include <uv_pars_vertex>\\\\n#include <displacementmap_pars_vertex>\\\\n#include <morphtarget_pars_vertex>\\\\n#include <skinning_pars_vertex>\\\\n#include <logdepthbuf_pars_vertex>\\\\n#include <clipping_planes_pars_vertex>\\\\nvoid main() {\\\\n\\\\t#include <uv_vertex>\\\\n\\\\t#include <skinbase_vertex>\\\\n\\\\t#include <begin_vertex>\\\\n\\\\t#include <displacementmap_vertex>\\\\n\\\\t#include <morphtarget_vertex>\\\\n\\\\t#include <skinning_vertex>\\\\n\\\\t#include <project_vertex>\\\\n\\\\t#include <logdepthbuf_vertex>\\\\n\\\\t#include <clipping_planes_vertex>\\\\n}\\\\n\\\",wc=\\\"uniform vec3 lightPos;\\\\nvarying vec4 vWorldPosition;\\\\n#include <common>\\\\n#include <packing>\\\\n#include <clipping_planes_pars_fragment>\\\\nvoid main () {\\\\n\\\\t#include <clipping_planes_fragment>\\\\n\\\\tgl_FragColor = packDepthToRGBA( length( vWorldPosition.xyz - lightPos.xyz ) / 1000.0 );\\\\n}\\\\n\\\",Mc=\\\"varying vec4 vWorldPosition;\\\\n#include <common>\\\\n#include <morphtarget_pars_vertex>\\\\n#include <skinning_pars_vertex>\\\\n#include <clipping_planes_pars_vertex>\\\\nvoid main() {\\\\n\\\\t#include <skinbase_vertex>\\\\n\\\\t#include <begin_vertex>\\\\n\\\\t#include <morphtarget_vertex>\\\\n\\\\t#include <skinning_vertex>\\\\n\\\\t#include <project_vertex>\\\\n\\\\t#include <worldpos_vertex>\\\\n\\\\t#include <clipping_planes_vertex>\\\\n\\\\tvWorldPosition = worldPosition;\\\\n}\\\\n\\\",Ec=\\\"uniform sampler2D tEquirect;\\\\nuniform float tFlip;\\\\nvarying vec3 vWorldPosition;\\\\n#include <common>\\\\nvoid main() {\\\\n\\\\tvec3 direction = normalize( vWorldPosition );\\\\n\\\\tvec2 sampleUV;\\\\n\\\\tsampleUV.y = saturate( tFlip * direction.y * -0.5 + 0.5 );\\\\n\\\\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\\\\n\\\\tgl_FragColor = texture2D( tEquirect, sampleUV );\\\\n}\\\\n\\\",Tc=\\\"varying vec3 vWorldPosition;\\\\n#include <common>\\\\nvoid main() {\\\\n\\\\tvWorldPosition = transformDirection( position, modelMatrix );\\\\n\\\\t#include <begin_vertex>\\\\n\\\\t#include <project_vertex>\\\\n}\\\\n\\\",Sc=\\\"uniform vec3 diffuse;\\\\nuniform float opacity;\\\\nuniform float dashSize;\\\\nuniform float totalSize;\\\\nvarying float vLineDistance;\\\\n#include <common>\\\\n#include <color_pars_fragment>\\\\n#include <fog_pars_fragment>\\\\n#include <logdepthbuf_pars_fragment>\\\\n#include <clipping_planes_pars_fragment>\\\\nvoid main() {\\\\n\\\\t#include <clipping_planes_fragment>\\\\n\\\\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\\\\n\\\\t\\\\tdiscard;\\\\n\\\\t}\\\\n\\\\tvec3 outgoingLight = vec3( 0.0 );\\\\n\\\\tvec4 diffuseColor = vec4( diffuse, opacity );\\\\n\\\\t#include <logdepthbuf_fragment>\\\\n\\\\t#include <color_fragment>\\\\n\\\\toutgoingLight = diffuseColor.rgb;\\\\n\\\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\\\n\\\\t#include <premultiplied_alpha_fragment>\\\\n\\\\t#include <tonemapping_fragment>\\\\n\\\\t#include <encodings_fragment>\\\\n\\\\t#include <fog_fragment>\\\\n}\\\\n\\\",Ac=\\\"uniform float scale;\\\\nattribute float lineDistance;\\\\nvarying float vLineDistance;\\\\n#include <common>\\\\n#include <color_pars_vertex>\\\\n#include <logdepthbuf_pars_vertex>\\\\n#include <clipping_planes_pars_vertex>\\\\nvoid main() {\\\\n\\\\t#include <color_vertex>\\\\n\\\\tvLineDistance = scale * lineDistance;\\\\n\\\\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\\\\n\\\\tgl_Position = projectionMatrix * mvPosition;\\\\n\\\\t#include <logdepthbuf_vertex>\\\\n\\\\t#include <clipping_planes_vertex>\\\\n}\\\\n\\\",Lc=\\\"uniform vec3 diffuse;\\\\nuniform float opacity;\\\\n#ifndef FLAT_SHADED\\\\n\\\\tvarying vec3 vNormal;\\\\n#endif\\\\n#include <common>\\\\n#include <color_pars_fragment>\\\\n#include <uv_pars_fragment>\\\\n#include <uv2_pars_fragment>\\\\n#include <map_pars_fragment>\\\\n#include <alphamap_pars_fragment>\\\\n#include <aomap_pars_fragment>\\\\n#include <envmap_pars_fragment>\\\\n#include <fog_pars_fragment>\\\\n#include <specularmap_pars_fragment>\\\\n#include <logdepthbuf_pars_fragment>\\\\n#include <clipping_planes_pars_fragment>\\\\nvoid main() {\\\\n\\\\t#include <clipping_planes_fragment>\\\\n\\\\tvec4 diffuseColor = vec4( diffuse, opacity );\\\\n\\\\t#include <logdepthbuf_fragment>\\\\n\\\\t#include <map_fragment>\\\\n\\\\t#include <color_fragment>\\\\n\\\\t#include <alphamap_fragment>\\\\n\\\\t#include <alphatest_fragment>\\\\n\\\\t#include <specularmap_fragment>\\\\n\\\\tReflectedLight reflectedLight;\\\\n\\\\treflectedLight.directDiffuse = vec3( 0.0 );\\\\n\\\\treflectedLight.directSpecular = vec3( 0.0 );\\\\n\\\\treflectedLight.indirectDiffuse = diffuseColor.rgb;\\\\n\\\\treflectedLight.indirectSpecular = vec3( 0.0 );\\\\n\\\\t#include <aomap_fragment>\\\\n\\\\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\\\\n\\\\t#include <normal_flip>\\\\n\\\\t#include <envmap_fragment>\\\\n\\\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\\\n\\\\t#include <premultiplied_alpha_fragment>\\\\n\\\\t#include <tonemapping_fragment>\\\\n\\\\t#include <encodings_fragment>\\\\n\\\\t#include <fog_fragment>\\\\n}\\\\n\\\",Rc=\\\"#include <common>\\\\n#include <uv_pars_vertex>\\\\n#include <uv2_pars_vertex>\\\\n#include <envmap_pars_vertex>\\\\n#include <color_pars_vertex>\\\\n#include <morphtarget_pars_vertex>\\\\n#include <skinning_pars_vertex>\\\\n#include <logdepthbuf_pars_vertex>\\\\n#include <clipping_planes_pars_vertex>\\\\nvoid main() {\\\\n\\\\t#include <uv_vertex>\\\\n\\\\t#include <uv2_vertex>\\\\n\\\\t#include <color_vertex>\\\\n\\\\t#include <skinbase_vertex>\\\\n\\\\t#ifdef USE_ENVMAP\\\\n\\\\t#include <beginnormal_vertex>\\\\n\\\\t#include <morphnormal_vertex>\\\\n\\\\t#include <skinnormal_vertex>\\\\n\\\\t#include <defaultnormal_vertex>\\\\n\\\\t#endif\\\\n\\\\t#include <begin_vertex>\\\\n\\\\t#include <morphtarget_vertex>\\\\n\\\\t#include <skinning_vertex>\\\\n\\\\t#include <project_vertex>\\\\n\\\\t#include <logdepthbuf_vertex>\\\\n\\\\t#include <worldpos_vertex>\\\\n\\\\t#include <clipping_planes_vertex>\\\\n\\\\t#include <envmap_vertex>\\\\n}\\\\n\\\",Pc=\\\"uniform vec3 diffuse;\\\\nuniform vec3 emissive;\\\\nuniform float opacity;\\\\nvarying vec3 vLightFront;\\\\n#ifdef DOUBLE_SIDED\\\\n\\\\tvarying vec3 vLightBack;\\\\n#endif\\\\n#include <common>\\\\n#include <packing>\\\\n#include <color_pars_fragment>\\\\n#include <uv_pars_fragment>\\\\n#include <uv2_pars_fragment>\\\\n#include <map_pars_fragment>\\\\n#include <alphamap_pars_fragment>\\\\n#include <aomap_pars_fragment>\\\\n#include <lightmap_pars_fragment>\\\\n#include <emissivemap_pars_fragment>\\\\n#include <envmap_pars_fragment>\\\\n#include <bsdfs>\\\\n#include <lights_pars>\\\\n#include <fog_pars_fragment>\\\\n#include <shadowmap_pars_fragment>\\\\n#include <shadowmask_pars_fragment>\\\\n#include <specularmap_pars_fragment>\\\\n#include <logdepthbuf_pars_fragment>\\\\n#include <clipping_planes_pars_fragment>\\\\nvoid main() {\\\\n\\\\t#include <clipping_planes_fragment>\\\\n\\\\tvec4 diffuseColor = vec4( diffuse, opacity );\\\\n\\\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\\\n\\\\tvec3 totalEmissiveRadiance = emissive;\\\\n\\\\t#include <logdepthbuf_fragment>\\\\n\\\\t#include <map_fragment>\\\\n\\\\t#include <color_fragment>\\\\n\\\\t#include <alphamap_fragment>\\\\n\\\\t#include <alphatest_fragment>\\\\n\\\\t#include <specularmap_fragment>\\\\n\\\\t#include <emissivemap_fragment>\\\\n\\\\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\\\\n\\\\t#include <lightmap_fragment>\\\\n\\\\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\\\\n\\\\t#ifdef DOUBLE_SIDED\\\\n\\\\t\\\\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\\\\n\\\\t#else\\\\n\\\\t\\\\treflectedLight.directDiffuse = vLightFront;\\\\n\\\\t#endif\\\\n\\\\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\\\\n\\\\t#include <aomap_fragment>\\\\n\\\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\\\n\\\\t#include <normal_flip>\\\\n\\\\t#include <envmap_fragment>\\\\n\\\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\\\n\\\\t#include <premultiplied_alpha_fragment>\\\\n\\\\t#include <tonemapping_fragment>\\\\n\\\\t#include <encodings_fragment>\\\\n\\\\t#include <fog_fragment>\\\\n}\\\\n\\\",Cc=\\\"#define LAMBERT\\\\nvarying vec3 vLightFront;\\\\n#ifdef DOUBLE_SIDED\\\\n\\\\tvarying vec3 vLightBack;\\\\n#endif\\\\n#include <common>\\\\n#include <uv_pars_vertex>\\\\n#include <uv2_pars_vertex>\\\\n#include <envmap_pars_vertex>\\\\n#include <bsdfs>\\\\n#include <lights_pars>\\\\n#include <color_pars_vertex>\\\\n#include <morphtarget_pars_vertex>\\\\n#include <skinning_pars_vertex>\\\\n#include <shadowmap_pars_vertex>\\\\n#include <logdepthbuf_pars_vertex>\\\\n#include <clipping_planes_pars_vertex>\\\\nvoid main() {\\\\n\\\\t#include <uv_vertex>\\\\n\\\\t#include <uv2_vertex>\\\\n\\\\t#include <color_vertex>\\\\n\\\\t#include <beginnormal_vertex>\\\\n\\\\t#include <morphnormal_vertex>\\\\n\\\\t#include <skinbase_vertex>\\\\n\\\\t#include <skinnormal_vertex>\\\\n\\\\t#include <defaultnormal_vertex>\\\\n\\\\t#include <begin_vertex>\\\\n\\\\t#include <morphtarget_vertex>\\\\n\\\\t#include <skinning_vertex>\\\\n\\\\t#include <project_vertex>\\\\n\\\\t#include <logdepthbuf_vertex>\\\\n\\\\t#include <clipping_planes_vertex>\\\\n\\\\t#include <worldpos_vertex>\\\\n\\\\t#include <envmap_vertex>\\\\n\\\\t#include <lights_lambert_vertex>\\\\n\\\\t#include <shadowmap_vertex>\\\\n}\\\\n\\\",Ic=\\\"#define PHONG\\\\nuniform vec3 diffuse;\\\\nuniform vec3 emissive;\\\\nuniform vec3 specular;\\\\nuniform float shininess;\\\\nuniform float opacity;\\\\n#include <common>\\\\n#include <packing>\\\\n#include <color_pars_fragment>\\\\n#include <uv_pars_fragment>\\\\n#include <uv2_pars_fragment>\\\\n#include <map_pars_fragment>\\\\n#include <alphamap_pars_fragment>\\\\n#include <aomap_pars_fragment>\\\\n#include <lightmap_pars_fragment>\\\\n#include <emissivemap_pars_fragment>\\\\n#include <envmap_pars_fragment>\\\\n#include <fog_pars_fragment>\\\\n#include <bsdfs>\\\\n#include <lights_pars>\\\\n#include <lights_phong_pars_fragment>\\\\n#include <shadowmap_pars_fragment>\\\\n#include <bumpmap_pars_fragment>\\\\n#include <normalmap_pars_fragment>\\\\n#include <specularmap_pars_fragment>\\\\n#include <logdepthbuf_pars_fragment>\\\\n#include <clipping_planes_pars_fragment>\\\\nvoid main() {\\\\n\\\\t#include <clipping_planes_fragment>\\\\n\\\\tvec4 diffuseColor = vec4( diffuse, opacity );\\\\n\\\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\\\n\\\\tvec3 totalEmissiveRadiance = emissive;\\\\n\\\\t#include <logdepthbuf_fragment>\\\\n\\\\t#include <map_fragment>\\\\n\\\\t#include <color_fragment>\\\\n\\\\t#include <alphamap_fragment>\\\\n\\\\t#include <alphatest_fragment>\\\\n\\\\t#include <specularmap_fragment>\\\\n\\\\t#include <normal_flip>\\\\n\\\\t#include <normal_fragment>\\\\n\\\\t#include <emissivemap_fragment>\\\\n\\\\t#include <lights_phong_fragment>\\\\n\\\\t#include <lights_template>\\\\n\\\\t#include <aomap_fragment>\\\\n\\\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\\\n\\\\t#include <envmap_fragment>\\\\n\\\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\\\n\\\\t#include <premultiplied_alpha_fragment>\\\\n\\\\t#include <tonemapping_fragment>\\\\n\\\\t#include <encodings_fragment>\\\\n\\\\t#include <fog_fragment>\\\\n}\\\\n\\\",Uc=\\\"#define PHONG\\\\nvarying vec3 vViewPosition;\\\\n#ifndef FLAT_SHADED\\\\n\\\\tvarying vec3 vNormal;\\\\n#endif\\\\n#include <common>\\\\n#include <uv_pars_vertex>\\\\n#include <uv2_pars_vertex>\\\\n#include <displacementmap_pars_vertex>\\\\n#include <envmap_pars_vertex>\\\\n#include <color_pars_vertex>\\\\n#include <morphtarget_pars_vertex>\\\\n#include <skinning_pars_vertex>\\\\n#include <shadowmap_pars_vertex>\\\\n#include <logdepthbuf_pars_vertex>\\\\n#include <clipping_planes_pars_vertex>\\\\nvoid main() {\\\\n\\\\t#include <uv_vertex>\\\\n\\\\t#include <uv2_vertex>\\\\n\\\\t#include <color_vertex>\\\\n\\\\t#include <beginnormal_vertex>\\\\n\\\\t#include <morphnormal_vertex>\\\\n\\\\t#include <skinbase_vertex>\\\\n\\\\t#include <skinnormal_vertex>\\\\n\\\\t#include <defaultnormal_vertex>\\\\n#ifndef FLAT_SHADED\\\\n\\\\tvNormal = normalize( transformedNormal );\\\\n#endif\\\\n\\\\t#include <begin_vertex>\\\\n\\\\t#include <displacementmap_vertex>\\\\n\\\\t#include <morphtarget_vertex>\\\\n\\\\t#include <skinning_vertex>\\\\n\\\\t#include <project_vertex>\\\\n\\\\t#include <logdepthbuf_vertex>\\\\n\\\\t#include <clipping_planes_vertex>\\\\n\\\\tvViewPosition = - mvPosition.xyz;\\\\n\\\\t#include <worldpos_vertex>\\\\n\\\\t#include <envmap_vertex>\\\\n\\\\t#include <shadowmap_vertex>\\\\n}\\\\n\\\",Nc=\\\"#define PHYSICAL\\\\nuniform vec3 diffuse;\\\\nuniform vec3 emissive;\\\\nuniform float roughness;\\\\nuniform float metalness;\\\\nuniform float opacity;\\\\n#ifndef STANDARD\\\\n\\\\tuniform float clearCoat;\\\\n\\\\tuniform float clearCoatRoughness;\\\\n#endif\\\\nuniform float envMapIntensity;\\\\nvarying vec3 vViewPosition;\\\\n#ifndef FLAT_SHADED\\\\n\\\\tvarying vec3 vNormal;\\\\n#endif\\\\n#include <common>\\\\n#include <packing>\\\\n#include <color_pars_fragment>\\\\n#include <uv_pars_fragment>\\\\n#include <uv2_pars_fragment>\\\\n#include <map_pars_fragment>\\\\n#include <alphamap_pars_fragment>\\\\n#include <aomap_pars_fragment>\\\\n#include <lightmap_pars_fragment>\\\\n#include <emissivemap_pars_fragment>\\\\n#include <envmap_pars_fragment>\\\\n#include <fog_pars_fragment>\\\\n#include <bsdfs>\\\\n#include <cube_uv_reflection_fragment>\\\\n#include <lights_pars>\\\\n#include <lights_physical_pars_fragment>\\\\n#include <shadowmap_pars_fragment>\\\\n#include <bumpmap_pars_fragment>\\\\n#include <normalmap_pars_fragment>\\\\n#include <roughnessmap_pars_fragment>\\\\n#include <metalnessmap_pars_fragment>\\\\n#include <logdepthbuf_pars_fragment>\\\\n#include <clipping_planes_pars_fragment>\\\\nvoid main() {\\\\n\\\\t#include <clipping_planes_fragment>\\\\n\\\\tvec4 diffuseColor = vec4( diffuse, opacity );\\\\n\\\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\\\n\\\\tvec3 totalEmissiveRadiance = emissive;\\\\n\\\\t#include <logdepthbuf_fragment>\\\\n\\\\t#include <map_fragment>\\\\n\\\\t#include <color_fragment>\\\\n\\\\t#include <alphamap_fragment>\\\\n\\\\t#include <alphatest_fragment>\\\\n\\\\t#include <specularmap_fragment>\\\\n\\\\t#include <roughnessmap_fragment>\\\\n\\\\t#include <metalnessmap_fragment>\\\\n\\\\t#include <normal_flip>\\\\n\\\\t#include <normal_fragment>\\\\n\\\\t#include <emissivemap_fragment>\\\\n\\\\t#include <lights_physical_fragment>\\\\n\\\\t#include <lights_template>\\\\n\\\\t#include <aomap_fragment>\\\\n\\\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\\\n\\\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\\\n\\\\t#include <premultiplied_alpha_fragment>\\\\n\\\\t#include <tonemapping_fragment>\\\\n\\\\t#include <encodings_fragment>\\\\n\\\\t#include <fog_fragment>\\\\n}\\\\n\\\",Dc=\\\"#define PHYSICAL\\\\nvarying vec3 vViewPosition;\\\\n#ifndef FLAT_SHADED\\\\n\\\\tvarying vec3 vNormal;\\\\n#endif\\\\n#include <common>\\\\n#include <uv_pars_vertex>\\\\n#include <uv2_pars_vertex>\\\\n#include <displacementmap_pars_vertex>\\\\n#include <color_pars_vertex>\\\\n#include <morphtarget_pars_vertex>\\\\n#include <skinning_pars_vertex>\\\\n#include <shadowmap_pars_vertex>\\\\n#include <specularmap_pars_fragment>\\\\n#include <logdepthbuf_pars_vertex>\\\\n#include <clipping_planes_pars_vertex>\\\\nvoid main() {\\\\n\\\\t#include <uv_vertex>\\\\n\\\\t#include <uv2_vertex>\\\\n\\\\t#include <color_vertex>\\\\n\\\\t#include <beginnormal_vertex>\\\\n\\\\t#include <morphnormal_vertex>\\\\n\\\\t#include <skinbase_vertex>\\\\n\\\\t#include <skinnormal_vertex>\\\\n\\\\t#include <defaultnormal_vertex>\\\\n#ifndef FLAT_SHADED\\\\n\\\\tvNormal = normalize( transformedNormal );\\\\n#endif\\\\n\\\\t#include <begin_vertex>\\\\n\\\\t#include <displacementmap_vertex>\\\\n\\\\t#include <morphtarget_vertex>\\\\n\\\\t#include <skinning_vertex>\\\\n\\\\t#include <project_vertex>\\\\n\\\\t#include <logdepthbuf_vertex>\\\\n\\\\t#include <clipping_planes_vertex>\\\\n\\\\tvViewPosition = - mvPosition.xyz;\\\\n\\\\t#include <worldpos_vertex>\\\\n\\\\t#include <shadowmap_vertex>\\\\n}\\\\n\\\",Oc=\\\"uniform float opacity;\\\\nvarying vec3 vNormal;\\\\n#include <common>\\\\n#include <packing>\\\\n#include <logdepthbuf_pars_fragment>\\\\n#include <clipping_planes_pars_fragment>\\\\nvoid main() {\\\\n\\\\t#include <clipping_planes_fragment>\\\\n\\\\tgl_FragColor = vec4( packNormalToRGB( vNormal ), opacity );\\\\n\\\\t#include <logdepthbuf_fragment>\\\\n}\\\\n\\\",Fc=\\\"varying vec3 vNormal;\\\\n#include <common>\\\\n#include <morphtarget_pars_vertex>\\\\n#include <logdepthbuf_pars_vertex>\\\\n#include <clipping_planes_pars_vertex>\\\\nvoid main() {\\\\n\\\\tvNormal = normalize( normalMatrix * normal );\\\\n\\\\t#include <begin_vertex>\\\\n\\\\t#include <morphtarget_vertex>\\\\n\\\\t#include <project_vertex>\\\\n\\\\t#include <logdepthbuf_vertex>\\\\n\\\\t#include <clipping_planes_vertex>\\\\n}\\\\n\\\",Bc=\\\"uniform vec3 diffuse;\\\\nuniform float opacity;\\\\n#include <common>\\\\n#include <packing>\\\\n#include <color_pars_fragment>\\\\n#include <map_particle_pars_fragment>\\\\n#include <fog_pars_fragment>\\\\n#include <shadowmap_pars_fragment>\\\\n#include <logdepthbuf_pars_fragment>\\\\n#include <clipping_planes_pars_fragment>\\\\nvoid main() {\\\\n\\\\t#include <clipping_planes_fragment>\\\\n\\\\tvec3 outgoingLight = vec3( 0.0 );\\\\n\\\\tvec4 diffuseColor = vec4( diffuse, opacity );\\\\n\\\\t#include <logdepthbuf_fragment>\\\\n\\\\t#include <map_particle_fragment>\\\\n\\\\t#include <color_fragment>\\\\n\\\\t#include <alphatest_fragment>\\\\n\\\\toutgoingLight = diffuseColor.rgb;\\\\n\\\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\\\n\\\\t#include <premultiplied_alpha_fragment>\\\\n\\\\t#include <tonemapping_fragment>\\\\n\\\\t#include <encodings_fragment>\\\\n\\\\t#include <fog_fragment>\\\\n}\\\\n\\\",zc=\\\"uniform float size;\\\\nuniform float scale;\\\\n#include <common>\\\\n#include <color_pars_vertex>\\\\n#include <shadowmap_pars_vertex>\\\\n#include <logdepthbuf_pars_vertex>\\\\n#include <clipping_planes_pars_vertex>\\\\nvoid main() {\\\\n\\\\t#include <color_vertex>\\\\n\\\\t#include <begin_vertex>\\\\n\\\\t#include <project_vertex>\\\\n\\\\t#ifdef USE_SIZEATTENUATION\\\\n\\\\t\\\\tgl_PointSize = size * ( scale / - mvPosition.z );\\\\n\\\\t#else\\\\n\\\\t\\\\tgl_PointSize = size;\\\\n\\\\t#endif\\\\n\\\\t#include <logdepthbuf_vertex>\\\\n\\\\t#include <clipping_planes_vertex>\\\\n\\\\t#include <worldpos_vertex>\\\\n\\\\t#include <shadowmap_vertex>\\\\n}\\\\n\\\",Gc=\\\"uniform float opacity;\\\\n#include <common>\\\\n#include <packing>\\\\n#include <bsdfs>\\\\n#include <lights_pars>\\\\n#include <shadowmap_pars_fragment>\\\\n#include <shadowmask_pars_fragment>\\\\nvoid main() {\\\\n\\\\tgl_FragColor = vec4( 0.0, 0.0, 0.0, opacity * ( 1.0  - getShadowMask() ) );\\\\n}\\\\n\\\",Hc=\\\"#include <shadowmap_pars_vertex>\\\\nvoid main() {\\\\n\\\\t#include <begin_vertex>\\\\n\\\\t#include <project_vertex>\\\\n\\\\t#include <worldpos_vertex>\\\\n\\\\t#include <shadowmap_vertex>\\\\n}\\\\n\\\",Vc={\\nalphamap_fragment:Wo,alphamap_pars_fragment:Xo,alphatest_fragment:Yo,aomap_fragment:qo,aomap_pars_fragment:Zo,begin_vertex:Jo,beginnormal_vertex:Qo,bsdfs:Ko,bumpmap_pars_fragment:$o,clipping_planes_fragment:ts,clipping_planes_pars_fragment:es,clipping_planes_pars_vertex:is,clipping_planes_vertex:ns,color_fragment:rs,color_pars_fragment:as,color_pars_vertex:os,color_vertex:ss,common:cs,cube_uv_reflection_fragment:hs,defaultnormal_vertex:ls,displacementmap_pars_vertex:us,displacementmap_vertex:ps,emissivemap_fragment:ds,emissivemap_pars_fragment:fs,encodings_fragment:ms,encodings_pars_fragment:vs,envmap_fragment:gs,envmap_pars_fragment:ys,envmap_pars_vertex:xs,envmap_vertex:_s,fog_fragment:bs,fog_pars_fragment:ws,lightmap_fragment:Ms,lightmap_pars_fragment:Es,lights_lambert_vertex:Ts,lights_pars:Ss,lights_phong_fragment:As,lights_phong_pars_fragment:Ls,lights_physical_fragment:Rs,lights_physical_pars_fragment:Ps,lights_template:Cs,logdepthbuf_fragment:Is,logdepthbuf_pars_fragment:Us,logdepthbuf_pars_vertex:Ns,logdepthbuf_vertex:Ds,map_fragment:Os,map_pars_fragment:Fs,map_particle_fragment:Bs,map_particle_pars_fragment:zs,metalnessmap_fragment:Gs,metalnessmap_pars_fragment:Hs,morphnormal_vertex:Vs,morphtarget_pars_vertex:ks,morphtarget_vertex:js,normal_flip:Ws,normal_fragment:Xs,normalmap_pars_fragment:Ys,packing:qs,premultiplied_alpha_fragment:Zs,project_vertex:Js,roughnessmap_fragment:Qs,roughnessmap_pars_fragment:Ks,shadowmap_pars_fragment:$s,shadowmap_pars_vertex:tc,shadowmap_vertex:ec,shadowmask_pars_fragment:ic,skinbase_vertex:nc,skinning_pars_vertex:rc,skinning_vertex:ac,skinnormal_vertex:oc,specularmap_fragment:sc,specularmap_pars_fragment:cc,tonemapping_fragment:hc,tonemapping_pars_fragment:lc,uv_pars_fragment:uc,uv_pars_vertex:pc,uv_vertex:dc,uv2_pars_fragment:fc,uv2_pars_vertex:mc,uv2_vertex:vc,worldpos_vertex:gc,cube_frag:yc,cube_vert:xc,depth_frag:_c,depth_vert:bc,distanceRGBA_frag:wc,distanceRGBA_vert:Mc,equirect_frag:Ec,equirect_vert:Tc,linedashed_frag:Sc,linedashed_vert:Ac,meshbasic_frag:Lc,meshbasic_vert:Rc,meshlambert_frag:Pc,meshlambert_vert:Cc,meshphong_frag:Ic,meshphong_vert:Uc,meshphysical_frag:Nc,meshphysical_vert:Dc,normal_frag:Oc,normal_vert:Fc,points_frag:Bc,points_vert:zc,shadow_frag:Gc,shadow_vert:Hc};X.prototype={constructor:X,isColor:!0,r:1,g:1,b:1,set:function(t){return t&&t.isColor?this.copy(t):\\\"number\\\"==typeof t?this.setHex(t):\\\"string\\\"==typeof t&&this.setStyle(t),this},setScalar:function(t){return this.r=t,this.g=t,this.b=t,this},setHex:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this},setRGB:function(t,e,i){return this.r=t,this.g=e,this.b=i,this},setHSL:function(){function t(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+6*(e-t)*(2/3-i):t}return function(e,i,n){if(e=Fo.euclideanModulo(e,1),i=Fo.clamp(i,0,1),n=Fo.clamp(n,0,1),0===i)this.r=this.g=this.b=n;else{var r=n<=.5?n*(1+i):n+i-n*i,a=2*n-r;this.r=t(a,r,e+1/3),this.g=t(a,r,e),this.b=t(a,r,e-1/3)}return this}}(),setStyle:function(t){function e(e){void 0!==e&&parseFloat(e)<1&&console.warn(\\\"THREE.Color: Alpha component of \\\"+t+\\\" will be ignored.\\\")}var i;if(i=/^((?:rgb|hsl)a?)\\\\(\\\\s*([^\\\\)]*)\\\\)/.exec(t)){var n,r=i[1],a=i[2];switch(r){case\\\"rgb\\\":case\\\"rgba\\\":if(n=/^(\\\\d+)\\\\s*,\\\\s*(\\\\d+)\\\\s*,\\\\s*(\\\\d+)\\\\s*(,\\\\s*([0-9]*\\\\.?[0-9]+)\\\\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(n[1],10))/255,this.g=Math.min(255,parseInt(n[2],10))/255,this.b=Math.min(255,parseInt(n[3],10))/255,e(n[5]),this;if(n=/^(\\\\d+)\\\\%\\\\s*,\\\\s*(\\\\d+)\\\\%\\\\s*,\\\\s*(\\\\d+)\\\\%\\\\s*(,\\\\s*([0-9]*\\\\.?[0-9]+)\\\\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(n[1],10))/100,this.g=Math.min(100,parseInt(n[2],10))/100,this.b=Math.min(100,parseInt(n[3],10))/100,e(n[5]),this;break;case\\\"hsl\\\":case\\\"hsla\\\":if(n=/^([0-9]*\\\\.?[0-9]+)\\\\s*,\\\\s*(\\\\d+)\\\\%\\\\s*,\\\\s*(\\\\d+)\\\\%\\\\s*(,\\\\s*([0-9]*\\\\.?[0-9]+)\\\\s*)?$/.exec(a)){var o=parseFloat(n[1])/360,s=parseInt(n[2],10)/100,c=parseInt(n[3],10)/100;return e(n[5]),this.setHSL(o,s,c)}}}else if(i=/^\\\\#([A-Fa-f0-9]+)$/.exec(t)){var h=i[1],l=h.length;if(3===l)return this.r=parseInt(h.charAt(0)+h.charAt(0),16)/255,this.g=parseInt(h.charAt(1)+h.charAt(1),16)/255,this.b=parseInt(h.charAt(2)+h.charAt(2),16)/255,this;if(6===l)return this.r=parseInt(h.charAt(0)+h.charAt(1),16)/255,this.g=parseInt(h.charAt(2)+h.charAt(3),16)/255,this.b=parseInt(h.charAt(4)+h.charAt(5),16)/255,this}if(t&&t.length>0){var h=kc[t];void 0!==h?this.setHex(h):console.warn(\\\"THREE.Color: Unknown color \\\"+t)}return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},copyGammaToLinear:function(t,e){return void 0===e&&(e=2),this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this},copyLinearToGamma:function(t,e){void 0===e&&(e=2);var i=e>0?1/e:1;return this.r=Math.pow(t.r,i),this.g=Math.pow(t.g,i),this.b=Math.pow(t.b,i),this},convertGammaToLinear:function(){var t=this.r,e=this.g,i=this.b;return this.r=t*t,this.g=e*e,this.b=i*i,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return(\\\"000000\\\"+this.getHex().toString(16)).slice(-6)},getHSL:function(t){var e,i,n=t||{h:0,s:0,l:0},r=this.r,a=this.g,o=this.b,s=Math.max(r,a,o),c=Math.min(r,a,o),h=(c+s)/2;if(c===s)e=0,i=0;else{var l=s-c;switch(i=h<=.5?l/(s+c):l/(2-s-c),s){case r:e=(a-o)/l+(a<o?6:0);break;case a:e=(o-r)/l+2;break;case o:e=(r-a)/l+4}e/=6}return n.h=e,n.s=i,n.l=h,n},getStyle:function(){return\\\"rgb(\\\"+(255*this.r|0)+\\\",\\\"+(255*this.g|0)+\\\",\\\"+(255*this.b|0)+\\\")\\\"},offsetHSL:function(t,e,i){var n=this.getHSL();return n.h+=t,n.s+=e,n.l+=i,this.setHSL(n.h,n.s,n.l),this},add:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},addColors:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this},addScalar:function(t){return this.r+=t,this.g+=t,this.b+=t,this},sub:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this},multiply:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},multiplyScalar:function(t){return this.r*=t,this.g*=t,this.b*=t,this},lerp:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this},equals:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},fromArray:function(t,e){return void 0===e&&(e=0),this.r=t[e],this.g=t[e+1],this.b=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t},toJSON:function(){return this.getHex()}};var kc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},jc={common:{diffuse:{value:new X(15658734)},opacity:{value:1},map:{value:null},offsetRepeat:{value:new a(0,0,1,1)},specularMap:{value:null},alphaMap:{value:null},envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new i(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new X(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}}},points:{diffuse:{value:new X(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},offsetRepeat:{value:new a(0,0,1,1)}}},Wc={basic:{uniforms:jo.merge([jc.common,jc.aomap,jc.fog]),vertexShader:Vc.meshbasic_vert,fragmentShader:Vc.meshbasic_frag},lambert:{uniforms:jo.merge([jc.common,jc.aomap,jc.lightmap,jc.emissivemap,jc.fog,jc.lights,{emissive:{value:new X(0)}}]),vertexShader:Vc.meshlambert_vert,fragmentShader:Vc.meshlambert_frag},phong:{uniforms:jo.merge([jc.common,jc.aomap,jc.lightmap,jc.emissivemap,jc.bumpmap,jc.normalmap,jc.displacementmap,jc.fog,jc.lights,{emissive:{value:new X(0)},specular:{value:new X(1118481)},shininess:{value:30}}]),vertexShader:Vc.meshphong_vert,fragmentShader:Vc.meshphong_frag},standard:{uniforms:jo.merge([jc.common,jc.aomap,jc.lightmap,jc.emissivemap,jc.bumpmap,jc.normalmap,jc.displacementmap,jc.roughnessmap,jc.metalnessmap,jc.fog,jc.lights,{emissive:{value:new X(0)},roughness:{value:.5},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Vc.meshphysical_vert,fragmentShader:Vc.meshphysical_frag},points:{uniforms:jo.merge([jc.points,jc.fog]),vertexShader:Vc.points_vert,fragmentShader:Vc.points_frag},dashed:{uniforms:jo.merge([jc.common,jc.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Vc.linedashed_vert,fragmentShader:Vc.linedashed_frag},depth:{uniforms:jo.merge([jc.common,jc.displacementmap]),vertexShader:Vc.depth_vert,fragmentShader:Vc.depth_frag},normal:{uniforms:{opacity:{value:1}},vertexShader:Vc.normal_vert,fragmentShader:Vc.normal_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Vc.cube_vert,fragmentShader:Vc.cube_frag},equirect:{uniforms:{tEquirect:{value:null},tFlip:{value:-1}},vertexShader:Vc.equirect_vert,fragmentShader:Vc.equirect_frag},distanceRGBA:{uniforms:{lightPos:{value:new h}},vertexShader:Vc.distanceRGBA_vert,fragmentShader:Vc.distanceRGBA_frag}};Wc.physical={uniforms:jo.merge([Wc.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:Vc.meshphysical_vert,fragmentShader:Vc.meshphysical_frag},Y.prototype={constructor:Y,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new i;return function(e,i){var n=t.copy(i).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=+(1/0),this.max.x=this.max.y=-(1/0),this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(t){var e=t||new i;return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){var e=t||new i;return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y},getParameter:function(t,e){var n=e||new i;return n.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)},clampPoint:function(t,e){var n=e||new i;return n.copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new i;return function(e){var i=t.copy(e).clamp(this.min,this.max);return i.sub(e).length()}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}},J.prototype={constructor:J,isMaterial:!0,get needsUpdate(){return this._needsUpdate},set needsUpdate(t){t===!0&&this.update(),this._needsUpdate=t},setValues:function(t){if(void 0!==t)for(var e in t){var i=t[e];if(void 0!==i){var n=this[e];void 0!==n?n&&n.isColor?n.set(i):n&&n.isVector3&&i&&i.isVector3?n.copy(i):\\\"overdraw\\\"===e?this[e]=Number(i):this[e]=i:console.warn(\\\"THREE.\\\"+this.type+\\\": '\\\"+e+\\\"' is not a property of this material.\\\")}else console.warn(\\\"THREE.Material: '\\\"+e+\\\"' parameter is undefined.\\\")}},toJSON:function(t){function e(t){var e=[];for(var i in t){var n=t[i];delete n.metadata,e.push(n)}return e}var i=void 0===t;i&&(t={textures:{},images:{}});var n={metadata:{version:4.4,type:\\\"Material\\\",generator:\\\"Material.toJSON\\\"}};if(n.uuid=this.uuid,n.type=this.type,\\\"\\\"!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(t).uuid),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(t).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(t).uuid,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(t).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(t).uuid,n.reflectivity=this.reflectivity),void 0!==this.size&&(n.size=this.size),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==Dr&&(n.blending=this.blending),this.shading!==Pr&&(n.shading=this.shading),this.side!==Sr&&(n.side=this.side),this.vertexColors!==Cr&&(n.vertexColors=this.vertexColors),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),\\\"round\\\"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),\\\"round\\\"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),n.skinning=this.skinning,n.morphTargets=this.morphTargets,i){var r=e(t.textures),a=e(t.images);r.length>0&&(n.textures=r),a.length>0&&(n.images=a)}return n},clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.lights=t.lights,this.blending=t.blending,this.side=t.side,this.shading=t.shading,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.overdraw=t.overdraw,this.visible=t.visible,this.clipShadows=t.clipShadows,this.clipIntersection=t.clipIntersection;var e=t.clippingPlanes,i=null;if(null!==e){var n=e.length;i=new Array(n);for(var r=0;r!==n;++r)i[r]=e[r].clone()}return this.clippingPlanes=i,this},update:function(){this.dispatchEvent({type:\\\"update\\\"})},dispose:function(){this.dispatchEvent({type:\\\"dispose\\\"})}},Object.assign(J.prototype,e.prototype);var Xc=0;K.prototype=Object.create(J.prototype),K.prototype.constructor=K,K.prototype.isShaderMaterial=!0,K.prototype.copy=function(t){return J.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=jo.clone(t.uniforms),this.defines=t.defines,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=t.extensions,this},K.prototype.toJSON=function(t){var e=J.prototype.toJSON.call(this,t);return e.uniforms=this.uniforms,e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e},$.prototype=Object.create(J.prototype),$.prototype.constructor=$,$.prototype.isMeshDepthMaterial=!0,$.prototype.copy=function(t){return J.prototype.copy.call(this,t),this.depthPacking=t.depthPacking,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},tt.prototype={constructor:tt,isBox3:!0,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromArray:function(t){for(var e=+(1/0),i=+(1/0),n=+(1/0),r=-(1/0),a=-(1/0),o=-(1/0),s=0,c=t.length;s<c;s+=3){var h=t[s],l=t[s+1],u=t[s+2];h<e&&(e=h),l<i&&(i=l),u<n&&(n=u),h>r&&(r=h),l>a&&(a=l),u>o&&(o=u)}this.min.set(e,i,n),this.max.set(r,a,o)},setFromPoints:function(t){this.makeEmpty();for(var e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new h;return function(e,i){var n=t.copy(i).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}}(),setFromObject:function(){var t=new h;return function(e){var i=this;return e.updateMatrixWorld(!0),this.makeEmpty(),e.traverse(function(e){var n=e.geometry;if(void 0!==n)if(n&&n.isGeometry)for(var r=n.vertices,a=0,o=r.length;a<o;a++)t.copy(r[a]),t.applyMatrix4(e.matrixWorld),i.expandByPoint(t);else if(n&&n.isBufferGeometry){var s=n.attributes.position;if(void 0!==s){var c,h,l;s&&s.isInterleavedBufferAttribute?(c=s.data.array,h=s.offset,l=s.data.stride):(c=s.array,h=0,l=3);for(var a=h,o=c.length;a<o;a+=l)t.fromArray(c,a),t.applyMatrix4(e.matrixWorld),i.expandByPoint(t)}}}),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=+(1/0),this.max.x=this.max.y=this.max.z=-(1/0),this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(t){var e=t||new h;return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){var e=t||new h;return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},getParameter:function(t,e){var i=e||new h;return i.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},intersectsSphere:function(){var t;return function(e){return void 0===t&&(t=new h),this.clampPoint(e.center,t),t.distanceToSquared(e.center)<=e.radius*e.radius}}(),intersectsPlane:function(t){var e,i;return t.normal.x>0?(e=t.normal.x*this.min.x,i=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,i=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,i+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,i+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,i+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,i+=t.normal.z*this.min.z),e<=t.constant&&i>=t.constant},clampPoint:function(t,e){var i=e||new h;return i.copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new h;return function(e){var i=t.copy(e).clamp(this.min,this.max);return i.sub(e).length()}}(),getBoundingSphere:function(){var t=new h;return function(e){var i=e||new et;return this.getCenter(i.center),i.radius=.5*this.getSize(t).length(),i}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},applyMatrix4:function(){var t=[new h,new h,new h,new h,new h,new h,new h,new h];return function(e){return this.isEmpty()?this:(t[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),t[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),t[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),t[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),t[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),t[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),t[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),t[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(t),this)}}(),translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}},et.prototype={constructor:et,set:function(t,e){return this.center.copy(t),this.radius=e,this},setFromPoints:function(){var t=new tt;return function(e,i){var n=this.center;void 0!==i?n.copy(i):t.setFromPoints(e).getCenter(n);for(var r=0,a=0,o=e.length;a<o;a++)r=Math.max(r,n.distanceToSquared(e[a]));return this.radius=Math.sqrt(r),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.center.copy(t.center),this.radius=t.radius,this},empty:function(){return this.radius<=0},containsPoint:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(t){return t.distanceTo(this.center)-this.radius},intersectsSphere:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e},intersectsBox:function(t){return t.intersectsSphere(this)},intersectsPlane:function(t){return Math.abs(this.center.dot(t.normal)-t.constant)<=this.radius},clampPoint:function(t,e){var i=this.center.distanceToSquared(t),n=e||new h;return n.copy(t),i>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n},getBoundingBox:function(t){var e=t||new tt;return e.set(this.center,this.center),e.expandByScalar(this.radius),e},applyMatrix4:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this},translate:function(t){return this.center.add(t),this},equals:function(t){return t.center.equals(this.center)&&t.radius===this.radius}},it.prototype={constructor:it,isMatrix3:!0,set:function(t,e,i,n,r,a,o,s,c){var h=this.elements;return h[0]=t,h[1]=n,h[2]=o,h[3]=e,h[4]=r,h[5]=s,h[6]=i,h[7]=a,h[8]=c,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(t){var e=t.elements;return this.set(e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8]),this},setFromMatrix4:function(t){var e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this},applyToVector3Array:function(){var t;return function(e,i,n){void 0===t&&(t=new h),void 0===i&&(i=0),void 0===n&&(n=e.length);for(var r=0,a=i;r<n;r+=3,a+=3)t.fromArray(e,a),t.applyMatrix3(this),t.toArray(e,a);return e}}(),applyToBuffer:function(){var t;return function(e,i,n){void 0===t&&(t=new h),void 0===i&&(i=0),void 0===n&&(n=e.length/e.itemSize);for(var r=0,a=i;r<n;r++,a++)t.x=e.getX(a),t.y=e.getY(a),t.z=e.getZ(a),t.applyMatrix3(this),e.setXYZ(a,t.x,t.y,t.z);return e}}(),multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this},determinant:function(){var t=this.elements,e=t[0],i=t[1],n=t[2],r=t[3],a=t[4],o=t[5],s=t[6],c=t[7],h=t[8];return e*a*h-e*o*c-i*r*h+i*o*s+n*r*c-n*a*s},getInverse:function(t,e){t&&t.isMatrix4&&console.error(\\\"THREE.Matrix3.getInverse no longer takes a Matrix4 argument.\\\");var i=t.elements,n=this.elements,r=i[0],a=i[1],o=i[2],s=i[3],c=i[4],h=i[5],l=i[6],u=i[7],p=i[8],d=p*c-h*u,f=h*l-p*s,m=u*s-c*l,v=r*d+a*f+o*m;if(0===v){var g=\\\"THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0\\\";if(e===!0)throw new Error(g);return console.warn(g),this.identity()}var y=1/v;return n[0]=d*y,n[1]=(o*u-p*a)*y,n[2]=(h*a-o*c)*y,n[3]=f*y,n[4]=(p*r-o*l)*y,n[5]=(o*s-h*r)*y,n[6]=m*y,n[7]=(a*l-u*r)*y,n[8]=(c*r-a*s)*y,this},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},flattenToArrayOffset:function(t,e){return console.warn(\\\"THREE.Matrix3: .flattenToArrayOffset is deprecated - just use .toArray instead.\\\"),this.toArray(t,e)},getNormalMatrix:function(t){return this.setFromMatrix4(t).getInverse(this).transpose()},transposeIntoArray:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this},fromArray:function(t,e){void 0===e&&(e=0);for(var i=0;i<9;i++)this.elements[i]=t[i+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t}},nt.prototype={constructor:nt,set:function(t,e){return this.normal.copy(t),this.constant=e,this},setComponents:function(t,e,i,n){return this.normal.set(t,e,i),this.constant=n,this},setFromNormalAndCoplanarPoint:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this},setFromCoplanarPoints:function(){var t=new h,e=new h;return function(i,n,r){var a=t.subVectors(r,n).cross(e.subVectors(i,n)).normalize();return this.setFromNormalAndCoplanarPoint(a,i),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this},normalize:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(t){return this.normal.dot(t)+this.constant},distanceToSphere:function(t){return this.distanceToPoint(t.center)-t.radius},projectPoint:function(t,e){return this.orthoPoint(t,e).sub(t).negate()},orthoPoint:function(t,e){var i=this.distanceToPoint(t),n=e||new h;return n.copy(this.normal).multiplyScalar(i)},intersectLine:function(){var t=new h;return function(e,i){var n=i||new h,r=e.delta(t),a=this.normal.dot(r);if(0!==a){var o=-(e.start.dot(this.normal)+this.constant)/a;if(!(o<0||o>1))return n.copy(r).multiplyScalar(o).add(e.start)}else if(0===this.distanceToPoint(e.start))return n.copy(e.start)}}(),intersectsLine:function(t){var e=this.distanceToPoint(t.start),i=this.distanceToPoint(t.end);return e<0&&i>0||i<0&&e>0},intersectsBox:function(t){return t.intersectsPlane(this)},intersectsSphere:function(t){return t.intersectsPlane(this)},coplanarPoint:function(t){var e=t||new h;return e.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var t=new h,e=new it;return function(i,n){var r=this.coplanarPoint(t).applyMatrix4(i),a=n||e.getNormalMatrix(i),o=this.normal.applyMatrix3(a).normalize();return this.constant=-r.dot(o),this}}(),translate:function(t){return this.constant=this.constant-t.dot(this.normal),this},equals:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}},rt.prototype={constructor:rt,set:function(t,e,i,n,r,a){var o=this.planes;return o[0].copy(t),o[1].copy(e),o[2].copy(i),o[3].copy(n),o[4].copy(r),o[5].copy(a),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){for(var e=this.planes,i=0;i<6;i++)e[i].copy(t.planes[i]);return this;\\n},setFromMatrix:function(t){var e=this.planes,i=t.elements,n=i[0],r=i[1],a=i[2],o=i[3],s=i[4],c=i[5],h=i[6],l=i[7],u=i[8],p=i[9],d=i[10],f=i[11],m=i[12],v=i[13],g=i[14],y=i[15];return e[0].setComponents(o-n,l-s,f-u,y-m).normalize(),e[1].setComponents(o+n,l+s,f+u,y+m).normalize(),e[2].setComponents(o+r,l+c,f+p,y+v).normalize(),e[3].setComponents(o-r,l-c,f-p,y-v).normalize(),e[4].setComponents(o-a,l-h,f-d,y-g).normalize(),e[5].setComponents(o+a,l+h,f+d,y+g).normalize(),this},intersectsObject:function(){var t=new et;return function(e){var i=e.geometry;return null===i.boundingSphere&&i.computeBoundingSphere(),t.copy(i.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(t)}}(),intersectsSprite:function(){var t=new et;return function(e){return t.center.set(0,0,0),t.radius=.7071067811865476,t.applyMatrix4(e.matrixWorld),this.intersectsSphere(t)}}(),intersectsSphere:function(t){for(var e=this.planes,i=t.center,n=-t.radius,r=0;r<6;r++){var a=e[r].distanceToPoint(i);if(a<n)return!1}return!0},intersectsBox:function(){var t=new h,e=new h;return function(i){for(var n=this.planes,r=0;r<6;r++){var a=n[r];t.x=a.normal.x>0?i.min.x:i.max.x,e.x=a.normal.x>0?i.max.x:i.min.x,t.y=a.normal.y>0?i.min.y:i.max.y,e.y=a.normal.y>0?i.max.y:i.min.y,t.z=a.normal.z>0?i.min.z:i.max.z,e.z=a.normal.z>0?i.max.z:i.min.z;var o=a.distanceToPoint(t),s=a.distanceToPoint(e);if(o<0&&s<0)return!1}return!0}}(),containsPoint:function(t){for(var e=this.planes,i=0;i<6;i++)if(e[i].distanceToPoint(t)<0)return!1;return!0}},ot.prototype={constructor:ot,set:function(t,e){return this.origin.copy(t),this.direction.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this},at:function(t,e){var i=e||new h;return i.copy(this.direction).multiplyScalar(t).add(this.origin)},lookAt:function(t){return this.direction.copy(t).sub(this.origin).normalize(),this},recast:function(){var t=new h;return function(e){return this.origin.copy(this.at(e,t)),this}}(),closestPointToPoint:function(t,e){var i=e||new h;i.subVectors(t,this.origin);var n=i.dot(this.direction);return n<0?i.copy(this.origin):i.copy(this.direction).multiplyScalar(n).add(this.origin)},distanceToPoint:function(t){return Math.sqrt(this.distanceSqToPoint(t))},distanceSqToPoint:function(){var t=new h;return function(e){var i=t.subVectors(e,this.origin).dot(this.direction);return i<0?this.origin.distanceToSquared(e):(t.copy(this.direction).multiplyScalar(i).add(this.origin),t.distanceToSquared(e))}}(),distanceSqToSegment:function(){var t=new h,e=new h,i=new h;return function(n,r,a,o){t.copy(n).add(r).multiplyScalar(.5),e.copy(r).sub(n).normalize(),i.copy(this.origin).sub(t);var s,c,h,l,u=.5*n.distanceTo(r),p=-this.direction.dot(e),d=i.dot(this.direction),f=-i.dot(e),m=i.lengthSq(),v=Math.abs(1-p*p);if(v>0)if(s=p*f-d,c=p*d-f,l=u*v,s>=0)if(c>=-l)if(c<=l){var g=1/v;s*=g,c*=g,h=s*(s+p*c+2*d)+c*(p*s+c+2*f)+m}else c=u,s=Math.max(0,-(p*c+d)),h=-s*s+c*(c+2*f)+m;else c=-u,s=Math.max(0,-(p*c+d)),h=-s*s+c*(c+2*f)+m;else c<=-l?(s=Math.max(0,-(-p*u+d)),c=s>0?-u:Math.min(Math.max(-u,-f),u),h=-s*s+c*(c+2*f)+m):c<=l?(s=0,c=Math.min(Math.max(-u,-f),u),h=c*(c+2*f)+m):(s=Math.max(0,-(p*u+d)),c=s>0?u:Math.min(Math.max(-u,-f),u),h=-s*s+c*(c+2*f)+m);else c=p>0?-u:u,s=Math.max(0,-(p*c+d)),h=-s*s+c*(c+2*f)+m;return a&&a.copy(this.direction).multiplyScalar(s).add(this.origin),o&&o.copy(e).multiplyScalar(c).add(t),h}}(),intersectSphere:function(){var t=new h;return function(e,i){t.subVectors(e.center,this.origin);var n=t.dot(this.direction),r=t.dot(t)-n*n,a=e.radius*e.radius;if(r>a)return null;var o=Math.sqrt(a-r),s=n-o,c=n+o;return s<0&&c<0?null:s<0?this.at(c,i):this.at(s,i)}}(),intersectsSphere:function(t){return this.distanceToPoint(t.center)<=t.radius},distanceToPlane:function(t){var e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;var i=-(this.origin.dot(t.normal)+t.constant)/e;return i>=0?i:null},intersectPlane:function(t,e){var i=this.distanceToPlane(t);return null===i?null:this.at(i,e)},intersectsPlane:function(t){var e=t.distanceToPoint(this.origin);if(0===e)return!0;var i=t.normal.dot(this.direction);return i*e<0},intersectBox:function(t,e){var i,n,r,a,o,s,c=1/this.direction.x,h=1/this.direction.y,l=1/this.direction.z,u=this.origin;return c>=0?(i=(t.min.x-u.x)*c,n=(t.max.x-u.x)*c):(i=(t.max.x-u.x)*c,n=(t.min.x-u.x)*c),h>=0?(r=(t.min.y-u.y)*h,a=(t.max.y-u.y)*h):(r=(t.max.y-u.y)*h,a=(t.min.y-u.y)*h),i>a||r>n?null:((r>i||i!==i)&&(i=r),(a<n||n!==n)&&(n=a),l>=0?(o=(t.min.z-u.z)*l,s=(t.max.z-u.z)*l):(o=(t.max.z-u.z)*l,s=(t.min.z-u.z)*l),i>s||o>n?null:((o>i||i!==i)&&(i=o),(s<n||n!==n)&&(n=s),n<0?null:this.at(i>=0?i:n,e)))},intersectsBox:function(){var t=new h;return function(e){return null!==this.intersectBox(e,t)}}(),intersectTriangle:function(){var t=new h,e=new h,i=new h,n=new h;return function(r,a,o,s,c){e.subVectors(a,r),i.subVectors(o,r),n.crossVectors(e,i);var h,l=this.direction.dot(n);if(l>0){if(s)return null;h=1}else{if(!(l<0))return null;h=-1,l=-l}t.subVectors(this.origin,r);var u=h*this.direction.dot(i.crossVectors(t,i));if(u<0)return null;var p=h*this.direction.dot(e.cross(t));if(p<0)return null;if(u+p>l)return null;var d=-h*t.dot(n);return d<0?null:this.at(d/l,c)}}(),applyMatrix4:function(t){return this.direction.add(this.origin).applyMatrix4(t),this.origin.applyMatrix4(t),this.direction.sub(this.origin),this.direction.normalize(),this},equals:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}},st.RotationOrders=[\\\"XYZ\\\",\\\"YZX\\\",\\\"ZXY\\\",\\\"XZY\\\",\\\"YXZ\\\",\\\"ZYX\\\"],st.DefaultOrder=\\\"XYZ\\\",st.prototype={constructor:st,isEuler:!0,get x(){return this._x},set x(t){this._x=t,this.onChangeCallback()},get y(){return this._y},set y(t){this._y=t,this.onChangeCallback()},get z(){return this._z},set z(t){this._z=t,this.onChangeCallback()},get order(){return this._order},set order(t){this._order=t,this.onChangeCallback()},set:function(t,e,i,n){return this._x=t,this._y=e,this._z=i,this._order=n||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this.onChangeCallback(),this},setFromRotationMatrix:function(t,e,i){var n=Fo.clamp,r=t.elements,a=r[0],o=r[4],s=r[8],c=r[1],h=r[5],l=r[9],u=r[2],p=r[6],d=r[10];return e=e||this._order,\\\"XYZ\\\"===e?(this._y=Math.asin(n(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-l,d),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(p,h),this._z=0)):\\\"YXZ\\\"===e?(this._x=Math.asin(-n(l,-1,1)),Math.abs(l)<.99999?(this._y=Math.atan2(s,d),this._z=Math.atan2(c,h)):(this._y=Math.atan2(-u,a),this._z=0)):\\\"ZXY\\\"===e?(this._x=Math.asin(n(p,-1,1)),Math.abs(p)<.99999?(this._y=Math.atan2(-u,d),this._z=Math.atan2(-o,h)):(this._y=0,this._z=Math.atan2(c,a))):\\\"ZYX\\\"===e?(this._y=Math.asin(-n(u,-1,1)),Math.abs(u)<.99999?(this._x=Math.atan2(p,d),this._z=Math.atan2(c,a)):(this._x=0,this._z=Math.atan2(-o,h))):\\\"YZX\\\"===e?(this._z=Math.asin(n(c,-1,1)),Math.abs(c)<.99999?(this._x=Math.atan2(-l,h),this._y=Math.atan2(-u,a)):(this._x=0,this._y=Math.atan2(s,d))):\\\"XZY\\\"===e?(this._z=Math.asin(-n(o,-1,1)),Math.abs(o)<.99999?(this._x=Math.atan2(p,h),this._y=Math.atan2(s,a)):(this._x=Math.atan2(-l,d),this._y=0)):console.warn(\\\"THREE.Euler: .setFromRotationMatrix() given unsupported order: \\\"+e),this._order=e,i!==!1&&this.onChangeCallback(),this},setFromQuaternion:function(){var t;return function(e,i,n){return void 0===t&&(t=new l),t.makeRotationFromQuaternion(e),this.setFromRotationMatrix(t,i,n)}}(),setFromVector3:function(t,e){return this.set(t.x,t.y,t.z,e||this._order)},reorder:function(){var t=new c;return function(e){return t.setFromEuler(this),this.setFromQuaternion(t,e)}}(),equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},fromArray:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t},toVector3:function(t){return t?t.set(this._x,this._y,this._z):new h(this._x,this._y,this._z)},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}},ct.prototype={constructor:ct,set:function(t){this.mask=1<<t},enable:function(t){this.mask|=1<<t},toggle:function(t){this.mask^=1<<t},disable:function(t){this.mask&=~(1<<t)},test:function(t){return 0!==(this.mask&t.mask)}},ht.DefaultUp=new h(0,1,0),ht.DefaultMatrixAutoUpdate=!0,Object.assign(ht.prototype,e.prototype,{isObject3D:!0,applyMatrix:function(t){this.matrix.multiplyMatrices(t,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:function(){var t=new c;return function(e,i){return t.setFromAxisAngle(e,i),this.quaternion.multiply(t),this}}(),rotateX:function(){var t=new h(1,0,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateY:function(){var t=new h(0,1,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateZ:function(){var t=new h(0,0,1);return function(e){return this.rotateOnAxis(t,e)}}(),translateOnAxis:function(){var t=new h;return function(e,i){return t.copy(e).applyQuaternion(this.quaternion),this.position.add(t.multiplyScalar(i)),this}}(),translateX:function(){var t=new h(1,0,0);return function(e){return this.translateOnAxis(t,e)}}(),translateY:function(){var t=new h(0,1,0);return function(e){return this.translateOnAxis(t,e)}}(),translateZ:function(){var t=new h(0,0,1);return function(e){return this.translateOnAxis(t,e)}}(),localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var t=new l;return function(e){return e.applyMatrix4(t.getInverse(this.matrixWorld))}}(),lookAt:function(){var t=new l;return function(e){t.lookAt(e,this.position,this.up),this.quaternion.setFromRotationMatrix(t)}}(),add:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error(\\\"THREE.Object3D.add: object can't be added as a child of itself.\\\",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,t.dispatchEvent({type:\\\"added\\\"}),this.children.push(t)):console.error(\\\"THREE.Object3D.add: object not an instance of THREE.Object3D.\\\",t),this)},remove:function(t){if(arguments.length>1)for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);var i=this.children.indexOf(t);i!==-1&&(t.parent=null,t.dispatchEvent({type:\\\"removed\\\"}),this.children.splice(i,1))},getObjectById:function(t){return this.getObjectByProperty(\\\"id\\\",t)},getObjectByName:function(t){return this.getObjectByProperty(\\\"name\\\",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(var i=0,n=this.children.length;i<n;i++){var r=this.children[i],a=r.getObjectByProperty(t,e);if(void 0!==a)return a}},getWorldPosition:function(t){var e=t||new h;return this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var t=new h,e=new h;return function(i){var n=i||new c;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,n,e),n}}(),getWorldRotation:function(){var t=new c;return function(e){var i=e||new st;return this.getWorldQuaternion(t),i.setFromQuaternion(t,this.rotation.order,!1)}}(),getWorldScale:function(){var t=new h,e=new c;return function(i){var n=i||new h;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,e,n),n}}(),getWorldDirection:function(){var t=new c;return function(e){var i=e||new h;return this.getWorldQuaternion(t),i.set(0,0,1).applyQuaternion(t)}}(),raycast:function(){},traverse:function(t){t(this);for(var e=this.children,i=0,n=e.length;i<n;i++)e[i].traverse(t)},traverseVisible:function(t){if(this.visible!==!1){t(this);for(var e=this.children,i=0,n=e.length;i<n;i++)e[i].traverseVisible(t)}},traverseAncestors:function(t){var e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate===!0&&this.updateMatrix(),this.matrixWorldNeedsUpdate!==!0&&t!==!0||(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var e=this.children,i=0,n=e.length;i<n;i++)e[i].updateMatrixWorld(t)},toJSON:function(t){function e(t){var e=[];for(var i in t){var n=t[i];delete n.metadata,e.push(n)}return e}var i=void 0===t||\\\"\\\"===t,n={};i&&(t={geometries:{},materials:{},textures:{},images:{}},n.metadata={version:4.4,type:\\\"Object\\\",generator:\\\"Object3D.toJSON\\\"});var r={};if(r.uuid=this.uuid,r.type=this.type,\\\"\\\"!==this.name&&(r.name=this.name),\\\"{}\\\"!==JSON.stringify(this.userData)&&(r.userData=this.userData),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),r.matrix=this.matrix.toArray(),void 0!==this.geometry&&(void 0===t.geometries[this.geometry.uuid]&&(t.geometries[this.geometry.uuid]=this.geometry.toJSON(t)),r.geometry=this.geometry.uuid),void 0!==this.material&&(void 0===t.materials[this.material.uuid]&&(t.materials[this.material.uuid]=this.material.toJSON(t)),r.material=this.material.uuid),this.children.length>0){r.children=[];for(var a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(t).object)}if(i){var o=e(t.geometries),s=e(t.materials),c=e(t.textures),h=e(t.images);o.length>0&&(n.geometries=o),s.length>0&&(n.materials=s),c.length>0&&(n.textures=c),h.length>0&&(n.images=h)}return n.object=r,n},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t,e){if(void 0===e&&(e=!0),this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),e===!0)for(var i=0;i<t.children.length;i++){var n=t.children[i];this.add(n.clone())}return this}});var Yc=0;ut.prototype={constructor:ut,set:function(t,e){return this.start.copy(t),this.end.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.start.copy(t.start),this.end.copy(t.end),this},getCenter:function(t){var e=t||new h;return e.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(t){var e=t||new h;return e.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(t,e){var i=e||new h;return this.delta(i).multiplyScalar(t).add(this.start)},closestPointToPointParameter:function(){var t=new h,e=new h;return function(i,n){t.subVectors(i,this.start),e.subVectors(this.end,this.start);var r=e.dot(e),a=e.dot(t),o=a/r;return n&&(o=Fo.clamp(o,0,1)),o}}(),closestPointToPoint:function(t,e,i){var n=this.closestPointToPointParameter(t,e),r=i||new h;return this.delta(r).multiplyScalar(n).add(this.start)},applyMatrix4:function(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this},equals:function(t){return t.start.equals(this.start)&&t.end.equals(this.end)}},pt.normal=function(){var t=new h;return function(e,i,n,r){var a=r||new h;a.subVectors(n,i),t.subVectors(e,i),a.cross(t);var o=a.lengthSq();return o>0?a.multiplyScalar(1/Math.sqrt(o)):a.set(0,0,0)}}(),pt.barycoordFromPoint=function(){var t=new h,e=new h,i=new h;return function(n,r,a,o,s){t.subVectors(o,r),e.subVectors(a,r),i.subVectors(n,r);var c=t.dot(t),l=t.dot(e),u=t.dot(i),p=e.dot(e),d=e.dot(i),f=c*p-l*l,m=s||new h;if(0===f)return m.set(-2,-1,-1);var v=1/f,g=(p*u-l*d)*v,y=(c*d-l*u)*v;return m.set(1-g-y,y,g)}}(),pt.containsPoint=function(){var t=new h;return function(e,i,n,r){var a=pt.barycoordFromPoint(e,i,n,r,t);return a.x>=0&&a.y>=0&&a.x+a.y<=1}}(),pt.prototype={constructor:pt,set:function(t,e,i){return this.a.copy(t),this.b.copy(e),this.c.copy(i),this},setFromPointsAndIndices:function(t,e,i,n){return this.a.copy(t[e]),this.b.copy(t[i]),this.c.copy(t[n]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this},area:function(){var t=new h,e=new h;return function(){return t.subVectors(this.c,this.b),e.subVectors(this.a,this.b),.5*t.cross(e).length()}}(),midpoint:function(t){var e=t||new h;return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(t){return pt.normal(this.a,this.b,this.c,t)},plane:function(t){var e=t||new nt;return e.setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(t,e){return pt.barycoordFromPoint(t,this.a,this.b,this.c,e)},containsPoint:function(t){return pt.containsPoint(t,this.a,this.b,this.c)},closestPointToPoint:function(){var t,e,i,n;return function(r,a){void 0===t&&(t=new nt,e=[new ut,new ut,new ut],i=new h,n=new h);var o=a||new h,s=1/0;if(t.setFromCoplanarPoints(this.a,this.b,this.c),t.projectPoint(r,i),this.containsPoint(i)===!0)o.copy(i);else{e[0].set(this.a,this.b),e[1].set(this.b,this.c),e[2].set(this.c,this.a);for(var c=0;c<e.length;c++){e[c].closestPointToPoint(i,!0,n);var l=i.distanceToSquared(n);l<s&&(s=l,o.copy(n))}}return o}}(),equals:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}},dt.prototype={constructor:dt,clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(var e=0,i=t.vertexNormals.length;e<i;e++)this.vertexNormals[e]=t.vertexNormals[e].clone();for(var e=0,i=t.vertexColors.length;e<i;e++)this.vertexColors[e]=t.vertexColors[e].clone();return this}},ft.prototype=Object.create(J.prototype),ft.prototype.constructor=ft,ft.prototype.isMeshBasicMaterial=!0,ft.prototype.copy=function(t){return J.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this},mt.prototype={constructor:mt,isBufferAttribute:!0,set needsUpdate(t){t===!0&&this.version++},setArray:function(t){if(Array.isArray(t))throw new TypeError(\\\"THREE.BufferAttribute: array should be a Typed Array.\\\");this.count=void 0!==t?t.length/this.itemSize:0,this.array=t},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.dynamic=t.dynamic,this},copyAt:function(t,e,i){t*=this.itemSize,i*=e.itemSize;for(var n=0,r=this.itemSize;n<r;n++)this.array[t+n]=e.array[i+n];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){for(var e=this.array,i=0,n=0,r=t.length;n<r;n++){var a=t[n];void 0===a&&(console.warn(\\\"THREE.BufferAttribute.copyColorsArray(): color is undefined\\\",n),a=new X),e[i++]=a.r,e[i++]=a.g,e[i++]=a.b}return this},copyIndicesArray:function(t){for(var e=this.array,i=0,n=0,r=t.length;n<r;n++){var a=t[n];e[i++]=a.a,e[i++]=a.b,e[i++]=a.c}return this},copyVector2sArray:function(t){for(var e=this.array,n=0,r=0,a=t.length;r<a;r++){var o=t[r];void 0===o&&(console.warn(\\\"THREE.BufferAttribute.copyVector2sArray(): vector is undefined\\\",r),o=new i),e[n++]=o.x,e[n++]=o.y}return this},copyVector3sArray:function(t){for(var e=this.array,i=0,n=0,r=t.length;n<r;n++){var a=t[n];void 0===a&&(console.warn(\\\"THREE.BufferAttribute.copyVector3sArray(): vector is undefined\\\",n),a=new h),e[i++]=a.x,e[i++]=a.y,e[i++]=a.z}return this},copyVector4sArray:function(t){for(var e=this.array,i=0,n=0,r=t.length;n<r;n++){var o=t[n];void 0===o&&(console.warn(\\\"THREE.BufferAttribute.copyVector4sArray(): vector is undefined\\\",n),o=new a),e[i++]=o.x,e[i++]=o.y,e[i++]=o.z,e[i++]=o.w}return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this},setXYZ:function(t,e,i,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=n,this},setXYZW:function(t,e,i,n,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=n,this.array[t+3]=r,this},clone:function(){return(new this.constructor).copy(this)}},Object.assign(St.prototype,e.prototype,{isGeometry:!0,applyMatrix:function(t){for(var e=(new it).getNormalMatrix(t),i=0,n=this.vertices.length;i<n;i++){var r=this.vertices[i];r.applyMatrix4(t)}for(var i=0,n=this.faces.length;i<n;i++){var a=this.faces[i];a.normal.applyMatrix3(e).normalize();for(var o=0,s=a.vertexNormals.length;o<s;o++)a.vertexNormals[o].applyMatrix3(e).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var t;return function(e){return void 0===t&&(t=new l),t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t;return function(e){return void 0===t&&(t=new l),t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t;return function(e){return void 0===t&&(t=new l),t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t;return function(e,i,n){return void 0===t&&(t=new l),t.makeTranslation(e,i,n),this.applyMatrix(t),this}}(),scale:function(){var t;return function(e,i,n){return void 0===t&&(t=new l),t.makeScale(e,i,n),this.applyMatrix(t),this}}(),lookAt:function(){var t;return function(e){void 0===t&&(t=new ht),t.lookAt(e),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),fromBufferGeometry:function(t){function e(t,e,i,r){var a=void 0!==s?[p[t].clone(),p[e].clone(),p[i].clone()]:[],o=void 0!==c?[n.colors[t].clone(),n.colors[e].clone(),n.colors[i].clone()]:[],h=new dt(t,e,i,a,o,r);n.faces.push(h),void 0!==l&&n.faceVertexUvs[0].push([d[t].clone(),d[e].clone(),d[i].clone()]),void 0!==u&&n.faceVertexUvs[1].push([f[t].clone(),f[e].clone(),f[i].clone()])}var n=this,r=null!==t.index?t.index.array:void 0,a=t.attributes,o=a.position.array,s=void 0!==a.normal?a.normal.array:void 0,c=void 0!==a.color?a.color.array:void 0,l=void 0!==a.uv?a.uv.array:void 0,u=void 0!==a.uv2?a.uv2.array:void 0;void 0!==u&&(this.faceVertexUvs[1]=[]);for(var p=[],d=[],f=[],m=0,v=0;m<o.length;m+=3,v+=2)n.vertices.push(new h(o[m],o[m+1],o[m+2])),void 0!==s&&p.push(new h(s[m],s[m+1],s[m+2])),void 0!==c&&n.colors.push(new X(c[m],c[m+1],c[m+2])),void 0!==l&&d.push(new i(l[v],l[v+1])),void 0!==u&&f.push(new i(u[v],u[v+1]));if(void 0!==r){var g=t.groups;if(g.length>0)for(var m=0;m<g.length;m++)for(var y=g[m],x=y.start,_=y.count,v=x,b=x+_;v<b;v+=3)e(r[v],r[v+1],r[v+2],y.materialIndex);else for(var m=0;m<r.length;m+=3)e(r[m],r[m+1],r[m+2])}else for(var m=0;m<o.length/3;m+=3)e(m,m+1,m+2);return this.computeFaceNormals(),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this},center:function(){this.computeBoundingBox();var t=this.boundingBox.getCenter().negate();return this.translate(t.x,t.y,t.z),t},normalize:function(){this.computeBoundingSphere();var t=this.boundingSphere.center,e=this.boundingSphere.radius,i=0===e?1:1/e,n=new l;return n.set(i,0,0,-i*t.x,0,i,0,-i*t.y,0,0,i,-i*t.z,0,0,0,1),this.applyMatrix(n),this},computeFaceNormals:function(){for(var t=new h,e=new h,i=0,n=this.faces.length;i<n;i++){var r=this.faces[i],a=this.vertices[r.a],o=this.vertices[r.b],s=this.vertices[r.c];t.subVectors(s,o),e.subVectors(a,o),t.cross(e),t.normalize(),r.normal.copy(t)}},computeVertexNormals:function(t){void 0===t&&(t=!0);var e,i,n,r,a,o;for(o=new Array(this.vertices.length),e=0,i=this.vertices.length;e<i;e++)o[e]=new h;if(t){var s,c,l,u=new h,p=new h;for(n=0,r=this.faces.length;n<r;n++)a=this.faces[n],s=this.vertices[a.a],c=this.vertices[a.b],l=this.vertices[a.c],u.subVectors(l,c),p.subVectors(s,c),u.cross(p),o[a.a].add(u),o[a.b].add(u),o[a.c].add(u)}else for(this.computeFaceNormals(),n=0,r=this.faces.length;n<r;n++)a=this.faces[n],o[a.a].add(a.normal),o[a.b].add(a.normal),o[a.c].add(a.normal);for(e=0,i=this.vertices.length;e<i;e++)o[e].normalize();for(n=0,r=this.faces.length;n<r;n++){a=this.faces[n];var d=a.vertexNormals;3===d.length?(d[0].copy(o[a.a]),d[1].copy(o[a.b]),d[2].copy(o[a.c])):(d[0]=o[a.a].clone(),d[1]=o[a.b].clone(),d[2]=o[a.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var t,e,i;for(this.computeFaceNormals(),t=0,e=this.faces.length;t<e;t++){i=this.faces[t];var n=i.vertexNormals;3===n.length?(n[0].copy(i.normal),n[1].copy(i.normal),n[2].copy(i.normal)):(n[0]=i.normal.clone(),n[1]=i.normal.clone(),n[2]=i.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var t,e,i,n,r;for(i=0,n=this.faces.length;i<n;i++)for(r=this.faces[i],r.__originalFaceNormal?r.__originalFaceNormal.copy(r.normal):r.__originalFaceNormal=r.normal.clone(),r.__originalVertexNormals||(r.__originalVertexNormals=[]),t=0,e=r.vertexNormals.length;t<e;t++)r.__originalVertexNormals[t]?r.__originalVertexNormals[t].copy(r.vertexNormals[t]):r.__originalVertexNormals[t]=r.vertexNormals[t].clone();var a=new St;for(a.faces=this.faces,t=0,e=this.morphTargets.length;t<e;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];var o,s,c=this.morphNormals[t].faceNormals,l=this.morphNormals[t].vertexNormals;for(i=0,n=this.faces.length;i<n;i++)o=new h,s={a:new h,b:new h,c:new h},c.push(o),l.push(s)}var u=this.morphNormals[t];a.vertices=this.morphTargets[t].vertices,a.computeFaceNormals(),a.computeVertexNormals();var o,s;for(i=0,n=this.faces.length;i<n;i++)r=this.faces[i],o=u.faceNormals[i],s=u.vertexNormals[i],o.copy(r.normal),s.a.copy(r.vertexNormals[0]),s.b.copy(r.vertexNormals[1]),s.c.copy(r.vertexNormals[2])}for(i=0,n=this.faces.length;i<n;i++)r=this.faces[i],r.normal=r.__originalFaceNormal,r.vertexNormals=r.__originalVertexNormals},computeTangents:function(){console.warn(\\\"THREE.Geometry: .computeTangents() has been removed.\\\")},computeLineDistances:function(){for(var t=0,e=this.vertices,i=0,n=e.length;i<n;i++)i>0&&(t+=e[i].distanceTo(e[i-1])),this.lineDistances[i]=t},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new tt),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new et),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e,i){if((t&&t.isGeometry)===!1)return void console.error(\\\"THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.\\\",t);var n,r=this.vertices.length,a=this.vertices,o=t.vertices,s=this.faces,c=t.faces,h=this.faceVertexUvs[0],l=t.faceVertexUvs[0],u=this.colors,p=t.colors;void 0===i&&(i=0),void 0!==e&&(n=(new it).getNormalMatrix(e));for(var d=0,f=o.length;d<f;d++){var m=o[d],v=m.clone();void 0!==e&&v.applyMatrix4(e),a.push(v)}for(var d=0,f=p.length;d<f;d++)u.push(p[d].clone());for(d=0,f=c.length;d<f;d++){var g,y,x,_=c[d],b=_.vertexNormals,w=_.vertexColors;g=new dt(_.a+r,_.b+r,_.c+r),g.normal.copy(_.normal),void 0!==n&&g.normal.applyMatrix3(n).normalize();for(var M=0,E=b.length;M<E;M++)y=b[M].clone(),void 0!==n&&y.applyMatrix3(n).normalize(),g.vertexNormals.push(y);g.color.copy(_.color);for(var M=0,E=w.length;M<E;M++)x=w[M],g.vertexColors.push(x.clone());g.materialIndex=_.materialIndex+i,s.push(g)}for(d=0,f=l.length;d<f;d++){var T=l[d],S=[];if(void 0!==T){for(var M=0,E=T.length;M<E;M++)S.push(T[M].clone());h.push(S)}}},mergeMesh:function(t){return(t&&t.isMesh)===!1?void console.error(\\\"THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.\\\",t):(t.matrixAutoUpdate&&t.updateMatrix(),void this.merge(t.geometry,t.matrix))},mergeVertices:function(){var t,e,i,n,r,a,o,s,c={},h=[],l=[],u=4,p=Math.pow(10,u);for(i=0,n=this.vertices.length;i<n;i++)t=this.vertices[i],e=Math.round(t.x*p)+\\\"_\\\"+Math.round(t.y*p)+\\\"_\\\"+Math.round(t.z*p),void 0===c[e]?(c[e]=i,h.push(this.vertices[i]),l[i]=h.length-1):l[i]=l[c[e]];var d=[];for(i=0,n=this.faces.length;i<n;i++){r=this.faces[i],r.a=l[r.a],r.b=l[r.b],r.c=l[r.c],a=[r.a,r.b,r.c];for(var f=-1,m=0;m<3;m++)if(a[m]===a[(m+1)%3]){f=m,d.push(i);break}}for(i=d.length-1;i>=0;i--){var v=d[i];for(this.faces.splice(v,1),o=0,s=this.faceVertexUvs.length;o<s;o++)this.faceVertexUvs[o].splice(v,1)}var g=this.vertices.length-h.length;return this.vertices=h,g},sortFacesByMaterialIndex:function(){function t(t,e){return t.materialIndex-e.materialIndex}for(var e=this.faces,i=e.length,n=0;n<i;n++)e[n]._id=n;e.sort(t);var r,a,o=this.faceVertexUvs[0],s=this.faceVertexUvs[1];o&&o.length===i&&(r=[]),s&&s.length===i&&(a=[]);for(var n=0;n<i;n++){var c=e[n]._id;r&&r.push(o[c]),a&&a.push(s[c])}r&&(this.faceVertexUvs[0]=r),a&&(this.faceVertexUvs[1]=a)},toJSON:function(){function t(t,e,i){return i?t|1<<e:t&~(1<<e)}function e(t){var e=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==p[e]?p[e]:(p[e]=u.length/3,u.push(t.x,t.y,t.z),p[e])}function i(t){var e=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==f[e]?f[e]:(f[e]=d.length,d.push(t.getHex()),f[e])}function n(t){var e=t.x.toString()+t.y.toString();return void 0!==v[e]?v[e]:(v[e]=m.length/2,m.push(t.x,t.y),v[e])}var r={metadata:{version:4.4,type:\\\"Geometry\\\",generator:\\\"Geometry.toJSON\\\"}};if(r.uuid=this.uuid,r.type=this.type,\\\"\\\"!==this.name&&(r.name=this.name),void 0!==this.parameters){var a=this.parameters;for(var o in a)void 0!==a[o]&&(r[o]=a[o]);return r}for(var s=[],c=0;c<this.vertices.length;c++){var h=this.vertices[c];s.push(h.x,h.y,h.z)}for(var l=[],u=[],p={},d=[],f={},m=[],v={},c=0;c<this.faces.length;c++){var g=this.faces[c],y=!0,x=!1,_=void 0!==this.faceVertexUvs[0][c],b=g.normal.length()>0,w=g.vertexNormals.length>0,M=1!==g.color.r||1!==g.color.g||1!==g.color.b,E=g.vertexColors.length>0,T=0;if(T=t(T,0,0),T=t(T,1,y),T=t(T,2,x),T=t(T,3,_),T=t(T,4,b),T=t(T,5,w),T=t(T,6,M),T=t(T,7,E),l.push(T),l.push(g.a,g.b,g.c),l.push(g.materialIndex),_){var S=this.faceVertexUvs[0][c];l.push(n(S[0]),n(S[1]),n(S[2]))}if(b&&l.push(e(g.normal)),w){var A=g.vertexNormals;l.push(e(A[0]),e(A[1]),e(A[2]))}if(M&&l.push(i(g.color)),E){var L=g.vertexColors;l.push(i(L[0]),i(L[1]),i(L[2]))}}return r.data={},r.data.vertices=s,r.data.normals=u,d.length>0&&(r.data.colors=d),m.length>0&&(r.data.uvs=[m]),r.data.faces=l,r},clone:function(){return(new St).copy(this)},copy:function(t){this.vertices=[],this.faces=[],this.faceVertexUvs=[[]],this.colors=[];for(var e=t.vertices,i=0,n=e.length;i<n;i++)this.vertices.push(e[i].clone());for(var r=t.colors,i=0,n=r.length;i<n;i++)this.colors.push(r[i].clone());\\nfor(var a=t.faces,i=0,n=a.length;i<n;i++)this.faces.push(a[i].clone());for(var i=0,n=t.faceVertexUvs.length;i<n;i++){var o=t.faceVertexUvs[i];void 0===this.faceVertexUvs[i]&&(this.faceVertexUvs[i]=[]);for(var s=0,c=o.length;s<c;s++){for(var h=o[s],l=[],u=0,p=h.length;u<p;u++){var d=h[u];l.push(d.clone())}this.faceVertexUvs[i].push(l)}}return this},dispose:function(){this.dispatchEvent({type:\\\"dispose\\\"})}});var qc=0;Object.assign(Lt.prototype,e.prototype,{computeBoundingBox:St.prototype.computeBoundingBox,computeBoundingSphere:St.prototype.computeBoundingSphere,computeFaceNormals:function(){console.warn(\\\"THREE.DirectGeometry: computeFaceNormals() is not a method of this type of geometry.\\\")},computeVertexNormals:function(){console.warn(\\\"THREE.DirectGeometry: computeVertexNormals() is not a method of this type of geometry.\\\")},computeGroups:function(t){for(var e,i,n=[],r=t.faces,a=0;a<r.length;a++){var o=r[a];o.materialIndex!==i&&(i=o.materialIndex,void 0!==e&&(e.count=3*a-e.start,n.push(e)),e={start:3*a,materialIndex:i})}void 0!==e&&(e.count=3*a-e.start,n.push(e)),this.groups=n},fromGeometry:function(t){var e,n=t.faces,r=t.vertices,a=t.faceVertexUvs,o=a[0]&&a[0].length>0,s=a[1]&&a[1].length>0,c=t.morphTargets,h=c.length;if(h>0){e=[];for(var l=0;l<h;l++)e[l]=[];this.morphTargets.position=e}var u,p=t.morphNormals,d=p.length;if(d>0){u=[];for(var l=0;l<d;l++)u[l]=[];this.morphTargets.normal=u}for(var f=t.skinIndices,m=t.skinWeights,v=f.length===r.length,g=m.length===r.length,l=0;l<n.length;l++){var y=n[l];this.vertices.push(r[y.a],r[y.b],r[y.c]);var x=y.vertexNormals;if(3===x.length)this.normals.push(x[0],x[1],x[2]);else{var _=y.normal;this.normals.push(_,_,_)}var b=y.vertexColors;if(3===b.length)this.colors.push(b[0],b[1],b[2]);else{var w=y.color;this.colors.push(w,w,w)}if(o===!0){var M=a[0][l];void 0!==M?this.uvs.push(M[0],M[1],M[2]):(console.warn(\\\"THREE.DirectGeometry.fromGeometry(): Undefined vertexUv \\\",l),this.uvs.push(new i,new i,new i))}if(s===!0){var M=a[1][l];void 0!==M?this.uvs2.push(M[0],M[1],M[2]):(console.warn(\\\"THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 \\\",l),this.uvs2.push(new i,new i,new i))}for(var E=0;E<h;E++){var T=c[E].vertices;e[E].push(T[y.a],T[y.b],T[y.c])}for(var E=0;E<d;E++){var S=p[E].vertexNormals[l];u[E].push(S.a,S.b,S.c)}v&&this.skinIndices.push(f[y.a],f[y.b],f[y.c]),g&&this.skinWeights.push(m[y.a],m[y.b],m[y.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:\\\"dispose\\\"})}}),Object.assign(Rt.prototype,e.prototype,{isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){this.index=t},addAttribute:function(t,e){return(e&&e.isBufferAttribute)===!1&&(e&&e.isInterleavedBufferAttribute)===!1?(console.warn(\\\"THREE.BufferGeometry: .addAttribute() now expects ( name, attribute ).\\\"),void this.addAttribute(t,new mt(arguments[1],arguments[2]))):\\\"index\\\"===t?(console.warn(\\\"THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute.\\\"),void this.setIndex(e)):(this.attributes[t]=e,this)},getAttribute:function(t){return this.attributes[t]},removeAttribute:function(t){return delete this.attributes[t],this},addGroup:function(t,e,i){this.groups.push({start:t,count:e,materialIndex:void 0!==i?i:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix:function(t){var e=this.attributes.position;void 0!==e&&(t.applyToVector3Array(e.array),e.needsUpdate=!0);var i=this.attributes.normal;if(void 0!==i){var n=(new it).getNormalMatrix(t);n.applyToVector3Array(i.array),i.needsUpdate=!0}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var t;return function(e){return void 0===t&&(t=new l),t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t;return function(e){return void 0===t&&(t=new l),t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t;return function(e){return void 0===t&&(t=new l),t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t;return function(e,i,n){return void 0===t&&(t=new l),t.makeTranslation(e,i,n),this.applyMatrix(t),this}}(),scale:function(){var t;return function(e,i,n){return void 0===t&&(t=new l),t.makeScale(e,i,n),this.applyMatrix(t),this}}(),lookAt:function(){var t;return function(e){void 0===t&&(t=new ht),t.lookAt(e),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),center:function(){this.computeBoundingBox();var t=this.boundingBox.getCenter().negate();return this.translate(t.x,t.y,t.z),t},setFromObject:function(t){var e=t.geometry;if(t&&t.isPoints||t&&t.isLine){var i=new Mt(3*e.vertices.length,3),n=new Mt(3*e.colors.length,3);if(this.addAttribute(\\\"position\\\",i.copyVector3sArray(e.vertices)),this.addAttribute(\\\"color\\\",n.copyColorsArray(e.colors)),e.lineDistances&&e.lineDistances.length===e.vertices.length){var r=new Mt(e.lineDistances.length,1);this.addAttribute(\\\"lineDistance\\\",r.copyArray(e.lineDistances))}null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone())}else t&&t.isMesh&&e&&e.isGeometry&&this.fromGeometry(e);return this},updateFromObject:function(t){var e=t.geometry;if(t&&t.isMesh){var i=e.__directGeometry;if(e.elementsNeedUpdate===!0&&(i=void 0,e.elementsNeedUpdate=!1),void 0===i)return this.fromGeometry(e);i.verticesNeedUpdate=e.verticesNeedUpdate,i.normalsNeedUpdate=e.normalsNeedUpdate,i.colorsNeedUpdate=e.colorsNeedUpdate,i.uvsNeedUpdate=e.uvsNeedUpdate,i.groupsNeedUpdate=e.groupsNeedUpdate,e.verticesNeedUpdate=!1,e.normalsNeedUpdate=!1,e.colorsNeedUpdate=!1,e.uvsNeedUpdate=!1,e.groupsNeedUpdate=!1,e=i}var n;return e.verticesNeedUpdate===!0&&(n=this.attributes.position,void 0!==n&&(n.copyVector3sArray(e.vertices),n.needsUpdate=!0),e.verticesNeedUpdate=!1),e.normalsNeedUpdate===!0&&(n=this.attributes.normal,void 0!==n&&(n.copyVector3sArray(e.normals),n.needsUpdate=!0),e.normalsNeedUpdate=!1),e.colorsNeedUpdate===!0&&(n=this.attributes.color,void 0!==n&&(n.copyColorsArray(e.colors),n.needsUpdate=!0),e.colorsNeedUpdate=!1),e.uvsNeedUpdate&&(n=this.attributes.uv,void 0!==n&&(n.copyVector2sArray(e.uvs),n.needsUpdate=!0),e.uvsNeedUpdate=!1),e.lineDistancesNeedUpdate&&(n=this.attributes.lineDistance,void 0!==n&&(n.copyArray(e.lineDistances),n.needsUpdate=!0),e.lineDistancesNeedUpdate=!1),e.groupsNeedUpdate&&(e.computeGroups(t.geometry),this.groups=e.groups,e.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=(new Lt).fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){var e=new Float32Array(3*t.vertices.length);if(this.addAttribute(\\\"position\\\",new mt(e,3).copyVector3sArray(t.vertices)),t.normals.length>0){var i=new Float32Array(3*t.normals.length);this.addAttribute(\\\"normal\\\",new mt(i,3).copyVector3sArray(t.normals))}if(t.colors.length>0){var n=new Float32Array(3*t.colors.length);this.addAttribute(\\\"color\\\",new mt(n,3).copyColorsArray(t.colors))}if(t.uvs.length>0){var r=new Float32Array(2*t.uvs.length);this.addAttribute(\\\"uv\\\",new mt(r,2).copyVector2sArray(t.uvs))}if(t.uvs2.length>0){var a=new Float32Array(2*t.uvs2.length);this.addAttribute(\\\"uv2\\\",new mt(a,2).copyVector2sArray(t.uvs2))}if(t.indices.length>0){var o=t.vertices.length>65535?Uint32Array:Uint16Array,s=new o(3*t.indices.length);this.setIndex(new mt(s,1).copyIndicesArray(t.indices))}this.groups=t.groups;for(var c in t.morphTargets){for(var h=[],l=t.morphTargets[c],u=0,p=l.length;u<p;u++){var d=l[u],f=new Mt(3*d.length,3);h.push(f.copyVector3sArray(d))}this.morphAttributes[c]=h}if(t.skinIndices.length>0){var m=new Mt(4*t.skinIndices.length,4);this.addAttribute(\\\"skinIndex\\\",m.copyVector4sArray(t.skinIndices))}if(t.skinWeights.length>0){var v=new Mt(4*t.skinWeights.length,4);this.addAttribute(\\\"skinWeight\\\",v.copyVector4sArray(t.skinWeights))}return null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new tt);var t=this.attributes.position.array;void 0!==t?this.boundingBox.setFromArray(t):this.boundingBox.makeEmpty(),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The \\\"position\\\" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){var t=new tt,e=new h;return function(){null===this.boundingSphere&&(this.boundingSphere=new et);var i=this.attributes.position;if(i){var n=i.array,r=this.boundingSphere.center;t.setFromArray(n),t.getCenter(r);for(var a=0,o=0,s=n.length;o<s;o+=3)e.fromArray(n,o),a=Math.max(a,r.distanceToSquared(e));this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The \\\"position\\\" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var t=this.index,e=this.attributes,i=this.groups;if(e.position){var n=e.position.array;if(void 0===e.normal)this.addAttribute(\\\"normal\\\",new mt(new Float32Array(n.length),3));else for(var r=e.normal.array,a=0,o=r.length;a<o;a++)r[a]=0;var s,c,l,u=e.normal.array,p=new h,d=new h,f=new h,m=new h,v=new h;if(t){var g=t.array;0===i.length&&this.addGroup(0,g.length);for(var y=0,x=i.length;y<x;++y)for(var _=i[y],b=_.start,w=_.count,a=b,o=b+w;a<o;a+=3)s=3*g[a+0],c=3*g[a+1],l=3*g[a+2],p.fromArray(n,s),d.fromArray(n,c),f.fromArray(n,l),m.subVectors(f,d),v.subVectors(p,d),m.cross(v),u[s]+=m.x,u[s+1]+=m.y,u[s+2]+=m.z,u[c]+=m.x,u[c+1]+=m.y,u[c+2]+=m.z,u[l]+=m.x,u[l+1]+=m.y,u[l+2]+=m.z}else for(var a=0,o=n.length;a<o;a+=9)p.fromArray(n,a),d.fromArray(n,a+3),f.fromArray(n,a+6),m.subVectors(f,d),v.subVectors(p,d),m.cross(v),u[a]=m.x,u[a+1]=m.y,u[a+2]=m.z,u[a+3]=m.x,u[a+4]=m.y,u[a+5]=m.z,u[a+6]=m.x,u[a+7]=m.y,u[a+8]=m.z;this.normalizeNormals(),e.normal.needsUpdate=!0}},merge:function(t,e){if((t&&t.isBufferGeometry)===!1)return void console.error(\\\"THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.\\\",t);void 0===e&&(e=0);var i=this.attributes;for(var n in i)if(void 0!==t.attributes[n])for(var r=i[n],a=r.array,o=t.attributes[n],s=o.array,c=o.itemSize,h=0,l=c*e;h<s.length;h++,l++)a[l]=s[h];return this},normalizeNormals:function(){for(var t,e,i,n,r=this.attributes.normal.array,a=0,o=r.length;a<o;a+=3)t=r[a],e=r[a+1],i=r[a+2],n=1/Math.sqrt(t*t+e*e+i*i),r[a]*=n,r[a+1]*=n,r[a+2]*=n},toNonIndexed:function(){if(null===this.index)return console.warn(\\\"THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed.\\\"),this;var t=new Rt,e=this.index.array,i=this.attributes;for(var n in i){for(var r=i[n],a=r.array,o=r.itemSize,s=new a.constructor(e.length*o),c=0,h=0,l=0,u=e.length;l<u;l++){c=e[l]*o;for(var p=0;p<o;p++)s[h++]=a[c++]}t.addAttribute(n,new mt(s,o))}return t},toJSON:function(){var t={metadata:{version:4.4,type:\\\"BufferGeometry\\\",generator:\\\"BufferGeometry.toJSON\\\"}};if(t.uuid=this.uuid,t.type=this.type,\\\"\\\"!==this.name&&(t.name=this.name),void 0!==this.parameters){var e=this.parameters;for(var i in e)void 0!==e[i]&&(t[i]=e[i]);return t}t.data={attributes:{}};var n=this.index;if(null!==n){var r=Array.prototype.slice.call(n.array);t.data.index={type:n.array.constructor.name,array:r}}var a=this.attributes;for(var i in a){var o=a[i],r=Array.prototype.slice.call(o.array);t.data.attributes[i]={itemSize:o.itemSize,type:o.array.constructor.name,array:r,normalized:o.normalized}}var s=this.groups;s.length>0&&(t.data.groups=JSON.parse(JSON.stringify(s)));var c=this.boundingSphere;return null!==c&&(t.data.boundingSphere={center:c.center.toArray(),radius:c.radius}),t},clone:function(){return(new Rt).copy(this)},copy:function(t){var e=t.index;null!==e&&this.setIndex(e.clone());var i=t.attributes;for(var n in i){var r=i[n];this.addAttribute(n,r.clone())}for(var a=t.groups,o=0,s=a.length;o<s;o++){var c=a[o];this.addGroup(c.start,c.count,c.materialIndex)}return this},dispose:function(){this.dispatchEvent({type:\\\"dispose\\\"})}}),Rt.MaxIndex=65535,Pt.prototype=Object.assign(Object.create(ht.prototype),{constructor:Pt,isMesh:!0,setDrawMode:function(t){this.drawMode=t},copy:function(t){return ht.prototype.copy.call(this,t),this.drawMode=t.drawMode,this},updateMorphTargets:function(){var t=this.geometry.morphTargets;if(void 0!==t&&t.length>0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var e=0,i=t.length;e<i;e++)this.morphTargetInfluences.push(0),this.morphTargetDictionary[t[e].name]=e}},raycast:function(){function t(t,e,i,n,r,a,o){return pt.barycoordFromPoint(t,e,i,n,y),r.multiplyScalar(y.x),a.multiplyScalar(y.y),o.multiplyScalar(y.z),r.add(a).add(o),r.clone()}function e(t,e,i,n,r,a,o){var s,c=t.material;if(s=c.side===Ar?i.intersectTriangle(a,r,n,!0,o):i.intersectTriangle(n,r,a,c.side!==Lr,o),null===s)return null;_.copy(o),_.applyMatrix4(t.matrixWorld);var h=e.ray.origin.distanceTo(_);return h<e.near||h>e.far?null:{distance:h,point:_.clone(),object:t}}function n(i,n,r,a,o,h,l,p){s.fromArray(a,3*h),c.fromArray(a,3*l),u.fromArray(a,3*p);var d=e(i,n,r,s,c,u,x);return d&&(o&&(m.fromArray(o,2*h),v.fromArray(o,2*l),g.fromArray(o,2*p),d.uv=t(x,s,c,u,m,v,g)),d.face=new dt(h,l,p,pt.normal(s,c,u)),d.faceIndex=h),d}var r=new l,a=new ot,o=new et,s=new h,c=new h,u=new h,p=new h,d=new h,f=new h,m=new i,v=new i,g=new i,y=new h,x=new h,_=new h;return function(i,h){var l=this.geometry,y=this.material,_=this.matrixWorld;if(void 0!==y&&(null===l.boundingSphere&&l.computeBoundingSphere(),o.copy(l.boundingSphere),o.applyMatrix4(_),i.ray.intersectsSphere(o)!==!1&&(r.getInverse(_),a.copy(i.ray).applyMatrix4(r),null===l.boundingBox||a.intersectsBox(l.boundingBox)!==!1))){var b,w;if(l&&l.isBufferGeometry){var M,E,T,S=l.index,A=l.attributes,L=A.position.array;if(void 0!==A.uv&&(b=A.uv.array),null!==S)for(var R=S.array,P=0,C=R.length;P<C;P+=3)M=R[P],E=R[P+1],T=R[P+2],w=n(this,i,a,L,b,M,E,T),w&&(w.faceIndex=Math.floor(P/3),h.push(w));else for(var P=0,C=L.length;P<C;P+=9)M=P/3,E=M+1,T=M+2,w=n(this,i,a,L,b,M,E,T),w&&(w.index=M,h.push(w))}else if(l&&l.isGeometry){var I,U,N,D=y&&y.isMultiMaterial,O=D===!0?y.materials:null,F=l.vertices,B=l.faces,z=l.faceVertexUvs[0];z.length>0&&(b=z);for(var G=0,H=B.length;G<H;G++){var V=B[G],k=D===!0?O[V.materialIndex]:y;if(void 0!==k){if(I=F[V.a],U=F[V.b],N=F[V.c],k.morphTargets===!0){var j=l.morphTargets,W=this.morphTargetInfluences;s.set(0,0,0),c.set(0,0,0),u.set(0,0,0);for(var X=0,Y=j.length;X<Y;X++){var q=W[X];if(0!==q){var Z=j[X].vertices;s.addScaledVector(p.subVectors(Z[V.a],I),q),c.addScaledVector(d.subVectors(Z[V.b],U),q),u.addScaledVector(f.subVectors(Z[V.c],N),q)}}s.add(I),c.add(U),u.add(N),I=s,U=c,N=u}if(w=e(this,i,a,I,U,N,x)){if(b){var J=b[G];m.copy(J[0]),v.copy(J[1]),g.copy(J[2]),w.uv=t(x,I,U,N,m,v,g)}w.face=V,w.faceIndex=G,h.push(w)}}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Ct.prototype=Object.create(Rt.prototype),Ct.prototype.constructor=Ct,It.prototype=Object.create(Rt.prototype),It.prototype.constructor=It,Ut.prototype=Object.create(ht.prototype),Ut.prototype.constructor=Ut,Ut.prototype.isCamera=!0,Ut.prototype.getWorldDirection=function(){var t=new c;return function(e){var i=e||new h;return this.getWorldQuaternion(t),i.set(0,0,-1).applyQuaternion(t)}}(),Ut.prototype.lookAt=function(){var t=new l;return function(e){t.lookAt(this.position,e,this.up),this.quaternion.setFromRotationMatrix(t)}}(),Ut.prototype.clone=function(){return(new this.constructor).copy(this)},Ut.prototype.copy=function(t){return ht.prototype.copy.call(this,t),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this},Nt.prototype=Object.assign(Object.create(Ut.prototype),{constructor:Nt,isPerspectiveCamera:!0,copy:function(t){return Ut.prototype.copy.call(this,t),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){var e=.5*this.getFilmHeight()/t;this.fov=2*Fo.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){var t=Math.tan(.5*Fo.DEG2RAD*this.fov);return.5*this.getFilmHeight()/t},getEffectiveFOV:function(){return 2*Fo.RAD2DEG*Math.atan(Math.tan(.5*Fo.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,i,n,r,a){this.aspect=t/e,this.view={fullWidth:t,fullHeight:e,offsetX:i,offsetY:n,width:r,height:a},this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null,this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=this.near,e=t*Math.tan(.5*Fo.DEG2RAD*this.fov)/this.zoom,i=2*e,n=this.aspect*i,r=-.5*n,a=this.view;if(null!==a){var o=a.fullWidth,s=a.fullHeight;r+=a.offsetX*n/o,e-=a.offsetY*i/s,n*=a.width/o,i*=a.height/s}var c=this.filmOffset;0!==c&&(r+=t*c/this.getFilmWidth()),this.projectionMatrix.makeFrustum(r,r+n,e-i,e,t,this.far)},toJSON:function(t){var e=ht.prototype.toJSON.call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}),Dt.prototype=Object.assign(Object.create(Ut.prototype),{constructor:Dt,isOrthographicCamera:!0,copy:function(t){return Ut.prototype.copy.call(this,t),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this},setViewOffset:function(t,e,i,n,r,a){this.view={fullWidth:t,fullHeight:e,offsetX:i,offsetY:n,width:r,height:a},this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null,this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,n=(this.top+this.bottom)/2,r=i-t,a=i+t,o=n+e,s=n-e;if(null!==this.view){var c=this.zoom/(this.view.width/this.view.fullWidth),h=this.zoom/(this.view.height/this.view.fullHeight),l=(this.right-this.left)/this.view.width,u=(this.top-this.bottom)/this.view.height;r+=l*(this.view.offsetX/c),a=r+l*(this.view.width/c),o-=u*(this.view.offsetY/h),s=o-u*(this.view.height/h)}this.projectionMatrix.makeOrthographic(r,a,o,s,this.near,this.far)},toJSON:function(t){var e=ht.prototype.toJSON.call(this,t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}});var Zc=0;he.prototype.isFogExp2=!0,he.prototype.clone=function(){return new he(this.color.getHex(),this.density)},he.prototype.toJSON=function(t){return{type:\\\"FogExp2\\\",color:this.color.getHex(),density:this.density}},le.prototype.isFog=!0,le.prototype.clone=function(){return new le(this.color.getHex(),this.near,this.far)},le.prototype.toJSON=function(t){return{type:\\\"Fog\\\",color:this.color.getHex(),near:this.near,far:this.far}},ue.prototype=Object.create(ht.prototype),ue.prototype.constructor=ue,ue.prototype.copy=function(t,e){return ht.prototype.copy.call(this,t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this},ue.prototype.toJSON=function(t){var e=ht.prototype.toJSON.call(this,t);return null!==this.background&&(e.object.background=this.background.toJSON(t)),null!==this.fog&&(e.object.fog=this.fog.toJSON()),e},pe.prototype=Object.assign(Object.create(ht.prototype),{constructor:pe,isLensFlare:!0,copy:function(t){ht.prototype.copy.call(this,t),this.positionScreen.copy(t.positionScreen),this.customUpdateCallback=t.customUpdateCallback;for(var e=0,i=t.lensFlares.length;e<i;e++)this.lensFlares.push(t.lensFlares[e]);return this},add:function(t,e,i,n,r,a){void 0===e&&(e=-1),void 0===i&&(i=0),void 0===a&&(a=1),void 0===r&&(r=new X(16777215)),void 0===n&&(n=Dr),i=Math.min(i,Math.max(0,i)),this.lensFlares.push({texture:t,size:e,distance:i,x:0,y:0,z:0,scale:1,rotation:0,opacity:a,color:r,blending:n})},updateLensFlares:function(){var t,e,i=this.lensFlares.length,n=2*-this.positionScreen.x,r=2*-this.positionScreen.y;for(t=0;t<i;t++)e=this.lensFlares[t],e.x=this.positionScreen.x+n*e.distance,e.y=this.positionScreen.y+r*e.distance,e.wantedRotation=e.x*Math.PI*.25,e.rotation+=.25*(e.wantedRotation-e.rotation)}}),de.prototype=Object.create(J.prototype),de.prototype.constructor=de,de.prototype.copy=function(t){return J.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.rotation=t.rotation,this},fe.prototype=Object.assign(Object.create(ht.prototype),{constructor:fe,isSprite:!0,raycast:function(){var t=new h;return function(e,i){t.setFromMatrixPosition(this.matrixWorld);var n=e.ray.distanceSqToPoint(t),r=this.scale.x*this.scale.y/4;n>r||i.push({distance:Math.sqrt(n),point:this.position,face:null,object:this})}}(),clone:function(){return new this.constructor(this.material).copy(this)}}),me.prototype=Object.assign(Object.create(ht.prototype),{constructor:me,copy:function(t){ht.prototype.copy.call(this,t,!1);for(var e=t.levels,i=0,n=e.length;i<n;i++){var r=e[i];this.addLevel(r.object.clone(),r.distance)}return this},addLevel:function(t,e){void 0===e&&(e=0),e=Math.abs(e);for(var i=this.levels,n=0;n<i.length&&!(e<i[n].distance);n++);i.splice(n,0,{distance:e,object:t}),this.add(t)},getObjectForDistance:function(t){for(var e=this.levels,i=1,n=e.length;i<n&&!(t<e[i].distance);i++);return e[i-1].object},raycast:function(){var t=new h;return function(e,i){t.setFromMatrixPosition(this.matrixWorld);var n=e.ray.origin.distanceTo(t);this.getObjectForDistance(n).raycast(e,i)}}(),update:function(){var t=new h,e=new h;return function(i){var n=this.levels;if(n.length>1){t.setFromMatrixPosition(i.matrixWorld),e.setFromMatrixPosition(this.matrixWorld);var r=t.distanceTo(e);n[0].object.visible=!0;for(var a=1,o=n.length;a<o&&r>=n[a].distance;a++)n[a-1].object.visible=!1,n[a].object.visible=!0;for(;a<o;a++)n[a].object.visible=!1}}}(),toJSON:function(t){var e=ht.prototype.toJSON.call(this,t);e.object.levels=[];for(var i=this.levels,n=0,r=i.length;n<r;n++){var a=i[n];e.object.levels.push({object:a.object.uuid,distance:a.distance})}return e}}),ve.prototype=Object.create(n.prototype),ve.prototype.constructor=ve,ve.prototype.isDataTexture=!0,Object.assign(ge.prototype,{calculateInverses:function(){this.boneInverses=[];for(var t=0,e=this.bones.length;t<e;t++){var i=new l;this.bones[t]&&i.getInverse(this.bones[t].matrixWorld),this.boneInverses.push(i)}},pose:function(){for(var t,e=0,i=this.bones.length;e<i;e++)t=this.bones[e],t&&t.matrixWorld.getInverse(this.boneInverses[e]);for(var e=0,i=this.bones.length;e<i;e++)t=this.bones[e],t&&(t.parent&&t.parent.isBone?(t.matrix.getInverse(t.parent.matrixWorld),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))},update:function(){var t=new l;return function(){for(var e=0,i=this.bones.length;e<i;e++){var n=this.bones[e]?this.bones[e].matrixWorld:this.identityMatrix;t.multiplyMatrices(n,this.boneInverses[e]),t.toArray(this.boneMatrices,16*e)}this.useVertexTexture&&(this.boneTexture.needsUpdate=!0)}}(),clone:function(){return new ge(this.bones,this.boneInverses,this.useVertexTexture)}}),ye.prototype=Object.assign(Object.create(ht.prototype),{constructor:ye,isBone:!0,copy:function(t){return ht.prototype.copy.call(this,t),this.skin=t.skin,this}}),xe.prototype=Object.assign(Object.create(Pt.prototype),{constructor:xe,isSkinnedMesh:!0,bind:function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.getInverse(e)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){if(this.geometry&&this.geometry.isGeometry)for(var t=0;t<this.geometry.skinWeights.length;t++){var e=this.geometry.skinWeights[t],i=1/e.lengthManhattan();i!==1/0?e.multiplyScalar(i):e.set(1,0,0,0)}else if(this.geometry&&this.geometry.isBufferGeometry)for(var n=new a,r=this.geometry.attributes.skinWeight,t=0;t<r.count;t++){n.x=r.getX(t),n.y=r.getY(t),n.z=r.getZ(t),n.w=r.getW(t);var i=1/n.lengthManhattan();i!==1/0?n.multiplyScalar(i):n.set(1,0,0,0),r.setXYZW(t,n.x,n.y,n.z,n.w)}},updateMatrixWorld:function(t){Pt.prototype.updateMatrixWorld.call(this,!0),\\\"attached\\\"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):\\\"detached\\\"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn(\\\"THREE.SkinnedMesh unrecognized bindMode: \\\"+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material,this.skeleton.useVertexTexture).copy(this)}}),_e.prototype=Object.create(J.prototype),_e.prototype.constructor=_e,_e.prototype.isLineBasicMaterial=!0,_e.prototype.copy=function(t){return J.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this},be.prototype=Object.assign(Object.create(ht.prototype),{constructor:be,isLine:!0,raycast:function(){var t=new l,e=new ot,i=new et;return function(n,r){var a=n.linePrecision,o=a*a,s=this.geometry,c=this.matrixWorld;if(null===s.boundingSphere&&s.computeBoundingSphere(),i.copy(s.boundingSphere),i.applyMatrix4(c),n.ray.intersectsSphere(i)!==!1){t.getInverse(c),e.copy(n.ray).applyMatrix4(t);var l=new h,u=new h,p=new h,d=new h,f=this&&this.isLineSegments?2:1;if(s&&s.isBufferGeometry){var m=s.index,v=s.attributes,g=v.position.array;if(null!==m)for(var y=m.array,x=0,_=y.length-1;x<_;x+=f){var b=y[x],w=y[x+1];l.fromArray(g,3*b),u.fromArray(g,3*w);var M=e.distanceSqToSegment(l,u,d,p);if(!(M>o)){d.applyMatrix4(this.matrixWorld);var E=n.ray.origin.distanceTo(d);E<n.near||E>n.far||r.push({distance:E,point:p.clone().applyMatrix4(this.matrixWorld),index:x,face:null,faceIndex:null,object:this})}}else for(var x=0,_=g.length/3-1;x<_;x+=f){l.fromArray(g,3*x),u.fromArray(g,3*x+3);var M=e.distanceSqToSegment(l,u,d,p);if(!(M>o)){d.applyMatrix4(this.matrixWorld);var E=n.ray.origin.distanceTo(d);E<n.near||E>n.far||r.push({distance:E,point:p.clone().applyMatrix4(this.matrixWorld),index:x,face:null,faceIndex:null,object:this})}}}else if(s&&s.isGeometry)for(var T=s.vertices,S=T.length,x=0;x<S-1;x+=f){var M=e.distanceSqToSegment(T[x],T[x+1],d,p);if(!(M>o)){d.applyMatrix4(this.matrixWorld);var E=n.ray.origin.distanceTo(d);E<n.near||E>n.far||r.push({distance:E,point:p.clone().applyMatrix4(this.matrixWorld),index:x,face:null,faceIndex:null,object:this})}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),we.prototype=Object.assign(Object.create(be.prototype),{constructor:we,isLineSegments:!0}),Me.prototype=Object.create(J.prototype),Me.prototype.constructor=Me,Me.prototype.isPointsMaterial=!0,Me.prototype.copy=function(t){return J.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this},Ee.prototype=Object.assign(Object.create(ht.prototype),{constructor:Ee,isPoints:!0,raycast:function(){var t=new l,e=new ot,i=new et;return function(n,r){function a(t,i){var a=e.distanceSqToPoint(t);if(a<p){var s=e.closestPointToPoint(t);s.applyMatrix4(c);var h=n.ray.origin.distanceTo(s);if(h<n.near||h>n.far)return;r.push({distance:h,distanceToRay:Math.sqrt(a),point:s.clone(),index:i,face:null,object:o})}}var o=this,s=this.geometry,c=this.matrixWorld,l=n.params.Points.threshold;if(null===s.boundingSphere&&s.computeBoundingSphere(),i.copy(s.boundingSphere),i.applyMatrix4(c),n.ray.intersectsSphere(i)!==!1){t.getInverse(c),e.copy(n.ray).applyMatrix4(t);var u=l/((this.scale.x+this.scale.y+this.scale.z)/3),p=u*u,d=new h;if(s&&s.isBufferGeometry){var f=s.index,m=s.attributes,v=m.position.array;if(null!==f)for(var g=f.array,y=0,x=g.length;y<x;y++){var _=g[y];d.fromArray(v,3*_),a(d,_)}else for(var y=0,b=v.length/3;y<b;y++)d.fromArray(v,3*y),a(d,y)}else for(var w=s.vertices,y=0,b=w.length;y<b;y++)a(w[y],y)}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Te.prototype=Object.assign(Object.create(ht.prototype),{constructor:Te}),Se.prototype=Object.create(n.prototype),Se.prototype.constructor=Se,Ae.prototype=Object.create(n.prototype),Ae.prototype.constructor=Ae,Ae.prototype.isCompressedTexture=!0,Le.prototype=Object.create(n.prototype),Le.prototype.constructor=Le,Re.prototype=Object.create(n.prototype),Re.prototype.constructor=Re,Re.prototype.isDepthTexture=!0,Pe.prototype=Object.create(Rt.prototype),Pe.prototype.constructor=Pe,Ce.prototype=Object.create(Rt.prototype),Ce.prototype.constructor=Ce,Ie.prototype=Object.create(St.prototype),Ie.prototype.constructor=Ie,Ue.prototype=Object.create(Rt.prototype),Ue.prototype.constructor=Ue,Ne.prototype=Object.create(Ue.prototype),Ne.prototype.constructor=Ne,De.prototype=Object.create(St.prototype),De.prototype.constructor=De,Oe.prototype=Object.create(Ue.prototype),Oe.prototype.constructor=Oe,Fe.prototype=Object.create(St.prototype),Fe.prototype.constructor=Fe,Be.prototype=Object.create(Ue.prototype),Be.prototype.constructor=Be,ze.prototype=Object.create(St.prototype),ze.prototype.constructor=ze,Ge.prototype=Object.create(Ue.prototype),Ge.prototype.constructor=Ge,He.prototype=Object.create(St.prototype),He.prototype.constructor=He,Ve.prototype=Object.create(St.prototype),Ve.prototype.constructor=Ve,ke.prototype=Object.create(Rt.prototype),ke.prototype.constructor=ke,je.prototype=Object.create(St.prototype),je.prototype.constructor=je,We.prototype=Object.create(Rt.prototype),We.prototype.constructor=We,Xe.prototype=Object.create(St.prototype),Xe.prototype.constructor=Xe,Ye.prototype=Object.create(Rt.prototype),Ye.prototype.constructor=Ye,qe.prototype=Object.create(St.prototype),qe.prototype.constructor=qe;var Jc={area:function(t){for(var e=t.length,i=0,n=e-1,r=0;r<e;n=r++)i+=t[n].x*t[r].y-t[r].x*t[n].y;return.5*i},triangulate:function(){function t(t,e,i,n,r,a){var o,s,c,h,l,u,p,d,f;if(s=t[a[e]].x,c=t[a[e]].y,h=t[a[i]].x,l=t[a[i]].y,u=t[a[n]].x,p=t[a[n]].y,(h-s)*(p-c)-(l-c)*(u-s)<=0)return!1;var m,v,g,y,x,_,b,w,M,E,T,S,A,L,R;for(m=u-h,v=p-l,g=s-u,y=c-p,x=h-s,_=l-c,o=0;o<r;o++)if(d=t[a[o]].x,f=t[a[o]].y,!(d===s&&f===c||d===h&&f===l||d===u&&f===p)&&(b=d-s,w=f-c,M=d-h,E=f-l,T=d-u,S=f-p,R=m*E-v*M,A=x*w-_*b,L=g*S-y*T,R>=-Number.EPSILON&&L>=-Number.EPSILON&&A>=-Number.EPSILON))return!1;return!0}return function(e,i){var n=e.length;if(n<3)return null;var r,a,o,s=[],c=[],h=[];if(Jc.area(e)>0)for(a=0;a<n;a++)c[a]=a;else for(a=0;a<n;a++)c[a]=n-1-a;var l=n,u=2*l;for(a=l-1;l>2;){if(u--<=0)return console.warn(\\\"THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()\\\"),i?h:s;if(r=a,l<=r&&(r=0),a=r+1,l<=a&&(a=0),o=a+1,l<=o&&(o=0),t(e,r,a,o,l,c)){var p,d,f,m,v;for(p=c[r],d=c[a],f=c[o],s.push([e[p],e[d],e[f]]),h.push([c[r],c[a],c[o]]),m=a,v=a+1;v<l;m++,v++)c[m]=c[v];l--,u=2*l}}return i?h:s}}(),triangulateShape:function(t,e){function i(t){var e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function n(t,e,i){return t.x!==e.x?t.x<e.x?t.x<=i.x&&i.x<=e.x:e.x<=i.x&&i.x<=t.x:t.y<e.y?t.y<=i.y&&i.y<=e.y:e.y<=i.y&&i.y<=t.y}function r(t,e,i,r,a){var o=e.x-t.x,s=e.y-t.y,c=r.x-i.x,h=r.y-i.y,l=t.x-i.x,u=t.y-i.y,p=s*c-o*h,d=s*l-o*u;\\nif(Math.abs(p)>Number.EPSILON){var f;if(p>0){if(d<0||d>p)return[];if(f=h*l-c*u,f<0||f>p)return[]}else{if(d>0||d<p)return[];if(f=h*l-c*u,f>0||f<p)return[]}if(0===f)return!a||0!==d&&d!==p?[t]:[];if(f===p)return!a||0!==d&&d!==p?[e]:[];if(0===d)return[i];if(d===p)return[r];var m=f/p;return[{x:t.x+m*o,y:t.y+m*s}]}if(0!==d||h*l!==c*u)return[];var v=0===o&&0===s,g=0===c&&0===h;if(v&&g)return t.x!==i.x||t.y!==i.y?[]:[t];if(v)return n(i,r,t)?[t]:[];if(g)return n(t,e,i)?[i]:[];var y,x,_,b,w,M,E,T;return 0!==o?(t.x<e.x?(y=t,_=t.x,x=e,b=e.x):(y=e,_=e.x,x=t,b=t.x),i.x<r.x?(w=i,E=i.x,M=r,T=r.x):(w=r,E=r.x,M=i,T=i.x)):(t.y<e.y?(y=t,_=t.y,x=e,b=e.y):(y=e,_=e.y,x=t,b=t.y),i.y<r.y?(w=i,E=i.y,M=r,T=r.y):(w=r,E=r.y,M=i,T=i.y)),_<=E?b<E?[]:b===E?a?[]:[w]:b<=T?[w,x]:[w,M]:_>T?[]:_===T?a?[]:[y]:b<=T?[y,x]:[y,M]}function a(t,e,i,n){var r=e.x-t.x,a=e.y-t.y,o=i.x-t.x,s=i.y-t.y,c=n.x-t.x,h=n.y-t.y,l=r*s-a*o,u=r*h-a*c;if(Math.abs(l)>Number.EPSILON){var p=c*s-h*o;return l>0?u>=0&&p>=0:u>=0||p>=0}return u>0}function o(t,e){function i(t,e){var i=y.length-1,n=t-1;n<0&&(n=i);var r=t+1;r>i&&(r=0);var o=a(y[t],y[n],y[r],s[e]);if(!o)return!1;var c=s.length-1,h=e-1;h<0&&(h=c);var l=e+1;return l>c&&(l=0),o=a(s[e],s[h],s[l],y[t]),!!o}function n(t,e){var i,n,a;for(i=0;i<y.length;i++)if(n=i+1,n%=y.length,a=r(t,e,y[i],y[n],!0),a.length>0)return!0;return!1}function o(t,i){var n,a,o,s,c;for(n=0;n<x.length;n++)for(a=e[x[n]],o=0;o<a.length;o++)if(s=o+1,s%=a.length,c=r(t,i,a[o],a[s],!0),c.length>0)return!0;return!1}for(var s,c,h,l,u,p,d,f,m,v,g,y=t.concat(),x=[],_=[],b=0,w=e.length;b<w;b++)x.push(b);for(var M=0,E=2*x.length;x.length>0;){if(E--,E<0){console.log(\\\"Infinite Loop! Holes left:\\\"+x.length+\\\", Probably Hole outside Shape!\\\");break}for(h=M;h<y.length;h++){l=y[h],c=-1;for(var b=0;b<x.length;b++)if(p=x[b],d=l.x+\\\":\\\"+l.y+\\\":\\\"+p,void 0===_[d]){s=e[p];for(var T=0;T<s.length;T++)if(u=s[T],i(h,T)&&!n(l,u)&&!o(l,u)){c=T,x.splice(b,1),f=y.slice(0,h+1),m=y.slice(h),v=s.slice(c),g=s.slice(0,c+1),y=f.concat(v).concat(g).concat(m),M=h;break}if(c>=0)break;_[d]=!0}if(c>=0)break}}return y}i(t),e.forEach(i);for(var s,c,h,l,u,p,d={},f=t.concat(),m=0,v=e.length;m<v;m++)Array.prototype.push.apply(f,e[m]);for(s=0,c=f.length;s<c;s++)u=f[s].x+\\\":\\\"+f[s].y,void 0!==d[u]&&console.warn(\\\"THREE.ShapeUtils: Duplicate point\\\",u,s),d[u]=s;var g=o(t,e),y=Jc.triangulate(g,!1);for(s=0,c=y.length;s<c;s++)for(l=y[s],h=0;h<3;h++)u=l[h].x+\\\":\\\"+l[h].y,p=d[u],void 0!==p&&(l[h]=p);return y.concat()},isClockWise:function(t){return Jc.area(t)<0},b2:function(){function t(t,e){var i=1-t;return i*i*e}function e(t,e){return 2*(1-t)*t*e}function i(t,e){return t*t*e}return function(n,r,a,o){return t(n,r)+e(n,a)+i(n,o)}}(),b3:function(){function t(t,e){var i=1-t;return i*i*i*e}function e(t,e){var i=1-t;return 3*i*i*t*e}function i(t,e){var i=1-t;return 3*i*t*t*e}function n(t,e){return t*t*t*e}return function(r,a,o,s,c){return t(r,a)+e(r,o)+i(r,s)+n(r,c)}}()};Ze.prototype=Object.create(St.prototype),Ze.prototype.constructor=Ze,Ze.prototype.addShapeList=function(t,e){for(var i=t.length,n=0;n<i;n++){var r=t[n];this.addShape(r,e)}},Ze.prototype.addShape=function(t,e){function n(t,e,i){return e||console.error(\\\"THREE.ExtrudeGeometry: vec does not exist\\\"),e.clone().multiplyScalar(i).add(t)}function r(t,e,n){var r,a,o=1,s=t.x-e.x,c=t.y-e.y,h=n.x-t.x,l=n.y-t.y,u=s*s+c*c,p=s*l-c*h;if(Math.abs(p)>Number.EPSILON){var d=Math.sqrt(u),f=Math.sqrt(h*h+l*l),m=e.x-c/d,v=e.y+s/d,g=n.x-l/f,y=n.y+h/f,x=((g-m)*l-(y-v)*h)/(s*l-c*h);r=m+s*x-t.x,a=v+c*x-t.y;var _=r*r+a*a;if(_<=2)return new i(r,a);o=Math.sqrt(_/2)}else{var b=!1;s>Number.EPSILON?h>Number.EPSILON&&(b=!0):s<-Number.EPSILON?h<-Number.EPSILON&&(b=!0):Math.sign(c)===Math.sign(l)&&(b=!0),b?(r=-c,a=s,o=Math.sqrt(u)):(r=s,a=c,o=Math.sqrt(u/2))}return new i(r/o,a/o)}function a(){if(b){var t=0,e=j*t;for(Y=0;Y<W;Y++)k=O[Y],l(k[2]+e,k[1]+e,k[0]+e);for(t=M+2*_,e=j*t,Y=0;Y<W;Y++)k=O[Y],l(k[0]+e,k[1]+e,k[2]+e)}else{for(Y=0;Y<W;Y++)k=O[Y],l(k[2],k[1],k[0]);for(Y=0;Y<W;Y++)k=O[Y],l(k[0]+j*M,k[1]+j*M,k[2]+j*M)}}function o(){var t=0;for(s(F,t),t+=F.length,L=0,R=N.length;L<R;L++)A=N[L],s(A,t),t+=A.length}function s(t,e){var i,n;for(Y=t.length;--Y>=0;){i=Y,n=Y-1,n<0&&(n=t.length-1);var r=0,a=M+2*_;for(r=0;r<a;r++){var o=j*r,s=j*(r+1),c=e+i+o,h=e+n+o,l=e+n+s,p=e+i+s;u(c,h,l,p,t,r,a,i,n)}}}function c(t,e,i){P.vertices.push(new h(t,e,i))}function l(t,e,i){t+=C,e+=C,i+=C,P.faces.push(new dt(t,e,i,null,null,0));var n=S.generateTopUV(P,t,e,i);P.faceVertexUvs[0].push(n)}function u(t,e,i,n,r,a,o,s,c){t+=C,e+=C,i+=C,n+=C,P.faces.push(new dt(t,e,n,null,null,1)),P.faces.push(new dt(e,i,n,null,null,1));var h=S.generateSideWallUV(P,t,e,i,n);P.faceVertexUvs[0].push([h[0],h[1],h[3]]),P.faceVertexUvs[0].push([h[1],h[2],h[3]])}var p,d,f,m,v,g=void 0!==e.amount?e.amount:100,y=void 0!==e.bevelThickness?e.bevelThickness:6,x=void 0!==e.bevelSize?e.bevelSize:y-2,_=void 0!==e.bevelSegments?e.bevelSegments:3,b=void 0===e.bevelEnabled||e.bevelEnabled,w=void 0!==e.curveSegments?e.curveSegments:12,M=void 0!==e.steps?e.steps:1,E=e.extrudePath,T=!1,S=void 0!==e.UVGenerator?e.UVGenerator:Ze.WorldUVGenerator;E&&(p=E.getSpacedPoints(M),T=!0,b=!1,d=void 0!==e.frames?e.frames:E.computeFrenetFrames(M,!1),f=new h,m=new h,v=new h),b||(_=0,y=0,x=0);var A,L,R,P=this,C=this.vertices.length,I=t.extractPoints(w),U=I.shape,N=I.holes,D=!Jc.isClockWise(U);if(D){for(U=U.reverse(),L=0,R=N.length;L<R;L++)A=N[L],Jc.isClockWise(A)&&(N[L]=A.reverse());D=!1}var O=Jc.triangulateShape(U,N),F=U;for(L=0,R=N.length;L<R;L++)A=N[L],U=U.concat(A);for(var B,z,G,H,V,k,j=U.length,W=O.length,X=[],Y=0,q=F.length,Z=q-1,J=Y+1;Y<q;Y++,Z++,J++)Z===q&&(Z=0),J===q&&(J=0),X[Y]=r(F[Y],F[Z],F[J]);var Q,K=[],$=X.concat();for(L=0,R=N.length;L<R;L++){for(A=N[L],Q=[],Y=0,q=A.length,Z=q-1,J=Y+1;Y<q;Y++,Z++,J++)Z===q&&(Z=0),J===q&&(J=0),Q[Y]=r(A[Y],A[Z],A[J]);K.push(Q),$=$.concat(Q)}for(B=0;B<_;B++){for(G=B/_,H=y*Math.cos(G*Math.PI/2),z=x*Math.sin(G*Math.PI/2),Y=0,q=F.length;Y<q;Y++)V=n(F[Y],X[Y],z),c(V.x,V.y,-H);for(L=0,R=N.length;L<R;L++)for(A=N[L],Q=K[L],Y=0,q=A.length;Y<q;Y++)V=n(A[Y],Q[Y],z),c(V.x,V.y,-H)}for(z=x,Y=0;Y<j;Y++)V=b?n(U[Y],$[Y],z):U[Y],T?(m.copy(d.normals[0]).multiplyScalar(V.x),f.copy(d.binormals[0]).multiplyScalar(V.y),v.copy(p[0]).add(m).add(f),c(v.x,v.y,v.z)):c(V.x,V.y,0);var tt;for(tt=1;tt<=M;tt++)for(Y=0;Y<j;Y++)V=b?n(U[Y],$[Y],z):U[Y],T?(m.copy(d.normals[tt]).multiplyScalar(V.x),f.copy(d.binormals[tt]).multiplyScalar(V.y),v.copy(p[tt]).add(m).add(f),c(v.x,v.y,v.z)):c(V.x,V.y,g/M*tt);for(B=_-1;B>=0;B--){for(G=B/_,H=y*Math.cos(G*Math.PI/2),z=x*Math.sin(G*Math.PI/2),Y=0,q=F.length;Y<q;Y++)V=n(F[Y],X[Y],z),c(V.x,V.y,g+H);for(L=0,R=N.length;L<R;L++)for(A=N[L],Q=K[L],Y=0,q=A.length;Y<q;Y++)V=n(A[Y],Q[Y],z),T?c(V.x,V.y+p[M-1].y,p[M-1].x+H):c(V.x,V.y,g+H)}a(),o()},Ze.WorldUVGenerator={generateTopUV:function(t,e,n,r){var a=t.vertices,o=a[e],s=a[n],c=a[r];return[new i(o.x,o.y),new i(s.x,s.y),new i(c.x,c.y)]},generateSideWallUV:function(t,e,n,r,a){var o=t.vertices,s=o[e],c=o[n],h=o[r],l=o[a];return Math.abs(s.y-c.y)<.01?[new i(s.x,1-s.z),new i(c.x,1-c.z),new i(h.x,1-h.z),new i(l.x,1-l.z)]:[new i(s.y,1-s.z),new i(c.y,1-c.z),new i(h.y,1-h.z),new i(l.y,1-l.z)]}},Je.prototype=Object.create(Ze.prototype),Je.prototype.constructor=Je,Qe.prototype=Object.create(Rt.prototype),Qe.prototype.constructor=Qe,Ke.prototype=Object.create(St.prototype),Ke.prototype.constructor=Ke,$e.prototype=Object.create(Rt.prototype),$e.prototype.constructor=$e,ti.prototype=Object.create(St.prototype),ti.prototype.constructor=ti,ei.prototype=Object.create(St.prototype),ei.prototype.constructor=ei,ii.prototype=Object.create(Rt.prototype),ii.prototype.constructor=ii,ni.prototype=Object.create(St.prototype),ni.prototype.constructor=ni,ri.prototype=Object.create(St.prototype),ri.prototype.constructor=ri,ri.prototype.addShapeList=function(t,e){for(var i=0,n=t.length;i<n;i++)this.addShape(t[i],e);return this},ri.prototype.addShape=function(t,e){void 0===e&&(e={});var i,n,r,a=void 0!==e.curveSegments?e.curveSegments:12,o=e.material,s=void 0===e.UVGenerator?Ze.WorldUVGenerator:e.UVGenerator,c=this.vertices.length,l=t.extractPoints(a),u=l.shape,p=l.holes,d=!Jc.isClockWise(u);if(d){for(u=u.reverse(),i=0,n=p.length;i<n;i++)r=p[i],Jc.isClockWise(r)&&(p[i]=r.reverse());d=!1}var f=Jc.triangulateShape(u,p);for(i=0,n=p.length;i<n;i++)r=p[i],u=u.concat(r);var m,v,g=u.length,y=f.length;for(i=0;i<g;i++)m=u[i],this.vertices.push(new h(m.x,m.y,0));for(i=0;i<y;i++){v=f[i];var x=v[0]+c,_=v[1]+c,b=v[2]+c;this.faces.push(new dt(x,_,b,null,null,o)),this.faceVertexUvs[0].push(s.generateTopUV(this,x,_,b))}},ai.prototype=Object.create(Rt.prototype),ai.prototype.constructor=ai,oi.prototype=Object.create(Rt.prototype),oi.prototype.constructor=oi,si.prototype=Object.create(St.prototype),si.prototype.constructor=si,ci.prototype=Object.create(si.prototype),ci.prototype.constructor=ci,hi.prototype=Object.create(oi.prototype),hi.prototype.constructor=hi,li.prototype=Object.create(Rt.prototype),li.prototype.constructor=li,ui.prototype=Object.create(St.prototype),ui.prototype.constructor=ui,pi.prototype=Object.create(St.prototype),pi.prototype.constructor=pi;var Qc=Object.freeze({WireframeGeometry:Pe,ParametricGeometry:Ie,ParametricBufferGeometry:Ce,TetrahedronGeometry:De,TetrahedronBufferGeometry:Ne,OctahedronGeometry:Fe,OctahedronBufferGeometry:Oe,IcosahedronGeometry:ze,IcosahedronBufferGeometry:Be,DodecahedronGeometry:He,DodecahedronBufferGeometry:Ge,PolyhedronGeometry:Ve,PolyhedronBufferGeometry:Ue,TubeGeometry:je,TubeBufferGeometry:ke,TorusKnotGeometry:Xe,TorusKnotBufferGeometry:We,TorusGeometry:qe,TorusBufferGeometry:Ye,TextGeometry:Je,SphereBufferGeometry:Qe,SphereGeometry:Ke,RingGeometry:ti,RingBufferGeometry:$e,PlaneBufferGeometry:It,PlaneGeometry:ei,LatheGeometry:ni,LatheBufferGeometry:ii,ShapeGeometry:ri,ExtrudeGeometry:Ze,EdgesGeometry:ai,ConeGeometry:ci,ConeBufferGeometry:hi,CylinderGeometry:si,CylinderBufferGeometry:oi,CircleBufferGeometry:li,CircleGeometry:ui,BoxBufferGeometry:Ct,BoxGeometry:pi});di.prototype=Object.create(K.prototype),di.prototype.constructor=di,di.prototype.isShadowMaterial=!0,fi.prototype=Object.create(K.prototype),fi.prototype.constructor=fi,fi.prototype.isRawShaderMaterial=!0,mi.prototype={constructor:mi,isMultiMaterial:!0,toJSON:function(t){for(var e={metadata:{version:4.2,type:\\\"material\\\",generator:\\\"MaterialExporter\\\"},uuid:this.uuid,type:this.type,materials:[]},i=this.materials,n=0,r=i.length;n<r;n++){var a=i[n].toJSON(t);delete a.metadata,e.materials.push(a)}return e.visible=this.visible,e},clone:function(){for(var t=new this.constructor,e=0;e<this.materials.length;e++)t.materials.push(this.materials[e].clone());return t.visible=this.visible,t}},vi.prototype=Object.create(J.prototype),vi.prototype.constructor=vi,vi.prototype.isMeshStandardMaterial=!0,vi.prototype.copy=function(t){return J.prototype.copy.call(this,t),this.defines={STANDARD:\\\"\\\"},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},gi.prototype=Object.create(vi.prototype),gi.prototype.constructor=gi,gi.prototype.isMeshPhysicalMaterial=!0,gi.prototype.copy=function(t){return vi.prototype.copy.call(this,t),this.defines={PHYSICAL:\\\"\\\"},this.reflectivity=t.reflectivity,this.clearCoat=t.clearCoat,this.clearCoatRoughness=t.clearCoatRoughness,this},yi.prototype=Object.create(J.prototype),yi.prototype.constructor=yi,yi.prototype.isMeshPhongMaterial=!0,yi.prototype.copy=function(t){return J.prototype.copy.call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},xi.prototype=Object.create(J.prototype),xi.prototype.constructor=xi,xi.prototype.isMeshNormalMaterial=!0,xi.prototype.copy=function(t){return J.prototype.copy.call(this,t),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},_i.prototype=Object.create(J.prototype),_i.prototype.constructor=_i,_i.prototype.isMeshLambertMaterial=!0,_i.prototype.copy=function(t){return J.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},bi.prototype=Object.create(J.prototype),bi.prototype.constructor=bi,bi.prototype.isLineDashedMaterial=!0,bi.prototype.copy=function(t){return J.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this};var Kc=Object.freeze({ShadowMaterial:di,SpriteMaterial:de,RawShaderMaterial:fi,ShaderMaterial:K,PointsMaterial:Me,MultiMaterial:mi,MeshPhysicalMaterial:gi,MeshStandardMaterial:vi,MeshPhongMaterial:yi,MeshNormalMaterial:xi,MeshLambertMaterial:_i,MeshDepthMaterial:$,MeshBasicMaterial:ft,LineDashedMaterial:bi,LineBasicMaterial:_e,Material:J}),$c={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}},th=new wi;Object.assign(Mi.prototype,{load:function(t,e,i,n){void 0===t&&(t=\\\"\\\"),void 0!==this.path&&(t=this.path+t);var r=this,a=$c.get(t);if(void 0!==a)return r.manager.itemStart(t),setTimeout(function(){e&&e(a),r.manager.itemEnd(t)},0),a;var o=/^data:(.*?)(;base64)?,(.*)$/,s=t.match(o);if(s){var c=s[1],h=!!s[2],l=s[3];l=window.decodeURIComponent(l),h&&(l=window.atob(l));try{var u,p=(this.responseType||\\\"\\\").toLowerCase();switch(p){case\\\"arraybuffer\\\":case\\\"blob\\\":u=new ArrayBuffer(l.length);for(var d=new Uint8Array(u),f=0;f<l.length;f++)d[f]=l.charCodeAt(f);\\\"blob\\\"===p&&(u=new Blob([u],{type:c}));break;case\\\"document\\\":var m=new DOMParser;u=m.parseFromString(l,c);break;case\\\"json\\\":u=JSON.parse(l);break;default:u=l}window.setTimeout(function(){e&&e(u),r.manager.itemEnd(t)},0)}catch(e){window.setTimeout(function(){n&&n(e),r.manager.itemError(t)},0)}}else{var v=new XMLHttpRequest;v.open(\\\"GET\\\",t,!0),v.addEventListener(\\\"load\\\",function(i){var a=i.target.response;$c.add(t,a),200===this.status?(e&&e(a),r.manager.itemEnd(t)):0===this.status?(console.warn(\\\"THREE.XHRLoader: HTTP Status 0 received.\\\"),e&&e(a),r.manager.itemEnd(t)):(n&&n(i),r.manager.itemError(t))},!1),void 0!==i&&v.addEventListener(\\\"progress\\\",function(t){i(t)},!1),v.addEventListener(\\\"error\\\",function(e){n&&n(e),r.manager.itemError(t)},!1),void 0!==this.responseType&&(v.responseType=this.responseType),void 0!==this.withCredentials&&(v.withCredentials=this.withCredentials),v.overrideMimeType&&v.overrideMimeType(\\\"text/plain\\\"),v.send(null)}return r.manager.itemStart(t),v},setPath:function(t){return this.path=t,this},setResponseType:function(t){return this.responseType=t,this},setWithCredentials:function(t){return this.withCredentials=t,this}}),Object.assign(Ei.prototype,{load:function(t,e,i,n){function r(r){c.load(t[r],function(t){var i=a._parser(t,!0);o[r]={width:i.width,height:i.height,format:i.format,mipmaps:i.mipmaps},h+=1,6===h&&(1===i.mipmapCount&&(s.minFilter=Da),s.format=i.format,s.needsUpdate=!0,e&&e(s))},i,n)}var a=this,o=[],s=new Ae;s.image=o;var c=new Mi(this.manager);if(c.setPath(this.path),c.setResponseType(\\\"arraybuffer\\\"),Array.isArray(t))for(var h=0,l=0,u=t.length;l<u;++l)r(l);else c.load(t,function(t){var i=a._parser(t,!0);if(i.isCubemap)for(var n=i.mipmaps.length/i.mipmapCount,r=0;r<n;r++){o[r]={mipmaps:[]};for(var c=0;c<i.mipmapCount;c++)o[r].mipmaps.push(i.mipmaps[r*i.mipmapCount+c]),o[r].format=i.format,o[r].width=i.width,o[r].height=i.height}else s.image.width=i.width,s.image.height=i.height,s.mipmaps=i.mipmaps;1===i.mipmapCount&&(s.minFilter=Da),s.format=i.format,s.needsUpdate=!0,e&&e(s)},i,n);return s},setPath:function(t){return this.path=t,this}});var eh=Ti;Object.assign(Ti.prototype,{load:function(t,e,i,n){var r=this,a=new ve,o=new Mi(this.manager);return o.setResponseType(\\\"arraybuffer\\\"),o.load(t,function(t){var i=r._parser(t);i&&(void 0!==i.image?a.image=i.image:void 0!==i.data&&(a.image.width=i.width,a.image.height=i.height,a.image.data=i.data),a.wrapS=void 0!==i.wrapS?i.wrapS:Ra,a.wrapT=void 0!==i.wrapT?i.wrapT:Ra,a.magFilter=void 0!==i.magFilter?i.magFilter:Da,a.minFilter=void 0!==i.minFilter?i.minFilter:Fa,a.anisotropy=void 0!==i.anisotropy?i.anisotropy:1,void 0!==i.format&&(a.format=i.format),void 0!==i.type&&(a.type=i.type),void 0!==i.mipmaps&&(a.mipmaps=i.mipmaps),1===i.mipmapCount&&(a.minFilter=Da),a.needsUpdate=!0,e&&e(a,i))},i,n),a}}),Object.assign(Si.prototype,{load:function(t,e,i,n){var r=this,a=document.createElementNS(\\\"http://www.w3.org/1999/xhtml\\\",\\\"img\\\");if(a.onload=function(){a.onload=null,URL.revokeObjectURL(a.src),e&&e(a),r.manager.itemEnd(t)},a.onerror=n,0===t.indexOf(\\\"data:\\\"))a.src=t;else{var o=new Mi;o.setPath(this.path),o.setResponseType(\\\"blob\\\"),o.setWithCredentials(this.withCredentials),o.load(t,function(t){a.src=URL.createObjectURL(t)},i,n)}return r.manager.itemStart(t),a},setCrossOrigin:function(t){return this.crossOrigin=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(Ai.prototype,{load:function(t,e,i,n){function r(i){o.load(t[i],function(t){a.images[i]=t,s++,6===s&&(a.needsUpdate=!0,e&&e(a))},void 0,n)}var a=new u,o=new Si(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);for(var s=0,c=0;c<t.length;++c)r(c);return a},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(Li.prototype,{load:function(t,e,i,r){var a=new n,o=new Si(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setWithCredentials(this.withCredentials),o.setPath(this.path),o.load(t,function(i){var n=t.search(/\\\\.(jpg|jpeg)$/)>0||0===t.search(/^data\\\\:image\\\\/jpeg/);a.format=n?Ka:$a,a.image=i,a.needsUpdate=!0,void 0!==e&&e(a)},i,r),a},setCrossOrigin:function(t){return this.crossOrigin=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setPath:function(t){return this.path=t,this}}),Ri.prototype=Object.assign(Object.create(ht.prototype),{constructor:Ri,isLight:!0,copy:function(t){return ht.prototype.copy.call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this},toJSON:function(t){var e=ht.prototype.toJSON.call(this,t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}),Pi.prototype=Object.assign(Object.create(Ri.prototype),{constructor:Pi,isHemisphereLight:!0,copy:function(t){return Ri.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}),Object.assign(Ci.prototype,{copy:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var t={};return 0!==this.bias&&(t.bias=this.bias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}),Ii.prototype=Object.assign(Object.create(Ci.prototype),{constructor:Ii,isSpotLightShadow:!0,update:function(t){var e=2*Fo.RAD2DEG*t.angle,i=this.mapSize.width/this.mapSize.height,n=t.distance||500,r=this.camera;e===r.fov&&i===r.aspect&&n===r.far||(r.fov=e,r.aspect=i,r.far=n,r.updateProjectionMatrix())}}),Ui.prototype=Object.assign(Object.create(Ri.prototype),{constructor:Ui,isSpotLight:!0,copy:function(t){return Ri.prototype.copy.call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),Ni.prototype=Object.assign(Object.create(Ri.prototype),{constructor:Ni,isPointLight:!0,copy:function(t){return Ri.prototype.copy.call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}),Di.prototype=Object.assign(Object.create(Ci.prototype),{constructor:Di}),Oi.prototype=Object.assign(Object.create(Ri.prototype),{constructor:Oi,isDirectionalLight:!0,copy:function(t){return Ri.prototype.copy.call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),Fi.prototype=Object.assign(Object.create(Ri.prototype),{constructor:Fi,isAmbientLight:!0});var ih={arraySlice:function(t,e,i){return ih.isTypedArray(t)?new t.constructor(t.subarray(e,i)):t.slice(e,i)},convertArray:function(t,e,i){return!t||!i&&t.constructor===e?t:\\\"number\\\"==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){function e(e,i){return t[e]-t[i]}for(var i=t.length,n=new Array(i),r=0;r!==i;++r)n[r]=r;return n.sort(e),n},sortedArray:function(t,e,i){for(var n=t.length,r=new t.constructor(n),a=0,o=0;o!==n;++a)for(var s=i[a]*e,c=0;c!==e;++c)r[o++]=t[s+c];return r},flattenJSON:function(t,e,i,n){for(var r=1,a=t[0];void 0!==a&&void 0===a[n];)a=t[r++];if(void 0!==a){var o=a[n];if(void 0!==o)if(Array.isArray(o)){do o=a[n],void 0!==o&&(e.push(a.time),i.push.apply(i,o)),a=t[r++];while(void 0!==a)}else if(void 0!==o.toArray){do o=a[n],void 0!==o&&(e.push(a.time),o.toArray(i,i.length)),a=t[r++];while(void 0!==a)}else do o=a[n],void 0!==o&&(e.push(a.time),i.push(o)),a=t[r++];while(void 0!==a)}}};Bi.prototype={constructor:Bi,evaluate:function(t){var e=this.parameterPositions,i=this._cachedIndex,n=e[i],r=e[i-1];t:{e:{var a;i:{n:if(!(t<n)){for(var o=i+2;;){if(void 0===n){if(t<r)break n;return i=e.length,this._cachedIndex=i,this.afterEnd_(i-1,t,r)}if(i===o)break;if(r=n,n=e[++i],t<n)break e}a=e.length;break i}{if(t>=r)break t;var s=e[1];t<s&&(i=2,r=s);for(var o=i-2;;){if(void 0===r)return this._cachedIndex=0,this.beforeStart_(0,t,n);if(i===o)break;if(n=r,r=e[--i-1],t>=r)break e}a=i,i=0}}for(;i<a;){var c=i+a>>>1;t<e[c]?a=c:i=c+1}if(n=e[i],r=e[i-1],void 0===r)return this._cachedIndex=0,this.beforeStart_(0,t,n);if(void 0===n)return i=e.length,this._cachedIndex=i,this.afterEnd_(i-1,r,t)}this._cachedIndex=i,this.intervalChanged_(i,r,n)}return this.interpolate_(i,r,t,n)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){for(var e=this.resultBuffer,i=this.sampleValues,n=this.valueSize,r=t*n,a=0;a!==n;++a)e[a]=i[r+a];return e},interpolate_:function(t,e,i,n){throw new Error(\\\"call to abstract method\\\")},intervalChanged_:function(t,e,i){}},Object.assign(Bi.prototype,{beforeStart_:Bi.prototype.copySampleValue_,afterEnd_:Bi.prototype.copySampleValue_}),zi.prototype=Object.assign(Object.create(Bi.prototype),{constructor:zi,DefaultSettings_:{endingStart:bo,endingEnd:bo},intervalChanged_:function(t,e,i){var n=this.parameterPositions,r=t-2,a=t+1,o=n[r],s=n[a];if(void 0===o)switch(this.getSettings_().endingStart){case wo:r=t,o=2*e-i;break;case Mo:r=n.length-2,o=e+n[r]-n[r+1];break;default:r=t,o=i}if(void 0===s)switch(this.getSettings_().endingEnd){case wo:a=t,s=2*i-e;break;case Mo:a=1,s=i+n[1]-n[0];break;default:a=t-1,s=e}var c=.5*(i-e),h=this.valueSize;this._weightPrev=c/(e-o),this._weightNext=c/(s-i),this._offsetPrev=r*h,this._offsetNext=a*h},interpolate_:function(t,e,i,n){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,c=s-o,h=this._offsetPrev,l=this._offsetNext,u=this._weightPrev,p=this._weightNext,d=(i-e)/(n-e),f=d*d,m=f*d,v=-u*m+2*u*f-u*d,g=(1+u)*m+(-1.5-2*u)*f+(-.5+u)*d+1,y=(-1-p)*m+(1.5+p)*f+.5*d,x=p*m-p*f,_=0;_!==o;++_)r[_]=v*a[h+_]+g*a[c+_]+y*a[s+_]+x*a[l+_];return r}}),Gi.prototype=Object.assign(Object.create(Bi.prototype),{constructor:Gi,interpolate_:function(t,e,i,n){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,c=s-o,h=(i-e)/(n-e),l=1-h,u=0;u!==o;++u)r[u]=a[c+u]*l+a[s+u]*h;return r}}),Hi.prototype=Object.assign(Object.create(Bi.prototype),{constructor:Hi,interpolate_:function(t,e,i,n){return this.copySampleValue_(t-1)}});var nh;nh={TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:xo,InterpolantFactoryMethodDiscrete:function(t){return new Hi(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new Gi(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new zi(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){var e;switch(t){case yo:e=this.InterpolantFactoryMethodDiscrete;break;case xo:e=this.InterpolantFactoryMethodLinear;break;case _o:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){var i=\\\"unsupported interpolation for \\\"+this.ValueTypeName+\\\" keyframe track named \\\"+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(i);this.setInterpolation(this.DefaultInterpolation)}return void console.warn(i)}this.createInterpolant=e},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return yo;case this.InterpolantFactoryMethodLinear:return xo;case this.InterpolantFactoryMethodSmooth:return _o}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(0!==t)for(var e=this.times,i=0,n=e.length;i!==n;++i)e[i]+=t;return this},scale:function(t){if(1!==t)for(var e=this.times,i=0,n=e.length;i!==n;++i)e[i]*=t;return this},trim:function(t,e){for(var i=this.times,n=i.length,r=0,a=n-1;r!==n&&i[r]<t;)++r;for(;a!==-1&&i[a]>e;)--a;if(++a,0!==r||a!==n){r>=a&&(a=Math.max(a,1),r=a-1);var o=this.getValueSize();this.times=ih.arraySlice(i,r,a),this.values=ih.arraySlice(this.values,r*o,a*o)}return this},validate:function(){var t=!0,e=this.getValueSize();e-Math.floor(e)!==0&&(console.error(\\\"invalid value size in track\\\",this),t=!1);var i=this.times,n=this.values,r=i.length;0===r&&(console.error(\\\"track is empty\\\",this),t=!1);for(var a=null,o=0;o!==r;o++){var s=i[o];if(\\\"number\\\"==typeof s&&isNaN(s)){console.error(\\\"time is not a valid number\\\",this,o,s),t=!1;break}if(null!==a&&a>s){console.error(\\\"out of order keys\\\",this,o,s,a),t=!1;break}a=s}if(void 0!==n&&ih.isTypedArray(n))for(var o=0,c=n.length;o!==c;++o){var h=n[o];if(isNaN(h)){console.error(\\\"value is not a valid number\\\",this,o,h),t=!1;break}}return t},optimize:function(){for(var t=this.times,e=this.values,i=this.getValueSize(),n=this.getInterpolation()===_o,r=1,a=t.length-1,o=1;o<a;++o){var s=!1,c=t[o],h=t[o+1];if(c!==h&&(1!==o||c!==c[0]))if(n)s=!0;else for(var l=o*i,u=l-i,p=l+i,d=0;d!==i;++d){var f=e[l+d];if(f!==e[u+d]||f!==e[p+d]){s=!0;break}}if(s){if(o!==r){t[r]=t[o];for(var m=o*i,v=r*i,d=0;d!==i;++d)e[v+d]=e[m+d]}++r}}if(a>0){t[r]=t[a];for(var m=a*i,v=r*i,d=0;d!==i;++d)e[v+d]=e[m+d];++r}return r!==t.length&&(this.times=ih.arraySlice(t,0,r),this.values=ih.arraySlice(e,0,r*i)),this}},ki.prototype=Object.assign(Object.create(nh),{constructor:ki,ValueTypeName:\\\"vector\\\"}),ji.prototype=Object.assign(Object.create(Bi.prototype),{constructor:ji,interpolate_:function(t,e,i,n){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,h=(i-e)/(n-e),l=s+o;s!==l;s+=4)c.slerpFlat(r,0,a,s-o,a,s,h);return r}}),Wi.prototype=Object.assign(Object.create(nh),{constructor:Wi,ValueTypeName:\\\"quaternion\\\",DefaultInterpolation:xo,InterpolantFactoryMethodLinear:function(t){return new ji(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0}),Xi.prototype=Object.assign(Object.create(nh),{constructor:Xi,ValueTypeName:\\\"number\\\"}),Yi.prototype=Object.assign(Object.create(nh),{constructor:Yi,ValueTypeName:\\\"string\\\",ValueBufferType:Array,DefaultInterpolation:yo,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),qi.prototype=Object.assign(Object.create(nh),{constructor:qi,ValueTypeName:\\\"bool\\\",ValueBufferType:Array,DefaultInterpolation:yo,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Zi.prototype=Object.assign(Object.create(nh),{constructor:Zi,ValueTypeName:\\\"color\\\"}),Ji.prototype=nh,nh.constructor=Ji,Object.assign(Ji,{parse:function(t){if(void 0===t.type)throw new Error(\\\"track type undefined, can not parse\\\");var e=Ji._getTrackTypeForValueTypeName(t.type);if(void 0===t.times){var i=[],n=[];ih.flattenJSON(t.keys,i,n,\\\"value\\\"),t.times=i,t.values=n}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)},toJSON:function(t){var e,i=t.constructor;if(void 0!==i.toJSON)e=i.toJSON(t);else{e={name:t.name,times:ih.convertArray(t.times,Array),values:ih.convertArray(t.values,Array)};var n=t.getInterpolation();n!==t.DefaultInterpolation&&(e.interpolation=n)}return e.type=t.ValueTypeName,e},_getTrackTypeForValueTypeName:function(t){switch(t.toLowerCase()){case\\\"scalar\\\":case\\\"double\\\":case\\\"float\\\":case\\\"number\\\":case\\\"integer\\\":return Xi;case\\\"vector\\\":case\\\"vector2\\\":case\\\"vector3\\\":case\\\"vector4\\\":return ki;case\\\"color\\\":return Zi;case\\\"quaternion\\\":return Wi;case\\\"bool\\\":case\\\"boolean\\\":return qi;case\\\"string\\\":return Yi}throw new Error(\\\"Unsupported typeName: \\\"+t)}}),Qi.prototype={constructor:Qi,resetDuration:function(){for(var t=this.tracks,e=0,i=0,n=t.length;i!==n;++i){var r=this.tracks[i];e=Math.max(e,r.times[r.times.length-1])}this.duration=e},trim:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},optimize:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}},Object.assign(Qi,{parse:function(t){for(var e=[],i=t.tracks,n=1/(t.fps||1),r=0,a=i.length;r!==a;++r)e.push(Ji.parse(i[r]).scale(n));return new Qi(t.name,t.duration,e)},toJSON:function(t){for(var e=[],i=t.tracks,n={\\nname:t.name,duration:t.duration,tracks:e},r=0,a=i.length;r!==a;++r)e.push(Ji.toJSON(i[r]));return n},CreateFromMorphTargetSequence:function(t,e,i,n){for(var r=e.length,a=[],o=0;o<r;o++){var s=[],c=[];s.push((o+r-1)%r,o,(o+1)%r),c.push(0,1,0);var h=ih.getKeyframeOrder(s);s=ih.sortedArray(s,1,h),c=ih.sortedArray(c,1,h),n||0!==s[0]||(s.push(r),c.push(c[0])),a.push(new Xi(\\\".morphTargetInfluences[\\\"+e[o].name+\\\"]\\\",s,c).scale(1/i))}return new Qi(t,(-1),a)},findByName:function(t,e){var i=t;if(!Array.isArray(t)){var n=t;i=n.geometry&&n.geometry.animations||n.animations}for(var r=0;r<i.length;r++)if(i[r].name===e)return i[r];return null},CreateClipsFromMorphTargetSequences:function(t,e,i){for(var n={},r=/^([\\\\w-]*?)([\\\\d]+)$/,a=0,o=t.length;a<o;a++){var s=t[a],c=s.name.match(r);if(c&&c.length>1){var h=c[1],l=n[h];l||(n[h]=l=[]),l.push(s)}}var u=[];for(var h in n)u.push(Qi.CreateFromMorphTargetSequence(h,n[h],e,i));return u},parseAnimation:function(t,e){if(!t)return console.error(\\\"  no animation in JSONLoader data\\\"),null;for(var i=function(t,e,i,n,r){if(0!==i.length){var a=[],o=[];ih.flattenJSON(i,a,o,n),0!==a.length&&r.push(new t(e,a,o))}},n=[],r=t.name||\\\"default\\\",a=t.length||-1,o=t.fps||30,s=t.hierarchy||[],c=0;c<s.length;c++){var h=s[c].keys;if(h&&0!==h.length)if(h[0].morphTargets){for(var l={},u=0;u<h.length;u++)if(h[u].morphTargets)for(var p=0;p<h[u].morphTargets.length;p++)l[h[u].morphTargets[p]]=-1;for(var d in l){for(var f=[],m=[],p=0;p!==h[u].morphTargets.length;++p){var v=h[u];f.push(v.time),m.push(v.morphTarget===d?1:0)}n.push(new Xi(\\\".morphTargetInfluence[\\\"+d+\\\"]\\\",f,m))}a=l.length*(o||1)}else{var g=\\\".bones[\\\"+e[c].name+\\\"]\\\";i(ki,g+\\\".position\\\",h,\\\"pos\\\",n),i(Wi,g+\\\".quaternion\\\",h,\\\"rot\\\",n),i(ki,g+\\\".scale\\\",h,\\\"scl\\\",n)}}if(0===n.length)return null;var y=new Qi(r,a,n);return y}}),Object.assign(Ki.prototype,{load:function(t,e,i,n){var r=this,a=new Mi(r.manager);a.load(t,function(t){e(r.parse(JSON.parse(t)))},i,n)},setTextures:function(t){this.textures=t},parse:function(t){function e(t){return void 0===n[t]&&console.warn(\\\"THREE.MaterialLoader: Undefined texture\\\",t),n[t]}var n=this.textures,r=new Kc[t.type];if(void 0!==t.uuid&&(r.uuid=t.uuid),void 0!==t.name&&(r.name=t.name),void 0!==t.color&&r.color.setHex(t.color),void 0!==t.roughness&&(r.roughness=t.roughness),void 0!==t.metalness&&(r.metalness=t.metalness),void 0!==t.emissive&&r.emissive.setHex(t.emissive),void 0!==t.specular&&r.specular.setHex(t.specular),void 0!==t.shininess&&(r.shininess=t.shininess),void 0!==t.uniforms&&(r.uniforms=t.uniforms),void 0!==t.vertexShader&&(r.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(r.fragmentShader=t.fragmentShader),void 0!==t.vertexColors&&(r.vertexColors=t.vertexColors),void 0!==t.fog&&(r.fog=t.fog),void 0!==t.shading&&(r.shading=t.shading),void 0!==t.blending&&(r.blending=t.blending),void 0!==t.side&&(r.side=t.side),void 0!==t.opacity&&(r.opacity=t.opacity),void 0!==t.transparent&&(r.transparent=t.transparent),void 0!==t.alphaTest&&(r.alphaTest=t.alphaTest),void 0!==t.depthTest&&(r.depthTest=t.depthTest),void 0!==t.depthWrite&&(r.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(r.colorWrite=t.colorWrite),void 0!==t.wireframe&&(r.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(r.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(r.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(r.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.skinning&&(r.skinning=t.skinning),void 0!==t.morphTargets&&(r.morphTargets=t.morphTargets),void 0!==t.size&&(r.size=t.size),void 0!==t.sizeAttenuation&&(r.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(r.map=e(t.map)),void 0!==t.alphaMap&&(r.alphaMap=e(t.alphaMap),r.transparent=!0),void 0!==t.bumpMap&&(r.bumpMap=e(t.bumpMap)),void 0!==t.bumpScale&&(r.bumpScale=t.bumpScale),void 0!==t.normalMap&&(r.normalMap=e(t.normalMap)),void 0!==t.normalScale){var a=t.normalScale;Array.isArray(a)===!1&&(a=[a,a]),r.normalScale=(new i).fromArray(a)}if(void 0!==t.displacementMap&&(r.displacementMap=e(t.displacementMap)),void 0!==t.displacementScale&&(r.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(r.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(r.roughnessMap=e(t.roughnessMap)),void 0!==t.metalnessMap&&(r.metalnessMap=e(t.metalnessMap)),void 0!==t.emissiveMap&&(r.emissiveMap=e(t.emissiveMap)),void 0!==t.emissiveIntensity&&(r.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(r.specularMap=e(t.specularMap)),void 0!==t.envMap&&(r.envMap=e(t.envMap)),void 0!==t.reflectivity&&(r.reflectivity=t.reflectivity),void 0!==t.lightMap&&(r.lightMap=e(t.lightMap)),void 0!==t.lightMapIntensity&&(r.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(r.aoMap=e(t.aoMap)),void 0!==t.aoMapIntensity&&(r.aoMapIntensity=t.aoMapIntensity),void 0!==t.materials)for(var o=0,s=t.materials.length;o<s;o++)r.materials.push(this.parse(t.materials[o]));return r}}),Object.assign($i.prototype,{load:function(t,e,i,n){var r=this,a=new Mi(r.manager);a.load(t,function(t){e(r.parse(JSON.parse(t)))},i,n)},parse:function(t){var e=new Rt,i=t.data.index,n={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};if(void 0!==i){var r=new n[i.type](i.array);e.setIndex(new mt(r,1))}var a=t.data.attributes;for(var o in a){var s=a[o],r=new n[s.type](s.array);e.addAttribute(o,new mt(r,s.itemSize,s.normalized))}var c=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==c)for(var l=0,u=c.length;l!==u;++l){var p=c[l];e.addGroup(p.start,p.count,p.materialIndex)}var d=t.data.boundingSphere;if(void 0!==d){var f=new h;void 0!==d.center&&f.fromArray(d.center),e.boundingSphere=new et(f,d.radius)}return e}}),tn.prototype={constructor:tn,crossOrigin:void 0,extractUrlBase:function(t){var e=t.split(\\\"/\\\");return 1===e.length?\\\"./\\\":(e.pop(),e.join(\\\"/\\\")+\\\"/\\\")},initMaterials:function(t,e,i){for(var n=[],r=0;r<t.length;++r)n[r]=this.createMaterial(t[r],e,i);return n},createMaterial:function(){var t,e,i;return function(n,r,a){function o(t,i,n,o,c){var h,l=r+t,u=tn.Handlers.get(l);null!==u?h=u.load(l):(e.setCrossOrigin(a),h=e.load(l)),void 0!==i&&(h.repeat.fromArray(i),1!==i[0]&&(h.wrapS=La),1!==i[1]&&(h.wrapT=La)),void 0!==n&&h.offset.fromArray(n),void 0!==o&&(\\\"repeat\\\"===o[0]&&(h.wrapS=La),\\\"mirror\\\"===o[0]&&(h.wrapS=Pa),\\\"repeat\\\"===o[1]&&(h.wrapT=La),\\\"mirror\\\"===o[1]&&(h.wrapT=Pa)),void 0!==c&&(h.anisotropy=c);var p=Fo.generateUUID();return s[p]=h,p}void 0===t&&(t=new X),void 0===e&&(e=new Li),void 0===i&&(i=new Ki);var s={},c={uuid:Fo.generateUUID(),type:\\\"MeshLambertMaterial\\\"};for(var h in n){var l=n[h];switch(h){case\\\"DbgColor\\\":case\\\"DbgIndex\\\":case\\\"opticalDensity\\\":case\\\"illumination\\\":break;case\\\"DbgName\\\":c.name=l;break;case\\\"blending\\\":c.blending=Gr[l];break;case\\\"colorAmbient\\\":case\\\"mapAmbient\\\":console.warn(\\\"THREE.Loader.createMaterial:\\\",h,\\\"is no longer supported.\\\");break;case\\\"colorDiffuse\\\":c.color=t.fromArray(l).getHex();break;case\\\"colorSpecular\\\":c.specular=t.fromArray(l).getHex();break;case\\\"colorEmissive\\\":c.emissive=t.fromArray(l).getHex();break;case\\\"specularCoef\\\":c.shininess=l;break;case\\\"shading\\\":\\\"basic\\\"===l.toLowerCase()&&(c.type=\\\"MeshBasicMaterial\\\"),\\\"phong\\\"===l.toLowerCase()&&(c.type=\\\"MeshPhongMaterial\\\"),\\\"standard\\\"===l.toLowerCase()&&(c.type=\\\"MeshStandardMaterial\\\");break;case\\\"mapDiffuse\\\":c.map=o(l,n.mapDiffuseRepeat,n.mapDiffuseOffset,n.mapDiffuseWrap,n.mapDiffuseAnisotropy);break;case\\\"mapDiffuseRepeat\\\":case\\\"mapDiffuseOffset\\\":case\\\"mapDiffuseWrap\\\":case\\\"mapDiffuseAnisotropy\\\":break;case\\\"mapEmissive\\\":c.emissiveMap=o(l,n.mapEmissiveRepeat,n.mapEmissiveOffset,n.mapEmissiveWrap,n.mapEmissiveAnisotropy);break;case\\\"mapEmissiveRepeat\\\":case\\\"mapEmissiveOffset\\\":case\\\"mapEmissiveWrap\\\":case\\\"mapEmissiveAnisotropy\\\":break;case\\\"mapLight\\\":c.lightMap=o(l,n.mapLightRepeat,n.mapLightOffset,n.mapLightWrap,n.mapLightAnisotropy);break;case\\\"mapLightRepeat\\\":case\\\"mapLightOffset\\\":case\\\"mapLightWrap\\\":case\\\"mapLightAnisotropy\\\":break;case\\\"mapAO\\\":c.aoMap=o(l,n.mapAORepeat,n.mapAOOffset,n.mapAOWrap,n.mapAOAnisotropy);break;case\\\"mapAORepeat\\\":case\\\"mapAOOffset\\\":case\\\"mapAOWrap\\\":case\\\"mapAOAnisotropy\\\":break;case\\\"mapBump\\\":c.bumpMap=o(l,n.mapBumpRepeat,n.mapBumpOffset,n.mapBumpWrap,n.mapBumpAnisotropy);break;case\\\"mapBumpScale\\\":c.bumpScale=l;break;case\\\"mapBumpRepeat\\\":case\\\"mapBumpOffset\\\":case\\\"mapBumpWrap\\\":case\\\"mapBumpAnisotropy\\\":break;case\\\"mapNormal\\\":c.normalMap=o(l,n.mapNormalRepeat,n.mapNormalOffset,n.mapNormalWrap,n.mapNormalAnisotropy);break;case\\\"mapNormalFactor\\\":c.normalScale=[l,l];break;case\\\"mapNormalRepeat\\\":case\\\"mapNormalOffset\\\":case\\\"mapNormalWrap\\\":case\\\"mapNormalAnisotropy\\\":break;case\\\"mapSpecular\\\":c.specularMap=o(l,n.mapSpecularRepeat,n.mapSpecularOffset,n.mapSpecularWrap,n.mapSpecularAnisotropy);break;case\\\"mapSpecularRepeat\\\":case\\\"mapSpecularOffset\\\":case\\\"mapSpecularWrap\\\":case\\\"mapSpecularAnisotropy\\\":break;case\\\"mapMetalness\\\":c.metalnessMap=o(l,n.mapMetalnessRepeat,n.mapMetalnessOffset,n.mapMetalnessWrap,n.mapMetalnessAnisotropy);break;case\\\"mapMetalnessRepeat\\\":case\\\"mapMetalnessOffset\\\":case\\\"mapMetalnessWrap\\\":case\\\"mapMetalnessAnisotropy\\\":break;case\\\"mapRoughness\\\":c.roughnessMap=o(l,n.mapRoughnessRepeat,n.mapRoughnessOffset,n.mapRoughnessWrap,n.mapRoughnessAnisotropy);break;case\\\"mapRoughnessRepeat\\\":case\\\"mapRoughnessOffset\\\":case\\\"mapRoughnessWrap\\\":case\\\"mapRoughnessAnisotropy\\\":break;case\\\"mapAlpha\\\":c.alphaMap=o(l,n.mapAlphaRepeat,n.mapAlphaOffset,n.mapAlphaWrap,n.mapAlphaAnisotropy);break;case\\\"mapAlphaRepeat\\\":case\\\"mapAlphaOffset\\\":case\\\"mapAlphaWrap\\\":case\\\"mapAlphaAnisotropy\\\":break;case\\\"flipSided\\\":c.side=Ar;break;case\\\"doubleSided\\\":c.side=Lr;break;case\\\"transparency\\\":console.warn(\\\"THREE.Loader.createMaterial: transparency has been renamed to opacity\\\"),c.opacity=l;break;case\\\"depthTest\\\":case\\\"depthWrite\\\":case\\\"colorWrite\\\":case\\\"opacity\\\":case\\\"reflectivity\\\":case\\\"transparent\\\":case\\\"visible\\\":case\\\"wireframe\\\":c[h]=l;break;case\\\"vertexColors\\\":l===!0&&(c.vertexColors=Ur),\\\"face\\\"===l&&(c.vertexColors=Ir);break;default:console.error(\\\"THREE.Loader.createMaterial: Unsupported\\\",h,l)}}return\\\"MeshBasicMaterial\\\"===c.type&&delete c.emissive,\\\"MeshPhongMaterial\\\"!==c.type&&delete c.specular,c.opacity<1&&(c.transparent=!0),i.setTextures(s),i.parse(c)}}()},tn.Handlers={handlers:[],add:function(t,e){this.handlers.push(t,e)},get:function(t){for(var e=this.handlers,i=0,n=e.length;i<n;i+=2){var r=e[i],a=e[i+1];if(r.test(t))return a}return null}},Object.assign(en.prototype,{load:function(t,e,i,n){var r=this,a=this.texturePath&&\\\"string\\\"==typeof this.texturePath?this.texturePath:tn.prototype.extractUrlBase(t),o=new Mi(this.manager);o.setWithCredentials(this.withCredentials),o.load(t,function(i){var n=JSON.parse(i),o=n.metadata;if(void 0!==o){var s=o.type;if(void 0!==s){if(\\\"object\\\"===s.toLowerCase())return void console.error(\\\"THREE.JSONLoader: \\\"+t+\\\" should be loaded with THREE.ObjectLoader instead.\\\");if(\\\"scene\\\"===s.toLowerCase())return void console.error(\\\"THREE.JSONLoader: \\\"+t+\\\" should be loaded with THREE.SceneLoader instead.\\\")}}var c=r.parse(n,a);e(c.geometry,c.materials)},i,n)},setTexturePath:function(t){this.texturePath=t},parse:function(t,e){function n(e){function n(t,e){return t&1<<e}var r,a,o,s,l,u,p,d,f,m,v,g,y,x,_,b,w,M,E,T,S,A,L,R,P,C,I,U=t.faces,N=t.vertices,D=t.normals,O=t.colors,F=0;if(void 0!==t.uvs){for(r=0;r<t.uvs.length;r++)t.uvs[r].length&&F++;for(r=0;r<F;r++)c.faceVertexUvs[r]=[]}for(s=0,l=N.length;s<l;)M=new h,M.x=N[s++]*e,M.y=N[s++]*e,M.z=N[s++]*e,c.vertices.push(M);for(s=0,l=U.length;s<l;)if(m=U[s++],v=n(m,0),g=n(m,1),y=n(m,3),x=n(m,4),_=n(m,5),b=n(m,6),w=n(m,7),v){if(T=new dt,T.a=U[s],T.b=U[s+1],T.c=U[s+3],S=new dt,S.a=U[s+1],S.b=U[s+2],S.c=U[s+3],s+=4,g&&(f=U[s++],T.materialIndex=f,S.materialIndex=f),o=c.faces.length,y)for(r=0;r<F;r++)for(R=t.uvs[r],c.faceVertexUvs[r][o]=[],c.faceVertexUvs[r][o+1]=[],a=0;a<4;a++)d=U[s++],C=R[2*d],I=R[2*d+1],P=new i(C,I),2!==a&&c.faceVertexUvs[r][o].push(P),0!==a&&c.faceVertexUvs[r][o+1].push(P);if(x&&(p=3*U[s++],T.normal.set(D[p++],D[p++],D[p]),S.normal.copy(T.normal)),_)for(r=0;r<4;r++)p=3*U[s++],L=new h(D[p++],D[p++],D[p]),2!==r&&T.vertexNormals.push(L),0!==r&&S.vertexNormals.push(L);if(b&&(u=U[s++],A=O[u],T.color.setHex(A),S.color.setHex(A)),w)for(r=0;r<4;r++)u=U[s++],A=O[u],2!==r&&T.vertexColors.push(new X(A)),0!==r&&S.vertexColors.push(new X(A));c.faces.push(T),c.faces.push(S)}else{if(E=new dt,E.a=U[s++],E.b=U[s++],E.c=U[s++],g&&(f=U[s++],E.materialIndex=f),o=c.faces.length,y)for(r=0;r<F;r++)for(R=t.uvs[r],c.faceVertexUvs[r][o]=[],a=0;a<3;a++)d=U[s++],C=R[2*d],I=R[2*d+1],P=new i(C,I),c.faceVertexUvs[r][o].push(P);if(x&&(p=3*U[s++],E.normal.set(D[p++],D[p++],D[p])),_)for(r=0;r<3;r++)p=3*U[s++],L=new h(D[p++],D[p++],D[p]),E.vertexNormals.push(L);if(b&&(u=U[s++],E.color.setHex(O[u])),w)for(r=0;r<3;r++)u=U[s++],E.vertexColors.push(new X(O[u]));c.faces.push(E)}}function r(){var e=void 0!==t.influencesPerVertex?t.influencesPerVertex:2;if(t.skinWeights)for(var i=0,n=t.skinWeights.length;i<n;i+=e){var r=t.skinWeights[i],o=e>1?t.skinWeights[i+1]:0,s=e>2?t.skinWeights[i+2]:0,h=e>3?t.skinWeights[i+3]:0;c.skinWeights.push(new a(r,o,s,h))}if(t.skinIndices)for(var i=0,n=t.skinIndices.length;i<n;i+=e){var l=t.skinIndices[i],u=e>1?t.skinIndices[i+1]:0,p=e>2?t.skinIndices[i+2]:0,d=e>3?t.skinIndices[i+3]:0;c.skinIndices.push(new a(l,u,p,d))}c.bones=t.bones,c.bones&&c.bones.length>0&&(c.skinWeights.length!==c.skinIndices.length||c.skinIndices.length!==c.vertices.length)&&console.warn(\\\"When skinning, number of vertices (\\\"+c.vertices.length+\\\"), skinIndices (\\\"+c.skinIndices.length+\\\"), and skinWeights (\\\"+c.skinWeights.length+\\\") should match.\\\")}function o(e){if(void 0!==t.morphTargets)for(var i=0,n=t.morphTargets.length;i<n;i++){c.morphTargets[i]={},c.morphTargets[i].name=t.morphTargets[i].name,c.morphTargets[i].vertices=[];for(var r=c.morphTargets[i].vertices,a=t.morphTargets[i].vertices,o=0,s=a.length;o<s;o+=3){var l=new h;l.x=a[o]*e,l.y=a[o+1]*e,l.z=a[o+2]*e,r.push(l)}}if(void 0!==t.morphColors&&t.morphColors.length>0){console.warn('THREE.JSONLoader: \\\"morphColors\\\" no longer supported. Using them as face colors.');for(var u=c.faces,p=t.morphColors[0].colors,i=0,n=u.length;i<n;i++)u[i].color.fromArray(p,3*i)}}function s(){var e=[],i=[];void 0!==t.animation&&i.push(t.animation),void 0!==t.animations&&(t.animations.length?i=i.concat(t.animations):i.push(t.animations));for(var n=0;n<i.length;n++){var r=Qi.parseAnimation(i[n],c.bones);r&&e.push(r)}if(c.morphTargets){var a=Qi.CreateClipsFromMorphTargetSequences(c.morphTargets,10);e=e.concat(a)}e.length>0&&(c.animations=e)}var c=new St,l=void 0!==t.scale?1/t.scale:1;if(n(l),r(),o(l),s(),c.computeFaceNormals(),c.computeBoundingSphere(),void 0===t.materials||0===t.materials.length)return{geometry:c};var u=tn.prototype.initMaterials(t.materials,e,this.crossOrigin);return{geometry:c,materials:u}}}),Object.assign(nn.prototype,{load:function(t,e,i,n){\\\"\\\"===this.texturePath&&(this.texturePath=t.substring(0,t.lastIndexOf(\\\"/\\\")+1));var r=this,a=new Mi(r.manager);a.load(t,function(t){r.parse(JSON.parse(t),e)},i,n)},setTexturePath:function(t){this.texturePath=t},setCrossOrigin:function(t){this.crossOrigin=t},parse:function(t,e){var i=this.parseGeometries(t.geometries),n=this.parseImages(t.images,function(){void 0!==e&&e(o)}),r=this.parseTextures(t.textures,n),a=this.parseMaterials(t.materials,r),o=this.parseObject(t.object,i,a);return t.animations&&(o.animations=this.parseAnimations(t.animations)),void 0!==t.images&&0!==t.images.length||void 0!==e&&e(o),o},parseGeometries:function(t){var e={};if(void 0!==t)for(var i=new en,n=new $i,r=0,a=t.length;r<a;r++){var o,s=t[r];switch(s.type){case\\\"PlaneGeometry\\\":case\\\"PlaneBufferGeometry\\\":o=new Qc[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case\\\"BoxGeometry\\\":case\\\"BoxBufferGeometry\\\":case\\\"CubeGeometry\\\":o=new Qc[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case\\\"CircleGeometry\\\":case\\\"CircleBufferGeometry\\\":o=new Qc[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case\\\"CylinderGeometry\\\":case\\\"CylinderBufferGeometry\\\":o=new Qc[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case\\\"ConeGeometry\\\":case\\\"ConeBufferGeometry\\\":o=new Qc[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case\\\"SphereGeometry\\\":case\\\"SphereBufferGeometry\\\":o=new Qc[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case\\\"DodecahedronGeometry\\\":case\\\"IcosahedronGeometry\\\":case\\\"OctahedronGeometry\\\":case\\\"TetrahedronGeometry\\\":o=new Qc[s.type](s.radius,s.detail);break;case\\\"RingGeometry\\\":case\\\"RingBufferGeometry\\\":o=new Qc[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case\\\"TorusGeometry\\\":case\\\"TorusBufferGeometry\\\":o=new Qc[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case\\\"TorusKnotGeometry\\\":case\\\"TorusKnotBufferGeometry\\\":o=new Qc[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case\\\"LatheGeometry\\\":case\\\"LatheBufferGeometry\\\":o=new Qc[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case\\\"BufferGeometry\\\":o=n.parse(s);break;case\\\"Geometry\\\":o=i.parse(s.data,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type \\\"'+s.type+'\\\"');continue}o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),e[s.uuid]=o}return e},parseMaterials:function(t,e){var i={};if(void 0!==t){var n=new Ki;n.setTextures(e);for(var r=0,a=t.length;r<a;r++){var o=n.parse(t[r]);i[o.uuid]=o}}return i},parseAnimations:function(t){for(var e=[],i=0;i<t.length;i++){var n=Qi.parse(t[i]);e.push(n)}return e},parseImages:function(t,e){function i(t){return n.manager.itemStart(t),o.load(t,function(){n.manager.itemEnd(t)},void 0,function(){n.manager.itemError(t)})}var n=this,r={};if(void 0!==t&&t.length>0){var a=new wi(e),o=new Si(a);o.setCrossOrigin(this.crossOrigin);for(var s=0,c=t.length;s<c;s++){var h=t[s],l=/^(\\\\/\\\\/)|([a-z]+:(\\\\/\\\\/)?)/i.test(h.url)?h.url:n.texturePath+h.url;r[h.uuid]=i(l)}}return r},parseTextures:function(t,e){function i(t,e){return\\\"number\\\"==typeof t?t:(console.warn(\\\"THREE.ObjectLoader.parseTexture: Constant should be in numeric form.\\\",t),e[t])}var r={};if(void 0!==t)for(var a=0,o=t.length;a<o;a++){var s=t[a];void 0===s.image&&console.warn('THREE.ObjectLoader: No \\\"image\\\" specified for',s.uuid),void 0===e[s.image]&&console.warn(\\\"THREE.ObjectLoader: Undefined image\\\",s.image);var c=new n(e[s.image]);c.needsUpdate=!0,c.uuid=s.uuid,void 0!==s.name&&(c.name=s.name),void 0!==s.mapping&&(c.mapping=i(s.mapping,Aa)),void 0!==s.offset&&c.offset.fromArray(s.offset),void 0!==s.repeat&&c.repeat.fromArray(s.repeat),void 0!==s.wrap&&(c.wrapS=i(s.wrap[0],Ca),c.wrapT=i(s.wrap[1],Ca)),void 0!==s.minFilter&&(c.minFilter=i(s.minFilter,Ba)),void 0!==s.magFilter&&(c.magFilter=i(s.magFilter,Ba)),void 0!==s.anisotropy&&(c.anisotropy=s.anisotropy),void 0!==s.flipY&&(c.flipY=s.flipY),r[s.uuid]=c}return r},parseObject:function(){var t=new l;return function(e,i,n){function r(t){return void 0===i[t]&&console.warn(\\\"THREE.ObjectLoader: Undefined geometry\\\",t),i[t]}function a(t){if(void 0!==t)return void 0===n[t]&&console.warn(\\\"THREE.ObjectLoader: Undefined material\\\",t),n[t]}var o;switch(e.type){case\\\"Scene\\\":o=new ue,void 0!==e.background&&Number.isInteger(e.background)&&(o.background=new X(e.background)),void 0!==e.fog&&(\\\"Fog\\\"===e.fog.type?o.fog=new le(e.fog.color,e.fog.near,e.fog.far):\\\"FogExp2\\\"===e.fog.type&&(o.fog=new he(e.fog.color,e.fog.density)));break;case\\\"PerspectiveCamera\\\":o=new Nt(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(o.focus=e.focus),void 0!==e.zoom&&(o.zoom=e.zoom),void 0!==e.filmGauge&&(o.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(o.filmOffset=e.filmOffset),void 0!==e.view&&(o.view=Object.assign({},e.view));break;case\\\"OrthographicCamera\\\":o=new Dt(e.left,e.right,e.top,e.bottom,e.near,e.far);break;case\\\"AmbientLight\\\":o=new Fi(e.color,e.intensity);break;case\\\"DirectionalLight\\\":o=new Oi(e.color,e.intensity);break;case\\\"PointLight\\\":o=new Ni(e.color,e.intensity,e.distance,e.decay);break;case\\\"SpotLight\\\":o=new Ui(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case\\\"HemisphereLight\\\":o=new Pi(e.color,e.groundColor,e.intensity);break;case\\\"Mesh\\\":var s=r(e.geometry),c=a(e.material);o=s.bones&&s.bones.length>0?new xe(s,c):new Pt(s,c);break;case\\\"LOD\\\":o=new me;break;case\\\"Line\\\":o=new be(r(e.geometry),a(e.material),e.mode);break;case\\\"LineSegments\\\":o=new we(r(e.geometry),a(e.material));break;case\\\"PointCloud\\\":case\\\"Points\\\":o=new Ee(r(e.geometry),a(e.material));break;case\\\"Sprite\\\":o=new fe(a(e.material));break;case\\\"Group\\\":o=new Te;break;default:o=new ht}if(o.uuid=e.uuid,void 0!==e.name&&(o.name=e.name),void 0!==e.matrix?(t.fromArray(e.matrix),t.decompose(o.position,o.quaternion,o.scale)):(void 0!==e.position&&o.position.fromArray(e.position),void 0!==e.rotation&&o.rotation.fromArray(e.rotation),void 0!==e.quaternion&&o.quaternion.fromArray(e.quaternion),void 0!==e.scale&&o.scale.fromArray(e.scale)),void 0!==e.castShadow&&(o.castShadow=e.castShadow),void 0!==e.receiveShadow&&(o.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(o.shadow.bias=e.shadow.bias),void 0!==e.shadow.radius&&(o.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&o.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(o.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(o.visible=e.visible),void 0!==e.userData&&(o.userData=e.userData),void 0!==e.children)for(var h in e.children)o.add(this.parseObject(e.children[h],i,n));if(\\\"LOD\\\"===e.type)for(var l=e.levels,u=0;u<l.length;u++){var p=l[u],h=o.getObjectByProperty(\\\"uuid\\\",p.object);void 0!==h&&o.addLevel(h,p.distance)}return o}}()}),rn.prototype={constructor:rn,getPoint:function(t){return console.warn(\\\"THREE.Curve: Warning, getPoint() not implemented!\\\"),null},getPointAt:function(t){var e=this.getUtoTmapping(t);return this.getPoint(e)},getPoints:function(t){t||(t=5);for(var e=[],i=0;i<=t;i++)e.push(this.getPoint(i/t));return e},getSpacedPoints:function(t){t||(t=5);for(var e=[],i=0;i<=t;i++)e.push(this.getPointAt(i/t));return e},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(t||(t=this.__arcLengthDivisions?this.__arcLengthDivisions:200),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,i,n=[],r=this.getPoint(0),a=0;for(n.push(0),i=1;i<=t;i++)e=this.getPoint(i/t),a+=e.distanceTo(r),n.push(a),r=e;return this.cacheArcLengths=n,n},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,e){var i,n=this.getLengths(),r=0,a=n.length;i=e?e:t*n[a-1];for(var o,s=0,c=a-1;s<=c;)if(r=Math.floor(s+(c-s)/2),o=n[r]-i,o<0)s=r+1;else{if(!(o>0)){c=r;break}c=r-1}if(r=c,n[r]===i){var h=r/(a-1);return h}var l=n[r],u=n[r+1],p=u-l,d=(i-l)/p,h=(r+d)/(a-1);return h},getTangent:function(t){var e=1e-4,i=t-e,n=t+e;i<0&&(i=0),n>1&&(n=1);var r=this.getPoint(i),a=this.getPoint(n),o=a.clone().sub(r);return o.normalize()},getTangentAt:function(t){var e=this.getUtoTmapping(t);return this.getTangent(e)},computeFrenetFrames:function(t,e){var i,n,r,a=new h,o=[],s=[],c=[],u=new h,p=new l;for(i=0;i<=t;i++)n=i/t,o[i]=this.getTangentAt(n),o[i].normalize();s[0]=new h,c[0]=new h;var d=Number.MAX_VALUE,f=Math.abs(o[0].x),m=Math.abs(o[0].y),v=Math.abs(o[0].z);for(f<=d&&(d=f,a.set(1,0,0)),m<=d&&(d=m,a.set(0,1,0)),v<=d&&a.set(0,0,1),u.crossVectors(o[0],a).normalize(),s[0].crossVectors(o[0],u),c[0].crossVectors(o[0],s[0]),i=1;i<=t;i++)s[i]=s[i-1].clone(),c[i]=c[i-1].clone(),u.crossVectors(o[i-1],o[i]),u.length()>Number.EPSILON&&(u.normalize(),r=Math.acos(Fo.clamp(o[i-1].dot(o[i]),-1,1)),s[i].applyMatrix4(p.makeRotationAxis(u,r))),c[i].crossVectors(o[i],s[i]);if(e===!0)for(r=Math.acos(Fo.clamp(s[0].dot(s[t]),-1,1)),r/=t,o[0].dot(u.crossVectors(s[0],s[t]))>0&&(r=-r),i=1;i<=t;i++)s[i].applyMatrix4(p.makeRotationAxis(o[i],r*i)),c[i].crossVectors(o[i],s[i]);return{tangents:o,normals:s,binormals:c}}},rn.create=function(t,e){return t.prototype=Object.create(rn.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t},an.prototype=Object.create(rn.prototype),an.prototype.constructor=an,an.prototype.isLineCurve=!0,an.prototype.getPoint=function(t){if(1===t)return this.v2.clone();var e=this.v2.clone().sub(this.v1);return e.multiplyScalar(t).add(this.v1),e},an.prototype.getPointAt=function(t){return this.getPoint(t)},an.prototype.getTangent=function(t){var e=this.v2.clone().sub(this.v1);return e.normalize()},on.prototype=Object.assign(Object.create(rn.prototype),{constructor:on,add:function(t){this.curves.push(t)},closePath:function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new an(e,t))},getPoint:function(t){for(var e=t*this.getLength(),i=this.getCurveLengths(),n=0;n<i.length;){if(i[n]>=e){var r=i[n]-e,a=this.curves[n],o=a.getLength(),s=0===o?0:1-r/o;return a.getPointAt(s)}n++}return null},getLength:function(){var t=this.getCurveLengths();return t[t.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,i=0,n=this.curves.length;i<n;i++)e+=this.curves[i].getLength(),t.push(e);return this.cacheLengths=t,t},getSpacedPoints:function(t){t||(t=40);for(var e=[],i=0;i<=t;i++)e.push(this.getPoint(i/t));return this.autoClose&&e.push(e[0]),e},getPoints:function(t){t=t||12;for(var e,i=[],n=0,r=this.curves;n<r.length;n++)for(var a=r[n],o=a&&a.isEllipseCurve?2*t:a&&a.isLineCurve?1:a&&a.isSplineCurve?t*a.points.length:t,s=a.getPoints(o),c=0;c<s.length;c++){var h=s[c];e&&e.equals(h)||(i.push(h),e=h)}return this.autoClose&&i.length>1&&!i[i.length-1].equals(i[0])&&i.push(i[0]),i},createPointsGeometry:function(t){var e=this.getPoints(t);return this.createGeometry(e)},createSpacedPointsGeometry:function(t){var e=this.getSpacedPoints(t);return this.createGeometry(e)},createGeometry:function(t){for(var e=new St,i=0,n=t.length;i<n;i++){var r=t[i];e.vertices.push(new h(r.x,r.y,r.z||0))}return e}}),sn.prototype=Object.create(rn.prototype),sn.prototype.constructor=sn,sn.prototype.isEllipseCurve=!0,sn.prototype.getPoint=function(t){for(var e=2*Math.PI,n=this.aEndAngle-this.aStartAngle,r=Math.abs(n)<Number.EPSILON;n<0;)n+=e;for(;n>e;)n-=e;n<Number.EPSILON&&(n=r?0:e),this.aClockwise!==!0||r||(n===e?n=-e:n-=e);var a=this.aStartAngle+t*n,o=this.aX+this.xRadius*Math.cos(a),s=this.aY+this.yRadius*Math.sin(a);if(0!==this.aRotation){var c=Math.cos(this.aRotation),h=Math.sin(this.aRotation),l=o-this.aX,u=s-this.aY;o=l*c-u*h+this.aX,s=l*h+u*c+this.aY}return new i(o,s)};var rh={tangentQuadraticBezier:function(t,e,i,n){return 2*(1-t)*(i-e)+2*t*(n-i)},tangentCubicBezier:function(t,e,i,n,r){return-3*e*(1-t)*(1-t)+3*i*(1-t)*(1-t)-6*t*i*(1-t)+6*t*n*(1-t)-3*t*t*n+3*t*t*r},tangentSpline:function(t,e,i,n,r){var a=6*t*t-6*t,o=3*t*t-4*t+1,s=-6*t*t+6*t,c=3*t*t-2*t;return a+o+s+c},interpolate:function(t,e,i,n,r){var a=.5*(i-t),o=.5*(n-e),s=r*r,c=r*s;return(2*e-2*i+a+o)*c+(-3*e+3*i-2*a-o)*s+a*r+e}};cn.prototype=Object.create(rn.prototype),cn.prototype.constructor=cn,cn.prototype.isSplineCurve=!0,cn.prototype.getPoint=function(t){var e=this.points,n=(e.length-1)*t,r=Math.floor(n),a=n-r,o=e[0===r?r:r-1],s=e[r],c=e[r>e.length-2?e.length-1:r+1],h=e[r>e.length-3?e.length-1:r+2],l=rh.interpolate;return new i(l(o.x,s.x,c.x,h.x,a),l(o.y,s.y,c.y,h.y,a))},hn.prototype=Object.create(rn.prototype),hn.prototype.constructor=hn,hn.prototype.getPoint=function(t){var e=Jc.b3;return new i(e(t,this.v0.x,this.v1.x,this.v2.x,this.v3.x),e(t,this.v0.y,this.v1.y,this.v2.y,this.v3.y))},hn.prototype.getTangent=function(t){var e=rh.tangentCubicBezier;return new i(e(t,this.v0.x,this.v1.x,this.v2.x,this.v3.x),e(t,this.v0.y,this.v1.y,this.v2.y,this.v3.y)).normalize()},ln.prototype=Object.create(rn.prototype),ln.prototype.constructor=ln,ln.prototype.getPoint=function(t){var e=Jc.b2;return new i(e(t,this.v0.x,this.v1.x,this.v2.x),e(t,this.v0.y,this.v1.y,this.v2.y))},ln.prototype.getTangent=function(t){var e=rh.tangentQuadraticBezier;return new i(e(t,this.v0.x,this.v1.x,this.v2.x),e(t,this.v0.y,this.v1.y,this.v2.y)).normalize()};var ah=Object.assign(Object.create(on.prototype),{fromPoints:function(t){this.moveTo(t[0].x,t[0].y);for(var e=1,i=t.length;e<i;e++)this.lineTo(t[e].x,t[e].y)},moveTo:function(t,e){this.currentPoint.set(t,e)},lineTo:function(t,e){var n=new an(this.currentPoint.clone(),new i(t,e));this.curves.push(n),this.currentPoint.set(t,e)},quadraticCurveTo:function(t,e,n,r){var a=new ln(this.currentPoint.clone(),new i(t,e),new i(n,r));this.curves.push(a),this.currentPoint.set(n,r)},bezierCurveTo:function(t,e,n,r,a,o){var s=new hn(this.currentPoint.clone(),new i(t,e),new i(n,r),new i(a,o));this.curves.push(s),this.currentPoint.set(a,o)},splineThru:function(t){var e=[this.currentPoint.clone()].concat(t),i=new cn(e);this.curves.push(i),this.currentPoint.copy(t[t.length-1])},arc:function(t,e,i,n,r,a){var o=this.currentPoint.x,s=this.currentPoint.y;this.absarc(t+o,e+s,i,n,r,a)},absarc:function(t,e,i,n,r,a){this.absellipse(t,e,i,i,n,r,a)},ellipse:function(t,e,i,n,r,a,o,s){var c=this.currentPoint.x,h=this.currentPoint.y;this.absellipse(t+c,e+h,i,n,r,a,o,s)},absellipse:function(t,e,i,n,r,a,o,s){var c=new sn(t,e,i,n,r,a,o,s);if(this.curves.length>0){var h=c.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(c);var l=c.getPoint(1);this.currentPoint.copy(l)}});un.prototype=Object.assign(Object.create(ah),{constructor:un,getPointsHoles:function(t){for(var e=[],i=0,n=this.holes.length;i<n;i++)e[i]=this.holes[i].getPoints(t);return e},extractAllPoints:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},extractPoints:function(t){return this.extractAllPoints(t)}}),pn.prototype=ah,ah.constructor=pn,dn.prototype={moveTo:function(t,e){this.currentPath=new pn,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e)},lineTo:function(t,e){this.currentPath.lineTo(t,e)},quadraticCurveTo:function(t,e,i,n){this.currentPath.quadraticCurveTo(t,e,i,n)},bezierCurveTo:function(t,e,i,n,r,a){this.currentPath.bezierCurveTo(t,e,i,n,r,a)},splineThru:function(t){this.currentPath.splineThru(t)},toShapes:function(t,e){function i(t){for(var e=[],i=0,n=t.length;i<n;i++){var r=t[i],a=new un;a.curves=r.curves,e.push(a)}return e}function n(t,e){for(var i=e.length,n=!1,r=i-1,a=0;a<i;r=a++){var o=e[r],s=e[a],c=s.x-o.x,h=s.y-o.y;if(Math.abs(h)>Number.EPSILON){if(h<0&&(o=e[a],c=-c,s=e[r],h=-h),t.y<o.y||t.y>s.y)continue;if(t.y===o.y){if(t.x===o.x)return!0}else{var l=h*(t.x-o.x)-c*(t.y-o.y);if(0===l)return!0;if(l<0)continue;n=!n}}else{if(t.y!==o.y)continue;if(s.x<=t.x&&t.x<=o.x||o.x<=t.x&&t.x<=s.x)return!0}}return n}var r=Jc.isClockWise,a=this.subPaths;if(0===a.length)return[];if(e===!0)return i(a);var o,s,c,h=[];if(1===a.length)return s=a[0],c=new un,c.curves=s.curves,h.push(c),h;var l=!r(a[0].getPoints());l=t?!l:l;var u,p=[],d=[],f=[],m=0;d[m]=void 0,f[m]=[];for(var v=0,g=a.length;v<g;v++)s=a[v],u=s.getPoints(),o=r(u),o=t?!o:o,o?(!l&&d[m]&&m++,d[m]={s:new un,p:u},d[m].s.curves=s.curves,l&&m++,f[m]=[]):f[m].push({h:s,p:u[0]});if(!d[0])return i(a);if(d.length>1){for(var y=!1,x=[],_=0,b=d.length;_<b;_++)p[_]=[];for(var _=0,b=d.length;_<b;_++)for(var w=f[_],M=0;M<w.length;M++){for(var E=w[M],T=!0,S=0;S<d.length;S++)n(E.p,d[S].p)&&(_!==S&&x.push({froms:_,tos:S,hole:M}),T?(T=!1,p[S].push(E)):y=!0);T&&p[_].push(E)}x.length>0&&(y||(f=p))}for(var A,v=0,L=d.length;v<L;v++){c=d[v].s,h.push(c),A=f[v];for(var R=0,P=A.length;R<P;R++)c.holes.push(A[R].h)}return h}},Object.assign(fn.prototype,{isFont:!0,generateShapes:function(t,e,i){function n(t){for(var i=String(t).split(\\\"\\\"),n=e/a.resolution,o=0,s=[],c=0;c<i.length;c++){\\nvar h=r(i[c],n,o);o+=h.offset,s.push(h.path)}return s}function r(t,e,n){var r=a.glyphs[t]||a.glyphs[\\\"?\\\"];if(r){var o,s,c,h,l,u,p,d,f,m,v,g=new dn,y=[],x=Jc.b2,_=Jc.b3;if(r.o)for(var b=r._cachedOutline||(r._cachedOutline=r.o.split(\\\" \\\")),w=0,M=b.length;w<M;){var E=b[w++];switch(E){case\\\"m\\\":o=b[w++]*e+n,s=b[w++]*e,g.moveTo(o,s);break;case\\\"l\\\":o=b[w++]*e+n,s=b[w++]*e,g.lineTo(o,s);break;case\\\"q\\\":if(c=b[w++]*e+n,h=b[w++]*e,p=b[w++]*e+n,d=b[w++]*e,g.quadraticCurveTo(p,d,c,h),v=y[y.length-1]){l=v.x,u=v.y;for(var T=1;T<=i;T++){var S=T/i;x(S,l,p,c),x(S,u,d,h)}}break;case\\\"b\\\":if(c=b[w++]*e+n,h=b[w++]*e,p=b[w++]*e+n,d=b[w++]*e,f=b[w++]*e+n,m=b[w++]*e,g.bezierCurveTo(p,d,f,m,c,h),v=y[y.length-1]){l=v.x,u=v.y;for(var T=1;T<=i;T++){var S=T/i;_(S,l,p,f,c),_(S,u,d,m,h)}}}}return{offset:r.ha*e,path:g}}}void 0===e&&(e=100),void 0===i&&(i=4);for(var a=this.data,o=n(t),s=[],c=0,h=o.length;c<h;c++)Array.prototype.push.apply(s,o[c].toShapes());return s}}),Object.assign(mn.prototype,{load:function(t,e,i,n){var r=this,a=new Mi(this.manager);a.load(t,function(t){var i;try{i=JSON.parse(t)}catch(e){console.warn(\\\"THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead.\\\"),i=JSON.parse(t.substring(65,t.length-2))}var n=r.parse(i);e&&e(n)},i,n)},parse:function(t){return new fn(t)}});var oh;Object.assign(gn.prototype,{load:function(t,e,i,n){var r=new Mi(this.manager);r.setResponseType(\\\"arraybuffer\\\"),r.load(t,function(t){var i=vn();i.decodeAudioData(t,function(t){e(t)})},i,n)}}),Object.assign(yn.prototype,{update:function(){var t,e,i,n,r,a,o,s=new l,c=new l;return function(h){var l=t!==this||e!==h.focus||i!==h.fov||n!==h.aspect*this.aspect||r!==h.near||a!==h.far||o!==h.zoom;if(l){t=this,e=h.focus,i=h.fov,n=h.aspect*this.aspect,r=h.near,a=h.far,o=h.zoom;var u,p,d=h.projectionMatrix.clone(),f=this.eyeSep/2,m=f*r/e,v=r*Math.tan(Fo.DEG2RAD*i*.5)/o;c.elements[12]=-f,s.elements[12]=f,u=-v*n+m,p=v*n+m,d.elements[0]=2*r/(p-u),d.elements[8]=(p+u)/(p-u),this.cameraL.projectionMatrix.copy(d),u=-v*n-m,p=v*n-m,d.elements[0]=2*r/(p-u),d.elements[8]=(p+u)/(p-u),this.cameraR.projectionMatrix.copy(d)}this.cameraL.matrixWorld.copy(h.matrixWorld).multiply(c),this.cameraR.matrixWorld.copy(h.matrixWorld).multiply(s)}}()}),xn.prototype=Object.create(ht.prototype),xn.prototype.constructor=xn,_n.prototype=Object.assign(Object.create(ht.prototype),{constructor:_n,getInput:function(){return this.gain},removeFilter:function(){null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null)},getFilter:function(){return this.filter},setFilter:function(t){null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination)},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(t){this.gain.gain.value=t},updateMatrixWorld:function(){var t=new h,e=new c,i=new h,n=new h;return function(r){ht.prototype.updateMatrixWorld.call(this,r);var a=this.context.listener,o=this.up;this.matrixWorld.decompose(t,e,i),n.set(0,0,-1).applyQuaternion(e),a.setPosition(t.x,t.y,t.z),a.setOrientation(n.x,n.y,n.z,o.x,o.y,o.z)}}()}),bn.prototype=Object.assign(Object.create(ht.prototype),{constructor:bn,getOutput:function(){return this.gain},setNodeSource:function(t){return this.hasPlaybackControl=!1,this.sourceType=\\\"audioNode\\\",this.source=t,this.connect(),this},setBuffer:function(t){return this.source.buffer=t,this.sourceType=\\\"buffer\\\",this.autoplay&&this.play(),this},play:function(){if(this.isPlaying===!0)return void console.warn(\\\"THREE.Audio: Audio is already playing.\\\");if(this.hasPlaybackControl===!1)return void console.warn(\\\"THREE.Audio: this Audio has no playback control.\\\");var t=this.context.createBufferSource();return t.buffer=this.source.buffer,t.loop=this.source.loop,t.onended=this.source.onended,t.start(0,this.startTime),t.playbackRate.value=this.playbackRate,this.isPlaying=!0,this.source=t,this.connect()},pause:function(){return this.hasPlaybackControl===!1?void console.warn(\\\"THREE.Audio: this Audio has no playback control.\\\"):(this.source.stop(),this.startTime=this.context.currentTime,this.isPlaying=!1,this)},stop:function(){return this.hasPlaybackControl===!1?void console.warn(\\\"THREE.Audio: this Audio has no playback control.\\\"):(this.source.stop(),this.startTime=0,this.isPlaying=!1,this)},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(t){return t||(t=[]),this.isPlaying===!0?(this.disconnect(),this.filters=t,this.connect()):this.filters=t,this},getFilter:function(){return this.getFilters()[0]},setFilter:function(t){return this.setFilters(t?[t]:[])},setPlaybackRate:function(t){return this.hasPlaybackControl===!1?void console.warn(\\\"THREE.Audio: this Audio has no playback control.\\\"):(this.playbackRate=t,this.isPlaying===!0&&(this.source.playbackRate.value=this.playbackRate),this)},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return this.hasPlaybackControl===!1?(console.warn(\\\"THREE.Audio: this Audio has no playback control.\\\"),!1):this.source.loop},setLoop:function(t){return this.hasPlaybackControl===!1?void console.warn(\\\"THREE.Audio: this Audio has no playback control.\\\"):void(this.source.loop=t)},getVolume:function(){return this.gain.gain.value},setVolume:function(t){return this.gain.gain.value=t,this}}),wn.prototype=Object.assign(Object.create(bn.prototype),{constructor:wn,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(t){this.panner.refDistance=t},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(t){this.panner.rolloffFactor=t},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(t){this.panner.distanceModel=t},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(t){this.panner.maxDistance=t},updateMatrixWorld:function(){var t=new h;return function(e){ht.prototype.updateMatrixWorld.call(this,e),t.setFromMatrixPosition(this.matrixWorld),this.panner.setPosition(t.x,t.y,t.z)}}()}),Object.assign(Mn.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var t=0,e=this.getFrequencyData(),i=0;i<e.length;i++)t+=e[i];return t/e.length}}),En.prototype={constructor:En,accumulate:function(t,e){var i=this.buffer,n=this.valueSize,r=t*n+n,a=this.cumulativeWeight;if(0===a){for(var o=0;o!==n;++o)i[r+o]=i[o];a=e}else{a+=e;var s=e/a;this._mixBufferRegion(i,r,0,s,n)}this.cumulativeWeight=a},apply:function(t){var e=this.valueSize,i=this.buffer,n=t*e+e,r=this.cumulativeWeight,a=this.binding;if(this.cumulativeWeight=0,r<1){var o=3*e;this._mixBufferRegion(i,n,o,1-r,e)}for(var s=e,c=e+e;s!==c;++s)if(i[s]!==i[s+e]){a.setValue(i,n);break}},saveOriginalState:function(){var t=this.binding,e=this.buffer,i=this.valueSize,n=3*i;t.getValue(e,n);for(var r=i,a=n;r!==a;++r)e[r]=e[n+r%i];this.cumulativeWeight=0},restoreOriginalState:function(){var t=3*this.valueSize;this.binding.setValue(this.buffer,t)},_select:function(t,e,i,n,r){if(n>=.5)for(var a=0;a!==r;++a)t[e+a]=t[i+a]},_slerp:function(t,e,i,n,r){c.slerpFlat(t,e,t,e,t,i,n)},_lerp:function(t,e,i,n,r){for(var a=1-n,o=0;o!==r;++o){var s=e+o;t[s]=t[s]*a+t[i+o]*n}}},Tn.prototype={constructor:Tn,getValue:function(t,e){this.bind(),this.getValue(t,e)},setValue:function(t,e){this.bind(),this.setValue(t,e)},bind:function(){var t=this.node,e=this.parsedPath,i=e.objectName,n=e.propertyName,r=e.propertyIndex;if(t||(t=Tn.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.error(\\\"  trying to update node for track: \\\"+this.path+\\\" but it wasn't found.\\\");if(i){var a=e.objectIndex;switch(i){case\\\"materials\\\":if(!t.material)return void console.error(\\\"  can not bind to material as node does not have a material\\\",this);if(!t.material.materials)return void console.error(\\\"  can not bind to material.materials as node.material does not have a materials array\\\",this);t=t.material.materials;break;case\\\"bones\\\":if(!t.skeleton)return void console.error(\\\"  can not bind to bones as node does not have a skeleton\\\",this);t=t.skeleton.bones;for(var o=0;o<t.length;o++)if(t[o].name===a){a=o;break}break;default:if(void 0===t[i])return void console.error(\\\"  can not bind to objectName of node, undefined\\\",this);t=t[i]}if(void 0!==a){if(void 0===t[a])return void console.error(\\\"  trying to bind to objectIndex of objectName, but is undefined:\\\",this,t);t=t[a]}}var s=t[n];if(void 0===s){var c=e.nodeName;return void console.error(\\\"  trying to update property for track: \\\"+c+\\\".\\\"+n+\\\" but it wasn't found.\\\",t)}var h=this.Versioning.None;void 0!==t.needsUpdate?(h=this.Versioning.NeedsUpdate,this.targetObject=t):void 0!==t.matrixWorldNeedsUpdate&&(h=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=t);var l=this.BindingType.Direct;if(void 0!==r){if(\\\"morphTargetInfluences\\\"===n){if(!t.geometry)return void console.error(\\\"  can not bind to morphTargetInfluences becasuse node does not have a geometry\\\",this);if(!t.geometry.morphTargets)return void console.error(\\\"  can not bind to morphTargetInfluences becasuse node does not have a geometry.morphTargets\\\",this);for(var o=0;o<this.node.geometry.morphTargets.length;o++)if(t.geometry.morphTargets[o].name===r){r=o;break}}l=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=r}else void 0!==s.fromArray&&void 0!==s.toArray?(l=this.BindingType.HasFromToArray,this.resolvedProperty=s):void 0!==s.length?(l=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=n;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][h]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}},Object.assign(Tn.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},_getValue_unbound:Tn.prototype.getValue,_setValue_unbound:Tn.prototype.setValue,BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,e){t[e]=this.node[this.propertyName]},function(t,e){for(var i=this.resolvedProperty,n=0,r=i.length;n!==r;++n)t[e++]=i[n]},function(t,e){t[e]=this.resolvedProperty[this.propertyIndex]},function(t,e){this.resolvedProperty.toArray(t,e)}],SetterByBindingTypeAndVersioning:[[function(t,e){this.node[this.propertyName]=t[e]},function(t,e){this.node[this.propertyName]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.node[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){for(var i=this.resolvedProperty,n=0,r=i.length;n!==r;++n)i[n]=t[e++]},function(t,e){for(var i=this.resolvedProperty,n=0,r=i.length;n!==r;++n)i[n]=t[e++];this.targetObject.needsUpdate=!0},function(t,e){for(var i=this.resolvedProperty,n=0,r=i.length;n!==r;++n)i[n]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty[this.propertyIndex]=t[e]},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty.fromArray(t,e)},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}]]}),Tn.Composite=function(t,e,i){var n=i||Tn.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,n)},Tn.Composite.prototype={constructor:Tn.Composite,getValue:function(t,e){this.bind();var i=this._targetGroup.nCachedObjects_,n=this._bindings[i];void 0!==n&&n.getValue(t,e)},setValue:function(t,e){for(var i=this._bindings,n=this._targetGroup.nCachedObjects_,r=i.length;n!==r;++n)i[n].setValue(t,e)},bind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].bind()},unbind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].unbind()}},Tn.create=function(t,e,i){return t&&t.isAnimationObjectGroup?new Tn.Composite(t,e,i):new Tn(t,e,i)},Tn.parseTrackName=function(t){var e=/^((?:\\\\w+[\\\\/:])*)(\\\\w+)?(?:\\\\.(\\\\w+)(?:\\\\[(.+)\\\\])?)?\\\\.(\\\\w+)(?:\\\\[(.+)\\\\])?$/,i=e.exec(t);if(!i)throw new Error(\\\"cannot parse trackName at all: \\\"+t);var n={nodeName:i[2],objectName:i[3],objectIndex:i[4],propertyName:i[5],propertyIndex:i[6]};if(null===n.propertyName||0===n.propertyName.length)throw new Error(\\\"can not parse propertyName from trackName: \\\"+t);return n},Tn.findNode=function(t,e){if(!e||\\\"\\\"===e||\\\"root\\\"===e||\\\".\\\"===e||e===-1||e===t.name||e===t.uuid)return t;if(t.skeleton){var i=function(t){for(var i=0;i<t.bones.length;i++){var n=t.bones[i];if(n.name===e)return n}return null},n=i(t.skeleton);if(n)return n}if(t.children){var r=function(t){for(var i=0;i<t.length;i++){var n=t[i];if(n.name===e||n.uuid===e)return n;var a=r(n.children);if(a)return a}return null},a=r(t.children);if(a)return a}return null},Sn.prototype={constructor:Sn,isAnimationObjectGroup:!0,add:function(t){for(var e=this._objects,i=e.length,n=this.nCachedObjects_,r=this._indicesByUUID,a=this._paths,o=this._parsedPaths,s=this._bindings,c=s.length,h=0,l=arguments.length;h!==l;++h){var u=arguments[h],p=u.uuid,d=r[p];if(void 0===d){d=i++,r[p]=d,e.push(u);for(var f=0,m=c;f!==m;++f)s[f].push(new Tn(u,a[f],o[f]))}else if(d<n){var v=e[d],g=--n,y=e[g];r[y.uuid]=d,e[d]=y,r[p]=g,e[g]=u;for(var f=0,m=c;f!==m;++f){var x=s[f],_=x[g],b=x[d];x[d]=_,void 0===b&&(b=new Tn(u,a[f],o[f])),x[g]=b}}else e[d]!==v&&console.error(\\\"Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes...\\\")}this.nCachedObjects_=n},remove:function(t){for(var e=this._objects,i=this.nCachedObjects_,n=this._indicesByUUID,r=this._bindings,a=r.length,o=0,s=arguments.length;o!==s;++o){var c=arguments[o],h=c.uuid,l=n[h];if(void 0!==l&&l>=i){var u=i++,p=e[u];n[p.uuid]=l,e[l]=p,n[h]=u,e[u]=c;for(var d=0,f=a;d!==f;++d){var m=r[d],v=m[u],g=m[l];m[l]=v,m[u]=g}}}this.nCachedObjects_=i},uncache:function(t){for(var e=this._objects,i=e.length,n=this.nCachedObjects_,r=this._indicesByUUID,a=this._bindings,o=a.length,s=0,c=arguments.length;s!==c;++s){var h=arguments[s],l=h.uuid,u=r[l];if(void 0!==u)if(delete r[l],u<n){var p=--n,d=e[p],f=--i,m=e[f];r[d.uuid]=u,e[u]=d,r[m.uuid]=p,e[p]=m,e.pop();for(var v=0,g=o;v!==g;++v){var y=a[v],x=y[p],_=y[f];y[u]=x,y[p]=_,y.pop()}}else{var f=--i,m=e[f];r[m.uuid]=u,e[u]=m,e.pop();for(var v=0,g=o;v!==g;++v){var y=a[v];y[u]=y[f],y.pop()}}}this.nCachedObjects_=n},subscribe_:function(t,e){var i=this._bindingsIndicesByPath,n=i[t],r=this._bindings;if(void 0!==n)return r[n];var a=this._paths,o=this._parsedPaths,s=this._objects,c=s.length,h=this.nCachedObjects_,l=new Array(c);n=r.length,i[t]=n,a.push(t),o.push(e),r.push(l);for(var u=h,p=s.length;u!==p;++u){var d=s[u];l[u]=new Tn(d,t,e)}return l},unsubscribe_:function(t){var e=this._bindingsIndicesByPath,i=e[t];if(void 0!==i){var n=this._paths,r=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o],c=t[o];e[c]=i,a[i]=s,a.pop(),r[i]=r[o],r.pop(),n[i]=n[o],n.pop()}}},An.prototype={constructor:An,play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(t){return this._startTime=t,this},setLoop:function(t,e){return this.loop=t,this.repetitions=e,this},setEffectiveWeight:function(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(t){return this._scheduleFading(t,0,1)},fadeOut:function(t){return this._scheduleFading(t,1,0)},crossFadeFrom:function(t,e,i){if(t.fadeOut(e),this.fadeIn(e),i){var n=this._clip.duration,r=t._clip.duration,a=r/n,o=n/r;t.warp(1,a,e),this.warp(o,1,e)}return this},crossFadeTo:function(t,e,i){return t.crossFadeFrom(this,e,i)},stopFading:function(){var t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},setEffectiveTimeScale:function(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(t){return this.timeScale=this._clip.duration/t,this.stopWarping()},syncWith:function(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()},halt:function(t){return this.warp(this._effectiveTimeScale,0,t)},warp:function(t,e,i){var n=this._mixer,r=n.time,a=this._timeScaleInterpolant,o=this.timeScale;null===a&&(a=n._lendControlInterpolant(),this._timeScaleInterpolant=a);var s=a.parameterPositions,c=a.sampleValues;return s[0]=r,s[1]=r+i,c[0]=t/o,c[1]=e/o,this},stopWarping:function(){var t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(t,e,i,n){var r=this._startTime;if(null!==r){var a=(t-r)*i;if(a<0||0===i)return;this._startTime=null,e=i*a}e*=this._updateTimeScale(t);var o=this._updateTime(e),s=this._updateWeight(t);if(s>0)for(var c=this._interpolants,h=this._propertyBindings,l=0,u=c.length;l!==u;++l)c[l].evaluate(o),h[l].accumulate(n,s)},_updateWeight:function(t){var e=0;if(this.enabled){e=this.weight;var i=this._weightInterpolant;if(null!==i){var n=i.evaluate(t)[0];e*=n,t>i.parameterPositions[1]&&(this.stopFading(),0===n&&(this.enabled=!1))}}return this._effectiveWeight=e,e},_updateTimeScale:function(t){var e=0;if(!this.paused){e=this.timeScale;var i=this._timeScaleInterpolant;if(null!==i){var n=i.evaluate(t)[0];e*=n,t>i.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e)}}return this._effectiveTimeScale=e,e},_updateTime:function(t){var e=this.time+t;if(0===t)return e;var i=this._clip.duration,n=this.loop,r=this._loopCount;if(n===mo){r===-1&&(this.loopCount=0,this._setEndings(!0,!0,!1));t:{if(e>=i)e=i;else{if(!(e<0))break t;e=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:\\\"finished\\\",action:this,direction:t<0?-1:1})}}else{var a=n===go;if(r===-1&&(t>=0?(r=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),e>=i||e<0){var o=Math.floor(e/i);e-=i*o,r+=Math.abs(o);var s=this.repetitions-r;if(s<0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,e=t>0?i:0,this._mixer.dispatchEvent({type:\\\"finished\\\",action:this,direction:t>0?1:-1});else{if(0===s){var c=t<0;this._setEndings(c,!c,a)}else this._setEndings(!1,!1,a);this._loopCount=r,this._mixer.dispatchEvent({type:\\\"loop\\\",action:this,loopDelta:o})}}if(a&&1===(1&r))return this.time=e,i-e}return this.time=e,e},_setEndings:function(t,e,i){var n=this._interpolantSettings;i?(n.endingStart=wo,n.endingEnd=wo):(t?n.endingStart=this.zeroSlopeAtStart?wo:bo:n.endingStart=Mo,e?n.endingEnd=this.zeroSlopeAtEnd?wo:bo:n.endingEnd=Mo)},_scheduleFading:function(t,e,i){var n=this._mixer,r=n.time,a=this._weightInterpolant;null===a&&(a=n._lendControlInterpolant(),this._weightInterpolant=a);var o=a.parameterPositions,s=a.sampleValues;return o[0]=r,s[0]=e,o[1]=r+t,s[1]=i,this}},Object.assign(Ln.prototype,e.prototype,{clipAction:function(t,e){var i=e||this._root,n=i.uuid,r=\\\"string\\\"==typeof t?Qi.findByName(i,t):t,a=null!==r?r.uuid:t,o=this._actionsByClip[a],s=null;if(void 0!==o){var c=o.actionByRoot[n];if(void 0!==c)return c;s=o.knownActions[0],null===r&&(r=s._clip)}if(null===r)return null;var h=new An(this,r,e);return this._bindAction(h,s),this._addInactiveAction(h,a,n),h},existingAction:function(t,e){var i=e||this._root,n=i.uuid,r=\\\"string\\\"==typeof t?Qi.findByName(i,t):t,a=r?r.uuid:t,o=this._actionsByClip[a];return void 0!==o?o.actionByRoot[n]||null:null},stopAllAction:function(){var t=this._actions,e=this._nActiveActions,i=this._bindings,n=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var r=0;r!==e;++r)t[r].reset();for(var r=0;r!==n;++r)i[r].useCount=0;return this},update:function(t){t*=this.timeScale;for(var e=this._actions,i=this._nActiveActions,n=this.time+=t,r=Math.sign(t),a=this._accuIndex^=1,o=0;o!==i;++o){var s=e[o];s.enabled&&s._update(n,t,r,a)}for(var c=this._bindings,h=this._nActiveBindings,o=0;o!==h;++o)c[o].apply(a);return this},getRoot:function(){return this._root},uncacheClip:function(t){var e=this._actions,i=t.uuid,n=this._actionsByClip,r=n[i];if(void 0!==r){for(var a=r.knownActions,o=0,s=a.length;o!==s;++o){var c=a[o];this._deactivateAction(c);var h=c._cacheIndex,l=e[e.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,l._cacheIndex=h,e[h]=l,e.pop(),this._removeInactiveBindingsForAction(c)}delete n[i]}},uncacheRoot:function(t){var e=t.uuid,i=this._actionsByClip;for(var n in i){var r=i[n].actionByRoot,a=r[e];void 0!==a&&(this._deactivateAction(a),this._removeInactiveAction(a))}var o=this._bindingsByRootAndName,s=o[e];if(void 0!==s)for(var c in s){var h=s[c];h.restoreOriginalState(),this._removeInactiveBinding(h)}},uncacheAction:function(t,e){var i=this.existingAction(t,e);null!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}}),Object.assign(Ln.prototype,{_bindAction:function(t,e){var i=t._localRoot||this._root,n=t._clip.tracks,r=n.length,a=t._propertyBindings,o=t._interpolants,s=i.uuid,c=this._bindingsByRootAndName,h=c[s];void 0===h&&(h={},c[s]=h);for(var l=0;l!==r;++l){var u=n[l],p=u.name,d=h[p];if(void 0!==d)a[l]=d;else{if(d=a[l],void 0!==d){null===d._cacheIndex&&(++d.referenceCount,this._addInactiveBinding(d,s,p));continue}var f=e&&e._propertyBindings[l].binding.parsedPath;d=new En(Tn.create(i,p,f),u.ValueTypeName,u.getValueSize()),++d.referenceCount,this._addInactiveBinding(d,s,p),a[l]=d}o[l].resultBuffer=d.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){var e=(t._localRoot||this._root).uuid,i=t._clip.uuid,n=this._actionsByClip[i];this._bindAction(t,n&&n.knownActions[0]),this._addInactiveAction(t,i,e)}for(var r=t._propertyBindings,a=0,o=r.length;a!==o;++a){var s=r[a];0===s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){for(var e=t._propertyBindings,i=0,n=e.length;i!==n;++i){var r=e[i];0===--r.useCount&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){var e=t._cacheIndex;return null!==e&&e<this._nActiveActions},_addInactiveAction:function(t,e,i){var n=this._actions,r=this._actionsByClip,a=r[e];if(void 0===a)a={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,r[e]=a;else{var o=a.knownActions;t._byClipCacheIndex=o.length,o.push(t)}t._cacheIndex=n.length,n.push(t),a.actionByRoot[i]=t},_removeInactiveAction:function(t){var e=this._actions,i=e[e.length-1],n=t._cacheIndex;i._cacheIndex=n,e[n]=i,e.pop(),t._cacheIndex=null;var r=t._clip.uuid,a=this._actionsByClip,o=a[r],s=o.knownActions,c=s[s.length-1],h=t._byClipCacheIndex;c._byClipCacheIndex=h,s[h]=c,s.pop(),t._byClipCacheIndex=null;var l=o.actionByRoot,u=(e._localRoot||this._root).uuid;delete l[u],0===s.length&&delete a[r],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){for(var e=t._propertyBindings,i=0,n=e.length;i!==n;++i){var r=e[i];0===--r.referenceCount&&this._removeInactiveBinding(r)}},_lendAction:function(t){var e=this._actions,i=t._cacheIndex,n=this._nActiveActions++,r=e[n];t._cacheIndex=n,e[n]=t,r._cacheIndex=i,e[i]=r},_takeBackAction:function(t){var e=this._actions,i=t._cacheIndex,n=--this._nActiveActions,r=e[n];t._cacheIndex=n,e[n]=t,r._cacheIndex=i,e[i]=r},_addInactiveBinding:function(t,e,i){var n=this._bindingsByRootAndName,r=n[e],a=this._bindings;void 0===r&&(r={},n[e]=r),r[i]=t,t._cacheIndex=a.length,a.push(t)},_removeInactiveBinding:function(t){var e=this._bindings,i=t.binding,n=i.rootNode.uuid,r=i.path,a=this._bindingsByRootAndName,o=a[n],s=e[e.length-1],c=t._cacheIndex;s._cacheIndex=c,e[c]=s,e.pop(),delete o[r];t:{for(var h in o)break t;delete a[n]}},_lendBinding:function(t){var e=this._bindings,i=t._cacheIndex,n=this._nActiveBindings++,r=e[n];t._cacheIndex=n,e[n]=t,r._cacheIndex=i,e[i]=r},_takeBackBinding:function(t){var e=this._bindings,i=t._cacheIndex,n=--this._nActiveBindings,r=e[n];t._cacheIndex=n,e[n]=t,r._cacheIndex=i,e[i]=r},_lendControlInterpolant:function(){var t=this._controlInterpolants,e=this._nActiveControlInterpolants++,i=t[e];return void 0===i&&(i=new Gi(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),i.__cacheIndex=e,t[e]=i),i},_takeBackControlInterpolant:function(t){var e=this._controlInterpolants,i=t.__cacheIndex,n=--this._nActiveControlInterpolants,r=e[n];t.__cacheIndex=n,e[n]=t,r.__cacheIndex=i,e[i]=r},_controlInterpolantsResultBuffer:new Float32Array(1)}),Pn.prototype=Object.create(Rt.prototype),Pn.prototype.constructor=Pn,Pn.prototype.isInstancedBufferGeometry=!0,Pn.prototype.addGroup=function(t,e,i){this.groups.push({start:t,count:e,materialIndex:i})},Pn.prototype.copy=function(t){var e=t.index;null!==e&&this.setIndex(e.clone());var i=t.attributes;for(var n in i){var r=i[n];this.addAttribute(n,r.clone())}for(var a=t.groups,o=0,s=a.length;o<s;o++){var c=a[o];this.addGroup(c.start,c.count,c.materialIndex)}return this},Cn.prototype={constructor:Cn,isInterleavedBufferAttribute:!0,get count(){return this.data.count},get array(){return this.data.array},setX:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,e,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=i,this},setXYZ:function(t,e,i,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=n,this},setXYZW:function(t,e,i,n,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=n,this.data.array[t+3]=r,this}},In.prototype={constructor:In,isInterleavedBuffer:!0,set needsUpdate(t){t===!0&&this.version++},setArray:function(t){if(Array.isArray(t))throw new TypeError(\\\"THREE.BufferAttribute: array should be a Typed Array.\\\");this.count=void 0!==t?t.length/this.stride:0,this.array=t},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.dynamic=t.dynamic,this},copyAt:function(t,e,i){t*=this.stride,i*=e.stride;for(var n=0,r=this.stride;n<r;n++)this.array[t+n]=e.array[i+n];return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},clone:function(){return(new this.constructor).copy(this)}},Un.prototype=Object.create(In.prototype),Un.prototype.constructor=Un,Un.prototype.isInstancedInterleavedBuffer=!0,Un.prototype.copy=function(t){return In.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},Nn.prototype=Object.create(mt.prototype),Nn.prototype.constructor=Nn,Nn.prototype.isInstancedBufferAttribute=!0,Nn.prototype.copy=function(t){return mt.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},Dn.prototype={constructor:Dn,linePrecision:1,set:function(t,e){this.ray.set(t,e)},setFromCamera:function(t,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize()):e&&e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld)):console.error(\\\"THREE.Raycaster: Unsupported camera type.\\\")},intersectObject:function(t,e){var i=[];return Fn(t,this,i,e),i.sort(On),i},intersectObjects:function(t,e){var i=[];if(Array.isArray(t)===!1)return console.warn(\\\"THREE.Raycaster.intersectObjects: objects is not an Array.\\\"),i;for(var n=0,r=t.length;n<r;n++)Fn(t[n],this,i,e);return i.sort(On),i}},Bn.prototype={constructor:Bn,start:function(){this.startTime=(performance||Date).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var t=0;if(this.autoStart&&!this.running&&this.start(),this.running){var e=(performance||Date).now();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}},Gn.prototype={constructor:Gn,set:function(t,e,i){return this.radius=t,this.phi=e,this.theta=i,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this},makeSafe:function(){var t=1e-6;return this.phi=Math.max(t,Math.min(Math.PI-t,this.phi)),this},setFromVector3:function(t){return this.radius=t.length(),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t.x,t.z),this.phi=Math.acos(Fo.clamp(t.y/this.radius,-1,1))),this}},Hn.prototype=Object.create(Pt.prototype),Hn.prototype.constructor=Hn,Hn.prototype.createAnimation=function(t,e,i,n){var r={start:e,end:i,length:i-e+1,fps:n,duration:(i-e)/n,lastFrame:0,currentFrame:0,active:!1,time:0,direction:1,weight:1,directionBackwards:!1,mirroredLoop:!1};this.animationsMap[t]=r,this.animationsList.push(r)},Hn.prototype.autoCreateAnimations=function(t){for(var e,i=/([a-z]+)_?(\\\\d+)/i,n={},r=this.geometry,a=0,o=r.morphTargets.length;a<o;a++){var s=r.morphTargets[a],c=s.name.match(i);if(c&&c.length>1){var h=c[1];n[h]||(n[h]={start:1/0,end:-(1/0)});var l=n[h];a<l.start&&(l.start=a),a>l.end&&(l.end=a),e||(e=h)}}for(var h in n){var l=n[h];this.createAnimation(h,l.start,l.end,t);\\n}this.firstAnimation=e},Hn.prototype.setAnimationDirectionForward=function(t){var e=this.animationsMap[t];e&&(e.direction=1,e.directionBackwards=!1)},Hn.prototype.setAnimationDirectionBackward=function(t){var e=this.animationsMap[t];e&&(e.direction=-1,e.directionBackwards=!0)},Hn.prototype.setAnimationFPS=function(t,e){var i=this.animationsMap[t];i&&(i.fps=e,i.duration=(i.end-i.start)/i.fps)},Hn.prototype.setAnimationDuration=function(t,e){var i=this.animationsMap[t];i&&(i.duration=e,i.fps=(i.end-i.start)/i.duration)},Hn.prototype.setAnimationWeight=function(t,e){var i=this.animationsMap[t];i&&(i.weight=e)},Hn.prototype.setAnimationTime=function(t,e){var i=this.animationsMap[t];i&&(i.time=e)},Hn.prototype.getAnimationTime=function(t){var e=0,i=this.animationsMap[t];return i&&(e=i.time),e},Hn.prototype.getAnimationDuration=function(t){var e=-1,i=this.animationsMap[t];return i&&(e=i.duration),e},Hn.prototype.playAnimation=function(t){var e=this.animationsMap[t];e?(e.time=0,e.active=!0):console.warn(\\\"THREE.MorphBlendMesh: animation[\\\"+t+\\\"] undefined in .playAnimation()\\\")},Hn.prototype.stopAnimation=function(t){var e=this.animationsMap[t];e&&(e.active=!1)},Hn.prototype.update=function(t){for(var e=0,i=this.animationsList.length;e<i;e++){var n=this.animationsList[e];if(n.active){var r=n.duration/n.length;n.time+=n.direction*t,n.mirroredLoop?(n.time>n.duration||n.time<0)&&(n.direction*=-1,n.time>n.duration&&(n.time=n.duration,n.directionBackwards=!0),n.time<0&&(n.time=0,n.directionBackwards=!1)):(n.time=n.time%n.duration,n.time<0&&(n.time+=n.duration));var a=n.start+Fo.clamp(Math.floor(n.time/r),0,n.length-1),o=n.weight;a!==n.currentFrame&&(this.morphTargetInfluences[n.lastFrame]=0,this.morphTargetInfluences[n.currentFrame]=1*o,this.morphTargetInfluences[a]=0,n.lastFrame=n.currentFrame,n.currentFrame=a);var s=n.time%r/r;n.directionBackwards&&(s=1-s),n.currentFrame!==n.lastFrame?(this.morphTargetInfluences[n.currentFrame]=s*o,this.morphTargetInfluences[n.lastFrame]=(1-s)*o):this.morphTargetInfluences[n.currentFrame]=o}}},Vn.prototype=Object.create(ht.prototype),Vn.prototype.constructor=Vn,Vn.prototype.isImmediateRenderObject=!0,kn.prototype=Object.create(we.prototype),kn.prototype.constructor=kn,kn.prototype.update=function(){var t=new h,e=new h,i=new it;return function(){var n=[\\\"a\\\",\\\"b\\\",\\\"c\\\"];this.object.updateMatrixWorld(!0),i.getNormalMatrix(this.object.matrixWorld);var r=this.object.matrixWorld,a=this.geometry.attributes.position,o=this.object.geometry;if(o&&o.isGeometry)for(var s=o.vertices,c=o.faces,h=0,l=0,u=c.length;l<u;l++)for(var p=c[l],d=0,f=p.vertexNormals.length;d<f;d++){var m=s[p[n[d]]],v=p.vertexNormals[d];t.copy(m).applyMatrix4(r),e.copy(v).applyMatrix3(i).normalize().multiplyScalar(this.size).add(t),a.setXYZ(h,t.x,t.y,t.z),h+=1,a.setXYZ(h,e.x,e.y,e.z),h+=1}else if(o&&o.isBufferGeometry)for(var g=o.attributes.position,y=o.attributes.normal,h=0,d=0,f=g.count;d<f;d++)t.set(g.getX(d),g.getY(d),g.getZ(d)).applyMatrix4(r),e.set(y.getX(d),y.getY(d),y.getZ(d)),e.applyMatrix3(i).normalize().multiplyScalar(this.size).add(t),a.setXYZ(h,t.x,t.y,t.z),h+=1,a.setXYZ(h,e.x,e.y,e.z),h+=1;return a.needsUpdate=!0,this}}(),jn.prototype=Object.create(ht.prototype),jn.prototype.constructor=jn,jn.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},jn.prototype.update=function(){var t=new h,e=new h;return function(){var i=this.light.distance?this.light.distance:1e3,n=i*Math.tan(this.light.angle);this.cone.scale.set(n,n,i),t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(e.sub(t)),this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)}}(),Wn.prototype=Object.create(we.prototype),Wn.prototype.constructor=Wn,Wn.prototype.getBoneList=function(t){var e=[];t&&t.isBone&&e.push(t);for(var i=0;i<t.children.length;i++)e.push.apply(e,this.getBoneList(t.children[i]));return e},Wn.prototype.update=function(){for(var t=this.geometry,e=(new l).getInverse(this.root.matrixWorld),i=new l,n=0,r=0;r<this.bones.length;r++){var a=this.bones[r];a.parent&&a.parent.isBone&&(i.multiplyMatrices(e,a.matrixWorld),t.vertices[n].setFromMatrixPosition(i),i.multiplyMatrices(e,a.parent.matrixWorld),t.vertices[n+1].setFromMatrixPosition(i),n+=2)}t.verticesNeedUpdate=!0,t.computeBoundingSphere()},Xn.prototype=Object.create(Pt.prototype),Xn.prototype.constructor=Xn,Xn.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},Xn.prototype.update=function(){this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)},Yn.prototype=Object.create(ht.prototype),Yn.prototype.constructor=Yn,Yn.prototype.dispose=function(){this.lightSphere.geometry.dispose(),this.lightSphere.material.dispose()},Yn.prototype.update=function(){var t=new h;return function(){this.colors[0].copy(this.light.color).multiplyScalar(this.light.intensity),this.colors[1].copy(this.light.groundColor).multiplyScalar(this.light.intensity),this.lightSphere.lookAt(t.setFromMatrixPosition(this.light.matrixWorld).negate()),this.lightSphere.geometry.colorsNeedUpdate=!0}}(),qn.prototype=Object.create(we.prototype),qn.prototype.constructor=qn,qn.prototype.setColors=function(){console.error(\\\"THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.\\\")},Zn.prototype=Object.create(we.prototype),Zn.prototype.constructor=Zn,Zn.prototype.update=function(){var t=new h,e=new h,i=new it;return function(){this.object.updateMatrixWorld(!0),i.getNormalMatrix(this.object.matrixWorld);for(var n=this.object.matrixWorld,r=this.geometry.attributes.position,a=this.object.geometry,o=a.vertices,s=a.faces,c=0,h=0,l=s.length;h<l;h++){var u=s[h],p=u.normal;t.copy(o[u.a]).add(o[u.b]).add(o[u.c]).divideScalar(3).applyMatrix4(n),e.copy(p).applyMatrix3(i).normalize().multiplyScalar(this.size).add(t),r.setXYZ(c,t.x,t.y,t.z),c+=1,r.setXYZ(c,e.x,e.y,e.z),c+=1}return r.needsUpdate=!0,this}}(),Jn.prototype=Object.create(ht.prototype),Jn.prototype.constructor=Jn,Jn.prototype.dispose=function(){var t=this.children[0],e=this.children[1];t.geometry.dispose(),t.material.dispose(),e.geometry.dispose(),e.material.dispose()},Jn.prototype.update=function(){var t=new h,e=new h,i=new h;return function(){t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),i.subVectors(e,t);var n=this.children[0],r=this.children[1];n.lookAt(i),n.material.color.copy(this.light.color).multiplyScalar(this.light.intensity),r.lookAt(i),r.scale.z=i.length()}}(),Qn.prototype=Object.create(we.prototype),Qn.prototype.constructor=Qn,Qn.prototype.update=function(){function t(t,a,o,s){n.set(a,o,s).unproject(r);var c=i[t];if(void 0!==c)for(var h=0,l=c.length;h<l;h++)e.vertices[c[h]].copy(n)}var e,i,n=new h,r=new Ut;return function(){e=this.geometry,i=this.pointMap;var n=1,a=1;r.projectionMatrix.copy(this.camera.projectionMatrix),t(\\\"c\\\",0,0,-1),t(\\\"t\\\",0,0,1),t(\\\"n1\\\",-n,-a,-1),t(\\\"n2\\\",n,-a,-1),t(\\\"n3\\\",-n,a,-1),t(\\\"n4\\\",n,a,-1),t(\\\"f1\\\",-n,-a,1),t(\\\"f2\\\",n,-a,1),t(\\\"f3\\\",-n,a,1),t(\\\"f4\\\",n,a,1),t(\\\"u1\\\",.7*n,1.1*a,-1),t(\\\"u2\\\",.7*-n,1.1*a,-1),t(\\\"u3\\\",0,2*a,-1),t(\\\"cf1\\\",-n,0,1),t(\\\"cf2\\\",n,0,1),t(\\\"cf3\\\",0,-a,1),t(\\\"cf4\\\",0,a,1),t(\\\"cn1\\\",-n,0,-1),t(\\\"cn2\\\",n,0,-1),t(\\\"cn3\\\",0,-a,-1),t(\\\"cn4\\\",0,a,-1),e.verticesNeedUpdate=!0}}(),Kn.prototype=Object.create(Pt.prototype),Kn.prototype.constructor=Kn,Kn.prototype.update=function(){this.box.setFromObject(this.object),this.box.getSize(this.scale),this.box.getCenter(this.position)},$n.prototype=Object.create(we.prototype),$n.prototype.constructor=$n,$n.prototype.update=function(){var t=new tt;return function(e){if(e&&e.isBox3?t.copy(e):t.setFromObject(e),!t.isEmpty()){var i=t.min,n=t.max,r=this.geometry.attributes.position,a=r.array;a[0]=n.x,a[1]=n.y,a[2]=n.z,a[3]=i.x,a[4]=n.y,a[5]=n.z,a[6]=i.x,a[7]=i.y,a[8]=n.z,a[9]=n.x,a[10]=i.y,a[11]=n.z,a[12]=n.x,a[13]=n.y,a[14]=i.z,a[15]=i.x,a[16]=n.y,a[17]=i.z,a[18]=i.x,a[19]=i.y,a[20]=i.z,a[21]=n.x,a[22]=i.y,a[23]=i.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}();var sh=new Rt;sh.addAttribute(\\\"position\\\",new Mt([0,0,0,0,1,0],3));var ch=new oi(0,.5,1,5,1);ch.translate(0,-.5,0),tr.prototype=Object.create(ht.prototype),tr.prototype.constructor=tr,tr.prototype.setDirection=function(){var t,e=new h;return function(i){i.y>.99999?this.quaternion.set(0,0,0,1):i.y<-.99999?this.quaternion.set(1,0,0,0):(e.set(i.z,0,-i.x).normalize(),t=Math.acos(i.y),this.quaternion.setFromAxisAngle(e,t))}}(),tr.prototype.setLength=function(t,e,i){void 0===e&&(e=.2*t),void 0===i&&(i=.2*e),this.line.scale.set(1,Math.max(0,t-e),1),this.line.updateMatrix(),this.cone.scale.set(i,e,i),this.cone.position.y=t,this.cone.updateMatrix()},tr.prototype.setColor=function(t){this.line.material.color.copy(t),this.cone.material.color.copy(t)},er.prototype=Object.create(we.prototype),er.prototype.constructor=er;var hh=function(){function t(){}var e=new h,i=new t,n=new t,r=new t;return t.prototype.init=function(t,e,i,n){this.c0=t,this.c1=i,this.c2=-3*t+3*e-2*i-n,this.c3=2*t-2*e+i+n},t.prototype.initNonuniformCatmullRom=function(t,e,i,n,r,a,o){var s=(e-t)/r-(i-t)/(r+a)+(i-e)/a,c=(i-e)/a-(n-e)/(a+o)+(n-i)/o;s*=a,c*=a,this.init(e,i,s,c)},t.prototype.initCatmullRom=function(t,e,i,n,r){this.init(e,i,r*(i-t),r*(n-e))},t.prototype.calc=function(t){var e=t*t,i=e*t;return this.c0+this.c1*t+this.c2*e+this.c3*i},rn.create(function(t){this.points=t||[],this.closed=!1},function(t){var a,o,s,c,l=this.points;c=l.length,c<2&&console.log(\\\"duh, you need at least 2 points\\\"),a=(c-(this.closed?0:1))*t,o=Math.floor(a),s=a-o,this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/l.length)+1)*l.length:0===s&&o===c-1&&(o=c-2,s=1);var u,p,d,f;if(this.closed||o>0?u=l[(o-1)%c]:(e.subVectors(l[0],l[1]).add(l[0]),u=e),p=l[o%c],d=l[(o+1)%c],this.closed||o+2<c?f=l[(o+2)%c]:(e.subVectors(l[c-1],l[c-2]).add(l[c-1]),f=e),void 0===this.type||\\\"centripetal\\\"===this.type||\\\"chordal\\\"===this.type){var m=\\\"chordal\\\"===this.type?.5:.25,v=Math.pow(u.distanceToSquared(p),m),g=Math.pow(p.distanceToSquared(d),m),y=Math.pow(d.distanceToSquared(f),m);g<1e-4&&(g=1),v<1e-4&&(v=g),y<1e-4&&(y=g),i.initNonuniformCatmullRom(u.x,p.x,d.x,f.x,v,g,y),n.initNonuniformCatmullRom(u.y,p.y,d.y,f.y,v,g,y),r.initNonuniformCatmullRom(u.z,p.z,d.z,f.z,v,g,y)}else if(\\\"catmullrom\\\"===this.type){var x=void 0!==this.tension?this.tension:.5;i.initCatmullRom(u.x,p.x,d.x,f.x,x),n.initCatmullRom(u.y,p.y,d.y,f.y,x),r.initCatmullRom(u.z,p.z,d.z,f.z,x)}var _=new h(i.calc(s),n.calc(s),r.calc(s));return _})}();ir.prototype=Object.create(hh.prototype);var lh=rn.create(function(t){console.warn(\\\"THREE.SplineCurve3 will be deprecated. Please use THREE.CatmullRomCurve3\\\"),this.points=void 0===t?[]:t},function(t){var e=this.points,i=(e.length-1)*t,n=Math.floor(i),r=i-n,a=e[0==n?n:n-1],o=e[n],s=e[n>e.length-2?e.length-1:n+1],c=e[n>e.length-3?e.length-1:n+2],l=rh.interpolate;return new h(l(a.x,o.x,s.x,c.x,r),l(a.y,o.y,s.y,c.y,r),l(a.z,o.z,s.z,c.z,r))}),uh=rn.create(function(t,e,i,n){this.v0=t,this.v1=e,this.v2=i,this.v3=n},function(t){var e=Jc.b3;return new h(e(t,this.v0.x,this.v1.x,this.v2.x,this.v3.x),e(t,this.v0.y,this.v1.y,this.v2.y,this.v3.y),e(t,this.v0.z,this.v1.z,this.v2.z,this.v3.z))}),ph=rn.create(function(t,e,i){this.v0=t,this.v1=e,this.v2=i},function(t){var e=Jc.b2;return new h(e(t,this.v0.x,this.v1.x,this.v2.x),e(t,this.v0.y,this.v1.y,this.v2.y),e(t,this.v0.z,this.v1.z,this.v2.z))}),dh=rn.create(function(t,e){this.v1=t,this.v2=e},function(t){if(1===t)return this.v2.clone();var e=new h;return e.subVectors(this.v2,this.v1),e.multiplyScalar(t),e.add(this.v1),e});nr.prototype=Object.create(sn.prototype),nr.prototype.constructor=nr;var fh={createMultiMaterialObject:function(t,e){for(var i=new Te,n=0,r=e.length;n<r;n++)i.add(new Pt(t,e[n]));return i},detach:function(t,e,i){t.applyMatrix(e.matrixWorld),e.remove(t),i.add(t)},attach:function(t,e,i){var n=new l;n.getInverse(i.matrixWorld),t.applyMatrix(n),e.remove(t),i.add(t)}},mh=0,vh=1;Object.assign(Y.prototype,{center:function(t){return console.warn(\\\"THREE.Box2: .center() has been renamed to .getCenter().\\\"),this.getCenter(t)},empty:function(){return console.warn(\\\"THREE.Box2: .empty() has been renamed to .isEmpty().\\\"),this.isEmpty()},isIntersectionBox:function(t){return console.warn(\\\"THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().\\\"),this.intersectsBox(t)},size:function(t){return console.warn(\\\"THREE.Box2: .size() has been renamed to .getSize().\\\"),this.getSize(t)}}),Object.assign(tt.prototype,{center:function(t){return console.warn(\\\"THREE.Box3: .center() has been renamed to .getCenter().\\\"),this.getCenter(t)},empty:function(){return console.warn(\\\"THREE.Box3: .empty() has been renamed to .isEmpty().\\\"),this.isEmpty()},isIntersectionBox:function(t){return console.warn(\\\"THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().\\\"),this.intersectsBox(t)},isIntersectionSphere:function(t){return console.warn(\\\"THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().\\\"),this.intersectsSphere(t)},size:function(t){return console.warn(\\\"THREE.Box3: .size() has been renamed to .getSize().\\\"),this.getSize(t)}}),Object.assign(ut.prototype,{center:function(t){return console.warn(\\\"THREE.Line3: .center() has been renamed to .getCenter().\\\"),this.getCenter(t)}}),Object.assign(it.prototype,{multiplyVector3:function(t){return console.warn(\\\"THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.\\\"),t.applyMatrix3(this)},multiplyVector3Array:function(t){return console.warn(\\\"THREE.Matrix3: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead.\\\"),this.applyToVector3Array(t)}}),Object.assign(l.prototype,{extractPosition:function(t){return console.warn(\\\"THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().\\\"),this.copyPosition(t)},setRotationFromQuaternion:function(t){return console.warn(\\\"THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().\\\"),this.makeRotationFromQuaternion(t)},multiplyVector3:function(t){return console.warn(\\\"THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) or vector.applyProjection( matrix ) instead.\\\"),t.applyProjection(this)},multiplyVector4:function(t){return console.warn(\\\"THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.\\\"),t.applyMatrix4(this)},multiplyVector3Array:function(t){return console.warn(\\\"THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead.\\\"),this.applyToVector3Array(t)},rotateAxis:function(t){console.warn(\\\"THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.\\\"),t.transformDirection(this)},crossVector:function(t){return console.warn(\\\"THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.\\\"),t.applyMatrix4(this)},translate:function(t){console.error(\\\"THREE.Matrix4: .translate() has been removed.\\\")},rotateX:function(t){console.error(\\\"THREE.Matrix4: .rotateX() has been removed.\\\")},rotateY:function(t){console.error(\\\"THREE.Matrix4: .rotateY() has been removed.\\\")},rotateZ:function(t){console.error(\\\"THREE.Matrix4: .rotateZ() has been removed.\\\")},rotateByAxis:function(t,e){console.error(\\\"THREE.Matrix4: .rotateByAxis() has been removed.\\\")}}),Object.assign(nt.prototype,{isIntersectionLine:function(t){return console.warn(\\\"THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().\\\"),this.intersectsLine(t)}}),Object.assign(c.prototype,{multiplyVector3:function(t){return console.warn(\\\"THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.\\\"),t.applyQuaternion(this)}}),Object.assign(ot.prototype,{isIntersectionBox:function(t){return console.warn(\\\"THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().\\\"),this.intersectsBox(t)},isIntersectionPlane:function(t){return console.warn(\\\"THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().\\\"),this.intersectsPlane(t)},isIntersectionSphere:function(t){return console.warn(\\\"THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().\\\"),this.intersectsSphere(t)}}),Object.assign(un.prototype,{extrude:function(t){return console.warn(\\\"THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead.\\\"),new Ze(this,t)},makeGeometry:function(t){return console.warn(\\\"THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead.\\\"),new ri(this,t)}}),Object.assign(h.prototype,{setEulerFromRotationMatrix:function(){console.error(\\\"THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.\\\")},setEulerFromQuaternion:function(){console.error(\\\"THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.\\\")},getPositionFromMatrix:function(t){return console.warn(\\\"THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().\\\"),this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return console.warn(\\\"THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().\\\"),this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return console.warn(\\\"THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().\\\"),this.setFromMatrixColumn(e,t)}}),Object.assign(ht.prototype,{getChildByName:function(t){return console.warn(\\\"THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().\\\"),this.getObjectByName(t)},renderDepth:function(t){console.warn(\\\"THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.\\\")},translate:function(t,e){return console.warn(\\\"THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.\\\"),this.translateOnAxis(e,t)}}),Object.defineProperties(ht.prototype,{eulerOrder:{get:function(){return console.warn(\\\"THREE.Object3D: .eulerOrder is now .rotation.order.\\\"),this.rotation.order},set:function(t){console.warn(\\\"THREE.Object3D: .eulerOrder is now .rotation.order.\\\"),this.rotation.order=t}},useQuaternion:{get:function(){console.warn(\\\"THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.\\\")},set:function(t){console.warn(\\\"THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.\\\")}}}),Object.defineProperties(me.prototype,{objects:{get:function(){return console.warn(\\\"THREE.LOD: .objects has been renamed to .levels.\\\"),this.levels}}}),Nt.prototype.setLens=function(t,e){console.warn(\\\"THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup.\\\"),void 0!==e&&(this.filmGauge=e),this.setFocalLength(t)},Object.defineProperties(Ri.prototype,{onlyShadow:{set:function(t){console.warn(\\\"THREE.Light: .onlyShadow has been removed.\\\")}},shadowCameraFov:{set:function(t){console.warn(\\\"THREE.Light: .shadowCameraFov is now .shadow.camera.fov.\\\"),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn(\\\"THREE.Light: .shadowCameraLeft is now .shadow.camera.left.\\\"),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn(\\\"THREE.Light: .shadowCameraRight is now .shadow.camera.right.\\\"),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn(\\\"THREE.Light: .shadowCameraTop is now .shadow.camera.top.\\\"),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn(\\\"THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.\\\"),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn(\\\"THREE.Light: .shadowCameraNear is now .shadow.camera.near.\\\"),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn(\\\"THREE.Light: .shadowCameraFar is now .shadow.camera.far.\\\"),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(t){console.warn(\\\"THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.\\\")}},shadowBias:{set:function(t){console.warn(\\\"THREE.Light: .shadowBias is now .shadow.bias.\\\"),this.shadow.bias=t}},shadowDarkness:{set:function(t){console.warn(\\\"THREE.Light: .shadowDarkness has been removed.\\\")}},shadowMapWidth:{set:function(t){console.warn(\\\"THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.\\\"),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn(\\\"THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.\\\"),this.shadow.mapSize.height=t}}}),Object.defineProperties(mt.prototype,{length:{get:function(){return console.warn(\\\"THREE.BufferAttribute: .length has been deprecated. Please use .count.\\\"),this.array.length}}}),Object.assign(Rt.prototype,{addIndex:function(t){console.warn(\\\"THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().\\\"),this.setIndex(t)},addDrawCall:function(t,e,i){void 0!==i&&console.warn(\\\"THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.\\\"),console.warn(\\\"THREE.BufferGeometry: .addDrawCall() is now .addGroup().\\\"),this.addGroup(t,e)},clearDrawCalls:function(){console.warn(\\\"THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().\\\"),this.clearGroups()},computeTangents:function(){console.warn(\\\"THREE.BufferGeometry: .computeTangents() has been removed.\\\")},computeOffsets:function(){console.warn(\\\"THREE.BufferGeometry: .computeOffsets() has been removed.\\\")}}),Object.defineProperties(Rt.prototype,{drawcalls:{get:function(){return console.error(\\\"THREE.BufferGeometry: .drawcalls has been renamed to .groups.\\\"),this.groups}},offsets:{get:function(){return console.warn(\\\"THREE.BufferGeometry: .offsets has been renamed to .groups.\\\"),this.groups}}}),Object.defineProperties(J.prototype,{wrapAround:{get:function(){console.warn(\\\"THREE.\\\"+this.type+\\\": .wrapAround has been removed.\\\")},set:function(t){console.warn(\\\"THREE.\\\"+this.type+\\\": .wrapAround has been removed.\\\")}},wrapRGB:{get:function(){return console.warn(\\\"THREE.\\\"+this.type+\\\": .wrapRGB has been removed.\\\"),new X}}}),Object.defineProperties(yi.prototype,{metal:{get:function(){return console.warn(\\\"THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead.\\\"),!1},set:function(t){console.warn(\\\"THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead\\\")}}}),Object.defineProperties(K.prototype,{derivatives:{get:function(){return console.warn(\\\"THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.\\\"),this.extensions.derivatives},set:function(t){console.warn(\\\"THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.\\\"),this.extensions.derivatives=t}}}),e.prototype=Object.assign(Object.create({constructor:e,apply:function(t){console.warn(\\\"THREE.EventDispatcher: .apply is deprecated, just inherit or Object.assign the prototype to mix-in.\\\"),Object.assign(t,this)}}),e.prototype),Object.defineProperties(Rn.prototype,{dynamic:{set:function(t){console.warn(\\\"THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.\\\")}},onUpdate:{value:function(){return console.warn(\\\"THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead.\\\"),this}}}),Object.assign(ce.prototype,{supportsFloatTextures:function(){return console.warn(\\\"THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' ).\\\"),this.extensions.get(\\\"OES_texture_float\\\")},supportsHalfFloatTextures:function(){return console.warn(\\\"THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' ).\\\"),this.extensions.get(\\\"OES_texture_half_float\\\")},supportsStandardDerivatives:function(){return console.warn(\\\"THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' ).\\\"),this.extensions.get(\\\"OES_standard_derivatives\\\")},supportsCompressedTextureS3TC:function(){return console.warn(\\\"THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' ).\\\"),this.extensions.get(\\\"WEBGL_compressed_texture_s3tc\\\")},supportsCompressedTexturePVRTC:function(){return console.warn(\\\"THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' ).\\\"),this.extensions.get(\\\"WEBGL_compressed_texture_pvrtc\\\")},supportsBlendMinMax:function(){return console.warn(\\\"THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' ).\\\"),this.extensions.get(\\\"EXT_blend_minmax\\\")},supportsVertexTextures:function(){return this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn(\\\"THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' ).\\\"),this.extensions.get(\\\"ANGLE_instanced_arrays\\\")},enableScissorTest:function(t){console.warn(\\\"THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().\\\"),this.setScissorTest(t)},initMaterial:function(){console.warn(\\\"THREE.WebGLRenderer: .initMaterial() has been removed.\\\")},addPrePlugin:function(){console.warn(\\\"THREE.WebGLRenderer: .addPrePlugin() has been removed.\\\")},addPostPlugin:function(){console.warn(\\\"THREE.WebGLRenderer: .addPostPlugin() has been removed.\\\")},updateShadowMap:function(){console.warn(\\\"THREE.WebGLRenderer: .updateShadowMap() has been removed.\\\")}}),Object.defineProperties(ce.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn(\\\"THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.\\\"),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn(\\\"THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.\\\"),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){return this.shadowMap.cullFace},set:function(t){console.warn(\\\"THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace.\\\"),this.shadowMap.cullFace=t}}}),Object.defineProperties(at.prototype,{cullFace:{get:function(){return this.renderReverseSided?xr:yr},set:function(t){var e=t!==yr;console.warn(\\\"WebGLRenderer: .shadowMap.cullFace is deprecated. Set .shadowMap.renderReverseSided to \\\"+e+\\\".\\\"),this.renderReverseSided=e}}}),Object.defineProperties(o.prototype,{wrapS:{get:function(){return console.warn(\\\"THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.\\\"),this.texture.wrapS},set:function(t){console.warn(\\\"THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.\\\"),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn(\\\"THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.\\\"),this.texture.wrapT},set:function(t){console.warn(\\\"THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.\\\"),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn(\\\"THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.\\\"),this.texture.magFilter},set:function(t){console.warn(\\\"THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.\\\"),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn(\\\"THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.\\\"),this.texture.minFilter},set:function(t){console.warn(\\\"THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.\\\"),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn(\\\"THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.\\\"),this.texture.anisotropy},set:function(t){console.warn(\\\"THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.\\\"),this.texture.anisotropy=t}},offset:{get:function(){return console.warn(\\\"THREE.WebGLRenderTarget: .offset is now .texture.offset.\\\"),this.texture.offset},set:function(t){console.warn(\\\"THREE.WebGLRenderTarget: .offset is now .texture.offset.\\\"),this.texture.offset=t}},repeat:{get:function(){return console.warn(\\\"THREE.WebGLRenderTarget: .repeat is now .texture.repeat.\\\"),this.texture.repeat},set:function(t){console.warn(\\\"THREE.WebGLRenderTarget: .repeat is now .texture.repeat.\\\"),this.texture.repeat=t}},format:{get:function(){return console.warn(\\\"THREE.WebGLRenderTarget: .format is now .texture.format.\\\"),this.texture.format},set:function(t){console.warn(\\\"THREE.WebGLRenderTarget: .format is now .texture.format.\\\"),this.texture.format=t}},type:{get:function(){return console.warn(\\\"THREE.WebGLRenderTarget: .type is now .texture.type.\\\"),this.texture.type},set:function(t){console.warn(\\\"THREE.WebGLRenderTarget: .type is now .texture.type.\\\"),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn(\\\"THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.\\\"),this.texture.generateMipmaps},set:function(t){console.warn(\\\"THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.\\\"),this.texture.generateMipmaps=t}}}),Object.assign(bn.prototype,{load:function(t){console.warn(\\\"THREE.Audio: .load has been deprecated. Please use THREE.AudioLoader.\\\");var e=this,i=new gn;return i.load(t,function(t){e.setBuffer(t)}),this}}),Object.assign(Mn.prototype,{getData:function(t){return console.warn(\\\"THREE.AudioAnalyser: .getData() is now .getFrequencyData().\\\"),this.getFrequencyData()}});var gh={merge:function(t,e,i){console.warn(\\\"THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.\\\");var n;e.isMesh&&(e.matrixAutoUpdate&&e.updateMatrix(),n=e.matrix,e=e.geometry),t.merge(e,n,i)},center:function(t){return console.warn(\\\"THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead.\\\"),t.center()}},yh={crossOrigin:void 0,loadTexture:function(t,e,i,n){console.warn(\\\"THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.\\\");var r=new Li;r.setCrossOrigin(this.crossOrigin);var a=r.load(t,i,void 0,n);return e&&(a.mapping=e),a},loadTextureCube:function(t,e,i,n){console.warn(\\\"THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.\\\");var r=new Ai;r.setCrossOrigin(this.crossOrigin);var a=r.load(t,i,void 0,n);return e&&(a.mapping=e),a},loadCompressedTexture:function(){console.error(\\\"THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.\\\")},loadCompressedTextureCube:function(){console.error(\\\"THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.\\\")}};t.WebGLRenderTargetCube=s,t.WebGLRenderTarget=o,t.WebGLRenderer=ce,t.ShaderLib=Wc,t.UniformsLib=jc,t.UniformsUtils=jo,t.ShaderChunk=Vc,t.FogExp2=he,t.Fog=le,t.Scene=ue,t.LensFlare=pe,t.Sprite=fe,t.LOD=me,t.SkinnedMesh=xe,t.Skeleton=ge,t.Bone=ye,t.Mesh=Pt,t.LineSegments=we,t.Line=be,t.Points=Ee,t.Group=Te,t.VideoTexture=Se,t.DataTexture=ve,t.CompressedTexture=Ae,t.CubeTexture=u,t.CanvasTexture=Le,t.DepthTexture=Re,t.TextureIdCount=r,t.Texture=n,t.MaterialIdCount=Q,t.CompressedTextureLoader=Ei,t.BinaryTextureLoader=Ti,t.DataTextureLoader=eh,t.CubeTextureLoader=Ai,t.TextureLoader=Li,t.ObjectLoader=nn,t.MaterialLoader=Ki,t.BufferGeometryLoader=$i,t.DefaultLoadingManager=th,t.LoadingManager=wi,t.JSONLoader=en,t.ImageLoader=Si,t.FontLoader=mn,t.XHRLoader=Mi,t.Loader=tn,t.Cache=$c,t.AudioLoader=gn,t.SpotLightShadow=Ii,t.SpotLight=Ui,t.PointLight=Ni,t.HemisphereLight=Pi,t.DirectionalLightShadow=Di,t.DirectionalLight=Oi,t.AmbientLight=Fi,t.LightShadow=Ci,t.Light=Ri,t.StereoCamera=yn,t.PerspectiveCamera=Nt,t.OrthographicCamera=Dt,t.CubeCamera=xn,t.Camera=Ut,t.AudioListener=_n,t.PositionalAudio=wn,t.getAudioContext=vn,t.AudioAnalyser=Mn,t.Audio=bn,t.VectorKeyframeTrack=ki,t.StringKeyframeTrack=Yi,t.QuaternionKeyframeTrack=Wi,t.NumberKeyframeTrack=Xi,t.ColorKeyframeTrack=Zi,t.BooleanKeyframeTrack=qi,t.PropertyMixer=En,t.PropertyBinding=Tn,t.KeyframeTrack=Ji,t.AnimationUtils=ih,t.AnimationObjectGroup=Sn,t.AnimationMixer=Ln,t.AnimationClip=Qi,t.Uniform=Rn,t.InstancedBufferGeometry=Pn,t.BufferGeometry=Rt,t.GeometryIdCount=At,t.Geometry=St,t.InterleavedBufferAttribute=Cn,t.InstancedInterleavedBuffer=Un,t.InterleavedBuffer=In,t.InstancedBufferAttribute=Nn,t.DynamicBufferAttribute=Tt,t.Float64Attribute=Et,t.Float32Attribute=Mt,t.Uint32Attribute=wt,t.Int32Attribute=bt,t.Uint16Attribute=_t,\\nt.Int16Attribute=xt,t.Uint8ClampedAttribute=yt,t.Uint8Attribute=gt,t.Int8Attribute=vt,t.BufferAttribute=mt,t.Face3=dt,t.Object3DIdCount=lt,t.Object3D=ht,t.Raycaster=Dn,t.Layers=ct,t.EventDispatcher=e,t.Clock=Bn,t.QuaternionLinearInterpolant=ji,t.LinearInterpolant=Gi,t.DiscreteInterpolant=Hi,t.CubicInterpolant=zi,t.Interpolant=Bi,t.Triangle=pt,t.Spline=zn,t.Math=Fo,t.Spherical=Gn,t.Plane=nt,t.Frustum=rt,t.Sphere=et,t.Ray=ot,t.Matrix4=l,t.Matrix3=it,t.Box3=tt,t.Box2=Y,t.Line3=ut,t.Euler=st,t.Vector4=a,t.Vector3=h,t.Vector2=i,t.Quaternion=c,t.ColorKeywords=kc,t.Color=X,t.MorphBlendMesh=Hn,t.ImmediateRenderObject=Vn,t.VertexNormalsHelper=kn,t.SpotLightHelper=jn,t.SkeletonHelper=Wn,t.PointLightHelper=Xn,t.HemisphereLightHelper=Yn,t.GridHelper=qn,t.FaceNormalsHelper=Zn,t.DirectionalLightHelper=Jn,t.CameraHelper=Qn,t.BoundingBoxHelper=Kn,t.BoxHelper=$n,t.ArrowHelper=tr,t.AxisHelper=er,t.ClosedSplineCurve3=ir,t.CatmullRomCurve3=hh,t.SplineCurve3=lh,t.CubicBezierCurve3=uh,t.QuadraticBezierCurve3=ph,t.LineCurve3=dh,t.ArcCurve=nr,t.EllipseCurve=sn,t.SplineCurve=cn,t.CubicBezierCurve=hn,t.QuadraticBezierCurve=ln,t.LineCurve=an,t.Shape=un,t.ShapePath=dn,t.Path=pn,t.Font=fn,t.CurvePath=on,t.Curve=rn,t.ShapeUtils=Jc,t.SceneUtils=fh,t.CurveUtils=rh,t.WireframeGeometry=Pe,t.ParametricGeometry=Ie,t.ParametricBufferGeometry=Ce,t.TetrahedronGeometry=De,t.TetrahedronBufferGeometry=Ne,t.OctahedronGeometry=Fe,t.OctahedronBufferGeometry=Oe,t.IcosahedronGeometry=ze,t.IcosahedronBufferGeometry=Be,t.DodecahedronGeometry=He,t.DodecahedronBufferGeometry=Ge,t.PolyhedronGeometry=Ve,t.PolyhedronBufferGeometry=Ue,t.TubeGeometry=je,t.TubeBufferGeometry=ke,t.TorusKnotGeometry=Xe,t.TorusKnotBufferGeometry=We,t.TorusGeometry=qe,t.TorusBufferGeometry=Ye,t.TextGeometry=Je,t.SphereBufferGeometry=Qe,t.SphereGeometry=Ke,t.RingGeometry=ti,t.RingBufferGeometry=$e,t.PlaneBufferGeometry=It,t.PlaneGeometry=ei,t.LatheGeometry=ni,t.LatheBufferGeometry=ii,t.ShapeGeometry=ri,t.ExtrudeGeometry=Ze,t.EdgesGeometry=ai,t.ConeGeometry=ci,t.ConeBufferGeometry=hi;t.CylinderGeometry=si;t.CylinderBufferGeometry=oi,t.CircleBufferGeometry=li,t.CircleGeometry=ui,t.BoxBufferGeometry=Ct,t.BoxGeometry=pi,t.ShadowMaterial=di,t.SpriteMaterial=de,t.RawShaderMaterial=fi,t.ShaderMaterial=K,t.PointsMaterial=Me,t.MultiMaterial=mi,t.MeshPhysicalMaterial=gi,t.MeshStandardMaterial=vi,t.MeshPhongMaterial=yi,t.MeshNormalMaterial=xi,t.MeshLambertMaterial=_i,t.MeshDepthMaterial=$,t.MeshBasicMaterial=ft,t.LineDashedMaterial=bi,t.LineBasicMaterial=_e,t.Material=J,t.REVISION=mr,t.MOUSE=vr,t.CullFaceNone=gr,t.CullFaceBack=yr,t.CullFaceFront=xr,t.CullFaceFrontBack=_r,t.FrontFaceDirectionCW=br,t.FrontFaceDirectionCCW=wr,t.BasicShadowMap=Mr,t.PCFShadowMap=Er,t.PCFSoftShadowMap=Tr,t.FrontSide=Sr,t.BackSide=Ar,t.DoubleSide=Lr,t.FlatShading=Rr,t.SmoothShading=Pr,t.NoColors=Cr,t.FaceColors=Ir,t.VertexColors=Ur,t.NoBlending=Nr,t.NormalBlending=Dr,t.AdditiveBlending=Or,t.SubtractiveBlending=Fr,t.MultiplyBlending=Br,t.CustomBlending=zr,t.BlendingMode=Gr,t.AddEquation=Hr,t.SubtractEquation=Vr,t.ReverseSubtractEquation=kr,t.MinEquation=jr,t.MaxEquation=Wr,t.ZeroFactor=Xr,t.OneFactor=Yr,t.SrcColorFactor=qr,t.OneMinusSrcColorFactor=Zr,t.SrcAlphaFactor=Jr,t.OneMinusSrcAlphaFactor=Qr,t.DstAlphaFactor=Kr,t.OneMinusDstAlphaFactor=$r,t.DstColorFactor=ta,t.OneMinusDstColorFactor=ea,t.SrcAlphaSaturateFactor=ia,t.NeverDepth=na,t.AlwaysDepth=ra,t.LessDepth=aa,t.LessEqualDepth=oa,t.EqualDepth=sa,t.GreaterEqualDepth=ca,t.GreaterDepth=ha,t.NotEqualDepth=la,t.MultiplyOperation=ua,t.MixOperation=pa,t.AddOperation=da,t.NoToneMapping=fa,t.LinearToneMapping=ma,t.ReinhardToneMapping=va,t.Uncharted2ToneMapping=ga,t.CineonToneMapping=ya,t.UVMapping=xa,t.CubeReflectionMapping=_a,t.CubeRefractionMapping=ba,t.EquirectangularReflectionMapping=wa,t.EquirectangularRefractionMapping=Ma,t.SphericalReflectionMapping=Ea,t.CubeUVReflectionMapping=Ta,t.CubeUVRefractionMapping=Sa,t.TextureMapping=Aa,t.RepeatWrapping=La,t.ClampToEdgeWrapping=Ra,t.MirroredRepeatWrapping=Pa,t.TextureWrapping=Ca,t.NearestFilter=Ia,t.NearestMipMapNearestFilter=Ua,t.NearestMipMapLinearFilter=Na,t.LinearFilter=Da,t.LinearMipMapNearestFilter=Oa,t.LinearMipMapLinearFilter=Fa,t.TextureFilter=Ba,t.UnsignedByteType=za,t.ByteType=Ga,t.ShortType=Ha,t.UnsignedShortType=Va,t.IntType=ka,t.UnsignedIntType=ja,t.FloatType=Wa,t.HalfFloatType=Xa,t.UnsignedShort4444Type=Ya,t.UnsignedShort5551Type=qa,t.UnsignedShort565Type=Za,t.UnsignedInt248Type=Ja,t.AlphaFormat=Qa,t.RGBFormat=Ka,t.RGBAFormat=$a,t.LuminanceFormat=to,t.LuminanceAlphaFormat=eo,t.RGBEFormat=io,t.DepthFormat=no,t.DepthStencilFormat=ro,t.RGB_S3TC_DXT1_Format=ao,t.RGBA_S3TC_DXT1_Format=oo,t.RGBA_S3TC_DXT3_Format=so,t.RGBA_S3TC_DXT5_Format=co,t.RGB_PVRTC_4BPPV1_Format=ho,t.RGB_PVRTC_2BPPV1_Format=lo,t.RGBA_PVRTC_4BPPV1_Format=uo,t.RGBA_PVRTC_2BPPV1_Format=po,t.RGB_ETC1_Format=fo,t.LoopOnce=mo,t.LoopRepeat=vo,t.LoopPingPong=go,t.InterpolateDiscrete=yo,t.InterpolateLinear=xo,t.InterpolateSmooth=_o,t.ZeroCurvatureEnding=bo,t.ZeroSlopeEnding=wo,t.WrapAroundEnding=Mo,t.TrianglesDrawMode=Eo,t.TriangleStripDrawMode=To,t.TriangleFanDrawMode=So,t.LinearEncoding=Ao,t.sRGBEncoding=Lo,t.GammaEncoding=Ro,t.RGBEEncoding=Po,t.LogLuvEncoding=Co,t.RGBM7Encoding=Io,t.RGBM16Encoding=Uo,t.RGBDEncoding=No,t.BasicDepthPacking=Do,t.RGBADepthPacking=Oo,t.CubeGeometry=pi,t.Face4=rr,t.LineStrip=mh,t.LinePieces=vh,t.MeshFaceMaterial=mi,t.PointCloud=ar,t.Particle=fe,t.ParticleSystem=or,t.PointCloudMaterial=sr,t.ParticleBasicMaterial=cr,t.ParticleSystemMaterial=hr,t.Vertex=lr,t.EdgesHelper=ur,t.WireframeHelper=pr,t.GeometryUtils=gh,t.ImageUtils=yh,t.Projector=dr,t.CanvasRenderer=fr,Object.defineProperty(t,\\\"__esModule\\\",{value:!0}),Object.defineProperty(t,\\\"AudioContext\\\",{get:function(){return t.getAudioContext()}})});\\n},{}],14:[function(_dereq_,module,exports){\\nTHREE.BlendCharacter=function(){this.weightSchedule=[],this.warpSchedule=[],this.load=function(i,t){var e=this,n=new THREE.ObjectLoader;n.load(i,function(n){if(n.traverse(function(i){i instanceof THREE.SkinnedMesh&&(e.skinnedMesh=i)}),THREE.SkinnedMesh.call(e,e.skinnedMesh.geometry,e.skinnedMesh.material),void 0==e.skinnedMesh)return void console.log(\\\"unable to find skinned mesh in \\\"+i);e.material.skinning=!0,e.mixer=new THREE.AnimationMixer(e),e.mixer=e.mixer;for(var s=0;s<e.geometry.animations.length;++s)e.mixer.clipAction(e.geometry.animations[s]);void 0!==t&&t()})},this.loadJSON=function(i,t){var e=this,n=new THREE.JSONLoader;n.load(i,function(i,n){var s=n[0];s.skinning=!0,THREE.SkinnedMesh.call(e,i,s);var o=new THREE.AnimationMixer(e);e.mixer=o;for(var r=0;r<i.animations.length;++r)o.clipAction(i.animations[r]);void 0!==t&&t()})},this.update=function(i){this.mixer.update(i)},this.play=function(i,t){return this.mixer.clipAction(i).setEffectiveWeight(t).play()},this.crossfade=function(i,t,e){this.mixer.stopAllAction();var n=this.play(i,1),s=this.play(t,1);n.crossFadeTo(s,e,!1)},this.warp=function(i,t,e){this.mixer.stopAllAction();var n=this.play(i,1),s=this.play(t,1);n.crossFadeTo(s,e,!0)},this.applyWeight=function(i,t){this.mixer.clipAction(i).setEffectiveWeight(t)},this.getWeight=function(i){return this.mixer.clipAction(i).getEffectiveWeight()},this.pauseAll=function(){this.mixer.timeScale=0},this.unPauseAll=function(){this.mixer.timeScale=1},this.stopAll=function(){this.mixer.stopAllAction()},this.showModel=function(i){this.visible=i}},THREE.BlendCharacter.prototype=Object.create(THREE.SkinnedMesh.prototype),THREE.BlendCharacter.prototype.constructor=THREE.BlendCharacter,THREE.BlendCharacter.prototype.getForward=function(){var i=new THREE.Vector3;return function(){return i.set(-this.matrix.elements[8],-this.matrix.elements[9],-this.matrix.elements[10]),i}};\\n},{}],15:[function(_dereq_,module,exports){\\nTHREE.ColladaLoader=function(){function e(e,i,s,r){var a=0;if(document.implementation&&document.implementation.createDocument){var n=new XMLHttpRequest;n.onreadystatechange=function(){4===n.readyState?0===n.status||200===n.status?n.response?(Xe=i,t(n.response,void 0,e)):r?r({type:\\\"error\\\",url:e}):console.error(\\\"ColladaLoader: Empty or non-existing file (\\\"+e+\\\")\\\"):r?r({type:\\\"error\\\",url:e}):console.error(\\\"ColladaLoader: Couldn't load \\\\\\\"\\\"+e+'\\\" ('+n.status+\\\")\\\"):3===n.readyState&&s&&(0===a&&(a=n.getResponseHeader(\\\"Content-Length\\\")),s({total:a,loaded:n.responseText.length}))},n.open(\\\"GET\\\",e,!0),n.send(null)}else alert(\\\"Don't know how to parse XML!\\\")}function t(e,t,i){if(qe=(new DOMParser).parseFromString(e,\\\"text/xml\\\"),t=t||Xe,void 0!==i){var h=i.split(\\\"/\\\");h.pop(),Oe=(h.length<1?\\\".\\\":h.join(\\\"/\\\"))+\\\"/\\\"}s(),we(),Ye=r(\\\"library_images image\\\",R,\\\"image\\\"),Be=r(\\\"library_materials material\\\",U,\\\"material\\\"),De=r(\\\"library_effects effect\\\",Q,\\\"effect\\\"),Fe=r(\\\"library_geometries geometry\\\",q,\\\"geometry\\\"),Ue=r(\\\"library_cameras camera\\\",se,\\\"camera\\\"),Pe=r(\\\"library_lights light\\\",ae,\\\"light\\\"),ze=r(\\\"library_controllers controller\\\",_,\\\"controller\\\"),Ze=r(\\\"library_animations animation\\\",K,\\\"animation\\\"),He=r(\\\"library_visual_scenes visual_scene\\\",j,\\\"visual_scene\\\"),Me=r(\\\"library_kinematics_models kinematics_model\\\",oe,\\\"kinematics_model\\\"),Se=[],Ie=[],_e=a(),Ve=new THREE.Group;for(var l=0;l<_e.nodes.length;l++)Ve.add(v(_e.nodes[l]));Ve.scale.multiplyScalar(We),o(),Ae=n(),g();var c={scene:Ve,morphs:Se,skins:Ie,animations:Ce,kinematics:je,dae:{images:Ye,materials:Be,cameras:Ue,lights:Pe,effects:De,geometries:Fe,controllers:ze,animations:Ze,visualScenes:He,visualScene:_e,scene:_e,kinematicsModels:Me,kinematicsModel:Ae}};return t&&t(c),c}function i(e){Ge=e}function s(){var e=qe.querySelectorAll(\\\"asset\\\"),t=e[0];if(t&&t.childNodes)for(var i=0;i<t.childNodes.length;i++){var s=t.childNodes[i];switch(s.nodeName){case\\\"unit\\\":var r=s.getAttribute(\\\"meter\\\");r&&(We=parseFloat(r));break;case\\\"up_axis\\\":Qe=s.textContent.charAt(0)}}}function r(e,t,i){for(var s=qe.querySelectorAll(e),r={},a=0,n=s.length,o=0;o<n;o++){var h=s[o],l=(new t).parse(h);l.id&&0!==l.id.length||(l.id=i+a++),r[l.id]=l}return r}function a(){var e=qe.querySelectorAll(\\\"scene instance_visual_scene\\\")[0];if(e){var t=e.getAttribute(\\\"url\\\").replace(/^#/,\\\"\\\");return He[t.length>0?t:\\\"visual_scene0\\\"]}return null}function n(){var e=qe.querySelectorAll(\\\"instance_kinematics_model\\\")[0];if(e){var t=e.getAttribute(\\\"url\\\").replace(/^#/,\\\"\\\");return Me[t.length>0?t:\\\"kinematics_model0\\\"]}return null}function o(){Ce=[],h(Ve)}function h(e){var t=_e.getChildById(e.colladaId,!0),i=null;if(t&&t.keys){i={fps:60,hierarchy:[{node:t,keys:t.keys,sids:t.sids}],node:e,name:\\\"animation_\\\"+e.name,length:0},Ce.push(i);for(var s=0,r=t.keys.length;s<r;s++)i.length=Math.max(i.length,t.keys[s].time)}else i={hierarchy:[{keys:[],sids:[]}]};for(var s=0,r=e.children.length;s<r;s++)for(var a=h(e.children[s]),n=0,o=a.hierarchy.length;n<o;n++)i.hierarchy.push({keys:[],sids:[]});return i}function l(){var e,t=1e6,i=-t,s=0;for(var r in Ze){var a=Ze[r];e=e||a.id;for(var n=0;n<a.sampler.length;n++){var o=a.sampler[n];o.create(),t=Math.min(t,o.startTime),i=Math.max(i,o.endTime),s=Math.max(s,o.input.length)}}return{start:t,end:i,frames:s,ID:e}}function c(e,t){var i=t instanceof O?ze[t.url]:t;if(!i||!i.morph)return void console.log(\\\"could not find morph controller!\\\");for(var s=i.morph,r=0;r<s.targets.length;r++){var a=s.targets[r],n=Fe[a];if(n.mesh&&n.mesh.primitives&&n.mesh.primitives.length){var o=n.mesh.primitives[0].geometry;o.vertices.length===e.vertices.length&&e.morphTargets.push({name:\\\"target_1\\\",vertices:o.vertices})}}e.morphTargets.push({name:\\\"target_Z\\\",vertices:e.vertices})}function d(e,t,i,s){if(e.world=e.world||new THREE.Matrix4,e.localworld=e.localworld||new THREE.Matrix4,e.world.copy(e.matrix),e.localworld.copy(e.matrix),e.channels&&e.channels.length){var r=e.channels[0],a=r.sampler.output[i];a instanceof THREE.Matrix4&&(e.world.copy(a),e.localworld.copy(a),0===i&&e.matrix.copy(a))}s&&e.world.multiplyMatrices(s,e.world),t.push(e);for(var n=0;n<e.nodes.length;n++)d(e.nodes[n],t,i,e.world)}function p(e,t){for(var i=0;i<e.length;i++){var s=e[i],r=-1;if(\\\"JOINT\\\"==s.type){for(var a=0;a<t.joints.length;a++)if(s.sid===t.joints[a]){r=a;break}if(r>=0){var n=t.invBindMatrices[r];s.invBindMatrix=n,s.skinningMatrix=new THREE.Matrix4,s.skinningMatrix.multiplyMatrices(s.world,n),s.animatrix=new THREE.Matrix4,s.animatrix.copy(s.localworld),s.weights=[];for(var a=0;a<t.weights.length;a++)for(var o=0;o<t.weights[a].length;o++){var h=t.weights[a][o];h.joint===r&&s.weights.push(h)}}else console.warn(\\\"ColladaLoader: Could not find joint '\\\"+s.sid+\\\"'.\\\"),s.skinningMatrix=new THREE.Matrix4,s.weights=[]}}}function u(e){var t=[],i=function(e,t,s){var r={};r.name=t.sid,r.parent=e,r.matrix=t.matrix;var a=[new THREE.Vector3,new THREE.Quaternion,new THREE.Vector3];r.matrix.decompose(a[0],a[1],a[2]),r.pos=[a[0].x,a[0].y,a[0].z],r.scl=[a[2].x,a[2].y,a[2].z],r.rotq=[a[1].x,a[1].y,a[1].z,a[1].w],s.push(r);for(var n in t.nodes)i(t.sid,t.nodes[n],s)};return i(-1,e,t),t}function f(e,t,i){var s=[];d(t,s,-1),p(s,i.skin);for(var r=new THREE.Vector3,a=[],n=0;n<e.vertices.length;n++)a.push(new THREE.Vector3);for(n=0;n<s.length;n++)if(\\\"JOINT\\\"==s[n].type)for(var o=0;o<s[n].weights.length;o++){var h=s[n].weights[o],l=h.index,c=h.weight,u=e.vertices[l],f=a[l];r.x=u.x,r.y=u.y,r.z=u.z,r.applyMatrix4(s[n].skinningMatrix),f.x+=r.x*c,f.y+=r.y*c,f.z+=r.z*c}for(var n=0;n<e.vertices.length;n++)e.vertices[n]=a[n]}function m(e,t,i){var s=ze[t.url];if(i=void 0!==i?i:40,!s||!s.skin)return void console.log(\\\"ColladaLoader: Could not find skin controller.\\\");if(!t.skeleton||!t.skeleton.length)return void console.log(\\\"ColladaLoader: Could not find the skeleton for the skin. \\\");for(var r=l(),a=_e.getChildById(t.skeleton[0],!0)||_e.getChildBySid(t.skeleton[0],!0),n=u(a),o=s.skin.joints,h=[],c=0;c<o.length;c++)for(var m=0;m<n.length;m++)n[m].name===o[c]&&(h[c]=n[m]);for(var c=0;c<h.length;c++)for(var m=0;m<h.length;m++)h[c].parent===h[m].name&&(h[c].parent=m);var c,m,g;new THREE.Vector3;for(c=0;c<e.vertices.length;c++)e.vertices[c].applyMatrix4(s.skin.bindShapeMatrix);for(var v=[],y=[],b=s.skin.weights,c=0;c<b.length;c++){var w=new THREE.Vector4(b[c][0]?b[c][0].joint:0,b[c][1]?b[c][1].joint:0,b[c][2]?b[c][2].joint:0,b[c][3]?b[c][3].joint:0),g=new THREE.Vector4(b[c][0]?b[c][0].weight:0,b[c][1]?b[c][1].weight:0,b[c][2]?b[c][2].weight:0,b[c][3]?b[c][3].weight:0);v.push(w),y.push(g)}e.skinIndices=v,e.skinWeights=y,e.bones=h;for(var x={name:r.ID,fps:30,length:r.frames/30,hierarchy:[]},m=0;m<h.length;m++)x.hierarchy.push({parent:h[m].parent,name:h[m].name,keys:[]});for(console.log(\\\"ColladaLoader:\\\",r.ID+\\\" has \\\"+h.length+\\\" bones.\\\"),f(e,a,s),i=0;i<r.frames;i++){var N=[];d(a,N,i),p(N,s.skin);for(var c=0;c<N.length;c++)for(var m=0;m<x.hierarchy.length;m++)if(x.hierarchy[m].name===N[c].sid){var k={};k.time=i/30,k.matrix=N[c].animatrix,0===i&&(N[c].matrix=k.matrix);var T=[new THREE.Vector3,new THREE.Quaternion,new THREE.Vector3];k.matrix.decompose(T[0],T[1],T[2]),k.pos=[T[0].x,T[0].y,T[0].z],k.scl=[T[2].x,T[2].y,T[2].z],k.rot=T[1],x.hierarchy[m].keys.push(k)}e.animation=x}}function g(){if(Ae&&0===Ae.joints.length)return void(je=void 0);var e={},t=function(t,i){var s=i.getAttribute(\\\"id\\\"),r=_e.getChildById(s,!0),a=Ae.joints[t];Ve.traverse(function(i){i.colladaId==s&&(e[t]={node:i,transforms:r.transforms,joint:a,position:a.zeroPosition})})};je={joints:Ae&&Ae.joints,getJointValue:function(t){var i=e[t];return i?i.position:void console.log(\\\"getJointValue: joint \\\"+t+\\\" doesn't exist\\\")},setJointValue:function(t,i){var r=e[t];if(r){var a=r.joint;if(i>a.limits.max||i<a.limits.min)console.log(\\\"setJointValue: joint \\\"+t+\\\" value \\\"+i+\\\" outside of limits (min: \\\"+a.limits.min+\\\", max: \\\"+a.limits.max+\\\")\\\");else if(a.static)console.log(\\\"setJointValue: joint \\\"+t+\\\" is static\\\");else{var n=r.node,o=a.axis,h=r.transforms,l=new THREE.Matrix4;for(s=0;s<h.length;s++){var c=h[s];if(c.sid&&c.sid.indexOf(\\\"joint\\\"+t)!==-1)switch(a.type){case\\\"revolute\\\":l.multiply(d.makeRotationAxis(o,THREE.Math.degToRad(i)));break;case\\\"prismatic\\\":l.multiply(d.makeTranslation(o.x*i,o.y*i,o.z*i));break;default:console.warn(\\\"setJointValue: unknown joint type: \\\"+a.type)}else{var d=new THREE.Matrix4;switch(c.type){case\\\"matrix\\\":l.multiply(c.obj);break;case\\\"translate\\\":l.multiply(d.makeTranslation(c.obj.x,c.obj.y,c.obj.z));break;case\\\"rotate\\\":l.multiply(d.makeRotationAxis(c.obj,c.angle))}}}var p=l.elements,u=Array.prototype.slice.call(p),f=[u[0],u[4],u[8],u[12],u[1],u[5],u[9],u[13],u[2],u[6],u[10],u[14],u[3],u[7],u[11],u[15]];n.matrix.set.apply(n.matrix,f),n.matrix.decompose(n.position,n.quaternion,n.scale)}}else console.log(\\\"setJointValue: joint \\\"+t+\\\" doesn't exist\\\")}};var i=qe.querySelector(\\\"scene instance_kinematics_scene\\\");if(i)for(var s=0;s<i.childNodes.length;s++){var r=i.childNodes[s];if(1==r.nodeType)switch(r.nodeName){case\\\"bind_joint_axis\\\":var a=r.getAttribute(\\\"target\\\").split(\\\"/\\\").pop(),n=r.querySelector(\\\"axis param\\\").textContent,o=parseInt(n.split(\\\"joint\\\").pop().split(\\\".\\\")[0]),h=qe.querySelector('[sid=\\\"'+a+'\\\"]');if(h){var l=h.parentElement;t(o,l)}}}}function v(e,t){var i,s,r,a,n=new THREE.Object3D,o=!1;for(r=0;r<e.controllers.length;r++){var h=ze[e.controllers[r].url];switch(h.type){case\\\"skin\\\":if(Fe[h.skin.source]){var l=new I;l.url=h.skin.source,l.instance_material=e.controllers[r].instance_material,e.geometries.push(l),o=!0,i=e.controllers[r]}else if(ze[h.skin.source]){var d=ze[h.skin.source];if(s=d,d.morph&&Fe[d.morph.source]){var l=new I;l.url=d.morph.source,l.instance_material=e.controllers[r].instance_material,e.geometries.push(l)}}break;case\\\"morph\\\":if(Fe[h.morph.source]){var l=new I;l.url=h.morph.source,l.instance_material=e.controllers[r].instance_material,e.geometries.push(l),s=e.controllers[r]}console.log(\\\"ColladaLoader: Morph-controller partially supported.\\\")}}var p={};for(r=0;r<e.geometries.length;r++){var u,f=e.geometries[r],g=f.instance_material,y=Fe[f.url],b={},w=[],x=0;if(y){if(!y.mesh||!y.mesh.primitives)continue;if(0===n.name.length&&(n.name=y.id),g)for(a=0;a<g.length;a++){var N=g[a],k=Be[N.target],T=k.instance_effect.url,E=De[T].shader,R=E.material;if(y.doubleSided){if(!(N.symbol in p)){var _=R.clone();_.side=THREE.DoubleSide,p[N.symbol]=_}R=p[N.symbol]}R.opacity=R.opacity?R.opacity:1,b[N.symbol]=x,w.push(R),u=R,u.name=null===k.name||\\\"\\\"===k.name?k.id:k.name,x++}var A,C=u||new THREE.MeshLambertMaterial({color:14540253,side:y.doubleSided?THREE.DoubleSide:THREE.FrontSide}),j=y.mesh.geometry3js;if(x>1)for(C=new THREE.MultiMaterial(w),a=0;a<j.faces.length;a++){var H=j.faces[a];H.materialIndex=b[H.daeMaterial]}void 0!==i?(m(j,i),j.morphTargets.length>0?(C.morphTargets=!0,C.skinning=!1):(C.morphTargets=!1,C.skinning=!0),A=new THREE.SkinnedMesh(j,C,(!1)),A.name=\\\"skin_\\\"+Ie.length,Ie.push(A)):void 0!==s?(c(j,s),C.morphTargets=!0,A=new THREE.Mesh(j,C),A.name=\\\"morph_\\\"+Se.length,Se.push(A)):A=j.isLineStrip===!0?new THREE.Line(j):new THREE.Mesh(j,C),n.add(A)}}for(r=0;r<e.cameras.length;r++){var M=e.cameras[r],O=Ue[M.url],S=new THREE.PerspectiveCamera(O.yfov,parseFloat(O.aspect_ratio),parseFloat(O.znear),parseFloat(O.zfar));n.add(S)}for(r=0;r<e.lights.length;r++){var q=null,V=e.lights[r],X=Pe[V.url];if(X&&X.technique){var L=X.color.getHex(),Y=X.intensity,Z=X.distance,z=X.falloff_angle;switch(X.technique){case\\\"directional\\\":q=new THREE.DirectionalLight(L,Y,Z),q.position.set(0,0,1);break;case\\\"point\\\":q=new THREE.PointLight(L,Y,Z);break;case\\\"spot\\\":q=new THREE.SpotLight(L,Y,Z,z),q.position.set(0,0,1);break;case\\\"ambient\\\":q=new THREE.AmbientLight(L)}}q&&n.add(q)}if(n.name=e.name||e.id||\\\"\\\",n.colladaId=e.id||\\\"\\\",n.layer=e.layer||\\\"\\\",n.matrix=e.matrix,n.matrix.decompose(n.position,n.quaternion,n.scale),Je.centerGeometry&&n.geometry){var F=n.geometry.center();F.multiply(n.scale),F.applyQuaternion(n.quaternion),n.position.sub(F)}for(r=0;r<e.nodes.length;r++)n.add(v(e.nodes[r],e));return n}function y(e){for(var t=qe.querySelectorAll(\\\"library_nodes node\\\"),i=0;i<t.length;i++){var s=t[i].attributes.getNamedItem(\\\"id\\\");if(s&&s.value===e)return t[i]}}function b(e){var t=[],i=1e6,s=-1e6;for(var r in Ze)for(var a=Ze[r],n=0;n<a.channel.length;n++){var o=a.channel[n],h=a.sampler[n],r=o.target.split(\\\"/\\\")[0];r==e.id&&(h.create(),o.sampler=h,i=Math.min(i,h.startTime),s=Math.max(s,h.endTime),t.push(o))}return t.length&&(e.startTime=i,e.endTime=s),t}function w(e){if(e.channels&&e.channels.length){for(var t=[],i=[],s=0,r=e.channels.length;s<r;s++){var a,n=e.channels[s],o=n.fullSid,h=n.sampler,l=h.input,c=e.getTransformBySid(n.sid);if(n.arrIndices){a=[];for(var d=0,p=n.arrIndices.length;d<p;d++)a[d]=Ee(n.arrIndices[d])}else a=Re(n.member);if(c){i.indexOf(o)===-1&&i.push(o);for(var d=0,p=l.length;d<p;d++){var u=l[d],f=h.getData(c.type,d,a),m=x(t,u);if(!m){m=new ie(u);var g=N(t,u);t.splice(g===-1?t.length:g,0,m)}m.addTarget(o,c,a,f)}}else console.log('Could not find transform \\\"'+n.sid+'\\\" in node '+e.id)}for(var s=0;s<i.length;s++)for(var v=i[s],d=0;d<t.length;d++){var m=t[d];m.hasTarget(v)||k(t,m,d,v)}e.keys=t,e.sids=i}}function x(e,t){for(var i=null,s=0,r=e.length;s<r&&null===i;s++){var a=e[s];if(a.time===t)i=a;else if(a.time>t)break}return i}function N(e,t){for(var i=-1,s=0,r=e.length;s<r&&i===-1;s++){var a=e[s];a.time>=t&&(i=s)}return i}function k(e,t,i,s){var r=E(e,s,i?i-1:0),a=T(e,s,i+1);if(r&&a){var n,o=(t.time-r.time)/(a.time-r.time),h=r.getTarget(s),l=a.getTarget(s).data,c=h.data;if(\\\"matrix\\\"===h.type)n=c;else if(c.length){n=[];for(var d=0;d<c.length;++d)n[d]=c[d]+(l[d]-c[d])*o}else n=c+(l-c)*o;t.addTarget(s,h.transform,h.member,n)}}function T(e,t,i){for(;i<e.length;i++){var s=e[i];if(s.hasTarget(t))return s}return null}function E(e,t,i){for(i=i>=0?i:i+e.length;i>=0;i--){var s=e[i];if(s.hasTarget(t))return s}return null}function R(){this.id=\\\"\\\",this.init_from=\\\"\\\"}function _(){this.id=\\\"\\\",this.name=\\\"\\\",this.type=\\\"\\\",this.skin=null,this.morph=null}function A(){this.method=null,this.source=null,this.targets=null,this.weights=null}function C(){this.source=\\\"\\\",this.bindShapeMatrix=null,this.invBindMatrices=[],this.joints=[],this.weights=[]}function j(){this.id=\\\"\\\",this.name=\\\"\\\",this.nodes=[],this.scene=new THREE.Group}function H(){this.id=\\\"\\\",this.name=\\\"\\\",this.sid=\\\"\\\",this.nodes=[],this.controllers=[],this.transforms=[],this.geometries=[],this.channels=[],this.matrix=new THREE.Matrix4}function M(){this.sid=\\\"\\\",this.type=\\\"\\\",this.data=[],this.obj=null}function O(){this.url=\\\"\\\",this.skeleton=[],this.instance_material=[]}function S(){this.symbol=\\\"\\\",this.target=\\\"\\\"}function I(){this.url=\\\"\\\",this.instance_material=[]}function q(){this.id=\\\"\\\",this.mesh=null}function V(e){this.geometry=e.id,this.primitives=[],this.vertices=null,this.geometry3js=null}function X(){this.material=\\\"\\\",this.count=0,this.inputs=[],this.vcount=null,this.p=[],this.geometry=new THREE.Geometry}function L(){X.call(this),this.vcount=[]}function Y(){X.call(this),this.vcount=1}function Z(){X.call(this),this.vcount=3}function z(){this.source=\\\"\\\",this.count=0,this.stride=0,this.params=[]}function F(){this.input={}}function B(){this.semantic=\\\"\\\",this.offset=0,this.source=\\\"\\\",this.set=0}function D(e){this.id=e,this.type=null}function U(){this.id=\\\"\\\",this.name=\\\"\\\",this.instance_effect=null}function P(){this.color=new THREE.Color,this.color.setRGB(Math.random(),Math.random(),Math.random()),this.color.a=1,this.texture=null,this.texcoord=null,this.texOpts=null}function G(e,t){this.type=e,this.effect=t,this.material=null}function J(e){this.effect=e,this.init_from=null,this.format=null}function W(e){this.effect=e,this.source=null,this.wrap_s=null,this.wrap_t=null,this.minfilter=null,this.magfilter=null,this.mipfilter=null}function Q(){this.id=\\\"\\\",this.name=\\\"\\\",this.shader=null,this.surface={},this.sampler={}}function $(){this.url=\\\"\\\"}function K(){this.id=\\\"\\\",this.name=\\\"\\\",this.source={},this.sampler=[],this.channel=[]}function ee(e){this.animation=e,this.source=\\\"\\\",this.target=\\\"\\\",this.fullSid=null,this.sid=null,this.dotSyntax=null,this.arrSyntax=null,this.arrIndices=null,this.member=null}function te(e){this.id=\\\"\\\",this.animation=e,this.inputs=[],this.input=null,this.output=null,this.strideOut=null,this.interpolation=null,this.startTime=null,this.endTime=null,this.duration=0}function ie(e){this.targets=[],this.time=e}function se(){this.id=\\\"\\\",this.name=\\\"\\\",this.technique=\\\"\\\"}function re(){this.url=\\\"\\\"}function ae(){this.id=\\\"\\\",this.name=\\\"\\\",this.technique=\\\"\\\"}function ne(){this.url=\\\"\\\"}function oe(){this.id=\\\"\\\",this.name=\\\"\\\",this.joints=[],this.links=[]}function he(){this.sid=\\\"\\\",this.name=\\\"\\\",this.axis=new THREE.Vector3,this.limits={min:0,max:0},this.type=\\\"\\\",this.static=!1,this.zeroPosition=0,this.middlePosition=0}function le(){this.sid=\\\"\\\",this.name=\\\"\\\",this.transforms=[],this.attachments=[]}function ce(){this.joint=\\\"\\\",this.transforms=[],this.links=[]}function de(e){var t=e.getAttribute(\\\"id\\\");return void 0!=Le[t]?Le[t]:(Le[t]=new D(t).parse(e),Le[t])}function pe(e){for(var t=me(e),i=[],s=0,r=t.length;s<r;s++)i.push(\\\"true\\\"===t[s]||\\\"1\\\"===t[s]);return i}function ue(e){for(var t=me(e),i=[],s=0,r=t.length;s<r;s++)i.push(parseFloat(t[s]));return i}function fe(e){for(var t=me(e),i=[],s=0,r=t.length;s<r;s++)i.push(parseInt(t[s],10));return i}function me(e){return e.length>0?ge(e).split(/\\\\s+/):[]}function ge(e){return e.replace(/^\\\\s+/,\\\"\\\").replace(/\\\\s+$/,\\\"\\\")}function ve(e,t,i){return e.hasAttribute(t)?parseInt(e.getAttribute(t),10):i}function ye(e,t){var i=new THREE.ImageLoader;i.load(t,function(t){e.image=t,e.needsUpdate=!0})}function be(e,t){e.doubleSided=!1;var i=t.querySelectorAll(\\\"extra double_sided\\\")[0];i&&i&&1===parseInt(i.textContent,10)&&(e.doubleSided=!0)}function we(){if(Je.convertUpAxis!==!0||Qe===Je.upAxis)$e=null;else switch(Qe){case\\\"X\\\":$e=\\\"Y\\\"===Je.upAxis?\\\"XtoY\\\":\\\"XtoZ\\\";break;case\\\"Y\\\":$e=\\\"X\\\"===Je.upAxis?\\\"YtoX\\\":\\\"YtoZ\\\";break;case\\\"Z\\\":$e=\\\"X\\\"===Je.upAxis?\\\"ZtoX\\\":\\\"ZtoY\\\"}}function xe(e,t){if(Je.convertUpAxis===!0&&Qe!==Je.upAxis)switch($e){case\\\"XtoY\\\":var i=e[0];e[0]=t*e[1],e[1]=i;break;case\\\"XtoZ\\\":var i=e[2];e[2]=e[1],e[1]=e[0],e[0]=i;break;case\\\"YtoX\\\":var i=e[0];e[0]=e[1],e[1]=t*i;break;case\\\"YtoZ\\\":var i=e[1];e[1]=t*e[2],e[2]=i;break;case\\\"ZtoX\\\":var i=e[0];e[0]=e[1],e[1]=e[2],e[2]=i;break;case\\\"ZtoY\\\":var i=e[1];e[1]=e[2],e[2]=t*i}}function Ne(e,t){if(Je.convertUpAxis!==!0||Qe===Je.upAxis)return t;switch(e){case\\\"X\\\":t=\\\"XtoY\\\"===$e?t*-1:t;break;case\\\"Y\\\":t=\\\"YtoZ\\\"===$e||\\\"YtoX\\\"===$e?t*-1:t;break;case\\\"Z\\\":t=\\\"ZtoY\\\"===$e?t*-1:t}return t}function ke(e,t){var i=[e[t],e[t+1],e[t+2]];return xe(i,-1),new THREE.Vector3(i[0],i[1],i[2])}function Te(e){if(Je.convertUpAxis){var t=[e[0],e[4],e[8]];xe(t,-1),e[0]=t[0],e[4]=t[1],e[8]=t[2],t=[e[1],e[5],e[9]],xe(t,-1),e[1]=t[0],e[5]=t[1],e[9]=t[2],t=[e[2],e[6],e[10]],xe(t,-1),e[2]=t[0],e[6]=t[1],e[10]=t[2],t=[e[0],e[1],e[2]],xe(t,-1),e[0]=t[0],e[1]=t[1],e[2]=t[2],t=[e[4],e[5],e[6]],xe(t,-1),e[4]=t[0],e[5]=t[1],e[6]=t[2],t=[e[8],e[9],e[10]],xe(t,-1),e[8]=t[0],e[9]=t[1],e[10]=t[2],t=[e[3],e[7],e[11]],xe(t,-1),e[3]=t[0],e[7]=t[1],e[11]=t[2]}return(new THREE.Matrix4).set(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}function Ee(e){if(e>-1&&e<3){var t=[\\\"X\\\",\\\"Y\\\",\\\"Z\\\"],i={X:0,Y:1,Z:2};e=Re(t[e]),e=i[e]}return e}function Re(e){if(Je.convertUpAxis)switch(e){case\\\"X\\\":switch($e){case\\\"XtoY\\\":case\\\"XtoZ\\\":case\\\"YtoX\\\":e=\\\"Y\\\";break;case\\\"ZtoX\\\":e=\\\"Z\\\"}break;case\\\"Y\\\":switch($e){case\\\"XtoY\\\":case\\\"YtoX\\\":case\\\"ZtoX\\\":e=\\\"X\\\";break;case\\\"XtoZ\\\":case\\\"YtoZ\\\":case\\\"ZtoY\\\":e=\\\"Z\\\"}break;case\\\"Z\\\":switch($e){case\\\"XtoZ\\\":e=\\\"X\\\";break;case\\\"YtoZ\\\":case\\\"ZtoX\\\":case\\\"ZtoY\\\":e=\\\"Y\\\"}}return e}var _e,Ae,Ce,je,He,Me,Oe,Se,Ie,qe=null,Ve=null,Xe=null,Le={},Ye={},Ze={},ze={},Fe={},Be={},De={},Ue={},Pe={},Ge=THREE.SmoothShading,Je={centerGeometry:!1,convertUpAxis:!1,subdivideFaces:!0,upAxis:\\\"Y\\\",defaultEnvMap:null},We=1,Qe=\\\"Y\\\",$e=null;return R.prototype.parse=function(e){this.id=e.getAttribute(\\\"id\\\");for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];\\\"init_from\\\"===i.nodeName&&(this.init_from=i.textContent)}return this},_.prototype.parse=function(e){this.id=e.getAttribute(\\\"id\\\"),this.name=e.getAttribute(\\\"name\\\"),this.type=\\\"none\\\";for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];switch(i.nodeName){case\\\"skin\\\":this.skin=(new C).parse(i),this.type=i.nodeName;break;case\\\"morph\\\":this.morph=(new A).parse(i),this.type=i.nodeName}}return this},A.prototype.parse=function(e){var t,i={},s=[];for(this.method=e.getAttribute(\\\"method\\\"),this.source=e.getAttribute(\\\"source\\\").replace(/^#/,\\\"\\\"),t=0;t<e.childNodes.length;t++){var r=e.childNodes[t];if(1==r.nodeType)switch(r.nodeName){case\\\"source\\\":var a=(new D).parse(r);i[a.id]=a;break;case\\\"targets\\\":s=this.parseInputs(r);break;default:console.log(r.nodeName)}}for(t=0;t<s.length;t++){var n=s[t],a=i[n.source];switch(n.semantic){case\\\"MORPH_TARGET\\\":this.targets=a.read();break;case\\\"MORPH_WEIGHT\\\":this.weights=a.read()}}return this},A.prototype.parseInputs=function(e){for(var t=[],i=0;i<e.childNodes.length;i++){var s=e.childNodes[i];if(1==s.nodeType)switch(s.nodeName){case\\\"input\\\":t.push((new B).parse(s))}}return t},C.prototype.parse=function(e){var t,i,s={};this.source=e.getAttribute(\\\"source\\\").replace(/^#/,\\\"\\\"),this.invBindMatrices=[],this.joints=[],this.weights=[];for(var r=0;r<e.childNodes.length;r++){var a=e.childNodes[r];if(1==a.nodeType)switch(a.nodeName){case\\\"bind_shape_matrix\\\":var n=ue(a.textContent);this.bindShapeMatrix=Te(n);break;case\\\"source\\\":var o=(new D).parse(a);s[o.id]=o;break;case\\\"joints\\\":t=a;break;case\\\"vertex_weights\\\":i=a;break;default:console.log(a.nodeName)}}return this.parseJoints(t,s),this.parseWeights(i,s),this},C.prototype.parseJoints=function(e,t){for(var i=0;i<e.childNodes.length;i++){var s=e.childNodes[i];if(1==s.nodeType)switch(s.nodeName){case\\\"input\\\":var r=(new B).parse(s),a=t[r.source];\\\"JOINT\\\"===r.semantic?this.joints=a.read():\\\"INV_BIND_MATRIX\\\"===r.semantic&&(this.invBindMatrices=a.read())}}},C.prototype.parseWeights=function(e,t){for(var i,s,r=[],a=0;a<e.childNodes.length;a++){var n=e.childNodes[a];if(1==n.nodeType)switch(n.nodeName){case\\\"input\\\":r.push((new B).parse(n));break;case\\\"v\\\":i=fe(n.textContent);break;case\\\"vcount\\\":s=fe(n.textContent)}}for(var o=0,a=0;a<s.length;a++){for(var h=s[a],l=[],c=0;c<h;c++){for(var d={},p=0;p<r.length;p++){var u=r[p],f=i[o+u.offset];switch(u.semantic){case\\\"JOINT\\\":d.joint=f;break;case\\\"WEIGHT\\\":d.weight=t[u.source].data[f]}}l.push(d),o+=r.length}for(var c=0;c<l.length;c++)l[c].index=a;this.weights.push(l)}},j.prototype.getChildById=function(e,t){for(var i=0;i<this.nodes.length;i++){var s=this.nodes[i].getChildById(e,t);if(s)return s}return null},j.prototype.getChildBySid=function(e,t){for(var i=0;i<this.nodes.length;i++){var s=this.nodes[i].getChildBySid(e,t);if(s)return s}return null},j.prototype.parse=function(e){this.id=e.getAttribute(\\\"id\\\"),this.name=e.getAttribute(\\\"name\\\"),this.nodes=[];for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(1==i.nodeType)switch(i.nodeName){case\\\"node\\\":this.nodes.push((new H).parse(i))}}return this},H.prototype.getChannelForTransform=function(e){for(var t=0;t<this.channels.length;t++){var i,s,r=this.channels[t],a=r.target.split(\\\"/\\\"),n=(a.shift(),a.shift()),o=n.indexOf(\\\".\\\")>=0,h=n.indexOf(\\\"(\\\")>=0;if(o)a=n.split(\\\".\\\"),n=a.shift(),s=a.shift();else if(h){i=n.split(\\\"(\\\"),n=i.shift();for(var l=0;l<i.length;l++)i[l]=parseInt(i[l].replace(/\\\\)/,\\\"\\\"))}if(n===e)return r.info={sid:n,dotSyntax:o,arrSyntax:h,arrIndices:i},r}return null},H.prototype.getChildById=function(e,t){if(this.id===e)return this;if(t)for(var i=0;i<this.nodes.length;i++){var s=this.nodes[i].getChildById(e,t);if(s)return s}return null},H.prototype.getChildBySid=function(e,t){if(this.sid===e)return this;if(t)for(var i=0;i<this.nodes.length;i++){var s=this.nodes[i].getChildBySid(e,t);if(s)return s}return null},H.prototype.getTransformBySid=function(e){for(var t=0;t<this.transforms.length;t++)if(this.transforms[t].sid===e)return this.transforms[t];return null},H.prototype.parse=function(e){var t;this.id=e.getAttribute(\\\"id\\\"),this.sid=e.getAttribute(\\\"sid\\\"),this.name=e.getAttribute(\\\"name\\\"),this.type=e.getAttribute(\\\"type\\\"),this.layer=e.getAttribute(\\\"layer\\\"),this.type=\\\"JOINT\\\"===this.type?this.type:\\\"NODE\\\",this.nodes=[],this.transforms=[],this.geometries=[],this.cameras=[],this.lights=[],this.controllers=[],this.matrix=new THREE.Matrix4;for(var i=0;i<e.childNodes.length;i++){var s=e.childNodes[i];if(1==s.nodeType)switch(s.nodeName){case\\\"node\\\":this.nodes.push((new H).parse(s));break;case\\\"instance_camera\\\":this.cameras.push((new re).parse(s));break;case\\\"instance_controller\\\":this.controllers.push((new O).parse(s));break;case\\\"instance_geometry\\\":this.geometries.push((new I).parse(s));break;case\\\"instance_light\\\":this.lights.push((new ne).parse(s));break;case\\\"instance_node\\\":t=s.getAttribute(\\\"url\\\").replace(/^#/,\\\"\\\");var r=y(t);r&&this.nodes.push((new H).parse(r));break;case\\\"rotate\\\":case\\\"translate\\\":case\\\"scale\\\":case\\\"matrix\\\":case\\\"lookat\\\":case\\\"skew\\\":this.transforms.push((new M).parse(s));break;case\\\"extra\\\":break;default:console.log(s.nodeName)}}return this.channels=b(this),w(this),this.updateMatrix(),this},H.prototype.updateMatrix=function(){this.matrix.identity();for(var e=0;e<this.transforms.length;e++)this.transforms[e].apply(this.matrix)},M.prototype.parse=function(e){return this.sid=e.getAttribute(\\\"sid\\\"),this.type=e.nodeName,this.data=ue(e.textContent),this.convert(),this},M.prototype.convert=function(){switch(this.type){case\\\"matrix\\\":this.obj=Te(this.data);break;case\\\"rotate\\\":this.angle=THREE.Math.degToRad(this.data[3]);case\\\"translate\\\":xe(this.data,-1),this.obj=new THREE.Vector3(this.data[0],this.data[1],this.data[2]);break;case\\\"scale\\\":xe(this.data,1),this.obj=new THREE.Vector3(this.data[0],this.data[1],this.data[2]);break;default:console.log(\\\"Can not convert Transform of type \\\"+this.type)}},M.prototype.apply=function(){var e=new THREE.Matrix4;return function(t){switch(this.type){case\\\"matrix\\\":t.multiply(this.obj);break;case\\\"translate\\\":t.multiply(e.makeTranslation(this.obj.x,this.obj.y,this.obj.z));break;case\\\"rotate\\\":t.multiply(e.makeRotationAxis(this.obj,this.angle));break;case\\\"scale\\\":t.scale(this.obj)}}}(),M.prototype.update=function(e,t){var i=[\\\"X\\\",\\\"Y\\\",\\\"Z\\\",\\\"ANGLE\\\"];switch(this.type){case\\\"matrix\\\":if(t)if(1===t.length)switch(t[0]){case 0:this.obj.n11=e[0],this.obj.n21=e[1],this.obj.n31=e[2],this.obj.n41=e[3];break;case 1:this.obj.n12=e[0],this.obj.n22=e[1],this.obj.n32=e[2],this.obj.n42=e[3];break;case 2:this.obj.n13=e[0],this.obj.n23=e[1],this.obj.n33=e[2],this.obj.n43=e[3];break;case 3:this.obj.n14=e[0],this.obj.n24=e[1],this.obj.n34=e[2],this.obj.n44=e[3]}else if(2===t.length){var s=\\\"n\\\"+(t[0]+1)+(t[1]+1);this.obj[s]=e}else console.log(\\\"Incorrect addressing of matrix in transform.\\\");else this.obj.copy(e);break;case\\\"translate\\\":case\\\"scale\\\":switch(\\\"[object Array]\\\"===Object.prototype.toString.call(t)&&(t=i[t[0]]),t){case\\\"X\\\":this.obj.x=e;break;case\\\"Y\\\":this.obj.y=e;break;case\\\"Z\\\":this.obj.z=e;break;default:this.obj.x=e[0],this.obj.y=e[1],this.obj.z=e[2]}break;case\\\"rotate\\\":switch(\\\"[object Array]\\\"===Object.prototype.toString.call(t)&&(t=i[t[0]]),t){case\\\"X\\\":this.obj.x=e;break;case\\\"Y\\\":this.obj.y=e;break;case\\\"Z\\\":this.obj.z=e;break;case\\\"ANGLE\\\":this.angle=THREE.Math.degToRad(e);break;default:this.obj.x=e[0],this.obj.y=e[1],this.obj.z=e[2],this.angle=THREE.Math.degToRad(e[3])}}},O.prototype.parse=function(e){this.url=e.getAttribute(\\\"url\\\").replace(/^#/,\\\"\\\"),this.skeleton=[],this.instance_material=[];for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(1===i.nodeType)switch(i.nodeName){case\\\"skeleton\\\":this.skeleton.push(i.textContent.replace(/^#/,\\\"\\\"));break;case\\\"bind_material\\\":for(var s=i.querySelectorAll(\\\"instance_material\\\"),r=0;r<s.length;r++){var a=s[r];this.instance_material.push((new S).parse(a))}break;case\\\"extra\\\":}}return this},S.prototype.parse=function(e){return this.symbol=e.getAttribute(\\\"symbol\\\"),this.target=e.getAttribute(\\\"target\\\").replace(/^#/,\\\"\\\"),this},I.prototype.parse=function(e){this.url=e.getAttribute(\\\"url\\\").replace(/^#/,\\\"\\\"),this.instance_material=[];for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(1==i.nodeType&&\\\"bind_material\\\"===i.nodeName){for(var s=i.querySelectorAll(\\\"instance_material\\\"),r=0;r<s.length;r++){var a=s[r];this.instance_material.push((new S).parse(a))}break}}return this},q.prototype.parse=function(e){this.id=e.getAttribute(\\\"id\\\"),be(this,e);for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];switch(i.nodeName){case\\\"mesh\\\":this.mesh=new V(this).parse(i);break;case\\\"extra\\\":}}return this},V.prototype.parse=function(e){this.primitives=[];for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];switch(i.nodeName){case\\\"source\\\":de(i);break;case\\\"vertices\\\":this.vertices=(new F).parse(i);break;case\\\"linestrips\\\":this.primitives.push((new Y).parse(i));break;case\\\"triangles\\\":this.primitives.push((new Z).parse(i));break;case\\\"polygons\\\":this.primitives.push((new X).parse(i));break;case\\\"polylist\\\":this.primitives.push((new L).parse(i))}}if(this.geometry3js=new THREE.Geometry,null===this.vertices)return this;for(var s=Le[this.vertices.input.POSITION.source].data,t=0;t<s.length;t+=3)this.geometry3js.vertices.push(ke(s,t).clone());for(var t=0;t<this.primitives.length;t++){var r=this.primitives[t];r.setVertices(this.vertices),this.handlePrimitive(r,this.geometry3js)}return this.geometry3js.calcNormals&&(this.geometry3js.computeVertexNormals(),delete this.geometry3js.calcNormals),this},V.prototype.handlePrimitive=function(e,t){if(e instanceof Y)return void(t.isLineStrip=!0);var i,s,r,a,n,o,h,l=e.p,c=e.inputs,d=0,p=3,u=0,f=[];for(i=0;i<c.length;i++){r=c[i];var m=r.offset+1;switch(u=u<m?m:u,r.semantic){case\\\"TEXCOORD\\\":f.push(r.set)}}for(var g=0;g<l.length;++g)for(var v=l[g],y=0;y<v.length;){var b=[],w=[],x=null,N=[];for(p=e.vcount?e.vcount.length?e.vcount[d++]:e.vcount:v.length/u,i=0;i<p;i++)for(s=0;s<c.length;s++)switch(r=c[s],o=Le[r.source],a=v[y+i*u+r.offset],h=o.accessor.params.length,n=a*h,r.semantic){case\\\"VERTEX\\\":b.push(a);break;case\\\"NORMAL\\\":w.push(ke(o.data,n));break;case\\\"TEXCOORD\\\":x=x||{},void 0===x[r.set]&&(x[r.set]=[]),x[r.set].push(new THREE.Vector2(o.data[n],o.data[n+1]));break;case\\\"COLOR\\\":N.push((new THREE.Color).setRGB(o.data[n],o.data[n+1],o.data[n+2]))}if(0===w.length)if(r=this.vertices.input.NORMAL){o=Le[r.source],h=o.accessor.params.length;for(var k=0,T=b.length;k<T;k++)w.push(ke(o.data,b[k]*h))}else t.calcNormals=!0;if(!x&&(x={},r=this.vertices.input.TEXCOORD)){f.push(r.set),o=Le[r.source],h=o.accessor.params.length;for(var k=0,T=b.length;k<T;k++)n=b[k]*h,void 0===x[r.set]&&(x[r.set]=[]),x[r.set].push(new THREE.Vector2(o.data[n],1-o.data[n+1]))}if(0===N.length&&(r=this.vertices.input.COLOR)){o=Le[r.source],h=o.accessor.params.length;for(var k=0,T=b.length;k<T;k++)n=b[k]*h,N.push((new THREE.Color).setRGB(o.data[n],o.data[n+1],o.data[n+2]))}var E,R,_=null,A=[];if(3===p)A.push(new THREE.Face3(b[0],b[1],b[2],w,N.length?N:new THREE.Color));else if(4===p)A.push(new THREE.Face3(b[0],b[1],b[3],w.length?[w[0].clone(),w[1].clone(),w[3].clone()]:[],N.length?[N[0],N[1],N[3]]:new THREE.Color)),A.push(new THREE.Face3(b[1],b[2],b[3],w.length?[w[1].clone(),w[2].clone(),w[3].clone()]:[],N.length?[N[1],N[2],N[3]]:new THREE.Color));else if(p>4&&Je.subdivideFaces){var C=N.length?N:new THREE.Color;for(s=1;s<p-1;)A.push(new THREE.Face3(b[0],b[s],b[s+1],w.length?[w[0].clone(),w[s++].clone(),w[s].clone()]:[],C))}if(A.length)for(var k=0,T=A.length;k<T;k++)for(_=A[k],_.daeMaterial=e.material,t.faces.push(_),s=0;s<f.length;s++)E=x[f[s]],R=p>4?[E[0],E[k+1],E[k+2]]:4===p?0===k?[E[0],E[1],E[3]]:[E[1].clone(),E[2],E[3].clone()]:[E[0],E[1],E[2]],void 0===t.faceVertexUvs[s]&&(t.faceVertexUvs[s]=[]),t.faceVertexUvs[s].push(R);else console.log(\\\"dropped face with vcount \\\"+p+\\\" for geometry with id: \\\"+t.id);y+=u*p}},X.prototype.setVertices=function(e){for(var t=0;t<this.inputs.length;t++)this.inputs[t].source===e.id&&(this.inputs[t].source=e.input.POSITION.source)},X.prototype.parse=function(e){this.material=e.getAttribute(\\\"material\\\"),this.count=ve(e,\\\"count\\\",0);for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];switch(i.nodeName){case\\\"input\\\":this.inputs.push((new B).parse(e.childNodes[t]));break;case\\\"vcount\\\":\\nthis.vcount=fe(i.textContent);break;case\\\"p\\\":this.p.push(fe(i.textContent));break;case\\\"ph\\\":console.warn(\\\"polygon holes not yet supported!\\\")}}return this},L.prototype=Object.create(X.prototype),L.prototype.constructor=L,Y.prototype=Object.create(X.prototype),Y.prototype.constructor=Y,Z.prototype=Object.create(X.prototype),Z.prototype.constructor=Z,z.prototype.parse=function(e){this.params=[],this.source=e.getAttribute(\\\"source\\\"),this.count=ve(e,\\\"count\\\",0),this.stride=ve(e,\\\"stride\\\",0);for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(\\\"param\\\"===i.nodeName){var s={};s.name=i.getAttribute(\\\"name\\\"),s.type=i.getAttribute(\\\"type\\\"),this.params.push(s)}}return this},F.prototype.parse=function(e){this.id=e.getAttribute(\\\"id\\\");for(var t=0;t<e.childNodes.length;t++)if(\\\"input\\\"===e.childNodes[t].nodeName){var i=(new B).parse(e.childNodes[t]);this.input[i.semantic]=i}return this},B.prototype.parse=function(e){return this.semantic=e.getAttribute(\\\"semantic\\\"),this.source=e.getAttribute(\\\"source\\\").replace(/^#/,\\\"\\\"),this.set=ve(e,\\\"set\\\",-1),this.offset=ve(e,\\\"offset\\\",0),\\\"TEXCOORD\\\"===this.semantic&&this.set<0&&(this.set=0),this},D.prototype.parse=function(e){this.id=e.getAttribute(\\\"id\\\");for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];switch(i.nodeName){case\\\"bool_array\\\":this.data=pe(i.textContent),this.type=i.nodeName;break;case\\\"float_array\\\":this.data=ue(i.textContent),this.type=i.nodeName;break;case\\\"int_array\\\":this.data=fe(i.textContent),this.type=i.nodeName;break;case\\\"IDREF_array\\\":case\\\"Name_array\\\":this.data=me(i.textContent),this.type=i.nodeName;break;case\\\"technique_common\\\":for(var s=0;s<i.childNodes.length;s++)if(\\\"accessor\\\"===i.childNodes[s].nodeName){this.accessor=(new z).parse(i.childNodes[s]);break}}}return this},D.prototype.read=function(){var e=[],t=this.accessor.params[0];switch(t.type){case\\\"IDREF\\\":case\\\"Name\\\":case\\\"name\\\":case\\\"float\\\":return this.data;case\\\"float4x4\\\":for(var i=0;i<this.data.length;i+=16){var s=this.data.slice(i,i+16),r=Te(s);e.push(r)}break;default:console.log(\\\"ColladaLoader: Source: Read dont know how to read \\\"+t.type+\\\".\\\")}return e},U.prototype.parse=function(e){this.id=e.getAttribute(\\\"id\\\"),this.name=e.getAttribute(\\\"name\\\");for(var t=0;t<e.childNodes.length;t++)if(\\\"instance_effect\\\"===e.childNodes[t].nodeName){this.instance_effect=(new $).parse(e.childNodes[t]);break}return this},P.prototype.isColor=function(){return null===this.texture},P.prototype.isTexture=function(){return null!=this.texture},P.prototype.parse=function(e){\\\"transparent\\\"===e.nodeName&&(this.opaque=e.getAttribute(\\\"opaque\\\"));for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(1==i.nodeType)switch(i.nodeName){case\\\"color\\\":var s=ue(i.textContent);this.color=new THREE.Color,this.color.setRGB(s[0],s[1],s[2]),this.color.a=s[3];break;case\\\"texture\\\":this.texture=i.getAttribute(\\\"texture\\\"),this.texcoord=i.getAttribute(\\\"texcoord\\\"),this.texOpts={offsetU:0,offsetV:0,repeatU:1,repeatV:1,wrapU:1,wrapV:1},this.parseTexture(i)}}return this},P.prototype.parseTexture=function(e){if(!e.childNodes)return this;e.childNodes[1]&&\\\"extra\\\"===e.childNodes[1].nodeName&&(e=e.childNodes[1],e.childNodes[1]&&\\\"technique\\\"===e.childNodes[1].nodeName&&(e=e.childNodes[1]));for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];switch(i.nodeName){case\\\"offsetU\\\":case\\\"offsetV\\\":case\\\"repeatU\\\":case\\\"repeatV\\\":this.texOpts[i.nodeName]=parseFloat(i.textContent);break;case\\\"wrapU\\\":case\\\"wrapV\\\":\\\"TRUE\\\"===i.textContent.toUpperCase()?this.texOpts[i.nodeName]=1:this.texOpts[i.nodeName]=parseInt(i.textContent);break;default:this.texOpts[i.nodeName]=i.textContent}}return this},G.prototype.parse=function(e){for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(1==i.nodeType)switch(i.nodeName){case\\\"emission\\\":case\\\"diffuse\\\":case\\\"specular\\\":case\\\"transparent\\\":this[i.nodeName]=(new P).parse(i);break;case\\\"bump\\\":var s=i.getAttribute(\\\"bumptype\\\");s?\\\"heightfield\\\"===s.toLowerCase()?this.bump=(new P).parse(i):\\\"normalmap\\\"===s.toLowerCase()?this.normal=(new P).parse(i):(console.error(\\\"Shader.prototype.parse: Invalid value for attribute 'bumptype' (\\\"+s+\\\") - valid bumptypes are 'HEIGHTFIELD' and 'NORMALMAP' - defaulting to 'HEIGHTFIELD'\\\"),this.bump=(new P).parse(i)):(console.warn(\\\"Shader.prototype.parse: Attribute 'bumptype' missing from bump node - defaulting to 'HEIGHTFIELD'\\\"),this.bump=(new P).parse(i));break;case\\\"shininess\\\":case\\\"reflectivity\\\":case\\\"index_of_refraction\\\":case\\\"transparency\\\":var r=i.querySelectorAll(\\\"float\\\");r.length>0&&(this[i.nodeName]=parseFloat(r[0].textContent))}}return this.create(),this},G.prototype.create=function(){var e={},t=!1;if(void 0!==this.transparency&&void 0!==this.transparent){var i=(this.transparent,(this.transparent.color.r+this.transparent.color.g+this.transparent.color.b)/3*this.transparency);i>0&&(t=!0,e.transparent=!0,e.opacity=1-i)}var s={diffuse:\\\"map\\\",ambient:\\\"lightMap\\\",specular:\\\"specularMap\\\",emission:\\\"emissionMap\\\",bump:\\\"bumpMap\\\",normal:\\\"normalMap\\\"};for(var r in this)switch(r){case\\\"ambient\\\":case\\\"emission\\\":case\\\"diffuse\\\":case\\\"specular\\\":case\\\"bump\\\":case\\\"normal\\\":var a=this[r];if(a instanceof P)if(a.isTexture()){var n=a.texture,o=this.effect.sampler[n];if(void 0!==o&&void 0!==o.source){var h=this.effect.surface[o.source];if(void 0!==h){var l=Ye[h.init_from];if(l){var c,d=Oe+l.init_from,p=THREE.Loader.Handlers.get(d);null!==p?c=p.load(d):(c=new THREE.Texture,ye(c,d)),c.wrapS=a.texOpts.wrapU?THREE.RepeatWrapping:THREE.ClampToEdgeWrapping,c.wrapT=a.texOpts.wrapV?THREE.RepeatWrapping:THREE.ClampToEdgeWrapping,c.offset.x=a.texOpts.offsetU,c.offset.y=a.texOpts.offsetV,c.repeat.x=a.texOpts.repeatU,c.repeat.y=a.texOpts.repeatV,e[s[r]]=c,\\\"emission\\\"===r&&(e.emissive=16777215)}}}}else\\\"diffuse\\\"!==r&&t||(\\\"emission\\\"===r?e.emissive=a.color.getHex():e[r]=a.color.getHex());break;case\\\"shininess\\\":e[r]=this[r];break;case\\\"reflectivity\\\":e[r]=this[r],e[r]>0&&(e.envMap=Je.defaultEnvMap),e.combine=THREE.MixOperation;break;case\\\"index_of_refraction\\\":e.refractionRatio=this[r],1!==this[r]&&(e.envMap=Je.defaultEnvMap);break;case\\\"transparency\\\":}switch(e.shading=Ge,e.side=this.effect.doubleSided?THREE.DoubleSide:THREE.FrontSide,void 0!==e.diffuse&&(e.color=e.diffuse,delete e.diffuse),this.type){case\\\"constant\\\":void 0!=e.emissive&&(e.color=e.emissive),this.material=new THREE.MeshBasicMaterial(e);break;case\\\"phong\\\":case\\\"blinn\\\":this.material=new THREE.MeshPhongMaterial(e);break;case\\\"lambert\\\":default:this.material=new THREE.MeshLambertMaterial(e)}return this.material},J.prototype.parse=function(e){for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(1==i.nodeType)switch(i.nodeName){case\\\"init_from\\\":this.init_from=i.textContent;break;case\\\"format\\\":this.format=i.textContent;break;default:console.log(\\\"unhandled Surface prop: \\\"+i.nodeName)}}return this},W.prototype.parse=function(e){for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(1==i.nodeType)switch(i.nodeName){case\\\"source\\\":this.source=i.textContent;break;case\\\"minfilter\\\":this.minfilter=i.textContent;break;case\\\"magfilter\\\":this.magfilter=i.textContent;break;case\\\"mipfilter\\\":this.mipfilter=i.textContent;break;case\\\"wrap_s\\\":this.wrap_s=i.textContent;break;case\\\"wrap_t\\\":this.wrap_t=i.textContent;break;default:console.log(\\\"unhandled Sampler2D prop: \\\"+i.nodeName)}}return this},Q.prototype.create=function(){if(null===this.shader)return null},Q.prototype.parse=function(e){this.id=e.getAttribute(\\\"id\\\"),this.name=e.getAttribute(\\\"name\\\"),be(this,e),this.shader=null;for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(1==i.nodeType)switch(i.nodeName){case\\\"profile_COMMON\\\":this.parseTechnique(this.parseProfileCOMMON(i))}}return this},Q.prototype.parseNewparam=function(e){for(var t=e.getAttribute(\\\"sid\\\"),i=0;i<e.childNodes.length;i++){var s=e.childNodes[i];if(1==s.nodeType)switch(s.nodeName){case\\\"surface\\\":this.surface[t]=new J(this).parse(s);break;case\\\"sampler2D\\\":this.sampler[t]=new W(this).parse(s);break;case\\\"extra\\\":break;default:console.log(s.nodeName)}}},Q.prototype.parseProfileCOMMON=function(e){for(var t,i=0;i<e.childNodes.length;i++){var s=e.childNodes[i];if(1==s.nodeType)switch(s.nodeName){case\\\"profile_COMMON\\\":this.parseProfileCOMMON(s);break;case\\\"technique\\\":t=s;break;case\\\"newparam\\\":this.parseNewparam(s);break;case\\\"image\\\":var r=(new R).parse(s);Ye[r.id]=r;break;case\\\"extra\\\":break;default:console.log(s.nodeName)}}return t},Q.prototype.parseTechnique=function(e){for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(1==i.nodeType)switch(i.nodeName){case\\\"constant\\\":case\\\"lambert\\\":case\\\"blinn\\\":case\\\"phong\\\":this.shader=new G(i.nodeName,this).parse(i);break;case\\\"extra\\\":this.parseExtra(i)}}},Q.prototype.parseExtra=function(e){for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(1==i.nodeType)switch(i.nodeName){case\\\"technique\\\":this.parseExtraTechnique(i)}}},Q.prototype.parseExtraTechnique=function(e){for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(1==i.nodeType)switch(i.nodeName){case\\\"bump\\\":this.shader.parse(e)}}},$.prototype.parse=function(e){return this.url=e.getAttribute(\\\"url\\\").replace(/^#/,\\\"\\\"),this},K.prototype.parse=function(e){this.id=e.getAttribute(\\\"id\\\"),this.name=e.getAttribute(\\\"name\\\"),this.source={};for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(1==i.nodeType)switch(i.nodeName){case\\\"animation\\\":var s=(new K).parse(i);for(var r in s.source)this.source[r]=s.source[r];for(var a=0;a<s.channel.length;a++)this.channel.push(s.channel[a]),this.sampler.push(s.sampler[a]);break;case\\\"source\\\":var r=(new D).parse(i);this.source[r.id]=r;break;case\\\"sampler\\\":this.sampler.push(new te(this).parse(i));break;case\\\"channel\\\":this.channel.push(new ee(this).parse(i))}}return this},ee.prototype.parse=function(e){this.source=e.getAttribute(\\\"source\\\").replace(/^#/,\\\"\\\"),this.target=e.getAttribute(\\\"target\\\");var t=this.target.split(\\\"/\\\"),i=(t.shift(),t.shift()),s=i.indexOf(\\\".\\\")>=0,r=i.indexOf(\\\"(\\\")>=0;if(s)t=i.split(\\\".\\\"),this.sid=t.shift(),this.member=t.shift();else if(r){var a=i.split(\\\"(\\\");this.sid=a.shift();for(var n=0;n<a.length;n++)a[n]=parseInt(a[n].replace(/\\\\)/,\\\"\\\"));this.arrIndices=a}else this.sid=i;return this.fullSid=i,this.dotSyntax=s,this.arrSyntax=r,this},te.prototype.parse=function(e){this.id=e.getAttribute(\\\"id\\\"),this.inputs=[];for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(1==i.nodeType)switch(i.nodeName){case\\\"input\\\":this.inputs.push((new B).parse(i))}}return this},te.prototype.create=function(){for(var e=0;e<this.inputs.length;e++){var t=this.inputs[e],i=this.animation.source[t.source];switch(t.semantic){case\\\"INPUT\\\":this.input=i.read();break;case\\\"OUTPUT\\\":this.output=i.read(),this.strideOut=i.accessor.stride;break;case\\\"INTERPOLATION\\\":this.interpolation=i.read();break;case\\\"IN_TANGENT\\\":break;case\\\"OUT_TANGENT\\\":break;default:console.log(t.semantic)}}if(this.startTime=0,this.endTime=0,this.duration=0,this.input.length){this.startTime=1e8,this.endTime=-1e8;for(var e=0;e<this.input.length;e++)this.startTime=Math.min(this.startTime,this.input[e]),this.endTime=Math.max(this.endTime,this.input[e]);this.duration=this.endTime-this.startTime}},te.prototype.getData=function(e,t,i){var s;if(\\\"matrix\\\"===e&&16===this.strideOut)s=this.output[t];else if(this.strideOut>1){s=[],t*=this.strideOut;for(var r=0;r<this.strideOut;++r)s[r]=this.output[t+r];if(3===this.strideOut)switch(e){case\\\"rotate\\\":case\\\"translate\\\":xe(s,-1);break;case\\\"scale\\\":xe(s,1)}else 4===this.strideOut&&\\\"matrix\\\"===e&&xe(s,-1)}else s=this.output[t],i&&\\\"translate\\\"===e&&(s=Ne(i,s));return s},ie.prototype.addTarget=function(e,t,i,s){this.targets.push({sid:e,member:i,transform:t,data:s})},ie.prototype.apply=function(e){for(var t=0;t<this.targets.length;++t){var i=this.targets[t];e&&i.sid!==e||i.transform.update(i.data,i.member)}},ie.prototype.getTarget=function(e){for(var t=0;t<this.targets.length;++t)if(this.targets[t].sid===e)return this.targets[t];return null},ie.prototype.hasTarget=function(e){for(var t=0;t<this.targets.length;++t)if(this.targets[t].sid===e)return!0;return!1},ie.prototype.interpolate=function(e,t){for(var i=0,s=this.targets.length;i<s;i++){var r,a=this.targets[i],n=e.getTarget(a.sid);if(\\\"matrix\\\"!==a.transform.type&&n){var o=(t-this.time)/(e.time-this.time),h=n.data,l=a.data;if(o<0&&(o=0),o>1&&(o=1),l.length){r=[];for(var c=0;c<l.length;++c)r[c]=l[c]+(h[c]-l[c])*o}else r=l+(h-l)*o}else r=a.data;a.transform.update(r,a.member)}},se.prototype.parse=function(e){this.id=e.getAttribute(\\\"id\\\"),this.name=e.getAttribute(\\\"name\\\");for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(1==i.nodeType)switch(i.nodeName){case\\\"optics\\\":this.parseOptics(i)}}return this},se.prototype.parseOptics=function(e){for(var t=0;t<e.childNodes.length;t++)if(\\\"technique_common\\\"===e.childNodes[t].nodeName)for(var i=e.childNodes[t],s=0;s<i.childNodes.length;s++)if(this.technique=i.childNodes[s].nodeName,\\\"perspective\\\"===this.technique)for(var r=i.childNodes[s],a=0;a<r.childNodes.length;a++){var n=r.childNodes[a];switch(n.nodeName){case\\\"yfov\\\":this.yfov=n.textContent;break;case\\\"xfov\\\":this.xfov=n.textContent;break;case\\\"znear\\\":this.znear=n.textContent;break;case\\\"zfar\\\":this.zfar=n.textContent;break;case\\\"aspect_ratio\\\":this.aspect_ratio=n.textContent}}else if(\\\"orthographic\\\"===this.technique)for(var o=i.childNodes[s],a=0;a<o.childNodes.length;a++){var n=o.childNodes[a];switch(n.nodeName){case\\\"xmag\\\":this.xmag=n.textContent;break;case\\\"ymag\\\":this.ymag=n.textContent;break;case\\\"znear\\\":this.znear=n.textContent;break;case\\\"zfar\\\":this.zfar=n.textContent;break;case\\\"aspect_ratio\\\":this.aspect_ratio=n.textContent}}return this},re.prototype.parse=function(e){return this.url=e.getAttribute(\\\"url\\\").replace(/^#/,\\\"\\\"),this},ae.prototype.parse=function(e){this.id=e.getAttribute(\\\"id\\\"),this.name=e.getAttribute(\\\"name\\\");for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(1==i.nodeType)switch(i.nodeName){case\\\"technique_common\\\":this.parseCommon(i);break;case\\\"technique\\\":this.parseTechnique(i)}}return this},ae.prototype.parseCommon=function(e){for(var t=0;t<e.childNodes.length;t++)switch(e.childNodes[t].nodeName){case\\\"directional\\\":case\\\"point\\\":case\\\"spot\\\":case\\\"ambient\\\":this.technique=e.childNodes[t].nodeName;for(var i=e.childNodes[t],s=0;s<i.childNodes.length;s++){var r=i.childNodes[s];switch(r.nodeName){case\\\"color\\\":var a=ue(r.textContent);this.color=new THREE.Color(0),this.color.setRGB(a[0],a[1],a[2]),this.color.a=a[3];break;case\\\"falloff_angle\\\":this.falloff_angle=parseFloat(r.textContent);break;case\\\"quadratic_attenuation\\\":var n=parseFloat(r.textContent);this.distance=n?Math.sqrt(1/n):0}}}return this},ae.prototype.parseTechnique=function(e){this.profile=e.getAttribute(\\\"profile\\\");for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];switch(i.nodeName){case\\\"intensity\\\":this.intensity=parseFloat(i.textContent)}}return this},ne.prototype.parse=function(e){return this.url=e.getAttribute(\\\"url\\\").replace(/^#/,\\\"\\\"),this},oe.prototype.parse=function(e){this.id=e.getAttribute(\\\"id\\\"),this.name=e.getAttribute(\\\"name\\\"),this.joints=[],this.links=[];for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(1==i.nodeType)switch(i.nodeName){case\\\"technique_common\\\":this.parseCommon(i)}}return this},oe.prototype.parseCommon=function(e){for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(1==i.nodeType)switch(e.childNodes[t].nodeName){case\\\"joint\\\":this.joints.push((new he).parse(i));break;case\\\"link\\\":this.links.push((new le).parse(i))}}return this},he.prototype.parse=function(e){this.sid=e.getAttribute(\\\"sid\\\"),this.name=e.getAttribute(\\\"name\\\"),this.axis=new THREE.Vector3,this.limits={min:0,max:0},this.type=\\\"\\\",this.static=!1,this.zeroPosition=0,this.middlePosition=0;var t=e.querySelector(\\\"axis\\\"),i=ue(t.textContent);this.axis=ke(i,0);var s=e.querySelector(\\\"limits min\\\")?parseFloat(e.querySelector(\\\"limits min\\\").textContent):-360,r=e.querySelector(\\\"limits max\\\")?parseFloat(e.querySelector(\\\"limits max\\\").textContent):360;this.limits={min:s,max:r};for(var a=[\\\"prismatic\\\",\\\"revolute\\\"],n=0;n<a.length;n++){var o=a[n],h=e.querySelector(o);h&&(this.type=o)}return this.limits.min>=this.limits.max&&(this.static=!0),this.middlePosition=(this.limits.min+this.limits.max)/2,this},le.prototype.parse=function(e){this.sid=e.getAttribute(\\\"sid\\\"),this.name=e.getAttribute(\\\"name\\\"),this.transforms=[],this.attachments=[];for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(1==i.nodeType)switch(i.nodeName){case\\\"attachment_full\\\":this.attachments.push((new ce).parse(i));break;case\\\"rotate\\\":case\\\"translate\\\":case\\\"matrix\\\":this.transforms.push((new M).parse(i))}}return this},ce.prototype.parse=function(e){this.joint=e.getAttribute(\\\"joint\\\").split(\\\"/\\\").pop(),this.links=[];for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(1==i.nodeType)switch(i.nodeName){case\\\"link\\\":this.links.push((new le).parse(i));break;case\\\"rotate\\\":case\\\"translate\\\":case\\\"matrix\\\":this.transforms.push((new M).parse(i))}}return this},{load:e,parse:t,setPreferredShading:i,applySkin:m,geometries:Fe,options:Je}};\\n},{}],16:[function(_dereq_,module,exports){\\nTHREE.MTLLoader=function(t){this.manager=void 0!==t?t:THREE.DefaultLoadingManager},Object.assign(THREE.MTLLoader.prototype,THREE.EventDispatcher.prototype,{load:function(t,a,e,r){var s=this,i=new THREE.XHRLoader(this.manager);i.setPath(this.path),i.load(t,function(t){a(s.parse(t))},e,r)},setPath:function(t){this.path=t},setTexturePath:function(t){this.texturePath=t},setBaseUrl:function(t){console.warn(\\\"THREE.MTLLoader: .setBaseUrl() is deprecated. Use .setTexturePath( path ) for texture path or .setPath( path ) for general base path instead.\\\"),this.setTexturePath(t)},setCrossOrigin:function(t){this.crossOrigin=t},setMaterialOptions:function(t){this.materialOptions=t},parse:function(t){for(var a=t.split(\\\"\\\\n\\\"),e={},r=/\\\\s+/,s={},i=0;i<a.length;i++){var o=a[i];if(o=o.trim(),0!==o.length&&\\\"#\\\"!==o.charAt(0)){var n=o.indexOf(\\\" \\\"),p=n>=0?o.substring(0,n):o;p=p.toLowerCase();var h=n>=0?o.substring(n+1):\\\"\\\";if(h=h.trim(),\\\"newmtl\\\"===p)e={name:h},s[h]=e;else if(e)if(\\\"ka\\\"===p||\\\"kd\\\"===p||\\\"ks\\\"===p){var l=h.split(r,3);e[p]=[parseFloat(l[0]),parseFloat(l[1]),parseFloat(l[2])]}else e[p]=h}}var c=new THREE.MTLLoader.MaterialCreator(this.texturePath||this.path,this.materialOptions);return c.setCrossOrigin(this.crossOrigin),c.setManager(this.manager),c.setMaterials(s),c}}),THREE.MTLLoader.MaterialCreator=function(t,a){this.baseUrl=t||\\\"\\\",this.options=a,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.side=this.options&&this.options.side?this.options.side:THREE.FrontSide,this.wrap=this.options&&this.options.wrap?this.options.wrap:THREE.RepeatWrapping},THREE.MTLLoader.MaterialCreator.prototype={constructor:THREE.MTLLoader.MaterialCreator,setCrossOrigin:function(t){this.crossOrigin=t},setManager:function(t){this.manager=t},setMaterials:function(t){this.materialsInfo=this.convert(t),this.materials={},this.materialsArray=[],this.nameLookup={}},convert:function(t){if(!this.options)return t;var a={};for(var e in t){var r=t[e],s={};a[e]=s;for(var i in r){var o=!0,n=r[i],p=i.toLowerCase();switch(p){case\\\"kd\\\":case\\\"ka\\\":case\\\"ks\\\":this.options&&this.options.normalizeRGB&&(n=[n[0]/255,n[1]/255,n[2]/255]),this.options&&this.options.ignoreZeroRGBs&&0===n[0]&&0===n[1]&&0===n[2]&&(o=!1)}o&&(s[p]=n)}}return a},preload:function(){for(var t in this.materialsInfo)this.create(t)},getIndex:function(t){return this.nameLookup[t]},getAsArray:function(){var t=0;for(var a in this.materialsInfo)this.materialsArray[t]=this.create(a),this.nameLookup[a]=t,t++;return this.materialsArray},create:function(t){return void 0===this.materials[t]&&this.createMaterial_(t),this.materials[t]},createMaterial_:function(t){function a(t,a){if(!s[t]){var r=e.getTextureParams(a,s),o=e.loadTexture(i(e.baseUrl,r.url));o.repeat.copy(r.scale),o.offset.copy(r.offset),o.wrapS=e.wrap,o.wrapT=e.wrap,s[t]=o}}var e=this,r=this.materialsInfo[t],s={name:t,side:this.side},i=function(t,a){return\\\"string\\\"!=typeof a||\\\"\\\"===a?\\\"\\\":/^https?:\\\\/\\\\//i.test(a)?a:t+a};for(var o in r){var n=r[o];if(\\\"\\\"!==n)switch(o.toLowerCase()){case\\\"kd\\\":s.color=(new THREE.Color).fromArray(n);break;case\\\"ks\\\":s.specular=(new THREE.Color).fromArray(n);break;case\\\"map_kd\\\":a(\\\"map\\\",n);break;case\\\"map_ks\\\":a(\\\"specularMap\\\",n);break;case\\\"map_bump\\\":case\\\"bump\\\":a(\\\"bumpMap\\\",n);break;case\\\"ns\\\":s.shininess=parseFloat(n);break;case\\\"d\\\":n<1&&(s.opacity=n,s.transparent=!0);break;case\\\"Tr\\\":n>0&&(s.opacity=1-n,s.transparent=!0)}}return this.materials[t]=new THREE.MeshPhongMaterial(s),this.materials[t]},getTextureParams:function(t,a){var e,r={scale:new THREE.Vector2(1,1),offset:new THREE.Vector2(0,0)},s=t.split(/\\\\s+/);return e=s.indexOf(\\\"-bm\\\"),e>=0&&(a.bumpScale=parseFloat(s[e+1]),s.splice(e,2)),e=s.indexOf(\\\"-s\\\"),e>=0&&(r.scale.set(parseFloat(s[e+1]),parseFloat(s[e+2])),s.splice(e,4)),e=s.indexOf(\\\"-o\\\"),e>=0&&(r.offset.set(parseFloat(s[e+1]),parseFloat(s[e+2])),s.splice(e,4)),r.url=s.join(\\\" \\\").trim(),r},loadTexture:function(t,a,e,r,s){var i,o=THREE.Loader.Handlers.get(t),n=void 0!==this.manager?this.manager:THREE.DefaultLoadingManager;return null===o&&(o=new THREE.TextureLoader(n)),o.setCrossOrigin&&o.setCrossOrigin(this.crossOrigin),i=o.load(t,e,r,s),void 0!==a&&(i.mapping=a),i}};\\n},{}],17:[function(_dereq_,module,exports){\\nTHREE.OBJLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager,this.materials=null,this.regexp={vertex_pattern:/^v\\\\s+([\\\\d|\\\\.|\\\\+|\\\\-|e|E]+)\\\\s+([\\\\d|\\\\.|\\\\+|\\\\-|e|E]+)\\\\s+([\\\\d|\\\\.|\\\\+|\\\\-|e|E]+)/,normal_pattern:/^vn\\\\s+([\\\\d|\\\\.|\\\\+|\\\\-|e|E]+)\\\\s+([\\\\d|\\\\.|\\\\+|\\\\-|e|E]+)\\\\s+([\\\\d|\\\\.|\\\\+|\\\\-|e|E]+)/,uv_pattern:/^vt\\\\s+([\\\\d|\\\\.|\\\\+|\\\\-|e|E]+)\\\\s+([\\\\d|\\\\.|\\\\+|\\\\-|e|E]+)/,face_vertex:/^f\\\\s+(-?\\\\d+)\\\\s+(-?\\\\d+)\\\\s+(-?\\\\d+)(?:\\\\s+(-?\\\\d+))?/,face_vertex_uv:/^f\\\\s+(-?\\\\d+)\\\\/(-?\\\\d+)\\\\s+(-?\\\\d+)\\\\/(-?\\\\d+)\\\\s+(-?\\\\d+)\\\\/(-?\\\\d+)(?:\\\\s+(-?\\\\d+)\\\\/(-?\\\\d+))?/,face_vertex_uv_normal:/^f\\\\s+(-?\\\\d+)\\\\/(-?\\\\d+)\\\\/(-?\\\\d+)\\\\s+(-?\\\\d+)\\\\/(-?\\\\d+)\\\\/(-?\\\\d+)\\\\s+(-?\\\\d+)\\\\/(-?\\\\d+)\\\\/(-?\\\\d+)(?:\\\\s+(-?\\\\d+)\\\\/(-?\\\\d+)\\\\/(-?\\\\d+))?/,face_vertex_normal:/^f\\\\s+(-?\\\\d+)\\\\/\\\\/(-?\\\\d+)\\\\s+(-?\\\\d+)\\\\/\\\\/(-?\\\\d+)\\\\s+(-?\\\\d+)\\\\/\\\\/(-?\\\\d+)(?:\\\\s+(-?\\\\d+)\\\\/\\\\/(-?\\\\d+))?/,object_pattern:/^[og]\\\\s*(.+)?/,smoothing_pattern:/^s\\\\s+(\\\\d+|on|off)/,material_library_pattern:/^mtllib /,material_use_pattern:/^usemtl /}},THREE.OBJLoader.prototype={constructor:THREE.OBJLoader,load:function(e,t,r,a){var s=this,i=new THREE.XHRLoader(s.manager);i.setPath(this.path),i.load(e,function(e){t(s.parse(e))},r,a)},setPath:function(e){this.path=e},setMaterials:function(e){this.materials=e},_createParserState:function(){var e={objects:[],object:{},vertices:[],normals:[],uvs:[],materialLibraries:[],startObject:function(e,t){if(this.object&&this.object.fromDeclaration===!1)return this.object.name=e,void(this.object.fromDeclaration=t!==!1);var r=this.object&&\\\"function\\\"==typeof this.object.currentMaterial?this.object.currentMaterial():void 0;if(this.object&&\\\"function\\\"==typeof this.object._finalize&&this.object._finalize(!0),this.object={name:e||\\\"\\\",fromDeclaration:t!==!1,geometry:{vertices:[],normals:[],uvs:[]},materials:[],smooth:!0,startMaterial:function(e,t){var r=this._finalize(!1);r&&(r.inherited||r.groupCount<=0)&&this.materials.splice(r.index,1);var a={index:this.materials.length,name:e||\\\"\\\",mtllib:Array.isArray(t)&&t.length>0?t[t.length-1]:\\\"\\\",smooth:void 0!==r?r.smooth:this.smooth,groupStart:void 0!==r?r.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(e){var t={index:\\\"number\\\"==typeof e?e:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return t.clone=this.clone.bind(t),t}};return this.materials.push(a),a},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(e){var t=this.currentMaterial();if(t&&t.groupEnd===-1&&(t.groupEnd=this.geometry.vertices.length/3,t.groupCount=t.groupEnd-t.groupStart,t.inherited=!1),e&&this.materials.length>1)for(var r=this.materials.length-1;r>=0;r--)this.materials[r].groupCount<=0&&this.materials.splice(r,1);return e&&0===this.materials.length&&this.materials.push({name:\\\"\\\",smooth:this.smooth}),t}},r&&r.name&&\\\"function\\\"==typeof r.clone){var a=r.clone(0);a.inherited=!0,this.object.materials.push(a)}this.objects.push(this.object)},finalize:function(){this.object&&\\\"function\\\"==typeof this.object._finalize&&this.object._finalize(!0)},parseVertexIndex:function(e,t){var r=parseInt(e,10);return 3*(r>=0?r-1:r+t/3)},parseNormalIndex:function(e,t){var r=parseInt(e,10);return 3*(r>=0?r-1:r+t/3)},parseUVIndex:function(e,t){var r=parseInt(e,10);return 2*(r>=0?r-1:r+t/2)},addVertex:function(e,t,r){var a=this.vertices,s=this.object.geometry.vertices;s.push(a[e+0]),s.push(a[e+1]),s.push(a[e+2]),s.push(a[t+0]),s.push(a[t+1]),s.push(a[t+2]),s.push(a[r+0]),s.push(a[r+1]),s.push(a[r+2])},addVertexLine:function(e){var t=this.vertices,r=this.object.geometry.vertices;r.push(t[e+0]),r.push(t[e+1]),r.push(t[e+2])},addNormal:function(e,t,r){var a=this.normals,s=this.object.geometry.normals;s.push(a[e+0]),s.push(a[e+1]),s.push(a[e+2]),s.push(a[t+0]),s.push(a[t+1]),s.push(a[t+2]),s.push(a[r+0]),s.push(a[r+1]),s.push(a[r+2])},addUV:function(e,t,r){var a=this.uvs,s=this.object.geometry.uvs;s.push(a[e+0]),s.push(a[e+1]),s.push(a[t+0]),s.push(a[t+1]),s.push(a[r+0]),s.push(a[r+1])},addUVLine:function(e){var t=this.uvs,r=this.object.geometry.uvs;r.push(t[e+0]),r.push(t[e+1])},addFace:function(e,t,r,a,s,i,n,o,h,l,d,u){var p,c=this.vertices.length,m=this.parseVertexIndex(e,c),f=this.parseVertexIndex(t,c),v=this.parseVertexIndex(r,c);if(void 0===a?this.addVertex(m,f,v):(p=this.parseVertexIndex(a,c),this.addVertex(m,f,p),this.addVertex(f,v,p)),void 0!==s){var g=this.uvs.length;m=this.parseUVIndex(s,g),f=this.parseUVIndex(i,g),v=this.parseUVIndex(n,g),void 0===a?this.addUV(m,f,v):(p=this.parseUVIndex(o,g),this.addUV(m,f,p),this.addUV(f,v,p))}if(void 0!==h){var x=this.normals.length;m=this.parseNormalIndex(h,x),f=h===l?m:this.parseNormalIndex(l,x),v=h===d?m:this.parseNormalIndex(d,x),void 0===a?this.addNormal(m,f,v):(p=this.parseNormalIndex(u,x),this.addNormal(m,f,p),this.addNormal(f,v,p))}},addLineGeometry:function(e,t){this.object.geometry.type=\\\"Line\\\";for(var r=this.vertices.length,a=this.uvs.length,s=0,i=e.length;s<i;s++)this.addVertexLine(this.parseVertexIndex(e[s],r));for(var n=0,i=t.length;n<i;n++)this.addUVLine(this.parseUVIndex(t[n],a))}};return e.startObject(\\\"\\\",!1),e},parse:function(e){console.time(\\\"OBJLoader\\\");var t=this._createParserState();e.indexOf(\\\"\\\\r\\\\n\\\")!==-1&&(e=e.replace(/\\\\r\\\\n/g,\\\"\\\\n\\\")),e.indexOf(\\\"\\\\\\\\\\\\n\\\")!==-1&&(e=e.replace(/\\\\\\\\\\\\n/g,\\\"\\\"));for(var r=e.split(\\\"\\\\n\\\"),a=\\\"\\\",s=\\\"\\\",i=\\\"\\\",n=0,o=[],h=\\\"function\\\"==typeof\\\"\\\".trimLeft,l=0,d=r.length;l<d;l++)if(a=r[l],a=h?a.trimLeft():a.trim(),n=a.length,0!==n&&(s=a.charAt(0),\\\"#\\\"!==s))if(\\\"v\\\"===s)if(i=a.charAt(1),\\\" \\\"===i&&null!==(o=this.regexp.vertex_pattern.exec(a)))t.vertices.push(parseFloat(o[1]),parseFloat(o[2]),parseFloat(o[3]));else if(\\\"n\\\"===i&&null!==(o=this.regexp.normal_pattern.exec(a)))t.normals.push(parseFloat(o[1]),parseFloat(o[2]),parseFloat(o[3]));else{if(\\\"t\\\"!==i||null===(o=this.regexp.uv_pattern.exec(a)))throw new Error(\\\"Unexpected vertex/normal/uv line: '\\\"+a+\\\"'\\\");t.uvs.push(parseFloat(o[1]),parseFloat(o[2]))}else if(\\\"f\\\"===s)if(null!==(o=this.regexp.face_vertex_uv_normal.exec(a)))t.addFace(o[1],o[4],o[7],o[10],o[2],o[5],o[8],o[11],o[3],o[6],o[9],o[12]);else if(null!==(o=this.regexp.face_vertex_uv.exec(a)))t.addFace(o[1],o[3],o[5],o[7],o[2],o[4],o[6],o[8]);else if(null!==(o=this.regexp.face_vertex_normal.exec(a)))t.addFace(o[1],o[3],o[5],o[7],void 0,void 0,void 0,void 0,o[2],o[4],o[6],o[8]);else{if(null===(o=this.regexp.face_vertex.exec(a)))throw new Error(\\\"Unexpected face line: '\\\"+a+\\\"'\\\");t.addFace(o[1],o[2],o[3],o[4])}else if(\\\"l\\\"===s){var u=a.substring(1).trim().split(\\\" \\\"),p=[],c=[];if(a.indexOf(\\\"/\\\")===-1)p=u;else for(var m=0,f=u.length;m<f;m++){var v=u[m].split(\\\"/\\\");\\\"\\\"!==v[0]&&p.push(v[0]),\\\"\\\"!==v[1]&&c.push(v[1])}t.addLineGeometry(p,c)}else if(null!==(o=this.regexp.object_pattern.exec(a))){var g=(\\\" \\\"+o[0].substr(1).trim()).substr(1);t.startObject(g)}else if(this.regexp.material_use_pattern.test(a))t.object.startMaterial(a.substring(7).trim(),t.materialLibraries);else if(this.regexp.material_library_pattern.test(a))t.materialLibraries.push(a.substring(7).trim());else{if(null===(o=this.regexp.smoothing_pattern.exec(a))){if(\\\"\\\\0\\\"===a)continue;throw new Error(\\\"Unexpected line: '\\\"+a+\\\"'\\\")}var x=o[1].trim().toLowerCase();t.object.smooth=\\\"1\\\"===x||\\\"on\\\"===x;var b=t.object.currentMaterial();b&&(b.smooth=t.object.smooth)}t.finalize();var E=new THREE.Group;E.materialLibraries=[].concat(t.materialLibraries);for(var l=0,d=t.objects.length;l<d;l++){var _=t.objects[l],j=_.geometry,y=_.materials,L=\\\"Line\\\"===j.type;if(0!==j.vertices.length){var V=new THREE.BufferGeometry;V.addAttribute(\\\"position\\\",new THREE.BufferAttribute(new Float32Array(j.vertices),3)),j.normals.length>0?V.addAttribute(\\\"normal\\\",new THREE.BufferAttribute(new Float32Array(j.normals),3)):V.computeVertexNormals(),j.uvs.length>0&&V.addAttribute(\\\"uv\\\",new THREE.BufferAttribute(new Float32Array(j.uvs),2));for(var w=[],H=0,R=y.length;H<R;H++){var T=y[H],b=void 0;if(null!==this.materials&&(b=this.materials.create(T.name),L&&b&&!(b instanceof THREE.LineBasicMaterial))){var I=new THREE.LineBasicMaterial;I.copy(b),b=I}b||(b=L?new THREE.LineBasicMaterial:new THREE.MeshPhongMaterial,b.name=T.name),b.shading=T.smooth?THREE.SmoothShading:THREE.FlatShading,w.push(b)}var M;if(w.length>1){for(var H=0,R=y.length;H<R;H++){var T=y[H];V.addGroup(T.groupStart,T.groupCount,H)}var F=new THREE.MultiMaterial(w);M=L?new THREE.LineSegments(V,F):new THREE.Mesh(V,F)}else M=L?new THREE.LineSegments(V,w[0]):new THREE.Mesh(V,w[0]);M.name=_.name,E.add(M)}}return console.timeEnd(\\\"OBJLoader\\\"),E}};\\n},{}],18:[function(_dereq_,module,exports){\\n!function(n){if(\\\"performance\\\"in n==!1&&(n.performance={}),Date.now=Date.now||function(){return(new Date).getTime()},\\\"now\\\"in n.performance==!1){var t=n.performance.timing&&n.performance.timing.navigationStart?performance.timing.navigationStart:Date.now();n.performance.now=function(){return Date.now()-t}}}(this);var TWEEN=TWEEN||function(){var n=[];return{REVISION:\\\"14\\\",getAll:function(){return n},removeAll:function(){n=[]},add:function(t){n.push(t)},remove:function(t){var r=n.indexOf(t);r!==-1&&n.splice(r,1)},update:function(t){if(0===n.length)return!1;var r=0;for(t=void 0!==t?t:window.performance.now();r<n.length;)n[r].update(t)?r++:n.splice(r,1);return!0}}}();TWEEN.Tween=function(n){var t=n,r={},i={},u={},e=1e3,o=0,a=!1,f=!1,c=!1,s=0,h=null,l=TWEEN.Easing.Linear.None,p=TWEEN.Interpolation.Linear,E=[],I=null,v=!1,M=null,m=null,w=null;for(var d in n)r[d]=parseFloat(n[d],10);this.to=function(n,t){return void 0!==t&&(e=t),i=n,this},this.start=function(n){TWEEN.add(this),f=!0,v=!1,h=void 0!==n?n:window.performance.now(),h+=s;for(var e in i){if(i[e]instanceof Array){if(0===i[e].length)continue;i[e]=[t[e]].concat(i[e])}r[e]=t[e],r[e]instanceof Array==!1&&(r[e]*=1),u[e]=r[e]||0}return this},this.stop=function(){return f?(TWEEN.remove(this),f=!1,null!==w&&w.call(t),this.stopChainedTweens(),this):this},this.stopChainedTweens=function(){for(var n=0,t=E.length;n<t;n++)E[n].stop()},this.delay=function(n){return s=n,this},this.repeat=function(n){return o=n,this},this.yoyo=function(n){return a=n,this},this.easing=function(n){return l=n,this},this.interpolation=function(n){return p=n,this},this.chain=function(){return E=arguments,this},this.onStart=function(n){return I=n,this},this.onUpdate=function(n){return M=n,this},this.onComplete=function(n){return m=n,this},this.onStop=function(n){return w=n,this},this.update=function(n){var f;if(n<h)return!0;v===!1&&(null!==I&&I.call(t),v=!0);var w=(n-h)/e;w=w>1?1:w;var d=l(w);for(f in i){var O=r[f]||0,T=i[f];T instanceof Array?t[f]=p(T,d):(\\\"string\\\"==typeof T&&(T=O+parseFloat(T,10)),\\\"number\\\"==typeof T&&(t[f]=O+(T-O)*d))}if(null!==M&&M.call(t,d),1==w){if(o>0){isFinite(o)&&o--;for(f in u){if(\\\"string\\\"==typeof i[f]&&(u[f]=u[f]+parseFloat(i[f],10)),a){var g=u[f];u[f]=i[f],i[f]=g}r[f]=u[f]}return a&&(c=!c),h=n+s,!0}null!==m&&m.call(t);for(var N=0,W=E.length;N<W;N++)E[N].start(n);return!1}return!0}},TWEEN.Easing={Linear:{None:function(n){return n}},Quadratic:{In:function(n){return n*n},Out:function(n){return n*(2-n)},InOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)}},Cubic:{In:function(n){return n*n*n},Out:function(n){return--n*n*n+1},InOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)}},Quartic:{In:function(n){return n*n*n*n},Out:function(n){return 1- --n*n*n*n},InOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)}},Quintic:{In:function(n){return n*n*n*n*n},Out:function(n){return--n*n*n*n*n+1},InOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)}},Sinusoidal:{In:function(n){return 1-Math.cos(n*Math.PI/2)},Out:function(n){return Math.sin(n*Math.PI/2)},InOut:function(n){return.5*(1-Math.cos(Math.PI*n))}},Exponential:{In:function(n){return 0===n?0:Math.pow(1024,n-1)},Out:function(n){return 1===n?1:1-Math.pow(2,-10*n)},InOut:function(n){return 0===n?0:1===n?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(-Math.pow(2,-10*(n-1))+2)}},Circular:{In:function(n){return 1-Math.sqrt(1-n*n)},Out:function(n){return Math.sqrt(1- --n*n)},InOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)}},Elastic:{In:function(n){var t,r=.1,i=.4;return 0===n?0:1===n?1:(!r||r<1?(r=1,t=i/4):t=i*Math.asin(1/r)/(2*Math.PI),-(r*Math.pow(2,10*(n-=1))*Math.sin((n-t)*(2*Math.PI)/i)))},Out:function(n){var t,r=.1,i=.4;return 0===n?0:1===n?1:(!r||r<1?(r=1,t=i/4):t=i*Math.asin(1/r)/(2*Math.PI),r*Math.pow(2,-10*n)*Math.sin((n-t)*(2*Math.PI)/i)+1)},InOut:function(n){var t,r=.1,i=.4;return 0===n?0:1===n?1:(!r||r<1?(r=1,t=i/4):t=i*Math.asin(1/r)/(2*Math.PI),(n*=2)<1?-.5*(r*Math.pow(2,10*(n-=1))*Math.sin((n-t)*(2*Math.PI)/i)):r*Math.pow(2,-10*(n-=1))*Math.sin((n-t)*(2*Math.PI)/i)*.5+1)}},Back:{In:function(n){var t=1.70158;return n*n*((t+1)*n-t)},Out:function(n){var t=1.70158;return--n*n*((t+1)*n+t)+1},InOut:function(n){var t=2.5949095;return(n*=2)<1?.5*(n*n*((t+1)*n-t)):.5*((n-=2)*n*((t+1)*n+t)+2)}},Bounce:{In:function(n){return 1-TWEEN.Easing.Bounce.Out(1-n)},Out:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},InOut:function(n){return n<.5?.5*TWEEN.Easing.Bounce.In(2*n):.5*TWEEN.Easing.Bounce.Out(2*n-1)+.5}}},TWEEN.Interpolation={Linear:function(n,t){var r=n.length-1,i=r*t,u=Math.floor(i),e=TWEEN.Interpolation.Utils.Linear;return t<0?e(n[0],n[1],i):t>1?e(n[r],n[r-1],r-i):e(n[u],n[u+1>r?r:u+1],i-u)},Bezier:function(n,t){var r,i=0,u=n.length-1,e=Math.pow,o=TWEEN.Interpolation.Utils.Bernstein;for(r=0;r<=u;r++)i+=e(1-t,u-r)*e(t,r)*n[r]*o(u,r);return i},CatmullRom:function(n,t){var r=n.length-1,i=r*t,u=Math.floor(i),e=TWEEN.Interpolation.Utils.CatmullRom;return n[0]===n[r]?(t<0&&(u=Math.floor(i=r*(1+t))),e(n[(u-1+r)%r],n[u],n[(u+1)%r],n[(u+2)%r],i-u)):t<0?n[0]-(e(n[0],n[0],n[1],n[1],-i)-n[0]):t>1?n[r]-(e(n[r],n[r],n[r-1],n[r-1],i-r)-n[r]):e(n[u?u-1:0],n[u],n[r<u+1?r:u+1],n[r<u+2?r:u+2],i-u)},Utils:{Linear:function(n,t,r){return(t-n)*r+n},Bernstein:function(n,t){var r=TWEEN.Interpolation.Utils.Factorial;return r(n)/r(t)/r(n-t)},Factorial:function(){var n=[1];return function(t){var r,i=1;if(n[t])return n[t];for(r=t;r>1;r--)i*=r;return n[t]=i}}(),CatmullRom:function(n,t,r,i,u){var e=.5*(r-n),o=.5*(i-t),a=u*u,f=u*a;return(2*t-2*r+e+o)*f+(-3*t+3*r-2*e-o)*a+e*u+t}}},function(n){\\\"function\\\"==typeof define&&define.amd?define([],function(){return TWEEN}):\\\"object\\\"==typeof exports?module.exports=TWEEN:n.TWEEN=TWEEN}(this);\\n},{}],19:[function(_dereq_,module,exports){\\n!function e(M,i,t){function A(r,N){if(!i[r]){if(!M[r]){var D=\\\"function\\\"==typeof _dereq_&&_dereq_;if(!N&&D)return D(r,!0);if(s)return s(r,!0);var n=new Error(\\\"Cannot find module '\\\"+r+\\\"'\\\");throw n.code=\\\"MODULE_NOT_FOUND\\\",n}var u=i[r]={exports:{}};M[r][0].call(u.exports,function(e){var i=M[r][1][e];return A(i?i:e)},u,u.exports,e,M,i,t)}return i[r].exports}for(var s=\\\"function\\\"==typeof _dereq_&&_dereq_,r=0;r<t.length;r++)A(t[r]);return A}({1:[function(e,M,i){\\\"use strict\\\";function t(e){if(null===e||void 0===e)throw new TypeError(\\\"Object.assign cannot be called with null or undefined\\\");return Object(e)}function A(){try{if(!Object.assign)return!1;var e=new String(\\\"abc\\\");if(e[5]=\\\"de\\\",\\\"5\\\"===Object.getOwnPropertyNames(e)[0])return!1;for(var M={},i=0;i<10;i++)M[\\\"_\\\"+String.fromCharCode(i)]=i;var t=Object.getOwnPropertyNames(M).map(function(e){return M[e]});if(\\\"0123456789\\\"!==t.join(\\\"\\\"))return!1;var A={};return\\\"abcdefghijklmnopqrst\\\".split(\\\"\\\").forEach(function(e){A[e]=e}),\\\"abcdefghijklmnopqrst\\\"===Object.keys(Object.assign({},A)).join(\\\"\\\")}catch(e){return!1}}var s=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;M.exports=A()?Object.assign:function(e,M){for(var i,A,N=t(e),D=1;D<arguments.length;D++){i=Object(arguments[D]);for(var n in i)s.call(i,n)&&(N[n]=i[n]);if(Object.getOwnPropertySymbols){A=Object.getOwnPropertySymbols(i);for(var u=0;u<A.length;u++)r.call(i,A[u])&&(N[A[u]]=i[A[u]])}}return N}},{}],2:[function(e,M,i){function t(){this.leftProjectionMatrix=new Float32Array(16),this.leftViewMatrix=new Float32Array(16),this.rightProjectionMatrix=new Float32Array(16),this.rightViewMatrix=new Float32Array(16),this.pose=null}function A(){this.isPolyfilled=!0,this.displayId=u++,this.displayName=\\\"webvr-polyfill displayName\\\",this.depthNear=.01,this.depthFar=1e4,this.isConnected=!0,this.isPresenting=!1,this.capabilities={hasPosition:!1,hasOrientation:!1,hasExternalDisplay:!1,canPresent:!1,maxLayers:1},this.stageParameters=null,this.waitingForPresent_=!1,this.layer_=null,this.fullscreenElement_=null,this.fullscreenWrapper_=null,this.fullscreenElementCachedStyle_=null,this.fullscreenEventTarget_=null,this.fullscreenChangeHandler_=null,this.fullscreenErrorHandler_=null,this.wakelock_=new n}function s(){this.isPolyfilled=!0,this.hardwareUnitId=\\\"webvr-polyfill hardwareUnitId\\\",this.deviceId=\\\"webvr-polyfill deviceId\\\",this.deviceName=\\\"webvr-polyfill deviceName\\\"}function r(){}function N(){}var D=e(\\\"./util.js\\\"),n=e(\\\"./wakelock.js\\\"),u=1e3,a=!1,o=[0,0,.5,1],g=[.5,0,.5,1];A.prototype.getFrameData=function(e){return D.frameDataFromPose(e,this.getPose(),this)},A.prototype.getPose=function(){return this.getImmediatePose()},A.prototype.requestAnimationFrame=function(e){return window.requestAnimationFrame(e)},A.prototype.cancelAnimationFrame=function(e){return window.cancelAnimationFrame(e)},A.prototype.wrapForFullscreen=function(e){function M(){if(A.fullscreenElement_){var e=[\\\"position: absolute\\\",\\\"top: 0\\\",\\\"left: 0\\\",\\\"width: \\\"+Math.max(screen.width,screen.height)+\\\"px\\\",\\\"height: \\\"+Math.min(screen.height,screen.width)+\\\"px\\\",\\\"border: 0\\\",\\\"margin: 0\\\",\\\"padding: 0\\\"];A.fullscreenElement_.setAttribute(\\\"style\\\",e.join(\\\"; \\\")+\\\";\\\")}}if(D.isIOS())return e;if(!this.fullscreenWrapper_){this.fullscreenWrapper_=document.createElement(\\\"div\\\");var i=[\\\"height: \\\"+Math.min(screen.height,screen.width)+\\\"px !important\\\",\\\"top: 0 !important\\\",\\\"left: 0 !important\\\",\\\"right: 0 !important\\\",\\\"border: 0\\\",\\\"margin: 0\\\",\\\"padding: 0\\\",\\\"z-index: 999999 !important\\\",\\\"position: fixed\\\"];this.fullscreenWrapper_.setAttribute(\\\"style\\\",i.join(\\\"; \\\")+\\\";\\\"),this.fullscreenWrapper_.classList.add(\\\"webvr-polyfill-fullscreen-wrapper\\\")}if(this.fullscreenElement_==e)return this.fullscreenWrapper_;this.removeFullscreenWrapper(),this.fullscreenElement_=e;var t=this.fullscreenElement_.parentElement;t.insertBefore(this.fullscreenWrapper_,this.fullscreenElement_),t.removeChild(this.fullscreenElement_),this.fullscreenWrapper_.insertBefore(this.fullscreenElement_,this.fullscreenWrapper_.firstChild),this.fullscreenElementCachedStyle_=this.fullscreenElement_.getAttribute(\\\"style\\\");var A=this;return M(),this.fullscreenWrapper_},A.prototype.removeFullscreenWrapper=function(){if(this.fullscreenElement_){var e=this.fullscreenElement_;this.fullscreenElementCachedStyle_?e.setAttribute(\\\"style\\\",this.fullscreenElementCachedStyle_):e.removeAttribute(\\\"style\\\"),this.fullscreenElement_=null,this.fullscreenElementCachedStyle_=null;var M=this.fullscreenWrapper_.parentElement;return this.fullscreenWrapper_.removeChild(e),M.insertBefore(e,this.fullscreenWrapper_),M.removeChild(this.fullscreenWrapper_),e}},A.prototype.requestPresent=function(e){var M=this.isPresenting,i=this;return e instanceof Array||(a||(console.warn(\\\"Using a deprecated form of requestPresent. Should pass in an array of VRLayers.\\\"),a=!0),e=[e]),new Promise(function(t,A){function s(){var e=D.getFullscreenElement();i.isPresenting=I===e,i.isPresenting?(screen.orientation&&screen.orientation.lock&&screen.orientation.lock(\\\"landscape-primary\\\").catch(function(e){console.error(\\\"screen.orientation.lock() failed due to\\\",e.message)}),i.waitingForPresent_=!1,i.beginPresent_(),t()):(screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock(),i.removeFullscreenWrapper(),i.wakelock_.release(),i.endPresent_(),i.removeFullscreenListeners_()),i.fireVRDisplayPresentChange_()}function r(){i.waitingForPresent_&&(i.removeFullscreenWrapper(),i.removeFullscreenListeners_(),i.wakelock_.release(),i.waitingForPresent_=!1,i.isPresenting=!1,A(new Error(\\\"Unable to present.\\\")))}if(!i.capabilities.canPresent)return void A(new Error(\\\"VRDisplay is not capable of presenting.\\\"));if(0==e.length||e.length>i.capabilities.maxLayers)return void A(new Error(\\\"Invalid number of layers.\\\"));var N=e[0];if(!N.source)return void t();var n=N.leftBounds||o,u=N.rightBounds||g;if(M){var a=i.layer_;a.source!==N.source&&(a.source=N.source);for(var j=0;j<4;j++)a.leftBounds[j]!==n[j]&&(a.leftBounds[j]=n[j]),a.rightBounds[j]!==u[j]&&(a.rightBounds[j]=u[j]);return void t()}if(i.layer_={predistorted:N.predistorted,source:N.source,leftBounds:n.slice(0),rightBounds:u.slice(0)},i.waitingForPresent_=!1,i.layer_&&i.layer_.source){var I=i.wrapForFullscreen(i.layer_.source);i.addFullscreenListeners_(I,s,r),D.requestFullscreen(I)?(i.wakelock_.request(),i.waitingForPresent_=!0):D.isIOS()&&(i.wakelock_.request(),i.isPresenting=!0,i.beginPresent_(),i.fireVRDisplayPresentChange_(),t())}i.waitingForPresent_||D.isIOS()||(D.exitFullscreen(),A(new Error(\\\"Unable to present.\\\")))})},A.prototype.exitPresent=function(){var e=this.isPresenting,M=this;return this.isPresenting=!1,this.layer_=null,this.wakelock_.release(),new Promise(function(i,t){e?(!D.exitFullscreen()&&D.isIOS()&&(M.endPresent_(),M.fireVRDisplayPresentChange_()),i()):t(new Error(\\\"Was not presenting to VRDisplay.\\\"))})},A.prototype.getLayers=function(){return this.layer_?[this.layer_]:[]},A.prototype.fireVRDisplayPresentChange_=function(){var e=new CustomEvent(\\\"vrdisplaypresentchange\\\",{detail:{display:this}});window.dispatchEvent(e)},A.prototype.addFullscreenListeners_=function(e,M,i){this.removeFullscreenListeners_(),this.fullscreenEventTarget_=e,this.fullscreenChangeHandler_=M,this.fullscreenErrorHandler_=i,M&&(document.fullscreenEnabled?e.addEventListener(\\\"fullscreenchange\\\",M,!1):document.webkitFullscreenEnabled?e.addEventListener(\\\"webkitfullscreenchange\\\",M,!1):document.mozFullScreenEnabled?document.addEventListener(\\\"mozfullscreenchange\\\",M,!1):document.msFullscreenEnabled&&e.addEventListener(\\\"msfullscreenchange\\\",M,!1)),i&&(document.fullscreenEnabled?e.addEventListener(\\\"fullscreenerror\\\",i,!1):document.webkitFullscreenEnabled?e.addEventListener(\\\"webkitfullscreenerror\\\",i,!1):document.mozFullScreenEnabled?document.addEventListener(\\\"mozfullscreenerror\\\",i,!1):document.msFullscreenEnabled&&e.addEventListener(\\\"msfullscreenerror\\\",i,!1))},A.prototype.removeFullscreenListeners_=function(){if(this.fullscreenEventTarget_){var e=this.fullscreenEventTarget_;if(this.fullscreenChangeHandler_){var M=this.fullscreenChangeHandler_;e.removeEventListener(\\\"fullscreenchange\\\",M,!1),e.removeEventListener(\\\"webkitfullscreenchange\\\",M,!1),document.removeEventListener(\\\"mozfullscreenchange\\\",M,!1),e.removeEventListener(\\\"msfullscreenchange\\\",M,!1)}if(this.fullscreenErrorHandler_){var i=this.fullscreenErrorHandler_;e.removeEventListener(\\\"fullscreenerror\\\",i,!1),e.removeEventListener(\\\"webkitfullscreenerror\\\",i,!1),document.removeEventListener(\\\"mozfullscreenerror\\\",i,!1),e.removeEventListener(\\\"msfullscreenerror\\\",i,!1)}this.fullscreenEventTarget_=null,this.fullscreenChangeHandler_=null,this.fullscreenErrorHandler_=null}},A.prototype.beginPresent_=function(){},A.prototype.endPresent_=function(){},A.prototype.submitFrame=function(e){},A.prototype.getEyeParameters=function(e){return null},r.prototype=new s,N.prototype=new s,M.exports.VRFrameData=t,M.exports.VRDisplay=A,M.exports.VRDevice=s,M.exports.HMDVRDevice=r,M.exports.PositionSensorVRDevice=N},{\\\"./util.js\\\":22,\\\"./wakelock.js\\\":24}],3:[function(e,M,i){function t(e){this.gl=e,this.ctxAttribs=e.getContextAttributes(),this.meshWidth=20,this.meshHeight=20,this.bufferScale=WebVRConfig.BUFFER_SCALE,this.bufferWidth=e.drawingBufferWidth,this.bufferHeight=e.drawingBufferHeight,this.realBindFramebuffer=e.bindFramebuffer,this.realEnable=e.enable,this.realDisable=e.disable,this.realColorMask=e.colorMask,this.realClearColor=e.clearColor,this.realViewport=e.viewport,s.isIOS()||(this.realCanvasWidth=Object.getOwnPropertyDescriptor(e.canvas.__proto__,\\\"width\\\"),this.realCanvasHeight=Object.getOwnPropertyDescriptor(e.canvas.__proto__,\\\"height\\\")),this.isPatched=!1,this.lastBoundFramebuffer=null,this.cullFace=!1,this.depthTest=!1,this.blend=!1,this.scissorTest=!1,this.stencilTest=!1,this.viewport=[0,0,0,0],this.colorMask=[!0,!0,!0,!0],this.clearColor=[0,0,0,0],this.attribs={position:0,texCoord:1},this.program=s.linkProgram(e,N,D,this.attribs),this.uniforms=s.getProgramUniforms(e,this.program),this.viewportOffsetScale=new Float32Array(8),this.setTextureBounds(),this.vertexBuffer=e.createBuffer(),this.indexBuffer=e.createBuffer(),this.indexCount=0,this.renderTarget=e.createTexture(),this.framebuffer=e.createFramebuffer(),this.depthStencilBuffer=null,this.depthBuffer=null,this.stencilBuffer=null,this.ctxAttribs.depth&&this.ctxAttribs.stencil?this.depthStencilBuffer=e.createRenderbuffer():this.ctxAttribs.depth?this.depthBuffer=e.createRenderbuffer():this.ctxAttribs.stencil&&(this.stencilBuffer=e.createRenderbuffer()),this.patch(),this.onResize(),WebVRConfig.CARDBOARD_UI_DISABLED||(this.cardboardUI=new A(e))}var A=e(\\\"./cardboard-ui.js\\\"),s=e(\\\"./util.js\\\"),r=e(\\\"./deps/wglu-preserve-state.js\\\"),N=[\\\"attribute vec2 position;\\\",\\\"attribute vec3 texCoord;\\\",\\\"varying vec2 vTexCoord;\\\",\\\"uniform vec4 viewportOffsetScale[2];\\\",\\\"void main() {\\\",\\\"  vec4 viewport = viewportOffsetScale[int(texCoord.z)];\\\",\\\"  vTexCoord = (texCoord.xy * viewport.zw) + viewport.xy;\\\",\\\"  gl_Position = vec4( position, 1.0, 1.0 );\\\",\\\"}\\\"].join(\\\"\\\\n\\\"),D=[\\\"precision mediump float;\\\",\\\"uniform sampler2D diffuse;\\\",\\\"varying vec2 vTexCoord;\\\",\\\"void main() {\\\",\\\"  gl_FragColor = texture2D(diffuse, vTexCoord);\\\",\\\"}\\\"].join(\\\"\\\\n\\\");t.prototype.destroy=function(){var e=this.gl;this.unpatch(),e.deleteProgram(this.program),e.deleteBuffer(this.vertexBuffer),e.deleteBuffer(this.indexBuffer),e.deleteTexture(this.renderTarget),e.deleteFramebuffer(this.framebuffer),this.depthStencilBuffer&&e.deleteRenderbuffer(this.depthStencilBuffer),this.depthBuffer&&e.deleteRenderbuffer(this.depthBuffer),this.stencilBuffer&&e.deleteRenderbuffer(this.stencilBuffer),this.cardboardUI&&this.cardboardUI.destroy()},t.prototype.onResize=function(){var e=this.gl,M=this,i=[e.RENDERBUFFER_BINDING,e.TEXTURE_BINDING_2D,e.TEXTURE0];r(e,i,function(e){M.realBindFramebuffer.call(e,e.FRAMEBUFFER,null),M.scissorTest&&M.realDisable.call(e,e.SCISSOR_TEST),M.realColorMask.call(e,!0,!0,!0,!0),M.realViewport.call(e,0,0,e.drawingBufferWidth,e.drawingBufferHeight),M.realClearColor.call(e,0,0,0,1),e.clear(e.COLOR_BUFFER_BIT),M.realBindFramebuffer.call(e,e.FRAMEBUFFER,M.framebuffer),e.bindTexture(e.TEXTURE_2D,M.renderTarget),e.texImage2D(e.TEXTURE_2D,0,M.ctxAttribs.alpha?e.RGBA:e.RGB,M.bufferWidth,M.bufferHeight,0,M.ctxAttribs.alpha?e.RGBA:e.RGB,e.UNSIGNED_BYTE,null),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,M.renderTarget,0),M.ctxAttribs.depth&&M.ctxAttribs.stencil?(e.bindRenderbuffer(e.RENDERBUFFER,M.depthStencilBuffer),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,M.bufferWidth,M.bufferHeight),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,M.depthStencilBuffer)):M.ctxAttribs.depth?(e.bindRenderbuffer(e.RENDERBUFFER,M.depthBuffer),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,M.bufferWidth,M.bufferHeight),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,M.depthBuffer)):M.ctxAttribs.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,M.stencilBuffer),e.renderbufferStorage(e.RENDERBUFFER,e.STENCIL_INDEX8,M.bufferWidth,M.bufferHeight),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.STENCIL_ATTACHMENT,e.RENDERBUFFER,M.stencilBuffer)),!e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE&&console.error(\\\"Framebuffer incomplete!\\\"),M.realBindFramebuffer.call(e,e.FRAMEBUFFER,M.lastBoundFramebuffer),M.scissorTest&&M.realEnable.call(e,e.SCISSOR_TEST),M.realColorMask.apply(e,M.colorMask),M.realViewport.apply(e,M.viewport),M.realClearColor.apply(e,M.clearColor)}),this.cardboardUI&&this.cardboardUI.onResize()},t.prototype.patch=function(){if(!this.isPatched){var e=this,M=this.gl.canvas,i=this.gl;s.isIOS()||(M.width=s.getScreenWidth()*this.bufferScale,M.height=s.getScreenHeight()*this.bufferScale,Object.defineProperty(M,\\\"width\\\",{configurable:!0,enumerable:!0,get:function(){return e.bufferWidth},set:function(i){e.bufferWidth=i,e.realCanvasWidth.set.call(M,i),e.onResize()}}),Object.defineProperty(M,\\\"height\\\",{configurable:!0,enumerable:!0,get:function(){return e.bufferHeight},set:function(i){e.bufferHeight=i,e.realCanvasHeight.set.call(M,i),e.onResize()}})),this.lastBoundFramebuffer=i.getParameter(i.FRAMEBUFFER_BINDING),null==this.lastBoundFramebuffer&&(this.lastBoundFramebuffer=this.framebuffer,this.gl.bindFramebuffer(i.FRAMEBUFFER,this.framebuffer)),this.gl.bindFramebuffer=function(M,t){e.lastBoundFramebuffer=t?t:e.framebuffer,e.realBindFramebuffer.call(i,M,e.lastBoundFramebuffer)},this.cullFace=i.getParameter(i.CULL_FACE),this.depthTest=i.getParameter(i.DEPTH_TEST),this.blend=i.getParameter(i.BLEND),this.scissorTest=i.getParameter(i.SCISSOR_TEST),this.stencilTest=i.getParameter(i.STENCIL_TEST),i.enable=function(M){switch(M){case i.CULL_FACE:e.cullFace=!0;break;case i.DEPTH_TEST:e.depthTest=!0;break;case i.BLEND:e.blend=!0;break;case i.SCISSOR_TEST:e.scissorTest=!0;break;case i.STENCIL_TEST:e.stencilTest=!0}e.realEnable.call(i,M)},i.disable=function(M){switch(M){case i.CULL_FACE:e.cullFace=!1;break;case i.DEPTH_TEST:e.depthTest=!1;break;case i.BLEND:e.blend=!1;break;case i.SCISSOR_TEST:e.scissorTest=!1;break;case i.STENCIL_TEST:e.stencilTest=!1}e.realDisable.call(i,M)},this.colorMask=i.getParameter(i.COLOR_WRITEMASK),i.colorMask=function(M,t,A,s){e.colorMask[0]=M,e.colorMask[1]=t,e.colorMask[2]=A,e.colorMask[3]=s,e.realColorMask.call(i,M,t,A,s)},this.clearColor=i.getParameter(i.COLOR_CLEAR_VALUE),i.clearColor=function(M,t,A,s){e.clearColor[0]=M,e.clearColor[1]=t,e.clearColor[2]=A,e.clearColor[3]=s,e.realClearColor.call(i,M,t,A,s)},this.viewport=i.getParameter(i.VIEWPORT),i.viewport=function(M,t,A,s){e.viewport[0]=M,e.viewport[1]=t,e.viewport[2]=A,e.viewport[3]=s,e.realViewport.call(i,M,t,A,s)},this.isPatched=!0,s.safariCssSizeWorkaround(M)}},t.prototype.unpatch=function(){if(this.isPatched){var e=this.gl,M=this.gl.canvas;s.isIOS()||(Object.defineProperty(M,\\\"width\\\",this.realCanvasWidth),Object.defineProperty(M,\\\"height\\\",this.realCanvasHeight)),M.width=this.bufferWidth,M.height=this.bufferHeight,e.bindFramebuffer=this.realBindFramebuffer,e.enable=this.realEnable,e.disable=this.realDisable,e.colorMask=this.realColorMask,e.clearColor=this.realClearColor,e.viewport=this.realViewport,this.lastBoundFramebuffer==this.framebuffer&&e.bindFramebuffer(e.FRAMEBUFFER,null),this.isPatched=!1,setTimeout(function(){s.safariCssSizeWorkaround(M)},1)}},t.prototype.setTextureBounds=function(e,M){e||(e=[0,0,.5,1]),M||(M=[.5,0,.5,1]),this.viewportOffsetScale[0]=e[0],this.viewportOffsetScale[1]=e[1],this.viewportOffsetScale[2]=e[2],this.viewportOffsetScale[3]=e[3],this.viewportOffsetScale[4]=M[0],this.viewportOffsetScale[5]=M[1],this.viewportOffsetScale[6]=M[2],this.viewportOffsetScale[7]=M[3]},t.prototype.submitFrame=function(){var e=this.gl,M=this,i=[];if(WebVRConfig.DIRTY_SUBMIT_FRAME_BINDINGS||i.push(e.CURRENT_PROGRAM,e.ARRAY_BUFFER_BINDING,e.ELEMENT_ARRAY_BUFFER_BINDING,e.TEXTURE_BINDING_2D,e.TEXTURE0),r(e,i,function(e){M.realBindFramebuffer.call(e,e.FRAMEBUFFER,null),M.cullFace&&M.realDisable.call(e,e.CULL_FACE),M.depthTest&&M.realDisable.call(e,e.DEPTH_TEST),M.blend&&M.realDisable.call(e,e.BLEND),M.scissorTest&&M.realDisable.call(e,e.SCISSOR_TEST),M.stencilTest&&M.realDisable.call(e,e.STENCIL_TEST),M.realColorMask.call(e,!0,!0,!0,!0),M.realViewport.call(e,0,0,e.drawingBufferWidth,e.drawingBufferHeight),(M.ctxAttribs.alpha||s.isIOS())&&(M.realClearColor.call(e,0,0,0,1),e.clear(e.COLOR_BUFFER_BIT)),e.useProgram(M.program),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,M.indexBuffer),e.bindBuffer(e.ARRAY_BUFFER,M.vertexBuffer),e.enableVertexAttribArray(M.attribs.position),e.enableVertexAttribArray(M.attribs.texCoord),e.vertexAttribPointer(M.attribs.position,2,e.FLOAT,!1,20,0),e.vertexAttribPointer(M.attribs.texCoord,3,e.FLOAT,!1,20,8),e.activeTexture(e.TEXTURE0),e.uniform1i(M.uniforms.diffuse,0),e.bindTexture(e.TEXTURE_2D,M.renderTarget),e.uniform4fv(M.uniforms.viewportOffsetScale,M.viewportOffsetScale),e.drawElements(e.TRIANGLES,M.indexCount,e.UNSIGNED_SHORT,0),M.cardboardUI&&M.cardboardUI.renderNoState(),M.realBindFramebuffer.call(M.gl,e.FRAMEBUFFER,M.framebuffer),M.ctxAttribs.preserveDrawingBuffer||(M.realClearColor.call(e,0,0,0,0),e.clear(e.COLOR_BUFFER_BIT)),WebVRConfig.DIRTY_SUBMIT_FRAME_BINDINGS||M.realBindFramebuffer.call(e,e.FRAMEBUFFER,M.lastBoundFramebuffer),M.cullFace&&M.realEnable.call(e,e.CULL_FACE),M.depthTest&&M.realEnable.call(e,e.DEPTH_TEST),M.blend&&M.realEnable.call(e,e.BLEND),M.scissorTest&&M.realEnable.call(e,e.SCISSOR_TEST),M.stencilTest&&M.realEnable.call(e,e.STENCIL_TEST),M.realColorMask.apply(e,M.colorMask),M.realViewport.apply(e,M.viewport),!M.ctxAttribs.alpha&&M.ctxAttribs.preserveDrawingBuffer||M.realClearColor.apply(e,M.clearColor)}),s.isIOS()){var t=e.canvas;t.width==M.bufferWidth&&t.height==M.bufferHeight||(M.bufferWidth=t.width,M.bufferHeight=t.height,M.onResize())}},t.prototype.updateDeviceInfo=function(e){var M=this.gl,i=this,t=[M.ARRAY_BUFFER_BINDING,M.ELEMENT_ARRAY_BUFFER_BINDING];r(M,t,function(M){var t=i.computeMeshVertices_(i.meshWidth,i.meshHeight,e);if(M.bindBuffer(M.ARRAY_BUFFER,i.vertexBuffer),M.bufferData(M.ARRAY_BUFFER,t,M.STATIC_DRAW),!i.indexCount){var A=i.computeMeshIndices_(i.meshWidth,i.meshHeight);M.bindBuffer(M.ELEMENT_ARRAY_BUFFER,i.indexBuffer),M.bufferData(M.ELEMENT_ARRAY_BUFFER,A,M.STATIC_DRAW),i.indexCount=A.length}})},t.prototype.computeMeshVertices_=function(e,M,i){for(var t=new Float32Array(2*e*M*5),A=i.getLeftEyeVisibleTanAngles(),r=i.getLeftEyeNoLensTanAngles(),N=i.getLeftEyeVisibleScreenRect(r),D=0,n=0;n<2;n++){for(var u=0;u<M;u++)for(var a=0;a<e;a++,D++){var o=a/(e-1),g=u/(M-1),j=o,I=g,L=s.lerp(A[0],A[2],o),T=s.lerp(A[3],A[1],g),c=Math.sqrt(L*L+T*T),E=i.distortion.distortInverse(c),w=L*E/c,y=T*E/c;o=(w-r[0])/(r[2]-r[0]),g=(y-r[3])/(r[1]-r[3]);i.device.widthMeters/i.device.heightMeters;o=2*(N.x+o*N.width-.5),g=2*(N.y+g*N.height-.5),t[5*D+0]=o,t[5*D+1]=g,t[5*D+2]=j,t[5*D+3]=I,t[5*D+4]=n}var l=A[2]-A[0];A[0]=-(l+A[0]),A[2]=l-A[2],l=r[2]-r[0],r[0]=-(l+r[0]),r[2]=l-r[2],N.x=1-(N.x+N.width)}return t},t.prototype.computeMeshIndices_=function(e,M){for(var i=new Uint16Array(2*(e-1)*(M-1)*6),t=e/2,A=M/2,s=0,r=0,N=0;N<2;N++)for(var D=0;D<M;D++)for(var n=0;n<e;n++,s++)0!=n&&0!=D&&(n<=t==D<=A?(i[r++]=s,i[r++]=s-e-1,i[r++]=s-e,i[r++]=s-e-1,i[r++]=s,i[r++]=s-1):(i[r++]=s-1,i[r++]=s-e,i[r++]=s,i[r++]=s-e,i[r++]=s-1,i[r++]=s-e-1));return i},t.prototype.getOwnPropertyDescriptor_=function(e,M){var i=Object.getOwnPropertyDescriptor(e,M);return void 0!==i.get&&void 0!==i.set||(i.configurable=!0,i.enumerable=!0,i.get=function(){return this.getAttribute(M)},i.set=function(e){this.setAttribute(M,e)}),i},M.exports=t},{\\\"./cardboard-ui.js\\\":4,\\\"./deps/wglu-preserve-state.js\\\":6,\\\"./util.js\\\":22}],4:[function(e,M,i){function t(e){this.gl=e,this.attribs={position:0},this.program=A.linkProgram(e,r,N,this.attribs),this.uniforms=A.getProgramUniforms(e,this.program),this.vertexBuffer=e.createBuffer(),this.gearOffset=0,this.gearVertexCount=0,this.arrowOffset=0,this.arrowVertexCount=0,this.projMat=new Float32Array(16),this.listener=null,this.onResize()}var A=e(\\\"./util.js\\\"),s=e(\\\"./deps/wglu-preserve-state.js\\\"),r=[\\\"attribute vec2 position;\\\",\\\"uniform mat4 projectionMat;\\\",\\\"void main() {\\\",\\\"  gl_Position = projectionMat * vec4( position, -1.0, 1.0 );\\\",\\\"}\\\"].join(\\\"\\\\n\\\"),N=[\\\"precision mediump float;\\\",\\\"uniform vec4 color;\\\",\\\"void main() {\\\",\\\"  gl_FragColor = color;\\\",\\\"}\\\"].join(\\\"\\\\n\\\"),D=Math.PI/180,n=60,u=12,a=20,o=1,g=.75,j=.3125,I=4,L=28,T=1.5;t.prototype.destroy=function(){var e=this.gl;this.listener&&e.canvas.removeEventListener(\\\"click\\\",this.listener,!1),e.deleteProgram(this.program),e.deleteBuffer(this.vertexBuffer)},t.prototype.listen=function(e,M){var i=this.gl.canvas;this.listener=function(t){var A=i.clientWidth/2,s=L*T;t.clientX>A-s&&t.clientX<A+s&&t.clientY>i.clientHeight-s?e(t):t.clientX<s&&t.clientY<s&&M(t)},i.addEventListener(\\\"click\\\",this.listener,!1)},t.prototype.onResize=function(){var e=this.gl,M=this,i=[e.ARRAY_BUFFER_BINDING];s(e,i,function(e){function i(e,M){var i=(90-e)*D,t=Math.cos(i),A=Math.sin(i);s.push(j*t*w+r,j*A*w+w),s.push(M*t*w+r,M*A*w+w)}function t(M,i){s.push(y+M,e.drawingBufferHeight-y-i)}var s=[],r=e.drawingBufferWidth/2,N=e.drawingBufferWidth/(screen.width*window.devicePixelRatio);A.isIOS()||(N*=window.devicePixelRatio);var c=I*N/2,E=L*T*N,w=L*N/2,y=(L*T-L)*N;s.push(r-c,E),s.push(r-c,e.drawingBufferHeight),s.push(r+c,E),s.push(r+c,e.drawingBufferHeight),M.gearOffset=s.length/2;for(var l=0;l<=6;l++){var z=l*n;i(z,o),i(z+u,o),i(z+a,g),i(z+(n-a),g),i(z+(n-u),o)}M.gearVertexCount=s.length/2-M.gearOffset,M.arrowOffset=s.length/2;var h=c/Math.sin(45*D);t(0,w),t(w,0),t(w+h,h),t(h,w+h),t(h,w-h),t(0,w),t(w,2*w),t(w+h,2*w-h),t(h,w-h),t(0,w),t(h,w-c),t(L*N,w-c),t(h,w+c),t(L*N,w+c),M.arrowVertexCount=s.length/2-M.arrowOffset,e.bindBuffer(e.ARRAY_BUFFER,M.vertexBuffer),e.bufferData(e.ARRAY_BUFFER,new Float32Array(s),e.STATIC_DRAW)})},t.prototype.render=function(){var e=this.gl,M=this,i=[e.CULL_FACE,e.DEPTH_TEST,e.BLEND,e.SCISSOR_TEST,e.STENCIL_TEST,e.COLOR_WRITEMASK,e.VIEWPORT,e.CURRENT_PROGRAM,e.ARRAY_BUFFER_BINDING];s(e,i,function(e){e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.BLEND),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.colorMask(!0,!0,!0,!0),e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight),M.renderNoState()})},t.prototype.renderNoState=function(){var e=this.gl;e.useProgram(this.program),e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.enableVertexAttribArray(this.attribs.position),e.vertexAttribPointer(this.attribs.position,2,e.FLOAT,!1,8,0),e.uniform4f(this.uniforms.color,1,1,1,1),A.orthoMatrix(this.projMat,0,e.drawingBufferWidth,0,e.drawingBufferHeight,.1,1024),e.uniformMatrix4fv(this.uniforms.projectionMat,!1,this.projMat),e.drawArrays(e.TRIANGLE_STRIP,0,4),e.drawArrays(e.TRIANGLE_STRIP,this.gearOffset,this.gearVertexCount),e.drawArrays(e.TRIANGLE_STRIP,this.arrowOffset,this.arrowVertexCount)},M.exports=t},{\\\"./deps/wglu-preserve-state.js\\\":6,\\\"./util.js\\\":22}],5:[function(e,M,i){function t(){this.displayName=\\\"Cardboard VRDisplay (webvr-polyfill)\\\",this.capabilities.hasOrientation=!0,this.capabilities.canPresent=!0,this.bufferScale_=WebVRConfig.BUFFER_SCALE,this.poseSensor_=new D,this.distorter_=null,this.cardboardUI_=null,this.dpdb_=new N((!0),this.onDeviceParamsUpdated_.bind(this)),this.deviceInfo_=new r(this.dpdb_.getDeviceParams()),this.viewerSelector_=new u,this.viewerSelector_.on(\\\"change\\\",this.onViewerChanged_.bind(this)),this.deviceInfo_.setViewer(this.viewerSelector_.getCurrentViewer()),WebVRConfig.ROTATE_INSTRUCTIONS_DISABLED||(this.rotateInstructions_=new n),o.isIOS()&&window.addEventListener(\\\"resize\\\",this.onResize_.bind(this))}var A=e(\\\"./cardboard-distorter.js\\\"),s=e(\\\"./cardboard-ui.js\\\"),r=e(\\\"./device-info.js\\\"),N=e(\\\"./dpdb/dpdb.js\\\"),D=e(\\\"./sensor-fusion/fusion-pose-sensor.js\\\"),n=e(\\\"./rotate-instructions.js\\\"),u=e(\\\"./viewer-selector.js\\\"),a=e(\\\"./base.js\\\").VRDisplay,o=e(\\\"./util.js\\\"),g={LEFT:\\\"left\\\",RIGHT:\\\"right\\\"};t.prototype=new a,t.prototype.getImmediatePose=function(){return{position:this.poseSensor_.getPosition(),orientation:this.poseSensor_.getOrientation(),linearVelocity:null,linearAcceleration:null,angularVelocity:null,angularAcceleration:null}},t.prototype.resetPose=function(){this.poseSensor_.resetPose()},t.prototype.getEyeParameters=function(e){var M,i=[.5*this.deviceInfo_.viewer.interLensDistance,0,0];if(e==g.LEFT)i[0]*=-1,M=this.deviceInfo_.getFieldOfViewLeftEye();else{if(e!=g.RIGHT)return console.error(\\\"Invalid eye provided: %s\\\",e),null;M=this.deviceInfo_.getFieldOfViewRightEye()}return{fieldOfView:M,offset:i,renderWidth:.5*this.deviceInfo_.device.width*this.bufferScale_,renderHeight:this.deviceInfo_.device.height*this.bufferScale_}},t.prototype.onDeviceParamsUpdated_=function(e){console.log(\\\"DPDB reported that device params were updated.\\\"),this.deviceInfo_.updateDeviceParams(e),this.distorter_&&this.distorter_.updateDeviceInfo(this.deviceInfo_)},t.prototype.updateBounds_=function(){this.layer_&&this.distorter_&&(this.layer_.leftBounds||this.layer_.rightBounds)&&this.distorter_.setTextureBounds(this.layer_.leftBounds,this.layer_.rightBounds)},t.prototype.beginPresent_=function(){var e=this.layer_.source.getContext(\\\"webgl\\\");e||(e=this.layer_.source.getContext(\\\"experimental-webgl\\\")),e||(e=this.layer_.source.getContext(\\\"webgl2\\\")),e&&(this.layer_.predistorted?WebVRConfig.CARDBOARD_UI_DISABLED||(e.canvas.width=o.getScreenWidth()*this.bufferScale_,e.canvas.height=o.getScreenHeight()*this.bufferScale_,this.cardboardUI_=new s(e)):(this.distorter_=new A(e),this.distorter_.updateDeviceInfo(this.deviceInfo_),this.cardboardUI_=this.distorter_.cardboardUI),this.cardboardUI_&&this.cardboardUI_.listen(function(e){this.viewerSelector_.show(this.layer_.source.parentElement),e.stopPropagation(),e.preventDefault()}.bind(this),function(e){this.exitPresent(),e.stopPropagation(),e.preventDefault()}.bind(this)),this.rotateInstructions_&&(o.isLandscapeMode()&&o.isMobile()?this.rotateInstructions_.showTemporarily(3e3,this.layer_.source.parentElement):this.rotateInstructions_.update()),this.orientationHandler=this.onOrientationChange_.bind(this),window.addEventListener(\\\"orientationchange\\\",this.orientationHandler),this.vrdisplaypresentchangeHandler=this.updateBounds_.bind(this),window.addEventListener(\\\"vrdisplaypresentchange\\\",this.vrdisplaypresentchangeHandler),this.fireVRDisplayDeviceParamsChange_())},t.prototype.endPresent_=function(){this.distorter_&&(this.distorter_.destroy(),this.distorter_=null),this.cardboardUI_&&(this.cardboardUI_.destroy(),this.cardboardUI_=null),this.rotateInstructions_&&this.rotateInstructions_.hide(),this.viewerSelector_.hide(),window.removeEventListener(\\\"orientationchange\\\",this.orientationHandler),window.removeEventListener(\\\"vrdisplaypresentchange\\\",this.vrdisplaypresentchangeHandler)},t.prototype.submitFrame=function(e){if(this.distorter_)this.distorter_.submitFrame();else if(this.cardboardUI_&&this.layer_){var M=this.layer_.source.getContext(\\\"webgl\\\").canvas;M.width==this.lastWidth&&M.height==this.lastHeight||this.cardboardUI_.onResize(),this.lastWidth=M.width,this.lastHeight=M.height,this.cardboardUI_.render()}},t.prototype.onOrientationChange_=function(e){console.log(\\\"onOrientationChange_\\\"),this.viewerSelector_.hide(),this.rotateInstructions_&&this.rotateInstructions_.update(),this.onResize_()},t.prototype.onResize_=function(e){if(this.layer_){var M=this.layer_.source.getContext(\\\"webgl\\\"),i=[\\\"position: absolute\\\",\\\"top: 0\\\",\\\"left: 0\\\",\\\"width: \\\"+Math.max(screen.width,screen.height)+\\\"px\\\",\\\"height: \\\"+Math.min(screen.height,screen.width)+\\\"px\\\",\\\"border: 0\\\",\\\"margin: 0\\\",\\\"padding: 0 10px 10px 0\\\"];M.canvas.setAttribute(\\\"style\\\",i.join(\\\"; \\\")+\\\";\\\"),o.safariCssSizeWorkaround(M.canvas)}},t.prototype.onViewerChanged_=function(e){this.deviceInfo_.setViewer(e),this.distorter_&&this.distorter_.updateDeviceInfo(this.deviceInfo_),this.fireVRDisplayDeviceParamsChange_()},t.prototype.fireVRDisplayDeviceParamsChange_=function(){var e=new CustomEvent(\\\"vrdisplaydeviceparamschange\\\",{detail:{vrdisplay:this,deviceInfo:this.deviceInfo_}});window.dispatchEvent(e)},M.exports=t},{\\\"./base.js\\\":2,\\\"./cardboard-distorter.js\\\":3,\\\"./cardboard-ui.js\\\":4,\\\"./device-info.js\\\":7,\\\"./dpdb/dpdb.js\\\":11,\\\"./rotate-instructions.js\\\":16,\\\"./sensor-fusion/fusion-pose-sensor.js\\\":18,\\\"./util.js\\\":22,\\\"./viewer-selector.js\\\":23}],6:[function(e,M,i){function t(e,M,i){if(!M)return void i(e);for(var t=[],A=null,s=0;s<M.length;++s){var r=M[s];switch(r){case e.TEXTURE_BINDING_2D:case e.TEXTURE_BINDING_CUBE_MAP:var N=M[++s];if(N<e.TEXTURE0||N>e.TEXTURE31){console.error(\\\"TEXTURE_BINDING_2D or TEXTURE_BINDING_CUBE_MAP must be followed by a valid texture unit\\\"),t.push(null,null);break}A||(A=e.getParameter(e.ACTIVE_TEXTURE)),e.activeTexture(N),t.push(e.getParameter(r),null);break;case e.ACTIVE_TEXTURE:A=e.getParameter(e.ACTIVE_TEXTURE),t.push(null);break;default:t.push(e.getParameter(r))}}i(e);for(var s=0;s<M.length;++s){var r=M[s],D=t[s];switch(r){case e.ACTIVE_TEXTURE:break;case e.ARRAY_BUFFER_BINDING:e.bindBuffer(e.ARRAY_BUFFER,D);break;case e.COLOR_CLEAR_VALUE:e.clearColor(D[0],D[1],D[2],D[3]);break;case e.COLOR_WRITEMASK:e.colorMask(D[0],D[1],D[2],D[3]);break;case e.CURRENT_PROGRAM:e.useProgram(D);break;case e.ELEMENT_ARRAY_BUFFER_BINDING:e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,D);break;case e.FRAMEBUFFER_BINDING:e.bindFramebuffer(e.FRAMEBUFFER,D);break;case e.RENDERBUFFER_BINDING:e.bindRenderbuffer(e.RENDERBUFFER,D);break;case e.TEXTURE_BINDING_2D:var N=M[++s];if(N<e.TEXTURE0||N>e.TEXTURE31)break;e.activeTexture(N),e.bindTexture(e.TEXTURE_2D,D);break;case e.TEXTURE_BINDING_CUBE_MAP:var N=M[++s];if(N<e.TEXTURE0||N>e.TEXTURE31)break;e.activeTexture(N),e.bindTexture(e.TEXTURE_CUBE_MAP,D);break;case e.VIEWPORT:e.viewport(D[0],D[1],D[2],D[3]);break;case e.BLEND:case e.CULL_FACE:case e.DEPTH_TEST:case e.SCISSOR_TEST:case e.STENCIL_TEST:D?e.enable(r):e.disable(r);break;default:console.log(\\\"No GL restore behavior for 0x\\\"+r.toString(16))}A&&e.activeTexture(A)}}M.exports=t},{}],7:[function(e,M,i){function t(e){this.width=e.width||D.getScreenWidth(),this.height=e.height||D.getScreenHeight(),this.widthMeters=e.widthMeters,this.heightMeters=e.heightMeters,this.bevelMeters=e.bevelMeters}function A(e){this.viewer=a.CardboardV2,this.updateDeviceParams(e),this.distortion=new r(this.viewer.distortionCoefficients)}function s(e){this.id=e.id,this.label=e.label,this.fov=e.fov,this.interLensDistance=e.interLensDistance,this.baselineLensDistance=e.baselineLensDistance,this.screenLensDistance=e.screenLensDistance,this.distortionCoefficients=e.distortionCoefficients,this.inverseCoefficients=e.inverseCoefficients}var r=e(\\\"./distortion/distortion.js\\\"),N=e(\\\"./math-util.js\\\"),D=e(\\\"./util.js\\\"),n=new t({widthMeters:.11,heightMeters:.062,bevelMeters:.004}),u=new t({widthMeters:.1038,heightMeters:.0584,bevelMeters:.004}),a={CardboardV1:new s({id:\\\"CardboardV1\\\",label:\\\"Cardboard I/O 2014\\\",\\nfov:40,interLensDistance:.06,baselineLensDistance:.035,screenLensDistance:.042,distortionCoefficients:[.441,.156],inverseCoefficients:[-.4410035,.42756155,-.4804439,.5460139,-.58821183,.5733938,-.48303202,.33299083,-.17573841,.0651772,-.01488963,.001559834]}),CardboardV2:new s({id:\\\"CardboardV2\\\",label:\\\"Cardboard I/O 2015\\\",fov:60,interLensDistance:.064,baselineLensDistance:.035,screenLensDistance:.039,distortionCoefficients:[.34,.55],inverseCoefficients:[-.33836704,-.18162185,.862655,-1.2462051,1.0560602,-.58208317,.21609078,-.05444823,.009177956,-.0009904169,6183535e-11,-16981803e-13]})};A.prototype.updateDeviceParams=function(e){this.device=this.determineDevice_(e)||this.device},A.prototype.getDevice=function(){return this.device},A.prototype.setViewer=function(e){this.viewer=e,this.distortion=new r(this.viewer.distortionCoefficients)},A.prototype.determineDevice_=function(e){if(!e)return D.isIOS()?(console.warn(\\\"Using fallback iOS device measurements.\\\"),u):(console.warn(\\\"Using fallback Android device measurements.\\\"),n);var M=.0254,i=M/e.xdpi,A=M/e.ydpi,s=D.getScreenWidth(),r=D.getScreenHeight();return new t({widthMeters:i*s,heightMeters:A*r,bevelMeters:.001*e.bevelMm})},A.prototype.getDistortedFieldOfViewLeftEye=function(){var e=this.viewer,M=this.device,i=this.distortion,t=e.screenLensDistance,A=(M.widthMeters-e.interLensDistance)/2,s=e.interLensDistance/2,r=e.baselineLensDistance-M.bevelMeters,D=M.heightMeters-r,n=N.radToDeg*Math.atan(i.distort(A/t)),u=N.radToDeg*Math.atan(i.distort(s/t)),a=N.radToDeg*Math.atan(i.distort(r/t)),o=N.radToDeg*Math.atan(i.distort(D/t));return{leftDegrees:Math.min(n,e.fov),rightDegrees:Math.min(u,e.fov),downDegrees:Math.min(a,e.fov),upDegrees:Math.min(o,e.fov)}},A.prototype.getLeftEyeVisibleTanAngles=function(){var e=this.viewer,M=this.device,i=this.distortion,t=Math.tan(-N.degToRad*e.fov),A=Math.tan(N.degToRad*e.fov),s=Math.tan(N.degToRad*e.fov),r=Math.tan(-N.degToRad*e.fov),D=M.widthMeters/4,n=M.heightMeters/2,u=e.baselineLensDistance-M.bevelMeters-n,a=e.interLensDistance/2-D,o=-u,g=e.screenLensDistance,j=i.distort((a-D)/g),I=i.distort((o+n)/g),L=i.distort((a+D)/g),T=i.distort((o-n)/g),c=new Float32Array(4);return c[0]=Math.max(t,j),c[1]=Math.min(A,I),c[2]=Math.min(s,L),c[3]=Math.max(r,T),c},A.prototype.getLeftEyeNoLensTanAngles=function(){var e=this.viewer,M=this.device,i=this.distortion,t=new Float32Array(4),A=i.distortInverse(Math.tan(-N.degToRad*e.fov)),s=i.distortInverse(Math.tan(N.degToRad*e.fov)),r=i.distortInverse(Math.tan(N.degToRad*e.fov)),D=i.distortInverse(Math.tan(-N.degToRad*e.fov)),n=M.widthMeters/4,u=M.heightMeters/2,a=e.baselineLensDistance-M.bevelMeters-u,o=e.interLensDistance/2-n,g=-a,j=e.screenLensDistance,I=(o-n)/j,L=(g+u)/j,T=(o+n)/j,c=(g-u)/j;return t[0]=Math.max(A,I),t[1]=Math.min(s,L),t[2]=Math.min(r,T),t[3]=Math.max(D,c),t},A.prototype.getLeftEyeVisibleScreenRect=function(e){var M=this.viewer,i=this.device,t=M.screenLensDistance,A=(i.widthMeters-M.interLensDistance)/2,s=M.baselineLensDistance-i.bevelMeters,r=(e[0]*t+A)/i.widthMeters,N=(e[1]*t+s)/i.heightMeters,D=(e[2]*t+A)/i.widthMeters,n=(e[3]*t+s)/i.heightMeters;return{x:r,y:n,width:D-r,height:N-n}},A.prototype.getFieldOfViewLeftEye=function(e){return e?this.getUndistortedFieldOfViewLeftEye():this.getDistortedFieldOfViewLeftEye()},A.prototype.getFieldOfViewRightEye=function(e){var M=this.getFieldOfViewLeftEye(e);return{leftDegrees:M.rightDegrees,rightDegrees:M.leftDegrees,upDegrees:M.upDegrees,downDegrees:M.downDegrees}},A.prototype.getUndistortedFieldOfViewLeftEye=function(){var e=this.getUndistortedParams_();return{leftDegrees:N.radToDeg*Math.atan(e.outerDist),rightDegrees:N.radToDeg*Math.atan(e.innerDist),downDegrees:N.radToDeg*Math.atan(e.bottomDist),upDegrees:N.radToDeg*Math.atan(e.topDist)}},A.prototype.getUndistortedViewportLeftEye=function(){var e=this.getUndistortedParams_(),M=this.viewer,i=this.device,t=M.screenLensDistance,A=i.widthMeters/t,s=i.heightMeters/t,r=i.width/A,N=i.height/s,D=Math.round((e.eyePosX-e.outerDist)*r),n=Math.round((e.eyePosY-e.bottomDist)*N);return{x:D,y:n,width:Math.round((e.eyePosX+e.innerDist)*r)-D,height:Math.round((e.eyePosY+e.topDist)*N)-n}},A.prototype.getUndistortedParams_=function(){var e=this.viewer,M=this.device,i=this.distortion,t=e.screenLensDistance,A=e.interLensDistance/2/t,s=M.widthMeters/t,r=M.heightMeters/t,D=s/2-A,n=(e.baselineLensDistance-M.bevelMeters)/t,u=e.fov,a=i.distortInverse(Math.tan(N.degToRad*u)),o=Math.min(D,a),g=Math.min(A,a),j=Math.min(n,a),I=Math.min(r-n,a);return{outerDist:o,innerDist:g,topDist:I,bottomDist:j,eyePosX:D,eyePosY:n}},A.Viewers=a,M.exports=A},{\\\"./distortion/distortion.js\\\":9,\\\"./math-util.js\\\":14,\\\"./util.js\\\":22}],8:[function(e,M,i){function t(e){this.display=e,this.hardwareUnitId=e.displayId,this.deviceId=\\\"webvr-polyfill:HMD:\\\"+e.displayId,this.deviceName=e.displayName+\\\" (HMD)\\\"}function A(e){this.display=e,this.hardwareUnitId=e.displayId,this.deviceId=\\\"webvr-polyfill:PositionSensor: \\\"+e.displayId,this.deviceName=e.displayName+\\\" (PositionSensor)\\\"}var s=(e(\\\"./base.js\\\").VRDisplay,e(\\\"./base.js\\\").HMDVRDevice),r=e(\\\"./base.js\\\").PositionSensorVRDevice;t.prototype=new s,t.prototype.getEyeParameters=function(e){var M=this.display.getEyeParameters(e);return{currentFieldOfView:M.fieldOfView,maximumFieldOfView:M.fieldOfView,minimumFieldOfView:M.fieldOfView,recommendedFieldOfView:M.fieldOfView,eyeTranslation:{x:M.offset[0],y:M.offset[1],z:M.offset[2]},renderRect:{x:\\\"right\\\"==e?M.renderWidth:0,y:0,width:M.renderWidth,height:M.renderHeight}}},t.prototype.setFieldOfView=function(e,M,i,t){},A.prototype=new r,A.prototype.getState=function(){var e=this.display.getPose();return{position:e.position?{x:e.position[0],y:e.position[1],z:e.position[2]}:null,orientation:e.orientation?{x:e.orientation[0],y:e.orientation[1],z:e.orientation[2],w:e.orientation[3]}:null,linearVelocity:null,linearAcceleration:null,angularVelocity:null,angularAcceleration:null}},A.prototype.resetState=function(){return this.positionDevice.resetPose()},M.exports.VRDisplayHMDDevice=t,M.exports.VRDisplayPositionSensorDevice=A},{\\\"./base.js\\\":2}],9:[function(e,M,i){function t(e){this.coefficients=e}t.prototype.distortInverse=function(e){for(var M=0,i=1,t=e-this.distort(M);Math.abs(i-M)>1e-4;){var A=e-this.distort(i),s=i-A*((i-M)/(A-t));M=i,i=s,t=A}return i},t.prototype.distort=function(e){for(var M=e*e,i=0,t=0;t<this.coefficients.length;t++)i=M*(i+this.coefficients[t]);return(i+1)*e},t.prototype.solveLinear_=function(e,M){for(var i=e.length,t=0;t<i-1;++t)for(var A=t+1;A<i;++A){for(var s=e[t][A]/e[t][t],r=t+1;r<i;++r)e[r][A]-=s*e[r][t];M[A]-=s*M[t]}for(var N=new Array(i),t=i-1;t>=0;--t){for(var D=M[t],r=t+1;r<i;++r)D-=e[r][t]*N[r];N[t]=D/e[t][t]}return N},t.prototype.solveLeastSquares_=function(e,M){var i,t,A,s,r=e.length,N=e[0].length;if(r!=M.Length)throw new Error(\\\"Matrix / vector dimension mismatch\\\");var D=new Array(N);for(A=0;A<N;++A)for(D[A]=new Array(N),t=0;t<N;++t){for(s=0,i=0;i<r;++i)s+=e[t][i]*e[A][i];D[A][t]=s}var n=new Array(N);for(t=0;t<N;++t){for(s=0,i=0;i<r;++i)s+=e[t][i]*M[i];n[t]=s}return this.solveLinear_(D,n)},t.prototype.approximateInverse=function(e,M){e=e||1,M=M||100;var i,A,s=6,r=new Array(s);for(A=0;A<s;++A)r[A]=new Array(M);var N=new Array(M);for(i=0;i<M;++i){var D=e*(i+1)/M,n=this.distort(D),u=n;for(A=0;A<s;++A)u*=n*n,r[A][i]=u;N[i]=D-n}var a=this.solveLeastSquares_(r,N);return new t(a)},M.exports=t},{}],10:[function(e,M,i){var t={format:1,last_updated:\\\"2016-01-20T00:18:35Z\\\",devices:[{type:\\\"android\\\",rules:[{mdmh:\\\"asus/*/Nexus 7/*\\\"},{ua:\\\"Nexus 7\\\"}],dpi:[320.8,323],bw:3,ac:500},{type:\\\"android\\\",rules:[{mdmh:\\\"asus/*/ASUS_Z00AD/*\\\"},{ua:\\\"ASUS_Z00AD\\\"}],dpi:[403,404.6],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"HTC/*/HTC6435LVW/*\\\"},{ua:\\\"HTC6435LVW\\\"}],dpi:[449.7,443.3],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"HTC/*/HTC One XL/*\\\"},{ua:\\\"HTC One XL\\\"}],dpi:[315.3,314.6],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"htc/*/Nexus 9/*\\\"},{ua:\\\"Nexus 9\\\"}],dpi:289,bw:3,ac:500},{type:\\\"android\\\",rules:[{mdmh:\\\"HTC/*/HTC One M9/*\\\"},{ua:\\\"HTC One M9\\\"}],dpi:[442.5,443.3],bw:3,ac:500},{type:\\\"android\\\",rules:[{mdmh:\\\"HTC/*/HTC One_M8/*\\\"},{ua:\\\"HTC One_M8\\\"}],dpi:[449.7,447.4],bw:3,ac:500},{type:\\\"android\\\",rules:[{mdmh:\\\"HTC/*/HTC One/*\\\"},{ua:\\\"HTC One\\\"}],dpi:472.8,bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"Huawei/*/Nexus 6P/*\\\"},{ua:\\\"Nexus 6P\\\"}],dpi:[515.1,518],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"LGE/*/Nexus 5X/*\\\"},{ua:\\\"Nexus 5X\\\"}],dpi:[422,419.9],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"LGE/*/LGMS345/*\\\"},{ua:\\\"LGMS345\\\"}],dpi:[221.7,219.1],bw:3,ac:500},{type:\\\"android\\\",rules:[{mdmh:\\\"LGE/*/LG-D800/*\\\"},{ua:\\\"LG-D800\\\"}],dpi:[422,424.1],bw:3,ac:500},{type:\\\"android\\\",rules:[{mdmh:\\\"LGE/*/LG-D850/*\\\"},{ua:\\\"LG-D850\\\"}],dpi:[537.9,541.9],bw:3,ac:500},{type:\\\"android\\\",rules:[{mdmh:\\\"LGE/*/VS985 4G/*\\\"},{ua:\\\"VS985 4G\\\"}],dpi:[537.9,535.6],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"LGE/*/Nexus 5/*\\\"},{ua:\\\"Nexus 5 \\\"}],dpi:[442.4,444.8],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"LGE/*/Nexus 4/*\\\"},{ua:\\\"Nexus 4\\\"}],dpi:[319.8,318.4],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"LGE/*/LG-P769/*\\\"},{ua:\\\"LG-P769\\\"}],dpi:[240.6,247.5],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"LGE/*/LGMS323/*\\\"},{ua:\\\"LGMS323\\\"}],dpi:[206.6,204.6],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"LGE/*/LGLS996/*\\\"},{ua:\\\"LGLS996\\\"}],dpi:[403.4,401.5],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"Micromax/*/4560MMX/*\\\"},{ua:\\\"4560MMX\\\"}],dpi:[240,219.4],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"Micromax/*/A250/*\\\"},{ua:\\\"Micromax A250\\\"}],dpi:[480,446.4],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"Micromax/*/Micromax AQ4501/*\\\"},{ua:\\\"Micromax AQ4501\\\"}],dpi:240,bw:3,ac:500},{type:\\\"android\\\",rules:[{mdmh:\\\"motorola/*/DROID RAZR/*\\\"},{ua:\\\"DROID RAZR\\\"}],dpi:[368.1,256.7],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"motorola/*/XT830C/*\\\"},{ua:\\\"XT830C\\\"}],dpi:[254,255.9],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"motorola/*/XT1021/*\\\"},{ua:\\\"XT1021\\\"}],dpi:[254,256.7],bw:3,ac:500},{type:\\\"android\\\",rules:[{mdmh:\\\"motorola/*/XT1023/*\\\"},{ua:\\\"XT1023\\\"}],dpi:[254,256.7],bw:3,ac:500},{type:\\\"android\\\",rules:[{mdmh:\\\"motorola/*/XT1028/*\\\"},{ua:\\\"XT1028\\\"}],dpi:[326.6,327.6],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"motorola/*/XT1034/*\\\"},{ua:\\\"XT1034\\\"}],dpi:[326.6,328.4],bw:3,ac:500},{type:\\\"android\\\",rules:[{mdmh:\\\"motorola/*/XT1053/*\\\"},{ua:\\\"XT1053\\\"}],dpi:[315.3,316.1],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"motorola/*/XT1562/*\\\"},{ua:\\\"XT1562\\\"}],dpi:[403.4,402.7],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"motorola/*/Nexus 6/*\\\"},{ua:\\\"Nexus 6 \\\"}],dpi:[494.3,489.7],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"motorola/*/XT1063/*\\\"},{ua:\\\"XT1063\\\"}],dpi:[295,296.6],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"motorola/*/XT1064/*\\\"},{ua:\\\"XT1064\\\"}],dpi:[295,295.6],bw:3,ac:500},{type:\\\"android\\\",rules:[{mdmh:\\\"motorola/*/XT1092/*\\\"},{ua:\\\"XT1092\\\"}],dpi:[422,424.1],bw:3,ac:500},{type:\\\"android\\\",rules:[{mdmh:\\\"motorola/*/XT1095/*\\\"},{ua:\\\"XT1095\\\"}],dpi:[422,423.4],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"OnePlus/*/A0001/*\\\"},{ua:\\\"A0001\\\"}],dpi:[403.4,401],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"OnePlus/*/ONE E1005/*\\\"},{ua:\\\"ONE E1005\\\"}],dpi:[442.4,441.4],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"OnePlus/*/ONE A2005/*\\\"},{ua:\\\"ONE A2005\\\"}],dpi:[391.9,405.4],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"OPPO/*/X909/*\\\"},{ua:\\\"X909\\\"}],dpi:[442.4,444.1],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/GT-I9082/*\\\"},{ua:\\\"GT-I9082\\\"}],dpi:[184.7,185.4],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/SM-G360P/*\\\"},{ua:\\\"SM-G360P\\\"}],dpi:[196.7,205.4],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/Nexus S/*\\\"},{ua:\\\"Nexus S\\\"}],dpi:[234.5,229.8],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/GT-I9300/*\\\"},{ua:\\\"GT-I9300\\\"}],dpi:[304.8,303.9],bw:5,ac:500},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/SM-T230NU/*\\\"},{ua:\\\"SM-T230NU\\\"}],dpi:216,bw:3,ac:500},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/SGH-T399/*\\\"},{ua:\\\"SGH-T399\\\"}],dpi:[217.7,231.4],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/SM-N9005/*\\\"},{ua:\\\"SM-N9005\\\"}],dpi:[386.4,387],bw:3,ac:500},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/SAMSUNG-SM-N900A/*\\\"},{ua:\\\"SAMSUNG-SM-N900A\\\"}],dpi:[386.4,387.7],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/GT-I9500/*\\\"},{ua:\\\"GT-I9500\\\"}],dpi:[442.5,443.3],bw:3,ac:500},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/GT-I9505/*\\\"},{ua:\\\"GT-I9505\\\"}],dpi:439.4,bw:4,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/SM-G900F/*\\\"},{ua:\\\"SM-G900F\\\"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/SM-G900M/*\\\"},{ua:\\\"SM-G900M\\\"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/SM-G800F/*\\\"},{ua:\\\"SM-G800F\\\"}],dpi:326.8,bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/SM-G906S/*\\\"},{ua:\\\"SM-G906S\\\"}],dpi:[562.7,572.4],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/GT-I9300/*\\\"},{ua:\\\"GT-I9300\\\"}],dpi:[306.7,304.8],bw:5,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/SM-T535/*\\\"},{ua:\\\"SM-T535\\\"}],dpi:[142.6,136.4],bw:3,ac:500},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/SM-N920C/*\\\"},{ua:\\\"SM-N920C\\\"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/GT-I9300I/*\\\"},{ua:\\\"GT-I9300I\\\"}],dpi:[304.8,305.8],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/GT-I9195/*\\\"},{ua:\\\"GT-I9195\\\"}],dpi:[249.4,256.7],bw:3,ac:500},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/SPH-L520/*\\\"},{ua:\\\"SPH-L520\\\"}],dpi:[249.4,255.9],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/SAMSUNG-SGH-I717/*\\\"},{ua:\\\"SAMSUNG-SGH-I717\\\"}],dpi:285.8,bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/SPH-D710/*\\\"},{ua:\\\"SPH-D710\\\"}],dpi:[217.7,204.2],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/GT-N7100/*\\\"},{ua:\\\"GT-N7100\\\"}],dpi:265.1,bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/SCH-I605/*\\\"},{ua:\\\"SCH-I605\\\"}],dpi:265.1,bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/Galaxy Nexus/*\\\"},{ua:\\\"Galaxy Nexus\\\"}],dpi:[315.3,314.2],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/SM-N910H/*\\\"},{ua:\\\"SM-N910H\\\"}],dpi:[515.1,518],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/SM-N910C/*\\\"},{ua:\\\"SM-N910C\\\"}],dpi:[515.2,520.2],bw:3,ac:500},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/SM-G130M/*\\\"},{ua:\\\"SM-G130M\\\"}],dpi:[165.9,164.8],bw:3,ac:500},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/SM-G928I/*\\\"},{ua:\\\"SM-G928I\\\"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/SM-G920F/*\\\"},{ua:\\\"SM-G920F\\\"}],dpi:580.6,bw:3,ac:500},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/SM-G920P/*\\\"},{ua:\\\"SM-G920P\\\"}],dpi:[522.5,577],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/SM-G925F/*\\\"},{ua:\\\"SM-G925F\\\"}],dpi:580.6,bw:3,ac:500},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/SM-G925V/*\\\"},{ua:\\\"SM-G925V\\\"}],dpi:[522.5,576.6],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"Sony/*/C6903/*\\\"},{ua:\\\"C6903\\\"}],dpi:[442.5,443.3],bw:3,ac:500},{type:\\\"android\\\",rules:[{mdmh:\\\"Sony/*/D6653/*\\\"},{ua:\\\"D6653\\\"}],dpi:[428.6,427.6],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"Sony/*/E6653/*\\\"},{ua:\\\"E6653\\\"}],dpi:[428.6,425.7],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"Sony/*/E6853/*\\\"},{ua:\\\"E6853\\\"}],dpi:[403.4,401.9],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"Sony/*/SGP321/*\\\"},{ua:\\\"SGP321\\\"}],dpi:[224.7,224.1],bw:3,ac:500},{type:\\\"android\\\",rules:[{mdmh:\\\"TCT/*/ALCATEL ONE TOUCH Fierce/*\\\"},{ua:\\\"ALCATEL ONE TOUCH Fierce\\\"}],dpi:[240,247.5],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"THL/*/thl 5000/*\\\"},{ua:\\\"thl 5000\\\"}],dpi:[480,443.3],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"ZTE/*/ZTE Blade L2/*\\\"},{ua:\\\"ZTE Blade L2\\\"}],dpi:240,bw:3,ac:500},{type:\\\"ios\\\",rules:[{res:[640,960]}],dpi:[325.1,328.4],bw:4,ac:1e3},{type:\\\"ios\\\",rules:[{res:[640,960]}],dpi:[325.1,328.4],bw:4,ac:1e3},{type:\\\"ios\\\",rules:[{res:[640,1136]}],dpi:[317.1,320.2],bw:3,ac:1e3},{type:\\\"ios\\\",rules:[{res:[640,1136]}],dpi:[317.1,320.2],bw:3,ac:1e3},{type:\\\"ios\\\",rules:[{res:[750,1334]}],dpi:326.4,bw:4,ac:1e3},{type:\\\"ios\\\",rules:[{res:[750,1334]}],dpi:326.4,bw:4,ac:1e3},{type:\\\"ios\\\",rules:[{res:[1242,2208]}],dpi:[453.6,458.4],bw:4,ac:1e3},{type:\\\"ios\\\",rules:[{res:[1242,2208]}],dpi:[453.6,458.4],bw:4,ac:1e3}]};M.exports=t},{}],11:[function(e,M,i){function t(e,M){if(this.dpdb=s,this.recalculateDeviceParams_(),e){this.onDeviceParamsUpdated=M,console.log(\\\"Fetching DPDB...\\\");var i=new XMLHttpRequest,t=this;i.open(\\\"GET\\\",N,!0),i.addEventListener(\\\"load\\\",function(){t.loading=!1,i.status>=200&&i.status<=299?(console.log(\\\"Successfully loaded online DPDB.\\\"),t.dpdb=JSON.parse(i.response),t.recalculateDeviceParams_()):console.error(\\\"Error loading online DPDB!\\\")}),i.send()}}function A(e){this.xdpi=e.xdpi,this.ydpi=e.ydpi,this.bevelMm=e.bevelMm}var s=e(\\\"./dpdb-cache.js\\\"),r=e(\\\"../util.js\\\"),N=\\\"https://storage.googleapis.com/cardboard-dpdb/dpdb.json\\\";t.prototype.getDeviceParams=function(){return this.deviceParams},t.prototype.recalculateDeviceParams_=function(){console.log(\\\"Recalculating device params.\\\");var e=this.calcDeviceParams_();console.log(\\\"New device parameters:\\\"),console.log(e),e?(this.deviceParams=e,this.onDeviceParamsUpdated&&this.onDeviceParamsUpdated(this.deviceParams)):console.error(\\\"Failed to recalculate device parameters.\\\")},t.prototype.calcDeviceParams_=function(){var e=this.dpdb;if(!e)return console.error(\\\"DPDB not available.\\\"),null;if(1!=e.format)return console.error(\\\"DPDB has unexpected format version.\\\"),null;if(!e.devices||!e.devices.length)return console.error(\\\"DPDB does not have a devices section.\\\"),null;var M=navigator.userAgent||navigator.vendor||window.opera,i=r.getScreenWidth(),t=r.getScreenHeight();if(console.log(\\\"User agent: \\\"+M),console.log(\\\"Pixel width: \\\"+i),console.log(\\\"Pixel height: \\\"+t),!e.devices)return console.error(\\\"DPDB has no devices section.\\\"),null;for(var s=0;s<e.devices.length;s++){var N=e.devices[s];if(N.rules)if(\\\"ios\\\"==N.type||\\\"android\\\"==N.type){if(r.isIOS()==(\\\"ios\\\"==N.type)){for(var D=!1,n=0;n<N.rules.length;n++){var u=N.rules[n];if(this.matchRule_(u,M,i,t)){console.log(\\\"Rule matched:\\\"),console.log(u),D=!0;break}}if(D){var a=N.dpi[0]||N.dpi,o=N.dpi[1]||N.dpi;return new A({xdpi:a,ydpi:o,bevelMm:N.bw})}}}else console.warn(\\\"Device[\\\"+s+\\\"] has invalid type.\\\");else console.warn(\\\"Device[\\\"+s+\\\"] has no rules section.\\\")}return console.warn(\\\"No DPDB device match.\\\"),null},t.prototype.matchRule_=function(e,M,i,t){if(!e.ua&&!e.res)return!1;if(e.ua&&M.indexOf(e.ua)<0)return!1;if(e.res){if(!e.res[0]||!e.res[1])return!1;var A=e.res[0],s=e.res[1];if(Math.min(i,t)!=Math.min(A,s)||Math.max(i,t)!=Math.max(A,s))return!1}return!0},M.exports=t},{\\\"../util.js\\\":22,\\\"./dpdb-cache.js\\\":10}],12:[function(e,M,i){function t(){this.callbacks={}}t.prototype.emit=function(e){var M=this.callbacks[e];if(M){var i=[].slice.call(arguments);i.shift();for(var t=0;t<M.length;t++)M[t].apply(this,i)}},t.prototype.on=function(e,M){e in this.callbacks?this.callbacks[e].push(M):this.callbacks[e]=[M]},M.exports=t},{}],13:[function(e,M,i){var t=e(\\\"./util.js\\\"),A=e(\\\"./webvr-polyfill.js\\\").WebVRPolyfill;window.WebVRConfig=t.extend({FORCE_ENABLE_VR:!1,K_FILTER:.98,PREDICTION_TIME_S:.04,TOUCH_PANNER_DISABLED:!0,CARDBOARD_UI_DISABLED:!1,ROTATE_INSTRUCTIONS_DISABLED:!1,YAW_ONLY:!1,MOUSE_KEYBOARD_CONTROLS_DISABLED:!1,DEFER_INITIALIZATION:!1,ENABLE_DEPRECATED_API:!1,BUFFER_SCALE:.5,DIRTY_SUBMIT_FRAME_BINDINGS:!1},window.WebVRConfig),window.WebVRConfig.DEFER_INITIALIZATION?window.InitializeWebVRPolyfill=function(){new A}:new A},{\\\"./util.js\\\":22,\\\"./webvr-polyfill.js\\\":25}],14:[function(e,M,i){var t=window.MathUtil||{};t.degToRad=Math.PI/180,t.radToDeg=180/Math.PI,t.Vector2=function(e,M){this.x=e||0,this.y=M||0},t.Vector2.prototype={constructor:t.Vector2,set:function(e,M){return this.x=e,this.y=M,this},copy:function(e){return this.x=e.x,this.y=e.y,this},subVectors:function(e,M){return this.x=e.x-M.x,this.y=e.y-M.y,this}},t.Vector3=function(e,M,i){this.x=e||0,this.y=M||0,this.z=i||0},t.Vector3.prototype={constructor:t.Vector3,set:function(e,M,i){return this.x=e,this.y=M,this.z=i,this},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},normalize:function(){var e=this.length();if(0!==e){var M=1/e;this.multiplyScalar(M)}else this.x=0,this.y=0,this.z=0;return this},multiplyScalar:function(e){this.x*=e,this.y*=e,this.z*=e},applyQuaternion:function(e){var M=this.x,i=this.y,t=this.z,A=e.x,s=e.y,r=e.z,N=e.w,D=N*M+s*t-r*i,n=N*i+r*M-A*t,u=N*t+A*i-s*M,a=-A*M-s*i-r*t;return this.x=D*N+a*-A+n*-r-u*-s,this.y=n*N+a*-s+u*-A-D*-r,this.z=u*N+a*-r+D*-s-n*-A,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},crossVectors:function(e,M){var i=e.x,t=e.y,A=e.z,s=M.x,r=M.y,N=M.z;return this.x=t*N-A*r,this.y=A*s-i*N,this.z=i*r-t*s,this}},t.Quaternion=function(e,M,i,t){this.x=e||0,this.y=M||0,this.z=i||0,this.w=void 0!==t?t:1},t.Quaternion.prototype={constructor:t.Quaternion,set:function(e,M,i,t){return this.x=e,this.y=M,this.z=i,this.w=t,this},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w,this},setFromEulerXYZ:function(e,M,i){var t=Math.cos(e/2),A=Math.cos(M/2),s=Math.cos(i/2),r=Math.sin(e/2),N=Math.sin(M/2),D=Math.sin(i/2);return this.x=r*A*s+t*N*D,this.y=t*N*s-r*A*D,this.z=t*A*D+r*N*s,this.w=t*A*s-r*N*D,this},setFromEulerYXZ:function(e,M,i){var t=Math.cos(e/2),A=Math.cos(M/2),s=Math.cos(i/2),r=Math.sin(e/2),N=Math.sin(M/2),D=Math.sin(i/2);return this.x=r*A*s+t*N*D,this.y=t*N*s-r*A*D,this.z=t*A*D-r*N*s,this.w=t*A*s+r*N*D,this},setFromAxisAngle:function(e,M){var i=M/2,t=Math.sin(i);return this.x=e.x*t,this.y=e.y*t,this.z=e.z*t,this.w=Math.cos(i),this},multiply:function(e){return this.multiplyQuaternions(this,e)},multiplyQuaternions:function(e,M){var i=e.x,t=e.y,A=e.z,s=e.w,r=M.x,N=M.y,D=M.z,n=M.w;return this.x=i*n+s*r+t*D-A*N,this.y=t*n+s*N+A*r-i*D,this.z=A*n+s*D+i*N-t*r,this.w=s*n-i*r-t*N-A*D,this},inverse:function(){return this.x*=-1,this.y*=-1,this.z*=-1,this.normalize(),this},normalize:function(){var e=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return 0===e?(this.x=0,this.y=0,this.z=0,this.w=1):(e=1/e,this.x=this.x*e,this.y=this.y*e,this.z=this.z*e,this.w=this.w*e),this},slerp:function(e,M){if(0===M)return this;if(1===M)return this.copy(e);var i=this.x,t=this.y,A=this.z,s=this.w,r=s*e.w+i*e.x+t*e.y+A*e.z;if(r<0?(this.w=-e.w,this.x=-e.x,this.y=-e.y,this.z=-e.z,r=-r):this.copy(e),r>=1)return this.w=s,this.x=i,this.y=t,this.z=A,this;var N=Math.acos(r),D=Math.sqrt(1-r*r);if(Math.abs(D)<.001)return this.w=.5*(s+this.w),this.x=.5*(i+this.x),this.y=.5*(t+this.y),this.z=.5*(A+this.z),this;var n=Math.sin((1-M)*N)/D,u=Math.sin(M*N)/D;return this.w=s*n+this.w*u,this.x=i*n+this.x*u,this.y=t*n+this.y*u,this.z=A*n+this.z*u,this},setFromUnitVectors:function(){var e,M,i=1e-6;return function(A,s){return void 0===e&&(e=new t.Vector3),M=A.dot(s)+1,M<i?(M=0,Math.abs(A.x)>Math.abs(A.z)?e.set(-A.y,A.x,0):e.set(0,-A.z,A.y)):e.crossVectors(A,s),this.x=e.x,this.y=e.y,this.z=e.z,this.w=M,this.normalize(),this}}()},M.exports=t},{}],15:[function(e,M,i){function t(){this.displayName=\\\"Mouse and Keyboard VRDisplay (webvr-polyfill)\\\",this.capabilities.hasOrientation=!0,window.addEventListener(\\\"keydown\\\",this.onKeyDown_.bind(this)),window.addEventListener(\\\"mousemove\\\",this.onMouseMove_.bind(this)),window.addEventListener(\\\"mousedown\\\",this.onMouseDown_.bind(this)),window.addEventListener(\\\"mouseup\\\",this.onMouseUp_.bind(this)),this.phi_=0,this.theta_=0,this.targetAngle_=null,this.angleAnimation_=null,this.orientation_=new s.Quaternion,this.rotateStart_=new s.Vector2,this.rotateEnd_=new s.Vector2,this.rotateDelta_=new s.Vector2,this.isDragging_=!1,this.orientationOut_=new Float32Array(4)}var A=e(\\\"./base.js\\\").VRDisplay,s=e(\\\"./math-util.js\\\"),r=e(\\\"./util.js\\\"),N=.15,D=80,n=.5,u=.3;t.prototype=new A,t.prototype.getImmediatePose=function(){return this.orientation_.setFromEulerYXZ(this.phi_,this.theta_,0),this.orientationOut_[0]=this.orientation_.x,this.orientationOut_[1]=this.orientation_.y,this.orientationOut_[2]=this.orientation_.z,this.orientationOut_[3]=this.orientation_.w,{position:null,orientation:this.orientationOut_,linearVelocity:null,linearAcceleration:null,angularVelocity:null,angularAcceleration:null}},t.prototype.onKeyDown_=function(e){38==e.keyCode?this.animatePhi_(this.phi_+N):39==e.keyCode?this.animateTheta_(this.theta_-N):40==e.keyCode?this.animatePhi_(this.phi_-N):37==e.keyCode&&this.animateTheta_(this.theta_+N)},t.prototype.animateTheta_=function(e){this.animateKeyTransitions_(\\\"theta_\\\",e)},t.prototype.animatePhi_=function(e){e=r.clamp(e,-Math.PI/2,Math.PI/2),this.animateKeyTransitions_(\\\"phi_\\\",e)},t.prototype.animateKeyTransitions_=function(e,M){this.angleAnimation_&&cancelAnimationFrame(this.angleAnimation_);var i=this[e],t=new Date;this.angleAnimation_=requestAnimationFrame(function A(){var s=new Date-t;if(s>=D)return this[e]=M,void cancelAnimationFrame(this.angleAnimation_);this.angleAnimation_=requestAnimationFrame(A.bind(this));var r=s/D;this[e]=i+(M-i)*r}.bind(this))},t.prototype.onMouseDown_=function(e){this.rotateStart_.set(e.clientX,e.clientY),this.isDragging_=!0},t.prototype.onMouseMove_=function(e){if(this.isDragging_||this.isPointerLocked_()){if(this.isPointerLocked_()){var M=e.movementX||e.mozMovementX||0,i=e.movementY||e.mozMovementY||0;this.rotateEnd_.set(this.rotateStart_.x-M,this.rotateStart_.y-i)}else this.rotateEnd_.set(e.clientX,e.clientY);this.rotateDelta_.subVectors(this.rotateEnd_,this.rotateStart_),this.rotateStart_.copy(this.rotateEnd_),this.phi_+=2*Math.PI*this.rotateDelta_.y/screen.height*u,this.theta_+=2*Math.PI*this.rotateDelta_.x/screen.width*n,this.phi_=r.clamp(this.phi_,-Math.PI/2,Math.PI/2)}},t.prototype.onMouseUp_=function(e){this.isDragging_=!1},t.prototype.isPointerLocked_=function(){var e=document.pointerLockElement||document.mozPointerLockElement||document.webkitPointerLockElement;return void 0!==e},t.prototype.resetPose=function(){this.phi_=0,this.theta_=0},M.exports=t},{\\\"./base.js\\\":2,\\\"./math-util.js\\\":14,\\\"./util.js\\\":22}],16:[function(e,M,i){function t(){this.loadIcon_();var e=document.createElement(\\\"div\\\"),M=e.style;M.position=\\\"fixed\\\",M.top=0,M.right=0,M.bottom=0,M.left=0,M.backgroundColor=\\\"gray\\\",M.fontFamily=\\\"sans-serif\\\",M.zIndex=1e6;var i=document.createElement(\\\"img\\\");i.src=this.icon;var M=i.style;M.marginLeft=\\\"25%\\\",M.marginTop=\\\"25%\\\",M.width=\\\"50%\\\",e.appendChild(i);var t=document.createElement(\\\"div\\\"),M=t.style;M.textAlign=\\\"center\\\",M.fontSize=\\\"16px\\\",M.lineHeight=\\\"24px\\\",M.margin=\\\"24px 25%\\\",M.width=\\\"50%\\\",t.innerHTML=\\\"Place your phone into your Cardboard viewer.\\\",e.appendChild(t);var A=document.createElement(\\\"div\\\"),M=A.style;M.backgroundColor=\\\"#CFD8DC\\\",M.position=\\\"fixed\\\",M.bottom=0,M.width=\\\"100%\\\",M.height=\\\"48px\\\",M.padding=\\\"14px 24px\\\",M.boxSizing=\\\"border-box\\\",M.color=\\\"#656A6B\\\",e.appendChild(A);var s=document.createElement(\\\"div\\\");s.style.float=\\\"left\\\",s.innerHTML=\\\"No Cardboard viewer?\\\";var r=document.createElement(\\\"a\\\");r.href=\\\"https://www.google.com/get/cardboard/get-cardboard/\\\",r.innerHTML=\\\"get one\\\",r.target=\\\"_blank\\\";var M=r.style;M.float=\\\"right\\\",M.fontWeight=600,M.textTransform=\\\"uppercase\\\",M.borderLeft=\\\"1px solid gray\\\",M.paddingLeft=\\\"24px\\\",M.textDecoration=\\\"none\\\",M.color=\\\"#656A6B\\\",A.appendChild(s),A.appendChild(r),this.overlay=e,this.text=t,this.hide()}var A=e(\\\"./util.js\\\");t.prototype.show=function(e){e||this.overlay.parentElement?e&&(this.overlay.parentElement&&this.overlay.parentElement!=e&&this.overlay.parentElement.removeChild(this.overlay),e.appendChild(this.overlay)):document.body.appendChild(this.overlay),this.overlay.style.display=\\\"block\\\";var M=this.overlay.querySelector(\\\"img\\\"),i=M.style;A.isLandscapeMode()?(i.width=\\\"20%\\\",i.marginLeft=\\\"40%\\\",i.marginTop=\\\"3%\\\"):(i.width=\\\"50%\\\",i.marginLeft=\\\"25%\\\",i.marginTop=\\\"25%\\\")},t.prototype.hide=function(){this.overlay.style.display=\\\"none\\\"},t.prototype.showTemporarily=function(e,M){this.show(M),this.timer=setTimeout(this.hide.bind(this),e)},t.prototype.disableShowTemporarily=function(){clearTimeout(this.timer)},t.prototype.update=function(){this.disableShowTemporarily(),!A.isLandscapeMode()&&A.isMobile()?this.show():this.hide()},t.prototype.loadIcon_=function(){this.icon=A.base64(\\\"image/svg+xml\\\",\\\"PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjE5OHB4IiBoZWlnaHQ9IjI0MHB4IiB2aWV3Qm94PSIwIDAgMTk4IDI0MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4bWxuczpza2V0Y2g9Imh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaC9ucyI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDMuMy4zICgxMjA4MSkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+dHJhbnNpdGlvbjwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPjwvZGVmcz4KICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHNrZXRjaDp0eXBlPSJNU1BhZ2UiPgogICAgICAgIDxnIGlkPSJ0cmFuc2l0aW9uIiBza2V0Y2g6dHlwZT0iTVNBcnRib2FyZEdyb3VwIj4KICAgICAgICAgICAgPGcgaWQ9IkltcG9ydGVkLUxheWVycy1Db3B5LTQtKy1JbXBvcnRlZC1MYXllcnMtQ29weS0rLUltcG9ydGVkLUxheWVycy1Db3B5LTItQ29weSIgc2tldGNoOnR5cGU9Ik1TTGF5ZXJHcm91cCI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iSW1wb3J0ZWQtTGF5ZXJzLUNvcHktNCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDEwNy4wMDAwMDApIiBza2V0Y2g6dHlwZT0iTVNTaGFwZUdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ5LjYyNSwyLjUyNyBDMTQ5LjYyNSwyLjUyNyAxNTUuODA1LDYuMDk2IDE1Ni4zNjIsNi40MTggTDE1Ni4zNjIsNy4zMDQgQzE1Ni4zNjIsNy40ODEgMTU2LjM3NSw3LjY2NCAxNTYuNCw3Ljg1MyBDMTU2LjQxLDcuOTM0IDE1Ni40Miw4LjAxNSAxNTYuNDI3LDguMDk1IEMxNTYuNTY3LDkuNTEgMTU3LjQwMSwxMS4wOTMgMTU4LjUzMiwxMi4wOTQgTDE2NC4yNTIsMTcuMTU2IEwxNjQuMzMzLDE3LjA2NiBDMTY0LjMzMywxNy4wNjYgMTY4LjcxNSwxNC41MzYgMTY5LjU2OCwxNC4wNDIgQzE3MS4wMjUsMTQuODgzIDE5NS41MzgsMjkuMDM1IDE5NS41MzgsMjkuMDM1IEwxOTUuNTM4LDgzLjAzNiBDMTk1LjUzOCw4My44MDcgMTk1LjE1Miw4NC4yNTMgMTk0LjU5LDg0LjI1MyBDMTk0LjM1Nyw4NC4yNTMgMTk0LjA5NSw4NC4xNzcgMTkzLjgxOCw4NC4wMTcgTDE2OS44NTEsNzAuMTc5IEwxNjkuODM3LDcwLjIwMyBMMTQyLjUxNSw4NS45NzggTDE0MS42NjUsODQuNjU1IEMxMzYuOTM0LDgzLjEyNiAxMzEuOTE3LDgxLjkxNSAxMjYuNzE0LDgxLjA0NSBDMTI2LjcwOSw4MS4wNiAxMjYuNzA3LDgxLjA2OSAxMjYuNzA3LDgxLjA2OSBMMTIxLjY0LDk4LjAzIEwxMTMuNzQ5LDEwMi41ODYgTDExMy43MTIsMTAyLjUyMyBMMTEzLjcxMiwxMzAuMTEzIEMxMTMuNzEyLDEzMC44ODUgMTEzLjMyNiwxMzEuMzMgMTEyLjc2NCwxMzEuMzMgQzExMi41MzIsMTMxLjMzIDExMi4yNjksMTMxLjI1NCAxMTEuOTkyLDEzMS4wOTQgTDY5LjUxOSwxMDYuNTcyIEM2OC41NjksMTA2LjAyMyA2Ny43OTksMTA0LjY5NSA2Ny43OTksMTAzLjYwNSBMNjcuNzk5LDEwMi41NyBMNjcuNzc4LDEwMi42MTcgQzY3LjI3LDEwMi4zOTMgNjYuNjQ4LDEwMi4yNDkgNjUuOTYyLDEwMi4yMTggQzY1Ljg3NSwxMDIuMjE0IDY1Ljc4OCwxMDIuMjEyIDY1LjcwMSwxMDIuMjEyIEM2NS42MDYsMTAyLjIxMiA2NS41MTEsMTAyLjIxNSA2NS40MTYsMTAyLjIxOSBDNjUuMTk1LDEwMi4yMjkgNjQuOTc0LDEwMi4yMzUgNjQuNzU0LDEwMi4yMzUgQzY0LjMzMSwxMDIuMjM1IDYzLjkxMSwxMDIuMjE2IDYzLjQ5OCwxMDIuMTc4IEM2MS44NDMsMTAyLjAyNSA2MC4yOTgsMTAxLjU3OCA1OS4wOTQsMTAwLjg4MiBMMTIuNTE4LDczLjk5MiBMMTIuNTIzLDc0LjAwNCBMMi4yNDUsNTUuMjU0IEMxLjI0NCw1My40MjcgMi4wMDQsNTEuMDM4IDMuOTQzLDQ5LjkxOCBMNTkuOTU0LDE3LjU3MyBDNjAuNjI2LDE3LjE4NSA2MS4zNSwxNy4wMDEgNjIuMDUzLDE3LjAwMSBDNjMuMzc5LDE3LjAwMSA2NC42MjUsMTcuNjYgNjUuMjgsMTguODU0IEw2NS4yODUsMTguODUxIEw2NS41MTIsMTkuMjY0IEw2NS41MDYsMTkuMjY4IEM2NS45MDksMjAuMDAzIDY2LjQwNSwyMC42OCA2Ni45ODMsMjEuMjg2IEw2Ny4yNiwyMS41NTYgQzY5LjE3NCwyMy40MDYgNzEuNzI4LDI0LjM1NyA3NC4zNzMsMjQuMzU3IEM3Ni4zMjIsMjQuMzU3IDc4LjMyMSwyMy44NCA4MC4xNDgsMjIuNzg1IEM4MC4xNjEsMjIuNzg1IDg3LjQ2NywxOC41NjYgODcuNDY3LDE4LjU2NiBDODguMTM5LDE4LjE3OCA4OC44NjMsMTcuOTk0IDg5LjU2NiwxNy45OTQgQzkwLjg5MiwxNy45OTQgOTIuMTM4LDE4LjY1MiA5Mi43OTIsMTkuODQ3IEw5Ni4wNDIsMjUuNzc1IEw5Ni4wNjQsMjUuNzU3IEwxMDIuODQ5LDI5LjY3NCBMMTAyLjc0NCwyOS40OTIgTDE0OS42MjUsMi41MjcgTTE0OS42MjUsMC44OTIgQzE0OS4zNDMsMC44OTIgMTQ5LjA2MiwwLjk2NSAxNDguODEsMS4xMSBMMTAyLjY0MSwyNy42NjYgTDk3LjIzMSwyNC41NDIgTDk0LjIyNiwxOS4wNjEgQzkzLjMxMywxNy4zOTQgOTEuNTI3LDE2LjM1OSA4OS41NjYsMTYuMzU4IEM4OC41NTUsMTYuMzU4IDg3LjU0NiwxNi42MzIgODYuNjQ5LDE3LjE1IEM4My44NzgsMTguNzUgNzkuNjg3LDIxLjE2OSA3OS4zNzQsMjEuMzQ1IEM3OS4zNTksMjEuMzUzIDc5LjM0NSwyMS4zNjEgNzkuMzMsMjEuMzY5IEM3Ny43OTgsMjIuMjU0IDc2LjA4NCwyMi43MjIgNzQuMzczLDIyLjcyMiBDNzIuMDgxLDIyLjcyMiA2OS45NTksMjEuODkgNjguMzk3LDIwLjM4IEw2OC4xNDUsMjAuMTM1IEM2Ny43MDYsMTkuNjcyIDY3LjMyMywxOS4xNTYgNjcuMDA2LDE4LjYwMSBDNjYuOTg4LDE4LjU1OSA2Ni45NjgsMTguNTE5IDY2Ljk0NiwxOC40NzkgTDY2LjcxOSwxOC4wNjUgQzY2LjY5LDE4LjAxMiA2Ni42NTgsMTcuOTYgNjYuNjI0LDE3LjkxMSBDNjUuNjg2LDE2LjMzNyA2My45NTEsMTUuMzY2IDYyLjA1MywxNS4zNjYgQzYxLjA0MiwxNS4zNjYgNjAuMDMzLDE1LjY0IDU5LjEzNiwxNi4xNTggTDMuMTI1LDQ4LjUwMiBDMC40MjYsNTAuMDYxIC0wLjYxMyw1My40NDIgMC44MTEsNTYuMDQgTDExLjA4OSw3NC43OSBDMTEuMjY2LDc1LjExMyAxMS41MzcsNzUuMzUzIDExLjg1LDc1LjQ5NCBMNTguMjc2LDEwMi4yOTggQzU5LjY3OSwxMDMuMTA4IDYxLjQzMywxMDMuNjMgNjMuMzQ4LDEwMy44MDYgQzYzLjgxMiwxMDMuODQ4IDY0LjI4NSwxMDMuODcgNjQuNzU0LDEwMy44NyBDNjUsMTAzLjg3IDY1LjI0OSwxMDMuODY0IDY1LjQ5NCwxMDMuODUyIEM2NS41NjMsMTAzLjg0OSA2NS42MzIsMTAzLjg0NyA2NS43MDEsMTAzLjg0NyBDNjUuNzY0LDEwMy44NDcgNjUuODI4LDEwMy44NDkgNjUuODksMTAzLjg1MiBDNjUuOTg2LDEwMy44NTYgNjYuMDgsMTAzLjg2MyA2Ni4xNzMsMTAzLjg3NCBDNjYuMjgyLDEwNS40NjcgNjcuMzMyLDEwNy4xOTcgNjguNzAyLDEwNy45ODggTDExMS4xNzQsMTMyLjUxIEMxMTEuNjk4LDEzMi44MTIgMTEyLjIzMiwxMzIuOTY1IDExMi43NjQsMTMyLjk2NSBDMTE0LjI2MSwxMzIuOTY1IDExNS4zNDcsMTMxLjc2NSAxMTUuMzQ3LDEzMC4xMTMgTDExNS4zNDcsMTAzLjU1MSBMMTIyLjQ1OCw5OS40NDYgQzEyMi44MTksOTkuMjM3IDEyMy4wODcsOTguODk4IDEyMy4yMDcsOTguNDk4IEwxMjcuODY1LDgyLjkwNSBDMTMyLjI3OSw4My43MDIgMTM2LjU1Nyw4NC43NTMgMTQwLjYwNyw4Ni4wMzMgTDE0MS4xNCw4Ni44NjIgQzE0MS40NTEsODcuMzQ2IDE0MS45NzcsODcuNjEzIDE0Mi41MTYsODcuNjEzIEMxNDIuNzk0LDg3LjYxMyAxNDMuMDc2LDg3LjU0MiAxNDMuMzMzLDg3LjM5MyBMMTY5Ljg2NSw3Mi4wNzYgTDE5Myw4NS40MzMgQzE5My41MjMsODUuNzM1IDE5NC4wNTgsODUuODg4IDE5NC41OSw4NS44ODggQzE5Ni4wODcsODUuODg4IDE5Ny4xNzMsODQuNjg5IDE5Ny4xNzMsODMuMDM2IEwxOTcuMTczLDI5LjAzNSBDMTk3LjE3MywyOC40NTEgMTk2Ljg2MSwyNy45MTEgMTk2LjM1NSwyNy42MTkgQzE5Ni4zNTUsMjcuNjE5IDE3MS44NDMsMTMuNDY3IDE3MC4zODUsMTIuNjI2IEMxNzAuMTMyLDEyLjQ4IDE2OS44NSwxMi40MDcgMTY5LjU2OCwxMi40MDcgQzE2OS4yODUsMTIuNDA3IDE2OS4wMDIsMTIuNDgxIDE2OC43NDksMTIuNjI3IEMxNjguMTQzLDEyLjk3OCAxNjUuNzU2LDE0LjM1NyAxNjQuNDI0LDE1LjEyNSBMMTU5LjYxNSwxMC44NyBDMTU4Ljc5NiwxMC4xNDUgMTU4LjE1NCw4LjkzNyAxNTguMDU0LDcuOTM0IEMxNTguMDQ1LDcuODM3IDE1OC4wMzQsNy43MzkgMTU4LjAyMSw3LjY0IEMxNTguMDA1LDcuNTIzIDE1Ny45OTgsNy40MSAxNTcuOTk4LDcuMzA0IEwxNTcuOTk4LDYuNDE4IEMxNTcuOTk4LDUuODM0IDE1Ny42ODYsNS4yOTUgMTU3LjE4MSw1LjAwMiBDMTU2LjYyNCw0LjY4IDE1MC40NDIsMS4xMTEgMTUwLjQ0MiwxLjExMSBDMTUwLjE4OSwwLjk2NSAxNDkuOTA3LDAuODkyIDE0OS42MjUsMC44OTIiIGlkPSJGaWxsLTEiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTYuMDI3LDI1LjYzNiBMMTQyLjYwMyw1Mi41MjcgQzE0My44MDcsNTMuMjIyIDE0NC41ODIsNTQuMTE0IDE0NC44NDUsNTUuMDY4IEwxNDQuODM1LDU1LjA3NSBMNjMuNDYxLDEwMi4wNTcgTDYzLjQ2LDEwMi4wNTcgQzYxLjgwNiwxMDEuOTA1IDYwLjI2MSwxMDEuNDU3IDU5LjA1NywxMDAuNzYyIEwxMi40ODEsNzMuODcxIEw5Ni4wMjcsMjUuNjM2IiBpZD0iRmlsbC0yIiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTYzLjQ2MSwxMDIuMTc0IEM2My40NTMsMTAyLjE3NCA2My40NDYsMTAyLjE3NCA2My40MzksMTAyLjE3MiBDNjEuNzQ2LDEwMi4wMTYgNjAuMjExLDEwMS41NjMgNTguOTk4LDEwMC44NjMgTDEyLjQyMiw3My45NzMgQzEyLjM4Niw3My45NTIgMTIuMzY0LDczLjkxNCAxMi4zNjQsNzMuODcxIEMxMi4zNjQsNzMuODMgMTIuMzg2LDczLjc5MSAxMi40MjIsNzMuNzcgTDk1Ljk2OCwyNS41MzUgQzk2LjAwNCwyNS41MTQgOTYuMDQ5LDI1LjUxNCA5Ni4wODUsMjUuNTM1IEwxNDIuNjYxLDUyLjQyNiBDMTQzLjg4OCw1My4xMzQgMTQ0LjY4Miw1NC4wMzggMTQ0Ljk1Nyw1NS4wMzcgQzE0NC45Nyw1NS4wODMgMTQ0Ljk1Myw1NS4xMzMgMTQ0LjkxNSw1NS4xNjEgQzE0NC45MTEsNTUuMTY1IDE0NC44OTgsNTUuMTc0IDE0NC44OTQsNTUuMTc3IEw2My41MTksMTAyLjE1OCBDNjMuNTAxLDEwMi4xNjkgNjMuNDgxLDEwMi4xNzQgNjMuNDYxLDEwMi4xNzQgTDYzLjQ2MSwxMDIuMTc0IFogTTEyLjcxNCw3My44NzEgTDU5LjExNSwxMDAuNjYxIEM2MC4yOTMsMTAxLjM0MSA2MS43ODYsMTAxLjc4MiA2My40MzUsMTAxLjkzNyBMMTQ0LjcwNyw1NS4wMTUgQzE0NC40MjgsNTQuMTA4IDE0My42ODIsNTMuMjg1IDE0Mi41NDQsNTIuNjI4IEw5Ni4wMjcsMjUuNzcxIEwxMi43MTQsNzMuODcxIEwxMi43MTQsNzMuODcxIFoiIGlkPSJGaWxsLTMiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ4LjMyNyw1OC40NzEgQzE0OC4xNDUsNTguNDggMTQ3Ljk2Miw1OC40OCAxNDcuNzgxLDU4LjQ3MiBDMTQ1Ljg4Nyw1OC4zODkgMTQ0LjQ3OSw1Ny40MzQgMTQ0LjYzNiw1Ni4zNCBDMTQ0LjY4OSw1NS45NjcgMTQ0LjY2NCw1NS41OTcgMTQ0LjU2NCw1NS4yMzUgTDYzLjQ2MSwxMDIuMDU3IEM2NC4wODksMTAyLjExNSA2NC43MzMsMTAyLjEzIDY1LjM3OSwxMDIuMDk5IEM2NS41NjEsMTAyLjA5IDY1Ljc0MywxMDIuMDkgNjUuOTI1LDEwMi4wOTggQzY3LjgxOSwxMDIuMTgxIDY5LjIyNywxMDMuMTM2IDY5LjA3LDEwNC4yMyBMMTQ4LjMyNyw1OC40NzEiIGlkPSJGaWxsLTQiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNjkuMDcsMTA0LjM0NyBDNjkuMDQ4LDEwNC4zNDcgNjkuMDI1LDEwNC4zNCA2OS4wMDUsMTA0LjMyNyBDNjguOTY4LDEwNC4zMDEgNjguOTQ4LDEwNC4yNTcgNjguOTU1LDEwNC4yMTMgQzY5LDEwMy44OTYgNjguODk4LDEwMy41NzYgNjguNjU4LDEwMy4yODggQzY4LjE1MywxMDIuNjc4IDY3LjEwMywxMDIuMjY2IDY1LjkyLDEwMi4yMTQgQzY1Ljc0MiwxMDIuMjA2IDY1LjU2MywxMDIuMjA3IDY1LjM4NSwxMDIuMjE1IEM2NC43NDIsMTAyLjI0NiA2NC4wODcsMTAyLjIzMiA2My40NSwxMDIuMTc0IEM2My4zOTksMTAyLjE2OSA2My4zNTgsMTAyLjEzMiA2My4zNDcsMTAyLjA4MiBDNjMuMzM2LDEwMi4wMzMgNjMuMzU4LDEwMS45ODEgNjMuNDAyLDEwMS45NTYgTDE0NC41MDYsNTUuMTM0IEMxNDQuNTM3LDU1LjExNiAxNDQuNTc1LDU1LjExMyAxNDQuNjA5LDU1LjEyNyBDMTQ0LjY0Miw1NS4xNDEgMTQ0LjY2OCw1NS4xNyAxNDQuNjc3LDU1LjIwNCBDMTQ0Ljc4MSw1NS41ODUgMTQ0LjgwNiw1NS45NzIgMTQ0Ljc1MSw1Ni4zNTcgQzE0NC43MDYsNTYuNjczIDE0NC44MDgsNTYuOTk0IDE0NS4wNDcsNTcuMjgyIEMxNDUuNTUzLDU3Ljg5MiAxNDYuNjAyLDU4LjMwMyAxNDcuNzg2LDU4LjM1NSBDMTQ3Ljk2NCw1OC4zNjMgMTQ4LjE0Myw1OC4zNjMgMTQ4LjMyMSw1OC4zNTQgQzE0OC4zNzcsNTguMzUyIDE0OC40MjQsNTguMzg3IDE0OC40MzksNTguNDM4IEMxNDguNDU0LDU4LjQ5IDE0OC40MzIsNTguNTQ1IDE0OC4zODUsNTguNTcyIEw2OS4xMjksMTA0LjMzMSBDNjkuMTExLDEwNC4zNDIgNjkuMDksMTA0LjM0NyA2OS4wNywxMDQuMzQ3IEw2OS4wNywxMDQuMzQ3IFogTTY1LjY2NSwxMDEuOTc1IEM2NS43NTQsMTAxLjk3NSA2NS44NDIsMTAxLjk3NyA2NS45MywxMDEuOTgxIEM2Ny4xOTYsMTAyLjAzNyA2OC4yODMsMTAyLjQ2OSA2OC44MzgsMTAzLjEzOSBDNjkuMDY1LDEwMy40MTMgNjkuMTg4LDEwMy43MTQgNjkuMTk4LDEwNC4wMjEgTDE0Ny44ODMsNTguNTkyIEMxNDcuODQ3LDU4LjU5MiAxNDcuODExLDU4LjU5MSAxNDcuNzc2LDU4LjU4OSBDMTQ2LjUwOSw1OC41MzMgMTQ1LjQyMiw1OC4xIDE0NC44NjcsNTcuNDMxIEMxNDQuNTg1LDU3LjA5MSAxNDQuNDY1LDU2LjcwNyAxNDQuNTIsNTYuMzI0IEMxNDQuNTYzLDU2LjAyMSAxNDQuNTUyLDU1LjcxNiAxNDQuNDg4LDU1LjQxNCBMNjMuODQ2LDEwMS45NyBDNjQuMzUzLDEwMi4wMDIgNjQuODY3LDEwMi4wMDYgNjUuMzc0LDEwMS45ODIgQzY1LjQ3MSwxMDEuOTc3IDY1LjU2OCwxMDEuOTc1IDY1LjY2NSwxMDEuOTc1IEw2NS42NjUsMTAxLjk3NSBaIiBpZD0iRmlsbC01IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTIuMjA4LDU1LjEzNCBDMS4yMDcsNTMuMzA3IDEuOTY3LDUwLjkxNyAzLjkwNiw0OS43OTcgTDU5LjkxNywxNy40NTMgQzYxLjg1NiwxNi4zMzMgNjQuMjQxLDE2LjkwNyA2NS4yNDMsMTguNzM0IEw2NS40NzUsMTkuMTQ0IEM2NS44NzIsMTkuODgyIDY2LjM2OCwyMC41NiA2Ni45NDUsMjEuMTY1IEw2Ny4yMjMsMjEuNDM1IEM3MC41NDgsMjQuNjQ5IDc1LjgwNiwyNS4xNTEgODAuMTExLDIyLjY2NSBMODcuNDMsMTguNDQ1IEM4OS4zNywxNy4zMjYgOTEuNzU0LDE3Ljg5OSA5Mi43NTUsMTkuNzI3IEw5Ni4wMDUsMjUuNjU1IEwxMi40ODYsNzMuODg0IEwyLjIwOCw1NS4xMzQgWiIgaWQ9IkZpbGwtNiIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMi40ODYsNzQuMDAxIEMxMi40NzYsNzQuMDAxIDEyLjQ2NSw3My45OTkgMTIuNDU1LDczLjk5NiBDMTIuNDI0LDczLjk4OCAxMi4zOTksNzMuOTY3IDEyLjM4NCw3My45NCBMMi4xMDYsNTUuMTkgQzEuMDc1LDUzLjMxIDEuODU3LDUwLjg0NSAzLjg0OCw0OS42OTYgTDU5Ljg1OCwxNy4zNTIgQzYwLjUyNSwxNi45NjcgNjEuMjcxLDE2Ljc2NCA2Mi4wMTYsMTYuNzY0IEM2My40MzEsMTYuNzY0IDY0LjY2NiwxNy40NjYgNjUuMzI3LDE4LjY0NiBDNjUuMzM3LDE4LjY1NCA2NS4zNDUsMTguNjYzIDY1LjM1MSwxOC42NzQgTDY1LjU3OCwxOS4wODggQzY1LjU4NCwxOS4xIDY1LjU4OSwxOS4xMTIgNjUuNTkxLDE5LjEyNiBDNjUuOTg1LDE5LjgzOCA2Ni40NjksMjAuNDk3IDY3LjAzLDIxLjA4NSBMNjcuMzA1LDIxLjM1MSBDNjkuMTUxLDIzLjEzNyA3MS42NDksMjQuMTIgNzQuMzM2LDI0LjEyIEM3Ni4zMTMsMjQuMTIgNzguMjksMjMuNTgyIDgwLjA1MywyMi41NjMgQzgwLjA2NCwyMi41NTcgODAuMDc2LDIyLjU1MyA4MC4wODgsMjIuNTUgTDg3LjM3MiwxOC4zNDQgQzg4LjAzOCwxNy45NTkgODguNzg0LDE3Ljc1NiA4OS41MjksMTcuNzU2IEM5MC45NTYsMTcuNzU2IDkyLjIwMSwxOC40NzIgOTIuODU4LDE5LjY3IEw5Ni4xMDcsMjUuNTk5IEM5Ni4xMzgsMjUuNjU0IDk2LjExOCwyNS43MjQgOTYuMDYzLDI1Ljc1NiBMMTIuNTQ1LDczLjk4NSBDMTIuNTI2LDczLjk5NiAxMi41MDYsNzQuMDAxIDEyLjQ4Niw3NC4wMDEgTDEyLjQ4Niw3NC4wMDEgWiBNNjIuMDE2LDE2Ljk5NyBDNjEuMzEyLDE2Ljk5NyA2MC42MDYsMTcuMTkgNTkuOTc1LDE3LjU1NCBMMy45NjUsNDkuODk5IEMyLjA4Myw1MC45ODUgMS4zNDEsNTMuMzA4IDIuMzEsNTUuMDc4IEwxMi41MzEsNzMuNzIzIEw5NS44NDgsMjUuNjExIEw5Mi42NTMsMTkuNzgyIEM5Mi4wMzgsMTguNjYgOTAuODcsMTcuOTkgODkuNTI5LDE3Ljk5IEM4OC44MjUsMTcuOTkgODguMTE5LDE4LjE4MiA4Ny40ODksMTguNTQ3IEw4MC4xNzIsMjIuNzcyIEM4MC4xNjEsMjIuNzc4IDgwLjE0OSwyMi43ODIgODAuMTM3LDIyLjc4NSBDNzguMzQ2LDIzLjgxMSA3Ni4zNDEsMjQuMzU0IDc0LjMzNiwyNC4zNTQgQzcxLjU4OCwyNC4zNTQgNjkuMDMzLDIzLjM0NyA2Ny4xNDIsMjEuNTE5IEw2Ni44NjQsMjEuMjQ5IEM2Ni4yNzcsMjAuNjM0IDY1Ljc3NCwxOS45NDcgNjUuMzY3LDE5LjIwMyBDNjUuMzYsMTkuMTkyIDY1LjM1NiwxOS4xNzkgNjUuMzU0LDE5LjE2NiBMNjUuMTYzLDE4LjgxOSBDNjUuMTU0LDE4LjgxMSA2NS4xNDYsMTguODAxIDY1LjE0LDE4Ljc5IEM2NC41MjUsMTcuNjY3IDYzLjM1NywxNi45OTcgNjIuMDE2LDE2Ljk5NyBMNjIuMDE2LDE2Ljk5NyBaIiBpZD0iRmlsbC03IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTQyLjQzNCw0OC44MDggTDQyLjQzNCw0OC44MDggQzM5LjkyNCw0OC44MDcgMzcuNzM3LDQ3LjU1IDM2LjU4Miw0NS40NDMgQzM0Ljc3MSw0Mi4xMzkgMzYuMTQ0LDM3LjgwOSAzOS42NDEsMzUuNzg5IEw1MS45MzIsMjguNjkxIEM1My4xMDMsMjguMDE1IDU0LjQxMywyNy42NTggNTUuNzIxLDI3LjY1OCBDNTguMjMxLDI3LjY1OCA2MC40MTgsMjguOTE2IDYxLjU3MywzMS4wMjMgQzYzLjM4NCwzNC4zMjcgNjIuMDEyLDM4LjY1NyA1OC41MTQsNDAuNjc3IEw0Ni4yMjMsNDcuNzc1IEM0NS4wNTMsNDguNDUgNDMuNzQyLDQ4LjgwOCA0Mi40MzQsNDguODA4IEw0Mi40MzQsNDguODA4IFogTTU1LjcyMSwyOC4xMjUgQzU0LjQ5NSwyOC4xMjUgNTMuMjY1LDI4LjQ2MSA1Mi4xNjYsMjkuMDk2IEwzOS44NzUsMzYuMTk0IEMzNi41OTYsMzguMDg3IDM1LjMwMiw0Mi4xMzYgMzYuOTkyLDQ1LjIxOCBDMzguMDYzLDQ3LjE3MyA0MC4wOTgsNDguMzQgNDIuNDM0LDQ4LjM0IEM0My42NjEsNDguMzQgNDQuODksNDguMDA1IDQ1Ljk5LDQ3LjM3IEw1OC4yODEsNDAuMjcyIEM2MS41NiwzOC4zNzkgNjIuODUzLDM0LjMzIDYxLjE2NCwzMS4yNDggQzYwLjA5MiwyOS4yOTMgNTguMDU4LDI4LjEyNSA1NS43MjEsMjguMTI1IEw1NS43MjEsMjguMTI1IFoiIGlkPSJGaWxsLTgiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ5LjU4OCwyLjQwNyBDMTQ5LjU4OCwyLjQwNyAxNTUuNzY4LDUuOTc1IDE1Ni4zMjUsNi4yOTcgTDE1Ni4zMjUsNy4xODQgQzE1Ni4zMjUsNy4zNiAxNTYuMzM4LDcuNTQ0IDE1Ni4zNjIsNy43MzMgQzE1Ni4zNzMsNy44MTQgMTU2LjM4Miw3Ljg5NCAxNTYuMzksNy45NzUgQzE1Ni41Myw5LjM5IDE1Ny4zNjMsMTAuOTczIDE1OC40OTUsMTEuOTc0IEwxNjUuODkxLDE4LjUxOSBDMTY2LjA2OCwxOC42NzUgMTY2LjI0OSwxOC44MTQgMTY2LjQzMiwxOC45MzQgQzE2OC4wMTEsMTkuOTc0IDE2OS4zODIsMTkuNCAxNjkuNDk0LDE3LjY1MiBDMTY5LjU0MywxNi44NjggMTY5LjU1MSwxNi4wNTcgMTY5LjUxNywxNS4yMjMgTDE2OS41MTQsMTUuMDYzIEwxNjkuNTE0LDEzLjkxMiBDMTcwLjc4LDE0LjY0MiAxOTUuNTAxLDI4LjkxNSAxOTUuNTAxLDI4LjkxNSBMMTk1LjUwMSw4Mi45MTUgQzE5NS41MDEsODQuMDA1IDE5NC43MzEsODQuNDQ1IDE5My43ODEsODMuODk3IEwxNTEuMzA4LDU5LjM3NCBDMTUwLjM1OCw1OC44MjYgMTQ5LjU4OCw1Ny40OTcgMTQ5LjU4OCw1Ni40MDggTDE0OS41ODgsMjIuMzc1IiBpZD0iRmlsbC05IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE5NC41NTMsODQuMjUgQzE5NC4yOTYsODQuMjUgMTk0LjAxMyw4NC4xNjUgMTkzLjcyMiw4My45OTcgTDE1MS4yNSw1OS40NzYgQzE1MC4yNjksNTguOTA5IDE0OS40NzEsNTcuNTMzIDE0OS40NzEsNTYuNDA4IEwxNDkuNDcxLDIyLjM3NSBMMTQ5LjcwNSwyMi4zNzUgTDE0OS43MDUsNTYuNDA4IEMxNDkuNzA1LDU3LjQ1OSAxNTAuNDUsNTguNzQ0IDE1MS4zNjYsNTkuMjc0IEwxOTMuODM5LDgzLjc5NSBDMTk0LjI2Myw4NC4wNCAxOTQuNjU1LDg0LjA4MyAxOTQuOTQyLDgzLjkxNyBDMTk1LjIyNyw4My43NTMgMTk1LjM4NCw4My4zOTcgMTk1LjM4NCw4Mi45MTUgTDE5NS4zODQsMjguOTgyIEMxOTQuMTAyLDI4LjI0MiAxNzIuMTA0LDE1LjU0MiAxNjkuNjMxLDE0LjExNCBMMTY5LjYzNCwxNS4yMiBDMTY5LjY2OCwxNi4wNTIgMTY5LjY2LDE2Ljg3NCAxNjkuNjEsMTcuNjU5IEMxNjkuNTU2LDE4LjUwMyAxNjkuMjE0LDE5LjEyMyAxNjguNjQ3LDE5LjQwNSBDMTY4LjAyOCwxOS43MTQgMTY3LjE5NywxOS41NzggMTY2LjM2NywxOS4wMzIgQzE2Ni4xODEsMTguOTA5IDE2NS45OTUsMTguNzY2IDE2NS44MTQsMTguNjA2IEwxNTguNDE3LDEyLjA2MiBDMTU3LjI1OSwxMS4wMzYgMTU2LjQxOCw5LjQzNyAxNTYuMjc0LDcuOTg2IEMxNTYuMjY2LDcuOTA3IDE1Ni4yNTcsNy44MjcgMTU2LjI0Nyw3Ljc0OCBDMTU2LjIyMSw3LjU1NSAxNTYuMjA5LDcuMzY1IDE1Ni4yMDksNy4xODQgTDE1Ni4yMDksNi4zNjQgQzE1NS4zNzUsNS44ODMgMTQ5LjUyOSwyLjUwOCAxNDkuNTI5LDIuNTA4IEwxNDkuNjQ2LDIuMzA2IEMxNDkuNjQ2LDIuMzA2IDE1NS44MjcsNS44NzQgMTU2LjM4NCw2LjE5NiBMMTU2LjQ0Miw2LjIzIEwxNTYuNDQyLDcuMTg0IEMxNTYuNDQyLDcuMzU1IDE1Ni40NTQsNy41MzUgMTU2LjQ3OCw3LjcxNyBDMTU2LjQ4OSw3LjggMTU2LjQ5OSw3Ljg4MiAxNTYuNTA3LDcuOTYzIEMxNTYuNjQ1LDkuMzU4IDE1Ny40NTUsMTAuODk4IDE1OC41NzIsMTEuODg2IEwxNjUuOTY5LDE4LjQzMSBDMTY2LjE0MiwxOC41ODQgMTY2LjMxOSwxOC43MiAxNjYuNDk2LDE4LjgzNyBDMTY3LjI1NCwxOS4zMzYgMTY4LDE5LjQ2NyAxNjguNTQzLDE5LjE5NiBDMTY5LjAzMywxOC45NTMgMTY5LjMyOSwxOC40MDEgMTY5LjM3NywxNy42NDUgQzE2OS40MjcsMTYuODY3IDE2OS40MzQsMTYuMDU0IDE2OS40MDEsMTUuMjI4IEwxNjkuMzk3LDE1LjA2NSBMMTY5LjM5NywxMy43MSBMMTY5LjU3MiwxMy44MSBDMTcwLjgzOSwxNC41NDEgMTk1LjU1OSwyOC44MTQgMTk1LjU1OSwyOC44MTQgTDE5NS42MTgsMjguODQ3IEwxOTUuNjE4LDgyLjkxNSBDMTk1LjYxOCw4My40ODQgMTk1LjQyLDgzLjkxMSAxOTUuMDU5LDg0LjExOSBDMTk0LjkwOCw4NC4yMDYgMTk0LjczNyw4NC4yNSAxOTQuNTUzLDg0LjI1IiBpZD0iRmlsbC0xMCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNDUuNjg1LDU2LjE2MSBMMTY5LjgsNzAuMDgzIEwxNDMuODIyLDg1LjA4MSBMMTQyLjM2LDg0Ljc3NCBDMTM1LjgyNiw4Mi42MDQgMTI4LjczMiw4MS4wNDYgMTIxLjM0MSw4MC4xNTggQzExNi45NzYsNzkuNjM0IDExMi42NzgsODEuMjU0IDExMS43NDMsODMuNzc4IEMxMTEuNTA2LDg0LjQxNCAxMTEuNTAzLDg1LjA3MSAxMTEuNzMyLDg1LjcwNiBDMTEzLjI3LDg5Ljk3MyAxMTUuOTY4LDk0LjA2OSAxMTkuNzI3LDk3Ljg0MSBMMTIwLjI1OSw5OC42ODYgQzEyMC4yNiw5OC42ODUgOTQuMjgyLDExMy42ODMgOTQuMjgyLDExMy42ODMgTDcwLjE2Nyw5OS43NjEgTDE0NS42ODUsNTYuMTYxIiBpZD0iRmlsbC0xMSIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik05NC4yODIsMTEzLjgxOCBMOTQuMjIzLDExMy43ODUgTDY5LjkzMyw5OS43NjEgTDcwLjEwOCw5OS42NiBMMTQ1LjY4NSw1Ni4wMjYgTDE0NS43NDMsNTYuMDU5IEwxNzAuMDMzLDcwLjA4MyBMMTQzLjg0Miw4NS4yMDUgTDE0My43OTcsODUuMTk1IEMxNDMuNzcyLDg1LjE5IDE0Mi4zMzYsODQuODg4IDE0Mi4zMzYsODQuODg4IEMxMzUuNzg3LDgyLjcxNCAxMjguNzIzLDgxLjE2MyAxMjEuMzI3LDgwLjI3NCBDMTIwLjc4OCw4MC4yMDkgMTIwLjIzNiw4MC4xNzcgMTE5LjY4OSw4MC4xNzcgQzExNS45MzEsODAuMTc3IDExMi42MzUsODEuNzA4IDExMS44NTIsODMuODE5IEMxMTEuNjI0LDg0LjQzMiAxMTEuNjIxLDg1LjA1MyAxMTEuODQyLDg1LjY2NyBDMTEzLjM3Nyw4OS45MjUgMTE2LjA1OCw5My45OTMgMTE5LjgxLDk3Ljc1OCBMMTE5LjgyNiw5Ny43NzkgTDEyMC4zNTIsOTguNjE0IEMxMjAuMzU0LDk4LjYxNyAxMjAuMzU2LDk4LjYyIDEyMC4zNTgsOTguNjI0IEwxMjAuNDIyLDk4LjcyNiBMMTIwLjMxNyw5OC43ODcgQzEyMC4yNjQsOTguODE4IDk0LjU5OSwxMTMuNjM1IDk0LjM0LDExMy43ODUgTDk0LjI4MiwxMTMuODE4IEw5NC4yODIsMTEzLjgxOCBaIE03MC40MDEsOTkuNzYxIEw5NC4yODIsMTEzLjU0OSBMMTE5LjA4NCw5OS4yMjkgQzExOS42Myw5OC45MTQgMTE5LjkzLDk4Ljc0IDEyMC4xMDEsOTguNjU0IEwxMTkuNjM1LDk3LjkxNCBDMTE1Ljg2NCw5NC4xMjcgMTEzLjE2OCw5MC4wMzMgMTExLjYyMiw4NS43NDYgQzExMS4zODIsODUuMDc5IDExMS4zODYsODQuNDA0IDExMS42MzMsODMuNzM4IEMxMTIuNDQ4LDgxLjUzOSAxMTUuODM2LDc5Ljk0MyAxMTkuNjg5LDc5Ljk0MyBDMTIwLjI0Niw3OS45NDMgMTIwLjgwNiw3OS45NzYgMTIxLjM1NSw4MC4wNDIgQzEyOC43NjcsODAuOTMzIDEzNS44NDYsODIuNDg3IDE0Mi4zOTYsODQuNjYzIEMxNDMuMjMyLDg0LjgzOCAxNDMuNjExLDg0LjkxNyAxNDMuNzg2LDg0Ljk2NyBMMTY5LjU2Niw3MC4wODMgTDE0NS42ODUsNTYuMjk1IEw3MC40MDEsOTkuNzYxIEw3MC40MDEsOTkuNzYxIFoiIGlkPSJGaWxsLTEyIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2Ny4yMywxOC45NzkgTDE2Ny4yMyw2OS44NSBMMTM5LjkwOSw4NS42MjMgTDEzMy40NDgsNzEuNDU2IEMxMzIuNTM4LDY5LjQ2IDEzMC4wMiw2OS43MTggMTI3LjgyNCw3Mi4wMyBDMTI2Ljc2OSw3My4xNCAxMjUuOTMxLDc0LjU4NSAxMjUuNDk0LDc2LjA0OCBMMTE5LjAzNCw5Ny42NzYgTDkxLjcxMiwxMTMuNDUgTDkxLjcxMiw2Mi41NzkgTDE2Ny4yMywxOC45NzkiIGlkPSJGaWxsLTEzIiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTkxLjcxMiwxMTMuNTY3IEM5MS42OTIsMTEzLjU2NyA5MS42NzIsMTEzLjU2MSA5MS42NTMsMTEzLjU1MSBDOTEuNjE4LDExMy41MyA5MS41OTUsMTEzLjQ5MiA5MS41OTUsMTEzLjQ1IEw5MS41OTUsNjIuNTc5IEM5MS41OTUsNjIuNTM3IDkxLjYxOCw2Mi40OTkgOTEuNjUzLDYyLjQ3OCBMMTY3LjE3MiwxOC44NzggQzE2Ny4yMDgsMTguODU3IDE2Ny4yNTIsMTguODU3IDE2Ny4yODgsMTguODc4IEMxNjcuMzI0LDE4Ljg5OSAxNjcuMzQ3LDE4LjkzNyAxNjcuMzQ3LDE4Ljk3OSBMMTY3LjM0Nyw2OS44NSBDMTY3LjM0Nyw2OS44OTEgMTY3LjMyNCw2OS45MyAxNjcuMjg4LDY5Ljk1IEwxMzkuOTY3LDg1LjcyNSBDMTM5LjkzOSw4NS43NDEgMTM5LjkwNSw4NS43NDUgMTM5Ljg3Myw4NS43MzUgQzEzOS44NDIsODUuNzI1IDEzOS44MTYsODUuNzAyIDEzOS44MDIsODUuNjcyIEwxMzMuMzQyLDcxLjUwNCBDMTMyLjk2Nyw3MC42ODIgMTMyLjI4LDcwLjIyOSAxMzEuNDA4LDcwLjIyOSBDMTMwLjMxOSw3MC4yMjkgMTI5LjA0NCw3MC45MTUgMTI3LjkwOCw3Mi4xMSBDMTI2Ljg3NCw3My4yIDEyNi4wMzQsNzQuNjQ3IDEyNS42MDYsNzYuMDgyIEwxMTkuMTQ2LDk3LjcwOSBDMTE5LjEzNyw5Ny43MzggMTE5LjExOCw5Ny43NjIgMTE5LjA5Miw5Ny43NzcgTDkxLjc3LDExMy41NTEgQzkxLjc1MiwxMTMuNTYxIDkxLjczMiwxMTMuNTY3IDkxLjcxMiwxMTMuNTY3IEw5MS43MTIsMTEzLjU2NyBaIE05MS44MjksNjIuNjQ3IEw5MS44MjksMTEzLjI0OCBMMTE4LjkzNSw5Ny41OTggTDEyNS4zODIsNzYuMDE1IEMxMjUuODI3LDc0LjUyNSAxMjYuNjY0LDczLjA4MSAxMjcuNzM5LDcxLjk1IEMxMjguOTE5LDcwLjcwOCAxMzAuMjU2LDY5Ljk5NiAxMzEuNDA4LDY5Ljk5NiBDMTMyLjM3Nyw2OS45OTYgMTMzLjEzOSw3MC40OTcgMTMzLjU1NCw3MS40MDcgTDEzOS45NjEsODUuNDU4IEwxNjcuMTEzLDY5Ljc4MiBMMTY3LjExMywxOS4xODEgTDkxLjgyOSw2Mi42NDcgTDkxLjgyOSw2Mi42NDcgWiIgaWQ9IkZpbGwtMTQiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTY4LjU0MywxOS4yMTMgTDE2OC41NDMsNzAuMDgzIEwxNDEuMjIxLDg1Ljg1NyBMMTM0Ljc2MSw3MS42ODkgQzEzMy44NTEsNjkuNjk0IDEzMS4zMzMsNjkuOTUxIDEyOS4xMzcsNzIuMjYzIEMxMjguMDgyLDczLjM3NCAxMjcuMjQ0LDc0LjgxOSAxMjYuODA3LDc2LjI4MiBMMTIwLjM0Niw5Ny45MDkgTDkzLjAyNSwxMTMuNjgzIEw5My4wMjUsNjIuODEzIEwxNjguNTQzLDE5LjIxMyIgaWQ9IkZpbGwtMTUiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTMuMDI1LDExMy44IEM5My4wMDUsMTEzLjggOTIuOTg0LDExMy43OTUgOTIuOTY2LDExMy43ODUgQzkyLjkzMSwxMTMuNzY0IDkyLjkwOCwxMTMuNzI1IDkyLjkwOCwxMTMuNjg0IEw5Mi45MDgsNjIuODEzIEM5Mi45MDgsNjIuNzcxIDkyLjkzMSw2Mi43MzMgOTIuOTY2LDYyLjcxMiBMMTY4LjQ4NCwxOS4xMTIgQzE2OC41MiwxOS4wOSAxNjguNTY1LDE5LjA5IDE2OC42MDEsMTkuMTEyIEMxNjguNjM3LDE5LjEzMiAxNjguNjYsMTkuMTcxIDE2OC42NiwxOS4yMTIgTDE2OC42Niw3MC4wODMgQzE2OC42Niw3MC4xMjUgMTY4LjYzNyw3MC4xNjQgMTY4LjYwMSw3MC4xODQgTDE0MS4yOCw4NS45NTggQzE0MS4yNTEsODUuOTc1IDE0MS4yMTcsODUuOTc5IDE0MS4xODYsODUuOTY4IEMxNDEuMTU0LDg1Ljk1OCAxNDEuMTI5LDg1LjkzNiAxNDEuMTE1LDg1LjkwNiBMMTM0LjY1NSw3MS43MzggQzEzNC4yOCw3MC45MTUgMTMzLjU5Myw3MC40NjMgMTMyLjcyLDcwLjQ2MyBDMTMxLjYzMiw3MC40NjMgMTMwLjM1Nyw3MS4xNDggMTI5LjIyMSw3Mi4zNDQgQzEyOC4xODYsNzMuNDMzIDEyNy4zNDcsNzQuODgxIDEyNi45MTksNzYuMzE1IEwxMjAuNDU4LDk3Ljk0MyBDMTIwLjQ1LDk3Ljk3MiAxMjAuNDMxLDk3Ljk5NiAxMjAuNDA1LDk4LjAxIEw5My4wODMsMTEzLjc4NSBDOTMuMDY1LDExMy43OTUgOTMuMDQ1LDExMy44IDkzLjAyNSwxMTMuOCBMOTMuMDI1LDExMy44IFogTTkzLjE0Miw2Mi44ODEgTDkzLjE0MiwxMTMuNDgxIEwxMjAuMjQ4LDk3LjgzMiBMMTI2LjY5NSw3Ni4yNDggQzEyNy4xNCw3NC43NTggMTI3Ljk3Nyw3My4zMTUgMTI5LjA1Miw3Mi4xODMgQzEzMC4yMzEsNzAuOTQyIDEzMS41NjgsNzAuMjI5IDEzMi43Miw3MC4yMjkgQzEzMy42ODksNzAuMjI5IDEzNC40NTIsNzAuNzMxIDEzNC44NjcsNzEuNjQxIEwxNDEuMjc0LDg1LjY5MiBMMTY4LjQyNiw3MC4wMTYgTDE2OC40MjYsMTkuNDE1IEw5My4xNDIsNjIuODgxIEw5My4xNDIsNjIuODgxIFoiIGlkPSJGaWxsLTE2IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2OS44LDcwLjA4MyBMMTQyLjQ3OCw4NS44NTcgTDEzNi4wMTgsNzEuNjg5IEMxMzUuMTA4LDY5LjY5NCAxMzIuNTksNjkuOTUxIDEzMC4zOTMsNzIuMjYzIEMxMjkuMzM5LDczLjM3NCAxMjguNSw3NC44MTkgMTI4LjA2NCw3Ni4yODIgTDEyMS42MDMsOTcuOTA5IEw5NC4yODIsMTEzLjY4MyBMOTQuMjgyLDYyLjgxMyBMMTY5LjgsMTkuMjEzIEwxNjkuOCw3MC4wODMgWiIgaWQ9IkZpbGwtMTciIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTQuMjgyLDExMy45MTcgQzk0LjI0MSwxMTMuOTE3IDk0LjIwMSwxMTMuOTA3IDk0LjE2NSwxMTMuODg2IEM5NC4wOTMsMTEzLjg0NSA5NC4wNDgsMTEzLjc2NyA5NC4wNDgsMTEzLjY4NCBMOTQuMDQ4LDYyLjgxMyBDOTQuMDQ4LDYyLjczIDk0LjA5Myw2Mi42NTIgOTQuMTY1LDYyLjYxMSBMMTY5LjY4MywxOS4wMSBDMTY5Ljc1NSwxOC45NjkgMTY5Ljg0NCwxOC45NjkgMTY5LjkxNywxOS4wMSBDMTY5Ljk4OSwxOS4wNTIgMTcwLjAzMywxOS4xMjkgMTcwLjAzMywxOS4yMTIgTDE3MC4wMzMsNzAuMDgzIEMxNzAuMDMzLDcwLjE2NiAxNjkuOTg5LDcwLjI0NCAxNjkuOTE3LDcwLjI4NSBMMTQyLjU5NSw4Ni4wNiBDMTQyLjUzOCw4Ni4wOTIgMTQyLjQ2OSw4Ni4xIDE0Mi40MDcsODYuMDggQzE0Mi4zNDQsODYuMDYgMTQyLjI5Myw4Ni4wMTQgMTQyLjI2Niw4NS45NTQgTDEzNS44MDUsNzEuNzg2IEMxMzUuNDQ1LDcwLjk5NyAxMzQuODEzLDcwLjU4IDEzMy45NzcsNzAuNTggQzEzMi45MjEsNzAuNTggMTMxLjY3Niw3MS4yNTIgMTMwLjU2Miw3Mi40MjQgQzEyOS41NCw3My41MDEgMTI4LjcxMSw3NC45MzEgMTI4LjI4Nyw3Ni4zNDggTDEyMS44MjcsOTcuOTc2IEMxMjEuODEsOTguMDM0IDEyMS43NzEsOTguMDgyIDEyMS43Miw5OC4xMTIgTDk0LjM5OCwxMTMuODg2IEM5NC4zNjIsMTEzLjkwNyA5NC4zMjIsMTEzLjkxNyA5NC4yODIsMTEzLjkxNyBMOTQuMjgyLDExMy45MTcgWiBNOTQuNTE1LDYyLjk0OCBMOTQuNTE1LDExMy4yNzkgTDEyMS40MDYsOTcuNzU0IEwxMjcuODQsNzYuMjE1IEMxMjguMjksNzQuNzA4IDEyOS4xMzcsNzMuMjQ3IDEzMC4yMjQsNzIuMTAzIEMxMzEuNDI1LDcwLjgzOCAxMzIuNzkzLDcwLjExMiAxMzMuOTc3LDcwLjExMiBDMTM0Ljk5NSw3MC4xMTIgMTM1Ljc5NSw3MC42MzggMTM2LjIzLDcxLjU5MiBMMTQyLjU4NCw4NS41MjYgTDE2OS41NjYsNjkuOTQ4IEwxNjkuNTY2LDE5LjYxNyBMOTQuNTE1LDYyLjk0OCBMOTQuNTE1LDYyLjk0OCBaIiBpZD0iRmlsbC0xOCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMDkuODk0LDkyLjk0MyBMMTA5Ljg5NCw5Mi45NDMgQzEwOC4xMiw5Mi45NDMgMTA2LjY1Myw5Mi4yMTggMTA1LjY1LDkwLjgyMyBDMTA1LjU4Myw5MC43MzEgMTA1LjU5Myw5MC42MSAxMDUuNjczLDkwLjUyOSBDMTA1Ljc1Myw5MC40NDggMTA1Ljg4LDkwLjQ0IDEwNS45NzQsOTAuNTA2IEMxMDYuNzU0LDkxLjA1MyAxMDcuNjc5LDkxLjMzMyAxMDguNzI0LDkxLjMzMyBDMTEwLjA0Nyw5MS4zMzMgMTExLjQ3OCw5MC44OTQgMTEyLjk4LDkwLjAyNyBDMTE4LjI5MSw4Ni45NiAxMjIuNjExLDc5LjUwOSAxMjIuNjExLDczLjQxNiBDMTIyLjYxMSw3MS40ODkgMTIyLjE2OSw2OS44NTYgMTIxLjMzMyw2OC42OTIgQzEyMS4yNjYsNjguNiAxMjEuMjc2LDY4LjQ3MyAxMjEuMzU2LDY4LjM5MiBDMTIxLjQzNiw2OC4zMTEgMTIxLjU2Myw2OC4yOTkgMTIxLjY1Niw2OC4zNjUgQzEyMy4zMjcsNjkuNTM3IDEyNC4yNDcsNzEuNzQ2IDEyNC4yNDcsNzQuNTg0IEMxMjQuMjQ3LDgwLjgyNiAxMTkuODIxLDg4LjQ0NyAxMTQuMzgyLDkxLjU4NyBDMTEyLjgwOCw5Mi40OTUgMTExLjI5OCw5Mi45NDMgMTA5Ljg5NCw5Mi45NDMgTDEwOS44OTQsOTIuOTQzIFogTTEwNi45MjUsOTEuNDAxIEMxMDcuNzM4LDkyLjA1MiAxMDguNzQ1LDkyLjI3OCAxMDkuODkzLDkyLjI3OCBMMTA5Ljg5NCw5Mi4yNzggQzExMS4yMTUsOTIuMjc4IDExMi42NDcsOTEuOTUxIDExNC4xNDgsOTEuMDg0IEMxMTkuNDU5LDg4LjAxNyAxMjMuNzgsODAuNjIxIDEyMy43OCw3NC41MjggQzEyMy43OCw3Mi41NDkgMTIzLjMxNyw3MC45MjkgMTIyLjQ1NCw2OS43NjcgQzEyMi44NjUsNzAuODAyIDEyMy4wNzksNzIuMDQyIDEyMy4wNzksNzMuNDAyIEMxMjMuMDc5LDc5LjY0NSAxMTguNjUzLDg3LjI4NSAxMTMuMjE0LDkwLjQyNSBDMTExLjY0LDkxLjMzNCAxMTAuMTMsOTEuNzQyIDEwOC43MjQsOTEuNzQyIEMxMDguMDgzLDkxLjc0MiAxMDcuNDgxLDkxLjU5MyAxMDYuOTI1LDkxLjQwMSBMMTA2LjkyNSw5MS40MDEgWiIgaWQ9IkZpbGwtMTkiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjA5Nyw5MC4yMyBDMTE4LjQ4MSw4Ny4xMjIgMTIyLjg0NSw3OS41OTQgMTIyLjg0NSw3My40MTYgQzEyMi44NDUsNzEuMzY1IDEyMi4zNjIsNjkuNzI0IDEyMS41MjIsNjguNTU2IEMxMTkuNzM4LDY3LjMwNCAxMTcuMTQ4LDY3LjM2MiAxMTQuMjY1LDY5LjAyNiBDMTA4Ljg4MSw3Mi4xMzQgMTA0LjUxNyw3OS42NjIgMTA0LjUxNyw4NS44NCBDMTA0LjUxNyw4Ny44OTEgMTA1LDg5LjUzMiAxMDUuODQsOTAuNyBDMTA3LjYyNCw5MS45NTIgMTEwLjIxNCw5MS44OTQgMTEzLjA5Nyw5MC4yMyIgaWQ9IkZpbGwtMjAiIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTA4LjcyNCw5MS42MTQgTDEwOC43MjQsOTEuNjE0IEMxMDcuNTgyLDkxLjYxNCAxMDYuNTY2LDkxLjQwMSAxMDUuNzA1LDkwLjc5NyBDMTA1LjY4NCw5MC43ODMgMTA1LjY2NSw5MC44MTEgMTA1LjY1LDkwLjc5IEMxMDQuNzU2LDg5LjU0NiAxMDQuMjgzLDg3Ljg0MiAxMDQuMjgzLDg1LjgxNyBDMTA0LjI4Myw3OS41NzUgMTA4LjcwOSw3MS45NTMgMTE0LjE0OCw2OC44MTIgQzExNS43MjIsNjcuOTA0IDExNy4yMzIsNjcuNDQ5IDExOC42MzgsNjcuNDQ5IEMxMTkuNzgsNjcuNDQ5IDEyMC43OTYsNjcuNzU4IDEyMS42NTYsNjguMzYyIEMxMjEuNjc4LDY4LjM3NyAxMjEuNjk3LDY4LjM5NyAxMjEuNzEyLDY4LjQxOCBDMTIyLjYwNiw2OS42NjIgMTIzLjA3OSw3MS4zOSAxMjMuMDc5LDczLjQxNSBDMTIzLjA3OSw3OS42NTggMTE4LjY1Myw4Ny4xOTggMTEzLjIxNCw5MC4zMzggQzExMS42NCw5MS4yNDcgMTEwLjEzLDkxLjYxNCAxMDguNzI0LDkxLjYxNCBMMTA4LjcyNCw5MS42MTQgWiBNMTA2LjAwNiw5MC41MDUgQzEwNi43OCw5MS4wMzcgMTA3LjY5NCw5MS4yODEgMTA4LjcyNCw5MS4yODEgQzExMC4wNDcsOTEuMjgxIDExMS40NzgsOTAuODY4IDExMi45OCw5MC4wMDEgQzExOC4yOTEsODYuOTM1IDEyMi42MTEsNzkuNDk2IDEyMi42MTEsNzMuNDAzIEMxMjIuNjExLDcxLjQ5NCAxMjIuMTc3LDY5Ljg4IDEyMS4zNTYsNjguNzE4IEMxMjAuNTgyLDY4LjE4NSAxMTkuNjY4LDY3LjkxOSAxMTguNjM4LDY3LjkxOSBDMTE3LjMxNSw2Ny45MTkgMTE1Ljg4Myw2OC4zNiAxMTQuMzgyLDY5LjIyNyBDMTA5LjA3MSw3Mi4yOTMgMTA0Ljc1MSw3OS43MzMgMTA0Ljc1MSw4NS44MjYgQzEwNC43NTEsODcuNzM1IDEwNS4xODUsODkuMzQzIDEwNi4wMDYsOTAuNTA1IEwxMDYuMDA2LDkwLjUwNSBaIiBpZD0iRmlsbC0yMSIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNDkuMzE4LDcuMjYyIEwxMzkuMzM0LDE2LjE0IEwxNTUuMjI3LDI3LjE3MSBMMTYwLjgxNiwyMS4wNTkgTDE0OS4zMTgsNy4yNjIiIGlkPSJGaWxsLTIyIiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2OS42NzYsMTMuODQgTDE1OS45MjgsMTkuNDY3IEMxNTYuMjg2LDIxLjU3IDE1MC40LDIxLjU4IDE0Ni43ODEsMTkuNDkxIEMxNDMuMTYxLDE3LjQwMiAxNDMuMTgsMTQuMDAzIDE0Ni44MjIsMTEuOSBMMTU2LjMxNyw2LjI5MiBMMTQ5LjU4OCwyLjQwNyBMNjcuNzUyLDQ5LjQ3OCBMMTEzLjY3NSw3NS45OTIgTDExNi43NTYsNzQuMjEzIEMxMTcuMzg3LDczLjg0OCAxMTcuNjI1LDczLjMxNSAxMTcuMzc0LDcyLjgyMyBDMTE1LjAxNyw2OC4xOTEgMTE0Ljc4MSw2My4yNzcgMTE2LjY5MSw1OC41NjEgQzEyMi4zMjksNDQuNjQxIDE0MS4yLDMzLjc0NiAxNjUuMzA5LDMwLjQ5MSBDMTczLjQ3OCwyOS4zODggMTgxLjk4OSwyOS41MjQgMTkwLjAxMywzMC44ODUgQzE5MC44NjUsMzEuMDMgMTkxLjc4OSwzMC44OTMgMTkyLjQyLDMwLjUyOCBMMTk1LjUwMSwyOC43NSBMMTY5LjY3NiwxMy44NCIgaWQ9IkZpbGwtMjMiIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjY3NSw3Ni40NTkgQzExMy41OTQsNzYuNDU5IDExMy41MTQsNzYuNDM4IDExMy40NDIsNzYuMzk3IEw2Ny41MTgsNDkuODgyIEM2Ny4zNzQsNDkuNzk5IDY3LjI4NCw0OS42NDUgNjcuMjg1LDQ5LjQ3OCBDNjcuMjg1LDQ5LjMxMSA2Ny4zNzQsNDkuMTU3IDY3LjUxOSw0OS4wNzMgTDE0OS4zNTUsMi4wMDIgQzE0OS40OTksMS45MTkgMTQ5LjY3NywxLjkxOSAxNDkuODIxLDIuMDAyIEwxNTYuNTUsNS44ODcgQzE1Ni43NzQsNi4wMTcgMTU2Ljg1LDYuMzAyIDE1Ni43MjIsNi41MjYgQzE1Ni41OTIsNi43NDkgMTU2LjMwNyw2LjgyNiAxNTYuMDgzLDYuNjk2IEwxNDkuNTg3LDIuOTQ2IEw2OC42ODcsNDkuNDc5IEwxMTMuNjc1LDc1LjQ1MiBMMTE2LjUyMyw3My44MDggQzExNi43MTUsNzMuNjk3IDExNy4xNDMsNzMuMzk5IDExNi45NTgsNzMuMDM1IEMxMTQuNTQyLDY4LjI4NyAxMTQuMyw2My4yMjEgMTE2LjI1OCw1OC4zODUgQzExOS4wNjQsNTEuNDU4IDEyNS4xNDMsNDUuMTQzIDEzMy44NCw0MC4xMjIgQzE0Mi40OTcsMzUuMTI0IDE1My4zNTgsMzEuNjMzIDE2NS4yNDcsMzAuMDI4IEMxNzMuNDQ1LDI4LjkyMSAxODIuMDM3LDI5LjA1OCAxOTAuMDkxLDMwLjQyNSBDMTkwLjgzLDMwLjU1IDE5MS42NTIsMzAuNDMyIDE5Mi4xODYsMzAuMTI0IEwxOTQuNTY3LDI4Ljc1IEwxNjkuNDQyLDE0LjI0NCBDMTY5LjIxOSwxNC4xMTUgMTY5LjE0MiwxMy44MjkgMTY5LjI3MSwxMy42MDYgQzE2OS40LDEzLjM4MiAxNjkuNjg1LDEzLjMwNiAxNjkuOTA5LDEzLjQzNSBMMTk1LjczNCwyOC4zNDUgQzE5NS44NzksMjguNDI4IDE5NS45NjgsMjguNTgzIDE5NS45NjgsMjguNzUgQzE5NS45NjgsMjguOTE2IDE5NS44NzksMjkuMDcxIDE5NS43MzQsMjkuMTU0IEwxOTIuNjUzLDMwLjkzMyBDMTkxLjkzMiwzMS4zNSAxOTAuODksMzEuNTA4IDE4OS45MzUsMzEuMzQ2IEMxODEuOTcyLDI5Ljk5NSAxNzMuNDc4LDI5Ljg2IDE2NS4zNzIsMzAuOTU0IEMxNTMuNjAyLDMyLjU0MyAxNDIuODYsMzUuOTkzIDEzNC4zMDcsNDAuOTMxIEMxMjUuNzkzLDQ1Ljg0NyAxMTkuODUxLDUyLjAwNCAxMTcuMTI0LDU4LjczNiBDMTE1LjI3LDYzLjMxNCAxMTUuNTAxLDY4LjExMiAxMTcuNzksNzIuNjExIEMxMTguMTYsNzMuMzM2IDExNy44NDUsNzQuMTI0IDExNi45OSw3NC42MTcgTDExMy45MDksNzYuMzk3IEMxMTMuODM2LDc2LjQzOCAxMTMuNzU2LDc2LjQ1OSAxMTMuNjc1LDc2LjQ1OSIgaWQ9IkZpbGwtMjQiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTUzLjMxNiwyMS4yNzkgQzE1MC45MDMsMjEuMjc5IDE0OC40OTUsMjAuNzUxIDE0Ni42NjQsMTkuNjkzIEMxNDQuODQ2LDE4LjY0NCAxNDMuODQ0LDE3LjIzMiAxNDMuODQ0LDE1LjcxOCBDMTQzLjg0NCwxNC4xOTEgMTQ0Ljg2LDEyLjc2MyAxNDYuNzA1LDExLjY5OCBMMTU2LjE5OCw2LjA5MSBDMTU2LjMwOSw2LjAyNSAxNTYuNDUyLDYuMDYyIDE1Ni41MTgsNi4xNzMgQzE1Ni41ODMsNi4yODQgMTU2LjU0Nyw2LjQyNyAxNTYuNDM2LDYuNDkzIEwxNDYuOTQsMTIuMTAyIEMxNDUuMjQ0LDEzLjA4MSAxNDQuMzEyLDE0LjM2NSAxNDQuMzEyLDE1LjcxOCBDMTQ0LjMxMiwxNy4wNTggMTQ1LjIzLDE4LjMyNiAxNDYuODk3LDE5LjI4OSBDMTUwLjQ0NiwyMS4zMzggMTU2LjI0LDIxLjMyNyAxNTkuODExLDE5LjI2NSBMMTY5LjU1OSwxMy42MzcgQzE2OS42NywxMy41NzMgMTY5LjgxMywxMy42MTEgMTY5Ljg3OCwxMy43MjMgQzE2OS45NDMsMTMuODM0IDE2OS45MDQsMTMuOTc3IDE2OS43OTMsMTQuMDQyIEwxNjAuMDQ1LDE5LjY3IEMxNTguMTg3LDIwLjc0MiAxNTUuNzQ5LDIxLjI3OSAxNTMuMzE2LDIxLjI3OSIgaWQ9IkZpbGwtMjUiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjY3NSw3NS45OTIgTDY3Ljc2Miw0OS40ODQiIGlkPSJGaWxsLTI2IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTExMy42NzUsNzYuMzQyIEMxMTMuNjE1LDc2LjM0MiAxMTMuNTU1LDc2LjMyNyAxMTMuNSw3Ni4yOTUgTDY3LjU4Nyw0OS43ODcgQzY3LjQxOSw0OS42OSA2Ny4zNjIsNDkuNDc2IDY3LjQ1OSw0OS4zMDkgQzY3LjU1Niw0OS4xNDEgNjcuNzcsNDkuMDgzIDY3LjkzNyw0OS4xOCBMMTEzLjg1LDc1LjY4OCBDMTE0LjAxOCw3NS43ODUgMTE0LjA3NSw3NiAxMTMuOTc4LDc2LjE2NyBDMTEzLjkxNCw3Ni4yNzkgMTEzLjc5Niw3Ni4zNDIgMTEzLjY3NSw3Ni4zNDIiIGlkPSJGaWxsLTI3IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTY3Ljc2Miw0OS40ODQgTDY3Ljc2MiwxMDMuNDg1IEM2Ny43NjIsMTA0LjU3NSA2OC41MzIsMTA1LjkwMyA2OS40ODIsMTA2LjQ1MiBMMTExLjk1NSwxMzAuOTczIEMxMTIuOTA1LDEzMS41MjIgMTEzLjY3NSwxMzEuMDgzIDExMy42NzUsMTI5Ljk5MyBMMTEzLjY3NSw3NS45OTIiIGlkPSJGaWxsLTI4IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTExMi43MjcsMTMxLjU2MSBDMTEyLjQzLDEzMS41NjEgMTEyLjEwNywxMzEuNDY2IDExMS43OCwxMzEuMjc2IEw2OS4zMDcsMTA2Ljc1NSBDNjguMjQ0LDEwNi4xNDIgNjcuNDEyLDEwNC43MDUgNjcuNDEyLDEwMy40ODUgTDY3LjQxMiw0OS40ODQgQzY3LjQxMiw0OS4yOSA2Ny41NjksNDkuMTM0IDY3Ljc2Miw0OS4xMzQgQzY3Ljk1Niw0OS4xMzQgNjguMTEzLDQ5LjI5IDY4LjExMyw0OS40ODQgTDY4LjExMywxMDMuNDg1IEM2OC4xMTMsMTA0LjQ0NSA2OC44MiwxMDUuNjY1IDY5LjY1NywxMDYuMTQ4IEwxMTIuMTMsMTMwLjY3IEMxMTIuNDc0LDEzMC44NjggMTEyLjc5MSwxMzAuOTEzIDExMywxMzAuNzkyIEMxMTMuMjA2LDEzMC42NzMgMTEzLjMyNSwxMzAuMzgxIDExMy4zMjUsMTI5Ljk5MyBMMTEzLjMyNSw3NS45OTIgQzExMy4zMjUsNzUuNzk4IDExMy40ODIsNzUuNjQxIDExMy42NzUsNzUuNjQxIEMxMTMuODY5LDc1LjY0MSAxMTQuMDI1LDc1Ljc5OCAxMTQuMDI1LDc1Ljk5MiBMMTE0LjAyNSwxMjkuOTkzIEMxMTQuMDI1LDEzMC42NDggMTEzLjc4NiwxMzEuMTQ3IDExMy4zNSwxMzEuMzk5IEMxMTMuMTYyLDEzMS41MDcgMTEyLjk1MiwxMzEuNTYxIDExMi43MjcsMTMxLjU2MSIgaWQ9IkZpbGwtMjkiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEyLjg2LDQwLjUxMiBDMTEyLjg2LDQwLjUxMiAxMTIuODYsNDAuNTEyIDExMi44NTksNDAuNTEyIEMxMTAuNTQxLDQwLjUxMiAxMDguMzYsMzkuOTkgMTA2LjcxNywzOS4wNDEgQzEwNS4wMTIsMzguMDU3IDEwNC4wNzQsMzYuNzI2IDEwNC4wNzQsMzUuMjkyIEMxMDQuMDc0LDMzLjg0NyAxMDUuMDI2LDMyLjUwMSAxMDYuNzU0LDMxLjUwNCBMMTE4Ljc5NSwyNC41NTEgQzEyMC40NjMsMjMuNTg5IDEyMi42NjksMjMuMDU4IDEyNS4wMDcsMjMuMDU4IEMxMjcuMzI1LDIzLjA1OCAxMjkuNTA2LDIzLjU4MSAxMzEuMTUsMjQuNTMgQzEzMi44NTQsMjUuNTE0IDEzMy43OTMsMjYuODQ1IDEzMy43OTMsMjguMjc4IEMxMzMuNzkzLDI5LjcyNCAxMzIuODQxLDMxLjA2OSAxMzEuMTEzLDMyLjA2NyBMMTE5LjA3MSwzOS4wMTkgQzExNy40MDMsMzkuOTgyIDExNS4xOTcsNDAuNTEyIDExMi44Niw0MC41MTIgTDExMi44Niw0MC41MTIgWiBNMTI1LjAwNywyMy43NTkgQzEyMi43OSwyMy43NTkgMTIwLjcwOSwyNC4yNTYgMTE5LjE0NiwyNS4xNTggTDEwNy4xMDQsMzIuMTEgQzEwNS42MDIsMzIuOTc4IDEwNC43NzQsMzQuMTA4IDEwNC43NzQsMzUuMjkyIEMxMDQuNzc0LDM2LjQ2NSAxMDUuNTg5LDM3LjU4MSAxMDcuMDY3LDM4LjQzNCBDMTA4LjYwNSwzOS4zMjMgMTEwLjY2MywzOS44MTIgMTEyLjg1OSwzOS44MTIgTDExMi44NiwzOS44MTIgQzExNS4wNzYsMzkuODEyIDExNy4xNTgsMzkuMzE1IDExOC43MjEsMzguNDEzIEwxMzAuNzYyLDMxLjQ2IEMxMzIuMjY0LDMwLjU5MyAxMzMuMDkyLDI5LjQ2MyAxMzMuMDkyLDI4LjI3OCBDMTMzLjA5MiwyNy4xMDYgMTMyLjI3OCwyNS45OSAxMzAuOCwyNS4xMzYgQzEyOS4yNjEsMjQuMjQ4IDEyNy4yMDQsMjMuNzU5IDEyNS4wMDcsMjMuNzU5IEwxMjUuMDA3LDIzLjc1OSBaIiBpZD0iRmlsbC0zMCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNjUuNjMsMTYuMjE5IEwxNTkuODk2LDE5LjUzIEMxNTYuNzI5LDIxLjM1OCAxNTEuNjEsMjEuMzY3IDE0OC40NjMsMTkuNTUgQzE0NS4zMTYsMTcuNzMzIDE0NS4zMzIsMTQuNzc4IDE0OC40OTksMTIuOTQ5IEwxNTQuMjMzLDkuNjM5IEwxNjUuNjMsMTYuMjE5IiBpZD0iRmlsbC0zMSIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNTQuMjMzLDEwLjQ0OCBMMTY0LjIyOCwxNi4yMTkgTDE1OS41NDYsMTguOTIzIEMxNTguMTEyLDE5Ljc1IDE1Ni4xOTQsMjAuMjA2IDE1NC4xNDcsMjAuMjA2IEMxNTIuMTE4LDIwLjIwNiAxNTAuMjI0LDE5Ljc1NyAxNDguODE0LDE4Ljk0MyBDMTQ3LjUyNCwxOC4xOTkgMTQ2LjgxNCwxNy4yNDkgMTQ2LjgxNCwxNi4yNjkgQzE0Ni44MTQsMTUuMjc4IDE0Ny41MzcsMTQuMzE0IDE0OC44NSwxMy41NTYgTDE1NC4yMzMsMTAuNDQ4IE0xNTQuMjMzLDkuNjM5IEwxNDguNDk5LDEyLjk0OSBDMTQ1LjMzMiwxNC43NzggMTQ1LjMxNiwxNy43MzMgMTQ4LjQ2MywxOS41NSBDMTUwLjAzMSwyMC40NTUgMTUyLjA4NiwyMC45MDcgMTU0LjE0NywyMC45MDcgQzE1Ni4yMjQsMjAuOTA3IDE1OC4zMDYsMjAuNDQ3IDE1OS44OTYsMTkuNTMgTDE2NS42MywxNi4yMTkgTDE1NC4yMzMsOS42MzkiIGlkPSJGaWxsLTMyIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0NS40NDUsNzIuNjY3IEwxNDUuNDQ1LDcyLjY2NyBDMTQzLjY3Miw3Mi42NjcgMTQyLjIwNCw3MS44MTcgMTQxLjIwMiw3MC40MjIgQzE0MS4xMzUsNzAuMzMgMTQxLjE0NSw3MC4xNDcgMTQxLjIyNSw3MC4wNjYgQzE0MS4zMDUsNjkuOTg1IDE0MS40MzIsNjkuOTQ2IDE0MS41MjUsNzAuMDExIEMxNDIuMzA2LDcwLjU1OSAxNDMuMjMxLDcwLjgyMyAxNDQuMjc2LDcwLjgyMiBDMTQ1LjU5OCw3MC44MjIgMTQ3LjAzLDcwLjM3NiAxNDguNTMyLDY5LjUwOSBDMTUzLjg0Miw2Ni40NDMgMTU4LjE2Myw1OC45ODcgMTU4LjE2Myw1Mi44OTQgQzE1OC4xNjMsNTAuOTY3IDE1Ny43MjEsNDkuMzMyIDE1Ni44ODQsNDguMTY4IEMxNTYuODE4LDQ4LjA3NiAxNTYuODI4LDQ3Ljk0OCAxNTYuOTA4LDQ3Ljg2NyBDMTU2Ljk4OCw0Ny43ODYgMTU3LjExNCw0Ny43NzQgMTU3LjIwOCw0Ny44NCBDMTU4Ljg3OCw0OS4wMTIgMTU5Ljc5OCw1MS4yMiAxNTkuNzk4LDU0LjA1OSBDMTU5Ljc5OCw2MC4zMDEgMTU1LjM3Myw2OC4wNDYgMTQ5LjkzMyw3MS4xODYgQzE0OC4zNiw3Mi4wOTQgMTQ2Ljg1LDcyLjY2NyAxNDUuNDQ1LDcyLjY2NyBMMTQ1LjQ0NSw3Mi42NjcgWiBNMTQyLjQ3Niw3MSBDMTQzLjI5LDcxLjY1MSAxNDQuMjk2LDcyLjAwMiAxNDUuNDQ1LDcyLjAwMiBDMTQ2Ljc2Nyw3Mi4wMDIgMTQ4LjE5OCw3MS41NSAxNDkuNyw3MC42ODIgQzE1NS4wMSw2Ny42MTcgMTU5LjMzMSw2MC4xNTkgMTU5LjMzMSw1NC4wNjUgQzE1OS4zMzEsNTIuMDg1IDE1OC44NjgsNTAuNDM1IDE1OC4wMDYsNDkuMjcyIEMxNTguNDE3LDUwLjMwNyAxNTguNjMsNTEuNTMyIDE1OC42Myw1Mi44OTIgQzE1OC42Myw1OS4xMzQgMTU0LjIwNSw2Ni43NjcgMTQ4Ljc2NSw2OS45MDcgQzE0Ny4xOTIsNzAuODE2IDE0NS42ODEsNzEuMjgzIDE0NC4yNzYsNzEuMjgzIEMxNDMuNjM0LDcxLjI4MyAxNDMuMDMzLDcxLjE5MiAxNDIuNDc2LDcxIEwxNDIuNDc2LDcxIFoiIGlkPSJGaWxsLTMzIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0OC42NDgsNjkuNzA0IEMxNTQuMDMyLDY2LjU5NiAxNTguMzk2LDU5LjA2OCAxNTguMzk2LDUyLjg5MSBDMTU4LjM5Niw1MC44MzkgMTU3LjkxMyw0OS4xOTggMTU3LjA3NCw0OC4wMyBDMTU1LjI4OSw0Ni43NzggMTUyLjY5OSw0Ni44MzYgMTQ5LjgxNiw0OC41MDEgQzE0NC40MzMsNTEuNjA5IDE0MC4wNjgsNTkuMTM3IDE0MC4wNjgsNjUuMzE0IEMxNDAuMDY4LDY3LjM2NSAxNDAuNTUyLDY5LjAwNiAxNDEuMzkxLDcwLjE3NCBDMTQzLjE3Niw3MS40MjcgMTQ1Ljc2NSw3MS4zNjkgMTQ4LjY0OCw2OS43MDQiIGlkPSJGaWxsLTM0IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0NC4yNzYsNzEuMjc2IEwxNDQuMjc2LDcxLjI3NiBDMTQzLjEzMyw3MS4yNzYgMTQyLjExOCw3MC45NjkgMTQxLjI1Nyw3MC4zNjUgQzE0MS4yMzYsNzAuMzUxIDE0MS4yMTcsNzAuMzMyIDE0MS4yMDIsNzAuMzExIEMxNDAuMzA3LDY5LjA2NyAxMzkuODM1LDY3LjMzOSAxMzkuODM1LDY1LjMxNCBDMTM5LjgzNSw1OS4wNzMgMTQ0LjI2LDUxLjQzOSAxNDkuNyw0OC4yOTggQzE1MS4yNzMsNDcuMzkgMTUyLjc4NCw0Ni45MjkgMTU0LjE4OSw0Ni45MjkgQzE1NS4zMzIsNDYuOTI5IDE1Ni4zNDcsNDcuMjM2IDE1Ny4yMDgsNDcuODM5IEMxNTcuMjI5LDQ3Ljg1NCAxNTcuMjQ4LDQ3Ljg3MyAxNTcuMjYzLDQ3Ljg5NCBDMTU4LjE1Nyw0OS4xMzggMTU4LjYzLDUwLjg2NSAxNTguNjMsNTIuODkxIEMxNTguNjMsNTkuMTMyIDE1NC4yMDUsNjYuNzY2IDE0OC43NjUsNjkuOTA3IEMxNDcuMTkyLDcwLjgxNSAxNDUuNjgxLDcxLjI3NiAxNDQuMjc2LDcxLjI3NiBMMTQ0LjI3Niw3MS4yNzYgWiBNMTQxLjU1OCw3MC4xMDQgQzE0Mi4zMzEsNzAuNjM3IDE0My4yNDUsNzEuMDA1IDE0NC4yNzYsNzEuMDA1IEMxNDUuNTk4LDcxLjAwNSAxNDcuMDMsNzAuNDY3IDE0OC41MzIsNjkuNiBDMTUzLjg0Miw2Ni41MzQgMTU4LjE2Myw1OS4wMzMgMTU4LjE2Myw1Mi45MzkgQzE1OC4xNjMsNTEuMDMxIDE1Ny43MjksNDkuMzg1IDE1Ni45MDcsNDguMjIzIEMxNTYuMTMzLDQ3LjY5MSAxNTUuMjE5LDQ3LjQwOSAxNTQuMTg5LDQ3LjQwOSBDMTUyLjg2Nyw0Ny40MDkgMTUxLjQzNSw0Ny44NDIgMTQ5LjkzMyw0OC43MDkgQzE0NC42MjMsNTEuNzc1IDE0MC4zMDIsNTkuMjczIDE0MC4zMDIsNjUuMzY2IEMxNDAuMzAyLDY3LjI3NiAxNDAuNzM2LDY4Ljk0MiAxNDEuNTU4LDcwLjEwNCBMMTQxLjU1OCw3MC4xMDQgWiIgaWQ9IkZpbGwtMzUiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTUwLjcyLDY1LjM2MSBMMTUwLjM1Nyw2NS4wNjYgQzE1MS4xNDcsNjQuMDkyIDE1MS44NjksNjMuMDQgMTUyLjUwNSw2MS45MzggQzE1My4zMTMsNjAuNTM5IDE1My45NzgsNTkuMDY3IDE1NC40ODIsNTcuNTYzIEwxNTQuOTI1LDU3LjcxMiBDMTU0LjQxMiw1OS4yNDUgMTUzLjczMyw2MC43NDUgMTUyLjkxLDYyLjE3MiBDMTUyLjI2Miw2My4yOTUgMTUxLjUyNSw2NC4zNjggMTUwLjcyLDY1LjM2MSIgaWQ9IkZpbGwtMzYiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTE1LjkxNyw4NC41MTQgTDExNS41NTQsODQuMjIgQzExNi4zNDQsODMuMjQ1IDExNy4wNjYsODIuMTk0IDExNy43MDIsODEuMDkyIEMxMTguNTEsNzkuNjkyIDExOS4xNzUsNzguMjIgMTE5LjY3OCw3Ni43MTcgTDEyMC4xMjEsNzYuODY1IEMxMTkuNjA4LDc4LjM5OCAxMTguOTMsNzkuODk5IDExOC4xMDYsODEuMzI2IEMxMTcuNDU4LDgyLjQ0OCAxMTYuNzIyLDgzLjUyMSAxMTUuOTE3LDg0LjUxNCIgaWQ9IkZpbGwtMzciIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTE0LDEzMC40NzYgTDExNCwxMzAuMDA4IEwxMTQsNzYuMDUyIEwxMTQsNzUuNTg0IEwxMTQsNzYuMDUyIEwxMTQsMTMwLjAwOCBMMTE0LDEzMC40NzYiIGlkPSJGaWxsLTM4IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICA8ZyBpZD0iSW1wb3J0ZWQtTGF5ZXJzLUNvcHkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDYyLjAwMDAwMCwgMC4wMDAwMDApIiBza2V0Y2g6dHlwZT0iTVNTaGFwZUdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTkuODIyLDM3LjQ3NCBDMTkuODM5LDM3LjMzOSAxOS43NDcsMzcuMTk0IDE5LjU1NSwzNy4wODIgQzE5LjIyOCwzNi44OTQgMTguNzI5LDM2Ljg3MiAxOC40NDYsMzcuMDM3IEwxMi40MzQsNDAuNTA4IEMxMi4zMDMsNDAuNTg0IDEyLjI0LDQwLjY4NiAxMi4yNDMsNDAuNzkzIEMxMi4yNDUsNDAuOTI1IDEyLjI0NSw0MS4yNTQgMTIuMjQ1LDQxLjM3MSBMMTIuMjQ1LDQxLjQxNCBMMTIuMjM4LDQxLjU0MiBDOC4xNDgsNDMuODg3IDUuNjQ3LDQ1LjMyMSA1LjY0Nyw0NS4zMjEgQzUuNjQ2LDQ1LjMyMSAzLjU3LDQ2LjM2NyAyLjg2LDUwLjUxMyBDMi44Niw1MC41MTMgMS45NDgsNTcuNDc0IDEuOTYyLDcwLjI1OCBDMS45NzcsODIuODI4IDIuNTY4LDg3LjMyOCAzLjEyOSw5MS42MDkgQzMuMzQ5LDkzLjI5MyA2LjEzLDkzLjczNCA2LjEzLDkzLjczNCBDNi40NjEsOTMuNzc0IDYuODI4LDkzLjcwNyA3LjIxLDkzLjQ4NiBMODIuNDgzLDQ5LjkzNSBDODQuMjkxLDQ4Ljg2NiA4NS4xNSw0Ni4yMTYgODUuNTM5LDQzLjY1MSBDODYuNzUyLDM1LjY2MSA4Ny4yMTQsMTAuNjczIDg1LjI2NCwzLjc3MyBDODUuMDY4LDMuMDggODQuNzU0LDIuNjkgODQuMzk2LDIuNDkxIEw4Mi4zMSwxLjcwMSBDODEuNTgzLDEuNzI5IDgwLjg5NCwyLjE2OCA4MC43NzYsMi4yMzYgQzgwLjYzNiwyLjMxNyA0MS44MDcsMjQuNTg1IDIwLjAzMiwzNy4wNzIgTDE5LjgyMiwzNy40NzQiIGlkPSJGaWxsLTEiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNODIuMzExLDEuNzAxIEw4NC4zOTYsMi40OTEgQzg0Ljc1NCwyLjY5IDg1LjA2OCwzLjA4IDg1LjI2NCwzLjc3MyBDODcuMjEzLDEwLjY3MyA4Ni43NTEsMzUuNjYgODUuNTM5LDQzLjY1MSBDODUuMTQ5LDQ2LjIxNiA4NC4yOSw0OC44NjYgODIuNDgzLDQ5LjkzNSBMNy4yMSw5My40ODYgQzYuODk3LDkzLjY2NyA2LjU5NSw5My43NDQgNi4zMTQsOTMuNzQ0IEw2LjEzMSw5My43MzMgQzYuMTMxLDkzLjczNCAzLjM0OSw5My4yOTMgMy4xMjgsOTEuNjA5IEMyLjU2OCw4Ny4zMjcgMS45NzcsODIuODI4IDEuOTYzLDcwLjI1OCBDMS45NDgsNTcuNDc0IDIuODYsNTAuNTEzIDIuODYsNTAuNTEzIEMzLjU3LDQ2LjM2NyA1LjY0Nyw0NS4zMjEgNS42NDcsNDUuMzIxIEM1LjY0Nyw0NS4zMjEgOC4xNDgsNDMuODg3IDEyLjIzOCw0MS41NDIgTDEyLjI0NSw0MS40MTQgTDEyLjI0NSw0MS4zNzEgQzEyLjI0NSw0MS4yNTQgMTIuMjQ1LDQwLjkyNSAxMi4yNDMsNDAuNzkzIEMxMi4yNCw0MC42ODYgMTIuMzAyLDQwLjU4MyAxMi40MzQsNDAuNTA4IEwxOC40NDYsMzcuMDM2IEMxOC41NzQsMzYuOTYyIDE4Ljc0NiwzNi45MjYgMTguOTI3LDM2LjkyNiBDMTkuMTQ1LDM2LjkyNiAxOS4zNzYsMzYuOTc5IDE5LjU1NCwzNy4wODIgQzE5Ljc0NywzNy4xOTQgMTkuODM5LDM3LjM0IDE5LjgyMiwzNy40NzQgTDIwLjAzMywzNy4wNzIgQzQxLjgwNiwyNC41ODUgODAuNjM2LDIuMzE4IDgwLjc3NywyLjIzNiBDODAuODk0LDIuMTY4IDgxLjU4MywxLjcyOSA4Mi4zMTEsMS43MDEgTTgyLjMxMSwwLjcwNCBMODIuMjcyLDAuNzA1IEM4MS42NTQsMC43MjggODAuOTg5LDAuOTQ5IDgwLjI5OCwxLjM2MSBMODAuMjc3LDEuMzczIEM4MC4xMjksMS40NTggNTkuNzY4LDEzLjEzNSAxOS43NTgsMzYuMDc5IEMxOS41LDM1Ljk4MSAxOS4yMTQsMzUuOTI5IDE4LjkyNywzNS45MjkgQzE4LjU2MiwzNS45MjkgMTguMjIzLDM2LjAxMyAxNy45NDcsMzYuMTczIEwxMS45MzUsMzkuNjQ0IEMxMS40OTMsMzkuODk5IDExLjIzNiw0MC4zMzQgMTEuMjQ2LDQwLjgxIEwxMS4yNDcsNDAuOTYgTDUuMTY3LDQ0LjQ0NyBDNC43OTQsNDQuNjQ2IDIuNjI1LDQ1Ljk3OCAxLjg3Nyw1MC4zNDUgTDEuODcxLDUwLjM4NCBDMS44NjIsNTAuNDU0IDAuOTUxLDU3LjU1NyAwLjk2NSw3MC4yNTkgQzAuOTc5LDgyLjg3OSAxLjU2OCw4Ny4zNzUgMi4xMzcsOTEuNzI0IEwyLjEzOSw5MS43MzkgQzIuNDQ3LDk0LjA5NCA1LjYxNCw5NC42NjIgNS45NzUsOTQuNzE5IEw2LjAwOSw5NC43MjMgQzYuMTEsOTQuNzM2IDYuMjEzLDk0Ljc0MiA2LjMxNCw5NC43NDIgQzYuNzksOTQuNzQyIDcuMjYsOTQuNjEgNy43MSw5NC4zNSBMODIuOTgzLDUwLjc5OCBDODQuNzk0LDQ5LjcyNyA4NS45ODIsNDcuMzc1IDg2LjUyNSw0My44MDEgQzg3LjcxMSwzNS45ODcgODguMjU5LDEwLjcwNSA4Ni4yMjQsMy41MDIgQzg1Ljk3MSwyLjYwOSA4NS41MiwxLjk3NSA4NC44ODEsMS42MiBMODQuNzQ5LDEuNTU4IEw4Mi42NjQsMC43NjkgQzgyLjU1MSwwLjcyNSA4Mi40MzEsMC43MDQgODIuMzExLDAuNzA0IiBpZD0iRmlsbC0yIiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTY2LjI2NywxMS41NjUgTDY3Ljc2MiwxMS45OTkgTDExLjQyMyw0NC4zMjUiIGlkPSJGaWxsLTMiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTIuMjAyLDkwLjU0NSBDMTIuMDI5LDkwLjU0NSAxMS44NjIsOTAuNDU1IDExLjc2OSw5MC4yOTUgQzExLjYzMiw5MC4wNTcgMTEuNzEzLDg5Ljc1MiAxMS45NTIsODkuNjE0IEwzMC4zODksNzguOTY5IEMzMC42MjgsNzguODMxIDMwLjkzMyw3OC45MTMgMzEuMDcxLDc5LjE1MiBDMzEuMjA4LDc5LjM5IDMxLjEyNyw3OS42OTYgMzAuODg4LDc5LjgzMyBMMTIuNDUxLDkwLjQ3OCBMMTIuMjAyLDkwLjU0NSIgaWQ9IkZpbGwtNCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMy43NjQsNDIuNjU0IEwxMy42NTYsNDIuNTkyIEwxMy43MDIsNDIuNDIxIEwxOC44MzcsMzkuNDU3IEwxOS4wMDcsMzkuNTAyIEwxOC45NjIsMzkuNjczIEwxMy44MjcsNDIuNjM3IEwxMy43NjQsNDIuNjU0IiBpZD0iRmlsbC01IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTguNTIsOTAuMzc1IEw4LjUyLDQ2LjQyMSBMOC41ODMsNDYuMzg1IEw3NS44NCw3LjU1NCBMNzUuODQsNTEuNTA4IEw3NS43NzgsNTEuNTQ0IEw4LjUyLDkwLjM3NSBMOC41Miw5MC4zNzUgWiBNOC43Nyw0Ni41NjQgTDguNzcsODkuOTQ0IEw3NS41OTEsNTEuMzY1IEw3NS41OTEsNy45ODUgTDguNzcsNDYuNTY0IEw4Ljc3LDQ2LjU2NCBaIiBpZD0iRmlsbC02IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTI0Ljk4Niw4My4xODIgQzI0Ljc1Niw4My4zMzEgMjQuMzc0LDgzLjU2NiAyNC4xMzcsODMuNzA1IEwxMi42MzIsOTAuNDA2IEMxMi4zOTUsOTAuNTQ1IDEyLjQyNiw5MC42NTggMTIuNyw5MC42NTggTDEzLjI2NSw5MC42NTggQzEzLjU0LDkwLjY1OCAxMy45NTgsOTAuNTQ1IDE0LjE5NSw5MC40MDYgTDI1LjcsODMuNzA1IEMyNS45MzcsODMuNTY2IDI2LjEyOCw4My40NTIgMjYuMTI1LDgzLjQ0OSBDMjYuMTIyLDgzLjQ0NyAyNi4xMTksODMuMjIgMjYuMTE5LDgyLjk0NiBDMjYuMTE5LDgyLjY3MiAyNS45MzEsODIuNTY5IDI1LjcwMSw4Mi43MTkgTDI0Ljk4Niw4My4xODIiIGlkPSJGaWxsLTciIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTMuMjY2LDkwLjc4MiBMMTIuNyw5MC43ODIgQzEyLjUsOTAuNzgyIDEyLjM4NCw5MC43MjYgMTIuMzU0LDkwLjYxNiBDMTIuMzI0LDkwLjUwNiAxMi4zOTcsOTAuMzk5IDEyLjU2OSw5MC4yOTkgTDI0LjA3NCw4My41OTcgQzI0LjMxLDgzLjQ1OSAyNC42ODksODMuMjI2IDI0LjkxOCw4My4wNzggTDI1LjYzMyw4Mi42MTQgQzI1LjcyMyw4Mi41NTUgMjUuODEzLDgyLjUyNSAyNS44OTksODIuNTI1IEMyNi4wNzEsODIuNTI1IDI2LjI0NCw4Mi42NTUgMjYuMjQ0LDgyLjk0NiBDMjYuMjQ0LDgzLjE2IDI2LjI0NSw4My4zMDkgMjYuMjQ3LDgzLjM4MyBMMjYuMjUzLDgzLjM4NyBMMjYuMjQ5LDgzLjQ1NiBDMjYuMjQ2LDgzLjUzMSAyNi4yNDYsODMuNTMxIDI1Ljc2Myw4My44MTIgTDE0LjI1OCw5MC41MTQgQzE0LDkwLjY2NSAxMy41NjQsOTAuNzgyIDEzLjI2Niw5MC43ODIgTDEzLjI2Niw5MC43ODIgWiBNMTIuNjY2LDkwLjUzMiBMMTIuNyw5MC41MzMgTDEzLjI2Niw5MC41MzMgQzEzLjUxOCw5MC41MzMgMTMuOTE1LDkwLjQyNSAxNC4xMzIsOTAuMjk5IEwyNS42MzcsODMuNTk3IEMyNS44MDUsODMuNDk5IDI1LjkzMSw4My40MjQgMjUuOTk4LDgzLjM4MyBDMjUuOTk0LDgzLjI5OSAyNS45OTQsODMuMTY1IDI1Ljk5NCw4Mi45NDYgTDI1Ljg5OSw4Mi43NzUgTDI1Ljc2OCw4Mi44MjQgTDI1LjA1NCw4My4yODcgQzI0LjgyMiw4My40MzcgMjQuNDM4LDgzLjY3MyAyNC4yLDgzLjgxMiBMMTIuNjk1LDkwLjUxNCBMMTIuNjY2LDkwLjUzMiBMMTIuNjY2LDkwLjUzMiBaIiBpZD0iRmlsbC04IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTEzLjI2Niw4OS44NzEgTDEyLjcsODkuODcxIEMxMi41LDg5Ljg3MSAxMi4zODQsODkuODE1IDEyLjM1NCw4OS43MDUgQzEyLjMyNCw4OS41OTUgMTIuMzk3LDg5LjQ4OCAxMi41NjksODkuMzg4IEwyNC4wNzQsODIuNjg2IEMyNC4zMzIsODIuNTM1IDI0Ljc2OCw4Mi40MTggMjUuMDY3LDgyLjQxOCBMMjUuNjMyLDgyLjQxOCBDMjUuODMyLDgyLjQxOCAyNS45NDgsODIuNDc0IDI1Ljk3OCw4Mi41ODQgQzI2LjAwOCw4Mi42OTQgMjUuOTM1LDgyLjgwMSAyNS43NjMsODIuOTAxIEwxNC4yNTgsODkuNjAzIEMxNCw4OS43NTQgMTMuNTY0LDg5Ljg3MSAxMy4yNjYsODkuODcxIEwxMy4yNjYsODkuODcxIFogTTEyLjY2Niw4OS42MjEgTDEyLjcsODkuNjIyIEwxMy4yNjYsODkuNjIyIEMxMy41MTgsODkuNjIyIDEzLjkxNSw4OS41MTUgMTQuMTMyLDg5LjM4OCBMMjUuNjM3LDgyLjY4NiBMMjUuNjY3LDgyLjY2OCBMMjUuNjMyLDgyLjY2NyBMMjUuMDY3LDgyLjY2NyBDMjQuODE1LDgyLjY2NyAyNC40MTgsODIuNzc1IDI0LjIsODIuOTAxIEwxMi42OTUsODkuNjAzIEwxMi42NjYsODkuNjIxIEwxMi42NjYsODkuNjIxIFoiIGlkPSJGaWxsLTkiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTIuMzcsOTAuODAxIEwxMi4zNyw4OS41NTQgTDEyLjM3LDkwLjgwMSIgaWQ9IkZpbGwtMTAiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNi4xMyw5My45MDEgQzUuMzc5LDkzLjgwOCA0LjgxNiw5My4xNjQgNC42OTEsOTIuNTI1IEMzLjg2LDg4LjI4NyAzLjU0LDgzLjc0MyAzLjUyNiw3MS4xNzMgQzMuNTExLDU4LjM4OSA0LjQyMyw1MS40MjggNC40MjMsNTEuNDI4IEM1LjEzNCw0Ny4yODIgNy4yMSw0Ni4yMzYgNy4yMSw0Ni4yMzYgQzcuMjEsNDYuMjM2IDgxLjY2NywzLjI1IDgyLjA2OSwzLjAxNyBDODIuMjkyLDIuODg4IDg0LjU1NiwxLjQzMyA4NS4yNjQsMy45NCBDODcuMjE0LDEwLjg0IDg2Ljc1MiwzNS44MjcgODUuNTM5LDQzLjgxOCBDODUuMTUsNDYuMzgzIDg0LjI5MSw0OS4wMzMgODIuNDgzLDUwLjEwMSBMNy4yMSw5My42NTMgQzYuODI4LDkzLjg3NCA2LjQ2MSw5My45NDEgNi4xMyw5My45MDEgQzYuMTMsOTMuOTAxIDMuMzQ5LDkzLjQ2IDMuMTI5LDkxLjc3NiBDMi41NjgsODcuNDk1IDEuOTc3LDgyLjk5NSAxLjk2Miw3MC40MjUgQzEuOTQ4LDU3LjY0MSAyLjg2LDUwLjY4IDIuODYsNTAuNjggQzMuNTcsNDYuNTM0IDUuNjQ3LDQ1LjQ4OSA1LjY0Nyw0NS40ODkgQzUuNjQ2LDQ1LjQ4OSA4LjA2NSw0NC4wOTIgMTIuMjQ1LDQxLjY3OSBMMTMuMTE2LDQxLjU2IEwxOS43MTUsMzcuNzMgTDE5Ljc2MSwzNy4yNjkgTDYuMTMsOTMuOTAxIiBpZD0iRmlsbC0xMSIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik02LjMxNyw5NC4xNjEgTDYuMTAyLDk0LjE0OCBMNi4xMDEsOTQuMTQ4IEw1Ljg1Nyw5NC4xMDEgQzUuMTM4LDkzLjk0NSAzLjA4NSw5My4zNjUgMi44ODEsOTEuODA5IEMyLjMxMyw4Ny40NjkgMS43MjcsODIuOTk2IDEuNzEzLDcwLjQyNSBDMS42OTksNTcuNzcxIDIuNjA0LDUwLjcxOCAyLjYxMyw1MC42NDggQzMuMzM4LDQ2LjQxNyA1LjQ0NSw0NS4zMSA1LjUzNSw0NS4yNjYgTDEyLjE2Myw0MS40MzkgTDEzLjAzMyw0MS4zMiBMMTkuNDc5LDM3LjU3OCBMMTkuNTEzLDM3LjI0NCBDMTkuNTI2LDM3LjEwNyAxOS42NDcsMzcuMDA4IDE5Ljc4NiwzNy4wMjEgQzE5LjkyMiwzNy4wMzQgMjAuMDIzLDM3LjE1NiAyMC4wMDksMzcuMjkzIEwxOS45NSwzNy44ODIgTDEzLjE5OCw0MS44MDEgTDEyLjMyOCw0MS45MTkgTDUuNzcyLDQ1LjcwNCBDNS43NDEsNDUuNzIgMy43ODIsNDYuNzcyIDMuMTA2LDUwLjcyMiBDMy4wOTksNTAuNzgyIDIuMTk4LDU3LjgwOCAyLjIxMiw3MC40MjQgQzIuMjI2LDgyLjk2MyAyLjgwOSw4Ny40MiAzLjM3Myw5MS43MjkgQzMuNDY0LDkyLjQyIDQuMDYyLDkyLjg4MyA0LjY4Miw5My4xODEgQzQuNTY2LDkyLjk4NCA0LjQ4Niw5Mi43NzYgNC40NDYsOTIuNTcyIEMzLjY2NSw4OC41ODggMy4yOTEsODQuMzcgMy4yNzYsNzEuMTczIEMzLjI2Miw1OC41MiA0LjE2Nyw1MS40NjYgNC4xNzYsNTEuMzk2IEM0LjkwMSw0Ny4xNjUgNy4wMDgsNDYuMDU5IDcuMDk4LDQ2LjAxNCBDNy4wOTQsNDYuMDE1IDgxLjU0MiwzLjAzNCA4MS45NDQsMi44MDIgTDgxLjk3MiwyLjc4NSBDODIuODc2LDIuMjQ3IDgzLjY5MiwyLjA5NyA4NC4zMzIsMi4zNTIgQzg0Ljg4NywyLjU3MyA4NS4yODEsMy4wODUgODUuNTA0LDMuODcyIEM4Ny41MTgsMTEgODYuOTY0LDM2LjA5MSA4NS43ODUsNDMuODU1IEM4NS4yNzgsNDcuMTk2IDg0LjIxLDQ5LjM3IDgyLjYxLDUwLjMxNyBMNy4zMzUsOTMuODY5IEM2Ljk5OSw5NC4wNjMgNi42NTgsOTQuMTYxIDYuMzE3LDk0LjE2MSBMNi4zMTcsOTQuMTYxIFogTTYuMTcsOTMuNjU0IEM2LjQ2Myw5My42OSA2Ljc3NCw5My42MTcgNy4wODUsOTMuNDM3IEw4Mi4zNTgsNDkuODg2IEM4NC4xODEsNDguODA4IDg0Ljk2LDQ1Ljk3MSA4NS4yOTIsNDMuNzggQzg2LjQ2NiwzNi4wNDkgODcuMDIzLDExLjA4NSA4NS4wMjQsNC4wMDggQzg0Ljg0NiwzLjM3NyA4NC41NTEsMi45NzYgODQuMTQ4LDIuODE2IEM4My42NjQsMi42MjMgODIuOTgyLDIuNzY0IDgyLjIyNywzLjIxMyBMODIuMTkzLDMuMjM0IEM4MS43OTEsMy40NjYgNy4zMzUsNDYuNDUyIDcuMzM1LDQ2LjQ1MiBDNy4zMDQsNDYuNDY5IDUuMzQ2LDQ3LjUyMSA0LjY2OSw1MS40NzEgQzQuNjYyLDUxLjUzIDMuNzYxLDU4LjU1NiAzLjc3NSw3MS4xNzMgQzMuNzksODQuMzI4IDQuMTYxLDg4LjUyNCA0LjkzNiw5Mi40NzYgQzUuMDI2LDkyLjkzNyA1LjQxMiw5My40NTkgNS45NzMsOTMuNjE1IEM2LjA4Nyw5My42NCA2LjE1OCw5My42NTIgNi4xNjksOTMuNjU0IEw2LjE3LDkzLjY1NCBMNi4xNyw5My42NTQgWiIgaWQ9IkZpbGwtMTIiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNy4zMTcsNjguOTgyIEM3LjgwNiw2OC43MDEgOC4yMDIsNjguOTI2IDguMjAyLDY5LjQ4NyBDOC4yMDIsNzAuMDQ3IDcuODA2LDcwLjczIDcuMzE3LDcxLjAxMiBDNi44MjksNzEuMjk0IDYuNDMzLDcxLjA2OSA2LjQzMyw3MC41MDggQzYuNDMzLDY5Ljk0OCA2LjgyOSw2OS4yNjUgNy4zMTcsNjguOTgyIiBpZD0iRmlsbC0xMyIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik02LjkyLDcxLjEzMyBDNi42MzEsNzEuMTMzIDYuNDMzLDcwLjkwNSA2LjQzMyw3MC41MDggQzYuNDMzLDY5Ljk0OCA2LjgyOSw2OS4yNjUgNy4zMTcsNjguOTgyIEM3LjQ2LDY4LjkgNy41OTUsNjguODYxIDcuNzE0LDY4Ljg2MSBDOC4wMDMsNjguODYxIDguMjAyLDY5LjA5IDguMjAyLDY5LjQ4NyBDOC4yMDIsNzAuMDQ3IDcuODA2LDcwLjczIDcuMzE3LDcxLjAxMiBDNy4xNzQsNzEuMDk0IDcuMDM5LDcxLjEzMyA2LjkyLDcxLjEzMyBNNy43MTQsNjguNjc0IEM3LjU1Nyw2OC42NzQgNy4zOTIsNjguNzIzIDcuMjI0LDY4LjgyMSBDNi42NzYsNjkuMTM4IDYuMjQ2LDY5Ljg3OSA2LjI0Niw3MC41MDggQzYuMjQ2LDcwLjk5NCA2LjUxNyw3MS4zMiA2LjkyLDcxLjMyIEM3LjA3OCw3MS4zMiA3LjI0Myw3MS4yNzEgNy40MTEsNzEuMTc0IEM3Ljk1OSw3MC44NTcgOC4zODksNzAuMTE3IDguMzg5LDY5LjQ4NyBDOC4zODksNjkuMDAxIDguMTE3LDY4LjY3NCA3LjcxNCw2OC42NzQiIGlkPSJGaWxsLTE0IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTYuOTIsNzAuOTQ3IEM2LjY0OSw3MC45NDcgNi42MjEsNzAuNjQgNi42MjEsNzAuNTA4IEM2LjYyMSw3MC4wMTcgNi45ODIsNjkuMzkyIDcuNDExLDY5LjE0NSBDNy41MjEsNjkuMDgyIDcuNjI1LDY5LjA0OSA3LjcxNCw2OS4wNDkgQzcuOTg2LDY5LjA0OSA4LjAxNSw2OS4zNTUgOC4wMTUsNjkuNDg3IEM4LjAxNSw2OS45NzggNy42NTIsNzAuNjAzIDcuMjI0LDcwLjg1MSBDNy4xMTUsNzAuOTE0IDcuMDEsNzAuOTQ3IDYuOTIsNzAuOTQ3IE03LjcxNCw2OC44NjEgQzcuNTk1LDY4Ljg2MSA3LjQ2LDY4LjkgNy4zMTcsNjguOTgyIEM2LjgyOSw2OS4yNjUgNi40MzMsNjkuOTQ4IDYuNDMzLDcwLjUwOCBDNi40MzMsNzAuOTA1IDYuNjMxLDcxLjEzMyA2LjkyLDcxLjEzMyBDNy4wMzksNzEuMTMzIDcuMTc0LDcxLjA5NCA3LjMxNyw3MS4wMTIgQzcuODA2LDcwLjczIDguMjAyLDcwLjA0NyA4LjIwMiw2OS40ODcgQzguMjAyLDY5LjA5IDguMDAzLDY4Ljg2MSA3LjcxNCw2OC44NjEiIGlkPSJGaWxsLTE1IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTcuNDQ0LDg1LjM1IEM3LjcwOCw4NS4xOTggNy45MjEsODUuMzE5IDcuOTIxLDg1LjYyMiBDNy45MjEsODUuOTI1IDcuNzA4LDg2LjI5MiA3LjQ0NCw4Ni40NDQgQzcuMTgxLDg2LjU5NyA2Ljk2Nyw4Ni40NzUgNi45NjcsODYuMTczIEM2Ljk2Nyw4NS44NzEgNy4xODEsODUuNTAyIDcuNDQ0LDg1LjM1IiBpZD0iRmlsbC0xNiIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik03LjIzLDg2LjUxIEM3LjA3NCw4Ni41MSA2Ljk2Nyw4Ni4zODcgNi45NjcsODYuMTczIEM2Ljk2Nyw4NS44NzEgNy4xODEsODUuNTAyIDcuNDQ0LDg1LjM1IEM3LjUyMSw4NS4zMDUgNy41OTQsODUuMjg0IDcuNjU4LDg1LjI4NCBDNy44MTQsODUuMjg0IDcuOTIxLDg1LjQwOCA3LjkyMSw4NS42MjIgQzcuOTIxLDg1LjkyNSA3LjcwOCw4Ni4yOTIgNy40NDQsODYuNDQ0IEM3LjM2Nyw4Ni40ODkgNy4yOTQsODYuNTEgNy4yMyw4Ni41MSBNNy42NTgsODUuMDk4IEM3LjU1OCw4NS4wOTggNy40NTUsODUuMTI3IDcuMzUxLDg1LjE4OCBDNy4wMzEsODUuMzczIDYuNzgxLDg1LjgwNiA2Ljc4MSw4Ni4xNzMgQzYuNzgxLDg2LjQ4MiA2Ljk2Niw4Ni42OTcgNy4yMyw4Ni42OTcgQzcuMzMsODYuNjk3IDcuNDMzLDg2LjY2NiA3LjUzOCw4Ni42MDcgQzcuODU4LDg2LjQyMiA4LjEwOCw4NS45ODkgOC4xMDgsODUuNjIyIEM4LjEwOCw4NS4zMTMgNy45MjMsODUuMDk4IDcuNjU4LDg1LjA5OCIgaWQ9IkZpbGwtMTciIGZpbGw9IiM4MDk3QTIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNy4yMyw4Ni4zMjIgTDcuMTU0LDg2LjE3MyBDNy4xNTQsODUuOTM4IDcuMzMzLDg1LjYyOSA3LjUzOCw4NS41MTIgTDcuNjU4LDg1LjQ3MSBMNy43MzQsODUuNjIyIEM3LjczNCw4NS44NTYgNy41NTUsODYuMTY0IDcuMzUxLDg2LjI4MiBMNy4yMyw4Ni4zMjIgTTcuNjU4LDg1LjI4NCBDNy41OTQsODUuMjg0IDcuNTIxLDg1LjMwNSA3LjQ0NCw4NS4zNSBDNy4xODEsODUuNTAyIDYuOTY3LDg1Ljg3MSA2Ljk2Nyw4Ni4xNzMgQzYuOTY3LDg2LjM4NyA3LjA3NCw4Ni41MSA3LjIzLDg2LjUxIEM3LjI5NCw4Ni41MSA3LjM2Nyw4Ni40ODkgNy40NDQsODYuNDQ0IEM3LjcwOCw4Ni4yOTIgNy45MjEsODUuOTI1IDcuOTIxLDg1LjYyMiBDNy45MjEsODUuNDA4IDcuODE0LDg1LjI4NCA3LjY1OCw4NS4yODQiIGlkPSJGaWxsLTE4IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTc3LjI3OCw3Ljc2OSBMNzcuMjc4LDUxLjQzNiBMMTAuMjA4LDkwLjE2IEwxMC4yMDgsNDYuNDkzIEw3Ny4yNzgsNy43NjkiIGlkPSJGaWxsLTE5IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTEwLjA4Myw5MC4zNzUgTDEwLjA4Myw0Ni40MjEgTDEwLjE0Niw0Ni4zODUgTDc3LjQwMyw3LjU1NCBMNzcuNDAzLDUxLjUwOCBMNzcuMzQxLDUxLjU0NCBMMTAuMDgzLDkwLjM3NSBMMTAuMDgzLDkwLjM3NSBaIE0xMC4zMzMsNDYuNTY0IEwxMC4zMzMsODkuOTQ0IEw3Ny4xNTQsNTEuMzY1IEw3Ny4xNTQsNy45ODUgTDEwLjMzMyw0Ni41NjQgTDEwLjMzMyw0Ni41NjQgWiIgaWQ9IkZpbGwtMjAiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMjUuNzM3LDg4LjY0NyBMMTE4LjA5OCw5MS45ODEgTDExOC4wOTgsODQgTDEwNi42MzksODguNzEzIEwxMDYuNjM5LDk2Ljk4MiBMOTksMTAwLjMxNSBMMTEyLjM2OSwxMDMuOTYxIEwxMjUuNzM3LDg4LjY0NyIgaWQ9IkltcG9ydGVkLUxheWVycy1Db3B5LTIiIGZpbGw9IiM0NTVBNjQiIHNrZXRjaDp0eXBlPSJNU1NoYXBlR3JvdXAiPjwvcGF0aD4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+\\\");\\n},M.exports=t},{\\\"./util.js\\\":22}],17:[function(e,M,i){function t(e){this.kFilter=e,this.currentAccelMeasurement=new A,this.currentGyroMeasurement=new A,this.previousGyroMeasurement=new A,r.isIOS()?this.filterQ=new s.Quaternion((-1),0,0,1):this.filterQ=new s.Quaternion(1,0,0,1),this.previousFilterQ=new s.Quaternion,this.previousFilterQ.copy(this.filterQ),this.accelQ=new s.Quaternion,this.isOrientationInitialized=!1,this.estimatedGravity=new s.Vector3,this.measuredGravity=new s.Vector3,this.gyroIntegralQ=new s.Quaternion}var A=e(\\\"./sensor-sample.js\\\"),s=e(\\\"../math-util.js\\\"),r=e(\\\"../util.js\\\"),N=!1;t.prototype.addAccelMeasurement=function(e,M){this.currentAccelMeasurement.set(e,M)},t.prototype.addGyroMeasurement=function(e,M){this.currentGyroMeasurement.set(e,M);var i=M-this.previousGyroMeasurement.timestampS;r.isTimestampDeltaValid(i)&&this.run_(),this.previousGyroMeasurement.copy(this.currentGyroMeasurement)},t.prototype.run_=function(){if(!this.isOrientationInitialized)return this.accelQ=this.accelToQuaternion_(this.currentAccelMeasurement.sample),this.previousFilterQ.copy(this.accelQ),void(this.isOrientationInitialized=!0);var e=this.currentGyroMeasurement.timestampS-this.previousGyroMeasurement.timestampS,M=this.gyroToQuaternionDelta_(this.currentGyroMeasurement.sample,e);this.gyroIntegralQ.multiply(M),this.filterQ.copy(this.previousFilterQ),this.filterQ.multiply(M);var i=new s.Quaternion;i.copy(this.filterQ),i.inverse(),this.estimatedGravity.set(0,0,-1),this.estimatedGravity.applyQuaternion(i),this.estimatedGravity.normalize(),this.measuredGravity.copy(this.currentAccelMeasurement.sample),this.measuredGravity.normalize();var t=new s.Quaternion;t.setFromUnitVectors(this.estimatedGravity,this.measuredGravity),t.inverse(),N&&console.log(\\\"Delta: %d deg, G_est: (%s, %s, %s), G_meas: (%s, %s, %s)\\\",s.radToDeg*r.getQuaternionAngle(t),this.estimatedGravity.x.toFixed(1),this.estimatedGravity.y.toFixed(1),this.estimatedGravity.z.toFixed(1),this.measuredGravity.x.toFixed(1),this.measuredGravity.y.toFixed(1),this.measuredGravity.z.toFixed(1));var A=new s.Quaternion;A.copy(this.filterQ),A.multiply(t),this.filterQ.slerp(A,1-this.kFilter),this.previousFilterQ.copy(this.filterQ)},t.prototype.getOrientation=function(){return this.filterQ},t.prototype.accelToQuaternion_=function(e){var M=new s.Vector3;M.copy(e),M.normalize();var i=new s.Quaternion;return i.setFromUnitVectors(new s.Vector3(0,0,(-1)),M),i.inverse(),i},t.prototype.gyroToQuaternionDelta_=function(e,M){var i=new s.Quaternion,t=new s.Vector3;return t.copy(e),t.normalize(),i.setFromAxisAngle(t,e.length()*M),i},M.exports=t},{\\\"../math-util.js\\\":14,\\\"../util.js\\\":22,\\\"./sensor-sample.js\\\":20}],18:[function(e,M,i){function t(){this.deviceId=\\\"webvr-polyfill:fused\\\",this.deviceName=\\\"VR Position Device (webvr-polyfill:fused)\\\",this.accelerometer=new N.Vector3,this.gyroscope=new N.Vector3,window.addEventListener(\\\"devicemotion\\\",this.onDeviceMotionChange_.bind(this)),window.addEventListener(\\\"orientationchange\\\",this.onScreenOrientationChange_.bind(this)),this.filter=new A(WebVRConfig.K_FILTER),this.posePredictor=new s(WebVRConfig.PREDICTION_TIME_S),this.touchPanner=new r,this.filterToWorldQ=new N.Quaternion,D.isIOS()?this.filterToWorldQ.setFromAxisAngle(new N.Vector3(1,0,0),Math.PI/2):this.filterToWorldQ.setFromAxisAngle(new N.Vector3(1,0,0),-Math.PI/2),this.inverseWorldToScreenQ=new N.Quaternion,this.worldToScreenQ=new N.Quaternion,this.originalPoseAdjustQ=new N.Quaternion,this.originalPoseAdjustQ.setFromAxisAngle(new N.Vector3(0,0,1),-window.orientation*Math.PI/180),this.setScreenTransform_(),D.isLandscapeMode()&&this.filterToWorldQ.multiply(this.inverseWorldToScreenQ),this.resetQ=new N.Quaternion,this.isFirefoxAndroid=D.isFirefoxAndroid(),this.isIOS=D.isIOS(),this.orientationOut_=new Float32Array(4)}var A=e(\\\"./complementary-filter.js\\\"),s=e(\\\"./pose-predictor.js\\\"),r=e(\\\"../touch-panner.js\\\"),N=e(\\\"../math-util.js\\\"),D=e(\\\"../util.js\\\");t.prototype.getPosition=function(){return null},t.prototype.getOrientation=function(){var e=this.filter.getOrientation();this.predictedQ=this.posePredictor.getPrediction(e,this.gyroscope,this.previousTimestampS);var M=new N.Quaternion;return M.copy(this.filterToWorldQ),M.multiply(this.resetQ),WebVRConfig.TOUCH_PANNER_DISABLED||M.multiply(this.touchPanner.getOrientation()),M.multiply(this.predictedQ),M.multiply(this.worldToScreenQ),WebVRConfig.YAW_ONLY&&(M.x=0,M.z=0,M.normalize()),this.orientationOut_[0]=M.x,this.orientationOut_[1]=M.y,this.orientationOut_[2]=M.z,this.orientationOut_[3]=M.w,this.orientationOut_},t.prototype.resetPose=function(){this.resetQ.copy(this.filter.getOrientation()),this.resetQ.x=0,this.resetQ.y=0,this.resetQ.z*=-1,this.resetQ.normalize(),D.isLandscapeMode()&&this.resetQ.multiply(this.inverseWorldToScreenQ),this.resetQ.multiply(this.originalPoseAdjustQ),WebVRConfig.TOUCH_PANNER_DISABLED||this.touchPanner.resetSensor()},t.prototype.onDeviceMotionChange_=function(e){var M=e.accelerationIncludingGravity,i=e.rotationRate,t=e.timeStamp/1e3;this.isFirefoxAndroid&&(t/=1e3);var A=t-this.previousTimestampS;return A<=D.MIN_TIMESTEP||A>D.MAX_TIMESTEP?(console.warn(\\\"Invalid timestamps detected. Time step between successive gyroscope sensor samples is very small or not monotonic\\\"),void(this.previousTimestampS=t)):(this.accelerometer.set(-M.x,-M.y,-M.z),this.gyroscope.set(i.alpha,i.beta,i.gamma),(this.isIOS||this.isFirefoxAndroid)&&this.gyroscope.multiplyScalar(Math.PI/180),this.filter.addAccelMeasurement(this.accelerometer,t),this.filter.addGyroMeasurement(this.gyroscope,t),void(this.previousTimestampS=t))},t.prototype.onScreenOrientationChange_=function(e){this.setScreenTransform_()},t.prototype.setScreenTransform_=function(){switch(this.worldToScreenQ.set(0,0,0,1),window.orientation){case 0:break;case 90:this.worldToScreenQ.setFromAxisAngle(new N.Vector3(0,0,1),-Math.PI/2);break;case-90:this.worldToScreenQ.setFromAxisAngle(new N.Vector3(0,0,1),Math.PI/2);break;case 180:}this.inverseWorldToScreenQ.copy(this.worldToScreenQ),this.inverseWorldToScreenQ.inverse()},M.exports=t},{\\\"../math-util.js\\\":14,\\\"../touch-panner.js\\\":21,\\\"../util.js\\\":22,\\\"./complementary-filter.js\\\":17,\\\"./pose-predictor.js\\\":19}],19:[function(e,M,i){function t(e){this.predictionTimeS=e,this.previousQ=new A.Quaternion,this.previousTimestampS=null,this.deltaQ=new A.Quaternion,this.outQ=new A.Quaternion}var A=e(\\\"../math-util.js\\\"),s=!1;t.prototype.getPrediction=function(e,M,i){if(!this.previousTimestampS)return this.previousQ.copy(e),this.previousTimestampS=i,e;var t=new A.Vector3;t.copy(M),t.normalize();var r=M.length();if(r<20*A.degToRad)return s&&console.log(\\\"Moving slowly, at %s deg/s: no prediction\\\",(A.radToDeg*r).toFixed(1)),this.outQ.copy(e),this.previousQ.copy(e),this.outQ;var N=(i-this.previousTimestampS,r*this.predictionTimeS);return this.deltaQ.setFromAxisAngle(t,N),this.outQ.copy(this.previousQ),this.outQ.multiply(this.deltaQ),this.previousQ.copy(e),this.previousTimestampS=i,this.outQ},M.exports=t},{\\\"../math-util.js\\\":14}],20:[function(e,M,i){function t(e,M){this.set(e,M)}t.prototype.set=function(e,M){this.sample=e,this.timestampS=M},t.prototype.copy=function(e){this.set(e.sample,e.timestampS)},M.exports=t},{}],21:[function(e,M,i){function t(){window.addEventListener(\\\"touchstart\\\",this.onTouchStart_.bind(this)),window.addEventListener(\\\"touchmove\\\",this.onTouchMove_.bind(this)),window.addEventListener(\\\"touchend\\\",this.onTouchEnd_.bind(this)),this.isTouching=!1,this.rotateStart=new A.Vector2,this.rotateEnd=new A.Vector2,this.rotateDelta=new A.Vector2,this.theta=0,this.orientation=new A.Quaternion}var A=e(\\\"./math-util.js\\\"),s=e(\\\"./util.js\\\"),r=.5;t.prototype.getOrientation=function(){return this.orientation.setFromEulerXYZ(0,0,this.theta),this.orientation},t.prototype.resetSensor=function(){this.theta=0},t.prototype.onTouchStart_=function(e){1==e.touches.length&&(this.rotateStart.set(e.touches[0].pageX,e.touches[0].pageY),this.isTouching=!0)},t.prototype.onTouchMove_=function(e){if(this.isTouching){this.rotateEnd.set(e.touches[0].pageX,e.touches[0].pageY),this.rotateDelta.subVectors(this.rotateEnd,this.rotateStart),this.rotateStart.copy(this.rotateEnd),s.isIOS()&&(this.rotateDelta.x*=-1);var M=document.body;this.theta+=2*Math.PI*this.rotateDelta.x/M.clientWidth*r}},t.prototype.onTouchEnd_=function(e){this.isTouching=!1},M.exports=t},{\\\"./math-util.js\\\":14,\\\"./util.js\\\":22}],22:[function(e,M,i){var t=e(\\\"object-assign\\\"),A=window.Util||{};A.MIN_TIMESTEP=.001,A.MAX_TIMESTEP=1,A.base64=function(e,M){return\\\"data:\\\"+e+\\\";base64,\\\"+M},A.clamp=function(e,M,i){return Math.min(Math.max(M,e),i)},A.lerp=function(e,M,i){return e+(M-e)*i},A.isIOS=function(){var e=/iPad|iPhone|iPod/.test(navigator.platform);return function(){return e}}(),A.isSafari=function(){var e=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);return function(){return e}}(),A.isFirefoxAndroid=function(){var e=navigator.userAgent.indexOf(\\\"Firefox\\\")!==-1&&navigator.userAgent.indexOf(\\\"Android\\\")!==-1;return function(){return e}}(),A.isLandscapeMode=function(){return 90==window.orientation||window.orientation==-90},A.isTimestampDeltaValid=function(e){return!isNaN(e)&&(!(e<=A.MIN_TIMESTEP)&&!(e>A.MAX_TIMESTEP))},A.getScreenWidth=function(){return Math.max(window.screen.width,window.screen.height)*window.devicePixelRatio},A.getScreenHeight=function(){return Math.min(window.screen.width,window.screen.height)*window.devicePixelRatio},A.requestFullscreen=function(e){if(e.requestFullscreen)e.requestFullscreen();else if(e.webkitRequestFullscreen)e.webkitRequestFullscreen();else if(e.mozRequestFullScreen)e.mozRequestFullScreen();else{if(!e.msRequestFullscreen)return!1;e.msRequestFullscreen()}return!0},A.exitFullscreen=function(){if(document.exitFullscreen)document.exitFullscreen();else if(document.webkitExitFullscreen)document.webkitExitFullscreen();else if(document.mozCancelFullScreen)document.mozCancelFullScreen();else{if(!document.msExitFullscreen)return!1;document.msExitFullscreen()}return!0},A.getFullscreenElement=function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement},A.linkProgram=function(e,M,i,t){var A=e.createShader(e.VERTEX_SHADER);e.shaderSource(A,M),e.compileShader(A);var s=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(s,i),e.compileShader(s);var r=e.createProgram();e.attachShader(r,A),e.attachShader(r,s);for(var N in t)e.bindAttribLocation(r,t[N],N);return e.linkProgram(r),e.deleteShader(A),e.deleteShader(s),r},A.getProgramUniforms=function(e,M){for(var i={},t=e.getProgramParameter(M,e.ACTIVE_UNIFORMS),A=\\\"\\\",s=0;s<t;s++){var r=e.getActiveUniform(M,s);A=r.name.replace(\\\"[0]\\\",\\\"\\\"),i[A]=e.getUniformLocation(M,A)}return i},A.orthoMatrix=function(e,M,i,t,A,s,r){var N=1/(M-i),D=1/(t-A),n=1/(s-r);return e[0]=-2*N,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*D,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*n,e[11]=0,e[12]=(M+i)*N,e[13]=(A+t)*D,e[14]=(r+s)*n,e[15]=1,e},A.isMobile=function(){var e=!1;return function(M){(/(android|bb\\\\d+|meego).+mobile|avantgo|bada\\\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(M)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\\\-(n|u)|c55\\\\/|capi|ccwa|cdm\\\\-|cell|chtm|cldc|cmd\\\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\\\-|_)|g1 u|g560|gene|gf\\\\-5|g\\\\-mo|go(\\\\.w|od)|gr(ad|un)|haie|hcit|hd\\\\-(m|p|t)|hei\\\\-|hi(pt|ta)|hp( i|ip)|hs\\\\-c|ht(c(\\\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\\\-(20|go|ma)|i230|iac( |\\\\-|\\\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\\\/)|klon|kpt |kwc\\\\-|kyo(c|k)|le(no|xi)|lg( g|\\\\/(k|l|u)|50|54|\\\\-[a-w])|libw|lynx|m1\\\\-w|m3ga|m50\\\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\\\-2|po(ck|rt|se)|prox|psio|pt\\\\-g|qa\\\\-a|qc(07|12|21|32|60|\\\\-[2-7]|i\\\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\\\-|oo|p\\\\-)|sdk\\\\/|se(c(\\\\-|0|1)|47|mc|nd|ri)|sgh\\\\-|shar|sie(\\\\-|m)|sk\\\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\\\-|v\\\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\\\-|tdg\\\\-|tel(i|m)|tim\\\\-|t\\\\-mo|to(pl|sh)|ts(70|m\\\\-|m3|m5)|tx\\\\-9|up(\\\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\\\-|your|zeto|zte\\\\-/i.test(M.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e},A.extend=t,A.safariCssSizeWorkaround=function(e){if(A.isIOS()){var M=e.style.width,i=e.style.height;e.style.width=parseInt(M)+1+\\\"px\\\",e.style.height=parseInt(i)+\\\"px\\\",console.log(\\\"Resetting width to...\\\",M),setTimeout(function(){console.log(\\\"Done. Width is now\\\",M),e.style.width=M,e.style.height=i},100)}window.Util=A,window.canvas=e},A.frameDataFromPose=function(){function e(e,M,i,t){var r=Math.tan(M?M.upDegrees*A:s),N=Math.tan(M?M.downDegrees*A:s),D=Math.tan(M?M.leftDegrees*A:s),n=Math.tan(M?M.rightDegrees*A:s),u=2/(D+n),a=2/(r+N);return e[0]=u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=-((D-n)*u*.5),e[9]=(r-N)*a*.5,e[10]=t/(i-t),e[11]=-1,e[12]=0,e[13]=0,e[14]=t*i/(i-t),e[15]=0,e}function M(e,M,i){var t=M[0],A=M[1],s=M[2],r=M[3],N=t+t,D=A+A,n=s+s,u=t*N,a=t*D,o=t*n,g=A*D,j=A*n,I=s*n,L=r*N,T=r*D,c=r*n;return e[0]=1-(g+I),e[1]=a+c,e[2]=o-T,e[3]=0,e[4]=a-c,e[5]=1-(u+I),e[6]=j+L,e[7]=0,e[8]=o+T,e[9]=j-L,e[10]=1-(u+g),e[11]=0,e[12]=i[0],e[13]=i[1],e[14]=i[2],e[15]=1,e}function i(e,M,i){var t,A,s,r,N,D,n,u,a,o,g,j,I=i[0],L=i[1],T=i[2];return M===e?(e[12]=M[0]*I+M[4]*L+M[8]*T+M[12],e[13]=M[1]*I+M[5]*L+M[9]*T+M[13],e[14]=M[2]*I+M[6]*L+M[10]*T+M[14],e[15]=M[3]*I+M[7]*L+M[11]*T+M[15]):(t=M[0],A=M[1],s=M[2],r=M[3],N=M[4],D=M[5],n=M[6],u=M[7],a=M[8],o=M[9],g=M[10],j=M[11],e[0]=t,e[1]=A,e[2]=s,e[3]=r,e[4]=N,e[5]=D,e[6]=n,e[7]=u,e[8]=a,e[9]=o,e[10]=g,e[11]=j,e[12]=t*I+N*L+a*T+M[12],e[13]=A*I+D*L+o*T+M[13],e[14]=s*I+n*L+g*T+M[14],e[15]=r*I+u*L+j*T+M[15]),e}function t(t,A,s,D,n){e(t,D?D.fieldOfView:null,n.depthNear,n.depthFar);var u=s.orientation||r,a=s.position||N;M(A,u,a),D&&i(A,A,D.offset),mat4_invert(A,A)}var A=Math.PI/180,s=.25*Math.PI;mat4_invert=function(e,M){var i=M[0],t=M[1],A=M[2],s=M[3],r=M[4],N=M[5],D=M[6],n=M[7],u=M[8],a=M[9],o=M[10],g=M[11],j=M[12],I=M[13],L=M[14],T=M[15],c=i*N-t*r,E=i*D-A*r,w=i*n-s*r,y=t*D-A*N,l=t*n-s*N,z=A*n-s*D,h=u*I-a*j,d=u*L-o*j,x=u*T-g*j,O=a*L-o*I,C=a*T-g*I,S=o*T-g*L,p=c*S-E*C+w*O+y*x-l*d+z*h;return p?(p=1/p,e[0]=(N*S-D*C+n*O)*p,e[1]=(A*C-t*S-s*O)*p,e[2]=(I*z-L*l+T*y)*p,e[3]=(o*l-a*z-g*y)*p,e[4]=(D*x-r*S-n*d)*p,e[5]=(i*S-A*x+s*d)*p,e[6]=(L*w-j*z-T*E)*p,e[7]=(u*z-o*w+g*E)*p,e[8]=(r*C-N*x+n*h)*p,e[9]=(t*x-i*C-s*h)*p,e[10]=(j*l-I*w+T*c)*p,e[11]=(a*w-u*l-g*c)*p,e[12]=(N*d-r*O-D*h)*p,e[13]=(i*O-t*d+A*h)*p,e[14]=(I*E-j*y-L*c)*p,e[15]=(u*y-a*E+o*c)*p,e):null};var r=new Float32Array([0,0,0,1]),N=new Float32Array([0,0,0]);return function(e,M,i){return!(!e||!M)&&(e.pose=M,e.timestamp=M.timestamp,t(e.leftProjectionMatrix,e.leftViewMatrix,M,i.getEyeParameters(\\\"left\\\"),i),t(e.rightProjectionMatrix,e.rightViewMatrix,M,i.getEyeParameters(\\\"right\\\"),i),!0)}}(),M.exports=A},{\\\"object-assign\\\":1}],23:[function(e,M,i){function t(){try{this.selectedKey=localStorage.getItem(N)||r}catch(e){console.error(\\\"Failed to load viewer profile: %s\\\",e)}this.dialog=this.createDialog_(s.Viewers),this.root=null}var A=e(\\\"./emitter.js\\\"),s=(e(\\\"./util.js\\\"),e(\\\"./device-info.js\\\")),r=\\\"CardboardV1\\\",N=\\\"WEBVR_CARDBOARD_VIEWER\\\",D=\\\"webvr-polyfill-viewer-selector\\\";t.prototype=new A,t.prototype.show=function(e){this.root=e,e.appendChild(this.dialog);var M=this.dialog.querySelector(\\\"#\\\"+this.selectedKey);M.checked=!0,this.dialog.style.display=\\\"block\\\"},t.prototype.hide=function(){this.root&&this.root.contains(this.dialog)&&this.root.removeChild(this.dialog),this.dialog.style.display=\\\"none\\\"},t.prototype.getCurrentViewer=function(){return s.Viewers[this.selectedKey]},t.prototype.getSelectedKey_=function(){var e=this.dialog.querySelector(\\\"input[name=field]:checked\\\");return e?e.id:null},t.prototype.onSave_=function(){if(this.selectedKey=this.getSelectedKey_(),!this.selectedKey||!s.Viewers[this.selectedKey])return void console.error(\\\"ViewerSelector.onSave_: this should never happen!\\\");this.emit(\\\"change\\\",s.Viewers[this.selectedKey]);try{localStorage.setItem(N,this.selectedKey)}catch(e){console.error(\\\"Failed to save viewer profile: %s\\\",e)}this.hide()},t.prototype.createDialog_=function(e){var M=document.createElement(\\\"div\\\");M.classList.add(D),M.style.display=\\\"none\\\";var i=document.createElement(\\\"div\\\"),t=i.style;t.position=\\\"fixed\\\",t.left=0,t.top=0,t.width=\\\"100%\\\",t.height=\\\"100%\\\",t.background=\\\"rgba(0, 0, 0, 0.3)\\\",i.addEventListener(\\\"click\\\",this.hide.bind(this));var A=280,s=document.createElement(\\\"div\\\"),t=s.style;t.boxSizing=\\\"border-box\\\",t.position=\\\"fixed\\\",t.top=\\\"24px\\\",t.left=\\\"50%\\\",t.marginLeft=-A/2+\\\"px\\\",t.width=A+\\\"px\\\",t.padding=\\\"24px\\\",t.overflow=\\\"hidden\\\",t.background=\\\"#fafafa\\\",t.fontFamily=\\\"'Roboto', sans-serif\\\",t.boxShadow=\\\"0px 5px 20px #666\\\",s.appendChild(this.createH1_(\\\"Select your viewer\\\"));for(var r in e)s.appendChild(this.createChoice_(r,e[r].label));return s.appendChild(this.createButton_(\\\"Save\\\",this.onSave_.bind(this))),M.appendChild(i),M.appendChild(s),M},t.prototype.createH1_=function(e){var M=document.createElement(\\\"h1\\\"),i=M.style;return i.color=\\\"black\\\",i.fontSize=\\\"20px\\\",i.fontWeight=\\\"bold\\\",i.marginTop=0,i.marginBottom=\\\"24px\\\",M.innerHTML=e,M},t.prototype.createChoice_=function(e,M){var i=document.createElement(\\\"div\\\");i.style.marginTop=\\\"8px\\\",i.style.color=\\\"black\\\";var t=document.createElement(\\\"input\\\");t.style.fontSize=\\\"30px\\\",t.setAttribute(\\\"id\\\",e),t.setAttribute(\\\"type\\\",\\\"radio\\\"),t.setAttribute(\\\"value\\\",e),t.setAttribute(\\\"name\\\",\\\"field\\\");var A=document.createElement(\\\"label\\\");return A.style.marginLeft=\\\"4px\\\",A.setAttribute(\\\"for\\\",e),A.innerHTML=M,i.appendChild(t),i.appendChild(A),i},t.prototype.createButton_=function(e,M){var i=document.createElement(\\\"button\\\");i.innerHTML=e;var t=i.style;return t.float=\\\"right\\\",t.textTransform=\\\"uppercase\\\",t.color=\\\"#1094f7\\\",t.fontSize=\\\"14px\\\",t.letterSpacing=0,t.border=0,t.background=\\\"none\\\",t.marginTop=\\\"16px\\\",i.addEventListener(\\\"click\\\",M),i},M.exports=t},{\\\"./device-info.js\\\":7,\\\"./emitter.js\\\":12,\\\"./util.js\\\":22}],24:[function(e,M,i){function t(){var e=document.createElement(\\\"video\\\");e.addEventListener(\\\"ended\\\",function(){e.play()}),this.request=function(){e.paused&&(e.src=r.base64(\\\"video/mp4\\\",\\\"AAAAGGZ0eXBpc29tAAAAAG1wNDFhdmMxAAAIA21vb3YAAABsbXZoZAAAAADSa9v60mvb+gABX5AAlw/gAAEAAAEAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAdkdHJhawAAAFx0a2hkAAAAAdJr2/rSa9v6AAAAAQAAAAAAlw/gAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAQAAAAHAAAAAAAJGVkdHMAAAAcZWxzdAAAAAAAAAABAJcP4AAAAAAAAQAAAAAG3G1kaWEAAAAgbWRoZAAAAADSa9v60mvb+gAPQkAGjneAFccAAAAAAC1oZGxyAAAAAAAAAAB2aWRlAAAAAAAAAAAAAAAAVmlkZW9IYW5kbGVyAAAABodtaW5mAAAAFHZtaGQAAAABAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAAZHc3RibAAAAJdzdHNkAAAAAAAAAAEAAACHYXZjMQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAMABwASAAAAEgAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABj//wAAADFhdmNDAWQAC//hABlnZAALrNlfllw4QAAAAwBAAAADAKPFCmWAAQAFaOvssiwAAAAYc3R0cwAAAAAAAAABAAAAbgAPQkAAAAAUc3RzcwAAAAAAAAABAAAAAQAAA4BjdHRzAAAAAAAAAG4AAAABAD0JAAAAAAEAehIAAAAAAQA9CQAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEALcbAAAAAHHN0c2MAAAAAAAAAAQAAAAEAAABuAAAAAQAAAcxzdHN6AAAAAAAAAAAAAABuAAADCQAAABgAAAAOAAAADgAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABMAAAAUc3RjbwAAAAAAAAABAAAIKwAAACt1ZHRhAAAAI6llbmMAFwAAdmxjIDIuMi4xIHN0cmVhbSBvdXRwdXQAAAAId2lkZQAACRRtZGF0AAACrgX//6vcRem95tlIt5Ys2CDZI+7veDI2NCAtIGNvcmUgMTQyIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNCAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTMgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MzoweDEzIG1lPWhleCBzdWJtZT03IHBzeT0xIHBzeV9yZD0xLjAwOjAuMDAgbWl4ZWRfcmVmPTEgbWVfcmFuZ2U9MTYgY2hyb21hX21lPTEgdHJlbGxpcz0xIDh4OGRjdD0xIGNxbT0wIGRlYWR6b25lPTIxLDExIGZhc3RfcHNraXA9MSBjaHJvbWFfcXBfb2Zmc2V0PS0yIHRocmVhZHM9MTIgbG9va2FoZWFkX3RocmVhZHM9MSBzbGljZWRfdGhyZWFkcz0wIG5yPTAgZGVjaW1hdGU9MSBpbnRlcmxhY2VkPTAgYmx1cmF5X2NvbXBhdD0wIGNvbnN0cmFpbmVkX2ludHJhPTAgYmZyYW1lcz0zIGJfcHlyYW1pZD0yIGJfYWRhcHQ9MSBiX2JpYXM9MCBkaXJlY3Q9MSB3ZWlnaHRiPTEgb3Blbl9nb3A9MCB3ZWlnaHRwPTIga2V5aW50PTI1MCBrZXlpbnRfbWluPTEgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD00MCByYz1hYnIgbWJ0cmVlPTEgYml0cmF0ZT0xMDAgcmF0ZXRvbD0xLjAgcWNvbXA9MC42MCBxcG1pbj0xMCBxcG1heD01MSBxcHN0ZXA9NCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAU2WIhAAQ/8ltlOe+cTZuGkKg+aRtuivcDZ0pBsfsEi9p/i1yU9DxS2lq4dXTinViF1URBKXgnzKBd/Uh1bkhHtMrwrRcOJslD01UB+fyaL6ef+DBAAAAFEGaJGxBD5B+v+a+4QqF3MgBXz9MAAAACkGeQniH/+94r6EAAAAKAZ5hdEN/8QytwAAAAAgBnmNqQ3/EgQAAAA5BmmhJqEFomUwIIf/+4QAAAApBnoZFESw//76BAAAACAGepXRDf8SBAAAACAGep2pDf8SAAAAADkGarEmoQWyZTAgh//7gAAAACkGeykUVLD//voEAAAAIAZ7pdEN/xIAAAAAIAZ7rakN/xIAAAAAOQZrwSahBbJlMCCH//uEAAAAKQZ8ORRUsP/++gQAAAAgBny10Q3/EgQAAAAgBny9qQ3/EgAAAAA5BmzRJqEFsmUwIIf/+4AAAAApBn1JFFSw//76BAAAACAGfcXRDf8SAAAAACAGfc2pDf8SAAAAADkGbeEmoQWyZTAgh//7hAAAACkGflkUVLD//voAAAAAIAZ+1dEN/xIEAAAAIAZ+3akN/xIEAAAAOQZu8SahBbJlMCCH//uAAAAAKQZ/aRRUsP/++gQAAAAgBn/l0Q3/EgAAAAAgBn/tqQ3/EgQAAAA5Bm+BJqEFsmUwIIf/+4QAAAApBnh5FFSw//76AAAAACAGePXRDf8SAAAAACAGeP2pDf8SBAAAADkGaJEmoQWyZTAgh//7gAAAACkGeQkUVLD//voEAAAAIAZ5hdEN/xIAAAAAIAZ5jakN/xIEAAAAOQZpoSahBbJlMCCH//uEAAAAKQZ6GRRUsP/++gQAAAAgBnqV0Q3/EgQAAAAgBnqdqQ3/EgAAAAA5BmqxJqEFsmUwIIf/+4AAAAApBnspFFSw//76BAAAACAGe6XRDf8SAAAAACAGe62pDf8SAAAAADkGa8EmoQWyZTAgh//7hAAAACkGfDkUVLD//voEAAAAIAZ8tdEN/xIEAAAAIAZ8vakN/xIAAAAAOQZs0SahBbJlMCCH//uAAAAAKQZ9SRRUsP/++gQAAAAgBn3F0Q3/EgAAAAAgBn3NqQ3/EgAAAAA5Bm3hJqEFsmUwIIf/+4QAAAApBn5ZFFSw//76AAAAACAGftXRDf8SBAAAACAGft2pDf8SBAAAADkGbvEmoQWyZTAgh//7gAAAACkGf2kUVLD//voEAAAAIAZ/5dEN/xIAAAAAIAZ/7akN/xIEAAAAOQZvgSahBbJlMCCH//uEAAAAKQZ4eRRUsP/++gAAAAAgBnj10Q3/EgAAAAAgBnj9qQ3/EgQAAAA5BmiRJqEFsmUwIIf/+4AAAAApBnkJFFSw//76BAAAACAGeYXRDf8SAAAAACAGeY2pDf8SBAAAADkGaaEmoQWyZTAgh//7hAAAACkGehkUVLD//voEAAAAIAZ6ldEN/xIEAAAAIAZ6nakN/xIAAAAAOQZqsSahBbJlMCCH//uAAAAAKQZ7KRRUsP/++gQAAAAgBnul0Q3/EgAAAAAgBnutqQ3/EgAAAAA5BmvBJqEFsmUwIIf/+4QAAAApBnw5FFSw//76BAAAACAGfLXRDf8SBAAAACAGfL2pDf8SAAAAADkGbNEmoQWyZTAgh//7gAAAACkGfUkUVLD//voEAAAAIAZ9xdEN/xIAAAAAIAZ9zakN/xIAAAAAOQZt4SahBbJlMCCH//uEAAAAKQZ+WRRUsP/++gAAAAAgBn7V0Q3/EgQAAAAgBn7dqQ3/EgQAAAA5Bm7xJqEFsmUwIIf/+4AAAAApBn9pFFSw//76BAAAACAGf+XRDf8SAAAAACAGf+2pDf8SBAAAADkGb4EmoQWyZTAgh//7hAAAACkGeHkUVLD//voAAAAAIAZ49dEN/xIAAAAAIAZ4/akN/xIEAAAAOQZokSahBbJlMCCH//uAAAAAKQZ5CRRUsP/++gQAAAAgBnmF0Q3/EgAAAAAgBnmNqQ3/EgQAAAA5BmmhJqEFsmUwIIf/+4QAAAApBnoZFFSw//76BAAAACAGepXRDf8SBAAAACAGep2pDf8SAAAAADkGarEmoQWyZTAgh//7gAAAACkGeykUVLD//voEAAAAIAZ7pdEN/xIAAAAAIAZ7rakN/xIAAAAAPQZruSahBbJlMFEw3//7B\\\"),e.play())},this.release=function(){e.pause(),e.src=\\\"\\\"}}function A(){var e=null;this.request=function(){e||(e=setInterval(function(){window.location=window.location,setTimeout(window.stop,0)},3e4))},this.release=function(){e&&(clearInterval(e),e=null)}}function s(){var e=navigator.userAgent||navigator.vendor||window.opera;return e.match(/iPhone/i)||e.match(/iPod/i)?A:t}var r=e(\\\"./util.js\\\");M.exports=s()},{\\\"./util.js\\\":22}],25:[function(e,M,i){function t(){this.displays=[],this.devices=[],this.devicesPopulated=!1,this.nativeWebVRAvailable=this.isWebVRAvailable(),this.nativeLegacyWebVRAvailable=this.isDeprecatedWebVRAvailable(),this.nativeLegacyWebVRAvailable||(this.nativeWebVRAvailable||this.enablePolyfill(),WebVRConfig.ENABLE_DEPRECATED_API&&this.enableDeprecatedPolyfill()),A()}function A(){\\\"VRDisplay\\\"in window&&!(\\\"VRFrameData\\\"in window)&&(window.VRFrameData=n,\\\"depthNear\\\"in window.VRDisplay.prototype||(window.VRDisplay.prototype.depthNear=.01),\\\"depthFar\\\"in window.VRDisplay.prototype||(window.VRDisplay.prototype.depthFar=1e4),window.VRDisplay.prototype.getFrameData=function(e){return s.frameDataFromPose(e,this.getPose(),this)})}var s=e(\\\"./util.js\\\"),r=e(\\\"./cardboard-vr-display.js\\\"),N=e(\\\"./mouse-keyboard-vr-display.js\\\"),D=e(\\\"./base.js\\\").VRDisplay,n=e(\\\"./base.js\\\").VRFrameData,u=e(\\\"./base.js\\\").HMDVRDevice,a=e(\\\"./base.js\\\").PositionSensorVRDevice,o=e(\\\"./display-wrappers.js\\\").VRDisplayHMDDevice,g=e(\\\"./display-wrappers.js\\\").VRDisplayPositionSensorDevice;t.prototype.isWebVRAvailable=function(){return\\\"getVRDisplays\\\"in navigator},t.prototype.isDeprecatedWebVRAvailable=function(){return\\\"getVRDevices\\\"in navigator||\\\"mozGetVRDevices\\\"in navigator},t.prototype.populateDevices=function(){if(!this.devicesPopulated){var e=null;this.isCardboardCompatible()&&(e=new r,this.displays.push(e),WebVRConfig.ENABLE_DEPRECATED_API&&(this.devices.push(new o(e)),this.devices.push(new g(e)))),this.isMobile()||WebVRConfig.MOUSE_KEYBOARD_CONTROLS_DISABLED||(e=new N,this.displays.push(e),WebVRConfig.ENABLE_DEPRECATED_API&&(this.devices.push(new o(e)),this.devices.push(new g(e)))),this.devicesPopulated=!0}},t.prototype.enablePolyfill=function(){navigator.getVRDisplays=this.getVRDisplays.bind(this),window.VRDisplay=D;var e=this;Object.defineProperty(navigator,\\\"vrEnabled\\\",{get:function(){return e.isCardboardCompatible()&&(document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled||!1)}}),window.VRFrameData=n},t.prototype.enableDeprecatedPolyfill=function(){navigator.getVRDevices=this.getVRDevices.bind(this),window.HMDVRDevice=u,window.PositionSensorVRDevice=a},t.prototype.getVRDisplays=function(){this.populateDevices();var e=this.displays;return new Promise(function(M,i){try{M(e)}catch(e){i(e)}})},t.prototype.getVRDevices=function(){console.warn(\\\"getVRDevices is deprecated. Please update your code to use getVRDisplays instead.\\\");var e=this;return new Promise(function(M,i){try{if(!e.devicesPopulated){if(e.nativeWebVRAvailable)return navigator.getVRDisplays(function(i){for(var t=0;t<i.length;++t)e.devices.push(new o(i[t])),e.devices.push(new g(i[t]));e.devicesPopulated=!0,M(e.devices)},i);if(e.nativeLegacyWebVRAvailable)return(navigator.getVRDDevices||navigator.mozGetVRDevices)(function(i){for(var t=0;t<i.length;++t)i[t]instanceof u&&e.devices.push(i[t]),i[t]instanceof a&&e.devices.push(i[t]);e.devicesPopulated=!0,M(e.devices)},i)}e.populateDevices(),M(e.devices)}catch(e){i(e)}})},t.prototype.isMobile=function(){return/Android/i.test(navigator.userAgent)||/iPhone|iPad|iPod/i.test(navigator.userAgent)},t.prototype.isCardboardCompatible=function(){return this.isMobile()||WebVRConfig.FORCE_ENABLE_VR},M.exports.WebVRPolyfill=t},{\\\"./base.js\\\":2,\\\"./cardboard-vr-display.js\\\":5,\\\"./display-wrappers.js\\\":8,\\\"./mouse-keyboard-vr-display.js\\\":15,\\\"./util.js\\\":22}]},{},[13]);\\n},{}],20:[function(_dereq_,module,exports){\\nmodule.exports={\\\"name\\\":\\\"aframe\\\",\\\"version\\\":\\\"0.4.0\\\",\\\"description\\\":\\\"A web framework for building virtual reality experiences.\\\",\\\"homepage\\\":\\\"https://aframe.io/\\\",\\\"main\\\":\\\"dist/aframe-master.js\\\",\\\"scripts\\\":{\\\"browserify\\\":\\\"browserify src/index.js -s 'AFRAME' -p browserify-derequire\\\",\\\"build\\\":\\\"mkdirp build/ && npm run browserify -- --debug -t [envify --INSPECTOR_VERSION dev] -o build/aframe.js\\\",\\\"codecov\\\":\\\"codecov\\\",\\\"dev\\\":\\\"npm run build && cross-env INSPECTOR_VERSION=dev node ./scripts/budo -t envify\\\",\\\"dist\\\":\\\"npm run dist:min && npm run dist:max\\\",\\\"dist:max\\\":\\\"npm run browserify -s -- --debug -t [envify --INSPECTOR_VERSION dev] | exorcist dist/aframe-master.js.map > dist/aframe-master.js\\\",\\\"dist:min\\\":\\\"npm run browserify -s -- --debug -t [envify --INSPECTOR_VERSION dev] -p [minifyify --map aframe-master.min.js.map --output dist/aframe-master.min.js.map] -o dist/aframe-master.min.js\\\",\\\"docs\\\":\\\"markserv --dir docs --port 9001\\\",\\\"ghpages\\\":\\\"ghpages -p gh-pages/\\\",\\\"lint\\\":\\\"semistandard -v | snazzy\\\",\\\"precommit\\\":\\\"npm run lint\\\",\\\"preghpages\\\":\\\"npm run dist && rimraf gh-pages && mkdirp gh-pages && cp -r {.nojekyll,dist,lib,examples,index.html,style} gh-pages/. 2>/dev/null || : && git checkout dist/ && replace 'build/aframe.js' 'dist/aframe.min.js' gh-pages/ -r --silent\\\",\\\"prerelease\\\":\\\"npm run dist && node scripts/release.js 0.3.2 0.4.0\\\",\\\"start\\\":\\\"npm run dev\\\",\\\"test\\\":\\\"karma start ./tests/karma.conf.js\\\",\\\"test:docs\\\":\\\"node scripts/docs-lint.js\\\",\\\"test:firefox\\\":\\\"karma start ./tests/karma.conf.js --browsers Firefox\\\",\\\"test:chrome\\\":\\\"karma start ./tests/karma.conf.js --browsers Chrome\\\",\\\"test:ci\\\":\\\"TEST_ENV=ci karma start ./tests/karma.conf.js --single-run --browsers Firefox\\\"},\\\"repository\\\":\\\"aframevr/aframe\\\",\\\"license\\\":\\\"MIT\\\",\\\"dependencies\\\":{\\\"browserify-css\\\":\\\"^0.8.2\\\",\\\"debug\\\":\\\"^2.2.0\\\",\\\"deep-assign\\\":\\\"^2.0.0\\\",\\\"document-register-element\\\":\\\"dmarcos/document-register-element#8ccc532b7\\\",\\\"object-assign\\\":\\\"^4.0.1\\\",\\\"present\\\":\\\"0.0.6\\\",\\\"promise-polyfill\\\":\\\"^3.1.0\\\",\\\"style-attr\\\":\\\"^1.0.2\\\",\\\"three\\\":\\\"^0.82.1\\\",\\\"tween.js\\\":\\\"^15.0.0\\\",\\\"webvr-polyfill\\\":\\\"^0.9.23\\\"},\\\"devDependencies\\\":{\\\"browserify\\\":\\\"^13.1.0\\\",\\\"browserify-derequire\\\":\\\"^0.9.4\\\",\\\"browserify-istanbul\\\":\\\"^2.0.0\\\",\\\"budo\\\":\\\"^9.2.0\\\",\\\"chai\\\":\\\"^3.5.0\\\",\\\"chai-shallow-deep-equal\\\":\\\"^1.4.0\\\",\\\"chalk\\\":\\\"^1.1.3\\\",\\\"codecov\\\":\\\"^1.0.1\\\",\\\"cross-env\\\":\\\"^3.1.3\\\",\\\"envify\\\":\\\"^3.4.1\\\",\\\"exorcist\\\":\\\"^0.4.0\\\",\\\"ghpages\\\":\\\"0.0.8\\\",\\\"glob\\\":\\\"^7.1.1\\\",\\\"husky\\\":\\\"^0.11.7\\\",\\\"istanbul\\\":\\\"^0.4.5\\\",\\\"karma\\\":\\\"^1.3.0\\\",\\\"karma-browserify\\\":\\\"^5.1.0\\\",\\\"karma-chai-shallow-deep-equal\\\":\\\"0.0.4\\\",\\\"karma-chrome-launcher\\\":\\\"^2.0.0\\\",\\\"karma-coverage\\\":\\\"^1.1.1\\\",\\\"karma-env-preprocessor\\\":\\\"^0.1.1\\\",\\\"karma-firefox-launcher\\\":\\\"^1.0.0\\\",\\\"karma-mocha\\\":\\\"^1.1.1\\\",\\\"karma-mocha-reporter\\\":\\\"^2.1.0\\\",\\\"karma-sinon-chai\\\":\\\"^1.2.4\\\",\\\"lolex\\\":\\\"^1.5.1\\\",\\\"markserv\\\":\\\"0.0.20\\\",\\\"minifyify\\\":\\\"^7.3.3\\\",\\\"mkdirp\\\":\\\"^0.5.1\\\",\\\"mocha\\\":\\\"^3.0.2\\\",\\\"mozilla-download\\\":\\\"^1.1.1\\\",\\\"open\\\":\\\"0.0.5\\\",\\\"replace\\\":\\\"^0.3.0\\\",\\\"rimraf\\\":\\\"^2.5.4\\\",\\\"semistandard\\\":\\\"^9.0.0\\\",\\\"sinon\\\":\\\"^1.17.5\\\",\\\"sinon-chai\\\":\\\"^2.8.0\\\",\\\"snazzy\\\":\\\"^5.0.0\\\",\\\"too-wordy\\\":\\\"ngokevin/too-wordy\\\",\\\"uglifyjs\\\":\\\"^2.4.10\\\",\\\"write-good\\\":\\\"^0.9.1\\\"},\\\"link\\\":true,\\\"browserify\\\":{\\\"transform\\\":[\\\"browserify-css\\\",\\\"envify\\\"]},\\\"semistandard\\\":{\\\"ignore\\\":[\\\"build/**\\\",\\\"dist/**\\\",\\\"examples/**/shaders/*.js\\\",\\\"**/vendor/**\\\"]},\\\"keywords\\\":[\\\"3d\\\",\\\"aframe\\\",\\\"cardboard\\\",\\\"components\\\",\\\"oculus\\\",\\\"three\\\",\\\"three.js\\\",\\\"rift\\\",\\\"vive\\\",\\\"vr\\\",\\\"web-components\\\",\\\"webvr\\\"],\\\"browserify-css\\\":{\\\"minify\\\":true},\\\"engines\\\":{\\\"node\\\":\\\">= 4.6.0\\\",\\\"npm\\\":\\\"^2.15.9\\\"}}\\n},{}],21:[function(_dereq_,module,exports){\\nvar registerComponent=_dereq_(\\\"../core/component\\\").registerComponent,THREE=_dereq_(\\\"../lib/three\\\");module.exports.Component=registerComponent(\\\"blend-character-model\\\",{schema:{type:\\\"asset\\\"},init:function(){this.model=null},update:function(){var e=this,o=this.el,t=this.data;t&&(this.remove(),this.model=new THREE.BlendCharacter,this.model.load(t,function(){o.setObject3D(\\\"mesh\\\",e.model),o.emit(\\\"model-loaded\\\",{format:\\\"blend\\\",model:e.model}),e.model.castShadow=!0,e.model.receiveShadow=!0,e.model.material.shading=THREE.FlatShading,e.model.geometry.computeBoundingBox()}))},remove:function(){this.model&&this.el.removeObject3D(\\\"mesh\\\")}});\\n},{\\\"../core/component\\\":63,\\\"../lib/three\\\":106}],22:[function(_dereq_,module,exports){\\nvar registerComponent=_dereq_(\\\"../core/component\\\").registerComponent,THREE=_dereq_(\\\"../lib/three\\\"),utils=_dereq_(\\\"../utils/\\\"),bind=utils.bind,checkHasPositionalTracking=utils.device.checkHasPositionalTracking;module.exports.Component=registerComponent(\\\"camera\\\",{schema:{active:{default:!0},far:{default:1e4},fov:{default:80,min:0},near:{default:.005,min:0},userHeight:{default:0,min:0},zoom:{default:1,min:0}},init:function(){var t,e=this.el,i=e.sceneEl;this.savedPose=null,t=this.camera=new THREE.PerspectiveCamera,e.setObject3D(\\\"camera\\\",t),this.onEnterVR=bind(this.onEnterVR,this),this.onExitVR=bind(this.onExitVR,this),i.addEventListener(\\\"enter-vr\\\",this.onEnterVR),i.addEventListener(\\\"exit-vr\\\",this.onExitVR)},update:function(t){var e=this.el,i=this.data,s=this.camera,a=this.system;this.addHeightOffset(t.userHeight),s.aspect=i.aspect||window.innerWidth/window.innerHeight,s.far=i.far,s.fov=i.fov,s.near=i.near,s.zoom=i.zoom,s.updateProjectionMatrix(),t&&t.active===i.active||(i.active&&a.activeCameraEl!==e?a.setActiveCamera(e):i.active||a.activeCameraEl!==e||a.disableActiveCamera())},remove:function(){var t=this.el.sceneEl;this.el.removeObject3D(\\\"camera\\\"),t.removeEventListener(\\\"enter-vr\\\",this.onEnterVR),t.removeEventListener(\\\"exit-vr\\\",this.onExitVR)},onEnterVR:function(){this.saveCameraPose(),this.removeHeightOffset()},onExitVR:function(){this.restoreCameraPose()},addHeightOffset:function(t){var e,i=this.el,s=this.data.userHeight;t=t||0,e=i.getAttribute(\\\"position\\\")||{x:0,y:0,z:0},i.setAttribute(\\\"position\\\",{x:e.x,y:e.y-t+s,z:e.z})},removeHeightOffset:function(){var t,e,i=this.el,s=this.data.userHeight;e=this.hasPositionalTracking||checkHasPositionalTracking(),s&&e&&(t=i.getAttribute(\\\"position\\\")||{x:0,y:0,z:0},i.setAttribute(\\\"position\\\",{x:t.x,y:t.y-s,z:t.z}))},saveCameraPose:function(){var t=this.el,e=this.hasPositionalTracking||checkHasPositionalTracking();!this.savedPose&&e&&(this.savedPose={position:t.getAttribute(\\\"position\\\"),rotation:t.getAttribute(\\\"rotation\\\")})},restoreCameraPose:function(){var t=this.el,e=this.savedPose,i=this.hasPositionalTracking||checkHasPositionalTracking();e&&i&&(t.setAttribute(\\\"position\\\",e.position),t.setAttribute(\\\"rotation\\\",e.rotation),this.savedPose=null)}});\\n},{\\\"../core/component\\\":63,\\\"../lib/three\\\":106,\\\"../utils/\\\":124}],23:[function(_dereq_,module,exports){\\nvar registerComponent=_dereq_(\\\"../core/component\\\").registerComponent,THREE=_dereq_(\\\"../lib/three\\\");module.exports.Component=registerComponent(\\\"collada-model\\\",{schema:{type:\\\"asset\\\"},init:function(){this.model=null,this.loader=new THREE.ColladaLoader,this.loader.options.convertUpAxis=!0},update:function(){var e=this,o=this.el,t=this.data;t&&(this.remove(),this.loader.load(t,function(t){e.model=t.scene,o.setObject3D(\\\"mesh\\\",e.model),o.emit(\\\"model-loaded\\\",{format:\\\"collada\\\",model:e.model})}))},remove:function(){this.model&&this.el.removeObject3D(\\\"mesh\\\")}});\\n},{\\\"../core/component\\\":63,\\\"../lib/three\\\":106}],24:[function(_dereq_,module,exports){\\nvar registerComponent=_dereq_(\\\"../core/component\\\").registerComponent,utils=_dereq_(\\\"../utils/\\\"),bind=utils.bind,EVENTS={CLICK:\\\"click\\\",FUSING:\\\"fusing\\\",MOUSEENTER:\\\"mouseenter\\\",MOUSEDOWN:\\\"mousedown\\\",MOUSELEAVE:\\\"mouseleave\\\",MOUSEUP:\\\"mouseup\\\"},STATES={FUSING:\\\"cursor-fusing\\\",HOVERING:\\\"cursor-hovering\\\",HOVERED:\\\"cursor-hovered\\\"};module.exports.Component=registerComponent(\\\"cursor\\\",{dependencies:[\\\"raycaster\\\"],schema:{fuse:{default:utils.device.isMobile()},fuseTimeout:{default:1500,min:0}},init:function(){var e=this.el,t=e.sceneEl.canvas;return this.fuseTimeout=void 0,this.mouseDownEl=null,this.intersection=null,this.intersectedEl=null,t?(t.addEventListener(\\\"mousedown\\\",bind(this.onMouseDown,this)),t.addEventListener(\\\"mouseup\\\",bind(this.onMouseUp,this)),e.addEventListener(\\\"raycaster-intersection\\\",bind(this.onIntersection,this)),void e.addEventListener(\\\"raycaster-intersection-cleared\\\",bind(this.onIntersectionCleared,this))):void e.sceneEl.addEventListener(\\\"render-target-loaded\\\",bind(this.init,this))},onMouseDown:function(e){this.twoWayEmit(EVENTS.MOUSEDOWN),this.mouseDownEl=this.intersectedEl},onMouseUp:function(e){this.twoWayEmit(EVENTS.MOUSEUP),!this.data.fuse&&this.intersectedEl&&this.mouseDownEl===this.intersectedEl&&this.twoWayEmit(EVENTS.CLICK)},onIntersection:function(e){var t,i,s,n=this,o=this.el,r=this.data;if(t=e.detail.els[0]===o?1:0,s=e.detail.intersections[t],i=e.detail.els[t]){if(this.intersectedEl===i)return void(this.intersection=s);this.intersectedEl&&this.clearCurrentIntersection(),this.intersection=s,this.intersectedEl=i,o.addState(STATES.HOVERING),i.addState(STATES.HOVERED),n.twoWayEmit(EVENTS.MOUSEENTER),0!==r.fuseTimeout&&r.fuse&&(o.addState(STATES.FUSING),this.twoWayEmit(EVENTS.FUSING),this.fuseTimeout=setTimeout(function(){o.removeState(STATES.FUSING),n.twoWayEmit(EVENTS.CLICK)},r.fuseTimeout))}},onIntersectionCleared:function(e){var t=this.el,i=e.detail.el;t!==i&&i===this.intersectedEl&&this.clearCurrentIntersection()},clearCurrentIntersection:function(){var e=this.el;this.intersectedEl.removeState(STATES.HOVERED),e.removeState(STATES.HOVERING),e.removeState(STATES.FUSING),this.twoWayEmit(EVENTS.MOUSELEAVE),this.intersection=null,this.intersectedEl=null,clearTimeout(this.fuseTimeout)},twoWayEmit:function(e){var t=this.el,i=this.intersectedEl,s=this.intersection;t.emit(e,{intersectedEl:i,intersection:s}),i&&i.emit(e,{cursorEl:t,intersection:s})}});\\n},{\\\"../core/component\\\":63,\\\"../utils/\\\":124}],25:[function(_dereq_,module,exports){\\nvar debug=_dereq_(\\\"../utils/debug\\\"),geometries=_dereq_(\\\"../core/geometry\\\").geometries,geometryNames=_dereq_(\\\"../core/geometry\\\").geometryNames,registerComponent=_dereq_(\\\"../core/component\\\").registerComponent,THREE=_dereq_(\\\"../lib/three\\\"),dummyGeometry=new THREE.Geometry,warn=debug(\\\"components:geometry:warn\\\");module.exports.Component=registerComponent(\\\"geometry\\\",{schema:{buffer:{default:!0},mergeTo:{type:\\\"selector\\\"},primitive:{default:\\\"box\\\",oneOf:geometryNames},skipCache:{default:!1}},init:function(){this.geometry=null},update:function(e){var t=this.data,r=this.el.getOrCreateObject3D(\\\"mesh\\\",THREE.Mesh),o=this.system;this.geometry&&(o.unuseGeometry(e),this.geometry=null),this.geometry=r.geometry=o.getOrCreateGeometry(t),t.mergeTo&&this.mergeTo(t.mergeTo)},mergeTo:function(e){var t,r=this.el,o=r.getObject3D(\\\"mesh\\\");return e?e===r?void warn(\\\"Source and target geometries cannot be the same for merge\\\"):(t=e.getObject3D(\\\"mesh\\\"))?t.geometry instanceof THREE.Geometry==!1||o.geometry instanceof THREE.Geometry==!1?void warn(\\\"Geometry merge is only available for `THREE.Geometry` types. Check that both of the merging geometry and the target geometry have `buffer` set to false\\\"):this.data.skipCache===!1?void warn(\\\"Cached geometries are not allowed to merge. Set `skipCache` to true\\\"):(o.parent.updateMatrixWorld(),t.geometry.merge(o.geometry,o.matrixWorld),r.emit(\\\"geometry-merged\\\",{mergeTarget:e}),void r.parentNode.removeChild(r)):(t=e.getOrCreateObject3D(\\\"mesh\\\",THREE.Mesh),void e.setAttribute(\\\"material\\\",r.getAttribute(\\\"material\\\"))):void warn(\\\"There is not a valid entity to merge the geometry to\\\")},remove:function(){this.system.unuseGeometry(this.data),this.el.getObject3D(\\\"mesh\\\").geometry=dummyGeometry,this.geometry=null},updateSchema:function(e){var t=e.primitive,r=this.data&&this.data.primitive,o=geometries[t]&&geometries[t].schema;if(!o)throw new Error(\\\"Unknown geometry schema `\\\"+t+\\\"`\\\");r&&r===t||this.extendSchema(o)}});\\n},{\\\"../core/component\\\":63,\\\"../core/geometry\\\":64,\\\"../lib/three\\\":106,\\\"../utils/debug\\\":120}],26:[function(_dereq_,module,exports){\\nvar registerComponent=_dereq_(\\\"../core/component\\\").registerComponent,OCULUS_LEFT_HAND_MODEL_URL=\\\"https://cdn.aframe.io/controllers/oculus-hands/leftHand.json\\\",OCULUS_RIGHT_HAND_MODEL_URL=\\\"https://cdn.aframe.io/controllers/oculus-hands/rightHand.json\\\";module.exports.Component=registerComponent(\\\"hand-controls\\\",{schema:{default:\\\"left\\\"},init:function(){var t=this;this.touchedButtons={},this.pressedButtons={},this.onGripDown=function(){t.handleButton(\\\"grip\\\",\\\"down\\\")},this.onGripUp=function(){t.handleButton(\\\"grip\\\",\\\"up\\\")},this.onTrackpadDown=function(){t.handleButton(\\\"trackpad\\\",\\\"down\\\")},this.onTrackpadUp=function(){t.handleButton(\\\"trackpad\\\",\\\"up\\\")},this.onTrackpadTouchStart=function(){t.handleButton(\\\"trackpad\\\",\\\"touchstart\\\")},this.onTrackpadTouchEnd=function(){t.handleButton(\\\"trackpad\\\",\\\"touchend\\\")},this.onTriggerDown=function(){t.handleButton(\\\"trigger\\\",\\\"down\\\")},this.onTriggerUp=function(){t.handleButton(\\\"trigger\\\",\\\"up\\\")},this.onTriggerTouchStart=function(){t.handleButton(\\\"trigger\\\",\\\"touchstart\\\")},this.onTriggerTouchEnd=function(){t.handleButton(\\\"trigger\\\",\\\"touchend\\\")},this.onGripTouchStart=function(){t.handleButton(\\\"grip\\\",\\\"touchstart\\\")},this.onGripTouchEnd=function(){t.handleButton(\\\"grip\\\",\\\"touchend\\\")},this.onThumbstickDown=function(){t.handleButton(\\\"thumbstick\\\",\\\"down\\\")},this.onThumbstickUp=function(){t.handleButton(\\\"thumbstick\\\",\\\"up\\\")},this.onAorXTouchStart=function(){t.handleButton(\\\"AorX\\\",\\\"touchstart\\\")},this.onAorXTouchEnd=function(){t.handleButton(\\\"AorX\\\",\\\"touchend\\\")},this.onBorYTouchStart=function(){t.handleButton(\\\"BorY\\\",\\\"touchstart\\\")},this.onBorYTouchEnd=function(){t.handleButton(\\\"BorY\\\",\\\"touchend\\\")},this.onSurfaceTouchStart=function(){t.handleButton(\\\"surface\\\",\\\"touchstart\\\")},this.onSurfaceTouchEnd=function(){t.handleButton(\\\"surface\\\",\\\"touchend\\\")}},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners()},addEventListeners:function(){var t=this.el;t.addEventListener(\\\"gripdown\\\",this.onGripDown),t.addEventListener(\\\"gripup\\\",this.onGripUp),t.addEventListener(\\\"trackpaddown\\\",this.onTrackpadDown),t.addEventListener(\\\"trackpadup\\\",this.onTrackpadUp),t.addEventListener(\\\"trackpadtouchstart\\\",this.onTrackpadTouchStart),t.addEventListener(\\\"trackpadtouchend\\\",this.onTrackpadTouchEnd),t.addEventListener(\\\"triggerdown\\\",this.onTriggerDown),t.addEventListener(\\\"triggerup\\\",this.onTriggerUp),t.addEventListener(\\\"triggertouchstart\\\",this.onTriggerTouchStart),t.addEventListener(\\\"triggertouchend\\\",this.onTriggerTouchEnd),t.addEventListener(\\\"griptouchstart\\\",this.onGripTouchStart),t.addEventListener(\\\"griptouchend\\\",this.onGripTouchEnd),t.addEventListener(\\\"thumbstickdown\\\",this.onThumbstickDown),t.addEventListener(\\\"thumbstickup\\\",this.onThumbstickUp),t.addEventListener(\\\"Atouchstart\\\",this.onAorXTouchStart),t.addEventListener(\\\"Atouchend\\\",this.onAorXTouchEnd),t.addEventListener(\\\"Btouchstart\\\",this.onBorYTouchStart),t.addEventListener(\\\"Btouchend\\\",this.onBorYTouchEnd),t.addEventListener(\\\"Xtouchstart\\\",this.onAorXTouchStart),t.addEventListener(\\\"Xtouchend\\\",this.onAorXTouchEnd),t.addEventListener(\\\"Ytouchstart\\\",this.onBorYTouchStart),t.addEventListener(\\\"Ytouchend\\\",this.onBorYTouchEnd),t.addEventListener(\\\"surfacetouchstart\\\",this.onSurfaceTouchStart),t.addEventListener(\\\"surfacetouchend\\\",this.onSurfaceTouchEnd)},removeEventListeners:function(){var t=this.el;t.removeEventListener(\\\"gripdown\\\",this.onGripDown),t.removeEventListener(\\\"gripup\\\",this.onGripUp),t.removeEventListener(\\\"trackpaddown\\\",this.onTrackpadDown),t.removeEventListener(\\\"trackpadup\\\",this.onTrackpadUp),t.removeEventListener(\\\"trackpadtouchstart\\\",this.onTrackpadTouchStart),t.removeEventListener(\\\"trackpadtouchend\\\",this.onTrackpadTouchEnd),t.removeEventListener(\\\"triggerdown\\\",this.onTriggerDown),t.removeEventListener(\\\"triggerup\\\",this.onTriggerUp),t.removeEventListener(\\\"triggertouchstart\\\",this.onTriggerTouchStart),t.removeEventListener(\\\"triggertouchend\\\",this.onTriggerTouchEnd),t.removeEventListener(\\\"griptouchstart\\\",this.onGripTouchStart),t.removeEventListener(\\\"griptouchend\\\",this.onGripTouchEnd),t.removeEventListener(\\\"thumbstickdown\\\",this.onThumbstickDown),t.removeEventListener(\\\"thumbstickup\\\",this.onThumbstickUp),t.removeEventListener(\\\"Atouchstart\\\",this.onAorXTouchStart),t.removeEventListener(\\\"Atouchend\\\",this.onAorXTouchEnd),t.removeEventListener(\\\"Btouchstart\\\",this.onBorYTouchStart),t.removeEventListener(\\\"Btouchend\\\",this.onBorYTouchEnd),t.removeEventListener(\\\"Xtouchstart\\\",this.onAorXTouchStart),t.removeEventListener(\\\"Xtouchend\\\",this.onAorXTouchEnd),t.removeEventListener(\\\"Ytouchstart\\\",this.onBorYTouchStart),t.removeEventListener(\\\"Ytouchend\\\",this.onBorYTouchEnd),t.removeEventListener(\\\"surfacetouchstart\\\",this.onSurfaceTouchStart),t.removeEventListener(\\\"surfacetouchend\\\",this.onSurfaceTouchEnd)},update:function(){var t,n=this.el,e=this.data,o={hand:e,model:!1,rotationOffset:\\\"left\\\"===e?90:-90};t=\\\"left\\\"===e?\\\"url(\\\"+OCULUS_LEFT_HAND_MODEL_URL+\\\")\\\":\\\"url(\\\"+OCULUS_RIGHT_HAND_MODEL_URL+\\\")\\\",n.setAttribute(\\\"vive-controls\\\",o),n.setAttribute(\\\"oculus-touch-controls\\\",o),n.setAttribute(\\\"blend-character-model\\\",t)},handleButton:function(t,n){var e,o=\\\"down\\\"===n,r=\\\"touchstart\\\"===n;if(0===n.indexOf(\\\"touch\\\")){if(r===this.touchedButtons[t])return;this.touchedButtons[t]=r}else{if(o===this.pressedButtons[t])return;this.pressedButtons[t]=o}e=this.gesture,this.gesture=this.determineGesture(),this.gesture!==e&&(this.animateGesture(this.gesture),this.emitGestureEvents(this.gesture,e))},isViveController:function(){var t=this.el.components[\\\"tracked-controls\\\"],n=t&&t.controller&&t.controller.id;return\\\"OpenVR Gamepad\\\"===n},determineGesture:function(){var t,n=this.pressedButtons.grip,e=this.pressedButtons.surface||this.touchedButtons.surface,o=this.pressedButtons.trackpad||this.touchedButtons.trackpad,r=this.pressedButtons.trigger||this.touchedButtons.trigger,i=this.touchedButtons.AorX||this.touchedButtons.BorY,s=this.isViveController();return n?t=s?\\\"fist\\\":e||i||o?r?\\\"fist\\\":\\\"pointing\\\":r?\\\"thumb\\\":\\\"pistol\\\":r?t=s?\\\"fist\\\":\\\"touch\\\":s&&o&&(t=\\\"pointing\\\"),t},gestureAnimationMapping:{pointing:\\\"pointing\\\",pistol:\\\"pistol\\\",fist:\\\"press\\\",touch:\\\"touch\\\",thumb:\\\"thumb\\\"},animateGesture:function(t){var n=this.isViveController();if(!t)return void this.playAnimation(\\\"touch\\\",!n);var e=this.gestureAnimationMapping[t];this.playAnimation(e||\\\"touch\\\",!e&&!n)},gestureEventMapping:{fist:\\\"grip\\\",touch:\\\"point\\\",thumb:\\\"thumb\\\",pointing:\\\"pointing\\\",pistol:\\\"pistol\\\"},gestureEventName:function(t,n){if(!t)return 0;var e=this.gestureEventMapping[t];return\\\"grip\\\"===e?e+(n?\\\"close\\\":\\\"open\\\"):\\\"point\\\"===e||\\\"thumb\\\"===e?e+(n?\\\"up\\\":\\\"down\\\"):\\\"pointing\\\"===e||\\\"pistol\\\"===e?e+(n?\\\"start\\\":\\\"end\\\"):0},emitGestureEvents:function(t,n){var e,o=this.el;n!==t&&(e=this.gestureEventName(n,!1),e&&o.emit(e),e=this.gestureEventName(t,!0),e&&o.emit(e))},playAnimation:function(t,n){var e=this.animationActive,o=1,r=this.el.getObject3D(\\\"mesh\\\");r&&(n&&(o=-1),e&&r.play(e,0),r.mixer.clipAction(t).loop=2200,r.mixer.clipAction(t).clampWhenFinished=!0,r.mixer.clipAction(t).timeScale=o,r.play(t,1),this.animationActive=t)}});\\n},{\\\"../core/component\\\":63}],27:[function(_dereq_,module,exports){\\n_dereq_(\\\"./blend-character-model\\\"),_dereq_(\\\"./camera\\\"),_dereq_(\\\"./collada-model\\\"),_dereq_(\\\"./cursor\\\"),_dereq_(\\\"./geometry\\\"),_dereq_(\\\"./hand-controls\\\"),_dereq_(\\\"./light\\\"),_dereq_(\\\"./look-controls\\\"),_dereq_(\\\"./material\\\"),_dereq_(\\\"./obj-model\\\"),_dereq_(\\\"./oculus-touch-controls\\\"),_dereq_(\\\"./position\\\"),_dereq_(\\\"./raycaster\\\"),_dereq_(\\\"./rotation\\\"),_dereq_(\\\"./scale\\\"),_dereq_(\\\"./sound\\\"),_dereq_(\\\"./tracked-controls\\\"),_dereq_(\\\"./visible\\\"),_dereq_(\\\"./vive-controls\\\"),_dereq_(\\\"./wasd-controls\\\"),_dereq_(\\\"./scene/auto-enter-vr\\\"),_dereq_(\\\"./scene/canvas\\\"),_dereq_(\\\"./scene/debug\\\"),_dereq_(\\\"./scene/embedded\\\"),_dereq_(\\\"./scene/inspector\\\"),_dereq_(\\\"./scene/fog\\\"),_dereq_(\\\"./scene/keyboard-shortcuts\\\"),_dereq_(\\\"./scene/pool\\\"),_dereq_(\\\"./scene/screenshot\\\"),_dereq_(\\\"./scene/stats\\\"),_dereq_(\\\"./scene/vr-mode-ui\\\");\\n},{\\\"./blend-character-model\\\":21,\\\"./camera\\\":22,\\\"./collada-model\\\":23,\\\"./cursor\\\":24,\\\"./geometry\\\":25,\\\"./hand-controls\\\":26,\\\"./light\\\":28,\\\"./look-controls\\\":29,\\\"./material\\\":30,\\\"./obj-model\\\":31,\\\"./oculus-touch-controls\\\":32,\\\"./position\\\":33,\\\"./raycaster\\\":34,\\\"./rotation\\\":35,\\\"./scale\\\":36,\\\"./scene/auto-enter-vr\\\":37,\\\"./scene/canvas\\\":38,\\\"./scene/debug\\\":39,\\\"./scene/embedded\\\":40,\\\"./scene/fog\\\":41,\\\"./scene/inspector\\\":42,\\\"./scene/keyboard-shortcuts\\\":43,\\\"./scene/pool\\\":44,\\\"./scene/screenshot\\\":45,\\\"./scene/stats\\\":46,\\\"./scene/vr-mode-ui\\\":47,\\\"./sound\\\":48,\\\"./tracked-controls\\\":49,\\\"./visible\\\":50,\\\"./vive-controls\\\":51,\\\"./wasd-controls\\\":52}],28:[function(_dereq_,module,exports){\\nvar bind=_dereq_(\\\"../utils/bind\\\"),diff=_dereq_(\\\"../utils\\\").diff,debug=_dereq_(\\\"../utils/debug\\\"),registerComponent=_dereq_(\\\"../core/component\\\").registerComponent,THREE=_dereq_(\\\"../lib/three\\\"),degToRad=THREE.Math.degToRad,warn=debug(\\\"components:light:warn\\\");module.exports.Component=registerComponent(\\\"light\\\",{schema:{angle:{default:60,if:{type:[\\\"spot\\\"]}},color:{type:\\\"color\\\"},groundColor:{type:\\\"color\\\",if:{type:[\\\"hemisphere\\\"]}},decay:{default:1,if:{type:[\\\"point\\\",\\\"spot\\\"]}},distance:{default:0,min:0,if:{type:[\\\"point\\\",\\\"spot\\\"]}},intensity:{default:1,min:0,if:{type:[\\\"ambient\\\",\\\"directional\\\",\\\"hemisphere\\\",\\\"point\\\",\\\"spot\\\"]}},penumbra:{default:0,min:0,max:1,if:{type:[\\\"spot\\\"]}},type:{default:\\\"directional\\\",oneOf:[\\\"ambient\\\",\\\"directional\\\",\\\"hemisphere\\\",\\\"point\\\",\\\"spot\\\"]},target:{type:\\\"selector\\\",if:{type:[\\\"spot\\\",\\\"directional\\\"]}}},init:function(){var t=this.el;this.light=null,this.defaultTarget=null,this.system.registerLight(t)},update:function(t){var e=this.data,i=diff(e,t),o=this.light,r=this;return!o||\\\"type\\\"in i?void this.setLight(this.data):void Object.keys(i).forEach(function(t){var i=e[t];switch(t){case\\\"color\\\":o.color.set(i);break;case\\\"groundColor\\\":o.groundColor.set(i);break;case\\\"angle\\\":o.angle=degToRad(i);break;case\\\"target\\\":null===i?\\\"spot\\\"!==e.type&&\\\"directional\\\"!==e.type||(o.target=r.defaultTarget):i.hasLoaded?r.onSetTarget(i):i.addEventListener(\\\"loaded\\\",bind(r.onSetTarget,r,i));break;default:o[t]=i}})},setLight:function(t){var e=this.el,i=this.getLight(t);i&&(this.light&&e.removeObject3D(\\\"light\\\"),this.light=i,this.light.el=e,e.setObject3D(\\\"light\\\",this.light),\\\"spot\\\"!==t.type&&\\\"directional\\\"!==t.type&&\\\"hemisphere\\\"!==t.type||e.getObject3D(\\\"light\\\").translateY(-1),\\\"spot\\\"===t.type&&(e.setObject3D(\\\"light-target\\\",this.defaultTarget),e.getObject3D(\\\"light-target\\\").position.set(0,0,-1)))},getLight:function(t){var e=t.angle,i=new THREE.Color(t.color).getHex(),o=t.decay,r=t.distance,n=new THREE.Color(t.groundColor).getHex(),a=t.intensity,s=t.type,l=t.target,h=null;switch(s.toLowerCase()){case\\\"ambient\\\":return new THREE.AmbientLight(i,a);case\\\"directional\\\":return h=new THREE.DirectionalLight(i,a),this.defaultTarget=h.target,l&&(l.hasLoaded?this.onSetTarget(l):l.addEventListener(\\\"loaded\\\",bind(this.onSetTarget,this,l))),h;case\\\"hemisphere\\\":return new THREE.HemisphereLight(i,n,a);case\\\"point\\\":return new THREE.PointLight(i,a,r,o);case\\\"spot\\\":return h=new THREE.SpotLight(i,a,r,degToRad(e),t.penumbra,o),this.defaultTarget=h.target,l&&(l.hasLoaded?this.onSetTarget(l):l.addEventListener(\\\"loaded\\\",bind(this.onSetTarget,this,l))),h;default:warn(\\\"%s is not a valid light type. Choose from ambient, directional, hemisphere, point, spot.\\\",s)}},onSetTarget:function(t){this.light.target=t.object3D},remove:function(){this.el.removeObject3D(\\\"light\\\")}});\\n},{\\\"../core/component\\\":63,\\\"../lib/three\\\":106,\\\"../utils\\\":124,\\\"../utils/bind\\\":118,\\\"../utils/debug\\\":120}],29:[function(_dereq_,module,exports){\\nfunction isNullVector(t){return 0===t.x&&0===t.y&&0===t.z}var registerComponent=_dereq_(\\\"../core/component\\\").registerComponent,THREE=_dereq_(\\\"../lib/three\\\"),isMobile=_dereq_(\\\"../utils/\\\").device.isMobile(),bind=_dereq_(\\\"../utils/bind\\\"),PI_2=Math.PI/2,radToDeg=THREE.Math.radToDeg;module.exports.Component=registerComponent(\\\"look-controls\\\",{dependencies:[\\\"position\\\",\\\"rotation\\\"],schema:{enabled:{default:!0},hmdEnabled:{default:!0},reverseMouseDrag:{default:!1},standing:{default:!0}},init:function(){function t(){e.canvas.classList.add(\\\"a-grab-cursor\\\")}var e=this.el.sceneEl;this.previousHMDPosition=new THREE.Vector3,this.setupMouseControls(),this.setupHMDControls(),this.bindMethods(),e.canvas?t():e.addEventListener(\\\"render-target-loaded\\\",t)},update:function(t){var e=this.data,o=e.hmdEnabled;e.enabled&&(!o&&t&&o!==t.hmdEnabled&&(this.pitchObject.rotation.set(0,0,0),this.yawObject.rotation.set(0,0,0)),this.controls.standing=e.standing,this.controls.update(),this.updateOrientation(),this.updatePosition())},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners()},tick:function(t){this.update()},remove:function(){this.pause()},bindMethods:function(){this.onMouseDown=bind(this.onMouseDown,this),this.onMouseMove=bind(this.onMouseMove,this),this.releaseMouse=bind(this.releaseMouse,this),this.onTouchStart=bind(this.onTouchStart,this),this.onTouchMove=bind(this.onTouchMove,this),this.onTouchEnd=bind(this.onTouchEnd,this)},setupMouseControls:function(){this.mouseDown=!1,this.pitchObject=new THREE.Object3D,this.yawObject=new THREE.Object3D,this.yawObject.position.y=10,this.yawObject.add(this.pitchObject)},setupHMDControls:function(){this.dolly=new THREE.Object3D,this.euler=new THREE.Euler,this.controls=new THREE.VRControls(this.dolly),this.controls.userHeight=0},addEventListeners:function(){var t=this.el.sceneEl,e=t.canvas;return e?(e.addEventListener(\\\"mousedown\\\",this.onMouseDown,!1),window.addEventListener(\\\"mousemove\\\",this.onMouseMove,!1),window.addEventListener(\\\"mouseup\\\",this.releaseMouse,!1),e.addEventListener(\\\"touchstart\\\",this.onTouchStart),window.addEventListener(\\\"touchmove\\\",this.onTouchMove),void window.addEventListener(\\\"touchend\\\",this.onTouchEnd)):void t.addEventListener(\\\"render-target-loaded\\\",bind(this.addEventListeners,this))},removeEventListeners:function(){var t=this.el.sceneEl,e=t&&t.canvas;e&&(e.removeEventListener(\\\"mousedown\\\",this.onMouseDown),e.removeEventListener(\\\"mousemove\\\",this.onMouseMove),e.removeEventListener(\\\"mouseup\\\",this.releaseMouse),e.removeEventListener(\\\"mouseout\\\",this.releaseMouse),e.removeEventListener(\\\"touchstart\\\",this.onTouchStart),e.removeEventListener(\\\"touchmove\\\",this.onTouchMove),e.removeEventListener(\\\"touchend\\\",this.onTouchEnd))},updateOrientation:function(){var t=new THREE.Euler;return function(){var e,o,n,i=this.pitchObject,s=this.yawObject,r=this.calculateHMDQuaternion(),a=this.el.sceneEl;t.setFromQuaternion(r,\\\"YXZ\\\"),isMobile?n={x:radToDeg(t.x)+radToDeg(i.rotation.x),y:radToDeg(t.y)+radToDeg(s.rotation.y),z:radToDeg(t.z)}:a.is(\\\"vr-mode\\\")&&!isNullVector(t)&&this.data.hmdEnabled?n={x:radToDeg(t.x),y:radToDeg(t.y),z:radToDeg(t.z)}:(e=this.el.getAttribute(\\\"rotation\\\"),o=this.calculateDeltaRotation(),n=this.data.reverseMouseDrag?{x:e.x-o.x,y:e.y-o.y,z:e.z}:{x:e.x+o.x,y:e.y+o.y,z:e.z}),this.el.setAttribute(\\\"rotation\\\",n)}}(),calculateDeltaRotation:function(){var t,e;return function(){var o,n=radToDeg(this.pitchObject.rotation.x),i=radToDeg(this.yawObject.rotation.y);return t=t||n,e=e||i,o={x:n-t,y:i-e},t=n,e=i,o}}(),calculateHMDQuaternion:function(){var t=new THREE.Quaternion;return function(){return t.copy(this.dolly.quaternion),t}}(),updatePosition:function(){var t=new THREE.Vector3;return function(){var e,o=this.el,n=o.getAttribute(\\\"position\\\"),i=this.previousHMDPosition,s=this.el.sceneEl;e=this.calculateHMDPosition(),t.copy(e).sub(i),s.is(\\\"vr-mode\\\")&&!isNullVector(t)&&(i.copy(e),s.is(\\\"vr-mode\\\")&&o.setAttribute(\\\"position\\\",{x:n.x+t.x,y:n.y+t.y,z:n.z+t.z}))}}(),calculateHMDPosition:function(){var t=this.dolly,e=new THREE.Vector3;return t.updateMatrix(),e.setFromMatrixPosition(t.matrix),e},onMouseMove:function(t){var e=this.pitchObject,o=this.yawObject,n=this.previousMouseEvent;if(this.mouseDown&&this.data.enabled){var i=t.movementX||t.mozMovementX,s=t.movementY||t.mozMovementY;void 0!==i&&void 0!==s||(i=t.screenX-n.screenX,s=t.screenY-n.screenY),this.previousMouseEvent=t,o.rotation.y-=.002*i,e.rotation.x-=.002*s,e.rotation.x=Math.max(-PI_2,Math.min(PI_2,e.rotation.x))}},onMouseDown:function(t){this.mouseDown=!0,this.previousMouseEvent=t,document.body.classList.add(\\\"a-grabbing\\\")},releaseMouse:function(){this.mouseDown=!1,document.body.classList.remove(\\\"a-grabbing\\\")},onTouchStart:function(t){1===t.touches.length&&(this.touchStart={x:t.touches[0].pageX,y:t.touches[0].pageY},this.touchStarted=!0)},onTouchMove:function(t){var e,o=this.yawObject;this.touchStarted&&(e=2*Math.PI*(t.touches[0].pageX-this.touchStart.x)/this.el.sceneEl.canvas.clientWidth,o.rotation.y-=.5*e,this.touchStart={x:t.touches[0].pageX,y:t.touches[0].pageY})},onTouchEnd:function(){this.touchStarted=!1}});\\n},{\\\"../core/component\\\":63,\\\"../lib/three\\\":106,\\\"../utils/\\\":124,\\\"../utils/bind\\\":118}],30:[function(_dereq_,module,exports){\\nfunction parseSide(e){switch(e){case\\\"back\\\":return THREE.BackSide;case\\\"double\\\":return THREE.DoubleSide;default:return THREE.FrontSide}}function disposeMaterial(e,t){e.dispose(),t.unregisterMaterial(e)}var utils=_dereq_(\\\"../utils/\\\"),component=_dereq_(\\\"../core/component\\\"),THREE=_dereq_(\\\"../lib/three\\\"),shader=_dereq_(\\\"../core/shader\\\"),error=utils.debug(\\\"components:material:error\\\"),registerComponent=component.registerComponent,shaders=shader.shaders,shaderNames=shader.shaderNames;module.exports.Component=registerComponent(\\\"material\\\",{schema:{depthTest:{default:!0},flatShading:{default:!1},opacity:{default:1,min:0,max:1},shader:{default:\\\"standard\\\",oneOf:shaderNames},side:{default:\\\"front\\\",oneOf:[\\\"front\\\",\\\"back\\\",\\\"double\\\"]},transparent:{default:!1},visible:{default:!0}},init:function(){this.material=null},update:function(e){var t=this.data;this.shader&&t.shader===e.shader||this.updateShader(t.shader),this.shader.update(this.data),this.updateMaterial()},updateSchema:function(e){var t=e.shader,a=this.data&&this.data.shader,i=t||a,s=shaders[i]&&shaders[i].schema;s||error(\\\"Unknown shader schema \\\"+i),a&&t===a||(this.extendSchema(s),this.updateBehavior())},updateBehavior:function(){var e=this.schema,t=this,a=this.el.sceneEl,i={},s=function(e,a){function s(t){i[t]=e}var r=Object.keys(i);r.forEach(s),t.shader.update(i)},r=Object.keys(e);this.tick=void 0,r.forEach(function(a){\\\"time\\\"===e[a].type&&(t.tick=s,i[a]=!0)}),a&&(this.tick?a.addBehavior(this):a.removeBehavior(this))},updateShader:function(e){var t,a=this.data,i=shaders[e]&&shaders[e].Shader;if(!i)throw new Error(\\\"Unknown shader \\\"+e);t=this.shader=new i,t.el=this.el,t.init(a),this.setMaterial(t.material),this.updateSchema(a)},updateMaterial:function(){var e=this.data,t=this.material;t.side=parseSide(e.side),t.opacity=e.opacity,t.transparent=e.transparent!==!1||e.opacity<1,t.depthTest=e.depthTest!==!1,t.shading=e.flatShading?THREE.FlatShading:THREE.SmoothShading,t.visible=e.visible},remove:function(){var e=new THREE.MeshBasicMaterial,t=this.material,a=this.el.getObject3D(\\\"mesh\\\");a&&(a.material=e),disposeMaterial(t,this.system)},setMaterial:function(e){var t=this.el.getOrCreateObject3D(\\\"mesh\\\",THREE.Mesh),a=this.system;this.material&&disposeMaterial(this.material,a),this.material=t.material=e,a.registerMaterial(e)}});\\n},{\\\"../core/component\\\":63,\\\"../core/shader\\\":71,\\\"../lib/three\\\":106,\\\"../utils/\\\":124}],31:[function(_dereq_,module,exports){\\nvar debug=_dereq_(\\\"../utils/debug\\\"),registerComponent=_dereq_(\\\"../core/component\\\").registerComponent,THREE=_dereq_(\\\"../lib/three\\\"),warn=debug(\\\"components:obj-model:warn\\\");module.exports.Component=registerComponent(\\\"obj-model\\\",{dependencies:[\\\"material\\\"],schema:{mtl:{type:\\\"model\\\"},obj:{type:\\\"model\\\"}},init:function(){this.model=null,this.objLoader=new THREE.OBJLoader,this.mtlLoader=new THREE.MTLLoader(this.objLoader.manager),this.mtlLoader.crossOrigin=\\\"\\\"},update:function(){var e=this.data;e.obj&&(this.remove(),this.loadObj(e.obj,e.mtl))},remove:function(){this.model&&this.el.removeObject3D(\\\"mesh\\\")},loadObj:function(e,o){var t=this,r=this.el,a=this.mtlLoader,i=this.objLoader;return o?(r.hasAttribute(\\\"material\\\")&&warn(\\\"Material component properties are ignored when a .MTL is provided\\\"),a.setBaseUrl(o.substr(0,o.lastIndexOf(\\\"/\\\")+1)),void a.load(o,function(o){o.preload(),i.setMaterials(o),i.load(e,function(e){t.model=e,r.setObject3D(\\\"mesh\\\",e),r.emit(\\\"model-loaded\\\",{format:\\\"obj\\\",model:e})})})):void i.load(e,function(e){var o=r.components.material;o&&e.traverse(function(e){e instanceof THREE.Mesh&&(e.material=o.material)}),t.model=e,r.setObject3D(\\\"mesh\\\",e),r.emit(\\\"model-loaded\\\",{format:\\\"obj\\\",model:e})})}});\\n},{\\\"../core/component\\\":63,\\\"../lib/three\\\":106,\\\"../utils/debug\\\":120}],32:[function(_dereq_,module,exports){\\nvar registerComponent=_dereq_(\\\"../core/component\\\").registerComponent,bind=_dereq_(\\\"../utils/bind\\\"),isControllerPresent=_dereq_(\\\"../utils/tracked-controls\\\").isControllerPresent,TOUCH_CONTROLLER_MODEL_BASE_URL=\\\"https://cdn.aframe.io/controllers/oculus/oculus-touch-controller-\\\",TOUCH_CONTROLLER_MODEL_OBJ_URL_L=TOUCH_CONTROLLER_MODEL_BASE_URL+\\\"left.obj\\\",TOUCH_CONTROLLER_MODEL_OBJ_MTL_L=TOUCH_CONTROLLER_MODEL_BASE_URL+\\\"left.mtl\\\",TOUCH_CONTROLLER_MODEL_OBJ_URL_R=TOUCH_CONTROLLER_MODEL_BASE_URL+\\\"right.obj\\\",TOUCH_CONTROLLER_MODEL_OBJ_MTL_R=TOUCH_CONTROLLER_MODEL_BASE_URL+\\\"right.mtl\\\",GAMEPAD_ID_PREFIX=\\\"Oculus Touch\\\",PIVOT_OFFSET={x:0,y:-.015,z:.04},EMULATED_TOUCH_THRESHOLD=.001;module.exports.Component=registerComponent(\\\"oculus-touch-controls\\\",{schema:{hand:{default:\\\"left\\\"},buttonColor:{default:\\\"#FAFAFA\\\"},buttonHighlightColor:{default:\\\"#22D1EE\\\"},model:{default:!0},rotationOffset:{default:0}},mapping:{left:{axis0:\\\"thumbstick\\\",axis1:\\\"thumbstick\\\",button0:\\\"thumbstick\\\",button1:\\\"trigger\\\",button2:\\\"grip\\\",button3:\\\"X\\\",button4:\\\"Y\\\",button5:\\\"surface\\\"},right:{axis0:\\\"thumbstick\\\",axis1:\\\"thumbstick\\\",button0:\\\"thumbstick\\\",button1:\\\"trigger\\\",button2:\\\"grip\\\",button3:\\\"A\\\",button4:\\\"B\\\",button5:\\\"surface\\\"}},bindMethods:function(){this.onModelLoaded=bind(this.onModelLoaded,this),this.onControllersUpdate=bind(this.onControllersUpdate,this),this.checkIfControllerPresent=bind(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=bind(this.removeControllersUpdateListener,this),this.onGamepadConnected=bind(this.onGamepadConnected,this),this.onGamepadDisconnected=bind(this.onGamepadDisconnected,this)},init:function(){var t=this;this.animationActive=\\\"pointing\\\",this.onButtonChanged=bind(this.onButtonChanged,this),this.onButtonDown=function(e){t.onButtonEvent(e.detail.id,\\\"down\\\")},this.onButtonUp=function(e){t.onButtonEvent(e.detail.id,\\\"up\\\")},this.onButtonTouchStart=function(e){t.onButtonEvent(e.detail.id,\\\"touchstart\\\")},this.onButtonTouchEnd=function(e){t.onButtonEvent(e.detail.id,\\\"touchend\\\")},this.controllerPresent=!1,this.everGotGamepadEvent=!1,this.lastControllerCheck=0,this.previousButtonValues={},this.bindMethods(),this.isControllerPresent=isControllerPresent},addEventListeners:function(){var t=this.el;t.addEventListener(\\\"buttonchanged\\\",this.onButtonChanged),t.addEventListener(\\\"buttondown\\\",this.onButtonDown),t.addEventListener(\\\"buttonup\\\",this.onButtonUp),t.addEventListener(\\\"touchstart\\\",this.onButtonTouchStart),t.addEventListener(\\\"touchend\\\",this.onButtonTouchEnd),t.addEventListener(\\\"model-loaded\\\",this.onModelLoaded)},removeEventListeners:function(){var t=this.el;t.removeEventListener(\\\"buttonchanged\\\",this.onButtonChanged),t.removeEventListener(\\\"buttondown\\\",this.onButtonDown),t.removeEventListener(\\\"buttonup\\\",this.onButtonUp),t.removeEventListener(\\\"touchstart\\\",this.onButtonTouchStart),t.removeEventListener(\\\"touchend\\\",this.onButtonTouchEnd),t.removeEventListener(\\\"model-loaded\\\",this.onModelLoaded)},checkIfControllerPresent:function(){var t=this.data,e=this.isControllerPresent(this.el.sceneEl,GAMEPAD_ID_PREFIX,{hand:t.hand});e!==this.controllerPresent&&(this.controllerPresent=e,e?(this.injectTrackedControls(),this.addEventListeners()):this.removeEventListeners())},onGamepadConnected:function(t){this.checkIfControllerPresent()},onGamepadDisconnected:function(t){this.checkIfControllerPresent()},play:function(){this.checkIfControllerPresent(),window.addEventListener(\\\"gamepadconnected\\\",this.onGamepadConnected,!1),window.addEventListener(\\\"gamepaddisconnected\\\",this.onGamepadDisconnected,!1),this.addControllersUpdateListener()},pause:function(){window.removeEventListener(\\\"gamepadconnected\\\",this.onGamepadConnected,!1),window.removeEventListener(\\\"gamepaddisconnected\\\",this.onGamepadDisconnected,!1),this.removeControllersUpdateListener(),this.removeEventListeners()},updateControllerModel:function(){var t,e;this.data.model&&(\\\"right\\\"===this.data.hand?(t=\\\"url(\\\"+TOUCH_CONTROLLER_MODEL_OBJ_URL_R+\\\")\\\",e=\\\"url(\\\"+TOUCH_CONTROLLER_MODEL_OBJ_MTL_R+\\\")\\\"):(t=\\\"url(\\\"+TOUCH_CONTROLLER_MODEL_OBJ_URL_L+\\\")\\\",e=\\\"url(\\\"+TOUCH_CONTROLLER_MODEL_OBJ_MTL_L+\\\")\\\"),this.el.setAttribute(\\\"obj-model\\\",{obj:t,mtl:e}))},injectTrackedControls:function(){var t=this.el,e=this.data,o=\\\"right\\\"===e.hand;t.setAttribute(\\\"tracked-controls\\\",{id:o?\\\"Oculus Touch (Right)\\\":\\\"Oculus Touch (Left)\\\",controller:0,rotationOffset:e.rotationOffset!==-999?e.rotationOffset:o?-90:90}),this.updateControllerModel()},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener(\\\"controllersupdated\\\",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener(\\\"controllersupdated\\\",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.everGotGamepadEvent||this.checkIfControllerPresent()},isEmulatedTouchEvent:function(t){return t&&t>=EMULATED_TOUCH_THRESHOLD},onButtonChanged:function(t){var e,o,n,i=this.mapping[this.data.hand][\\\"button\\\"+t.detail.id],r=this.buttonMeshes;\\\"trigger\\\"!==i&&\\\"grip\\\"!==i||(o=t.detail.state.value,e=this.isEmulatedTouchEvent(this.previousButtonValues[i]),this.previousButtonValues[i]=o,n=this.isEmulatedTouchEvent(o),n!==e&&(n?this.onButtonTouchStart:this.onButtonTouchEnd)(t),\\\"trigger\\\"===i&&r&&r.trigger&&(r.trigger.rotation.x=-o*(Math.PI/12)))},onModelLoaded:function(t){var e,o=t.detail.model;if(this.data.model){var n=\\\"left\\\"===this.data.hand;e=this.buttonMeshes={},e.grip=o.getObjectByName(n?\\\"grip tooche1 group3\\\":\\\"grip tooche group4\\\"),e.thumbstick=o.getObjectByName(n?\\\"tooche1 group3 control_surface group2 thumb_stick\\\":\\\"tooche group4 control_surface group2 thumb_stick\\\"),e.trigger=o.getObjectByName(n?\\\"tooche1 group3 trigger\\\":\\\"tooche group4 trigger\\\"),e.X=o.getObjectByName(\\\"tooche1 group3 control_surface group2 button2\\\"),e.A=o.getObjectByName(\\\"tooche group4 control_surface group2 button2\\\"),e.Y=o.getObjectByName(\\\"tooche1 group3 control_surface group2 button3\\\"),e.B=o.getObjectByName(\\\"tooche group4 control_surface group2 button3\\\"),e.surface=o.getObjectByName(n?\\\"tooche1 group3 face control_surface group2\\\":\\\"tooche group4 face control_surface group2\\\"),o.position=PIVOT_OFFSET}},onButtonEvent:function(t,e){var o,n=this.mapping[this.data.hand][\\\"button\\\"+t];if(Array.isArray(n))for(o=0;o<n.length;o++)this.el.emit(n[o]+e);else this.el.emit(n+e);this.updateModel(n,e)},updateModel:function(t,e){var o;if(Array.isArray(t))for(o=0;o<t.length;o++)this.updateButtonModel(t[o],e);else this.updateButtonModel(t,e)},updateButtonModel:function(t,e){var o=\\\"up\\\"===e?this.data.buttonColor:this.data.buttonHighlightColor,n=this.buttonMeshes;this.data.model&&n&&n[t]&&n[t].material.color.set(o)}});\\n},{\\\"../core/component\\\":63,\\\"../utils/bind\\\":118,\\\"../utils/tracked-controls\\\":128}],33:[function(_dereq_,module,exports){\\nvar registerComponent=_dereq_(\\\"../core/component\\\").registerComponent;module.exports.Component=registerComponent(\\\"position\\\",{schema:{type:\\\"vec3\\\"},update:function(){var e=this.el.object3D,o=this.data;e.position.set(o.x,o.y,o.z)}});\\n},{\\\"../core/component\\\":63}],34:[function(_dereq_,module,exports){\\nvar registerComponent=_dereq_(\\\"../core/component\\\").registerComponent,THREE=_dereq_(\\\"../lib/three\\\"),bind=_dereq_(\\\"../utils/\\\").bind,scaleDummy=new THREE.Vector3;module.exports.Component=registerComponent(\\\"raycaster\\\",{schema:{far:{default:1/0},interval:{default:100},near:{default:0},objects:{default:\\\"\\\"},recursive:{default:!0}},init:function(){this.direction=new THREE.Vector3,this.intersectedEls=[],this.objects=null,this.prevCheckTime=void 0,this.raycaster=new THREE.Raycaster,this.updateOriginDirection(),this.refreshObjects=bind(this.refreshObjects,this)},play:function(){this.el.sceneEl.addEventListener(\\\"child-attached\\\",this.refreshObjects),this.el.sceneEl.addEventListener(\\\"child-detached\\\",this.refreshObjects)},pause:function(){this.el.sceneEl.removeEventListener(\\\"child-attached\\\",this.refreshObjects),this.el.sceneEl.removeEventListener(\\\"child-detached\\\",this.refreshObjects)},update:function(){var e=this.data,t=this.raycaster;t.far=e.far,t.near=e.near,this.refreshObjects()},refreshObjects:function(){var e,t,i=this.data;if(i.objects)for(t=this.el.sceneEl.querySelectorAll(i.objects),this.objects=[],e=0;e<t.length;e++)this.objects.push(t[e].object3D);else this.objects=this.el.sceneEl.object3D.children},tick:function(e){var t,i,r,s=this.el,c=this.data,n=this.prevCheckTime;n&&e-n<c.interval||(r=this.intersectedEls.slice(),this.updateOriginDirection(),i=this.raycaster.intersectObjects(this.objects,c.recursive),i=i.filter(function(e){return!!e.object.el}),t=this.intersectedEls=i.map(function(e){return e.object.el}),i.forEach(function(e){var t=e.object.el;t.emit(\\\"raycaster-intersected\\\",{el:s,intersection:e})}),i.length&&s.emit(\\\"raycaster-intersection\\\",{els:t.slice(),intersections:i}),r.forEach(function(e){t.indexOf(e)===-1&&(s.emit(\\\"raycaster-intersection-cleared\\\",{el:e}),e.emit(\\\"raycaster-intersected-cleared\\\",{el:s}))}))},updateOriginDirection:function(){var e=new THREE.Quaternion,t=new THREE.Vector3;return function(){var i=this.el,r=i.object3D;r.updateMatrixWorld(),r.matrixWorld.decompose(t,e,scaleDummy),this.direction.set(0,0,-1),this.direction.applyQuaternion(e),this.raycaster.set(t,this.direction)}}()});\\n},{\\\"../core/component\\\":63,\\\"../lib/three\\\":106,\\\"../utils/\\\":124}],35:[function(_dereq_,module,exports){\\nvar degToRad=_dereq_(\\\"../lib/three\\\").Math.degToRad,registerComponent=_dereq_(\\\"../core/component\\\").registerComponent;module.exports.Component=registerComponent(\\\"rotation\\\",{schema:{type:\\\"vec3\\\"},update:function(){var e=this.data,o=this.el.object3D;o.rotation.set(degToRad(e.x),degToRad(e.y),degToRad(e.z)),o.rotation.order=\\\"YXZ\\\"}});\\n},{\\\"../core/component\\\":63,\\\"../lib/three\\\":106}],36:[function(_dereq_,module,exports){\\nvar registerComponent=_dereq_(\\\"../core/component\\\").registerComponent,zeroScale=1e-5;module.exports.Component=registerComponent(\\\"scale\\\",{schema:{type:\\\"vec3\\\",default:{x:1,y:1,z:1}},update:function(){var e=this.data,o=this.el.object3D,t=0===e.x?zeroScale:e.x,r=0===e.y?zeroScale:e.y,a=0===e.z?zeroScale:e.z;o.scale.set(t,r,a)}});\\n},{\\\"../core/component\\\":63}],37:[function(_dereq_,module,exports){\\nvar registerComponent=_dereq_(\\\"../../core/component\\\").registerComponent,utils=_dereq_(\\\"../../utils\\\");module.exports.Component=registerComponent(\\\"auto-enter-vr\\\",{schema:{display:{type:\\\"string\\\",default:\\\"GearVR\\\"},enabled:{type:\\\"boolean\\\",default:!0}},init:function(){var e=this.el,t=this;this.enterVR=e.enterVR.bind(e),this.exitVR=e.exitVR.bind(e),this.shouldAutoEnterVR=this.shouldAutoEnterVR.bind(this),\\\"false\\\"!==utils.getUrlParameter(\\\"auto-enter-vr\\\")&&(window.addEventListener(\\\"vrdisplayactivate\\\",function(){t.enterVR()},!1),window.addEventListener(\\\"vrdisplaydeactivate\\\",function(){t.exitVR()},!1),setTimeout(function(){t.shouldAutoEnterVR()&&t.enterVR()},0))},update:function(){return this.shouldAutoEnterVR()?this.enterVR():this.exitVR()},shouldAutoEnterVR:function(){var e=this.el,t=this.data;if(!t.enabled)return!1;if(t.display){var i=e.effect&&e.effect.getVRDisplay&&e.effect.getVRDisplay();if(!i||!i.displayName||i.displayName.indexOf(t.display)<0)return!1}return!0}});\\n},{\\\"../../core/component\\\":63,\\\"../../utils\\\":124}],38:[function(_dereq_,module,exports){\\nvar bind=_dereq_(\\\"../../utils/bind\\\"),register=_dereq_(\\\"../../core/component\\\").registerComponent;module.exports.Component=register(\\\"canvas\\\",{init:function(){function e(e){a.classList.add(\\\"fullscreen\\\")}function n(e){a.classList.remove(\\\"fullscreen\\\")}function t(){var e=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement;e||r.exitVR(),document.activeElement.blur(),document.body.focus(),setTimeout(bind(r.resize,r),0)}var r=this.el,a=document.createElement(\\\"canvas\\\");a.classList.add(\\\"a-canvas\\\"),a.dataset.aframeCanvas=!0,r.appendChild(a),document.addEventListener(\\\"fullscreenchange\\\",t),document.addEventListener(\\\"mozfullscreenchange\\\",t),document.addEventListener(\\\"webkitfullscreenchange\\\",t),a.addEventListener(\\\"touchmove\\\",function(e){e.preventDefault()}),r.addEventListener(\\\"enter-vr\\\",e),r.addEventListener(\\\"exit-vr\\\",n),r.canvas=a,r.emit(\\\"render-target-loaded\\\",{target:a})}});\\n},{\\\"../../core/component\\\":63,\\\"../../utils/bind\\\":118}],39:[function(_dereq_,module,exports){\\nvar register=_dereq_(\\\"../../core/component\\\").registerComponent;module.exports.Component=register(\\\"debug\\\",{schema:{default:!0}});\\n},{\\\"../../core/component\\\":63}],40:[function(_dereq_,module,exports){\\nvar registerComponent=_dereq_(\\\"../../core/component\\\").registerComponent;module.exports.Component=registerComponent(\\\"embedded\\\",{dependencies:[\\\"vr-mode-ui\\\"],schema:{default:!0},update:function(){var e=this.el,r=e.querySelector(\\\".a-enter-vr\\\");this.data===!0?(r.classList.add(\\\"embedded\\\"),e.removeFullScreenStyles()):(r.classList.remove(\\\"embedded\\\"),e.addFullScreenStyles())}});\\n},{\\\"../../core/component\\\":63}],41:[function(_dereq_,module,exports){\\nfunction getFog(e){var o;return o=\\\"exponential\\\"===e.type?new THREE.FogExp2(e.color,e.density):new THREE.Fog(e.color,e.near,e.far),o.name=e.type,o}var register=_dereq_(\\\"../../core/component\\\").registerComponent,THREE=_dereq_(\\\"../../lib/three\\\"),debug=_dereq_(\\\"../../utils/debug\\\"),warn=debug(\\\"components:fog:warn\\\");module.exports.Component=register(\\\"fog\\\",{schema:{color:{default:\\\"#000\\\"},density:{default:25e-5},far:{default:1e3,min:0},near:{default:1,min:0},type:{default:\\\"linear\\\",oneOf:[\\\"linear\\\",\\\"exponential\\\"]}},update:function(){var e=this.data,o=this.el,t=this.el.object3D.fog;return o.isScene?t&&e.type===t.name?void Object.keys(this.schema).forEach(function(o){var n=e[o];\\\"color\\\"===o&&(n=new THREE.Color(n)),t[o]=n}):(o.object3D.fog=getFog(e),void o.systems.material.updateMaterials()):void warn(\\\"Fog component can only be applied to <a-scene>\\\")},remove:function(){var e=this.el.object3D.fog;e&&(e.density=0,e.far=0,e.near=0)}});\\n},{\\\"../../core/component\\\":63,\\\"../../lib/three\\\":106,\\\"../../utils/debug\\\":120}],42:[function(_dereq_,module,exports){\\nfunction getFuzzyPatchVersion(e){var n=e.split(\\\".\\\");return n[2]=\\\"x\\\",n.join(\\\".\\\")}var AFRAME_INJECTED=_dereq_(\\\"../../constants\\\").AFRAME_INJECTED,bind=_dereq_(\\\"../../utils/bind\\\"),pkg=_dereq_(\\\"../../../package\\\"),registerComponent=_dereq_(\\\"../../core/component\\\").registerComponent,INSPECTOR_DEV_URL=\\\"https://aframe.io/aframe-inspector/dist/aframe-inspector.js\\\",INSPECTOR_RELEASE_URL=\\\"https://unpkg.com/aframe-inspector@\\\"+getFuzzyPatchVersion(pkg.version)+\\\"/dist/aframe-inspector.min.js\\\",INSPECTOR_URL=INSPECTOR_DEV_URL,LOADING_MESSAGE=\\\"Loading Inspector\\\";module.exports.Component=registerComponent(\\\"inspector\\\",{schema:{url:{default:INSPECTOR_URL}},init:function(){this.onKeydown=bind(this.onKeydown,this),this.onMessage=bind(this.onMessage,this),this.initOverlay(),window.addEventListener(\\\"keydown\\\",this.onKeydown),window.addEventListener(\\\"message\\\",this.onMessage)},initOverlay:function(){var e='<span class=\\\"dots\\\"><span>.</span><span>.</span><span>.</span></span>';this.loadingMessageEl=document.createElement(\\\"div\\\"),this.loadingMessageEl.classList.add(\\\"a-inspector-loader\\\"),this.loadingMessageEl.innerHTML=LOADING_MESSAGE+e},remove:function(){this.removeEventListeners()},onKeydown:function(e){var n=73===e.keyCode&&e.ctrlKey&&e.altKey;this.data&&n&&this.injectInspector()},showLoader:function(){document.body.appendChild(this.loadingMessageEl)},hideLoader:function(){this.el.removeChild(this.loadingMessageEl)},onMessage:function(e){\\\"INJECT_AFRAME_INSPECTOR\\\"===e.data&&this.injectInspector()},injectInspector:function(){var e,n=this;AFRAME.INSPECTOR||AFRAME.inspectorInjected||(this.showLoader(),e=document.createElement(\\\"script\\\"),e.src=this.data.url,e.setAttribute(\\\"data-name\\\",\\\"aframe-inspector\\\"),e.setAttribute(AFRAME_INJECTED,\\\"\\\"),e.onload=function(){AFRAME.INSPECTOR.open(),n.hideLoader(),n.removeEventListeners()},document.head.appendChild(e),AFRAME.inspectorInjected=!0)},removeEventListeners:function(){window.removeEventListener(\\\"keydown\\\",this.onKeydown),window.removeEventListener(\\\"message\\\",this.onMessage)}});\\n},{\\\"../../../package\\\":20,\\\"../../constants\\\":54,\\\"../../core/component\\\":63,\\\"../../utils/bind\\\":118}],43:[function(_dereq_,module,exports){\\nvar registerComponent=_dereq_(\\\"../../core/component\\\").registerComponent,shouldCaptureKeyEvent=_dereq_(\\\"../../utils/\\\").shouldCaptureKeyEvent,THREE=_dereq_(\\\"../../lib/three\\\"),controls=new THREE.VRControls(new THREE.Object3D);module.exports.Component=registerComponent(\\\"keyboard-shortcuts\\\",{schema:{enterVR:{default:!0},exitVR:{default:!0},resetSensor:{default:!0}},init:function(){var e=this,t=this.el;this.listener=window.addEventListener(\\\"keyup\\\",function(n){shouldCaptureKeyEvent(n)&&(e.enterVREnabled&&70===n.keyCode&&t.enterVR(),e.enterVREnabled&&27===n.keyCode&&t.exitVR(),e.resetSensorEnabled&&90===n.keyCode&&controls.resetSensor())},!1)},update:function(e){var t=this.data;this.enterVREnabled=t.enterVR,this.resetSensorEnabled=t.resetSensor},remove:function(){window.removeEventListener(\\\"keyup\\\",this.listener)}});\\n},{\\\"../../core/component\\\":63,\\\"../../lib/three\\\":106,\\\"../../utils/\\\":124}],44:[function(_dereq_,module,exports){\\nvar debug=_dereq_(\\\"../../utils/debug\\\"),registerComponent=_dereq_(\\\"../../core/component\\\").registerComponent,warn=debug(\\\"components:pool:warn\\\");module.exports.Component=registerComponent(\\\"pool\\\",{schema:{mixin:{default:\\\"\\\"},size:{default:0},dynamic:{default:!1}},multiple:!0,init:function(){this.initPool()},initPool:function(){var t,i=this.data.mixin;if(i)for(this.availableEls=[],this.usedEls=[],t=0;t<this.data.size;++t)this.createEntity()},update:function(t){var i=this.data;t.mixin===i.mixin&&t.size===i.size||this.initPool()},createEntity:function(){var t=document.createElement(\\\"a-entity\\\");t.play=this.wrapPlay(t.play),t.setAttribute(\\\"mixin\\\",this.data.mixin),t.setAttribute(\\\"visible\\\",!1),this.el.appendChild(t),this.availableEls.push(t)},wrapPlay:function(t){var i=this.usedEls;return function(){i.indexOf(this)!==-1&&t.call(this)}},requestEntity:function(){var t;if(0===this.availableEls.length){if(this.data.dynamic===!1)return void warn(\\\"Requested entity from empty pool \\\"+this.name);warn(\\\"Requested entity from empty pool. This pool is dynamicand will resize automatically. You might want to increase its initial size\\\"+this.name),this.createEntity()}return t=this.availableEls.shift(),this.usedEls.push(t),t.setAttribute(\\\"visible\\\",!0),t},returnEntity:function(t){var i=this.usedEls.indexOf(t);return i===-1?void warn(\\\"The returned entity was not previously pooled from \\\"+this.name):(this.usedEls.splice(i,1),this.availableEls.push(t),t.setAttribute(\\\"visible\\\",!1),void t.pause())}});\\n},{\\\"../../core/component\\\":63,\\\"../../utils/debug\\\":120}],45:[function(_dereq_,module,exports){\\nvar registerComponent=_dereq_(\\\"../../core/component\\\").registerComponent,THREE=_dereq_(\\\"../../lib/three\\\"),VERTEX_SHADER=[\\\"attribute vec3 position;\\\",\\\"attribute vec2 uv;\\\",\\\"uniform mat4 projectionMatrix;\\\",\\\"uniform mat4 modelViewMatrix;\\\",\\\"varying vec2 vUv;\\\",\\\"void main()  {\\\",\\\"  vUv = vec2( 1.- uv.x, uv.y );\\\",\\\"  gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\\",\\\"}\\\"].join(\\\"\\\\n\\\"),FRAGMENT_SHADER=[\\\"precision mediump float;\\\",\\\"uniform samplerCube map;\\\",\\\"varying vec2 vUv;\\\",\\\"#define M_PI 3.141592653589793238462643383279\\\",\\\"void main() {\\\",\\\"  vec2 uv = vUv;\\\",\\\"  float longitude = uv.x * 2. * M_PI - M_PI + M_PI / 2.;\\\",\\\"  float latitude = uv.y * M_PI;\\\",\\\"  vec3 dir = vec3(\\\",\\\"    - sin( longitude ) * sin( latitude ),\\\",\\\"    cos( latitude ),\\\",\\\"    - cos( longitude ) * sin( latitude )\\\",\\\"  );\\\",\\\"  normalize( dir );\\\",\\\"  gl_FragColor = vec4( textureCube( map, dir ).rgb, 1.0 );\\\",\\\"}\\\"].join(\\\"\\\\n\\\");module.exports.Component=registerComponent(\\\"screenshot\\\",{schema:{width:{default:4096},height:{default:2048}},init:function(){function e(){var e=t.renderer.getContext();a.cubeMapSize=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),a.material=new THREE.RawShaderMaterial({uniforms:{map:{type:\\\"t\\\",value:null}},vertexShader:VERTEX_SHADER,fragmentShader:FRAGMENT_SHADER,side:THREE.DoubleSide}),a.quad=new THREE.Mesh(new THREE.PlaneBufferGeometry(1,1),a.material),a.quad.visible=!1,a.camera=new THREE.OrthographicCamera((-.5),.5,.5,(-.5),(-1e4),1e4),a.canvas=document.createElement(\\\"canvas\\\"),a.ctx=a.canvas.getContext(\\\"2d\\\"),t.camera&&t.camera.add(a.quad),a.onKeyDown=a.onKeyDown.bind(a),a.onCameraActive=a.onCameraActive.bind(a),t.addEventListener(\\\"camera-set-active\\\",a.onCameraActive)}var t=this.el,a=this;t.renderer?e():t.addEventListener(\\\"render-target-loaded\\\",e)},getRenderTarget:function(e,t){return new THREE.WebGLRenderTarget(e,t,{minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter,wrapS:THREE.ClampToEdgeWrapping,wrapT:THREE.ClampToEdgeWrapping,format:THREE.RGBAFormat,type:THREE.UnsignedByteType})},resize:function(e,t){this.quad.scale.set(e,t,1),this.camera.left=e/-2,this.camera.right=e/2,this.camera.top=t/2,this.camera.bottom=t/-2,this.camera.updateProjectionMatrix(),this.canvas.width=e,this.canvas.height=t},play:function(){window.addEventListener(\\\"keydown\\\",this.onKeyDown)},onCameraActive:function(e){var t=this.quad.parent;t&&t.remove(this.quad),e.detail.cameraEl.getObject3D(\\\"camera\\\").add(this.quad)},onKeyDown:function(e){var t=83===e.keyCode&&e.ctrlKey&&e.altKey;if(this.data&&t){var a=e.shiftKey?\\\"equirectangular\\\":\\\"perspective\\\";this.capture(a)}},capture:function(e){var t,a,i,r=this.el,n=r.renderer;\\\"perspective\\\"===e?(this.quad.visible=!1,a=r.camera,t=n.getSize()):(a=this.camera,a.position.copy(r.camera.getWorldPosition()),a.rotation.copy(r.camera.getWorldRotation()),i=new THREE.CubeCamera(r.camera.near,r.camera.far,Math.min(this.cubeMapSize,2048)),i.position.copy(r.camera.getWorldPosition()),i.rotation.copy(r.camera.getWorldRotation()),i.updateCubeMap(r.renderer,r.object3D),this.quad.material.uniforms.map.value=i.renderTarget.texture,t={width:this.data.width,height:this.data.height},this.quad.visible=!0),this.renderCapture(a,t,e),this.saveCapture()},renderCapture:function(e,t,a){var i,r,n,o=this.el.renderer.autoClear,d=this.el,c=this.el.renderer;r=this.getRenderTarget(t.width,t.height),n=new Uint8Array(4*t.width*t.height),this.resize(t.width,t.height),c.autoClear=!0,c.render(d.object3D,e,r,!0),c.autoClear=o,c.readRenderTargetPixels(r,0,0,t.width,t.height,n),\\\"perspective\\\"===a&&(n=this.flipPixelsVertically(n,t.width,t.height)),i=new ImageData(new Uint8ClampedArray(n),t.width,t.height),this.quad.visible=!1,this.ctx.putImageData(i,0,0)},flipPixelsVertically:function(e,t,a){for(var i=e.slice(0),r=0;r<t;++r)for(var n=0;n<a;++n)i[4*r+n*t*4]=e[4*r+(a-n)*t*4],i[4*r+1+n*t*4]=e[4*r+1+(a-n)*t*4],i[4*r+2+n*t*4]=e[4*r+2+(a-n)*t*4],i[4*r+3+n*t*4]=e[4*r+3+(a-n)*t*4];return i},saveCapture:function(){this.canvas.toBlob(function(e){var t=URL.createObjectURL(e),a=\\\"screenshot-\\\"+document.title+\\\"-\\\"+Date.now()+\\\".png\\\",i=document.createElement(\\\"a\\\");i.href=t,i.setAttribute(\\\"download\\\",a),i.innerHTML=\\\"downloading...\\\",i.style.display=\\\"none\\\",document.body.appendChild(i),setTimeout(function(){i.click(),document.body.removeChild(i)},1)},\\\"image/png\\\")}});\\n},{\\\"../../core/component\\\":63,\\\"../../lib/three\\\":106}],46:[function(_dereq_,module,exports){\\nfunction createStats(t){var e=new ThreeStats(t.renderer),s=new AFrameStats(t),i=t.isMobile?[]:[e,s];return new RStats({css:[],values:{fps:{caption:\\\"fps\\\",below:30}},groups:[{caption:\\\"Framerate\\\",values:[\\\"fps\\\",\\\"raf\\\"]}],plugins:i})}var registerComponent=_dereq_(\\\"../../core/component\\\").registerComponent,RStats=_dereq_(\\\"../../../vendor/rStats\\\"),utils=_dereq_(\\\"../../utils\\\");_dereq_(\\\"../../../vendor/rStats.extras\\\"),_dereq_(\\\"../../lib/rStatsAframe\\\");var AFrameStats=window.aframeStats,bind=utils.bind,HIDDEN_CLASS=\\\"a-hidden\\\",ThreeStats=window.threeStats;module.exports.Component=registerComponent(\\\"stats\\\",{schema:{default:!0},init:function(){var t=this.el;\\\"false\\\"!==utils.getUrlParameter(\\\"stats\\\")&&(this.stats=createStats(t),this.statsEl=document.querySelector(\\\".rs-base\\\"),this.hideBound=bind(this.hide,this),this.showBound=bind(this.show,this),t.addEventListener(\\\"enter-vr\\\",this.hideBound),t.addEventListener(\\\"exit-vr\\\",this.showBound))},update:function(){if(this.stats)return this.data?this.show():this.hide()},remove:function(){this.el.removeEventListener(\\\"enter-vr\\\",this.hideBound),this.el.removeEventListener(\\\"exit-vr\\\",this.showBound),this.statsEl.parentNode.removeChild(this.statsEl)},tick:function(){var t=this.stats;t&&(t(\\\"rAF\\\").tick(),t(\\\"FPS\\\").frame(),t().update())},hide:function(){this.statsEl.classList.add(HIDDEN_CLASS)},show:function(){this.statsEl.classList.remove(HIDDEN_CLASS)}});\\n},{\\\"../../../vendor/rStats\\\":132,\\\"../../../vendor/rStats.extras\\\":131,\\\"../../core/component\\\":63,\\\"../../lib/rStatsAframe\\\":105,\\\"../../utils\\\":124}],47:[function(_dereq_,module,exports){\\nfunction createEnterVRButton(e){var t,n;return n=document.createElement(\\\"div\\\"),n.classList.add(ENTER_VR_CLASS),n.setAttribute(constants.AFRAME_INJECTED,\\\"\\\"),t=document.createElement(\\\"button\\\"),t.className=ENTER_VR_BTN_CLASS,t.setAttribute(constants.AFRAME_INJECTED,\\\"\\\"),n.appendChild(t),t.addEventListener(\\\"click\\\",e),n}function createOrientationModal(e){var t=document.createElement(\\\"div\\\");t.className=ORIENTATION_MODAL_CLASS,t.classList.add(HIDDEN_CLASS),t.setAttribute(constants.AFRAME_INJECTED,\\\"\\\");var n=document.createElement(\\\"button\\\");return n.setAttribute(constants.AFRAME_INJECTED,\\\"\\\"),n.innerHTML=\\\"Exit VR\\\",n.addEventListener(\\\"click\\\",e),t.appendChild(n),t}var registerComponent=_dereq_(\\\"../../core/component\\\").registerComponent,constants=_dereq_(\\\"../../constants/\\\"),utils=_dereq_(\\\"../../utils/\\\"),bind=utils.bind,ENTER_VR_CLASS=\\\"a-enter-vr\\\",ENTER_VR_BTN_CLASS=\\\"a-enter-vr-button\\\",HIDDEN_CLASS=\\\"a-hidden\\\",ORIENTATION_MODAL_CLASS=\\\"a-orientation-modal\\\";module.exports.Component=registerComponent(\\\"vr-mode-ui\\\",{dependencies:[\\\"canvas\\\"],schema:{enabled:{default:!0}},init:function(){var e=this,t=this.el;\\\"false\\\"!==utils.getUrlParameter(\\\"ui\\\")&&(this.enterVR=bind(t.enterVR,t),this.exitVR=bind(t.exitVR,t),this.insideLoader=!1,this.enterVREl=null,this.orientationModalEl=null,t.addEventListener(\\\"enter-vr\\\",bind(this.updateEnterVRInterface,this)),t.addEventListener(\\\"exit-vr\\\",bind(this.updateEnterVRInterface,this)),window.addEventListener(\\\"message\\\",function(t){\\\"loaderReady\\\"===t.data.type&&(e.insideLoader=!0,e.remove())}),window.addEventListener(\\\"orientationchange\\\",bind(this.toggleOrientationModalIfNeeded,this)))},update:function(){var e=this.el;return!this.data.enabled||this.insideLoader||\\\"false\\\"===utils.getUrlParameter(\\\"ui\\\")?this.remove():void(this.enterVREl||this.orientationModalEl||(this.enterVREl=createEnterVRButton(this.enterVR),e.appendChild(this.enterVREl),this.orientationModalEl=createOrientationModal(this.exitVR),e.appendChild(this.orientationModalEl),this.updateEnterVRInterface()))},remove:function(){[this.enterVREl,this.orientationModalEl].forEach(function(e){e&&e.parentNode.removeChild(e)})},updateEnterVRInterface:function(){this.toggleEnterVRButtonIfNeeded(),this.toggleOrientationModalIfNeeded()},toggleEnterVRButtonIfNeeded:function(){var e=this.el;this.enterVREl&&(e.is(\\\"vr-mode\\\")?this.enterVREl.classList.add(HIDDEN_CLASS):this.enterVREl.classList.remove(HIDDEN_CLASS))},toggleOrientationModalIfNeeded:function(){var e=this.el,t=this.orientationModalEl;t&&e.isMobile&&(!utils.device.isLandscape()&&e.is(\\\"vr-mode\\\")?t.classList.remove(HIDDEN_CLASS):t.classList.add(HIDDEN_CLASS))}});\\n},{\\\"../../constants/\\\":54,\\\"../../core/component\\\":63,\\\"../../utils/\\\":124}],48:[function(_dereq_,module,exports){\\nvar registerComponent=_dereq_(\\\"../core/component\\\").registerComponent,debug=_dereq_(\\\"../utils/debug\\\"),bind=_dereq_(\\\"../utils/bind\\\"),THREE=_dereq_(\\\"../lib/three\\\"),warn=debug(\\\"components:sound:warn\\\");module.exports.Component=registerComponent(\\\"sound\\\",{schema:{autoplay:{default:!1},loop:{default:!1},on:{default:\\\"\\\"},poolSize:{default:1},src:{type:\\\"audio\\\"},volume:{default:1}},multiple:!0,init:function(){this.listener=null,this.audioLoader=new THREE.AudioLoader,this.pool=new THREE.Group,this.playSound=bind(this.playSound,this)},update:function(e){var o=this.data,t=o.src!==e.src;if(t){if(!o.src)return void warn(\\\"Audio source was not specified with `src`\\\");this.setupSound()}if(this.pool.children.forEach(function(e){e.autoplay=o.autoplay,e.setLoop(o.loop),e.setVolume(o.volume)}),o.on!==e.on&&this.updateEventListener(e.on),t){var n=this;this.audioLoader.load(o.src,function(e){n.pool.children.forEach(function(o){o.setBuffer(e)}),THREE.Cache.remove(o.src)})}},pause:function(){this.pauseSound(),this.removeEventListener()},play:function(){this.data.autoplay&&this.playSound(),this.updateEventListener()},remove:function(){this.removeEventListener(),this.el.removeObject3D(this.attrName);try{this.pool.children.forEach(function(e){e.disconnect()})}catch(e){warn(\\\"Audio source not properly disconnected\\\")}},updateEventListener:function(e){var o=this.el;e&&o.removeEventListener(e,this.playSound),o.addEventListener(this.data.on,this.playSound)},removeEventListener:function(){this.el.removeEventListener(this.data.on,this.playSound)},setupSound:function(){var e=this.el,o=e.sceneEl;this.pool.children.length>0&&(this.stopSound(),e.removeObject3D(\\\"sound\\\"));var t=this.listener=o.audioListener||new THREE.AudioListener;o.audioListener=t,o.camera&&o.camera.add(t),o.addEventListener(\\\"camera-set-active\\\",function(e){e.detail.cameraEl.getObject3D(\\\"camera\\\").add(t)}),this.pool=new THREE.Group;for(var n=0;n<this.data.poolSize;n++){var i=new THREE.PositionalAudio(t);this.pool.add(i)}e.setObject3D(this.attrName,this.pool),this.pool.children.forEach(function(o){o.source.onended=function(){o.onEnded(),e.emit(\\\"sound-ended\\\",{index:n})}})},pauseSound:function(){this.pool.children.forEach(function(e){e.source.buffer&&e.isPlaying&&e.pause&&e.pause()})},playSound:function(){var e=!1;this.pool.children.forEach(function(o){if(!o.isPlaying&&o.source.buffer&&!e)return o.play(),void(e=!0)}),e||warn(\\\"All the sounds are playing. If you need to play more sounds simultaneously consider increasing the size of pool with the `poolSize` attribute.\\\")},stopSound:function(){this.pool.children.forEach(function(e){e.source.buffer&&e.stop()})}});\\n},{\\\"../core/component\\\":63,\\\"../lib/three\\\":106,\\\"../utils/bind\\\":118,\\\"../utils/debug\\\":120}],49:[function(_dereq_,module,exports){\\nvar registerComponent=_dereq_(\\\"../core/component\\\").registerComponent,THREE=_dereq_(\\\"../lib/three\\\");module.exports.Component=registerComponent(\\\"tracked-controls\\\",{schema:{controller:{default:0},id:{default:\\\"Match none by default!\\\"},rotationOffset:{default:0}},init:function(){this.buttonStates={},this.previousAxis=[],this.previousControllerPosition=new THREE.Vector3},update:function(){function t(t){return t.id===o.id}var e=this.system.controllers,o=this.data;e=e.filter(t),this.controller=e[o.controller]},tick:function(t,e){var o=this.el.getObject3D(\\\"mesh\\\");o&&o.update&&o.update(e/1e3),this.updatePose(),this.updateButtons()},updatePose:function(){var t=new THREE.Euler,e=new THREE.Vector3,o=new THREE.Quaternion,i=new THREE.Vector3,r=new THREE.Object3D,s=new THREE.Matrix4;return t.order=\\\"YXZ\\\",function(){var n,a,u,h,l=this.el,d=this.system.vrDisplay;if(this.update(),n=this.controller){a=n.pose,u=a.orientation||[0,0,0,1],h=a.position||[0,0,0],o.fromArray(u),r.quaternion.fromArray(u),r.position.fromArray(h),r.updateMatrix(),d&&d.stageParameters&&(s.fromArray(d.stageParameters.sittingToStandingTransform),r.applyMatrix(s)),t.setFromRotationMatrix(r.matrix),e.setFromMatrixPosition(r.matrix),l.setAttribute(\\\"rotation\\\",{x:THREE.Math.radToDeg(t.x),y:THREE.Math.radToDeg(t.y),z:THREE.Math.radToDeg(t.z)+this.data.rotationOffset}),i.copy(e).sub(this.previousControllerPosition),this.previousControllerPosition.copy(e);var c=l.getAttribute(\\\"position\\\");l.setAttribute(\\\"position\\\",{x:c.x+i.x,y:c.y+i.y,z:c.z+i.z})}}}(),updateButtons:function(){var t,e,o=this.controller;if(this.controller){for(t=0;t<o.buttons.length;++t)e=o.buttons[t],this.handleButton(t,e);this.handleAxes(o.axes)}},handleAxes:function(t){var e,o=this.previousAxis,i=!1;for(e=0;e<t.length;++e)if(o[e]!==t[e]){i=!0;break}i&&(this.previousAxis=t.slice(),this.el.emit(\\\"axismove\\\",{axis:this.previousAxis}))},handleButton:function(t,e){var o=!1;o=o||this.handlePress(t,e),o=o||this.handleTouch(t,e),o=o||this.handleValue(t,e),o&&this.el.emit(\\\"buttonchanged\\\",{id:t,state:e})},handlePress:function(t,e){var o,i=this.buttonStates,r=i[t]=i[t]||{};e.pressed!==r.pressed&&(o=e.pressed?\\\"down\\\":\\\"up\\\",this.el.emit(\\\"button\\\"+o,{id:t}),r.pressed=e.pressed)},handleTouch:function(t,e){var o,i=this.buttonStates,r=i[t]=i[t]||{};return e.touched!==r.touched&&(o=e.touched?\\\"start\\\":\\\"end\\\",r.touched=e.touched,this.el.emit(\\\"touch\\\"+o,{id:t,state:r}),!0)},handleValue:function(t,e){var o=this.buttonStates,i=o[t]=o[t]||{};return e.value!==i.value&&(i.value=e.value,!0)}});\\n},{\\\"../core/component\\\":63,\\\"../lib/three\\\":106}],50:[function(_dereq_,module,exports){\\nvar registerComponent=_dereq_(\\\"../core/component\\\").registerComponent;module.exports.Component=registerComponent(\\\"visible\\\",{schema:{default:!0},update:function(){this.el.object3D.visible=this.data}});\\n},{\\\"../core/component\\\":63}],51:[function(_dereq_,module,exports){\\nvar registerComponent=_dereq_(\\\"../core/component\\\").registerComponent,bind=_dereq_(\\\"../utils/bind\\\"),isControllerPresent=_dereq_(\\\"../utils/tracked-controls\\\").isControllerPresent,VIVE_CONTROLLER_MODEL_OBJ_URL=\\\"https://cdn.aframe.io/controllers/vive/vr_controller_vive.obj\\\",VIVE_CONTROLLER_MODEL_OBJ_MTL=\\\"https://cdn.aframe.io/controllers/vive/vr_controller_vive.mtl\\\",GAMEPAD_ID_PREFIX=\\\"OpenVR Gamepad\\\";module.exports.Component=registerComponent(\\\"vive-controls\\\",{schema:{hand:{default:\\\"left\\\"},buttonColor:{default:\\\"#FAFAFA\\\"},buttonHighlightColor:{default:\\\"#22D1EE\\\"},model:{default:!0},rotationOffset:{default:0}},mapping:{axis0:\\\"trackpad\\\",axis1:\\\"trackpad\\\",button0:\\\"trackpad\\\",button1:\\\"trigger\\\",button2:\\\"grip\\\",button3:\\\"menu\\\",button4:\\\"system\\\"},bindMethods:function(){this.onModelLoaded=bind(this.onModelLoaded,this),this.onControllersUpdate=bind(this.onControllersUpdate,this),this.checkIfControllerPresent=bind(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=bind(this.removeControllersUpdateListener,this),this.onGamepadConnected=bind(this.onGamepadConnected,this),this.onGamepadDisconnected=bind(this.onGamepadDisconnected,this)},init:function(){var t=this;this.animationActive=\\\"pointing\\\",this.onButtonChanged=bind(this.onButtonChanged,this),this.onButtonDown=function(e){t.onButtonEvent(e.detail.id,\\\"down\\\")},this.onButtonUp=function(e){t.onButtonEvent(e.detail.id,\\\"up\\\")},this.onButtonTouchStart=function(e){t.onButtonEvent(e.detail.id,\\\"touchstart\\\")},this.onButtonTouchEnd=function(e){t.onButtonEvent(e.detail.id,\\\"touchend\\\")},this.controllerPresent=!1,this.everGotGamepadEvent=!1,this.lastControllerCheck=0,this.bindMethods(),this.isControllerPresent=isControllerPresent},addEventListeners:function(){var t=this.el;t.addEventListener(\\\"buttonchanged\\\",this.onButtonChanged),t.addEventListener(\\\"buttondown\\\",this.onButtonDown),t.addEventListener(\\\"buttonup\\\",this.onButtonUp),t.addEventListener(\\\"touchstart\\\",this.onButtonTouchStart),t.addEventListener(\\\"touchend\\\",this.onButtonTouchEnd),t.addEventListener(\\\"model-loaded\\\",this.onModelLoaded)},removeEventListeners:function(){var t=this.el;t.removeEventListener(\\\"buttonchanged\\\",this.onButtonChanged),t.removeEventListener(\\\"buttondown\\\",this.onButtonDown),t.removeEventListener(\\\"buttonup\\\",this.onButtonUp),t.removeEventListener(\\\"touchstart\\\",this.onButtonTouchStart),t.removeEventListener(\\\"touchend\\\",this.onButtonTouchEnd),t.removeEventListener(\\\"model-loaded\\\",this.onModelLoaded)},checkIfControllerPresent:function(){var t=this.data,e=\\\"right\\\"===t.hand?0:\\\"left\\\"===t.hand?1:2,n=this.isControllerPresent(this.el.sceneEl,GAMEPAD_ID_PREFIX,{index:e});n!==this.controllerPresent&&(this.controllerPresent=n,n?(this.injectTrackedControls(),this.addEventListeners()):this.removeEventListeners())},onGamepadConnected:function(t){this.checkIfControllerPresent()},onGamepadDisconnected:function(t){this.checkIfControllerPresent()},play:function(){this.checkIfControllerPresent(),window.addEventListener(\\\"gamepadconnected\\\",this.onGamepadConnected,!1),window.addEventListener(\\\"gamepaddisconnected\\\",this.onGamepadDisconnected,!1),this.addControllersUpdateListener()},pause:function(){window.removeEventListener(\\\"gamepadconnected\\\",this.onGamepadConnected,!1),window.removeEventListener(\\\"gamepaddisconnected\\\",this.onGamepadDisconnected,!1),this.removeControllersUpdateListener(),this.removeEventListeners()},injectTrackedControls:function(){var t=this.el,e=this.data,n=\\\"url(\\\"+VIVE_CONTROLLER_MODEL_OBJ_URL+\\\")\\\",o=\\\"url(\\\"+VIVE_CONTROLLER_MODEL_OBJ_MTL+\\\")\\\",i=\\\"right\\\"===e.hand?0:\\\"left\\\"===e.hand?1:2;t.setAttribute(\\\"tracked-controls\\\",{id:GAMEPAD_ID_PREFIX,controller:i,rotationOffset:e.rotationOffset}),e.model&&t.setAttribute(\\\"obj-model\\\",{obj:n,mtl:o})},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener(\\\"controllersupdated\\\",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener(\\\"controllersupdated\\\",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.everGotGamepadEvent||this.checkIfControllerPresent()},onButtonChanged:function(t){var e,n=this.mapping[\\\"button\\\"+t.detail.id],o=this.buttonMeshes;n&&o&&\\\"trigger\\\"===n&&(e=t.detail.state.value,o.trigger.rotation.x=-e*(Math.PI/12))},onModelLoaded:function(t){var e,n=t.detail.model;this.data.model&&(e=this.buttonMeshes={},e.grip={left:n.getObjectByName(\\\"leftgrip\\\"),right:n.getObjectByName(\\\"rightgrip\\\")},e.menu=n.getObjectByName(\\\"menubutton\\\"),e.system=n.getObjectByName(\\\"systembutton\\\"),e.trackpad=n.getObjectByName(\\\"touchpad\\\"),e.trigger=n.getObjectByName(\\\"trigger\\\"),n.position.set(0,-.015,.04))},onButtonEvent:function(t,e){var n,o=this.mapping[\\\"button\\\"+t];if(Array.isArray(o))for(n=0;n<o.length;n++)this.el.emit(o[n]+e);else this.el.emit(o+e);this.updateModel(o,e)},updateModel:function(t,e){var n;if(this.data.model)if(Array.isArray(t))for(n=0;n<t.length;n++)this.updateButtonModel(t[n],e);else this.updateButtonModel(t,e)},updateButtonModel:function(t,e){var n=\\\"up\\\"===e?this.data.buttonColor:this.data.buttonHighlightColor,o=this.buttonMeshes;if(o)return\\\"grip\\\"===t?(o.grip.left.material.color.set(n),void o.grip.right.material.color.set(n)):void o[t].material.color.set(n)}});\\n},{\\\"../core/component\\\":63,\\\"../utils/bind\\\":118,\\\"../utils/tracked-controls\\\":128}],52:[function(_dereq_,module,exports){\\nvar KEYCODE_TO_CODE=_dereq_(\\\"../constants\\\").keyboardevent.KEYCODE_TO_CODE,registerComponent=_dereq_(\\\"../core/component\\\").registerComponent,THREE=_dereq_(\\\"../lib/three\\\"),utils=_dereq_(\\\"../utils/\\\"),bind=utils.bind,shouldCaptureKeyEvent=utils.shouldCaptureKeyEvent,CLAMP_VELOCITY=1e-5,MAX_DELTA=.2;module.exports.Component=registerComponent(\\\"wasd-controls\\\",{schema:{acceleration:{default:65},adAxis:{default:\\\"x\\\",oneOf:[\\\"x\\\",\\\"y\\\",\\\"z\\\"]},adEnabled:{default:!0},adInverted:{default:!1},easing:{default:20},enabled:{default:!0},fly:{default:!1},wsAxis:{default:\\\"z\\\",oneOf:[\\\"x\\\",\\\"y\\\",\\\"z\\\"]},wsEnabled:{default:!0},wsInverted:{default:!1}},init:function(){this.keys={},this.velocity=new THREE.Vector3,this.onBlur=bind(this.onBlur,this),this.onFocus=bind(this.onFocus,this),this.onKeyDown=bind(this.onKeyDown,this),this.onKeyUp=bind(this.onKeyUp,this),this.onVisibilityChange=bind(this.onVisibilityChange,this),this.attachVisibilityEventListeners()},tick:function(e,t){var i,n,s=this.data,o=this.el,r=this.velocity;t/=1e3,this.updateVelocity(t),(r[s.adAxis]||r[s.wsAxis])&&(i=this.getMovementVector(t),n=o.getAttribute(\\\"position\\\"),o.setAttribute(\\\"position\\\",{x:n.x+i.x,y:n.y+i.y,z:n.z+i.z}))},remove:function(){this.removeKeyEventListeners(),this.removeVisibilityEventListeners()},play:function(){this.attachKeyEventListeners()},pause:function(){this.keys={},this.removeKeyEventListeners()},updateVelocity:function(e){var t,i,n,s,o,r=this.data,a=this.keys,d=this.velocity;return i=r.adAxis,s=r.wsAxis,e>MAX_DELTA?(d[i]=0,void(d[s]=0)):(0!==d[i]&&(d[i]-=d[i]*r.easing*e),0!==d[s]&&(d[s]-=d[s]*r.easing*e),Math.abs(d[i])<CLAMP_VELOCITY&&(d[i]=0),Math.abs(d[s])<CLAMP_VELOCITY&&(d[s]=0),void(r.enabled&&(t=r.acceleration,r.adEnabled&&(n=r.adInverted?-1:1,(a.KeyA||a.ArrowLeft)&&(d[i]-=n*t*e),(a.KeyD||a.ArrowRight)&&(d[i]+=n*t*e)),r.wsEnabled&&(o=r.wsInverted?-1:1,(a.KeyW||a.ArrowUp)&&(d[s]-=o*t*e),(a.KeyS||a.ArrowDown)&&(d[s]+=o*t*e)))))},getMovementVector:function(){var e=new THREE.Vector3(0,0,0),t=new THREE.Euler(0,0,0,\\\"YXZ\\\");return function(i){var n=this.el.getAttribute(\\\"rotation\\\"),s=this.velocity;return e.copy(s),e.multiplyScalar(i),n?(this.data.fly||(n.x=0),t.set(THREE.Math.degToRad(n.x),THREE.Math.degToRad(n.y),0),e.applyEuler(t),e):e}}(),attachVisibilityEventListeners:function(){window.addEventListener(\\\"blur\\\",this.onBlur),window.addEventListener(\\\"focus\\\",this.onFocus),document.addEventListener(\\\"visibilitychange\\\",this.onVisibilityChange)},removeVisibilityEventListeners:function(){window.removeEventListener(\\\"blur\\\",this.onBlur),window.removeEventListener(\\\"focus\\\",this.onFocus),document.removeEventListener(\\\"visibilitychange\\\",this.onVisibilityChange)},attachKeyEventListeners:function(){window.addEventListener(\\\"keydown\\\",this.onKeyDown),window.addEventListener(\\\"keyup\\\",this.onKeyUp)},removeKeyEventListeners:function(){window.removeEventListener(\\\"keydown\\\",this.onKeyDown),window.removeEventListener(\\\"keyup\\\",this.onKeyUp)},onBlur:function(){this.pause()},onFocus:function(){this.play()},onVisibilityChange:function(){document.hidden?this.onBlur():this.onFocus()},onKeyDown:function(e){var t;shouldCaptureKeyEvent(e)&&(t=e.code||KEYCODE_TO_CODE[e.keyCode],this.keys[t]=!0)},onKeyUp:function(e){var t;t=e.code||KEYCODE_TO_CODE[e.keyCode],this.keys[t]=!1}});\\n},{\\\"../constants\\\":54,\\\"../core/component\\\":63,\\\"../lib/three\\\":106,\\\"../utils/\\\":124}],53:[function(_dereq_,module,exports){\\nvar TWEEN=_dereq_(\\\"tween.js\\\"),DIRECTIONS={alternate:\\\"alternate\\\",alternateReverse:\\\"alternate-reverse\\\",normal:\\\"normal\\\",reverse:\\\"reverse\\\"},EASING_FUNCTIONS={linear:TWEEN.Easing.Linear.None,ease:TWEEN.Easing.Cubic.InOut,\\\"ease-in\\\":TWEEN.Easing.Cubic.In,\\\"ease-out\\\":TWEEN.Easing.Cubic.Out,\\\"ease-in-out\\\":TWEEN.Easing.Cubic.InOut,\\\"ease-cubic\\\":TWEEN.Easing.Cubic.In,\\\"ease-in-cubic\\\":TWEEN.Easing.Cubic.In,\\\"ease-out-cubic\\\":TWEEN.Easing.Cubic.Out,\\\"ease-in-out-cubic\\\":TWEEN.Easing.Cubic.InOut,\\\"ease-quad\\\":TWEEN.Easing.Quadratic.InOut,\\\"ease-in-quad\\\":TWEEN.Easing.Quadratic.In,\\\"ease-out-quad\\\":TWEEN.Easing.Quadratic.Out,\\\"ease-in-out-quad\\\":TWEEN.Easing.Quadratic.InOut,\\\"ease-quart\\\":TWEEN.Easing.Quartic.InOut,\\\"ease-in-quart\\\":TWEEN.Easing.Quartic.In,\\\"ease-out-quart\\\":TWEEN.Easing.Quartic.Out,\\\"ease-in-out-quart\\\":TWEEN.Easing.Quartic.InOut,\\\"ease-quint\\\":TWEEN.Easing.Quintic.InOut,\\\"ease-in-quint\\\":TWEEN.Easing.Quintic.In,\\\"ease-out-quint\\\":TWEEN.Easing.Quintic.Out,\\\"ease-in-out-quint\\\":TWEEN.Easing.Quintic.InOut,\\\"ease-sine\\\":TWEEN.Easing.Sinusoidal.InOut,\\\"ease-in-sine\\\":TWEEN.Easing.Sinusoidal.In,\\\"ease-out-sine\\\":TWEEN.Easing.Sinusoidal.Out,\\\"ease-in-out-sine\\\":TWEEN.Easing.Sinusoidal.InOut,\\\"ease-expo\\\":TWEEN.Easing.Exponential.InOut,\\\"ease-in-expo\\\":TWEEN.Easing.Exponential.In,\\\"ease-out-expo\\\":TWEEN.Easing.Exponential.Out,\\\"ease-in-out-expo\\\":TWEEN.Easing.Exponential.InOut,\\\"ease-circ\\\":TWEEN.Easing.Circular.InOut,\\\"ease-in-circ\\\":TWEEN.Easing.Circular.In,\\\"ease-out-circ\\\":TWEEN.Easing.Circular.Out,\\\"ease-in-out-circ\\\":TWEEN.Easing.Circular.InOut,\\\"ease-elastic\\\":TWEEN.Easing.Elastic.InOut,\\\"ease-in-elastic\\\":TWEEN.Easing.Elastic.In,\\\"ease-out-elastic\\\":TWEEN.Easing.Elastic.Out,\\\"ease-in-out-elastic\\\":TWEEN.Easing.Elastic.InOut,\\\"ease-back\\\":TWEEN.Easing.Back.InOut,\\\"ease-in-back\\\":TWEEN.Easing.Back.In,\\\"ease-out-back\\\":TWEEN.Easing.Back.Out,\\\"ease-in-out-back\\\":TWEEN.Easing.Back.InOut,\\\"ease-bounce\\\":TWEEN.Easing.Bounce.InOut,\\\"ease-in-bounce\\\":TWEEN.Easing.Bounce.In,\\\"ease-out-bounce\\\":TWEEN.Easing.Bounce.Out,\\\"ease-in-out-bounce\\\":TWEEN.Easing.Bounce.InOut},FILLS={backwards:\\\"backwards\\\",both:\\\"both\\\",forwards:\\\"forwards\\\",none:\\\"none\\\"},REPEATS={indefinite:\\\"indefinite\\\"},DEFAULTS={attribute:\\\"rotation\\\",begin:\\\"\\\",end:\\\"\\\",delay:0,dur:1e3,easing:\\\"ease\\\",direction:DIRECTIONS.normal,fill:FILLS.forwards,from:void 0,repeat:0,to:void 0};module.exports.defaults=DEFAULTS,module.exports.directions=DIRECTIONS,module.exports.easingFunctions=EASING_FUNCTIONS,module.exports.fills=FILLS,module.exports.repeats=REPEATS;\\n},{\\\"tween.js\\\":18}],54:[function(_dereq_,module,exports){\\nmodule.exports={AFRAME_INJECTED:\\\"aframe-injected\\\",DEFAULT_CAMERA_HEIGHT:1.6,animation:_dereq_(\\\"./animation\\\"),keyboardevent:_dereq_(\\\"./keyboardevent\\\")};\\n},{\\\"./animation\\\":53,\\\"./keyboardevent\\\":55}],55:[function(_dereq_,module,exports){\\nmodule.exports={KEYCODE_TO_CODE:{38:\\\"ArrowUp\\\",37:\\\"ArrowLeft\\\",40:\\\"ArrowDown\\\",39:\\\"ArrowRight\\\",87:\\\"KeyW\\\",65:\\\"KeyA\\\",83:\\\"KeyS\\\",68:\\\"KeyD\\\"}};\\n},{}],56:[function(_dereq_,module,exports){\\nfunction cloneValue(t){return utils.extend({},t)}function getAnimationValues(t,e,i,n,a){function o(){var e=m[0],i=m[1],n=t.components[e],a=n&&n.schema;return a&&a[i]&&\\\"color\\\"===a[i].type}function s(){v=m[0],p=m[1],c=t.components[v],c||(t.setAttribute(v,\\\"\\\"),c=t.components[v]),h=c.schema,void 0===i?b[e]=getComponentProperty(t,e):b[e]=i,b[e]=parseProperty(b[e],h[p]),g[e]=parseProperty(n,h[p]),f=function(i){e in i&&t.setAttribute(v,p,i[e])}}function r(){b=i?coordinates.parse(i):a,g=coordinates.parse(n),f=function(i){t.setAttribute(e,i)}}function u(){void 0===i?b[e]=!1:b[e]=strToBool(i),b[e]=boolToNum(b[e]),g[e]=boolToNum(strToBool(n)),f=function(i){t.setAttribute(e,!!i[e])}}function l(){b=new THREE.Color(i),g=new THREE.Color(n),f=function(i){m.length>1&&t.setAttribute(m[0],m[1],rgbVectorToHex(i)),t.setAttribute(e,rgbVectorToHex(i))}}function d(){void 0===i?b[e]=parseFloat(t.getAttribute(e)):b[e]=parseFloat(i),g[e]=parseFloat(n),f=function(i){t.setAttribute(e,i[e])}}var h,c,p,v,f,m=e.split(\\\".\\\"),b={},g={};return 2===m.length?o()?l():s():n&&isCoordinate(n)?r():[\\\"true\\\",\\\"false\\\"].indexOf(n)!==-1?u():isNaN(n)?l():d(),{from:b,partialSetAttribute:f,to:g}}function strToBool(t){return\\\"true\\\"===t}function boolToNum(t){return t?1:0}function componentToHex(t){var e=t.toString(16);return 1===e.length?\\\"0\\\"+e:e}function convertToIntegerColor(t){return Math.floor(255*Math.min(Math.abs(t),1))}function rgbVectorToHex(t){return\\\"#\\\"+[\\\"r\\\",\\\"g\\\",\\\"b\\\"].map(function(e){return componentToHex(convertToIntegerColor(t[e]))}).join(\\\"\\\")}var ANode=_dereq_(\\\"./a-node\\\"),animationConstants=_dereq_(\\\"../constants/animation\\\"),coordinates=_dereq_(\\\"../utils/\\\").coordinates,parseProperty=_dereq_(\\\"./schema\\\").parseProperty,registerElement=_dereq_(\\\"./a-register-element\\\").registerElement,TWEEN=_dereq_(\\\"tween.js\\\"),THREE=_dereq_(\\\"../lib/three\\\"),utils=_dereq_(\\\"../utils/\\\"),bind=utils.bind,getComponentProperty=utils.entity.getComponentProperty,DEFAULTS=animationConstants.defaults,DIRECTIONS=animationConstants.directions,EASING_FUNCTIONS=animationConstants.easingFunctions,FILLS=animationConstants.fills,REPEATS=animationConstants.repeats,isCoordinate=coordinates.isCoordinate;module.exports.AAnimation=registerElement(\\\"a-animation\\\",{prototype:Object.create(ANode.prototype,{createdCallback:{value:function(){this.bindMethods(),this.isRunning=!1,this.partialSetAttribute=function(){},this.tween=null}},attachedCallback:{value:function(){this.el=this.parentNode,this.handleMixinUpdate(),this.update(),this.load()}},attributeChangedCallback:{value:function(t,e,i){this.hasLoaded&&this.isRunning&&(this.stop(),this.handleMixinUpdate(),this.update())}},detachedCallback:{value:function(){this.isRunning&&this.stop()}},getTween:{value:function(){var t,e,i,n,a=this,o=a.data,s=a.el,r=o.attribute,u=parseInt(o.delay,10),l=getComponentProperty(s,r),d=a.getDirection(o.direction),h=EASING_FUNCTIONS[o.easing],c=o.fill,p=o.repeat===REPEATS.indefinite?1/0:0,v=!1;return t=getAnimationValues(s,r,o.from||a.initialValue,o.to,l),e=t.from,i=t.to,a.partialSetAttribute=t.partialSetAttribute,void 0===a.count&&(a.count=p===1/0?0:parseInt(o.repeat,10)),isNaN(u)&&(u=0),a.initialValue=a.initialValue||cloneValue(l),p===1/0&&c===FILLS.forwards&&[DIRECTIONS.alternate,DIRECTIONS.alternateReverse].indexOf(o.direction)!==-1&&(v=!0),d===DIRECTIONS.reverse&&(n=i,i=cloneValue(e),e=cloneValue(n)),[FILLS.backwards,FILLS.both].indexOf(c)!==-1&&a.partialSetAttribute(e),new TWEEN.Tween(cloneValue(e)).to(i,o.dur).delay(u).easing(h).repeat(p).yoyo(v).onUpdate(function(){a.partialSetAttribute(this)}).onComplete(bind(a.onCompleted,a))}},update:{value:function(){var t=this.data;\\\"infinite\\\"===t.repeat&&console.warn(\\\"Using 'infinite' as 'repeat' value is invalid.  Use 'indefinite' instead.\\\"),\\\"\\\"===t.begin||isNaN(t.begin)||(console.warn(\\\"Using 'begin' to specify a delay is deprecated. Use 'delay' instead.\\\"),t.delay=t.begin,t.begin=\\\"\\\");var e=t.begin,i=t.end;this.evt&&this.removeEventListeners(this.evt),this.evt={begin:e,end:i},this.addEventListeners(this.evt),\\\"\\\"===e&&(this.stop(),this.start())},writable:window.debug},onCompleted:{value:function(){var t=this.data;return this.isRunning=!1,[FILLS.backwards,FILLS.none].indexOf(t.fill)!==-1&&this.partialSetAttribute(this.initialValue),0===this.count?(this.count=void 0,void this.emit(\\\"animationend\\\")):(this.isRunning=!1,this.count--,void this.start())}},start:{value:function(){var t=this;return this.el.hasLoaded?void(!this.isRunning&&this.el.isPlaying&&(this.tween=this.getTween(),this.isRunning=!0,this.tween.start(),this.emit(\\\"animationstart\\\"))):void this.el.addEventListener(\\\"loaded\\\",function(){t.start()})},writable:!0},stop:{value:function(){var t=this.tween;t&&(t.stop(),this.isRunning=!1,[FILLS.backwards,FILLS.none].indexOf(this.data.fill)!==-1&&this.partialSetAttribute(this.initialValue),this.emit(\\\"animationstop\\\"))},writable:!0},getDirection:{value:function(t){return t===DIRECTIONS.alternate?(this.prevDirection=this.prevDirection===DIRECTIONS.normal?DIRECTIONS.reverse:DIRECTIONS.normal,this.prevDirection):t===DIRECTIONS.alternateReverse?(this.prevDirection=this.prevDirection===DIRECTIONS.reverse?DIRECTIONS.normal:DIRECTIONS.reverse,this.prevDirection):t}},bindMethods:{value:function(){this.start=bind(this.start,this),this.stop=bind(this.stop,this),this.onStateAdded=bind(this.onStateAdded,this),this.onStateRemoved=bind(this.onStateRemoved,this)}},addEventListeners:{value:function(t){var e=this.el,i=this;utils.splitString(t.begin).forEach(function(t){e.addEventListener(t,i.start)}),utils.splitString(t.end).forEach(function(t){e.addEventListener(t,i.stop)}),\\\"\\\"===t.begin&&e.addEventListener(\\\"play\\\",this.start),e.addEventListener(\\\"pause\\\",this.stop),e.addEventListener(\\\"stateadded\\\",this.onStateAdded),e.addEventListener(\\\"stateremoved\\\",this.onStateRemoved)}},removeEventListeners:{value:function(t){var e=this.el,i=this.start,n=this.stop;utils.splitString(t.begin).forEach(function(t){e.removeEventListener(t,i)}),utils.splitString(t.end).forEach(function(t){e.removeEventListener(t,n)}),e.removeEventListener(\\\"stateadded\\\",this.onStateAdded),e.removeEventListener(\\\"stateremoved\\\",this.onStateRemoved)}},onStateAdded:{value:function(t){t.detail.state===this.data.begin&&this.start()},writable:!0},onStateRemoved:{value:function(t){t.detail.state===this.data.begin&&this.stop()},writable:!0},handleMixinUpdate:{value:function(){var t,e,i,n={};i=document.querySelector(\\\"#\\\"+this.getAttribute(\\\"mixin\\\")),e=i?utils.getElData(i,DEFAULTS):{},t=utils.getElData(this,DEFAULTS),utils.extend(n,DEFAULTS,e,t),this.data=n}}})}),module.exports.getAnimationValues=getAnimationValues;\\n},{\\\"../constants/animation\\\":53,\\\"../lib/three\\\":106,\\\"../utils/\\\":124,\\\"./a-node\\\":61,\\\"./a-register-element\\\":62,\\\"./schema\\\":70,\\\"tween.js\\\":18}],57:[function(_dereq_,module,exports){\\nfunction mediaElementLoaded(e){if(e.hasAttribute(\\\"autoplay\\\")||\\\"auto\\\"===e.getAttribute(\\\"preload\\\"))return new Promise(function(t,r){function i(){for(var r=0,i=0;i<e.buffered.length;i++)r+=e.buffered.end(i)-e.buffered.start(i);r>=e.duration&&t()}return 4===e.readyState?t():e.error?r():(e.addEventListener(\\\"loadeddata\\\",i,!1),e.addEventListener(\\\"progress\\\",i,!1),void e.addEventListener(\\\"error\\\",r,!1))})}function fixUpMediaElement(e){var t=setCrossOrigin(e);return\\\"VIDEO\\\"===t.tagName&&(t.setAttribute(\\\"playsinline\\\",\\\"\\\"),t.setAttribute(\\\"webkit-playsinline\\\",\\\"\\\")),t!==e&&(e.parentNode.appendChild(t),e.parentNode.removeChild(e)),t}function setCrossOrigin(e){var t,r;if(e.hasAttribute(\\\"crossorigin\\\"))return e;if(r=e.getAttribute(\\\"src\\\"),null!==r){if(r.indexOf(\\\"://\\\")===-1)return e;if(extractDomain(r)===window.location.host)return e}return warn(\\\"Cross-origin element was requested without `crossorigin` set. A-Frame will re-request the asset with `crossorigin` attribute set.\\\",r),e.crossOrigin=\\\"anonymous\\\",t=e.cloneNode(!0)}function extractDomain(e){var t=e.indexOf(\\\"://\\\")>-1?e.split(\\\"/\\\")[2]:e.split(\\\"/\\\")[0];return t.split(\\\":\\\")[0]}var ANode=_dereq_(\\\"./a-node\\\"),bind=_dereq_(\\\"../utils/bind\\\"),debug=_dereq_(\\\"../utils/debug\\\"),registerElement=_dereq_(\\\"./a-register-element\\\").registerElement,THREE=_dereq_(\\\"../lib/three\\\"),fileLoader=new THREE.XHRLoader,warn=debug(\\\"core:a-assets:warn\\\");module.exports=registerElement(\\\"a-assets\\\",{prototype:Object.create(ANode.prototype,{createdCallback:{value:function(){this.isAssets=!0,this.fileLoader=fileLoader,this.timeout=null}},attachedCallback:{value:function(){var e,t,r,i,o,a,n=this,s=[];if(!this.parentNode.isScene)throw new Error(\\\"<a-assets> must be a child of a <a-scene>.\\\");for(o=this.querySelectorAll(\\\"img\\\"),e=0;e<o.length;e++)i=fixUpMediaElement(o[e]),s.push(new Promise(function(e,t){i.onload=e,i.onerror=t}));for(r=this.querySelectorAll(\\\"audio, video\\\"),e=0;e<r.length;e++)t=fixUpMediaElement(r[e]),s.push(mediaElementLoaded(t));Promise.all(s).then(bind(this.load,this)),a=parseInt(this.getAttribute(\\\"timeout\\\"),10)||3e3,this.timeout=setTimeout(function(){n.hasLoaded||(warn(\\\"Asset loading timed out in \\\",a,\\\"ms\\\"),n.emit(\\\"timeout\\\"),n.load())},a)}},detachedCallback:{value:function(){this.timeout&&clearTimeout(this.timeout)}},load:{value:function(){ANode.prototype.load.call(this,null,function(e){return e.isAssetItem&&e.hasAttribute(\\\"src\\\")})}}})}),registerElement(\\\"a-asset-item\\\",{prototype:Object.create(ANode.prototype,{createdCallback:{value:function(){this.data=null,this.isAssetItem=!0}},attachedCallback:{value:function(){var e=this,t=this.getAttribute(\\\"src\\\");fileLoader.load(t,function(r){THREE.Cache.files[t]=r,e.data=r,setTimeout(function(){ANode.prototype.load.call(e)})},function(t){e.emit(\\\"progress\\\",{loadedBytes:t.loaded,totalBytes:t.total,xhr:t})},function(t){e.emit(\\\"error\\\",{xhr:t})})}}})});\\n},{\\\"../lib/three\\\":106,\\\"../utils/bind\\\":118,\\\"../utils/debug\\\":120,\\\"./a-node\\\":61,\\\"./a-register-element\\\":62}],58:[function(_dereq_,module,exports){\\nvar debug=_dereq_(\\\"../utils/debug\\\"),registerElement=_dereq_(\\\"./a-register-element\\\").registerElement,warn=debug(\\\"core:cubemap:warn\\\");module.exports=registerElement(\\\"a-cubemap\\\",{prototype:Object.create(HTMLElement.prototype,{attachedCallback:{value:function(){this.srcs=this.validate()},writable:window.debug},validate:{value:function(){var e,t=this.querySelectorAll(\\\"[src]\\\"),r=[];if(6===t.length){for(e=0;e<t.length;e++)r.push(t[e].getAttribute(\\\"src\\\"));return r}warn(\\\"<a-cubemap> did not contain exactly six elements each with a `src` attribute.\\\")},writable:window.debug}})});\\n},{\\\"../utils/debug\\\":120,\\\"./a-register-element\\\":62}],59:[function(_dereq_,module,exports){\\nfunction checkComponentDefined(t,e){return void 0!==t.defaultComponents[e]||(!(!t.components[e]||!t.components[e].attrValue)||isComponentMixedIn(e,t.mixinEls))}function getMixedInComponents(t){var e=[];return t.mixinEls.forEach(function(t){function i(t){e.push(t)}Object.keys(t.componentCache).forEach(i)}),e}function isComponentMixedIn(t,e){var i,n=!1;for(i=0;i<e.length&&!(n=e[i].hasAttribute(t));++i);return n}function mergeComponentData(t,e){return e?e.constructor===Object?utils.extend(e,utils.styleParser.parse(t||{})):t||e:t}var ANode=_dereq_(\\\"./a-node\\\"),COMPONENTS=_dereq_(\\\"./component\\\").components,registerElement=_dereq_(\\\"./a-register-element\\\").registerElement,THREE=_dereq_(\\\"../lib/three\\\"),utils=_dereq_(\\\"../utils/\\\"),AEntity,bind=utils.bind,debug=utils.debug(\\\"core:a-entity:debug\\\"),warn=utils.debug(\\\"core:a-entity:warn\\\"),MULTIPLE_COMPONENT_DELIMITER=\\\"__\\\",proto=Object.create(ANode.prototype,{defaultComponents:{value:{position:\\\"\\\",rotation:\\\"\\\",scale:\\\"\\\",visible:\\\"\\\"}},createdCallback:{value:function(){this.components={},this.isEntity=!0,this.isPlaying=!1,this.object3D=new THREE.Group,this.object3D.el=this,this.object3DMap={},this.parentEl=null,this.states=[]}},attributeChangedCallback:{value:function(t,e,i){var n=this.components[t];return n&&n.justInitialized&&\\\"\\\"===i?void delete n.justInitialized:void((n||null!==i)&&this.setEntityAttribute(t,e,i))}},attachedCallback:{value:function(){var t,e=this.sceneEl,i=this;if(this.addToParent(),!this.isScene)return e?(t=e.querySelector(\\\"a-assets\\\"),t&&!t.hasLoaded?void t.addEventListener(\\\"loaded\\\",function(){i.load()}):void this.load()):void this.load()}},detachedCallback:{value:function(){this.parentEl&&!this.isScene&&(Object.keys(this.components).forEach(bind(this.removeComponent,this)),this.removeFromParent(),ANode.prototype.detachedCallback.call(this))}},handleMixinUpdate:{value:function(t){return t?void this.updateComponent(t,this.getDOMAttribute(t)):void this.updateComponents()}},mapStateMixins:{value:function(t,e){var i,n=this.getAttribute(\\\"mixin\\\");n&&(i=n.split(\\\" \\\"),i.forEach(function(i){var n=i+\\\"-\\\"+t;e(n)}),this.updateComponents())}},updateStateMixins:{value:function(t,e){var i=this;e=e||\\\"\\\";var n=t.split(\\\" \\\"),o=e?e.split(\\\" \\\"):[],s=o.filter(function(t){return n.indexOf(t)<0});s.forEach(function(t){var e=Array.prototype.forEach,n=document.querySelectorAll(\\\"[id^=\\\"+t+\\\"-]\\\");e.call(n,function(t){i.unregisterMixin(t.id)})}),this.states.forEach(function(t){n.forEach(function(e){var n=e+\\\"-\\\"+t;i.registerMixin(n)})})}},getObject3D:{value:function(t){return this.object3DMap[t]}},setObject3D:{value:function(t,e){var i,n=this;if(!(e instanceof THREE.Object3D))throw new Error(\\\"`Entity.setObject3D` was called with an object that was not an instance of THREE.Object3D.\\\");i=this.getObject3D(t),i&&this.object3D.remove(i),e.el=this,e.children.length&&e.traverse(function(t){t.el=n}),this.object3D.add(e),this.object3DMap[t]=e,this.emit(\\\"object3dset\\\",{object:e,type:t})}},removeObject3D:{value:function(t){var e=this.getObject3D(t);return e?(this.object3D.remove(e),delete this.object3DMap[t],void this.emit(\\\"object3dremove\\\",{type:t})):void warn(\\\"Tried to remove `Object3D` of type:\\\",t,\\\"which was not defined.\\\")}},getOrCreateObject3D:{value:function(t,e){var i=this.getObject3D(t);return!i&&e&&(i=new e,this.setObject3D(t,i)),i}},add:{value:function(t){if(!t.object3D)throw new Error(\\\"Trying to add an element that doesn't have an `object3D`\\\");this.object3D.add(t.object3D),this.emit(\\\"child-attached\\\",{el:t})}},addToParent:{value:function(){var t=this.parentEl=this.parentNode;t&&t.add&&!this.attachedToParent&&(t.add(this),this.attachedToParent=!0)}},removeFromParent:{value:function(){var t=this.parentEl;this.parentEl.remove(this),this.attachedToParent=!1,this.parentEl=this.parentNode=null,t.emit(\\\"child-detached\\\",{el:this})}},load:{value:function(){var t=this;this.hasLoaded||ANode.prototype.load.call(this,function(){t.updateComponents(),(t.isScene||t.parentEl.isPlaying)&&t.play()})},writable:window.debug},remove:{value:function(t){this.object3D.remove(t.object3D)}},getChildEntities:{value:function(){for(var t=this.children,e=[],i=0;i<t.length;i++){var n=t[i];n instanceof AEntity&&e.push(n)}return e}},initComponent:{value:function(t,e,i){var n,o=t.split(MULTIPLE_COMPONENT_DELIMITER),s=o[1],a=o[0],r=checkComponentDefined(this,t)||void 0!==e;if(COMPONENTS[a]&&(r||i)&&!(t in this.components)){if(this.initComponentDependencies(a),s&&!COMPONENTS[a].multiple)throw new Error(\\\"Trying to initialize multiple components of type `\\\"+a+\\\"`. There can only be one component of this type per entity.\\\");n=this.components[t]=new COMPONENTS[a].Component(this,e,s),this.isPlaying&&n.play(),this.hasAttribute(t)||(n.justInitialized=!0,HTMLElement.prototype.setAttribute.call(this,t,\\\"\\\")),debug(\\\"Component initialized: %s\\\",t)}},writable:window.debug},initComponentDependencies:{value:function(t){var e,i=this,n=COMPONENTS[t];n&&(e=COMPONENTS[t].dependencies,e&&e.forEach(function(t){i.initComponent(t,HTMLElement.prototype.getAttribute.call(i,t)||void 0,!0)}))}},removeComponent:{value:function(t){var e,i,n;i=t in this.defaultComponents,n=isComponentMixedIn(t,this.mixinEls),i||n||(e=this.components[t],e.pause(),e.remove(),delete this.components[t],this.emit(\\\"componentremoved\\\",{id:e.id,name:t}))}},updateComponents:{value:function(){function t(t){var e=t.split(MULTIPLE_COMPONENT_DELIMITER)[0];COMPONENTS[e]&&(n[t]=!0)}function e(t){var e=mergeComponentData(s.getDOMAttribute(t),o[t]);delete n[t],s.updateComponent(t,e)}var i,n={},o={},s=this;if(this.hasLoaded){for(getMixedInComponents(this).forEach(t),this.getExtraComponents&&(o=this.getExtraComponents(),Object.keys(o).forEach(t)),i=0;i<this.attributes.length;++i)t(this.attributes[i].name);Object.keys(this.defaultComponents).forEach(e),Object.keys(n).forEach(e)}}},updateComponent:{value:function(t,e){var i=this.components[t],n=t in this.defaultComponents;return i?null!==e||n?void i.updateProperties(e):void this.removeComponent(t):void this.initComponent(t,e,!1)}},updateComponentProperty:{value:function(t,e,i){var n=this.components[t],o=n&&n.attrValue,s=o?utils.extend({},o):{};s[e]=i,this.updateComponent(t,s)}},removeAttribute:{value:function(t){var e=this.components[t];e&&(this.setEntityAttribute(t,void 0,null),this.components[t])||HTMLElement.prototype.removeAttribute.call(this,t)}},play:{value:function(){var t=this.components,e=Object.keys(t);!this.isPlaying&&this.hasLoaded&&(this.isPlaying=!0,e.forEach(function(e){t[e].play()}),this.getChildEntities().forEach(function(t){t.play()}),this.emit(\\\"play\\\"))},writable:!0},pause:{value:function(){var t=this.components,e=Object.keys(t);this.isPlaying&&(this.isPlaying=!1,e.forEach(function(e){t[e].pause()}),this.getChildEntities().forEach(function(t){t.pause()}),this.emit(\\\"pause\\\"))},writable:!0},setEntityAttribute:{value:function(t,e,i){return COMPONENTS[t]||this.components[t]?void this.updateComponent(t,i):\\\"mixin\\\"===t?void this.mixinUpdate(i,e):void 0}},mixinUpdate:{value:function(t,e){e=e||this.getAttribute(\\\"mixin\\\"),this.updateStateMixins(t,e),this.updateComponents()}},setAttribute:{value:function(t,e,i){function n(t,e,i,n){t.updateComponentProperty(e,i,n)}function o(t,e,i){var n=t.components[e];n&&\\\"object\\\"==typeof i?t.updateComponent(e,utils.extendDeep(utils.extendDeep({},n.data),i)):t.updateComponent(e,i)}function s(t,e,i){t.updateComponent(e,i)}function a(t,e,i){ANode.prototype.setAttribute.call(t,e,i),\\\"mixin\\\"===e&&t.mixinUpdate(i)}var r,u;return r=t.split(MULTIPLE_COMPONENT_DELIMITER)[0],COMPONENTS[r]?(\\\"string\\\"==typeof e&&\\\"undefined\\\"!=typeof i?n(this,t,e,i):\\\"object\\\"==typeof e&&i===!0?s(this,t,e):o(this,t,e),u=this.sceneEl&&this.sceneEl.getAttribute(\\\"debug\\\"),void(u&&this.components[t].flushToDOM())):void a(this,t,e)},writable:window.debug},flushToDOM:{value:function(t){var e,i,n=this.components,o=this.defaultComponents,s=this.children;if(Object.keys(n).forEach(function(t){n[t].flushToDOM(t in o)}),t)for(i=0;i<s.length;++i)e=s[i],e.flushToDOM&&e.flushToDOM(t)}},getAttribute:{value:function(t){var e=this.components[t];return e?e.getData():HTMLElement.prototype.getAttribute.call(this,t)},writable:window.debug},getComputedAttribute:{value:function(t){return warn(\\\"`getComputedAttribute` is deprecated. Use `getAttribute` instead.\\\"),this.getAttribute(t)}},getDOMAttribute:{value:function(t){var e=this.components[t];return e?e.attrValue:HTMLElement.prototype.getAttribute.call(this,t)},writable:window.debug},addState:{value:function(t){this.is(t)||(this.states.push(t),this.mapStateMixins(t,bind(this.registerMixin,this)),this.emit(\\\"stateadded\\\",{state:t}))}},removeState:{value:function(t){var e=this.states.indexOf(t);e!==-1&&(this.states.splice(e,1),this.mapStateMixins(t,bind(this.unregisterMixin,this)),this.emit(\\\"stateremoved\\\",{state:t}))}},is:{value:function(t){return this.states.indexOf(t)!==-1}}});AEntity=registerElement(\\\"a-entity\\\",{prototype:proto}),module.exports=AEntity;\\n},{\\\"../lib/three\\\":106,\\\"../utils/\\\":124,\\\"./a-node\\\":61,\\\"./a-register-element\\\":62,\\\"./component\\\":63}],60:[function(_dereq_,module,exports){\\nvar ANode=_dereq_(\\\"./a-node\\\"),registerElement=_dereq_(\\\"./a-register-element\\\").registerElement,components=_dereq_(\\\"./component\\\").components,MULTIPLE_COMPONENT_DELIMITER=\\\"__\\\";module.exports=registerElement(\\\"a-mixin\\\",{prototype:Object.create(ANode.prototype,{createdCallback:{value:function(){this.componentCache={},this.id=this.getAttribute(\\\"id\\\")}},attributeChangedCallback:{value:function(t,e,i){this.cacheAttribute(t,i)}},attachedCallback:{value:function(){this.sceneEl=this.closestScene(),this.cacheAttributes(),this.updateEntities(),this.load()}},setAttribute:{value:function(t,e){this.cacheAttribute(t,e),HTMLElement.prototype.setAttribute.call(this,t,e)}},cacheAttribute:{value:function(t,e){var i=t.split(MULTIPLE_COMPONENT_DELIMITER)[0],n=components[i];n&&(void 0===e&&(e=HTMLElement.prototype.getAttribute.call(this,t)),this.componentCache[t]=n.parseAttrValueForCache(e))}},getAttribute:{value:function(t){return this.componentCache[t]||HTMLElement.prototype.getAttribute.call(this,t)}},cacheAttributes:{value:function(){var t,e,i=this.attributes;for(e=0;e<i.length;e++)t=i[e].name,this.cacheAttribute(t)}},updateEntities:{value:function(){if(this.sceneEl)for(var t=this.sceneEl.querySelectorAll(\\\"[mixin~=\\\"+this.id+\\\"]\\\"),e=0;e<t.length;e++){var i=t[e];i.hasLoaded&&(i.registerMixin(this.id),Object.keys(this.componentCache).forEach(function(t){i.updateComponent(t)}))}}}})});\\n},{\\\"./a-node\\\":61,\\\"./a-register-element\\\":62,\\\"./component\\\":63}],61:[function(_dereq_,module,exports){\\nvar registerElement=_dereq_(\\\"./a-register-element\\\").registerElement,utils=_dereq_(\\\"../utils/\\\"),bind=utils.bind;module.exports=registerElement(\\\"a-node\\\",{prototype:Object.create(HTMLElement.prototype,{createdCallback:{value:function(){this.hasLoaded=!1,this.isNode=!0,this.mixinEls=[],this.mixinObservers={}},writable:window.debug},attachedCallback:{value:function(){var e;this.hasLoaded=!1,this.sceneEl=this.closestScene(),this.emit(\\\"nodeready\\\",{},!1),e=this.getAttribute(\\\"mixin\\\"),e&&this.updateMixins(e)},writable:window.debug},attributeChangedCallback:{value:function(e,i,t){\\\"mixin\\\"===e&&this.updateMixins(t,i)}},closestScene:{value:function(){for(var e=this;e&&!e.isScene;)e=e.parentElement;return e}},closest:{value:function(e){for(var i=this.matches||this.mozMatchesSelector||this.msMatchesSelector||this.oMatchesSelector||this.webkitMatchesSelector,t=this;t&&!i.call(t,e);)t=t.parentElement;return t}},detachedCallback:{value:function(){this.hasLoaded=!1}},load:{value:function(e,i){var t,n,s=this;this.hasLoaded||(i=i||function(e){return e.isNode},t=this.getChildren(),n=t.filter(i).map(function(e){return new Promise(function(i){return e.hasLoaded?i():void e.addEventListener(\\\"loaded\\\",i)})}),Promise.all(n).then(function(){s.hasLoaded=!0,e&&e(),s.emit(\\\"loaded\\\",{},!1)}))},writable:!0},getChildren:{value:function(){return Array.prototype.slice.call(this.children,0)}},updateMixins:{value:function(e,i){var t=e.split(\\\" \\\"),n=i?i.split(\\\" \\\"):[],s=n.filter(function(e){return t.indexOf(e)<0});this.mixinEls=[],s.forEach(bind(this.unregisterMixin,this)),t.forEach(bind(this.registerMixin,this))}},registerMixin:{value:function(e){if(this.sceneEl){var i=this.sceneEl.querySelector(\\\"a-mixin#\\\"+e);i&&(this.attachMixinListener(i),this.mixinEls.push(i))}}},setAttribute:{value:function(e,i){\\\"mixin\\\"===e&&this.updateMixins(i),HTMLElement.prototype.setAttribute.call(this,e,i)}},unregisterMixin:{value:function(e){var i,t,n=this.mixinEls;for(t=0;t<n.length;++t)if(i=n[t],e===i.id){n.splice(t,1);break}this.removeMixinListener(e)}},removeMixinListener:{value:function(e){var i=this.mixinObservers[e];i&&(i.disconnect(),this.mixinObservers[e]=null)}},attachMixinListener:{value:function(e){var i=this,t=e.id,n=this.mixinObservers[t];if(e&&!n){var s=new MutationObserver(function(e){var t=e[0].attributeName;i.handleMixinUpdate(t)}),r={attributes:!0};s.observe(e,r),this.mixinObservers[t]=s}}},handleMixinUpdate:{value:function(){}},emit:{value:function(e,i,t){var n=this;i=i||{},void 0===t&&(t=!0);var s={bubbles:!!t,detail:i};return e.split(\\\" \\\").map(function(e){return utils.fireEvent(n,e,s)})}},emitter:{value:function(e,i,t){var n=this;return function(){n.emit(e,i,t)}}}})});\\n},{\\\"../utils/\\\":124,\\\"./a-register-element\\\":62}],62:[function(_dereq_,module,exports){\\nfunction addTagName(e){knownTags[e.toLowerCase()]=!0}function wrapANodeMethods(e){var t={},o=[\\\"attachedCallback\\\",\\\"attributeChangedCallback\\\",\\\"createdCallback\\\"];return wrapMethods(t,o,e,ANode.prototype),copyProperties(e,t),t}function wrapAEntityMethods(e){var t={},o=[\\\"attachedCallback\\\",\\\"attributeChangedCallback\\\",\\\"createdCallback\\\"],a=[\\\"attachedCallback\\\",\\\"attributeChangedCallback\\\",\\\"createdCallback\\\",\\\"detachedCallback\\\"];return wrapMethods(t,o,e,ANode.prototype),wrapMethods(t,a,e,AEntity.prototype),copyProperties(e,t),t}function wrapMethods(e,t,o,a){t.forEach(function(t){wrapMethod(e,t,o,a)})}function wrapMethod(e,t,o,a){var r=o[t],n=a[t];r&&n&&r!==n&&(e[t]={value:function(){return n.apply(this,arguments),r.apply(this,arguments)},writable:window.debug})}function copyProperties(e,t){var o=Object.getOwnPropertyNames(e);o.forEach(function(o){var a;t[o]||(a=Object.getOwnPropertyDescriptor(e,o),t[o]={value:e[o],writable:a.writable})})}_dereq_(\\\"document-register-element\\\");var ANode,AEntity,knownTags=module.exports.knownTags={};module.exports.isNode=function(e){return e.tagName.toLowerCase()in knownTags||e.isNode},module.exports.registerElement=function(e,t){var o=Object.getPrototypeOf(t.prototype),a=t,r=ANode&&o===ANode.prototype,n=AEntity&&o===AEntity.prototype;return(r||n)&&addTagName(e),r&&(a=wrapANodeMethods(t.prototype),a={prototype:Object.create(o,a)}),n&&(a=wrapAEntityMethods(t.prototype),a={prototype:Object.create(o,a)}),document.registerElement(e,a)},module.exports.wrapMethods=wrapMethods,ANode=_dereq_(\\\"./a-node\\\"),AEntity=_dereq_(\\\"./a-entity\\\");\\n},{\\\"./a-entity\\\":59,\\\"./a-node\\\":61,\\\"document-register-element\\\":8}],63:[function(_dereq_,module,exports){\\nfunction buildData(e,t,i,s,r,a){function o(e){var t=e.getAttribute(i);t&&(n=extendProperties(n,t,h))}var n,p=void 0!==r&&null!==r,h=isSingleProp(s),c=e.mixinEls;return h?n=s.default:(n={},Object.keys(s).forEach(function(e){var t=s[e].default;n[e]=t&&t.constructor===Object?utils.extend({},t):t})),c.forEach(o),p?h?parseProperty(r,s):(n=extendProperties(n,r,h),parseProperties(n,s,void 0,t,a)):h?parseProperty(n,s):parseProperties(n,s,void 0,t,a)}function extendProperties(e,t,i){return i?t:utils.extend(e,t)}function wrapPause(e){return function(){var t=this.el.sceneEl;this.isPlaying&&(e.call(this),this.isPlaying=!1,this.tick&&t.removeBehavior(this))}}function wrapPlay(e){return function(){var t=this.el.sceneEl,i=this.el.isPlaying&&!this.isPlaying;this.initialized&&i&&(e.call(this),this.isPlaying=!0,this.tick&&t.addBehavior(this))}}var schema=_dereq_(\\\"./schema\\\"),systems=_dereq_(\\\"./system\\\"),utils=_dereq_(\\\"../utils/\\\"),components=module.exports.components={},parseProperties=schema.parseProperties,parseProperty=schema.parseProperty,processSchema=schema.process,isSingleProp=schema.isSingleProperty,stringifyProperties=schema.stringifyProperties,stringifyProperty=schema.stringifyProperty,styleParser=utils.styleParser,Component=module.exports.Component=function(e,t,i){this.el=e,this.id=i,this.attrName=this.name+(i?\\\"__\\\"+i:\\\"\\\"),this.updateCachedAttrValue(t),e.hasLoaded&&this.updateProperties(this.attrValue)};Component.prototype={schema:{},init:function(){},update:function(e){},updateSchema:void 0,tick:void 0,play:function(){},pause:function(){},remove:function(){},parse:function(e,t){var i=this.schema;return isSingleProp(i)?parseProperty(e,i):parseProperties(styleParser.parse(e),i,!0,this.name,t)},stringify:function(e){var t=this.schema;return\\\"string\\\"==typeof e?e:isSingleProp(t)?stringifyProperty(e,t):(e=stringifyProperties(e,t),styleParser.stringify(e))},getData:function(){var e=this.data;return\\\"object\\\"!=typeof e?e:utils.extend({},e)},updateCachedAttrValue:function(e){var t=isSingleProp(this.schema),i=this.parseAttrValueForCache(e);this.attrValue=extendProperties({},i,t)},parseAttrValueForCache:function(e){var t;return\\\"string\\\"!=typeof e?e:(isSingleProp(this.schema)?(t=this.schema.parse(e),\\\"string\\\"==typeof t&&(t=e)):t=styleParser.parse(e),t)},flushToDOM:function(e){var t=e?this.data:this.attrValue;t&&HTMLElement.prototype.setAttribute.call(this.el,this.attrName,this.stringify(t))},updateProperties:function(e){var t=this.el,i=isSingleProp(this.schema),s=extendProperties({},this.data,i);void 0!==e&&this.updateCachedAttrValue(e),this.updateSchema&&this.updateSchema(buildData(t,this.name,this.attrName,this.schema,this.attrValue,!0)),this.data=buildData(t,this.name,this.attrName,this.schema,this.attrValue),!i&&utils.deepEqual(s,this.data)||(this.initialized?(this.update(s),t.emit(\\\"componentchanged\\\",{id:this.id,name:this.name,newData:this.getData(),oldData:s},!1)):(this.init(),this.initialized=!0,this.update(s),t.isPlaying&&this.play(),t.emit(\\\"componentinitialized\\\",{id:this.id,name:this.name,data:this.getData()},!1)))},extendSchema:function(e){var t=utils.extend({},components[this.name].schema);utils.extend(t,e),this.schema=processSchema(t),this.el.emit(\\\"schemachanged\\\",{component:this.name})}},module.exports.registerComponent=function(e,t){var i,s={};if(e.indexOf(\\\"__\\\")!==-1)throw new Error(\\\"The component name `\\\"+e+\\\"` is not allowed. The sequence __ (double underscore) is reserved to specify an id for multiple components of the same type\\\");if(Object.keys(t).forEach(function(e){s[e]={value:t[e],writable:!0}}),components[e])throw new Error(\\\"The component `\\\"+e+\\\"` has been already registered. Check that you are not loading two versions of the same component or two different components of the same name.\\\");return i=function(e,t,i){Component.call(this,e,t,i)},i.prototype=Object.create(Component.prototype,s),i.prototype.name=e,i.prototype.constructor=i,i.prototype.system=systems&&systems.systems[e],i.prototype.play=wrapPlay(i.prototype.play),i.prototype.pause=wrapPause(i.prototype.pause),components[e]={Component:i,dependencies:i.prototype.dependencies,isSingleProp:isSingleProp(i.prototype.schema),multiple:i.prototype.multiple,parse:i.prototype.parse,parseAttrValueForCache:i.prototype.parseAttrValueForCache,schema:utils.extend(processSchema(i.prototype.schema)),stringify:i.prototype.stringify,type:i.prototype.type},i},module.exports.buildData=buildData;\\n},{\\\"../utils/\\\":124,\\\"./schema\\\":70,\\\"./system\\\":72}],64:[function(_dereq_,module,exports){\\nvar schema=_dereq_(\\\"./schema\\\"),processSchema=schema.process,geometries=module.exports.geometries={},geometryNames=module.exports.geometryNames=[],THREE=_dereq_(\\\"../lib/three\\\"),Geometry=module.exports.Geometry=function(){};Geometry.prototype={schema:{},init:function(e){return this.geometry=new THREE.Geometry,this.geometry},update:function(e){}},module.exports.registerGeometry=function(e,t){var r,o={};if(Object.keys(t).forEach(function(e){o[e]={value:t[e],writable:!0}}),geometries[e])throw new Error(\\\"The geometry `\\\"+e+\\\"` has been already registered\\\");return r=function(){Geometry.call(this)},r.prototype=Object.create(Geometry.prototype,o),r.prototype.name=e,r.prototype.constructor=r,geometries[e]={Geometry:r,schema:processSchema(r.prototype.schema)},geometryNames.push(e),r};\\n},{\\\"../lib/three\\\":106,\\\"./schema\\\":70}],65:[function(_dereq_,module,exports){\\nfunction registerPropertyType(r,e,t,s){return\\\"type\\\"in propertyTypes?void error(\\\"Property type \\\"+r+\\\" is already registered.\\\"):void(propertyTypes[r]={default:e,parse:t||defaultParse,stringify:s||defaultStringify})}function arrayParse(r){function e(r){return r.trim()}return Array.isArray(r)?r:r&&\\\"string\\\"==typeof r?r.split(\\\",\\\").map(e):[]}function arrayStringify(r){return r.join(\\\", \\\")}function assetParse(r){var e,t;return t=r.match(/\\\\url\\\\((.+)\\\\)/),t?t[1]:\\\"#\\\"===r.charAt(0)?(e=selectorParse(r))?\\\"CANVAS\\\"===e.tagName||\\\"VIDEO\\\"===e.tagName?e:e.getAttribute(\\\"src\\\"):void warn('\\\"'+r+'\\\" asset not found.'):r}function defaultParse(r){return r}function defaultStringify(r){return null===r?\\\"null\\\":r.toString()}function boolParse(r){return\\\"false\\\"!==r&&r!==!1}function intParse(r){return parseInt(r,10)}function numberParse(r){return parseFloat(r,10)}function selectorParse(r){return r?\\\"string\\\"!=typeof r?r:document.querySelector(r):null}function selectorAllParse(r){return r?\\\"string\\\"!=typeof r?r:Array.prototype.slice.call(document.querySelectorAll(r),0):null}function selectorStringify(r){return r.getAttribute?\\\"#\\\"+r.getAttribute(\\\"id\\\"):defaultStringify(r)}function selectorAllStringify(r){return r instanceof Array?r.map(function(r){return\\\"#\\\"+r.getAttribute(\\\"id\\\")}).join(\\\", \\\"):defaultStringify(r)}function srcParse(r){return warn(\\\"`src` property type is deprecated. Use `asset` instead.\\\"),assetParse(r)}function vecParse(r){return coordinates.parse(r,this.default)}var coordinates=_dereq_(\\\"../utils/coordinates\\\"),debug=_dereq_(\\\"debug\\\"),error=debug(\\\"core:propertyTypes:warn\\\"),warn=debug(\\\"core:propertyTypes:warn\\\"),propertyTypes=module.exports.propertyTypes={};registerPropertyType(\\\"audio\\\",\\\"\\\",assetParse),registerPropertyType(\\\"array\\\",[],arrayParse,arrayStringify),registerPropertyType(\\\"asset\\\",\\\"\\\",assetParse),registerPropertyType(\\\"boolean\\\",!1,boolParse),registerPropertyType(\\\"color\\\",\\\"#FFF\\\",defaultParse,defaultStringify),registerPropertyType(\\\"int\\\",0,intParse),registerPropertyType(\\\"number\\\",0,numberParse),registerPropertyType(\\\"map\\\",\\\"\\\",assetParse),registerPropertyType(\\\"model\\\",\\\"\\\",assetParse),registerPropertyType(\\\"selector\\\",\\\"\\\",selectorParse,selectorStringify),registerPropertyType(\\\"selectorAll\\\",\\\"\\\",selectorAllParse,selectorAllStringify),registerPropertyType(\\\"src\\\",\\\"\\\",srcParse),registerPropertyType(\\\"string\\\",\\\"\\\",defaultParse,defaultStringify),registerPropertyType(\\\"time\\\",0,intParse),registerPropertyType(\\\"vec2\\\",{x:0,y:0},vecParse,coordinates.stringify),registerPropertyType(\\\"vec3\\\",{x:0,y:0,z:0},vecParse,coordinates.stringify),registerPropertyType(\\\"vec4\\\",{x:0,y:0,z:0,w:0},vecParse,coordinates.stringify),module.exports.registerPropertyType=registerPropertyType;\\n},{\\\"../utils/coordinates\\\":119,\\\"debug\\\":3}],66:[function(_dereq_,module,exports){\\nfunction getCanvasSize(e,t){return t?{height:e.parentElement.offsetHeight,width:e.parentElement.offsetWidth}:{height:window.innerHeight,width:window.innerWidth}}function requestFullscreen(e){var t=e.requestFullscreen||e.webkitRequestFullscreen||e.mozRequestFullScreen||e.msRequestFullscreen;t.apply(e)}var initMetaTags=_dereq_(\\\"./metaTags\\\").inject,initWakelock=_dereq_(\\\"./wakelock\\\"),re=_dereq_(\\\"../a-register-element\\\"),systems=_dereq_(\\\"../system\\\").systems,THREE=_dereq_(\\\"../../lib/three\\\"),TWEEN=_dereq_(\\\"tween.js\\\"),utils=_dereq_(\\\"../../utils/\\\"),AEntity=_dereq_(\\\"../a-entity\\\"),ANode=_dereq_(\\\"../a-node\\\"),initPostMessageAPI=_dereq_(\\\"./postMessage\\\"),bind=utils.bind,checkHeadsetConnected=utils.device.checkHeadsetConnected,isIOS=utils.device.isIOS(),isMobile=utils.device.isMobile(),registerElement=re.registerElement,warn=utils.debug(\\\"core:a-scene:warn\\\");module.exports=registerElement(\\\"a-scene\\\",{prototype:Object.create(AEntity.prototype,{defaultComponents:{value:{canvas:\\\"\\\",inspector:\\\"\\\",\\\"keyboard-shortcuts\\\":\\\"\\\",screenshot:\\\"\\\",\\\"vr-mode-ui\\\":\\\"\\\",\\\"auto-enter-vr\\\":\\\"\\\"}},createdCallback:{value:function(){this.isIOS=isIOS,this.isMobile=isMobile,this.isScene=!0,this.object3D=new THREE.Scene,this.render=bind(this.render,this),this.systems={},this.time=0,this.init()}},init:{value:function(){this.behaviors=[],this.hasLoaded=!1,this.isPlaying=!1,this.originalHTML=this.innerHTML,this.addEventListener(\\\"render-target-loaded\\\",function(){this.setupRenderer(),this.resize()}),this.addFullScreenStyles(),initPostMessageAPI(this)},writable:!0},addFullScreenStyles:{value:function(){var e=document.documentElement;e.classList.add(\\\"a-html\\\"),document.body.classList.add(\\\"a-body\\\"),this.classList.add(\\\"fullscreen\\\")}},removeFullScreenStyles:{value:function(){var e=document.documentElement;e.classList.remove(\\\"a-html\\\"),document.body.classList.remove(\\\"a-body\\\"),this.classList.remove(\\\"fullscreen\\\")}},attachedCallback:{value:function(){var e=bind(this.resize,this);initMetaTags(this),initWakelock(this),this.initSystems(),window.addEventListener(\\\"load\\\",e),window.addEventListener(\\\"resize\\\",e),this.play()},writable:window.debug},initSystems:{value:function(){Object.keys(systems).forEach(bind(this.initSystem,this))}},initSystem:{value:function(e){var t;this.systems[e]||(t=this.systems[e]=new systems[e](this),t.init())}},detachedCallback:{value:function(){window.cancelAnimationFrame(this.animationFrameID),this.animationFrameID=null}},addBehavior:{value:function(e){var t=this.behaviors;t.indexOf(e)===-1&&t.push(e)}},enterVR:{value:function(e){function t(){s.addState(\\\"vr-mode\\\"),s.emit(\\\"enter-vr\\\",e),s.isMobile&&screen.orientation&&screen.orientation.lock&&screen.orientation.lock(\\\"landscape\\\"),s.addFullScreenStyles(),s.isMobile||checkHeadsetConnected()||requestFullscreen(s.canvas),s.resize()}function i(e){throw e&&e.message?new Error(\\\"Failed to enter VR mode (`requestPresent`): \\\"+e.message):new Error(\\\"Failed to enter VR mode (`requestPresent`).\\\")}var s=this;if(!this.is(\\\"vr-mode\\\"))return checkHeadsetConnected()||this.isMobile?this.effect.requestPresent().then(t,i):void t()}},exitVR:{value:function(){function e(){var e=i.getAttribute(\\\"embedded\\\");i.removeState(\\\"vr-mode\\\"),i.isMobile&&screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock(),e&&i.removeFullScreenStyles(),i.resize(),i.isIOS&&utils.forceCanvasResizeSafariMobile(this.canvas),i.emit(\\\"exit-vr\\\",{target:i})}function t(e){throw e&&e.message?new Error(\\\"Failed to exit VR mode (`exitPresent`): \\\"+e.message):new Error(\\\"Failed to exit VR mode (`exitPresent`).\\\")}var i=this;return this.is(\\\"vr-mode\\\")?checkHeadsetConnected()||this.isMobile?this.effect.exitPresent().then(e,t):void e():Promise.resolve()}},getAttribute:{value:function(e){var t=this.systems[e];return t?t.data:AEntity.prototype.getAttribute.call(this,e)}},getComputedAttribute:{value:function(e){warn(\\\"`getComputedAttribute` is deprecated. Use `getAttribute` instead.\\\"),this.getAttribute(e)}},getDOMAttribute:{value:function(e){var t=this.systems[e];return t?t.data:AEntity.prototype.getDOMAttribute.call(this,e)}},setAttribute:{value:function(e,t,i){var s=this.systems[e];return s?void ANode.prototype.setAttribute.call(this,e,t):void AEntity.prototype.setAttribute.call(this,e,t,i)}},removeBehavior:{value:function(e){var t=this.behaviors,i=t.indexOf(e);i!==-1&&t.splice(i,1)}},resize:{value:function(){var e,t=this.camera,i=this.canvas,s=this.getAttribute(\\\"embedded\\\")&&!this.is(\\\"vr-mode\\\");!t||!i||this.is(\\\"vr-mode\\\")&&isMobile||(e=getCanvasSize(i,s),t.aspect=e.width/e.height,t.updateProjectionMatrix(),this.renderer.setSize(e.width,e.height))},writable:window.debug},setupRenderer:{value:function(){var e=this.canvas,t=\\\"true\\\"===this.getAttribute(\\\"antialias\\\"),i=this.renderer=new THREE.WebGLRenderer({canvas:e,antialias:t||window.hasNativeWebVRImplementation,alpha:!0});i.setPixelRatio(window.devicePixelRatio),i.sortObjects=!1,this.effect=new THREE.VREffect(i)},writable:window.debug},play:{value:function(){var e=this;return this.renderStarted?void AEntity.prototype.play.call(this):(this.addEventListener(\\\"loaded\\\",function(){function e(e){e.renderStarted||(e.resize(),e.renderer&&(window.performance&&window.performance.mark(\\\"render-started\\\"),e.render(0),e.renderStarted=!0,e.emit(\\\"renderstart\\\")))}return AEntity.prototype.play.call(this),this.camera?void e(this):void this.addEventListener(\\\"camera-set-active\\\",function(){e(this)})}),void setTimeout(function(){AEntity.prototype.load.call(e)}))}},reload:{value:function(e){function t(){i.isPlaying&&AEntity.prototype.play.call(i)}var i=this;e&&this.pause(),this.innerHTML=this.originalHTML,this.init(),ANode.prototype.load.call(this,t)}},tick:{value:function(e,t){var i=this.systems;TWEEN.update(e),this.behaviors.forEach(function(i){i.el.isPlaying&&i.tick(e,t)}),Object.keys(i).forEach(function(s){i[s].tick&&i[s].tick(e,t)})}},render:{value:function(e){var t=this.effect,i=e-this.time;this.isPlaying&&this.tick(e,i),this.animationFrameID=t.requestAnimationFrame(this.render),t.render(this.object3D,this.camera),this.time=e},writable:!0}})});\\n},{\\\"../../lib/three\\\":106,\\\"../../utils/\\\":124,\\\"../a-entity\\\":59,\\\"../a-node\\\":61,\\\"../a-register-element\\\":62,\\\"../system\\\":72,\\\"./metaTags\\\":67,\\\"./postMessage\\\":68,\\\"./wakelock\\\":69,\\\"tween.js\\\":18}],67:[function(_dereq_,module,exports){\\nfunction Meta(e){return{tagName:\\\"meta\\\",attributes:e,exists:function(){return document.querySelector('meta[name=\\\"'+e.name+'\\\"]')}}}function Link(e){return{tagName:\\\"link\\\",attributes:e,exists:function(){return document.querySelector('link[rel=\\\"'+e.rel+'\\\"]')}}}function createTag(e){if(e&&e.tagName){var t=document.createElement(e.tagName);return t.setAttribute(constants.AFRAME_INJECTED,\\\"\\\"),extend(t,e.attributes)}}var constants=_dereq_(\\\"../../constants/\\\"),extend=_dereq_(\\\"../../utils\\\").extend,MOBILE_HEAD_TAGS=module.exports.MOBILE_HEAD_TAGS=[Meta({name:\\\"viewport\\\",content:\\\"width=device-width,initial-scale=1,maximum-scale=1,shrink-to-fit=no,user-scalable=no,minimal-ui\\\"}),Meta({name:\\\"mobile-web-app-capable\\\",content:\\\"yes\\\"}),Meta({name:\\\"theme-color\\\",content:\\\"black\\\"})],MOBILE_IOS_HEAD_TAGS=[Meta({name:\\\"apple-mobile-web-app-capable\\\",content:\\\"yes\\\"}),Meta({name:\\\"apple-mobile-web-app-status-bar-style\\\",content:\\\"black\\\"}),Link({rel:\\\"apple-touch-icon\\\",href:\\\"https://aframe.io/images/aframe-logo-152.png\\\"})];module.exports.inject=function(e){function t(e){e&&!e.exists()&&(a=createTag(e),a&&(r?r.parentNode.insertBefore(a,r):n.appendChild(a),i.push(a)))}var a,n=document.head,r=n.querySelector(\\\"script\\\"),i=[];return MOBILE_HEAD_TAGS.forEach(t),e.isIOS&&MOBILE_IOS_HEAD_TAGS.forEach(t),i};\\n},{\\\"../../constants/\\\":54,\\\"../../utils\\\":124}],68:[function(_dereq_,module,exports){\\nfunction postMessageAPIHandler(e){var a=this;if(e.data)switch(e.data.type){case\\\"vr\\\":switch(e.data.data){case\\\"enter\\\":a.enterVR();break;case\\\"exit\\\":a.exitVR()}}}var bind=_dereq_(\\\"../../utils/bind\\\"),isIframed=_dereq_(\\\"../../utils/\\\").isIframed;module.exports=function(e){isIframed()&&window.addEventListener(\\\"message\\\",bind(postMessageAPIHandler,e))};\\n},{\\\"../../utils/\\\":124,\\\"../../utils/bind\\\":118}],69:[function(_dereq_,module,exports){\\nvar Wakelock=_dereq_(\\\"../../../vendor/wakelock/wakelock\\\");module.exports=function(e){if(e.isMobile){var n=e.wakelock=new Wakelock;e.addEventListener(\\\"enter-vr\\\",function(){n.request()}),e.addEventListener(\\\"exit-vr\\\",function(){n.release()})}};\\n},{\\\"../../../vendor/wakelock/wakelock\\\":134}],70:[function(_dereq_,module,exports){\\nfunction isSingleProperty(r){return\\\"type\\\"in r?\\\"string\\\"==typeof r.type:\\\"default\\\"in r}function processPropertyDefinition(r){var e,t=r.default,o=r.type;return r.type?\\\"bool\\\"===r.type?o=\\\"boolean\\\":\\\"float\\\"===r.type&&(o=\\\"number\\\"):o=void 0!==t&&[\\\"boolean\\\",\\\"number\\\"].indexOf(typeof t)!==-1?typeof t:Array.isArray(t)?\\\"array\\\":\\\"string\\\",e=propertyTypes[o],e||warn(\\\"Unknown property type: \\\"+o),r.parse=r.parse||e.parse,r.stringify=r.stringify||e.stringify,r.type=o,\\\"default\\\"in r||(r.default=e.default),r}function parseProperty(r,e){return void 0!==r&&null!==r&&\\\"\\\"!==r||(r=e.default),e.parse(r,e.default)}function stringifyProperty(r,e){return\\\"object\\\"!=typeof r?r:e&&null!==r?e.stringify(r):JSON.stringify(r)}var debug=_dereq_(\\\"../utils/debug\\\"),propertyTypes=_dereq_(\\\"./propertyTypes\\\").propertyTypes,warn=debug(\\\"core:schema:warn\\\");module.exports.isSingleProperty=isSingleProperty,module.exports.process=function(r){return isSingleProperty(r)?processPropertyDefinition(r):(Object.keys(r).forEach(function(e){r[e]=processPropertyDefinition(r[e])}),r)},module.exports.processPropertyDefinition=processPropertyDefinition,module.exports.parseProperties=function(r,e,t,o,n){var p=Object.keys(t?r:e);return null===r||\\\"object\\\"!=typeof r?r:(Object.keys(r).forEach(function(r){e[r]||n||warn(\\\"Unknown property `\\\"+r+\\\"` for component/system `\\\"+o+\\\"`.\\\")}),p.forEach(function(t){var o=e[t],n=r[t];e[t]&&(r[t]=parseProperty(n,o))}),r)},module.exports.parseProperty=parseProperty,module.exports.stringifyProperties=function(r,e){var t={};return Object.keys(r).forEach(function(o){var n=e[o],p=r[o],i=p;\\\"object\\\"==typeof i&&(i=stringifyProperty(p,n),n||warn(\\\"Unknown component property: \\\"+o)),t[o]=i}),t},module.exports.stringifyProperty=stringifyProperty;\\n},{\\\"../utils/debug\\\":120,\\\"./propertyTypes\\\":65}],71:[function(_dereq_,module,exports){\\nvar schema=_dereq_(\\\"./schema\\\"),processSchema=schema.process,shaders=module.exports.shaders={},shaderNames=module.exports.shaderNames=[],THREE=_dereq_(\\\"../lib/three\\\"),propertyToThreeMapping={array:\\\"v3\\\",color:\\\"v3\\\",int:\\\"i\\\",number:\\\"f\\\",map:\\\"t\\\",time:\\\"f\\\",vec2:\\\"v2\\\",vec3:\\\"v3\\\",vec4:\\\"v4\\\"},Shader=module.exports.Shader=function(){};Shader.prototype={schema:{},vertexShader:\\\"void main() {gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);}\\\",fragmentShader:\\\"void main() {gl_FragColor = vec4(1.0,0.0,1.0,1.0);}\\\",init:function(e){return this.attributes=this.initVariables(e,\\\"attribute\\\"),this.uniforms=this.initVariables(e,\\\"uniform\\\"),this.material=new THREE.ShaderMaterial({uniforms:this.uniforms,vertexShader:this.vertexShader,fragmentShader:this.fragmentShader}),this.material},initVariables:function(e,r){function t(t){if(s[t].is===r){var o=propertyToThreeMapping[s[t].type],n=s[t].parse(e[t]||s[t].default);i[t]={type:o,value:a.parseValue(s[t].type,n)}}}var a=this,i={},s=this.schema,o=Object.keys(s);return o.forEach(t),i},update:function(e){this.updateVariables(e,\\\"attribute\\\"),this.updateVariables(e,\\\"uniform\\\")},updateVariables:function(e,r){function t(t){o[t]&&o[t].is===r&&i[t].value!==e[t]&&(i[t].value=a.parseValue(o[t].type,e[t]),i[t].needsUpdate=!0)}var a=this,i=\\\"uniform\\\"===r?this.uniforms:this.attributes,s=Object.keys(e),o=this.schema;s.forEach(t)},parseValue:function(e,r){var t;switch(e){case\\\"vec2\\\":return new THREE.Vector2(r.x,r.y);case\\\"vec3\\\":return new THREE.Vector3(r.x,r.y,r.z);case\\\"vec4\\\":return new THREE.Vector4(r.x,r.y,r.z,r.w);case\\\"color\\\":return t=new THREE.Color(r),new THREE.Vector3(t.r,t.g,t.b);default:return r}}},module.exports.registerShader=function(e,r){var t,a={};if(Object.keys(r).forEach(function(e){a[e]={value:r[e],writable:!0}}),shaders[e])throw new Error(\\\"The shader \\\"+e+\\\" has been already registered\\\");return t=function(){Shader.call(this)},t.prototype=Object.create(Shader.prototype,a),t.prototype.name=e,t.prototype.constructor=t,shaders[e]={Shader:t,schema:processSchema(t.prototype.schema)},shaderNames.push(e),t};\\n},{\\\"../lib/three\\\":106,\\\"./schema\\\":70}],72:[function(_dereq_,module,exports){\\nvar components=_dereq_(\\\"./component\\\"),schema=_dereq_(\\\"./schema\\\"),utils=_dereq_(\\\"../utils/\\\"),parseProperties=schema.parseProperties,parseProperty=schema.parseProperty,processSchema=schema.process,isSingleProp=schema.isSingleProperty,styleParser=utils.styleParser,systems=module.exports.systems={},System=module.exports.System=function(e){var t,s=components&&components.components[this.name],r=this.schema;if(this.sceneEl=e,s&&(s.Component.prototype.system=this),Object.keys(r).length)return t=HTMLElement.prototype.getAttribute.call(e,this.name),isSingleProp(r)?void(this.data=parseProperty(t,r)):void(this.data=parseProperties(styleParser.parse(t)||{},r,!1,this.name))};System.prototype={schema:{},init:function(){},tick:void 0,play:function(){},pause:function(){}},module.exports.registerSystem=function(e,t){var s,r,o={},n=utils.findAllScenes(document);if(Object.keys(t).forEach(function(e){o[e]={value:t[e],writable:!0}}),systems[e])throw new Error(\\\"The system `\\\"+e+\\\"` has been already registered. Check that you are not loading two versions of the same system or two different systems of the same name.\\\");for(r=function(e){System.call(this,e)},r.prototype=Object.create(System.prototype,o),r.prototype.name=e,r.prototype.constructor=r,r.prototype.schema=utils.extend(processSchema(r.prototype.schema)),systems[e]=r,s=0;s<n.length;s++)n[s].initSystem(e)};\\n},{\\\"../utils/\\\":124,\\\"./component\\\":63,\\\"./schema\\\":70}],73:[function(_dereq_,module,exports){\\n_dereq_(\\\"./pivot\\\");\\n},{\\\"./pivot\\\":74}],74:[function(_dereq_,module,exports){\\nvar registerComponent=_dereq_(\\\"../../core/component\\\").registerComponent,THREE=_dereq_(\\\"../../lib/three\\\"),originalPosition=new THREE.Vector3,originalRotation=new THREE.Vector3;registerComponent(\\\"pivot\\\",{dependencies:[\\\"position\\\"],schema:{type:\\\"vec3\\\"},init:function(){var o=this.data,i=this.el,t=i.object3D.parent,e=i.object3D,n=new THREE.Group;originalPosition.copy(e.position),originalRotation.copy(e.rotation),t.remove(e),n.add(e),t.add(n),i.object3D=n,e.position.set(-1*o.x,-1*o.y,-1*o.z),n.position.set(o.x+originalPosition.x,o.y+originalPosition.y,o.z+originalPosition.z),n.rotation.copy(e.rotation),e.rotation.set(0,0,0)}});\\n},{\\\"../../core/component\\\":63,\\\"../../lib/three\\\":106}],75:[function(_dereq_,module,exports){\\nfunction addMapping(e){var a=e.replace(/([a-z])([A-Z])/g,\\\"$1-$2\\\").toLowerCase();materialMappings[a]=\\\"material.\\\"+e}var components=_dereq_(\\\"../../core/component\\\").components,shaders=_dereq_(\\\"../../core/shader\\\").shaders,utils=_dereq_(\\\"../../utils/\\\"),materialMappings={};Object.keys(components.material.schema).forEach(addMapping),Object.keys(shaders.standard.schema).forEach(addMapping),module.exports=function(){return{defaultComponents:{material:{}},mappings:utils.extend({},materialMappings)}};\\n},{\\\"../../core/component\\\":63,\\\"../../core/shader\\\":71,\\\"../../utils/\\\":124}],76:[function(_dereq_,module,exports){\\n_dereq_(\\\"./primitives/a-camera\\\"),_dereq_(\\\"./primitives/a-collada-model\\\"),_dereq_(\\\"./primitives/a-cursor\\\"),_dereq_(\\\"./primitives/a-curvedimage\\\"),_dereq_(\\\"./primitives/a-image\\\"),_dereq_(\\\"./primitives/a-light\\\"),_dereq_(\\\"./primitives/a-obj-model\\\"),_dereq_(\\\"./primitives/a-sky\\\"),_dereq_(\\\"./primitives/a-sound\\\"),_dereq_(\\\"./primitives/a-video\\\"),_dereq_(\\\"./primitives/a-videosphere\\\"),_dereq_(\\\"./primitives/meshPrimitives\\\");\\n},{\\\"./primitives/a-camera\\\":78,\\\"./primitives/a-collada-model\\\":79,\\\"./primitives/a-cursor\\\":80,\\\"./primitives/a-curvedimage\\\":81,\\\"./primitives/a-image\\\":82,\\\"./primitives/a-light\\\":83,\\\"./primitives/a-obj-model\\\":84,\\\"./primitives/a-sky\\\":85,\\\"./primitives/a-sound\\\":86,\\\"./primitives/a-video\\\":87,\\\"./primitives/a-videosphere\\\":88,\\\"./primitives/meshPrimitives\\\":89}],77:[function(_dereq_,module,exports){\\nvar AEntity=_dereq_(\\\"../../core/a-entity\\\"),components=_dereq_(\\\"../../core/component\\\").components,registerElement=_dereq_(\\\"../../core/a-register-element\\\").registerElement,utils=_dereq_(\\\"../../utils/\\\"),debug=utils.debug,setComponentProperty=utils.entity.setComponentProperty,log=debug(\\\"extras:primitives:debug\\\"),warn=debug(\\\"extras:primitives:warn\\\"),primitives=module.exports.primitives={};module.exports.registerPrimitive=function(e,t){e=e.toLowerCase(),log(\\\"Registering <%s>\\\",e),t.defaultAttributes&&warn(\\\"The 'defaultAttributes' object is deprecated. Use 'defaultComponents' instead.\\\");var i=registerElement(e,{prototype:Object.create(AEntity.prototype,{defaultComponentsFromPrimitive:{value:t.defaultComponents||t.defaultAttributes||{}},deprecated:{value:t.deprecated||null},deprecatedMappings:{value:t.deprecatedMappings||{}},mappings:{value:t.mappings||{}},createdCallback:{value:function(){t.deprecated&&console.warn(t.deprecated),this.resolveMappingCollisions()}},resolveMappingCollisions:{value:function(){var e=this.mappings,t=this;Object.keys(e).forEach(function(i){var r;components[i]&&(r=e[i].replace(\\\".\\\",\\\"-\\\"),e[r]=e[i],delete e[i],console.warn(\\\"The primitive \\\"+t.tagName.toLowerCase()+\\\" has a mapping collision. The attribute \\\"+i+\\\" has the same name as a registered component and has been renamed to \\\"+r))})}},getExtraComponents:{value:function(){var e,t,i,r,n,a,s=this;for(t=utils.clone(this.defaultComponentsFromPrimitive),n=this.getAttribute(\\\"mixin\\\"),n&&(n=n.trim().split(\\\" \\\"),n.forEach(function(e){var i=s.sceneEl.querySelector(\\\"#\\\"+e).componentCache;Object.keys(i).forEach(function(e){t[e]=utils.extendDeep(t[e]||{},i[e])})})),i=0;i<this.attributes.length;i++)e=this.attributes[i],r=this.mappings[e.name],r&&(a=utils.entity.getComponentPropertyPath(r),a.constructor===Array?t[a[0]][a[1]]=e.value:t[a]=e.value);return t}},attributeChangedCallback:{value:function(e,t,i){var r=this.mappings[e];e in this.deprecatedMappings&&console.warn(this.deprecatedMappings[e]),e&&r&&setComponentProperty(this,r,i)}}})});return primitives[e]=i,i};\\n},{\\\"../../core/a-entity\\\":59,\\\"../../core/a-register-element\\\":62,\\\"../../core/component\\\":63,\\\"../../utils/\\\":124}],78:[function(_dereq_,module,exports){\\nvar DEFAULT_CAMERA_HEIGHT=_dereq_(\\\"../../../constants/\\\").DEFAULT_CAMERA_HEIGHT,registerPrimitive=_dereq_(\\\"../primitives\\\").registerPrimitive;registerPrimitive(\\\"a-camera\\\",{defaultComponents:{camera:{userHeight:DEFAULT_CAMERA_HEIGHT},\\\"look-controls\\\":{},\\\"wasd-controls\\\":{}},mappings:{active:\\\"camera.active\\\",far:\\\"camera.far\\\",fov:\\\"camera.fov\\\",\\\"look-controls-enabled\\\":\\\"look-controls.enabled\\\",near:\\\"camera.near\\\",\\\"wasd-controls-enabled\\\":\\\"wasd-controls.enabled\\\",\\\"reverse-mouse-drag\\\":\\\"look-controls.reverseMouseDrag\\\",\\\"user-height\\\":\\\"camera.userHeight\\\",zoom:\\\"camera.zoom\\\"},deprecatedMappings:{\\\"cursor-color\\\":\\\"a-camera[cursor-color] has been removed. Use a-cursor[color] instead.\\\",\\\"cursor-maxdistance\\\":\\\"a-camera[cursor-maxdistance] has been removed. Use a-cursor[max-distance] instead.\\\",\\\"cursor-offset\\\":\\\"a-camera[cursor-offset] has been removed. Use a-cursor[position] instead.\\\",\\\"cursor-opacity\\\":\\\"a-camera[cursor-offset] has been removed. Use a-cursor[opacity] instead.\\\",\\\"cursor-scale\\\":\\\"a-camera[cursor-scale] has been removed. Use a-cursor[scale] instead.\\\",\\\"cursor-visible\\\":\\\"a-camera[cursor-visible] has been removed. Use a-cursor[visible] instead.\\\"}});\\n},{\\\"../../../constants/\\\":54,\\\"../primitives\\\":77}],79:[function(_dereq_,module,exports){\\nvar getMeshMixin=_dereq_(\\\"../getMeshMixin\\\"),registerPrimitive=_dereq_(\\\"../primitives\\\").registerPrimitive,utils=_dereq_(\\\"../../../utils/\\\");registerPrimitive(\\\"a-collada-model\\\",utils.extendDeep({},getMeshMixin(),{mappings:{src:\\\"collada-model\\\"}}));\\n},{\\\"../../../utils/\\\":124,\\\"../getMeshMixin\\\":75,\\\"../primitives\\\":77}],80:[function(_dereq_,module,exports){\\nvar getMeshMixin=_dereq_(\\\"../getMeshMixin\\\"),registerPrimitive=_dereq_(\\\"../primitives\\\").registerPrimitive,utils=_dereq_(\\\"../../../utils/\\\");registerPrimitive(\\\"a-cursor\\\",utils.extendDeep({},getMeshMixin(),{defaultComponents:{cursor:{},geometry:{primitive:\\\"ring\\\",radiusOuter:.016,radiusInner:.01,segmentsTheta:64},material:{color:\\\"#000\\\",shader:\\\"flat\\\",opacity:.8},position:{x:0,y:0,z:-1},raycaster:{far:1e3}},mappings:{far:\\\"raycaster.far\\\",fuse:\\\"cursor.fuse\\\",interval:\\\"raycaster.interval\\\",objects:\\\"raycaster.objects\\\",\\\"fuse-timeout\\\":\\\"cursor.fuseTimeout\\\"}}));\\n},{\\\"../../../utils/\\\":124,\\\"../getMeshMixin\\\":75,\\\"../primitives\\\":77}],81:[function(_dereq_,module,exports){\\nvar getMeshMixin=_dereq_(\\\"../getMeshMixin\\\"),registerPrimitive=_dereq_(\\\"../primitives\\\").registerPrimitive,utils=_dereq_(\\\"../../../utils/\\\");registerPrimitive(\\\"a-curvedimage\\\",utils.extendDeep({},getMeshMixin(),{defaultComponents:{geometry:{height:1,primitive:\\\"cylinder\\\",radius:2,segmentsRadial:48,thetaLength:270,openEnded:!0,thetaStart:0},material:{color:\\\"#FFF\\\",shader:\\\"flat\\\",side:\\\"double\\\",transparent:!0,repeat:\\\"-1 1\\\"}},mappings:{height:\\\"geometry.height\\\",\\\"open-ended\\\":\\\"geometry.openEnded\\\",radius:\\\"geometry.radius\\\",segments:\\\"geometry.segmentsRadial\\\",start:\\\"geometry.thetaStart\\\",\\\"theta-length\\\":\\\"geometry.thetaLength\\\",\\\"theta-start\\\":\\\"geometry.thetaStart\\\",width:\\\"geometry.thetaLength\\\"}}));\\n},{\\\"../../../utils/\\\":124,\\\"../getMeshMixin\\\":75,\\\"../primitives\\\":77}],82:[function(_dereq_,module,exports){\\nvar getMeshMixin=_dereq_(\\\"../getMeshMixin\\\"),registerPrimitive=_dereq_(\\\"../primitives\\\").registerPrimitive,utils=_dereq_(\\\"../../../utils/\\\");registerPrimitive(\\\"a-image\\\",utils.extendDeep({},getMeshMixin(),{defaultComponents:{geometry:{primitive:\\\"plane\\\"},material:{color:\\\"#FFF\\\",shader:\\\"flat\\\",side:\\\"double\\\",transparent:!0}},mappings:{height:\\\"geometry.height\\\",width:\\\"geometry.width\\\"}}));\\n},{\\\"../../../utils/\\\":124,\\\"../getMeshMixin\\\":75,\\\"../primitives\\\":77}],83:[function(_dereq_,module,exports){\\nvar registerPrimitive=_dereq_(\\\"../primitives\\\").registerPrimitive;registerPrimitive(\\\"a-light\\\",{defaultComponents:{light:{}},mappings:{angle:\\\"light.angle\\\",color:\\\"light.color\\\",\\\"ground-color\\\":\\\"light.groundColor\\\",decay:\\\"light.decay\\\",distance:\\\"light.distance\\\",intensity:\\\"light.intensity\\\",penumbra:\\\"light.penumbra\\\",type:\\\"light.type\\\",target:\\\"light.target\\\"}});\\n},{\\\"../primitives\\\":77}],84:[function(_dereq_,module,exports){\\nvar meshMixin=_dereq_(\\\"../getMeshMixin\\\")(),registerPrimitive=_dereq_(\\\"../primitives\\\").registerPrimitive,utils=_dereq_(\\\"../../../utils/\\\");registerPrimitive(\\\"a-obj-model\\\",utils.extendDeep({},meshMixin,{defaultComponents:{\\\"obj-model\\\":{}},mappings:{src:\\\"obj-model.obj\\\",mtl:\\\"obj-model.mtl\\\"}}));\\n},{\\\"../../../utils/\\\":124,\\\"../getMeshMixin\\\":75,\\\"../primitives\\\":77}],85:[function(_dereq_,module,exports){\\nvar getMeshMixin=_dereq_(\\\"../getMeshMixin\\\"),registerPrimitive=_dereq_(\\\"../primitives\\\").registerPrimitive,utils=_dereq_(\\\"../../../utils/\\\"),meshPrimitives=_dereq_(\\\"./meshPrimitives\\\");registerPrimitive(\\\"a-sky\\\",utils.extendDeep({},getMeshMixin(),{defaultComponents:{geometry:{primitive:\\\"sphere\\\",radius:5e3,segmentsWidth:64,segmentsHeight:20},material:{color:\\\"#FFF\\\",shader:\\\"flat\\\"},scale:\\\"-1 1 1\\\"},mappings:utils.extendDeep({},meshPrimitives[\\\"a-sphere\\\"].prototype.mappings)}));\\n},{\\\"../../../utils/\\\":124,\\\"../getMeshMixin\\\":75,\\\"../primitives\\\":77,\\\"./meshPrimitives\\\":89}],86:[function(_dereq_,module,exports){\\nvar registerPrimitive=_dereq_(\\\"../primitives\\\").registerPrimitive;registerPrimitive(\\\"a-sound\\\",{defaultComponents:{sound:{}},mappings:{src:\\\"sound.src\\\",on:\\\"sound.on\\\",autoplay:\\\"sound.autoplay\\\",loop:\\\"sound.loop\\\",volume:\\\"sound.volume\\\"}});\\n},{\\\"../primitives\\\":77}],87:[function(_dereq_,module,exports){\\nvar getMeshMixin=_dereq_(\\\"../getMeshMixin\\\"),registerPrimitive=_dereq_(\\\"../primitives\\\").registerPrimitive,utils=_dereq_(\\\"../../../utils/\\\");registerPrimitive(\\\"a-video\\\",utils.extendDeep({},getMeshMixin(),{defaultComponents:{geometry:{primitive:\\\"plane\\\"},material:{color:\\\"#FFF\\\",shader:\\\"flat\\\",side:\\\"double\\\",transparent:!0}},mappings:{height:\\\"geometry.height\\\",width:\\\"geometry.width\\\"}}));\\n},{\\\"../../../utils/\\\":124,\\\"../getMeshMixin\\\":75,\\\"../primitives\\\":77}],88:[function(_dereq_,module,exports){\\nvar getMeshMixin=_dereq_(\\\"../getMeshMixin\\\"),registerPrimitive=_dereq_(\\\"../primitives\\\").registerPrimitive,utils=_dereq_(\\\"../../../utils/\\\");registerPrimitive(\\\"a-videosphere\\\",utils.extendDeep({},getMeshMixin(),{defaultComponents:{geometry:{primitive:\\\"sphere\\\",radius:5e3,segmentsWidth:64,segmentsHeight:20},material:{color:\\\"#FFF\\\",shader:\\\"flat\\\"},scale:\\\"-1 1 1\\\"},mappings:{radius:\\\"geometry.radius\\\",\\\"segments-height\\\":\\\"geometry.segmentsHeight\\\",\\\"segments-width\\\":\\\"geometry.segmentsWidth\\\"}}));\\n},{\\\"../../../utils/\\\":124,\\\"../getMeshMixin\\\":75,\\\"../primitives\\\":77}],89:[function(_dereq_,module,exports){\\nfunction unCamelCase(e){return e.replace(/([a-z])([A-Z])/g,\\\"$1-$2\\\").toLowerCase()}var getMeshMixin=_dereq_(\\\"../getMeshMixin\\\"),geometries=_dereq_(\\\"../../../core/geometry\\\").geometries,geometryNames=_dereq_(\\\"../../../core/geometry\\\").geometryNames,registerPrimitive=_dereq_(\\\"../primitives\\\").registerPrimitive,utils=_dereq_(\\\"../../../utils/\\\"),meshPrimitives=module.exports={};geometryNames.forEach(function(e){var i=geometries[e],r=unCamelCase(e),t={};Object.keys(i.schema).forEach(function(e){t[unCamelCase(e)]=\\\"geometry.\\\"+e});var m=\\\"a-\\\"+r,s=registerPrimitive(m,utils.extendDeep({},getMeshMixin(),{defaultComponents:{geometry:{primitive:e}},mappings:t}));meshPrimitives[m]=s});\\n},{\\\"../../../core/geometry\\\":64,\\\"../../../utils/\\\":124,\\\"../getMeshMixin\\\":75,\\\"../primitives\\\":77}],90:[function(_dereq_,module,exports){\\nvar registerGeometry=_dereq_(\\\"../core/geometry\\\").registerGeometry,THREE=_dereq_(\\\"../lib/three\\\");registerGeometry(\\\"box\\\",{schema:{depth:{default:1,min:0},height:{default:1,min:0},width:{default:1,min:0},segmentsHeight:{default:1,min:1,max:20,type:\\\"int\\\"},segmentsWidth:{default:1,min:1,max:20,type:\\\"int\\\"},segmentsDepth:{default:1,min:1,max:20,type:\\\"int\\\"}},init:function(e){this.geometry=new THREE.BoxGeometry(e.width,e.height,e.depth)}});\\n},{\\\"../core/geometry\\\":64,\\\"../lib/three\\\":106}],91:[function(_dereq_,module,exports){\\nvar registerGeometry=_dereq_(\\\"../core/geometry\\\").registerGeometry,THREE=_dereq_(\\\"../lib/three\\\"),degToRad=THREE.Math.degToRad;registerGeometry(\\\"circle\\\",{schema:{radius:{default:1,min:0},segments:{default:32,min:3,type:\\\"int\\\"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(e){this.geometry=new THREE.CircleGeometry(e.radius,e.segments,degToRad(e.thetaStart),degToRad(e.thetaLength))}});\\n},{\\\"../core/geometry\\\":64,\\\"../lib/three\\\":106}],92:[function(_dereq_,module,exports){\\nvar registerGeometry=_dereq_(\\\"../core/geometry\\\").registerGeometry,THREE=_dereq_(\\\"../lib/three\\\"),degToRad=THREE.Math.degToRad;registerGeometry(\\\"cone\\\",{schema:{height:{default:1,min:0},openEnded:{default:!1},radiusBottom:{default:1,min:0},radiusTop:{default:.8,min:0},segmentsHeight:{default:18,min:1,type:\\\"int\\\"},segmentsRadial:{default:36,min:3,type:\\\"int\\\"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(e){this.geometry=new THREE.CylinderGeometry(e.radiusTop,e.radiusBottom,e.height,e.segmentsRadial,e.segmentsHeight,e.openEnded,degToRad(e.thetaStart),degToRad(e.thetaLength))}});\\n},{\\\"../core/geometry\\\":64,\\\"../lib/three\\\":106}],93:[function(_dereq_,module,exports){\\nvar registerGeometry=_dereq_(\\\"../core/geometry\\\").registerGeometry,THREE=_dereq_(\\\"../lib/three\\\"),degToRad=THREE.Math.degToRad;registerGeometry(\\\"cylinder\\\",{schema:{height:{default:1,min:0},openEnded:{default:!1},radius:{default:1,min:0},segmentsHeight:{default:18,min:1,type:\\\"int\\\"},segmentsRadial:{default:36,min:3,type:\\\"int\\\"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(e){this.geometry=new THREE.CylinderGeometry(e.radius,e.radius,e.height,e.segmentsRadial,e.segmentsHeight,e.openEnded,degToRad(e.thetaStart),degToRad(e.thetaLength))}});\\n},{\\\"../core/geometry\\\":64,\\\"../lib/three\\\":106}],94:[function(_dereq_,module,exports){\\nvar registerGeometry=_dereq_(\\\"../core/geometry\\\").registerGeometry,THREE=_dereq_(\\\"../lib/three\\\");registerGeometry(\\\"dodecahedron\\\",{schema:{detail:{default:0,min:0,max:5,type:\\\"int\\\"},radius:{default:1,min:0}},init:function(e){this.geometry=new THREE.DodecahedronGeometry(e.radius,e.detail)}});\\n},{\\\"../core/geometry\\\":64,\\\"../lib/three\\\":106}],95:[function(_dereq_,module,exports){\\nvar registerGeometry=_dereq_(\\\"../core/geometry\\\").registerGeometry,THREE=_dereq_(\\\"../lib/three\\\");registerGeometry(\\\"icosahedron\\\",{schema:{detail:{default:0,min:0,max:5,type:\\\"int\\\"},radius:{default:1,min:0}},init:function(e){this.geometry=new THREE.IcosahedronGeometry(e.radius,e.detail)}});\\n},{\\\"../core/geometry\\\":64,\\\"../lib/three\\\":106}],96:[function(_dereq_,module,exports){\\n_dereq_(\\\"./box.js\\\"),_dereq_(\\\"./circle.js\\\"),_dereq_(\\\"./cone.js\\\"),_dereq_(\\\"./cylinder.js\\\"),_dereq_(\\\"./dodecahedron.js\\\"),_dereq_(\\\"./icosahedron.js\\\"),_dereq_(\\\"./octahedron.js\\\"),_dereq_(\\\"./plane.js\\\"),_dereq_(\\\"./ring.js\\\"),_dereq_(\\\"./sphere.js\\\"),_dereq_(\\\"./tetrahedron.js\\\"),_dereq_(\\\"./torus.js\\\"),_dereq_(\\\"./torusKnot.js\\\");\\n},{\\\"./box.js\\\":90,\\\"./circle.js\\\":91,\\\"./cone.js\\\":92,\\\"./cylinder.js\\\":93,\\\"./dodecahedron.js\\\":94,\\\"./icosahedron.js\\\":95,\\\"./octahedron.js\\\":97,\\\"./plane.js\\\":98,\\\"./ring.js\\\":99,\\\"./sphere.js\\\":100,\\\"./tetrahedron.js\\\":101,\\\"./torus.js\\\":102,\\\"./torusKnot.js\\\":103}],97:[function(_dereq_,module,exports){\\nvar registerGeometry=_dereq_(\\\"../core/geometry\\\").registerGeometry,THREE=_dereq_(\\\"../lib/three\\\");registerGeometry(\\\"octahedron\\\",{schema:{detail:{default:0,min:0,max:5,type:\\\"int\\\"},radius:{default:1,min:0}},init:function(e){this.geometry=new THREE.OctahedronGeometry(e.radius,e.detail)}});\\n},{\\\"../core/geometry\\\":64,\\\"../lib/three\\\":106}],98:[function(_dereq_,module,exports){\\nvar registerGeometry=_dereq_(\\\"../core/geometry\\\").registerGeometry,THREE=_dereq_(\\\"../lib/three\\\");registerGeometry(\\\"plane\\\",{schema:{height:{default:1,min:0},width:{default:1,min:0},segmentsHeight:{default:1,min:1,max:20,type:\\\"int\\\"},segmentsWidth:{default:1,min:1,max:20,type:\\\"int\\\"}},init:function(e){this.geometry=new THREE.PlaneGeometry(e.width,e.height)}});\\n},{\\\"../core/geometry\\\":64,\\\"../lib/three\\\":106}],99:[function(_dereq_,module,exports){\\nvar registerGeometry=_dereq_(\\\"../core/geometry\\\").registerGeometry,THREE=_dereq_(\\\"../lib/three\\\"),degToRad=THREE.Math.degToRad;registerGeometry(\\\"ring\\\",{schema:{radiusInner:{default:.8,min:0},radiusOuter:{default:1.2,min:0},segmentsPhi:{default:10,min:1,type:\\\"int\\\"},segmentsTheta:{default:32,min:3,type:\\\"int\\\"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(e){this.geometry=new THREE.RingGeometry(e.radiusInner,e.radiusOuter,e.segmentsTheta,e.segmentsPhi,degToRad(e.thetaStart),degToRad(e.thetaLength))}});\\n},{\\\"../core/geometry\\\":64,\\\"../lib/three\\\":106}],100:[function(_dereq_,module,exports){\\nvar registerGeometry=_dereq_(\\\"../core/geometry\\\").registerGeometry,THREE=_dereq_(\\\"../lib/three\\\"),degToRad=THREE.Math.degToRad;registerGeometry(\\\"sphere\\\",{schema:{radius:{default:1,min:0},phiLength:{default:360},phiStart:{default:0,min:0},thetaLength:{default:180,min:0},thetaStart:{default:0},segmentsHeight:{default:18,min:2,type:\\\"int\\\"},segmentsWidth:{default:36,min:3,type:\\\"int\\\"}},init:function(e){this.geometry=new THREE.SphereGeometry(e.radius,e.segmentsWidth,e.segmentsHeight,degToRad(e.phiStart),degToRad(e.phiLength),degToRad(e.thetaStart),degToRad(e.thetaLength))}});\\n},{\\\"../core/geometry\\\":64,\\\"../lib/three\\\":106}],101:[function(_dereq_,module,exports){\\nvar registerGeometry=_dereq_(\\\"../core/geometry\\\").registerGeometry,THREE=_dereq_(\\\"../lib/three\\\");registerGeometry(\\\"tetrahedron\\\",{schema:{detail:{default:0,min:0,max:5,type:\\\"int\\\"},radius:{default:1,min:0}},init:function(e){this.geometry=new THREE.TetrahedronGeometry(e.radius,e.detail)}});\\n},{\\\"../core/geometry\\\":64,\\\"../lib/three\\\":106}],102:[function(_dereq_,module,exports){\\nvar registerGeometry=_dereq_(\\\"../core/geometry\\\").registerGeometry,THREE=_dereq_(\\\"../lib/three\\\"),degToRad=THREE.Math.degToRad;registerGeometry(\\\"torus\\\",{schema:{arc:{default:360},radius:{default:1,min:0},radiusTubular:{default:.2,min:0},segmentsRadial:{default:36,min:2,type:\\\"int\\\"},segmentsTubular:{default:32,min:3,type:\\\"int\\\"}},init:function(e){this.geometry=new THREE.TorusGeometry(e.radius,2*e.radiusTubular,e.segmentsRadial,e.segmentsTubular,degToRad(e.arc))}});\\n},{\\\"../core/geometry\\\":64,\\\"../lib/three\\\":106}],103:[function(_dereq_,module,exports){\\nvar registerGeometry=_dereq_(\\\"../core/geometry\\\").registerGeometry,THREE=_dereq_(\\\"../lib/three\\\");registerGeometry(\\\"torusKnot\\\",{schema:{p:{default:2,min:1},q:{default:3,min:1},radius:{default:1,min:0},radiusTubular:{default:.2,min:0},segmentsRadial:{default:8,min:3,type:\\\"int\\\"},segmentsTubular:{default:100,min:3,type:\\\"int\\\"}},init:function(e){this.geometry=new THREE.TorusKnotGeometry(e.radius,2*e.radiusTubular,e.segmentsTubular,e.segmentsRadial,e.p,e.q)}});\\n},{\\\"../core/geometry\\\":64,\\\"../lib/three\\\":106}],104:[function(_dereq_,module,exports){\\nvar debug=_dereq_(\\\"./utils/debug\\\"),error=debug(\\\"A-Frame:warn\\\"),info=debug(\\\"A-Frame:info\\\");document.currentScript&&document.currentScript.parentNode!==document.head&&(error(\\\"Put the A-Frame <script> tag in the <head> of the HTML before <a-scene> to ensure everything for A-Frame is properly registered before they are used in the <body>.\\\"),info(\\\"Also make sure that any component <script> tags are included after A-Frame, but still before <a-scene>.\\\")),window.Promise=window.Promise||_dereq_(\\\"promise-polyfill\\\"),window.hasNativeWebVRImplementation=!!navigator.getVRDisplays||!!navigator.getVRDevices,window.WebVRConfig=window.WebVRConfig||{BUFFER_SCALE:1,CARDBOARD_UI_DISABLED:!0,ROTATE_INSTRUCTIONS_DISABLED:!0,TOUCH_PANNER_DISABLED:!0,MOUSE_KEYBOARD_CONTROLS_DISABLED:!0},/(iphone|ipod|ipad).*os.*(7|8|9)/i.test(navigator.userAgent)&&(window.WebVRConfig.BUFFER_SCALE=1/window.devicePixelRatio),_dereq_(\\\"webvr-polyfill\\\"),_dereq_(\\\"present\\\"),_dereq_(\\\"./style/aframe.css\\\"),_dereq_(\\\"./style/rStats.css\\\");var AScene=_dereq_(\\\"./core/scene/a-scene\\\"),components=_dereq_(\\\"./core/component\\\").components,registerComponent=_dereq_(\\\"./core/component\\\").registerComponent,registerGeometry=_dereq_(\\\"./core/geometry\\\").registerGeometry,registerPrimitive=_dereq_(\\\"./extras/primitives/primitives\\\").registerPrimitive,registerShader=_dereq_(\\\"./core/shader\\\").registerShader,registerSystem=_dereq_(\\\"./core/system\\\").registerSystem,shaders=_dereq_(\\\"./core/shader\\\").shaders,systems=_dereq_(\\\"./core/system\\\").systems,THREE=window.THREE=_dereq_(\\\"./lib/three\\\"),TWEEN=window.TWEEN=_dereq_(\\\"tween.js\\\"),pkg=_dereq_(\\\"../package\\\"),utils=_dereq_(\\\"./utils/\\\");_dereq_(\\\"./components/index\\\"),_dereq_(\\\"./geometries/index\\\"),_dereq_(\\\"./shaders/index\\\"),_dereq_(\\\"./systems/index\\\");var ANode=_dereq_(\\\"./core/a-node\\\"),AEntity=_dereq_(\\\"./core/a-entity\\\");_dereq_(\\\"./core/a-animation\\\"),_dereq_(\\\"./core/a-assets\\\"),_dereq_(\\\"./core/a-cubemap\\\"),_dereq_(\\\"./core/a-mixin\\\"),_dereq_(\\\"./extras/components/\\\"),_dereq_(\\\"./extras/primitives/\\\"),console.log(\\\"A-Frame Version:\\\",pkg.version),console.log(\\\"three Version:\\\",pkg.dependencies.three),console.log(\\\"WebVR Polyfill Version:\\\",pkg.dependencies[\\\"webvr-polyfill\\\"]),module.exports=window.AFRAME={AComponent:_dereq_(\\\"./core/component\\\").Component,AEntity:AEntity,ANode:ANode,AScene:AScene,components:components,geometries:_dereq_(\\\"./core/geometry\\\").geometries,registerComponent:registerComponent,registerElement:_dereq_(\\\"./core/a-register-element\\\").registerElement,registerGeometry:registerGeometry,registerPrimitive:registerPrimitive,registerShader:registerShader,registerSystem:registerSystem,primitives:{getMeshMixin:_dereq_(\\\"./extras/primitives/getMeshMixin\\\"),primitives:_dereq_(\\\"./extras/primitives/primitives\\\").primitives},schema:_dereq_(\\\"./core/schema\\\"),shaders:shaders,systems:systems,THREE:THREE,TWEEN:TWEEN,utils:utils,version:pkg.version};\\n},{\\\"../package\\\":20,\\\"./components/index\\\":27,\\\"./core/a-animation\\\":56,\\\"./core/a-assets\\\":57,\\\"./core/a-cubemap\\\":58,\\\"./core/a-entity\\\":59,\\\"./core/a-mixin\\\":60,\\\"./core/a-node\\\":61,\\\"./core/a-register-element\\\":62,\\\"./core/component\\\":63,\\\"./core/geometry\\\":64,\\\"./core/scene/a-scene\\\":66,\\\"./core/schema\\\":70,\\\"./core/shader\\\":71,\\\"./core/system\\\":72,\\\"./extras/components/\\\":73,\\\"./extras/primitives/\\\":76,\\\"./extras/primitives/getMeshMixin\\\":75,\\\"./extras/primitives/primitives\\\":77,\\\"./geometries/index\\\":96,\\\"./lib/three\\\":106,\\\"./shaders/index\\\":108,\\\"./style/aframe.css\\\":110,\\\"./style/rStats.css\\\":111,\\\"./systems/index\\\":114,\\\"./utils/\\\":124,\\\"./utils/debug\\\":120,\\\"present\\\":10,\\\"promise-polyfill\\\":11,\\\"tween.js\\\":18,\\\"webvr-polyfill\\\":19}],105:[function(_dereq_,module,exports){\\nwindow.aframeStats=function(t){function e(){i(\\\"te\\\").set(n()),window.performance.getEntriesByName&&i(\\\"lt\\\").set(window.performance.getEntriesByName(\\\"render-started\\\")[0].startTime.toFixed(0))}function n(){var t=c.querySelectorAll(\\\"*\\\");return Array.prototype.slice.call(t).filter(function(t){return t.isEntity}),t.length}function r(){}function a(){}function o(t){i=t}var i=null,c=t,s={te:{caption:\\\"Entities\\\"},lt:{caption:\\\"Load Time\\\"}},u=[{caption:\\\"A-Frame\\\",values:[\\\"te\\\",\\\"lt\\\"]}];return{update:e,start:r,end:a,attach:o,values:s,groups:u,fractions:[]}},\\\"object\\\"==typeof module&&(module.exports={aframeStats:window.aframeStats});\\n},{}],106:[function(_dereq_,module,exports){\\n(function (global){\\nvar THREE=global.THREE=_dereq_(\\\"three\\\");THREE.TextureLoader&&(THREE.TextureLoader.prototype.crossOrigin=\\\"anonymous\\\"),THREE.ImageLoader&&(THREE.ImageLoader.prototype.crossOrigin=\\\"anonymous\\\"),THREE.Cache&&(THREE.Cache.enabled=!0),_dereq_(\\\"three/examples/js/loaders/OBJLoader\\\"),_dereq_(\\\"three/examples/js/loaders/MTLLoader\\\"),_dereq_(\\\"three/examples/js/BlendCharacter\\\"),_dereq_(\\\"three/examples/js/loaders/ColladaLoader\\\"),_dereq_(\\\"../../vendor/VRControls\\\"),_dereq_(\\\"../../vendor/VREffect\\\"),THREE.ColladaLoader.prototype.crossOrigin=\\\"anonymous\\\",THREE.MTLLoader.prototype.crossOrigin=\\\"anonymous\\\",THREE.OBJLoader.prototype.crossOrigin=\\\"anonymous\\\",module.exports=THREE;\\n}).call(this,typeof global !== \\\"undefined\\\" ? global : typeof self !== \\\"undefined\\\" ? self : typeof window !== \\\"undefined\\\" ? window : {})\\n\\n},{\\\"../../vendor/VRControls\\\":129,\\\"../../vendor/VREffect\\\":130,\\\"three\\\":13,\\\"three/examples/js/BlendCharacter\\\":14,\\\"three/examples/js/loaders/ColladaLoader\\\":15,\\\"three/examples/js/loaders/MTLLoader\\\":16,\\\"three/examples/js/loaders/OBJLoader\\\":17}],107:[function(_dereq_,module,exports){\\nfunction getMaterialData(e){return{fog:e.fog,color:new THREE.Color(e.color),wireframe:e.wireframe,wireframeLinewidth:e.wireframeLinewidth}}var registerShader=_dereq_(\\\"../core/shader\\\").registerShader,THREE=_dereq_(\\\"../lib/three\\\"),utils=_dereq_(\\\"../utils/\\\");module.exports.Shader=registerShader(\\\"flat\\\",{schema:{color:{type:\\\"color\\\"},fog:{default:!0},height:{default:256},offset:{type:\\\"vec2\\\",default:{x:1,y:1}},repeat:{type:\\\"vec2\\\",default:{x:1,y:1}},src:{type:\\\"map\\\"},width:{default:512},wireframe:{default:!1},wireframeLinewidth:{default:2}},init:function(e){this.textureSrc=null,this.material=new THREE.MeshBasicMaterial(getMaterialData(e)),utils.material.updateMap(this,e)},update:function(e){this.updateMaterial(e),utils.material.updateMap(this,e)},updateMaterial:function(e){var t=this.material;e=getMaterialData(e),Object.keys(e).forEach(function(a){t[a]=e[a]})}});\\n},{\\\"../core/shader\\\":71,\\\"../lib/three\\\":106,\\\"../utils/\\\":124}],108:[function(_dereq_,module,exports){\\n_dereq_(\\\"./flat\\\"),_dereq_(\\\"./standard\\\");\\n},{\\\"./flat\\\":107,\\\"./standard\\\":109}],109:[function(_dereq_,module,exports){\\nfunction getMaterialData(e){var a={color:new THREE.Color(e.color),fog:e.fog,metalness:e.metalness,roughness:e.roughness,wireframe:e.wireframe,wireframeLinewidth:e.wireframeLinewidth};return e.normalMap&&(a.normalScale=e.normalScale),e.ambientOcclusionMap&&(a.aoMapIntensity=e.ambientOcclusionMapIntensity),e.displacementMap&&(a.displacementScale=e.displacementScale,a.displacementBias=e.displacementBias),a}var registerShader=_dereq_(\\\"../core/shader\\\").registerShader,THREE=_dereq_(\\\"../lib/three\\\"),utils=_dereq_(\\\"../utils/\\\"),CubeLoader=new THREE.CubeTextureLoader,texturePromises={};module.exports.Shader=registerShader(\\\"standard\\\",{schema:{ambientOcclusionMap:{type:\\\"map\\\"},ambientOcclusionMapIntensity:{default:1},ambientOcclusionTextureOffset:{type:\\\"vec2\\\"},ambientOcclusionTextureRepeat:{type:\\\"vec2\\\",default:{x:1,y:1}},color:{type:\\\"color\\\"},displacementMap:{type:\\\"map\\\"},displacementScale:{default:1},displacementBias:{default:.5},displacementTextureOffset:{type:\\\"vec2\\\"},displacementTextureRepeat:{type:\\\"vec2\\\",default:{x:1,y:1}},envMap:{default:\\\"\\\"},fog:{default:!0},height:{default:256},metalness:{default:0,min:0,max:1},normalMap:{type:\\\"map\\\"},normalScale:{type:\\\"vec2\\\",default:\\\"1 1\\\"},normalTextureOffset:{type:\\\"vec2\\\"},normalTextureRepeat:{type:\\\"vec2\\\",default:{x:1,y:1}},offset:{type:\\\"vec2\\\",default:{x:1,y:1}},repeat:{type:\\\"vec2\\\",default:{x:1,y:1}},roughness:{default:.5,min:0,max:1},sphericalEnvMap:{type:\\\"map\\\"},src:{type:\\\"map\\\"},width:{default:512},wireframe:{default:!1},wireframeLinewidth:{default:2}},init:function(e){this.material=new THREE.MeshStandardMaterial(getMaterialData(e)),utils.material.updateMap(this,e),e.normalMap&&utils.material.updateDistortionMap(\\\"normal\\\",this,e),e.displacementMap&&utils.material.updateDistortionMap(\\\"displacement\\\",this,e),e.ambientOcclusionMap&&utils.material.updateDistortionMap(\\\"ambientOcclusion\\\",this,e),this.updateEnvMap(e)},update:function(e){this.updateMaterial(e),utils.material.updateMap(this,e),e.normalMap&&utils.material.updateDistortionMap(\\\"normal\\\",this,e),e.displacementMap&&utils.material.updateDistortionMap(\\\"displacement\\\",this,e),e.ambientOcclusionMap&&utils.material.updateDistortionMap(\\\"ambientOcclusion\\\",this,e),this.updateEnvMap(e)},updateMaterial:function(e){var a=this.material;e=getMaterialData(e),Object.keys(e).forEach(function(t){a[t]=e[t]})},updateEnvMap:function(e){var a=this,t=this.material,i=e.envMap,n=e.sphericalEnvMap;return!i&&!n||this.isLoadingEnvMap?(t.envMap=null,void(t.needsUpdate=!0)):(this.isLoadingEnvMap=!0,n?void this.el.sceneEl.systems.material.loadTexture(n,{src:n},function(e){a.isLoadingEnvMap=!1,e.mapping=THREE.SphericalReflectionMapping,t.envMap=e,utils.material.handleTextureEvents(a.el,e),t.needsUpdate=!0}):texturePromises[i]?void texturePromises[i].then(function(e){a.isLoadingEnvMap=!1,t.envMap=e,utils.material.handleTextureEvents(a.el,e),t.needsUpdate=!0}):void(texturePromises[i]=new Promise(function(e){utils.srcLoader.validateCubemapSrc(i,function(i){CubeLoader.load(i,function(i){a.isLoadingEnvMap=!1,t.envMap=i,utils.material.handleTextureEvents(a.el,i),e(i)})})})))}});\\n},{\\\"../core/shader\\\":71,\\\"../lib/three\\\":106,\\\"../utils/\\\":124}],110:[function(_dereq_,module,exports){\\nvar css = \\\".a-html{bottom:0;left:0;position:fixed;right:0;top:0}.a-body{height:100%;margin:0;overflow:hidden;padding:0;width:100%}:-webkit-full-screen{background-color:transparent}.a-hidden{display:none!important}.a-canvas{height:100%;left:0;position:absolute;top:0;width:100%}.a-canvas.a-grab-cursor:hover{cursor:grab;cursor:-moz-grabbing;cursor:-webkit-grab}.a-canvas.a-grab-cursor:active,.a-grabbing{cursor:grabbing;cursor:-moz-grabbing;cursor:-webkit-grabbing}// Class is removed when doing <a-scene embedded>. .a-canvas.fullscreen{width:100%!important;height:100%!important;top:0!important;left:0!important;right:0!important;bottom:0!important;z-index:999999!important;position:fixed!important}.a-inspector-loader{background-color:#ed3160;position:fixed;left:3px;top:3px;padding:6px 10px;color:#fff;text-decoration:none;font-size:12px;font-family:Roboto,sans-serif;text-align:center;z-index:99999;width:174px}@keyframes dots-1{from{opacity:0}25%{opacity:1}}@keyframes dots-2{from{opacity:0}50%{opacity:1}}@keyframes dots-3{from{opacity:0}75%{opacity:1}}@-webkit-keyframes dots-1{from{opacity:0}25%{opacity:1}}@-webkit-keyframes dots-2{from{opacity:0}50%{opacity:1}}@-webkit-keyframes dots-3{from{opacity:0}75%{opacity:1}}.a-inspector-loader .dots span{animation:dots-1 2s infinite steps(1);-webkit-animation:dots-1 2s infinite steps(1)}.a-inspector-loader .dots span:first-child+span{animation-name:dots-2;-webkit-animation-name:dots-2}.a-inspector-loader .dots span:first-child+span+span{animation-name:dots-3;-webkit-animation-name:dots-3}a-scene{display:block;position:relative;height:100%;width:100%}a-assets,a-scene audio,a-scene img,a-scene video{display:none}.a-enter-vr-modal,.a-orientation-modal{font-family:Consolas,Andale Mono,Courier New,monospace}.a-enter-vr-modal a{border-bottom:1px solid #fff;padding:2px 0;text-decoration:none;transition:.1s color ease-in}.a-enter-vr-modal a:hover{background-color:#fff;color:#111;padding:2px 4px;position:relative;left:-4px}.a-enter-vr{font-family:sans-serif,monospace;font-size:13px;width:100%;font-weight:200;line-height:16px;height:10%;position:absolute;right:20px;bottom:20px}.a-enter-vr.embedded{right:5px;bottom:5px}.a-enter-vr-button,.a-enter-vr-modal,.a-enter-vr-modal a{color:#fff}.a-enter-vr-button{background:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20245.82%20141.73%22%3E%3Cdefs%3E%3Cstyle%3E.a%7Bfill%3A%23fff%3Bfill-rule%3Aevenodd%3B%7D%3C%2Fstyle%3E%3C%2Fdefs%3E%3Ctitle%3Emask%3C%2Ftitle%3E%3Cpath%20class%3D%22a%22%20d%3D%22M175.56%2C111.37c-22.52%2C0-40.77-18.84-40.77-42.07S153%2C27.24%2C175.56%2C27.24s40.77%2C18.84%2C40.77%2C42.07S198.08%2C111.37%2C175.56%2C111.37ZM26.84%2C69.31c0-23.23%2C18.25-42.07%2C40.77-42.07s40.77%2C18.84%2C40.77%2C42.07-18.26%2C42.07-40.77%2C42.07S26.84%2C92.54%2C26.84%2C69.31ZM27.27%2C0C11.54%2C0%2C0%2C12.34%2C0%2C28.58V110.9c0%2C16.24%2C11.54%2C30.83%2C27.27%2C30.83H99.57c2.17%2C0%2C4.19-1.83%2C5.4-3.7L116.47%2C118a8%2C8%2C0%2C0%2C1%2C12.52-.18l11.51%2C20.34c1.2%2C1.86%2C3.22%2C3.61%2C5.39%2C3.61h72.29c15.74%2C0%2C27.63-14.6%2C27.63-30.83V28.58C245.82%2C12.34%2C233.93%2C0%2C218.19%2C0H27.27Z%22%2F%3E%3C%2Fsvg%3E) 50% 50%/70% 70% no-repeat rgba(0,0,0,.35);border:0;bottom:0;cursor:pointer;min-width:50px;min-height:30px;padding-right:5%;padding-top:4%;position:absolute;right:0;transition:background-color .05s ease;-webkit-transition:background-color .05s ease;z-index:9999}.a-enter-vr-button:active,.a-enter-vr-button:hover{background-color:#666}[data-a-enter-vr-no-webvr] .a-enter-vr-button{border-color:#666;opacity:.65}[data-a-enter-vr-no-webvr] .a-enter-vr-button:active,[data-a-enter-vr-no-webvr] .a-enter-vr-button:hover{background-color:rgba(0,0,0,.35);cursor:not-allowed}.a-enter-vr-modal{background-color:#666;border-radius:0;display:none;min-height:32px;margin-right:70px;padding:9px;width:280px;right:2%;position:absolute}.a-enter-vr-modal:after{border-bottom:10px solid transparent;border-left:10px solid #666;border-top:10px solid transparent;display:inline-block;content:'';position:absolute;right:-5px;top:5px;width:0;height:0}.a-enter-vr-modal a,.a-enter-vr-modal p{display:inline}.a-enter-vr-modal p{margin:0}.a-enter-vr-modal p:after{content:' '}[data-a-enter-vr-no-headset].a-enter-vr:hover .a-enter-vr-modal,[data-a-enter-vr-no-webvr].a-enter-vr:hover .a-enter-vr-modal{display:block}.a-orientation-modal{background:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2090%2090%22%20enable-background%3D%22new%200%200%2090%2090%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpolygon%20points%3D%220%2C0%200%2C0%200%2C0%20%22%3E%3C/polygon%3E%3Cg%3E%3Cpath%20d%3D%22M71.545%2C48.145h-31.98V20.743c0-2.627-2.138-4.765-4.765-4.765H18.456c-2.628%2C0-4.767%2C2.138-4.767%2C4.765v42.789%20%20%20c0%2C2.628%2C2.138%2C4.766%2C4.767%2C4.766h5.535v0.959c0%2C2.628%2C2.138%2C4.765%2C4.766%2C4.765h42.788c2.628%2C0%2C4.766-2.137%2C4.766-4.765V52.914%20%20%20C76.311%2C50.284%2C74.173%2C48.145%2C71.545%2C48.145z%20M18.455%2C16.935h16.344c2.1%2C0%2C3.808%2C1.708%2C3.808%2C3.808v27.401H37.25V22.636%20%20%20c0-0.264-0.215-0.478-0.479-0.478H16.482c-0.264%2C0-0.479%2C0.214-0.479%2C0.478v36.585c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h7.507v7.644%20%20%20h-5.534c-2.101%2C0-3.81-1.709-3.81-3.81V20.743C14.645%2C18.643%2C16.354%2C16.935%2C18.455%2C16.935z%20M16.96%2C23.116h19.331v25.031h-7.535%20%20%20c-2.628%2C0-4.766%2C2.139-4.766%2C4.768v5.828h-7.03V23.116z%20M71.545%2C73.064H28.757c-2.101%2C0-3.81-1.708-3.81-3.808V52.914%20%20%20c0-2.102%2C1.709-3.812%2C3.81-3.812h42.788c2.1%2C0%2C3.809%2C1.71%2C3.809%2C3.812v16.343C75.354%2C71.356%2C73.645%2C73.064%2C71.545%2C73.064z%22%3E%3C/path%3E%3Cpath%20d%3D%22M28.919%2C58.424c-1.466%2C0-2.659%2C1.193-2.659%2C2.66c0%2C1.466%2C1.193%2C2.658%2C2.659%2C2.658c1.468%2C0%2C2.662-1.192%2C2.662-2.658%20%20%20C31.581%2C59.617%2C30.387%2C58.424%2C28.919%2C58.424z%20M28.919%2C62.786c-0.939%2C0-1.703-0.764-1.703-1.702c0-0.939%2C0.764-1.704%2C1.703-1.704%20%20%20c0.94%2C0%2C1.705%2C0.765%2C1.705%2C1.704C30.623%2C62.022%2C29.858%2C62.786%2C28.919%2C62.786z%22%3E%3C/path%3E%3Cpath%20d%3D%22M69.654%2C50.461H33.069c-0.264%2C0-0.479%2C0.215-0.479%2C0.479v20.288c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h36.585%20%20%20c0.263%2C0%2C0.477-0.214%2C0.477-0.478V50.939C70.131%2C50.676%2C69.917%2C50.461%2C69.654%2C50.461z%20M69.174%2C51.417V70.75H33.548V51.417H69.174z%22%3E%3C/path%3E%3Cpath%20d%3D%22M45.201%2C30.296c6.651%2C0%2C12.233%2C5.351%2C12.551%2C11.977l-3.033-2.638c-0.193-0.165-0.507-0.142-0.675%2C0.048%20%20%20c-0.174%2C0.198-0.153%2C0.501%2C0.045%2C0.676l3.883%2C3.375c0.09%2C0.075%2C0.198%2C0.115%2C0.312%2C0.115c0.141%2C0%2C0.273-0.061%2C0.362-0.166%20%20%20l3.371-3.877c0.173-0.2%2C0.151-0.502-0.047-0.675c-0.194-0.166-0.508-0.144-0.676%2C0.048l-2.592%2C2.979%20%20%20c-0.18-3.417-1.629-6.605-4.099-9.001c-2.538-2.461-5.877-3.817-9.404-3.817c-0.264%2C0-0.479%2C0.215-0.479%2C0.479%20%20%20C44.72%2C30.083%2C44.936%2C30.296%2C45.201%2C30.296z%22%3E%3C/path%3E%3C/g%3E%3C/svg%3E) center/50% 50% no-repeat rgba(244,244,244,1);bottom:0;font-size:14px;font-weight:600;left:0;line-height:20px;right:0;position:fixed;top:0;z-index:9999999}.a-orientation-modal:after{color:#666;content:\\\\\\\"Insert phone into Cardboard holder.\\\\\\\";display:block;position:absolute;text-align:center;top:70%;transform:translateY(-70%);width:100%}.a-orientation-modal button{background:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%20100%20100%22%20enable-background%3D%22new%200%200%20100%20100%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23000000%22%20d%3D%22M55.209%2C50l17.803-17.803c1.416-1.416%2C1.416-3.713%2C0-5.129c-1.416-1.417-3.713-1.417-5.129%2C0L50.08%2C44.872%20%20L32.278%2C27.069c-1.416-1.417-3.714-1.417-5.129%2C0c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129L44.951%2C50L27.149%2C67.803%20%20c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129c0.708%2C0.708%2C1.636%2C1.062%2C2.564%2C1.062c0.928%2C0%2C1.856-0.354%2C2.564-1.062L50.08%2C55.13l17.803%2C17.802%20%20c0.708%2C0.708%2C1.637%2C1.062%2C2.564%2C1.062s1.856-0.354%2C2.564-1.062c1.416-1.416%2C1.416-3.713%2C0-5.129L55.209%2C50z%22%3E%3C/path%3E%3C/svg%3E) no-repeat;border:none;height:50px;text-indent:-9999px;width:50px}\\\"; (_dereq_(\\\"browserify-css\\\").createStyle(css, { \\\"href\\\": \\\"src/style/aframe.css\\\"})); module.exports = css;\\n},{\\\"browserify-css\\\":1}],111:[function(_dereq_,module,exports){\\nvar css = \\\".rs-base{background-color:#333;border-radius:0;font:10px monospace;left:5px;line-height:1em;opacity:.85;overflow:hidden;padding:10px;position:fixed;top:5px;width:300px;z-index:10000}.rs-base div.hidden{display:none}.rs-base h1{color:#fff;cursor:pointer;font-size:1.4em;font-weight:300;margin:0 0 5px;padding:0}.rs-group{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-direction:column-reverse;flex-direction:column-reverse;margin-bottom:5px}.rs-group:last-child{margin-bottom:0}.rs-counter-base{align-items:center;display:-webkit-box;display:-webkit-flex;display:flex;height:10px;-webkit-justify-content:space-between;justify-content:space-between;margin:2px 0}.rs-counter-base.alarm{color:#b70000;text-shadow:0 0 0 #b70000,0 0 1px #fff,0 0 1px #fff,0 0 2px #fff,0 0 2px #fff,0 0 3px #fff,0 0 3px #fff,0 0 4px #fff,0 0 4px #fff}.rs-counter-id{font-weight:300;-webkit-box-ordinal-group:0;-webkit-order:0;order:0;width:54px}.rs-counter-value{font-weight:300;-webkit-box-ordinal-group:1;-webkit-order:1;order:1;text-align:right;width:35px}.rs-canvas{-webkit-box-ordinal-group:2;-webkit-order:2;order:2}@media (min-width:480px){.rs-base{left:20px;top:20px}}\\\"; (_dereq_(\\\"browserify-css\\\").createStyle(css, { \\\"href\\\": \\\"src/style/rStats.css\\\"})); module.exports = css;\\n},{\\\"browserify-css\\\":1}],112:[function(_dereq_,module,exports){\\nfunction removeDefaultCamera(e){var t,a=e.camera;a&&(t=e.querySelector(\\\"[\\\"+DEFAULT_CAMERA_ATTR+\\\"]\\\"),t&&e.removeChild(t))}var bind=_dereq_(\\\"../utils/bind\\\"),constants=_dereq_(\\\"../constants/\\\"),registerSystem=_dereq_(\\\"../core/system\\\").registerSystem,DEFAULT_CAMERA_ATTR=\\\"data-aframe-default-camera\\\";module.exports.System=registerSystem(\\\"camera\\\",{init:function(){this.activeCameraEl=null,this.sceneEl.addEventListener(\\\"loaded\\\",bind(this.setupDefaultCamera,this))},setupDefaultCamera:function(){var e,t=this.sceneEl;return t.camera?void t.emit(\\\"camera-ready\\\",{cameraEl:t.camera.el}):(e=document.createElement(\\\"a-entity\\\"),e.setAttribute(\\\"position\\\",\\\"0 0 0\\\"),e.setAttribute(DEFAULT_CAMERA_ATTR,\\\"\\\"),e.setAttribute(\\\"camera\\\",{active:!0,userHeight:constants.DEFAULT_CAMERA_HEIGHT}),e.setAttribute(\\\"wasd-controls\\\",\\\"\\\"),e.setAttribute(\\\"look-controls\\\",\\\"\\\"),e.setAttribute(constants.AFRAME_INJECTED,\\\"\\\"),t.appendChild(e),t.addEventListener(\\\"enter-vr\\\",this.removeDefaultOffset),t.addEventListener(\\\"exit-vr\\\",this.addDefaultOffset),void t.emit(\\\"camera-ready\\\",{cameraEl:e}))},disableActiveCamera:function(){var e=this.sceneEl.querySelectorAll(\\\"[camera]\\\"),t=e[e.length-1];t.setAttribute(\\\"camera\\\",\\\"active\\\",!0)},setActiveCamera:function(e){var t,a,r,i,s=this.activeCameraEl,c=this.sceneEl;if(i=e.getObject3D(\\\"camera\\\"),i&&e!==this.activeCameraEl){var m=c.querySelector(\\\"[\\\"+DEFAULT_CAMERA_ATTR+\\\"]\\\"),l=m&&m.querySelector(\\\"[camera]\\\");for(e!==l&&removeDefaultCamera(c),this.activeCameraEl=e,this.activeCameraEl.play(),c.camera=i,s&&s.setAttribute(\\\"camera\\\",\\\"active\\\",!1),a=c.querySelectorAll(\\\"[camera]\\\"),r=0;r<a.length;r++)t=a[r],e!==t&&(t.setAttribute(\\\"camera\\\",\\\"active\\\",!1),t.pause());c.emit(\\\"camera-set-active\\\",{cameraEl:e})}}});\\n},{\\\"../constants/\\\":54,\\\"../core/system\\\":72,\\\"../utils/bind\\\":118}],113:[function(_dereq_,module,exports){\\nfunction createGeometry(e){var t=e.primitive,r=geometries[t]&&geometries[t].Geometry,o=new r;if(!r)throw new Error(\\\"Unknown geometry `\\\"+t+\\\"`\\\");return o.init(e),toBufferGeometry(o.geometry,e.buffer)}function decrementCacheCount(e,t){e[t]--}function incrementCacheCount(e,t){e[t]=void 0===e[t]?1:e[t]+1}function toBufferGeometry(e,t){var r;return t?(r=(new THREE.BufferGeometry).fromGeometry(e),r.metadata={type:e.type,parameters:e.parameters||{}},e.dispose(),r):e}var geometries=_dereq_(\\\"../core/geometry\\\").geometries,registerSystem=_dereq_(\\\"../core/system\\\").registerSystem,THREE=_dereq_(\\\"../lib/three\\\");module.exports.System=registerSystem(\\\"geometry\\\",{init:function(){this.cache={},this.cacheCount={}},clearCache:function(){this.cache={},this.cacheCount={}},getOrCreateGeometry:function(e){var t,r,o=this.cache;return e.skipCache?createGeometry(e):(r=this.hash(e),t=o[r],incrementCacheCount(this.cacheCount,r),t?t:(t=createGeometry(e),o[r]=t,t))},unuseGeometry:function(e){var t,r,o=this.cache,i=this.cacheCount;e.skipCache||(r=this.hash(e),o[r]&&(decrementCacheCount(i,r),i[r]>0||(t=o[r],t.dispose(),delete o[r],delete i[r])))},hash:function(e){return JSON.stringify(e)}});\\n},{\\\"../core/geometry\\\":64,\\\"../core/system\\\":72,\\\"../lib/three\\\":106}],114:[function(_dereq_,module,exports){\\n_dereq_(\\\"./camera\\\"),_dereq_(\\\"./geometry\\\"),_dereq_(\\\"./light\\\"),_dereq_(\\\"./material\\\"),_dereq_(\\\"./tracked-controls\\\");\\n},{\\\"./camera\\\":112,\\\"./geometry\\\":113,\\\"./light\\\":115,\\\"./material\\\":116,\\\"./tracked-controls\\\":117}],115:[function(_dereq_,module,exports){\\nvar registerSystem=_dereq_(\\\"../core/system\\\").registerSystem,bind=_dereq_(\\\"../utils/bind\\\"),constants=_dereq_(\\\"../constants/\\\"),DEFAULT_LIGHT_ATTR=\\\"data-aframe-default-light\\\";module.exports.System=registerSystem(\\\"light\\\",{init:function(){this.defaultLights=!1,this.userDefinedLights=!1,this.sceneEl.addEventListener(\\\"loaded\\\",bind(this.setupDefaultLights,this))},registerLight:function(t){t.hasAttribute(DEFAULT_LIGHT_ATTR)||(this.removeDefaultLights(),this.userDefinedLights=!0)},removeDefaultLights:function(){var t,e=this.sceneEl;if(this.defaultLights){t=document.querySelectorAll(\\\"[\\\"+DEFAULT_LIGHT_ATTR+\\\"]\\\");for(var i=0;i<t.length;i++)e.removeChild(t[i]);this.defaultLights=!1}},setupDefaultLights:function(){var t,e,i=this.sceneEl;this.userDefinedLights||this.defaultLights||(t=document.createElement(\\\"a-entity\\\"),e=document.createElement(\\\"a-entity\\\"),t.setAttribute(\\\"light\\\",{color:\\\"#BBB\\\",type:\\\"ambient\\\"}),t.setAttribute(DEFAULT_LIGHT_ATTR,\\\"\\\"),t.setAttribute(constants.AFRAME_INJECTED,\\\"\\\"),i.appendChild(t),e.setAttribute(\\\"light\\\",{color:\\\"#FFF\\\",intensity:.6}),e.setAttribute(\\\"position\\\",{x:-.5,y:1,z:1}),e.setAttribute(DEFAULT_LIGHT_ATTR,\\\"\\\"),e.setAttribute(constants.AFRAME_INJECTED,\\\"\\\"),i.appendChild(e),this.defaultLights=!0)}});\\n},{\\\"../constants/\\\":54,\\\"../core/system\\\":72,\\\"../utils/bind\\\":118}],116:[function(_dereq_,module,exports){\\nfunction calculateVideoCacheHash(e,t){var r,i,o,a=t.getAttribute(\\\"id\\\");if(a)return a;for(i=\\\"\\\",o=e||{},r=0;r<t.attributes.length;r++)o[t.attributes[r].name]=t.attributes[r].value;return Object.keys(o).sort().forEach(function(e){i+=e+\\\":\\\"+o[e]+\\\";\\\"}),i}function loadImageTexture(e,t){function r(r,i){function o(e){setTextureProperties(e,t),e.needsUpdate=!0,r(e)}var a=\\\"string\\\"!=typeof e;return a?void o(new THREE.Texture(e)):void TextureLoader.load(e,o,function(){},function(e){error(\\\"`$s` could not be fetched (Error code: %s; Response: %s)\\\",e.status,e.statusText)})}return new Promise(r)}function setTextureProperties(e,t){var r=t.offset||{x:0,y:0},i=t.repeat||{x:1,y:1};1===i.x&&1===i.y||(e.wrapS=THREE.RepeatWrapping,e.wrapT=THREE.RepeatWrapping,e.repeat.set(i.x,i.y),0===r.x&&0===r.y||e.offset.set(r.x,r.y))}function createVideoEl(e,t,r){var i=document.createElement(\\\"video\\\");return i.width=t,i.height=r,i.setAttribute(\\\"webkit-playsinline\\\",\\\"\\\"),i.autoplay=!0,i.loop=!0,i.crossOrigin=\\\"anonymous\\\",i.addEventListener(\\\"error\\\",function(){warn(\\\"`$s` is not a valid video\\\",e)},!0),i.src=e,i}function fixVideoAttributes(e){return e.autoplay=\\\"false\\\"!==e.getAttribute(\\\"autoplay\\\"),e.controls=\\\"false\\\"!==e.getAttribute(\\\"controls\\\"),\\\"false\\\"===e.getAttribute(\\\"loop\\\")&&e.removeAttribute(\\\"loop\\\"),\\\"false\\\"===e.getAttribute(\\\"preload\\\")&&(e.preload=\\\"none\\\"),e.crossOrigin=e.crossOrigin||\\\"anonymous\\\",e.setAttribute(\\\"webkit-playsinline\\\",\\\"\\\"),e}var registerSystem=_dereq_(\\\"../core/system\\\").registerSystem,THREE=_dereq_(\\\"../lib/three\\\"),utils=_dereq_(\\\"../utils/\\\"),debug=utils.debug,error=debug(\\\"components:texture:error\\\"),TextureLoader=new THREE.TextureLoader,warn=debug(\\\"components:texture:warn\\\");module.exports.System=registerSystem(\\\"material\\\",{init:function(){this.materials={},this.textureCache={}},clearTextureCache:function(){this.textureCache={}},loadTexture:function(e,t,r){function i(e){a.loadImage(e,t,r)}function o(e){a.loadVideo(e,t,r)}var a=this;return\\\"CANVAS\\\"===e.tagName?void this.loadCanvas(e,t,r):\\\"VIDEO\\\"===e.tagName?(e.hasAttribute(\\\"src\\\")||e.hasAttribute(\\\"srcObject\\\")||warn(\\\"Video element was defined without `src` nor `srcObject` attributes.\\\"),void this.loadVideo(e,t,r)):void utils.srcLoader.validateSrc(e,i,o)},loadImage:function(e,t,r){var i=this.hash(t),o=r,a=this.textureCache;return a[i]?void a[i].then(o):(a[i]=loadImageTexture(e,t),void a[i].then(o))},loadCanvas:function(e,t,r){e.readyState=2,e.HAVE_CURRENT_DATA=2,this.loadVideo(e,t,r)},loadVideo:function(e,t,r){function i(e){e.texture.needsUpdate=!0,r(e.texture,e.videoEl)}var o,a,n,s,u=this.textureCache;if(\\\"string\\\"!=typeof e){if(n=e,o=this.hashVideo(t,n),u[o])return void u[o].then(i);fixVideoAttributes(n)}return n=n||createVideoEl(e,t.width,t.height),o=this.hashVideo(t,n),u[o]?void u[o].then(i):(a=new THREE.VideoTexture(n),a.minFilter=THREE.LinearFilter,setTextureProperties(a,t),s={texture:a,videoEl:n},u[o]=Promise.resolve(s),void i(s))},hash:function(e){return JSON.stringify(e)},hashVideo:function(e,t){return calculateVideoCacheHash(e,t)},registerMaterial:function(e){this.materials[e.uuid]=e},unregisterMaterial:function(e){delete this.materials[e.uuid]},updateMaterials:function(e){var t=this.materials;Object.keys(t).forEach(function(e){t[e].needsUpdate=!0})}});\\n},{\\\"../core/system\\\":72,\\\"../lib/three\\\":106,\\\"../utils/\\\":124}],117:[function(_dereq_,module,exports){\\nvar registerSystem=_dereq_(\\\"../core/system\\\").registerSystem,trackedControlsUtils=_dereq_(\\\"../utils/tracked-controls\\\");module.exports.System=registerSystem(\\\"tracked-controls\\\",{init:function(){var t=this;this.controllers=[],this.lastControllersUpdate=0,navigator.getVRDisplays&&navigator.getVRDisplays().then(function(e){e.length>0&&(t.vrDisplay=e[0])})},updateControllerList:function(){for(var t=this.controllers=[],e=trackedControlsUtils.getGamepadsByPrefix(\\\"\\\"),r=0;r<e.length;r++){var s=e[r];s&&s.pose&&t.push(s)}},tick:function(t){t<this.lastControllersUpdate+10||(this.lastControllersUpdate=t,this.updateControllerList(),this.sceneEl.emit(\\\"controllersupdated\\\",{timestamp:t,controllers:this.controllers}))}});\\n},{\\\"../core/system\\\":72,\\\"../utils/tracked-controls\\\":128}],118:[function(_dereq_,module,exports){\\nmodule.exports=function(r,t){return function(n){return function(){var o=n.concat(Array.prototype.slice.call(arguments,0));return r.apply(t,o)}}(Array.prototype.slice.call(arguments,2))};\\n},{}],119:[function(_dereq_,module,exports){\\nfunction parse(e,t){var r,o={};return e&&\\\"object\\\"==typeof e?vecParseFloat(e):\\\"string\\\"!=typeof e||null===e?\\\"object\\\"==typeof t?extend({},t):t:(r=e.trim().replace(/\\\\s+/g,\\\" \\\").split(\\\" \\\"),o.x=r[0]||t&&t.x,o.y=r[1]||t&&t.y,o.z=r[2]||t&&t.z,o.w=r[3]||t&&t.w,vecParseFloat(o))}function stringify(e){return\\\"object\\\"!=typeof e?e:[e.x,e.y,e.z,e.w].join(\\\" \\\").trim()}function vecParseFloat(e){return Object.keys(e).forEach(function(t){return void 0===e[t]?void delete e[t]:void(e[t]=parseFloat(e[t],10))}),e}var extend=_dereq_(\\\"object-assign\\\"),regex=/\\\\s*(-?\\\\d*\\\\.{0,1}\\\\d+)\\\\s+(-?\\\\d*\\\\.{0,1}\\\\d+)\\\\s+(-?\\\\d*\\\\.{0,1}\\\\d+)\\\\s*/;module.exports.regex=regex,module.exports.parse=parse,module.exports.stringify=stringify,module.exports.isCoordinate=function(e){return regex.test(e)},module.exports.toVector3=function(e){return new THREE.Vector3(e.x,e.y,e.z)};\\n},{\\\"object-assign\\\":9}],120:[function(_dereq_,module,exports){\\n(function (process){\\nfunction getDebugNamespaceType(e){var r=e.split(\\\":\\\");return r[r.length-1]}function getDebugNamespaceColor(e){var r=getDebugNamespaceType(e),o=settings.colors&&settings.colors[r];return o||null}function storage(){try{return window.localStorage}catch(e){}}var debugLib=_dereq_(\\\"debug\\\"),extend=_dereq_(\\\"object-assign\\\"),settings={colors:{debug:\\\"gray\\\",error:\\\"red\\\",info:\\\"gray\\\",warn:\\\"orange\\\"}},debug=function(e){var r=debugLib(e);return r.color=getDebugNamespaceColor(e),r};extend(debug,debugLib);var ls=storage();ls&&(parseInt(ls.logs,10)||\\\"true\\\"===ls.logs)?debug.enable(\\\"*\\\"):debug.enable(\\\"*:error,*:info,*:warn\\\"),process.browser&&(window.logs=debug),module.exports=debug;\\n}).call(this,_dereq_('_process'))\\n\\n},{\\\"_process\\\":2,\\\"debug\\\":3,\\\"object-assign\\\":9}],121:[function(_dereq_,module,exports){\\nfunction checkHeadsetConnected(){var e;return controls.update(),e=dolly.quaternion,0!==e._x||0!==e._y||0!==e._z}function checkHasPositionalTracking(){var e=new THREE.Vector3;return function(){return!isMobile()&&!isGearVR()&&(controls.update(),dolly.updateMatrix(),e.setFromMatrixPosition(dolly.matrix),0!==e.x||0!==e.y||0!==e.z)}()}function isIOS(){return/iPad|iPhone|iPod/.test(navigator.platform)}function isGearVR(){return/SamsungBrowser.+Mobile VR/i.test(navigator.userAgent)}var THREE=_dereq_(\\\"../lib/three\\\"),dolly=new THREE.Object3D,controls=new THREE.VRControls(dolly);module.exports.checkHeadsetConnected=checkHeadsetConnected,module.exports.checkHasPositionalTracking=checkHasPositionalTracking;var isMobile=function(){var e=!1;return function(o){(/(android|bb\\\\d+|meego).+mobile|avantgo|bada\\\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(o)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\\\-(n|u)|c55\\\\/|capi|ccwa|cdm\\\\-|cell|chtm|cldc|cmd\\\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\\\-|_)|g1 u|g560|gene|gf\\\\-5|g\\\\-mo|go(\\\\.w|od)|gr(ad|un)|haie|hcit|hd\\\\-(m|p|t)|hei\\\\-|hi(pt|ta)|hp( i|ip)|hs\\\\-c|ht(c(\\\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\\\-(20|go|ma)|i230|iac( |\\\\-|\\\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\\\/)|klon|kpt |kwc\\\\-|kyo(c|k)|le(no|xi)|lg( g|\\\\/(k|l|u)|50|54|\\\\-[a-w])|libw|lynx|m1\\\\-w|m3ga|m50\\\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\\\-2|po(ck|rt|se)|prox|psio|pt\\\\-g|qa\\\\-a|qc(07|12|21|32|60|\\\\-[2-7]|i\\\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\\\-|oo|p\\\\-)|sdk\\\\/|se(c(\\\\-|0|1)|47|mc|nd|ri)|sgh\\\\-|shar|sie(\\\\-|m)|sk\\\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\\\-|v\\\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\\\-|tdg\\\\-|tel(i|m)|tim\\\\-|t\\\\-mo|to(pl|sh)|ts(70|m\\\\-|m3|m5)|tx\\\\-9|up(\\\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\\\-|your|zeto|zte\\\\-/i.test(o.substr(0,4)))&&(e=!0),isIOS()&&(e=!0),isGearVR()&&(e=!1)}(navigator.userAgent||navigator.vendor||window.opera),function(){return e}}();module.exports.isMobile=isMobile,module.exports.isIOS=isIOS,module.exports.isGearVR=isGearVR,module.exports.isLandscape=function(){return 90===window.orientation||window.orientation===-90};\\n},{\\\"../lib/three\\\":106}],122:[function(_dereq_,module,exports){\\nmodule.exports.getComponentPropertyPath=function(t,e){return e=e||\\\".\\\",t.indexOf(e)===-1?t:t.split(e)},module.exports.getComponentProperty=function(t,e,r){var o;return r=r||\\\".\\\",e.indexOf(r)!==-1?(o=e.split(r),t.getAttribute(o[0])[o[1]]):t.getAttribute(e)},module.exports.setComponentProperty=function(t,e,r,o){var n;return o=o||\\\".\\\",e.indexOf(o)!==-1?(n=e.split(o),void t.setAttribute(n[0],n[1],r)):void t.setAttribute(e,r)};\\n},{}],123:[function(_dereq_,module,exports){\\nmodule.exports=function(t){var e=t.style.width,s=t.style.height;t.style.width=parseInt(e,10)+1+\\\"px\\\",t.style.height=parseInt(s,10)+1+\\\"px\\\",setTimeout(function(){t.style.width=e,t.style.height=s},200)};\\n},{}],124:[function(_dereq_,module,exports){\\nfunction deepEqual(e,t){var r,o=Object.keys(e),n=Object.keys(t);if(o.length!==n.length)return!1;if(0===o.length)return e===t;for(r=0;r<o.length;++r)if(e[o[r]]!==t[o[r]])return!1;return!0}var debug=_dereq_(\\\"./debug\\\"),deepAssign=_dereq_(\\\"deep-assign\\\"),device=_dereq_(\\\"./device\\\"),objectAssign=_dereq_(\\\"object-assign\\\"),warn=debug(\\\"utils:warn\\\");module.exports.bind=_dereq_(\\\"./bind\\\"),module.exports.coordinates=_dereq_(\\\"./coordinates\\\"),module.exports.debug=debug,module.exports.device=device,module.exports.entity=_dereq_(\\\"./entity\\\"),module.exports.forceCanvasResizeSafariMobile=_dereq_(\\\"./forceCanvasResizeSafariMobile\\\"),module.exports.material=_dereq_(\\\"./material\\\"),module.exports.styleParser=_dereq_(\\\"./styleParser\\\"),module.exports.trackedControls=_dereq_(\\\"./tracked-controls\\\"),module.exports.checkHeadsetConnected=function(){return warn(\\\"`utils.checkHeadsetConnected` has moved to `utils.device.checkHeadsetConnected`\\\"),device.checkHeadsetConnected(arguments)},module.exports.isGearVR=function(){return warn(\\\"`utils.isGearVR` has moved to `utils.device.isGearVR`\\\"),device.isGearVR(arguments)},module.exports.isIOS=function(){return warn(\\\"`utils.isIOS` has moved to `utils.device.isIOS`\\\"),device.isIOS(arguments)},module.exports.isMobile=function(){return warn(\\\"`utils.isMobile has moved to `utils.device.isMobile`\\\"),device.isMobile(arguments)},module.exports.fireEvent=function(e,t,r){r=r||{},r.detail=r.detail||{},r.detail.target=r.detail.target||e;var o=new CustomEvent(t,r);e.dispatchEvent(o)},module.exports.extend=objectAssign,module.exports.extendDeep=deepAssign,module.exports.clone=function(e){return JSON.parse(JSON.stringify(e))},module.exports.deepEqual=deepEqual,module.exports.diff=function(e,t){var r={},o=Object.keys(e);return Object.keys(t).forEach(function(e){o.indexOf(e)===-1&&o.push(e)}),o.forEach(function(o){var n=e[o],i=t[o],s=n&&i&&n.constructor===Object&&i.constructor===Object;(s&&!deepEqual(n,i)||!s&&n!==i)&&(r[o]=i)}),r},module.exports.shouldCaptureKeyEvent=function(e){return!e.metaKey&&document.activeElement===document.body},module.exports.splitString=function(e,t){\\\"undefined\\\"==typeof t&&(t=\\\" \\\");var r=new RegExp(t,\\\"g\\\");return e=(e||\\\"\\\").replace(r,t),e.split(t)},module.exports.getElData=function(e,t){function r(t){e.hasAttribute(t)&&(o[t]=e.getAttribute(t))}t=t||{};var o={};return Object.keys(t).forEach(r),o},module.exports.getUrlParameter=function(e){e=e.replace(/[\\\\[]/,\\\"\\\\\\\\[\\\").replace(/[\\\\]]/,\\\"\\\\\\\\]\\\");var t=new RegExp(\\\"[\\\\\\\\?&]\\\"+e+\\\"=([^&#]*)\\\"),r=t.exec(location.search);return null===r?\\\"\\\":decodeURIComponent(r[1].replace(/\\\\+/g,\\\" \\\"))},module.exports.isIframed=function(){return window.top!==window.self},module.exports.findAllScenes=function(e){for(var t=[],r=e.getElementsByTagName(\\\"*\\\"),o=0,n=r.length;o<n;o++)r[o].isScene&&t.push(r[o]);return t},module.exports.srcLoader=_dereq_(\\\"./src-loader\\\");\\n},{\\\"./bind\\\":118,\\\"./coordinates\\\":119,\\\"./debug\\\":120,\\\"./device\\\":121,\\\"./entity\\\":122,\\\"./forceCanvasResizeSafariMobile\\\":123,\\\"./material\\\":125,\\\"./src-loader\\\":126,\\\"./styleParser\\\":127,\\\"./tracked-controls\\\":128,\\\"deep-assign\\\":6,\\\"object-assign\\\":9}],125:[function(_dereq_,module,exports){\\nfunction handleTextureEvents(e,t){t&&(e.emit(\\\"materialtextureloaded\\\",{src:t.image,texture:t}),\\\"VIDEO\\\"===t.image.tagName&&(t.image.addEventListener(\\\"loadeddata\\\",function(){e.emit(\\\"materialvideoloadeddata\\\",{src:t.image,texture:t})}),t.image.addEventListener(\\\"ended\\\",function(){e.emit(\\\"materialvideoended\\\",{src:t.image,texture:t})})))}module.exports.updateMap=function(e,t){function a(e){n.map=e,n.needsUpdate=!0,handleTextureEvents(r,e)}var r=e.el,n=e.material,i=t.src;if(i){if(i===e.textureSrc)return;return e.textureSrc=i,void r.sceneEl.systems.material.loadTexture(i,{src:i,repeat:t.repeat,offset:t.offset},a)}n.map&&a(null)},module.exports.updateDistortionMap=function(e,t,a){function r(e){u[n+\\\"Map\\\"]=e,u.needsUpdate=!0,handleTextureEvents(i,e)}var n=e;\\\"ambientOcclusion\\\"===e&&(n=\\\"ao\\\");var i=t.el,u=t.material,d=a[e+\\\"Map\\\"],s={};if(s.src=d,s.offset=a[e+\\\"TextureOffset\\\"],s.repeat=a[e+\\\"TextureRepeat\\\"],s.wrap=a[e+\\\"TextureWrap\\\"],d){if(d===t[e+\\\"TextureSrc\\\"])return;return t[e+\\\"TextureSrc\\\"]=d,void i.sceneEl.systems.material.loadTexture(d,s,r)}u.map&&r(null)},module.exports.handleTextureEvents=handleTextureEvents;\\n},{}],126:[function(_dereq_,module,exports){\\nfunction validateSrc(e,r,a){validateImageUrl(e,function(t){return t?void r(e):void a(e)})}function validateCubemapSrc(e,r){function a(e){o.push(e),6===o.length&&r(o)}var t,n,i,l=\\\"\\\",o=[];for(n=0;n<5;n++)l+=\\\"(url\\\\\\\\((?:[^\\\\\\\\)]+)\\\\\\\\),\\\\\\\\s*)\\\";if(l+=\\\"(url\\\\\\\\((?:[^\\\\\\\\)]+)\\\\\\\\)\\\\\\\\s*)\\\",i=e.match(new RegExp(l)))for(n=1;n<7;n++)validateSrc(parseUrl(i[n]),a);else if(t=validateAndGetQuerySelector(e))return\\\"A-CUBEMAP\\\"===t.tagName&&t.srcs?r(t.srcs):void warn('Selector \\\"%s\\\" does not point to <a-cubemap>',e)}function parseUrl(e){var r=e.match(/\\\\url\\\\((.+)\\\\)/);if(r)return r[1]}function validateImageUrl(e,r){function a(){r(!0)}function t(){r(!1)}var n=new Image;n.addEventListener(\\\"load\\\",a),n.addEventListener(\\\"error\\\",t),n.src=e}function validateAndGetQuerySelector(e){try{var r=document.querySelector(e);return r||warn('No element was found matching the selector: \\\"%s\\\"',e),r}catch(r){return void warn('\\\"%s\\\" is not a valid selector',e)}}var debug=_dereq_(\\\"./debug\\\"),warn=debug(\\\"utils:src-loader:warn\\\");module.exports={parseUrl:parseUrl,validateSrc:validateSrc,validateCubemapSrc:validateCubemapSrc};\\n},{\\\"./debug\\\":120}],127:[function(_dereq_,module,exports){\\nfunction toCamelCase(e){function r(e){return e[1].toUpperCase()}return e.replace(/-([a-z])/g,r)}function transformKeysToCamelCase(e){var r=Object.keys(e),t={};return r.forEach(function(r){var s=toCamelCase(r);t[s]=e[r]}),t}var styleParser=_dereq_(\\\"style-attr\\\");module.exports.parse=function(e){var r;return\\\"string\\\"!=typeof e?e:(r=styleParser.parse(e),r[\\\"\\\"]?e:transformKeysToCamelCase(r))},module.exports.stringify=function(e){return\\\"string\\\"==typeof e?e:styleParser.stringify(e)},module.exports.toCamelCase=toCamelCase,module.exports.transformKeysToCamelCase=transformKeysToCamelCase;\\n},{\\\"style-attr\\\":12}],128:[function(_dereq_,module,exports){\\nmodule.exports.getGamepadsByPrefix=function(e){var r,n=[],t=navigator.getGamepads&&navigator.getGamepads();if(!t)return n;for(var o=0;o<t.length;++o)r=t[o],r&&(e&&0!==r.id.indexOf(e)||n.push(r));return n},module.exports.isControllerPresent=function(e,r,n){var t,o,a,d=!1,i=0,s=e&&e.systems[\\\"tracked-controls\\\"];if(!s)return d;if(a=s.controllers,a&&0!==a.length||(s.updateControllerList(),a=s.controllers),!a)return d;for(var l=0;l<a.length&&(t=a[l],o=!r||\\\"\\\"===r||0===t.id.indexOf(r),d=o,d&&n.hand&&(d=t.hand===n.hand),d&&n.index&&(d=i===n.index),!d);++l)o&&i++;return d};\\n},{}],129:[function(_dereq_,module,exports){\\nTHREE.VRControls=function(t,s){function n(t){i=t,t.length>0?e=t[0]:s&&s(\\\"VR input not available.\\\")}var e,i,o=this,a=new THREE.Matrix4,r=null;\\\"VRFrameData\\\"in window&&(r=new VRFrameData),navigator.getVRDisplays&&navigator.getVRDisplays().then(n).catch(function(){console.warn(\\\"THREE.VRControls: Unable to get VR Displays\\\")}),this.scale=1,this.standing=!1,this.userHeight=1.6,this.getVRDisplay=function(){return e},this.setVRDisplay=function(t){e=t},this.getVRDisplays=function(){return console.warn(\\\"THREE.VRControls: getVRDisplays() is being deprecated.\\\"),i},this.getStandingMatrix=function(){return a},this.update=function(){if(e){var s;e.getFrameData?(e.getFrameData(r),s=r.pose):e.getPose&&(s=e.getPose()),null!==s.orientation&&t.quaternion.fromArray(s.orientation),null!==s.position?t.position.fromArray(s.position):t.position.set(0,0,0),this.standing&&(e.stageParameters?(t.updateMatrix(),a.fromArray(e.stageParameters.sittingToStandingTransform),t.applyMatrix(a)):t.position.setY(t.position.y+this.userHeight)),t.position.multiplyScalar(o.scale)}},this.resetPose=function(){e&&e.resetPose()},this.resetSensor=function(){console.warn(\\\"THREE.VRControls: .resetSensor() is now .resetPose().\\\"),this.resetPose()},this.zeroSensor=function(){console.warn(\\\"THREE.VRControls: .zeroSensor() is now .resetPose().\\\"),this.resetPose()},this.dispose=function(){e=null}};\\n},{}],130:[function(_dereq_,module,exports){\\nTHREE.VREffect=function(e,t){function i(e){h=e,e.length>0?o=e[0]:t&&t(\\\"HMD not available\\\")}function r(){var t=f.isPresenting;if(f.isPresenting=void 0!==o&&o.isPresenting,f.isPresenting){var i=o.getEyeParameters(\\\"left\\\"),r=i.renderWidth,n=i.renderHeight;t||(p=e.getPixelRatio(),w=e.getSize(),e.setPixelRatio(1),e.setSize(2*r,n,!1))}else t&&(e.setPixelRatio(p),e.setSize(w.width,w.height,m))}function n(e){var t=2/(e.leftTan+e.rightTan),i=(e.leftTan-e.rightTan)*t*.5,r=2/(e.upTan+e.downTan),n=(e.upTan-e.downTan)*r*.5;return{scale:[t,r],offset:[i,n]}}function a(e,t,i,r){t=void 0===t||t,i=void 0===i?.01:i,r=void 0===r?1e4:r;var a=t?-1:1,s=new THREE.Matrix4,o=s.elements,h=n(e);return o[0]=h.scale[0],o[1]=0,o[2]=h.offset[0]*a,o[3]=0,o[4]=0,o[5]=h.scale[1],o[6]=-h.offset[1]*a,o[7]=0,o[8]=0,o[9]=0,o[10]=r/(i-r)*-a,o[11]=r*i/(i-r),o[12]=0,o[13]=0,o[14]=a,o[15]=0,s.transpose(),s}function s(e,t,i,r){var n=Math.PI/180,s={upTan:Math.tan(e.upDegrees*n),downTan:Math.tan(e.downDegrees*n),leftTan:Math.tan(e.leftDegrees*n),rightTan:Math.tan(e.rightDegrees*n)};return a(s,t,i,r)}var o,h,d,l,u=new THREE.Vector3,g=new THREE.Vector3,c=null;\\\"VRFrameData\\\"in window&&(c=new VRFrameData),navigator.getVRDisplays&&navigator.getVRDisplays().then(i).catch(function(){console.warn(\\\"THREE.VREffect: Unable to get VR Displays\\\")}),this.isPresenting=!1,this.scale=1;var f=this,w=e.getSize(),m=!1,p=e.getPixelRatio();this.getVRDisplay=function(){return o},this.setVRDisplay=function(e){o=e},this.getVRDisplays=function(){return console.warn(\\\"THREE.VREffect: getVRDisplays() is being deprecated.\\\"),h},this.setSize=function(t,i,r){if(w={width:t,height:i},m=r,f.isPresenting){var n=o.getEyeParameters(\\\"left\\\");e.setPixelRatio(1),e.setSize(2*n.renderWidth,n.renderHeight,!1)}else e.setPixelRatio(p),e.setSize(t,i,r)};var v=e.domElement,y=[0,0,.5,1],R=[.5,0,.5,1];window.addEventListener(\\\"vrdisplaypresentchange\\\",r,!1),this.setFullScreen=function(e){return new Promise(function(t,i){return void 0===o?void i(new Error(\\\"No VR hardware found.\\\")):f.isPresenting===e?void t():void t(e?o.requestPresent([{source:v}]):o.exitPresent())})},this.requestPresent=function(){return this.setFullScreen(!0)},this.exitPresent=function(){return this.setFullScreen(!1)},this.requestAnimationFrame=function(e){return void 0!==o?o.requestAnimationFrame(e):window.requestAnimationFrame(e)},this.cancelAnimationFrame=function(e){void 0!==o?o.cancelAnimationFrame(e):window.cancelAnimationFrame(e)},this.submitFrame=function(){void 0!==o&&f.isPresenting&&o.submitFrame()},this.autoSubmitFrame=!0;var x=new THREE.PerspectiveCamera;x.layers.enable(1);var E=new THREE.PerspectiveCamera;E.layers.enable(2),this.render=function(t,i,r,n){if(o&&f.isPresenting){var a=t.autoUpdate;a&&(t.updateMatrixWorld(),t.autoUpdate=!1);var h=o.getEyeParameters(\\\"left\\\"),w=o.getEyeParameters(\\\"right\\\");u.fromArray(h.offset),g.fromArray(w.offset),Array.isArray(t)&&(console.warn(\\\"THREE.VREffect.render() no longer supports arrays. Use object.layers instead.\\\"),t=t[0]);var m,p,v=e.getSize(),P=o.getLayers();if(P.length){var T=P[0];m=null!==T.leftBounds&&4===T.leftBounds.length?T.leftBounds:y,p=null!==T.rightBounds&&4===T.rightBounds.length?T.rightBounds:R}else m=y,p=R;d={x:Math.round(v.width*m[0]),y:Math.round(v.height*m[1]),width:Math.round(v.width*m[2]),height:Math.round(v.height*m[3])},l={x:Math.round(v.width*p[0]),y:Math.round(v.height*p[1]),width:Math.round(v.width*p[2]),height:Math.round(v.height*p[3])},r?(e.setRenderTarget(r),r.scissorTest=!0):(e.setRenderTarget(null),e.setScissorTest(!0)),(e.autoClear||n)&&e.clear(),null===i.parent&&i.updateMatrixWorld(),i.matrixWorld.decompose(x.position,x.quaternion,x.scale),i.matrixWorld.decompose(E.position,E.quaternion,E.scale);var M=this.scale;return x.translateOnAxis(u,M),E.translateOnAxis(g,M),o.getFrameData?(o.depthNear=i.near,o.depthFar=i.far,o.getFrameData(c),x.projectionMatrix.elements=c.leftProjectionMatrix,E.projectionMatrix.elements=c.rightProjectionMatrix):(x.projectionMatrix=s(h.fieldOfView,!0,i.near,i.far),E.projectionMatrix=s(w.fieldOfView,!0,i.near,i.far)),r?(r.viewport.set(d.x,d.y,d.width,d.height),r.scissor.set(d.x,d.y,d.width,d.height)):(e.setViewport(d.x,d.y,d.width,d.height),e.setScissor(d.x,d.y,d.width,d.height)),e.render(t,x,r,n),r?(r.viewport.set(l.x,l.y,l.width,l.height),r.scissor.set(l.x,l.y,l.width,l.height)):(e.setViewport(l.x,l.y,l.width,l.height),e.setScissor(l.x,l.y,l.width,l.height)),e.render(t,E,r,n),r?(r.viewport.set(0,0,v.width,v.height),r.scissor.set(0,0,v.width,v.height),r.scissorTest=!1,e.setRenderTarget(null)):(e.setViewport(0,0,v.width,v.height),e.setScissorTest(!1)),a&&(t.autoUpdate=!0),void(f.autoSubmitFrame&&f.submitFrame())}e.render(t,i,r,n)},this.dispose=function(){window.removeEventListener(\\\"vrdisplaypresentchange\\\",r,!1)}};\\n},{}],131:[function(_dereq_,module,exports){\\nwindow.glStats=function(){function e(e,r){return function(){r.apply(this,arguments),e.apply(this,arguments)}}function r(){a(\\\"allcalls\\\").set(s+i),a(\\\"drawElements\\\").set(i),a(\\\"drawArrays\\\").set(s),a(\\\"bindTexture\\\").set(m),a(\\\"useProgram\\\").set(d),a(\\\"glfaces\\\").set(l),a(\\\"glvertices\\\").set(c),a(\\\"glpoints\\\").set(p)}function n(){s=0,i=0,d=0,l=0,c=0,p=0,m=0}function t(){}function o(e){a=e}var a=null,s=0,i=0,d=0,l=0,c=0,p=0,m=0;WebGLRenderingContext.prototype.drawArrays=e(WebGLRenderingContext.prototype.drawArrays,function(){s++,arguments[0]==this.POINTS?p+=arguments[2]:c+=arguments[2]}),WebGLRenderingContext.prototype.drawElements=e(WebGLRenderingContext.prototype.drawElements,function(){i++,l+=arguments[1]/3,c+=arguments[1]}),WebGLRenderingContext.prototype.useProgram=e(WebGLRenderingContext.prototype.useProgram,function(){d++}),WebGLRenderingContext.prototype.bindTexture=e(WebGLRenderingContext.prototype.bindTexture,function(){m++});var f={allcalls:{over:3e3,caption:\\\"Calls (hook)\\\"},drawelements:{caption:\\\"drawElements (hook)\\\"},drawarrays:{caption:\\\"drawArrays (hook)\\\"}},u=[{caption:\\\"WebGL\\\",values:[\\\"allcalls\\\",\\\"drawelements\\\",\\\"drawarrays\\\",\\\"useprogram\\\",\\\"bindtexture\\\",\\\"glfaces\\\",\\\"glvertices\\\",\\\"glpoints\\\"]}],y=[{base:\\\"allcalls\\\",steps:[\\\"drawelements\\\",\\\"drawarrays\\\"]}];return{update:r,start:n,end:t,attach:o,values:f,groups:u,fractions:y}},window.threeStats=function(e){function r(){a(\\\"renderer.info.memory.geometries\\\").set(e.info.memory.geometries),a(\\\"renderer.info.programs\\\").set(e.info.programs.length),a(\\\"renderer.info.memory.textures\\\").set(e.info.memory.textures),a(\\\"renderer.info.render.calls\\\").set(e.info.render.calls),a(\\\"renderer.info.render.faces\\\").set(e.info.render.faces),a(\\\"renderer.info.render.points\\\").set(e.info.render.points),a(\\\"renderer.info.render.vertices\\\").set(e.info.render.vertices)}function n(){}function t(){}function o(e){a=e}var a=null,s={\\\"renderer.info.memory.geometries\\\":{caption:\\\"Geometries\\\"},\\\"renderer.info.memory.textures\\\":{caption:\\\"Textures\\\"},\\\"renderer.info.programs\\\":{caption:\\\"Programs\\\"},\\\"renderer.info.render.calls\\\":{caption:\\\"Calls\\\"},\\\"renderer.info.render.faces\\\":{caption:\\\"Faces\\\",over:1e3},\\\"renderer.info.render.points\\\":{caption:\\\"Points\\\"},\\\"renderer.info.render.vertices\\\":{caption:\\\"Vertices\\\"}},i=[{caption:\\\"Three.js - Memory\\\",values:[\\\"renderer.info.memory.geometries\\\",\\\"renderer.info.programs\\\",\\\"renderer.info.memory.textures\\\"]},{caption:\\\"Three.js - Render\\\",values:[\\\"renderer.info.render.calls\\\",\\\"renderer.info.render.faces\\\",\\\"renderer.info.render.points\\\",\\\"renderer.info.render.vertices\\\"]}],d=[];return{update:r,start:n,end:t,attach:o,values:s,groups:i,fractions:d}},window.BrowserStats=function(){function e(e){var r=100,n=Math.floor(Math.log(e)/p);return Math.round(e*r/Math.pow(1024,n))/r}function r(){s=e(performance.memory.usedJSHeapSize),i=e(performance.memory.totalJSHeapSize),a(\\\"memory\\\").set(s),a(\\\"total\\\").set(i)}function n(){s=0}function t(){}function o(e){a=e}var a=null,s=0,i=0;window.performance&&!performance.memory&&(performance.memory={usedJSHeapSize:0,totalJSHeapSize:0}),0===performance.memory.totalJSHeapSize&&console.warn(\\\"totalJSHeapSize === 0... performance.memory is only available in Chrome .\\\");var d={memory:{caption:\\\"Used Memory\\\",average:!0,avgMs:1e3,over:22},total:{caption:\\\"Total Memory\\\"}},l=[{caption:\\\"Browser\\\",values:[\\\"memory\\\",\\\"total\\\"]}],c=[{base:\\\"total\\\",steps:[\\\"memory\\\"]}],p=Math.log(1024);return{update:r,start:n,end:t,attach:o,values:d,groups:l,fractions:c}},\\\"object\\\"==typeof module&&(module.exports={glStats:window.glStats,threeStats:window.threeStats,BrowserStats:window.BrowserStats});\\n},{}],132:[function(_dereq_,module,exports){\\n\\\"use strict\\\";!function(){if(\\\"undefined\\\"==typeof window.performance&&(window.performance={}),!window.performance.now){var e=Date.now();performance.timing&&performance.timing.navigationStart&&(e=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-e}}window.performance.mark||(window.performance.mark=function(){}),window.performance.measure||(window.performance.measure=function(){})}(),window.rStats=function(e){function t(e,t){for(var n=Object.keys(e),a=0,r=n.length;a<r;a++)t(n[a])}function n(e){var t=document.createElement(\\\"link\\\");t.href=e,t.rel=\\\"stylesheet\\\",t.type=\\\"text/css\\\",document.getElementsByTagName(\\\"head\\\")[0].appendChild(t)}function a(e,t,n){function a(){i.width=v,i.height=g,i.style.width=i.width+\\\"px\\\",i.style.height=i.height+\\\"px\\\",i.className=\\\"rs-canvas\\\",e.appendChild(i),c.fillStyle=\\\"#444444\\\",c.fillRect(0,0,i.width,i.height)}function r(e,t){s+=.1*(e-s),l*=.99,s>l&&(l=s),c.drawImage(i,1,0,i.width-1,i.height,0,0,i.width-1,i.height),t?c.drawImage(p,i.width-1,i.height-s*i.height/l-g):c.drawImage(u,i.width-1,i.height-s*i.height/l-g)}var o=n||{},i=document.createElement(\\\"canvas\\\"),c=i.getContext(\\\"2d\\\"),l=0,s=0,d=o.color?o.color:\\\"#666666\\\",u=document.createElement(\\\"canvas\\\"),f=u.getContext(\\\"2d\\\");u.width=1,u.height=2*g,f.fillStyle=\\\"#444444\\\",f.fillRect(0,0,1,2*g),f.fillStyle=d,f.fillRect(0,g,1,g),f.fillStyle=\\\"#ffffff\\\",f.globalAlpha=.5,f.fillRect(0,g,1,1),f.globalAlpha=1;var p=document.createElement(\\\"canvas\\\"),h=p.getContext(\\\"2d\\\");return p.width=1,p.height=2*g,h.fillStyle=\\\"#444444\\\",h.fillRect(0,0,1,2*g),h.fillStyle=\\\"#b70000\\\",h.fillRect(0,g,1,g),h.globalAlpha=.5,h.fillStyle=\\\"#ffffff\\\",h.fillRect(0,g,1,1),h.globalAlpha=1,a(),{draw:r}}function r(e,n){function a(){o.width=v,o.height=g*n,o.style.width=o.width+\\\"px\\\",o.style.height=o.height+\\\"px\\\",o.className=\\\"rs-canvas\\\",e.appendChild(o),i.fillStyle=\\\"#444444\\\",i.fillRect(0,0,o.width,o.height)}function r(e){i.drawImage(o,1,0,o.width-1,o.height,0,0,o.width-1,o.height);var n=0;t(e,function(t){var a=e[t]*o.height;i.fillStyle=d[t],i.fillRect(o.width-1,n,1,a),n+=a})}var o=document.createElement(\\\"canvas\\\"),i=o.getContext(\\\"2d\\\");return a(),{draw:r}}function o(e,t){function n(e){if(x&&x.average){v+=e,C++;var t=performance.now();t-w>=(x.avgMs||1e3)&&(g=v/C,v=0,w=t,C=0)}}function r(){u=performance.now(),s.userTimingAPI&&performance.mark(f+\\\"-start\\\"),I=!0}function o(){p=performance.now()-u,s.userTimingAPI&&(performance.mark(f+\\\"-end\\\"),I&&performance.measure(f,f+\\\"-start\\\",f+\\\"-end\\\")),n(p)}function i(){o(),r()}function c(){var e=x&&x.average?g:p;b.nodeValue=Math.round(100*e)/100;var t=x&&(x.below&&p<x.below||x.over&&p>x.over);N.draw(p,t),y.className=t?\\\"rs-counter-base alarm\\\":\\\"rs-counter-base\\\"}function l(){var e=performance.now(),t=e-u;h++,t>1e3&&(p=x&&x.interpolate===!1?h:1e3*h/t,h=0,u=e,n(p))}function d(e){p=e,n(p)}var u,f=e,p=0,h=0,g=0,v=0,w=performance.now(),C=0,y=document.createElement(\\\"div\\\"),E=document.createElement(\\\"span\\\"),S=document.createElement(\\\"div\\\"),b=document.createTextNode(\\\"\\\"),x=s?s.values[f.toLowerCase()]:null,N=new a(y,f,x),I=!1;return E.className=\\\"rs-counter-id\\\",E.textContent=x&&x.caption?x.caption:f,S.className=\\\"rs-counter-value\\\",S.appendChild(b),y.appendChild(E),y.appendChild(S),t?t.div.appendChild(y):m.appendChild(y),u=performance.now(),{set:d,start:r,tick:i,end:o,frame:l,value:function(){return p},draw:c}}function i(e){var n=e.toLowerCase();if(void 0===n&&(n=\\\"default\\\"),w[n])return w[n];var a=null;s&&s.groups&&t(s.groups,function(e){var t=s.groups[parseInt(e,10)];a||t.values.indexOf(n.toLowerCase())===-1||(a=t)});var r=new o(n,a);return w[n]=r,r}function c(){if(s.plugins){s.values||(s.values={}),s.groups||(s.groups=[]),s.fractions||(s.fractions=[]);for(var e=0;e<s.plugins.length;e++)s.plugins[e].attach(i),t(s.plugins[e].values,function(t){s.values[t]=s.plugins[e].values[t]}),s.groups=s.groups.concat(s.plugins[e].groups),s.fractions=s.fractions.concat(s.plugins[e].fractions)}else s.plugins={};h=document.createElement(\\\"div\\\"),h.className=\\\"rs-base\\\",m=document.createElement(\\\"div\\\"),m.className=\\\"rs-container\\\",m.style.height=\\\"auto\\\",h.appendChild(m),document.body.appendChild(h),s&&(s.groups&&t(s.groups,function(e){var t=s.groups[parseInt(e,10)],n=document.createElement(\\\"div\\\");n.className=\\\"rs-group\\\",t.div=n;var a=document.createElement(\\\"h1\\\");a.textContent=t.caption,a.addEventListener(\\\"click\\\",function(e){this.classList.toggle(\\\"hidden\\\"),e.preventDefault()}.bind(n)),m.appendChild(a),m.appendChild(n)}),s.fractions&&t(s.fractions,function(e){var n=s.fractions[parseInt(e,10)],a=document.createElement(\\\"div\\\");a.className=\\\"rs-fraction\\\";var o=document.createElement(\\\"div\\\");o.className=\\\"rs-legend\\\";var i=0;t(s.fractions[e].steps,function(t){var n=document.createElement(\\\"p\\\");n.textContent=s.fractions[e].steps[t],n.style.color=d[i],o.appendChild(n),i++}),a.appendChild(o),a.style.height=i*g+\\\"px\\\",n.div=a;var c=new r(a,i);n.graph=c,m.appendChild(a)}))}function l(){t(s.plugins,function(e){s.plugins[e].update()}),t(w,function(e){w[e].draw()}),s&&s.fractions&&t(s.fractions,function(e){var n=s.fractions[parseInt(e,10)],a=[],r=w[n.base.toLowerCase()];r&&(r=r.value(),t(s.fractions[e].steps,function(t){var n=s.fractions[e].steps[parseInt(t,10)].toLowerCase(),o=w[n];o&&a.push(o.value()/r)})),n.graph.draw(a)})}var s=e||{},d=s.colours||[\\\"#850700\\\",\\\"#c74900\\\",\\\"#fcb300\\\",\\\"#284280\\\",\\\"#4c7c0c\\\"],u=\\\"https://fonts.googleapis.com/css?family=Roboto+Condensed:400,700,300\\\",f=(s.CSSPath?s.CSSPath:\\\"\\\")+\\\"rStats.css\\\",p=s.css||[u,f];p.forEach(function(e){n(e)}),s.values||(s.values={});var h,m,g=10,v=200,w={};return c(),function(e){return e?i(e):{element:h,update:l}}},\\\"object\\\"==typeof module&&(module.exports=window.rStats);\\n},{}],133:[function(_dereq_,module,exports){\\nvar Util={};Util.base64=function(e,i){return\\\"data:\\\"+e+\\\";base64,\\\"+i},Util.isMobile=function(){var e=!1;return function(i){(/(android|bb\\\\d+|meego).+mobile|avantgo|bada\\\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(i)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\\\-(n|u)|c55\\\\/|capi|ccwa|cdm\\\\-|cell|chtm|cldc|cmd\\\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\\\-|_)|g1 u|g560|gene|gf\\\\-5|g\\\\-mo|go(\\\\.w|od)|gr(ad|un)|haie|hcit|hd\\\\-(m|p|t)|hei\\\\-|hi(pt|ta)|hp( i|ip)|hs\\\\-c|ht(c(\\\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\\\-(20|go|ma)|i230|iac( |\\\\-|\\\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\\\/)|klon|kpt |kwc\\\\-|kyo(c|k)|le(no|xi)|lg( g|\\\\/(k|l|u)|50|54|\\\\-[a-w])|libw|lynx|m1\\\\-w|m3ga|m50\\\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\\\-2|po(ck|rt|se)|prox|psio|pt\\\\-g|qa\\\\-a|qc(07|12|21|32|60|\\\\-[2-7]|i\\\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\\\-|oo|p\\\\-)|sdk\\\\/|se(c(\\\\-|0|1)|47|mc|nd|ri)|sgh\\\\-|shar|sie(\\\\-|m)|sk\\\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\\\-|v\\\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\\\-|tdg\\\\-|tel(i|m)|tim\\\\-|t\\\\-mo|to(pl|sh)|ts(70|m\\\\-|m3|m5)|tx\\\\-9|up(\\\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\\\-|your|zeto|zte\\\\-/i.test(i.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e},Util.isIOS=function(){return/(iPad|iPhone|iPod)/g.test(navigator.userAgent)},Util.isIFrame=function(){try{return window.self!==window.top}catch(e){return!0}},Util.appendQueryParameter=function(e,i,t){var a=e.indexOf(\\\"?\\\")<0?\\\"?\\\":\\\"&\\\";return e+=a+i+\\\"=\\\"+t},Util.getQueryParameter=function(e){e=e.replace(/[\\\\[]/,\\\"\\\\\\\\[\\\").replace(/[\\\\]]/,\\\"\\\\\\\\]\\\");var i=new RegExp(\\\"[\\\\\\\\?&]\\\"+e+\\\"=([^&#]*)\\\"),t=i.exec(location.search);return null===t?\\\"\\\":decodeURIComponent(t[1].replace(/\\\\+/g,\\\" \\\"))},Util.isLandscapeMode=function(){return 90==window.orientation||window.orientation==-90},module.exports=Util;\\n},{}],134:[function(_dereq_,module,exports){\\nfunction AndroidWakeLock(){var A=document.createElement(\\\"video\\\");A.addEventListener(\\\"ended\\\",function(){A.play()}),this.request=function(){A.paused&&(A.src=Util.base64(\\\"video/webm\\\",\\\"GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4ECQoWBAhhTgGcBAAAAAAAH4xFNm3RALE27i1OrhBVJqWZTrIHfTbuMU6uEFlSua1OsggEwTbuMU6uEHFO7a1OsggfG7AEAAAAAAACkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAAEUq17GDD0JATYCNTGF2ZjU2LjQwLjEwMVdBjUxhdmY1Ni40MC4xMDFzpJAGSJTMbsLpDt/ySkipgX1fRImIQO1MAAAAAAAWVK5rAQAAAAAAADuuAQAAAAAAADLXgQFzxYEBnIEAIrWcg3VuZIaFVl9WUDmDgQEj44OEO5rKAOABAAAAAAAABrCBsLqBkB9DtnUBAAAAAAAAo+eBAKOmgQAAgKJJg0IAAV4BHsAHBIODCoAACmH2MAAAZxgz4dPSTFi5JACjloED6ACmAECSnABMQAADYAAAWi0quoCjloEH0ACmAECSnABNwAADYAAAWi0quoCjloELuACmAECSnABNgAADYAAAWi0quoCjloEPoACmAECSnABNYAADYAAAWi0quoCjloETiACmAECSnABNIAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTnghdwo5aBAAAApgBAkpwATOAAA2AAAFotKrqAo5aBA+gApgBAkpwATMAAA2AAAFotKrqAo5aBB9AApgBAkpwATIAAA2AAAFotKrqAo5aBC7gApgBAkpwATEAAA2AAAFotKrqAo5aBD6AApgDAkpwAQ2AAA2AAAFotKrqAo5aBE4gApgBAkpwATCAAA2AAAFotKrqAH0O2dQEAAAAAAACU54Iu4KOWgQAAAKYAQJKcAEvAAANgAABaLSq6gKOWgQPoAKYAQJKcAEtgAANgAABaLSq6gKOWgQfQAKYAQJKcAEsAAANgAABaLSq6gKOWgQu4AKYAQJKcAEqAAANgAABaLSq6gKOWgQ+gAKYAQJKcAEogAANgAABaLSq6gKOWgROIAKYAQJKcAEnAAANgAABaLSq6gB9DtnUBAAAAAAAAlOeCRlCjloEAAACmAECSnABJgAADYAAAWi0quoCjloED6ACmAECSnABJIAADYAAAWi0quoCjloEH0ACmAMCSnABDYAADYAAAWi0quoCjloELuACmAECSnABI4AADYAAAWi0quoCjloEPoACmAECSnABIoAADYAAAWi0quoCjloETiACmAECSnABIYAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTngl3Ao5aBAAAApgBAkpwASCAAA2AAAFotKrqAo5aBA+gApgBAkpwASAAAA2AAAFotKrqAo5aBB9AApgBAkpwAR8AAA2AAAFotKrqAo5aBC7gApgBAkpwAR4AAA2AAAFotKrqAo5aBD6AApgBAkpwAR2AAA2AAAFotKrqAo5aBE4gApgBAkpwARyAAA2AAAFotKrqAH0O2dQEAAAAAAACU54J1MKOWgQAAAKYAwJKcAENgAANgAABaLSq6gKOWgQPoAKYAQJKcAEbgAANgAABaLSq6gKOWgQfQAKYAQJKcAEagAANgAABaLSq6gKOWgQu4AKYAQJKcAEaAAANgAABaLSq6gKOWgQ+gAKYAQJKcAEZAAANgAABaLSq6gKOWgROIAKYAQJKcAEYAAANgAABaLSq6gB9DtnUBAAAAAAAAlOeCjKCjloEAAACmAECSnABF4AADYAAAWi0quoCjloED6ACmAECSnABFwAADYAAAWi0quoCjloEH0ACmAECSnABFoAADYAAAWi0quoCjloELuACmAECSnABFgAADYAAAWi0quoCjloEPoACmAMCSnABDYAADYAAAWi0quoCjloETiACmAECSnABFYAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTngqQQo5aBAAAApgBAkpwARUAAA2AAAFotKrqAo5aBA+gApgBAkpwARSAAA2AAAFotKrqAo5aBB9AApgBAkpwARQAAA2AAAFotKrqAo5aBC7gApgBAkpwARQAAA2AAAFotKrqAo5aBD6AApgBAkpwAROAAA2AAAFotKrqAo5aBE4gApgBAkpwARMAAA2AAAFotKrqAH0O2dQEAAAAAAACU54K7gKOWgQAAAKYAQJKcAESgAANgAABaLSq6gKOWgQPoAKYAQJKcAESAAANgAABaLSq6gKOWgQfQAKYAwJKcAENgAANgAABaLSq6gKOWgQu4AKYAQJKcAERgAANgAABaLSq6gKOWgQ+gAKYAQJKcAERAAANgAABaLSq6gKOWgROIAKYAQJKcAEQgAANgAABaLSq6gB9DtnUBAAAAAAAAlOeC0vCjloEAAACmAECSnABEIAADYAAAWi0quoCjloED6ACmAECSnABEAAADYAAAWi0quoCjloEH0ACmAECSnABD4AADYAAAWi0quoCjloELuACmAECSnABDwAADYAAAWi0quoCjloEPoACmAECSnABDoAADYAAAWi0quoCjloETiACmAECSnABDgAADYAAAWi0quoAcU7trAQAAAAAAABG7j7OBALeK94EB8YIBd/CBAw==\\\"),A.play())},this.release=function(){A.pause(),A.src=\\\"\\\"}}function iOSWakeLock(){var A=null;this.request=function(){A||(A=setInterval(function(){window.location=window.location,setTimeout(window.stop,0)},3e4))},this.release=function(){A&&(clearInterval(A),A=null)}}function getWakeLock(){var A=navigator.userAgent||navigator.vendor||window.opera;return A.match(/iPhone/i)||A.match(/iPod/i)?iOSWakeLock:AndroidWakeLock}var Util=_dereq_(\\\"./util.js\\\");module.exports=getWakeLock();\\n},{\\\"./util.js\\\":133}]},{},[104])(104)\\n});\\n\\n\\n//# sourceMappingURL=aframe-master.min.js.map\"\n\n/***/ },\n\n/***/ 644:\n/***/ function(module, exports) {\n\nmodule.exports = \"!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i=\\\"function\\\"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error(\\\"Cannot find module '\\\"+g+\\\"'\\\");throw j.code=\\\"MODULE_NOT_FOUND\\\",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f=\\\"function\\\"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(b,c,d){\\\"use strict\\\";var e={};e.encode=function(a){for(var b=[],c=0;c<a.length;++c){var d=a.charCodeAt(c);d<128?b.push(d):d<2048?(b.push(192|d>>6),b.push(128|63&d)):d<65536?(b.push(224|d>>12),b.push(128|63&d>>6),b.push(128|63&d)):(b.push(240|d>>18),b.push(128|63&d>>12),b.push(128|63&d>>6),b.push(128|63&d))}return b},e.decode=function(a){for(var b=[],c=0;c<a.length;){var d=a[c++];d<128||(d<224?(d=(31&d)<<6,d|=63&a[c++]):d<240?(d=(15&d)<<12,d|=(63&a[c++])<<6,d|=63&a[c++]):(d=(7&d)<<18,d|=(63&a[c++])<<12,d|=(63&a[c++])<<6,d|=63&a[c++])),b.push(String.fromCharCode(d))}return b.join(\\\"\\\")};var f={};!function(b){var c=function(a){for(var c=0,d=[],e=0|a.length/3;0<e--;){var f=(a[c]<<16)+(a[c+1]<<8)+a[c+2];c+=3,d.push(b.charAt(63&f>>18)),d.push(b.charAt(63&f>>12)),d.push(b.charAt(63&f>>6)),d.push(b.charAt(63&f))}if(2==a.length-c){var f=(a[c]<<16)+(a[c+1]<<8);d.push(b.charAt(63&f>>18)),d.push(b.charAt(63&f>>12)),d.push(b.charAt(63&f>>6)),d.push(\\\"=\\\")}else if(1==a.length-c){var f=a[c]<<16;d.push(b.charAt(63&f>>18)),d.push(b.charAt(63&f>>12)),d.push(\\\"==\\\")}return d.join(\\\"\\\")},d=function(){for(var a=[],c=0;c<b.length;++c)a[b.charCodeAt(c)]=c;return a[\\\"=\\\".charCodeAt(0)]=0,a}(),g=function(a){for(var b=0,c=[],e=0|a.length/4;0<e--;){var f=(d[a.charCodeAt(b)]<<18)+(d[a.charCodeAt(b+1)]<<12)+(d[a.charCodeAt(b+2)]<<6)+d[a.charCodeAt(b+3)];c.push(255&f>>16),c.push(255&f>>8),c.push(255&f),b+=4}return c&&(\\\"=\\\"==a.charAt(b-2)?(c.pop(),c.pop()):\\\"=\\\"==a.charAt(b-1)&&c.pop()),c},h={};h.encode=function(a){for(var b=[],c=0;c<a.length;++c)b.push(a.charCodeAt(c));return b},h.decode=function(b){for(var c=0;c<s.length;++c)a[c]=String.fromCharCode(a[c]);return a.join(\\\"\\\")},f.decodeArray=function(a){var b=g(a);return new Uint8Array(b)},f.encodeASCII=function(a){var b=h.encode(a);return c(b)},f.decodeASCII=function(a){var b=g(a);return h.decode(b)},f.encode=function(a){var b=e.encode(a);return c(b)},f.decode=function(a){var b=g(a);return e.decode(b)}}(\\\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\\\"),\\\"undefined\\\"!=typeof d&&(d.decode=f.decode,d.decodeArray=f.decodeArray)},{}],2:[function(a,b,c){\\\"use strict\\\";!function(a){var b={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},c=function(a){var c=a;return b.hasOwnProperty(a)&&(c=b[a]),String.fromCharCode(c)},d=15,e=32,f={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},g={17:2,18:4,21:6,22:8,23:10,19:13,20:15},h={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},i={25:2,26:4,29:6,30:8,31:10,27:13,28:15},j=[\\\"white\\\",\\\"green\\\",\\\"blue\\\",\\\"cyan\\\",\\\"red\\\",\\\"yellow\\\",\\\"magenta\\\",\\\"black\\\",\\\"transparent\\\"],k={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(a){this.time=a},log:function(a,b){var c=this.verboseFilter[a];this.verboseLevel>=c&&console.log(this.time+\\\" [\\\"+a+\\\"] \\\"+b)}},l=function(a){for(var b=[],c=0;c<a.length;c++)b.push(a[c].toString(16));return b},m=function(a,b,c,d,e){this.foreground=a||\\\"white\\\",this.underline=b||!1,this.italics=c||!1,this.background=d||\\\"black\\\",this.flash=e||!1};m.prototype={reset:function(){this.foreground=\\\"white\\\",this.underline=!1,this.italics=!1,this.background=\\\"black\\\",this.flash=!1},setStyles:function(a){for(var b=[\\\"foreground\\\",\\\"underline\\\",\\\"italics\\\",\\\"background\\\",\\\"flash\\\"],c=0;c<b.length;c++){var d=b[c];a.hasOwnProperty(d)&&(this[d]=a[d])}},isDefault:function(){return\\\"white\\\"===this.foreground&&!this.underline&&!this.italics&&\\\"black\\\"===this.background&&!this.flash},equals:function(a){return this.foreground===a.foreground&&this.underline===a.underline&&this.italics===a.italics&&this.background===a.background&&this.flash===a.flash},copy:function(a){this.foreground=a.foreground,this.underline=a.underline,this.italics=a.italics,this.background=a.background,this.flash=a.flash},toString:function(){return\\\"color=\\\"+this.foreground+\\\", underline=\\\"+this.underline+\\\", italics=\\\"+this.italics+\\\", background=\\\"+this.background+\\\", flash=\\\"+this.flash}};var n=function(a,b,c,d,e,f){this.uchar=a||\\\" \\\",this.penState=new m(b,c,d,e,f)};n.prototype={reset:function(){this.uchar=\\\" \\\",this.penState.reset()},setChar:function(a,b){this.uchar=a,this.penState.copy(b)},setPenState:function(a){this.penState.copy(a)},equals:function(a){return this.uchar===a.uchar&&this.penState.equals(a.penState)},copy:function(a){this.uchar=a.uchar,this.penState.copy(a.penState)},isEmpty:function(){return\\\" \\\"===this.uchar&&this.penState.isDefault()}};var o=function(){this.chars=[];for(var a=0;a<e;a++)this.chars.push(new n);this.pos=0,this.currPenState=new m};o.prototype={equals:function(a){for(var b=!0,c=0;c<e;c++)if(!this.chars[c].equals(a.chars[c])){b=!1;break}return b},copy:function(a){for(var b=0;b<e;b++)this.chars[b].copy(a.chars[b])},isEmpty:function(){for(var a=!0,b=0;b<e;b++)if(!this.chars[b].isEmpty()){a=!1;break}return a},setCursor:function(a){this.pos!==a&&(this.pos=a),this.pos<0?(k.log(\\\"ERROR\\\",\\\"Negative cursor position \\\"+this.pos),this.pos=0):this.pos>e&&(k.log(\\\"ERROR\\\",\\\"Too large cursor position \\\"+this.pos),this.pos=e)},moveCursor:function(a){var b=this.pos+a;if(a>1)for(var c=this.pos+1;c<b+1;c++)this.chars[c].setPenState(this.currPenState);this.setCursor(b)},backSpace:function(){this.moveCursor(-1),this.chars[this.pos].setChar(\\\" \\\",this.currPenState)},insertChar:function(a){a>=144&&this.backSpace();var b=c(a);return this.pos>=e?void k.log(\\\"ERROR\\\",\\\"Cannot insert \\\"+a.toString(16)+\\\" (\\\"+b+\\\") at position \\\"+this.pos+\\\". Skipping it!\\\"):(this.chars[this.pos].setChar(b,this.currPenState),void this.moveCursor(1))},clearFromPos:function(a){var b;for(b=a;b<e;b++)this.chars[b].reset()},clear:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},clearToEndOfRow:function(){this.clearFromPos(this.pos)},getTextString:function(){for(var a=[],b=!0,c=0;c<e;c++){var d=this.chars[c].uchar;\\\" \\\"!==d&&(b=!1),a.push(d)}return b?\\\"\\\":a.join(\\\"\\\")},setPenStyles:function(a){this.currPenState.setStyles(a);var b=this.chars[this.pos];b.setPenState(this.currPenState)}};var p=function(){this.rows=[];for(var a=0;a<d;a++)this.rows.push(new o);this.currRow=d-1,this.nrRollUpRows=null,this.reset()};p.prototype={reset:function(){for(var a=0;a<d;a++)this.rows[a].clear();this.currRow=d-1},equals:function(a){for(var b=!0,c=0;c<d;c++)if(!this.rows[c].equals(a.rows[c])){b=!1;break}return b},copy:function(a){for(var b=0;b<d;b++)this.rows[b].copy(a.rows[b])},isEmpty:function(){for(var a=!0,b=0;b<d;b++)if(!this.rows[b].isEmpty()){a=!1;break}return a},backSpace:function(){var a=this.rows[this.currRow];a.backSpace()},clearToEndOfRow:function(){var a=this.rows[this.currRow];a.clearToEndOfRow()},insertChar:function(a){var b=this.rows[this.currRow];b.insertChar(a)},setPen:function(a){var b=this.rows[this.currRow];b.setPenStyles(a)},moveCursor:function(a){var b=this.rows[this.currRow];b.moveCursor(a)},setCursor:function(a){k.log(\\\"INFO\\\",\\\"setCursor: \\\"+a);var b=this.rows[this.currRow];b.setCursor(a)},setPAC:function(a){k.log(\\\"INFO\\\",\\\"pacData = \\\"+JSON.stringify(a));var b=a.row-1;this.nrRollUpRows&&b<this.nrRollUpRows-1&&(b=this.nrRollUpRows-1),this.currRow=b;var c=this.rows[this.currRow];if(null!==a.indent){var d=a.indent,e=Math.max(d-1,0);c.setCursor(a.indent),a.color=c.chars[e].penState.foreground}var f={foreground:a.color,underline:a.underline,italics:a.italics,background:\\\"black\\\",flash:!1};this.setPen(f)},setBkgData:function(a){k.log(\\\"INFO\\\",\\\"bkgData = \\\"+JSON.stringify(a)),this.backSpace(),this.setPen(a),this.insertChar(32)},setRollUpRows:function(a){this.nrRollUpRows=a},rollUp:function(){if(null===this.nrRollUpRows)return void k.log(\\\"DEBUG\\\",\\\"roll_up but nrRollUpRows not set yet\\\");k.log(\\\"TEXT\\\",this.getDisplayText());var a=this.currRow+1-this.nrRollUpRows,b=this.rows.splice(a,1)[0];b.clear(),this.rows.splice(this.currRow,0,b),k.log(\\\"INFO\\\",\\\"Rolling up\\\")},getDisplayText:function(a){a=a||!1;for(var b=[],c=\\\"\\\",e=-1,f=0;f<d;f++){var g=this.rows[f].getTextString();g&&(e=f+1,a?b.push(\\\"Row \\\"+e+': \\\"'+g+'\\\"'):b.push(g.trim()))}return b.length>0&&(c=a?\\\"[\\\"+b.join(\\\" | \\\")+\\\"]\\\":b.join(\\\"\\\\n\\\")),c},getTextAndFormat:function(){return this.rows}};var q=function(a,b){this.chNr=a,this.outputFilter=b,this.mode=null,this.verbose=0,this.displayedMemory=new p,this.nonDisplayedMemory=new p,this.lastOutputScreen=new p,this.currRollUpRow=this.displayedMemory.rows[d-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null};q.prototype={modes:[\\\"MODE_ROLL-UP\\\",\\\"MODE_POP-ON\\\",\\\"MODE_PAINT-ON\\\",\\\"MODE_TEXT\\\"],reset:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[d-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},getHandler:function(){return this.outputFilter},setHandler:function(a){this.outputFilter=a},setPAC:function(a){this.writeScreen.setPAC(a)},setBkgData:function(a){this.writeScreen.setBkgData(a)},setMode:function(a){a!==this.mode&&(this.mode=a,k.log(\\\"INFO\\\",\\\"MODE=\\\"+a),\\\"MODE_POP-ON\\\"==this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),\\\"MODE_ROLL-UP\\\"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=a)},insertChars:function(a){for(var b=0;b<a.length;b++)this.writeScreen.insertChar(a[b]);var c=this.writeScreen===this.displayedMemory?\\\"DISP\\\":\\\"NON_DISP\\\";k.log(\\\"INFO\\\",c+\\\": \\\"+this.writeScreen.getDisplayText(!0)),\\\"MODE_PAINT-ON\\\"!==this.mode&&\\\"MODE_ROLL-UP\\\"!==this.mode||(k.log(\\\"TEXT\\\",\\\"DISPLAYED: \\\"+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},cc_RCL:function(){k.log(\\\"INFO\\\",\\\"RCL - Resume Caption Loading\\\"),this.setMode(\\\"MODE_POP-ON\\\")},cc_BS:function(){k.log(\\\"INFO\\\",\\\"BS - BackSpace\\\"),\\\"MODE_TEXT\\\"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},cc_AOF:function(){},cc_AON:function(){},cc_DER:function(){k.log(\\\"INFO\\\",\\\"DER- Delete to End of Row\\\"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},cc_RU:function(a){k.log(\\\"INFO\\\",\\\"RU(\\\"+a+\\\") - Roll Up\\\"),this.writeScreen=this.displayedMemory,this.setMode(\\\"MODE_ROLL-UP\\\"),this.writeScreen.setRollUpRows(a)},cc_FON:function(){k.log(\\\"INFO\\\",\\\"FON - Flash On\\\"),this.writeScreen.setPen({flash:!0})},cc_RDC:function(){k.log(\\\"INFO\\\",\\\"RDC - Resume Direct Captioning\\\"),this.setMode(\\\"MODE_PAINT-ON\\\")},cc_TR:function(){k.log(\\\"INFO\\\",\\\"TR\\\"),this.setMode(\\\"MODE_TEXT\\\")},cc_RTD:function(){k.log(\\\"INFO\\\",\\\"RTD\\\"),this.setMode(\\\"MODE_TEXT\\\")},cc_EDM:function(){k.log(\\\"INFO\\\",\\\"EDM - Erase Displayed Memory\\\"),this.displayedMemory.reset(),this.outputDataUpdate()},cc_CR:function(){k.log(\\\"CR - Carriage Return\\\"),this.writeScreen.rollUp(),this.outputDataUpdate()},cc_ENM:function(){k.log(\\\"INFO\\\",\\\"ENM - Erase Non-displayed Memory\\\"),this.nonDisplayedMemory.reset()},cc_EOC:function(){if(k.log(\\\"INFO\\\",\\\"EOC - End Of Caption\\\"),\\\"MODE_POP-ON\\\"===this.mode){var a=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=a,this.writeScreen=this.nonDisplayedMemory,k.log(\\\"TEXT\\\",\\\"DISP: \\\"+this.displayedMemory.getDisplayText())}this.outputDataUpdate()},cc_TO:function(a){k.log(\\\"INFO\\\",\\\"TO(\\\"+a+\\\") - Tab Offset\\\"),this.writeScreen.moveCursor(a)},cc_MIDROW:function(a){var b={flash:!1};if(b.underline=a%2===1,b.italics=a>=46,b.italics)b.foreground=\\\"white\\\";else{var c=Math.floor(a/2)-16,d=[\\\"white\\\",\\\"green\\\",\\\"blue\\\",\\\"cyan\\\",\\\"red\\\",\\\"yellow\\\",\\\"magenta\\\"];b.foreground=d[c]}k.log(\\\"INFO\\\",\\\"MIDROW: \\\"+JSON.stringify(b)),this.writeScreen.setPen(b)},outputDataUpdate:function(){var a=k.time;null!==a&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(a,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,a,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:a):this.cueStartTime=a,this.lastOutputScreen.copy(this.displayedMemory))},cueSplitAtTime:function(a){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,a,this.displayedMemory),this.cueStartTime=a))}};var r=function(a,b,c){this.field=a||1,this.outputs=[b,c],this.channels=[new q(1,b),new q(2,c)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}};r.prototype={getHandler:function(a){return this.channels[a].getHandler()},setHandler:function(a,b){this.channels[a].setHandler(b)},addData:function(a,b){var c,d,e,f=!1;this.lastTime=a,k.setTime(a);for(var g=0;g<b.length;g+=2)if(d=127&b[g],e=127&b[g+1],0!==d||0!==e){if(k.log(\\\"DATA\\\",\\\"[\\\"+l([b[g],b[g+1]])+\\\"] -> (\\\"+l([d,e])+\\\")\\\"),c=this.parseCmd(d,e),c||(c=this.parseMidrow(d,e)),c||(c=this.parsePAC(d,e)),c||(c=this.parseBackgroundAttributes(d,e)),!c&&(f=this.parseChars(d,e)))if(this.currChNr&&this.currChNr>=0){var h=this.channels[this.currChNr-1];h.insertChars(f)}else k.log(\\\"WARNING\\\",\\\"No channel found yet. TEXT-MODE?\\\");c?this.dataCounters.cmd+=2:f?this.dataCounters.char+=2:(this.dataCounters.other+=2,k.log(\\\"WARNING\\\",\\\"Couldn't parse cleaned data \\\"+l([d,e])+\\\" orig: \\\"+l([b[g],b[g+1]])))}else this.dataCounters.padding+=2},parseCmd:function(a,b){var c=null,d=(20===a||28===a)&&32<=b&&b<=47,e=(23===a||31===a)&&33<=b&&b<=35;if(!d&&!e)return!1;if(a===this.lastCmdA&&b===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,k.log(\\\"DEBUG\\\",\\\"Repeated command (\\\"+l([a,b])+\\\") is dropped\\\"),!0;c=20===a||23===a?1:2;var f=this.channels[c-1];return 20===a||28===a?32===b?f.cc_RCL():33===b?f.cc_BS():34===b?f.cc_AOF():35===b?f.cc_AON():36===b?f.cc_DER():37===b?f.cc_RU(2):38===b?f.cc_RU(3):39===b?f.cc_RU(4):40===b?f.cc_FON():41===b?f.cc_RDC():42===b?f.cc_TR():43===b?f.cc_RTD():44===b?f.cc_EDM():45===b?f.cc_CR():46===b?f.cc_ENM():47===b&&f.cc_EOC():f.cc_TO(b-32),this.lastCmdA=a,this.lastCmdB=b,this.currChNr=c,!0},parseMidrow:function(a,b){var c=null;if((17===a||25===a)&&32<=b&&b<=47){if(c=17===a?1:2,c!==this.currChNr)return k.log(\\\"ERROR\\\",\\\"Mismatch channel in midrow parsing\\\"),!1;var d=this.channels[c-1];return d.cc_MIDROW(b),k.log(\\\"DEBUG\\\",\\\"MIDROW (\\\"+l([a,b])+\\\")\\\"),!0}return!1},parsePAC:function(a,b){var c=null,d=null,e=(17<=a&&a<=23||25<=a&&a<=31)&&64<=b&&b<=127,j=(16===a||24===a)&&64<=b&&b<=95;if(!e&&!j)return!1;if(a===this.lastCmdA&&b===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,!0;c=a<=23?1:2,d=64<=b&&b<=95?1===c?f[a]:h[a]:1===c?g[a]:i[a];var k=this.interpretPAC(d,b),l=this.channels[c-1];return l.setPAC(k),this.lastCmdA=a,this.lastCmdB=b,this.currChNr=c,!0},interpretPAC:function(a,b){var c=b,d={color:null,italics:!1,indent:null,underline:!1,row:a};return c=b>95?b-96:b-64,d.underline=1===(1&c),c<=13?d.color=[\\\"white\\\",\\\"green\\\",\\\"blue\\\",\\\"cyan\\\",\\\"red\\\",\\\"yellow\\\",\\\"magenta\\\",\\\"white\\\"][Math.floor(c/2)]:c<=15?(d.italics=!0,d.color=\\\"white\\\"):d.indent=4*Math.floor((c-16)/2),d},parseChars:function(a,b){var d=null,e=null,f=null;if(a>=25?(d=2,f=a-8):(d=1,f=a),17<=f&&f<=19){var g=b;g=17===f?b+80:18===f?b+112:b+144,k.log(\\\"INFO\\\",\\\"Special char '\\\"+c(g)+\\\"' in channel \\\"+d),e=[g]}else 32<=a&&a<=127&&(e=0===b?[a]:[a,b]);if(e){var h=l(e);k.log(\\\"DEBUG\\\",\\\"Char codes =  \\\"+h.join(\\\",\\\")),this.lastCmdA=null,this.lastCmdB=null}return e},parseBackgroundAttributes:function(a,b){var c,d,e,f,g=(16===a||24===a)&&32<=b&&b<=47,h=(23===a||31===a)&&45<=b&&b<=47;return!(!g&&!h)&&(c={},16===a||24===a?(d=Math.floor((b-32)/2),c.background=j[d],b%2===1&&(c.background=c.background+\\\"_semi\\\")):45===b?c.background=\\\"transparent\\\":(c.foreground=\\\"black\\\",47===b&&(c.underline=!0)),e=a<24?1:2,f=this.channels[e-1],f.setBkgData(c),this.lastCmdA=null,this.lastCmdB=null,!0)},reset:function(){for(var a=0;a<this.channels.length;a++)this.channels[a]&&this.channels[a].reset();this.lastCmdA=null,this.lastCmdB=null},cueSplitAtTime:function(a){for(var b=0;b<this.channels.length;b++)this.channels[b]&&this.channels[b].cueSplitAtTime(a)}};var s=function(a,b,c){for(var d=0,e=b,f=0,g=[],h=function(a,b,c,d){if(4!==a||b<8)return null;var e=c.getUint8(d),f=c.getUint16(d+1),g=c.getUint32(d+3),h=c.getUint8(d+7);return 181==e&&49==f&&1195456820==g&&3==h};e<b+c;){if(d=a.getUint32(e),f=31&a.getUint8(e+4),6===f)for(var i=e+5,j=-1;i<e+4+d-1;){j=0;for(var k=255;255===k;)k=a.getUint8(i),j+=k,i++;var l=0;for(k=255;255===k;)k=a.getUint8(i),l+=k,i++;h(j,l,a,i)&&g.push([i,l]),i+=l}e+=d+4}return g},t=function(a,b){var c=b[0],d=[[],[]];c+=8;var e=31&a.getUint8(c);c+=2;for(var f=0;f<e;f++){var g=a.getUint8(c),h=4&g,i=3&g;c++;var j=a.getUint8(c);c++;var k=a.getUint8(c);c++,h&&(127&j)+(127&k)!==0&&(0===i?(d[0].push(j),d[0].push(k)):1===i&&(d[1].push(j),d[1].push(k)))}return d};a.logger=k,a.PenState=m,a.CaptionScreen=p,a.Cea608Parser=r,a.findCea608Nalus=s,a.extractCea608DataFromRange=t}(\\\"undefined\\\"==typeof c?(void 0).cea608parser={}:c)},{}],3:[function(a,b,c){\\\"use strict\\\";function d(a){var b,c,d;for(b=[],d=0,c=a.length;d<c;d+=1)a[d].isRoot?b.push(\\\"root\\\"):b.push(a[d].name);var e=function(a,b){var c;if(null!==a&&null!==b)for(c in a)a.hasOwnProperty(c)&&(b.hasOwnProperty(c)||(b[c]=a[c]))},f=function(a,b,c){var d,f,g,h,i;if(null!==a&&0!==a.length)for(d=0,f=a.length;d<f;d+=1)g=a[d],b.hasOwnProperty(g.name)&&(c.hasOwnProperty(g.name)?g.merge&&(h=b[g.name],i=c[g.name],\\\"object\\\"==typeof h&&\\\"object\\\"==typeof i?e(h,i):null!=g.mergeFunction?c[g.name]=g.mergeFunction(h,i):c[g.name]=h+i):c[g.name]=b[g.name])},g=function a(b,c){var d,e,g,h,i,j,k,l=b;if(null!==l.children&&0!==l.children.length)for(d=0,e=l.children.length;d<e;d+=1)if(j=l.children[d],c.hasOwnProperty(j.name))if(j.isArray)for(i=c[j.name+\\\"_asArray\\\"],g=0,h=i.length;g<h;g+=1)k=i[g],f(l.properties,c,k),a(j,k);else k=c[j.name],f(l.properties,c,k),a(j,k)},h=function c(d){var e,f,h,i,j,k,l;if(null===d)return d;if(\\\"object\\\"!=typeof d)return d;for(e=0,f=b.length;e<f;e+=1)\\\"root\\\"===b[e]&&(j=a[e],k=d,g(j,k));for(i in d)if(d.hasOwnProperty(i)&&\\\"__children\\\"!=i){if(h=b.indexOf(i),h!==-1)if(j=a[h],j.isArray)for(l=d[i+\\\"_asArray\\\"],e=0,f=l.length;e<f;e+=1)k=l[e],g(j,k);else k=d[i],g(j,k);c(d[i])}return d};return{run:h}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0}),c.default=d,b.exports=c.default},{}],4:[function(a,b,c){\\\"use strict\\\";function d(a,b,c){function d(a){var b=a.localName;return null==b&&(b=a.baseName),null!=b&&\\\"\\\"!=b||(b=a.nodeName),b}function e(a){return a.prefix}function f(a){return\\\"string\\\"==typeof a?a.replace(/&/g,\\\"&amp;\\\").replace(/</g,\\\"&lt;\\\").replace(/>/g,\\\"&gt;\\\").replace(/\\\"/g,\\\"&quot;\\\").replace(/'/g,\\\"&#x27;\\\").replace(/\\\\//g,\\\"&#x2F;\\\"):a}function g(a){return a.replace(/&amp;/g,\\\"&\\\").replace(/&lt;/g,\\\"<\\\").replace(/&gt;/g,\\\">\\\").replace(/&quot;/g,'\\\"').replace(/&#x27;/g,\\\"'\\\").replace(/&#x2F;/g,\\\"/\\\")}function h(f){if(f.nodeType==u.DOCUMENT_NODE){var i,j,k,l=f.firstChild;for(j=0,k=f.childNodes.length;j<k;j+=1)if(f.childNodes[j].nodeType!==u.COMMENT_NODE){l=f.childNodes[j];break}if(c)i=h(l);else{i={};var m=d(l);i[m]=h(l)}return i}if(f.nodeType==u.ELEMENT_NODE){var i=new Object;i.__cnt=0;for(var n=[],o=f.childNodes,p=0;p<o.length;p++){var l=o.item(p),m=d(l);if(i.__cnt++,null==i[m]){var q=h(l);if(\\\"#text\\\"!=m||/[^\\\\s]/.test(q)){var r={};r[m]=q,n.push(r)}i[m]=q,i[m+\\\"_asArray\\\"]=new Array(1),i[m+\\\"_asArray\\\"][0]=i[m]}else{if(null!=i[m]&&!(i[m]instanceof Array)){var s=i[m];i[m]=new Array,i[m][0]=s,i[m+\\\"_asArray\\\"]=i[m]}for(var v=0;null!=i[m][v];)v++;var q=h(l);if(\\\"#text\\\"!=m||/[^\\\\s]/.test(q)){var r={};r[m]=q,n.push(r)}i[m][v]=q}}i.__children=n;for(var w=0;w<f.attributes.length;w++){var x=f.attributes.item(w);i.__cnt++;for(var y=x.value,z=0,A=a.length;z<A;z++){var B=a[z];B.test(x)&&(y=B.converter(x.value))}i[b+x.name]=y}var C=e(f);return null!=C&&\\\"\\\"!=C&&(i.__cnt++,i.__prefix=C),1==i.__cnt&&null!=i[\\\"#text\\\"]&&(i=i[\\\"#text\\\"]),null!=i[\\\"#text\\\"]&&(i.__text=i[\\\"#text\\\"],t&&(i.__text=g(i.__text)),delete i[\\\"#text\\\"],delete i[\\\"#text_asArray\\\"]),null!=i[\\\"#cdata-section\\\"]&&(i.__cdata=i[\\\"#cdata-section\\\"],delete i[\\\"#cdata-section\\\"],delete i[\\\"#cdata-section_asArray\\\"]),null==i.__text&&null==i.__cdata||(i.toString=function(){return(null!=this.__text?this.__text:\\\"\\\")+(null!=this.__cdata?this.__cdata:\\\"\\\")}),i}return f.nodeType==u.TEXT_NODE||f.nodeType==u.CDATA_SECTION_NODE?f.nodeValue:f.nodeType==u.COMMENT_NODE?null:void 0}function i(a,b,c,d){var e=\\\"<\\\"+(null!=a&&null!=a.__prefix?a.__prefix+\\\":\\\":\\\"\\\")+b;if(null!=c)for(var f=0;f<c.length;f++){var g=c[f],h=a[g];e+=\\\" \\\"+g.substr(1)+\\\"='\\\"+h+\\\"'\\\"}return e+=d?\\\"/>\\\":\\\">\\\"}function j(a,b){return\\\"</\\\"+(null!=a.__prefix?a.__prefix+\\\":\\\":\\\"\\\")+b+\\\">\\\"}function k(a,b){return a.indexOf(b,a.length-b.length)!==-1}function l(a,b){return!!(k(b.toString(),\\\"_asArray\\\")||0==b.toString().indexOf(\\\"_\\\")||a[b]instanceof Function)}function m(a){var b=0;if(a instanceof Object)for(var c in a)l(a,c)||b++;return b}function n(a){var b=[];if(a instanceof Object)for(var c in a)c.toString().indexOf(\\\"__\\\")==-1&&0==c.toString().indexOf(\\\"_\\\")&&b.push(c);return b}function o(a){var b=\\\"\\\";return null!=a.__cdata&&(b+=\\\"<![CDATA[\\\"+a.__cdata+\\\"]]>\\\"),null!=a.__text&&(b+=t?f(a.__text):a.__text),b}function p(a){var b=\\\"\\\";return a instanceof Object?b+=o(a):null!=a&&(b+=t?f(a):a),b}function q(a,b,c){var d=\\\"\\\";if(0==a.length)d+=i(a,b,c,!0);else for(var e=0;e<a.length;e++)d+=i(a[e],b,n(a[e]),!1),d+=r(a[e]),d+=j(a[e],b);return d}function r(a){var b=\\\"\\\",c=m(a);if(c>0)for(var d in a)if(!l(a,d)){var e=a[d],f=n(e);if(null==e||void 0==e)b+=i(e,d,f,!0);else if(e instanceof Object)if(e instanceof Array)b+=q(e,d,f);else{var g=m(e);g>0||null!=e.__text||null!=e.__cdata?(b+=i(e,d,f,!1),b+=r(e),b+=j(e,d)):b+=i(e,d,f,!0)}else b+=i(e,d,f,!1),b+=p(e),b+=j(e,d)}return b+=p(a)}null!==b&&void 0!==b||(b=\\\"_\\\"),null!==c&&void 0!==c||(c=!1);var s=\\\"1.0.11\\\",t=!1,u={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};this.parseXmlString=function(a){var b,c,d;if(window.DOMParser){c=new window.DOMParser;try{d=c.parseFromString(\\\"<\\\",\\\"text/xml\\\").getElementsByTagName(\\\"parsererror\\\")[0].namespaceURI}catch(e){}try{b=c.parseFromString(a,\\\"text/xml\\\"),d&&b.getElementsByTagNameNS(d,\\\"parsererror\\\").length&&(b=void 0)}catch(e){}}else 0==a.indexOf(\\\"<?\\\")&&(a=a.substr(a.indexOf(\\\"?>\\\")+2)),b=new ActiveXObject(\\\"Microsoft.XMLDOM\\\"),b.async=\\\"false\\\",b.loadXML(a);return b},this.xml2json=function(a){return h(a)},this.xml_str2json=function(a){var b=this.parseXmlString(a);return b?this.xml2json(b):void 0},this.json2xml_str=function(a){return r(a)},this.json2xml=function(a){var b=this.json2xml_str(a);return this.parseXmlString(b)},this.getVersion=function(){return s},this.escapeMode=function(a){t=a}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0}),c.default=d,b.exports=c.default},{}],5:[function(a,b,c){(function(b){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=a(51),f=d(e),g=a(106),h=d(g),i=a(75),j=d(i),k=a(53),l=d(k),m=a(11),n=window||b,o=n.dashjs;o||(o=n.dashjs={}),o.MediaPlayer=f.default,o.Protection=h.default,o.MetricsReporting=j.default,o.MediaPlayerFactory=l.default,o.Version=(0,m.getVersionString)(),c.default=o,c.MediaPlayer=f.default,c.Protection=h.default,c.MetricsReporting=j.default,c.MediaPlayerFactory=l.default}).call(this,\\\"undefined\\\"!=typeof global?global:\\\"undefined\\\"!=typeof self?self:\\\"undefined\\\"!=typeof window?window:{})},{106:106,11:11,51:51,53:53,75:75}],6:[function(a,b,c){/*! codem-isoboxer v0.2.2 https://github.com/madebyhiro/codem-isoboxer/blob/master/LICENSE.txt */\\nvar d={};d.parseBuffer=function(a){return new e(a).parse()},d.Utils={},d.Utils.dataViewToString=function(a,b){var c=b||\\\"utf-8\\\";if(\\\"undefined\\\"!=typeof TextDecoder)return new TextDecoder(c).decode(a);var d=[],e=0;if(\\\"utf-8\\\"===c)for(;e<a.byteLength;){var f=a.getUint8(e++);f<128||(f<224?(f=(31&f)<<6,f|=63&a.getUint8(e++)):f<240?(f=(15&f)<<12,f|=(63&a.getUint8(e++))<<6,f|=63&a.getUint8(e++)):(f=(7&f)<<18,f|=(63&a.getUint8(e++))<<12,f|=(63&a.getUint8(e++))<<6,f|=63&a.getUint8(e++))),d.push(String.fromCharCode(f))}else for(;e<a.byteLength;)d.push(String.fromCharCode(a.getUint8(e++)));return d.join(\\\"\\\")},\\\"undefined\\\"!=typeof c&&(c.parseBuffer=d.parseBuffer,c.Utils=d.Utils),d.Cursor=function(a){this.offset=\\\"undefined\\\"==typeof a?0:a};var e=function(a){this._raw=new DataView(a),this._cursor=new d.Cursor,this.boxes=[]};e.prototype.fetch=function(a){var b=this.fetchAll(a,!0);return b.length?b[0]:null},e.prototype.fetchAll=function(a,b){var c=[];return e._sweep.call(this,a,c,b),c},e.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var a=f.parse(this);if(\\\"undefined\\\"==typeof a.type)break;this.boxes.push(a)}return this},e._sweep=function(a,b,c){this.type&&this.type==a&&b.push(this);for(var d in this.boxes){if(b.length&&c)return;e._sweep.call(this.boxes[d],a,b,c)}};var f=function(){this._cursor=new d.Cursor};f.parse=function(a){var b=new f;return b._offset=a._cursor.offset,b._root=a._root?a._root:a,b._raw=a._raw,b._parent=a,b._parseBox(),a._cursor.offset=b._raw.byteOffset+b._raw.byteLength,b},f.prototype._readInt=function(a){var b=null;switch(a){case 8:b=this._raw.getInt8(this._cursor.offset-this._raw.byteOffset);break;case 16:b=this._raw.getInt16(this._cursor.offset-this._raw.byteOffset);break;case 32:b=this._raw.getInt32(this._cursor.offset-this._raw.byteOffset);break;case 64:var c=this._raw.getInt32(this._cursor.offset-this._raw.byteOffset),d=this._raw.getInt32(this._cursor.offset-this._raw.byteOffset+4);b=c*Math.pow(2,32)+d}return this._cursor.offset+=a>>3,b},f.prototype._readUint=function(a){var b=null;switch(a){case 8:b=this._raw.getUint8(this._cursor.offset-this._raw.byteOffset);break;case 16:b=this._raw.getUint16(this._cursor.offset-this._raw.byteOffset);break;case 24:var c=this._raw.getUint16(this._cursor.offset-this._raw.byteOffset),d=this._raw.getUint8(this._cursor.offset-this._raw.byteOffset+2);b=(c<<8)+d;break;case 32:b=this._raw.getUint32(this._cursor.offset-this._raw.byteOffset);break;case 64:var c=this._raw.getUint32(this._cursor.offset-this._raw.byteOffset),d=this._raw.getUint32(this._cursor.offset-this._raw.byteOffset+4);b=c*Math.pow(2,32)+d}return this._cursor.offset+=a>>3,b},f.prototype._readString=function(a){for(var b=\\\"\\\",c=0;c<a;c++){var d=this._readUint(8);b+=String.fromCharCode(d)}return b},f.prototype._readTerminatedString=function(){for(var a=\\\"\\\";;){var b=this._readUint(8);if(0==b)break;a+=String.fromCharCode(b)}return a},f.prototype._readTemplate=function(a){var b=this._readUint(a/2),c=this._readUint(a/2);return b+c/Math.pow(2,a/2)},f.prototype._parseBox=function(){if(this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)return void(this._root._incomplete=!0);switch(this.size=this._readUint(32),this.type=this._readString(4),1==this.size&&(this.largesize=this._readUint(64)),\\\"uuid\\\"==this.type&&(this.usertype=this._readString(16)),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset,this._raw.byteLength-this._cursor.offset);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}!this._incomplete&&this._boxParsers[this.type]&&this._boxParsers[this.type].call(this)},f.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},f.prototype._boxParsers={},[\\\"moov\\\",\\\"trak\\\",\\\"tref\\\",\\\"mdia\\\",\\\"minf\\\",\\\"stbl\\\",\\\"edts\\\",\\\"dinf\\\",\\\"mvex\\\",\\\"moof\\\",\\\"traf\\\",\\\"mfra\\\",\\\"udta\\\",\\\"meco\\\",\\\"strk\\\",\\\"vttc\\\"].forEach(function(a){f.prototype._boxParsers[a]=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(f.parse(this))}}),f.prototype._boxParsers.elst=function(){this._parseFullBox(),this.entry_count=this._readUint(32),this.entries=[];for(var a=1;a<=this.entry_count;a++){var b={};1==this.version?(b.segment_duration=this._readUint(64),b.media_time=this._readInt(64)):(b.segment_duration=this._readUint(32),b.media_time=this._readInt(32)),b.media_rate_integer=this._readInt(16),b.media_rate_fraction=this._readInt(16),this.entries.push(b)}},f.prototype._boxParsers.emsg=function(){this._parseFullBox(),this.scheme_id_uri=this._readTerminatedString(),this.value=this._readTerminatedString(),this.timescale=this._readUint(32),this.presentation_time_delta=this._readUint(32),this.event_duration=this._readUint(32),this.id=this._readUint(32),this.message_data=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset))},f.prototype._boxParsers.free=f.prototype._boxParsers.skip=function(){this.data=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset))},f.prototype._boxParsers.ftyp=f.prototype._boxParsers.styp=function(){for(this.major_brand=this._readString(4),this.minor_versions=this._readUint(32),this.compatible_brands=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.compatible_brands.push(this._readString(4))},f.prototype._boxParsers.hdlr=function(){this._parseFullBox(),this.pre_defined=this._readUint(32),this.handler_type=this._readString(4),this.reserved=[this._readUint(32),this._readUint(32),this._readUint(32)],this.name=this._readTerminatedString()},f.prototype._boxParsers.mdat=function(){this.data=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset))},f.prototype._boxParsers.mdhd=function(){this._parseFullBox(),1==this.version?(this.creation_time=this._readUint(64),this.modification_time=this._readUint(64),this.timescale=this._readUint(32),this.duration=this._readUint(64)):(this.creation_time=this._readUint(32),this.modification_time=this._readUint(32),this.timescale=this._readUint(32),this.duration=this._readUint(32));var a=this._readUint(16);this.pad=a>>15,this.language=String.fromCharCode((a>>10&31)+96,(a>>5&31)+96,(31&a)+96),this.pre_defined=this._readUint(16)},f.prototype._boxParsers.mfhd=function(){this._parseFullBox(),this.sequence_number=this._readUint(32)},f.prototype._boxParsers.mvhd=function(){this._parseFullBox(),1==this.version?(this.creation_time=this._readUint(64),this.modification_time=this._readUint(64),this.timescale=this._readUint(32),this.duration=this._readUint(64)):(this.creation_time=this._readUint(32),this.modification_time=this._readUint(32),this.timescale=this._readUint(32),this.duration=this._readUint(32)),this.rate=this._readTemplate(32),this.volume=this._readTemplate(16),this.reserved1=this._readUint(16),this.reserved2=[this._readUint(32),this._readUint(32)],this.matrix=[];for(var a=0;a<9;a++)this.matrix.push(this._readTemplate(32));this.pre_defined=[];for(var a=0;a<6;a++)this.pre_defined.push(this._readUint(32));this.next_track_ID=this._readUint(32)},f.prototype._boxParsers.payl=function(){var a=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset));this.cue_text=d.Utils.dataViewToString(a)},f.prototype._boxParsers.sidx=function(){this._parseFullBox(),this.reference_ID=this._readUint(32),this.timescale=this._readUint(32),0==this.version?(this.earliest_presentation_time=this._readUint(32),this.first_offset=this._readUint(32)):(this.earliest_presentation_time=this._readUint(64),this.first_offset=this._readUint(64)),this.reserved=this._readUint(16),this.reference_count=this._readUint(16),this.references=[];for(var a=0;a<this.reference_count;a++){var b={},c=this._readUint(32);b.reference_type=c>>31&1,b.referenced_size=2147483647&c,b.subsegment_duration=this._readUint(32);var d=this._readUint(32);b.starts_with_SAP=d>>31&1,b.SAP_type=d>>28&7,b.SAP_delta_time=268435455&d,this.references.push(b)}},f.prototype._boxParsers.ssix=function(){this._parseFullBox(),this.subsegment_count=this._readUint(32),this.subsegments=[];for(var a=0;a<this.subsegment_count;a++){var b={};b.ranges_count=this._readUint(32),b.ranges=[];for(var c=0;c<b.ranges_count;c++){var d={};d.level=this._readUint(8),d.range_size=this._readUint(24),b.ranges.push(d)}this.subsegments.push(b)}},f.prototype._boxParsers.tfdt=function(){this._parseFullBox(),1==this.version?this.baseMediaDecodeTime=this._readUint(64):this.baseMediaDecodeTime=this._readUint(32)},f.prototype._boxParsers.tfhd=function(){this._parseFullBox(),this.track_ID=this._readUint(32),1&this.flags&&(this.base_data_offset=this._readUint(64)),2&this.flags&&(this.sample_description_offset=this._readUint(32)),8&this.flags&&(this.default_sample_duration=this._readUint(32)),16&this.flags&&(this.default_sample_size=this._readUint(32)),32&this.flags&&(this.default_sample_flags=this._readUint(32))},f.prototype._boxParsers.tkhd=function(){this._parseFullBox(),1==this.version?(this.creation_time=this._readUint(64),this.modification_time=this._readUint(64),this.track_ID=this._readUint(32),this.reserved1=this._readUint(32),this.duration=this._readUint(64)):(this.creation_time=this._readUint(32),this.modification_time=this._readUint(32),this.track_ID=this._readUint(32),this.reserved1=this._readUint(32),this.duration=this._readUint(32)),this.reserved2=[this._readUint(32),this._readUint(32)],this.layer=this._readUint(16),this.alternate_group=this._readUint(16),this.volume=this._readTemplate(16),this.reserved3=this._readUint(16),this.matrix=[];for(var a=0;a<9;a++)this.matrix.push(this._readTemplate(32));this.width=this._readUint(32),this.height=this._readUint(32)},f.prototype._boxParsers.trun=function(){this._parseFullBox(),this.sample_count=this._readUint(32),1&this.flags&&(this.data_offset=this._readInt(32)),4&this.flags&&(this.first_sample_flags=this._readUint(32)),this.samples=[];for(var a=0;a<this.sample_count;a++){var b={};256&this.flags&&(b.sample_duration=this._readUint(32)),512&this.flags&&(b.sample_size=this._readUint(32)),1024&this.flags&&(b.sample_flags=this._readUint(32)),2048&this.flags&&(0==this.version?b.sample_composition_time_offset=this._readUint(32):b.sample_composition_time_offset=this._readInt(32)),this.samples.push(b)}},f.prototype._boxParsers.vlab=function(){var a=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset));this.source_label=d.Utils.dataViewToString(a)},f.prototype._boxParsers.vttC=function(){var a=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset));this.config=d.Utils.dataViewToString(a)},f.prototype._boxParsers.vtte=function(){}},{}],7:[function(a,b,c){var d=c.decimalAdjust=function(a,b,c){return\\\"undefined\\\"==typeof c||0===+c?Math[a](b):(b=+b,c=+c,isNaN(b)||\\\"number\\\"!=typeof c||c%1!==0?NaN:(b=b.toString().split(\\\"e\\\"),b=Math[a](+(b[0]+\\\"e\\\"+(b[1]?+b[1]-c:-c))),b=b.toString().split(\\\"e\\\"),+(b[0]+\\\"e\\\"+(b[1]?+b[1]+c:c))))};b.exports={round10:function(a,b){return d(\\\"round\\\",a,b)},floor10:function(a,b){return d(\\\"floor\\\",a,b)},ceil10:function(a,b){return d(\\\"ceil\\\",a,b)}},b.exports.polyfill=function(){Math.round10||(Math.round10=b.exports.round10),Math.floor10||(Math.floor10=b.exports.floor10),Math.ceil10||(Math.ceil10=b.exports.ceil10)}},{}],8:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){k=!0,l=!0,m=(new Date).getTime()}function b(a){l=a}function c(a){k=a}function d(){return k}function e(){var a=\\\"\\\",b=null;l&&(b=(new Date).getTime(),a+=\\\"[\\\"+(b-m)+\\\"]\\\"),a.length>0&&(a+=\\\" \\\"),Array.apply(null,arguments).forEach(function(b){a+=b+\\\" \\\"}),k&&console.log(a),h.trigger(i.default.LOG,{message:a})}var f=this.context,h=(0,g.default)(f).getInstance(),j=void 0,k=void 0,l=void 0,m=void 0;return j={log:e,setLogTimestampVisible:b,setLogToBrowserConsole:c,getLogToBrowserConsole:d},a(),j}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(9),g=d(f),h=a(13),i=d(h),j=a(10),k=d(j);e.__dashjs_factory_name=\\\"Debug\\\",c.default=k.default.getSingletonFactory(e),b.exports=c.default},{10:10,13:13,9:9}],9:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a,b,c){var e=arguments.length<=3||void 0===arguments[3]?h:arguments[3];if(!a)throw new Error(\\\"event type cannot be null or undefined\\\");if(!b||\\\"function\\\"!=typeof b)throw new Error(\\\"listener must be a function: \\\"+b);if(!(d(a,b,c)>=0)){f[a]=f[a]||[];var g={callback:b,scope:c,priority:e},i=f[a].some(function(b,c){if(e>b.priority)return f[a].splice(c,0,g),!0});i||f[a].push(g)}}function b(a,b,c){if(a&&b&&f[a]){var e=d(a,b,c);e<0||f[a].splice(e,1)}}function c(a,b){if(a&&f[a]){if(b=b||{},b.hasOwnProperty(\\\"type\\\"))throw new Error(\\\"'type' is a reserved word for event dispatching\\\");b.type=a,f[a].forEach(function(a){return a.callback.call(a.scope,b)})}}function d(a,b,c){var d=-1;return f[a]?(f[a].some(function(a,e){if(a.callback===b&&(!c||c===a.scope))return d=e,!0}),d):d}function e(){f={}}var f={},g={on:a,off:b,trigger:c,reset:e};return g}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f),h=0,i=5e3;e.__dashjs_factory_name=\\\"EventBus\\\";var j=g.default.getSingletonFactory(e);j.EVENT_PRIORITY_LOW=h,j.EVENT_PRIORITY_HIGH=i,c.default=j,b.exports=c.default},{10:10}],10:[function(a,b,c){\\\"use strict\\\";Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var d=function(){function a(a,b,c,d){var e=g(d);!e[a]&&b&&(e[a]={instance:b,override:c})}function b(a,b){for(var c in j){var d=j[c];if(d.context===a&&d.name===b)return d.instance}return null}function c(a,b,c){for(var d in j){var e=j[d];if(e.context===a&&e.name===b)return void(j[d].instance=c)}j.push({name:b,context:a,instance:c})}function d(a){return function(b){return void 0===b&&(b={}),{create:function(){return f(a.__dashjs_factory_name,a.apply({context:b},arguments),b,arguments)}}}}function e(a){return function(c){var d=void 0;return void 0===c&&(c={}),{getInstance:function(){return d||(d=b(c,a.__dashjs_factory_name)),d||(d=f(a.__dashjs_factory_name,a.apply({context:c},arguments),c,arguments),j.push({name:a.__dashjs_factory_name,context:c,instance:d})),d}}}}function f(a,b,c,d){var e=g(c),f=e[a];if(f){var i=f.instance;if(!f.override)return i.apply({context:c,factory:h},d);i=i.apply({context:c,factory:h,parent:b},d);for(var j in i)b.hasOwnProperty(j)&&(b[j]=i[j])}return b}function g(a){var b=void 0;return i.forEach(function(c){c===a&&(b=c)}),b||(b=i.push(a)),b}var h=void 0,i=[],j=[];return h={extend:a,getSingletonInstance:b,setSingletonInstance:c,getSingletonFactory:e,getClassFactory:d}}();c.default=d,b.exports=c.default},{}],11:[function(a,b,c){\\\"use strict\\\";function d(){return e}Object.defineProperty(c,\\\"__esModule\\\",{value:!0}),c.getVersionString=d;var e=\\\"2.3.0\\\"},{}],12:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}function f(a,b){if(\\\"function\\\"!=typeof b&&null!==b)throw new TypeError(\\\"Super expression must either be null or a function, not \\\"+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var g=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if(\\\"value\\\"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}},h=a(14),i=d(h),j=function(a){function b(){e(this,b),g(Object.getPrototypeOf(b.prototype),\\\"constructor\\\",this).call(this),this.AST_IN_FUTURE=\\\"astinfuture\\\",this.BUFFERING_COMPLETED=\\\"bufferingCompleted\\\",this.BUFFER_CLEARED=\\\"bufferCleared\\\",this.BUFFER_LEVEL_UPDATED=\\\"bufferLevelUpdated\\\",this.BYTES_APPENDED=\\\"bytesAppended\\\",this.CHECK_FOR_EXISTENCE_COMPLETED=\\\"checkForExistenceCompleted\\\",this.CHUNK_APPENDED=\\\"chunkAppended\\\",this.CURRENT_TRACK_CHANGED=\\\"currenttrackchanged\\\",this.DATA_UPDATE_COMPLETED=\\\"dataUpdateCompleted\\\",this.DATA_UPDATE_STARTED=\\\"dataUpdateStarted\\\",this.FRAGMENT_LOADING_COMPLETED=\\\"fragmentLoadingCompleted\\\",this.FRAGMENT_LOADING_STARTED=\\\"fragmentLoadingStarted\\\",this.FRAGMENT_LOADING_ABANDONED=\\\"fragmentLoadingAbandoned\\\",this.INITIALIZATION_LOADED=\\\"initializationLoaded\\\",this.INIT_FRAGMENT_LOADED=\\\"initFragmentLoaded\\\",this.INIT_REQUESTED=\\\"initRequested\\\",this.INTERNAL_MANIFEST_LOADED=\\\"internalManifestLoaded\\\",this.LIVE_EDGE_SEARCH_COMPLETED=\\\"liveEdgeSearchCompleted\\\",this.LOADING_COMPLETED=\\\"loadingCompleted\\\",this.LOADING_PROGRESS=\\\"loadingProgress\\\",this.MANIFEST_UPDATED=\\\"manifestUpdated\\\",this.MEDIA_FRAGMENT_LOADED=\\\"mediaFragmentLoaded\\\",this.QUOTA_EXCEEDED=\\\"quotaExceeded\\\",this.REPRESENTATION_UPDATED=\\\"representationUpdated\\\",this.SEGMENTS_LOADED=\\\"segmentsLoaded\\\",this.SERVICE_LOCATION_BLACKLIST_CHANGED=\\\"serviceLocationBlacklistChanged\\\",this.SOURCEBUFFER_APPEND_COMPLETED=\\\"sourceBufferAppendCompleted\\\",this.SOURCEBUFFER_REMOVE_COMPLETED=\\\"sourceBufferRemoveCompleted\\\",this.STREAMS_COMPOSED=\\\"streamsComposed\\\",this.STREAM_BUFFERING_COMPLETED=\\\"streamBufferingCompleted\\\",this.STREAM_COMPLETED=\\\"streamCompleted\\\",this.STREAM_INITIALIZED=\\\"streaminitialized\\\",this.STREAM_TEARDOWN_COMPLETE=\\\"streamTeardownComplete\\\",this.TIMED_TEXT_REQUESTED=\\\"timedTextRequested\\\",this.TIME_SYNCHRONIZATION_COMPLETED=\\\"timeSynchronizationComplete\\\",this.URL_RESOLUTION_FAILED=\\\"urlResolutionFailed\\\",this.WALLCLOCK_TIME_UPDATED=\\\"wallclockTimeUpdated\\\",this.XLINK_ALL_ELEMENTS_LOADED=\\\"xlinkAllElementsLoaded\\\",this.XLINK_ELEMENT_LOADED=\\\"xlinkElementLoaded\\\",this.XLINK_READY=\\\"xlinkReady\\\"}return f(b,a),b}(i.default);c.default=j,b.exports=c.default},{14:14}],13:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}function f(a,b){if(\\\"function\\\"!=typeof b&&null!==b)throw new TypeError(\\\"Super expression must either be null or a function, not \\\"+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var g=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if(\\\"value\\\"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}},h=a(12),i=d(h),j=function(a){function b(){e(this,b),g(Object.getPrototypeOf(b.prototype),\\\"constructor\\\",this).apply(this,arguments)}return f(b,a),b}(i.default),k=new j;c.default=k,b.exports=c.default},{12:12}],14:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,\\\"value\\\"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(){d(this,a)}return e(a,[{key:\\\"extend\\\",value:function(a,b){if(a){var c=!!b&&b.override,d=!!b&&b.publicOnly;for(var e in a)!a.hasOwnProperty(e)||this[e]&&!c||d&&a[e].indexOf(\\\"public_\\\")===-1||(this[e]=a[e])}}}]),a}();c.default=f,b.exports=c.default},{}],15:[function(a,b,c){\\\"use strict\\\";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function e(a){return a&&a.__esModule?a:{default:a}}function f(){function a(a){a&&a.dashManifestModel&&(I=a.dashManifestModel)}function b(){J=[],K={}}function c(a,b){return b.getRepresentationForQuality(a.quality)}function d(a){return K[a.streamInfo.id][a.index]}function e(a){for(var b=J.length,c=0;c<b;c++){var d=J[c];if(a.id===d.id)return d}return null}function f(a,b){var c=new h.default,d=b.adaptation.period.mpd.manifest.Period_asArray[b.adaptation.period.index].AdaptationSet_asArray[b.adaptation.index],e=I.getRepresentationFor(b.index,d);return c.id=b.id,c.quality=b.index,c.bandwidth=I.getBandwidth(e),c.DVRWindow=b.segmentAvailabilityRange,c.fragmentDuration=b.segmentDuration||(b.segments&&b.segments.length>0?b.segments[0].duration:NaN),c.MSETimeOffset=b.MSETimeOffset,c.useCalculatedLiveEdgeTime=b.useCalculatedLiveEdgeTime,c.mediaInfo=g(a,b.adaptation),c}function g(a,b){var c,d=new j.default,e=b.period.mpd.manifest.Period_asArray[b.period.index].AdaptationSet_asArray[b.index];return d.id=b.id,d.index=b.index,d.type=b.type,d.streamInfo=k(a,b.period),d.representationCount=I.getRepresentationCount(e),d.lang=I.getLanguageForAdaptation(e),c=I.getViewpointForAdaptation(e),d.viewpoint=c?c.value:void 0,d.accessibility=I.getAccessibilityForAdaptation(e).map(function(a){var b=a.value,c=b;return a.schemeIdUri&&a.schemeIdUri.search(\\\"cea-608\\\")>=0&&\\\"undefined\\\"!=typeof t.default&&(c=b?\\\"cea-608:\\\"+b:\\\"cea-608\\\",d.embeddedCaptions=!0),c}),d.audioChannelConfiguration=I.getAudioChannelConfigurationForAdaptation(e).map(function(a){return a.value}),d.roles=I.getRolesForAdaptation(e).map(function(a){return a.value}),d.codec=I.getCodec(e),d.mimeType=I.getMimeType(e),d.contentProtection=I.getContentProtectionData(e),d.bitrateList=I.getBitrateListForAdaptation(e),d.contentProtection&&d.contentProtection.forEach(function(a){a.KID=I.getKID(a)}),d.isText=I.getIsTextTrack(d.mimeType),d}function i(a,b,c){a.id=b,a.index=100+parseInt(b.substring(2,3)),a.type=\\\"embeddedText\\\",a.codec=\\\"cea-608-in-SEI\\\",a.isText=!0,a.isEmbedded=!0,a.lang=b+\\\" \\\"+c,a.roles=[\\\"caption\\\"]}function k(a,b){var c=new l.default,d=1;return c.id=b.id,c.index=b.index,c.start=b.start,c.duration=b.duration,c.manifestInfo=m(a,b.mpd),c.isLast=1===a.Period_asArray.length||Math.abs(c.start+c.duration-c.manifestInfo.duration)<d,c.isFirst=1===a.Period_asArray.length||I.getRegularPeriods(a,I.getMpd(a))[0].id===b.id,c}function m(a,b){var c=new n.default;return c.DVRWindowSize=b.timeShiftBufferDepth,c.loadedTime=b.manifest.loadedTime,c.availableFrom=b.availabilityStartTime,c.minBufferTime=b.manifest.minBufferTime,c.maxFragmentDuration=b.maxSegmentDuration,c.duration=I.getDuration(a),c.isDynamic=I.getIsDynamic(a),c}function o(a,b,c){var d=I.getAdaptationForType(a,b.index,c,b);if(!d)return null;var f=e(b),h=f.id,i=I.getIndexForAdaptation(d,a,b.index);return K[h]=K[h]||I.getAdaptationsForPeriod(a,f),g(a,K[h][i])}function q(a,b,c){var d,f,h,j,k,l,m=e(b),n=m.id,o=I.getAdaptationsForType(a,b.index,\\\"embeddedText\\\"!==c?c:\\\"video\\\"),p=[];if(!o)return p;for(K[n]=K[n]||I.getAdaptationsForPeriod(a,m),j=0,l=o.length;j<l;j++){if(d=o[j],h=I.getIndexForAdaptation(d,a,b.index),f=g(a,K[n][h]),\\\"embeddedText\\\"===c){var q=f.accessibility.length;for(k=0;k<q;k++)if(f){var r=f.accessibility[k];if(0===r.indexOf(\\\"cea-608:\\\")){var s=r.substring(8),t=s.split(\\\";\\\");if(\\\"CC\\\"===t[0].substring(0,2))for(k=0;k<t.length;k++)f||(f=g.call(this,a,K[n][h])),i(f,t[k].substring(0,3),t[k].substring(4)),p.push(f),f=null;else for(k=0;k<t.length;k++)f||(f=g.call(this,a,K[n][h])),i(f,\\\"CC\\\"+(k+1),t[k]),p.push(f),f=null}else 0===r.indexOf(\\\"cea-608\\\")&&(i(f,\\\"CC1\\\",\\\"eng\\\"),p.push(f),f=null)}}f&&\\\"embeddedText\\\"!==c&&p.push(f)}return p}function r(a){var b,c,d,e=[];if(!a)return null;for(b=I.getMpd(a),J=I.getRegularPeriods(a,b),b.checkTime=I.getCheckTime(a,J[0]),K={},c=J.length,d=0;d<c;d++)e.push(k(a,J[d]));return e}function s(a){var b=I.getMpd(a);return m(a,b)}function u(a,b){var c=a.getRepresentationController().getRepresentationForQuality(b);return a.getIndexHandler().getInitRequest(c)}function w(a,b){var d=c(b,a.getRepresentationController());return a.getIndexHandler().getNextSegmentRequest(d)}function x(a,b,d,e){var f=c(b,a.getRepresentationController());return a.getIndexHandler().getSegmentRequestForTime(f,d,e)}function y(a,b,d){var e=c(b,a.getRepresentationController());return a.getIndexHandler().generateSegmentRequestForTime(e,d)}function z(a){return a.getIndexHandler().getCurrentTime()}function A(a,b){return a.getIndexHandler().setCurrentTime(b)}function B(a,b){var c,f,g=e(b.getStreamInfo()),h=b.getMediaInfo(),i=d(h),j=b.getType();c=h.id,f=c?I.getAdaptationForId(c,a,g.index):I.getAdaptationForIndex(h.index,a,g.index),b.getRepresentationController().updateData(f,i,j)}function C(a,b,c){var d=b.getRepresentationForQuality(c);return d?f(a,d):null}function D(a,b){var c=b.getCurrentRepresentation();return c?f(a,c):null}function E(a,b,c){var d=new p.default,e=a.scheme_id_uri,f=a.value,g=a.timescale,h=a.presentation_time_delta,i=a.event_duration,j=a.id,k=a.message_data,l=c*g+h;return b[e]?(d.eventStream=b[e],d.eventStream.value=f,d.eventStream.timescale=g,d.duration=i,d.id=j,d.presentationTime=l,d.messageData=k,d.presentationTimeDelta=h,d):null}function F(a,b,f){var g=[];return b instanceof l.default?g=I.getEventsForPeriod(a,e(b)):b instanceof j.default?g=I.getEventStreamForAdaptationSet(a,d(b)):b instanceof h.default&&(g=I.getEventStreamForRepresentation(a,c(b,f.getRepresentationController()))),g}function G(){J=[],K={}}var H=void 0,I=void 0,J=void 0,K=void 0;return H={initialize:b,convertDataToTrack:f,convertDataToMedia:g,convertDataToStream:k,getDataForTrack:c,getDataForMedia:d,getDataForStream:e,getStreamsInfo:r,getManifestInfo:s,getMediaInfoForType:o,getAllMediaInfoForType:q,getCurrentRepresentationInfo:D,getRepresentationInfoForQuality:C,updateData:B,getInitRequest:u,getNextFragmentRequest:w,getFragmentRequestForTime:x,generateFragmentRequestForTime:y,getIndexHandlerTime:z,setIndexHandlerTime:A,getEventsFor:F,getEvent:E,setConfig:a,reset:G,metricsList:v}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var g=a(172),h=e(g),i=a(167),j=e(i),k=a(169),l=e(k),m=a(166),n=e(m),o=a(41),p=e(o),q=a(10),r=e(q),s=a(2),t=e(s),u=a(20),v=d(u);f.__dashjs_factory_name=\\\"DashAdapter\\\",c.default=r.default.getSingletonFactory(f),b.exports=c.default},{10:10,166:166,167:167,169:169,172:172,2:2,20:20,41:41}],16:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){U=-1,Y=0,Z=NaN,M.on(l.default.INITIALIZATION_LOADED,I,T),M.on(l.default.SEGMENTS_LOADED,J,T)}function c(b){$=b,X=$.getType(),W=$.isDynamic(),_=(0,w.default)(K).create(a,W)}function d(){return $}function e(a){Y=a}function f(){return Y}function h(){return U}function k(){return Z}function m(){_=null,Y=0,Z=NaN,V=NaN,U=-1,W=null,X=null,$=null,M.off(l.default.INITIALIZATION_LOADED,I,T),M.off(l.default.SEGMENTS_LOADED,J,T)}function o(a){return a.split(\\\"$$\\\").join(\\\"$\\\")}function p(a,b){if(null===b||a.indexOf(\\\"$RepresentationID$\\\")===-1)return a;var c=b.toString();return a.split(\\\"$RepresentationID$\\\").join(c)}function q(a,b,c){var d,e,f=S.resolve(c.path);return f&&b!==f.url&&N.isRelative(b)?(d=f.url,e=f.serviceLocation,b&&(d+=b)):d=b,!N.isRelative(d)&&(a.url=d,a.serviceLocation=e,!0)}function s(a,b){var c,d,e=new g.default;if(c=a.adaptation.period,e.mediaType=b,e.type=j.HTTPRequest.INIT_SEGMENT_TYPE,e.range=a.range,d=c.start,e.availabilityStartTime=P.calcAvailabilityStartTimeFromPresentationTime(d,a.adaptation.period.mpd,W),e.availabilityEndTime=P.calcAvailabilityEndTimeFromPresentationTime(d+c.duration,c.mpd,W),e.quality=a.index,e.mediaInfo=$.getMediaInfo(),q(e,a.initialization,a))return e}function v(a){var b;return a?b=s(a,X):null}function y(a){var b,c,d,e=a.adaptation.period,f=a.segmentInfoType,g=!1;return U<0?g=!1:W||U<a.availableSegmentsNumber?(c=(0,u.getSegmentByIndex)(U,a),c&&(d=c.presentationStartTime-e.start,b=a.adaptation.period.duration,L(a.segmentInfoType+\\\": \\\"+d+\\\" / \\\"+b),g=(\\\"SegmentTimeline\\\"!==f||!W)&&d>=b)):g=!0,g}function z(a){return _.getSegments(a,V,U,A)}function A(a,b){if(a.segments=b,b&&b.length>0&&(Z=isNaN(Z)?b[0].presentationStartTime:Math.min(b[0].presentationStartTime,Z)),W&&isNaN(P.getExpectedLiveEdge())){var c=b.length-1,d=b[c],e=d.presentationStartTime,f=R.getMetricsFor(\\\"stream\\\");P.setExpectedLiveEdge(e),R.updateManifestUpdateInfo(Q.getCurrentManifestUpdate(f),{presentationStartTime:e})}}function B(a){if(!a)throw new i.default(\\\"no representation\\\");return a.segments=null,z(a),a}function C(a,b){var c,d=a.initialization,e=\\\"BaseURL\\\"!==a.segmentInfoType&&\\\"SegmentBase\\\"!==a.segmentInfoType&&!a.indexRange;return a.segmentDuration||a.segments||B(a),a.segmentAvailabilityRange=null,a.segmentAvailabilityRange=P.calcSegmentAvailabilityRange(a,W),a.segmentAvailabilityRange.end<a.segmentAvailabilityRange.start&&!a.useCalculatedLiveEdgeTime?(c=new i.default(x,\\\"no segments are available yet\\\",{availabilityDelay:a.segmentAvailabilityRange.start-a.segmentAvailabilityRange.end}),void M.trigger(l.default.REPRESENTATION_UPDATED,{sender:this,representation:a,error:c})):(b||(U=-1),a.segmentDuration&&B(a),d||O.loadInitialization(a),e||O.loadSegments(a,X,a.indexRange),void(d&&e&&M.trigger(l.default.REPRESENTATION_UPDATED,{sender:this,representation:a})))}function D(a,b,c){var d,e,f,g,h,i=b.segments,j=i?i.length:null,k=-1;if(i&&j>0)for(h=0;h<j;h++)if(e=i[h],f=e.presentationStartTime,g=e.duration,d=void 0===c||null===c?g/2:c,a+d>=f&&a-d<f+g){k=e.availabilityIdx;break}return k}function E(a){if(null===a||void 0===a)return null;var b=new g.default,c=a.representation,d=c.adaptation.period.mpd.manifest.Period_asArray[c.adaptation.period.index].AdaptationSet_asArray[c.adaptation.index].Representation_asArray[c.index].bandwidth,e=a.media;return e=(0,u.replaceTokenForTemplate)(e,\\\"Number\\\",a.replacementNumber),e=(0,u.replaceTokenForTemplate)(e,\\\"Time\\\",a.replacementTime),e=(0,u.replaceTokenForTemplate)(e,\\\"Bandwidth\\\",d),e=p(e,c.id),e=o(e),b.mediaType=X,b.type=j.HTTPRequest.MEDIA_SEGMENT_TYPE,b.range=a.mediaRange,b.startTime=a.presentationStartTime,b.duration=a.duration,b.timescale=c.timescale,b.availabilityStartTime=a.availabilityStartTime,b.availabilityEndTime=a.availabilityEndTime,b.wallStartTime=a.wallStartTime,b.quality=c.index,b.index=a.availabilityIdx,b.mediaInfo=$.getMediaInfo(),b.adaptationIndex=c.adaptation.index,q(b,e,c)?b:void 0}function F(a,b,c){var d,e,f,h=U,i=!!c&&c.keepIdx,j=c?c.timeThreshold:null,k=!(!c||!c.ignoreIsFinished);return a?(V!==b&&(V=b,L(\\\"Getting the request for \\\"+X+\\\" time : \\\"+b)),U=D(b,a,j),z(a),U<0&&(U=D(b,a,j)),U>0&&L(\\\"Index for \\\"+X+\\\" time \\\"+b+\\\" is \\\"+U),f=!k&&y(a),f?(d=new g.default,d.action=g.default.ACTION_COMPLETE,d.index=U,d.mediaType=X,d.mediaInfo=$.getMediaInfo(),L(\\\"Signal complete.\\\",d)):(e=(0,u.getSegmentByIndex)(U,a),d=E(e)),i&&h>=0&&(U=\\\"SegmentTimeline\\\"===a.segmentInfoType&&W?U:h),d):null}function G(a,b){var c=(a.segmentAvailabilityRange.end-a.segmentAvailabilityRange.start)/2;return a.segments=null,a.segmentAvailabilityRange={start:b-c,end:b+c},F(a,b,{keepIdx:!1,ignoreIsFinished:!0})}function H(a){var b,c,d;return a&&U!==-1?(V=null,U++,L(\\\"Getting the next request at index: \\\"+U),d=y(a),d?(b=new g.default,b.action=g.default.ACTION_COMPLETE,b.index=U,b.mediaType=X,b.mediaInfo=$.getMediaInfo(),L(\\\"Signal complete.\\\")):(z(a),c=(0,u.getSegmentByIndex)(U,a),b=E(c),!c&&W&&U--),b):null}function I(a){var b=a.representation;b.segments&&M.trigger(l.default.REPRESENTATION_UPDATED,{sender:this,representation:b})}function J(a){if(!a.error&&X===a.mediaType){var b,c,d,e,f=a.segments,g=a.representation,h=[],i=0;for(b=0,c=f.length;b<c;b++)d=f[b],e=(0,u.getTimeBasedSegment)(P,W,g,d.startTime,d.duration,d.timescale,d.media,d.mediaRange,i),h.push(e),e=null,i++;g.segmentAvailabilityRange={start:h[0].presentationStartTime,end:h[c-1].presentationStartTime},g.availableSegmentsNumber=c,A(g,h),g.initialization&&M.trigger(l.default.REPRESENTATION_UPDATED,{sender:this,\\nrepresentation:g})}}var K=this.context,L=(0,r.default)(K).getInstance().log,M=(0,n.default)(K).getInstance(),N=(0,t.default)(K).getInstance(),O=a.segmentBaseLoader,P=a.timelineConverter,Q=a.dashMetrics,R=a.metricsModel,S=a.baseURLController,T=void 0,U=void 0,V=void 0,W=void 0,X=void 0,Y=void 0,Z=void 0,$=void 0,_=void 0;return T={initialize:c,getStreamProcessor:d,getInitRequest:v,getSegmentRequestForTime:F,getNextSegmentRequest:H,generateSegmentRequestForTime:G,updateRepresentation:C,setCurrentTime:e,getCurrentTime:f,getCurrentIndex:h,getEarliestTime:k,reset:m},b(),T}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(163),g=d(f),h=a(162),i=d(h),j=a(179),k=a(13),l=d(k),m=a(9),n=d(m),o=a(10),p=d(o),q=a(8),r=d(q),s=a(158),t=d(s),u=a(35),v=a(34),w=d(v),x=1;e.__dashjs_factory_name=\\\"DashHandler\\\";var y=p.default.getClassFactory(e);y.SEGMENTS_UNAVAILABLE_ERROR_CODE=x,c.default=y,b.exports=c.default},{10:10,13:13,158:158,162:162,163:163,179:179,34:34,35:35,8:8,9:9}],17:[function(a,b,c){\\\"use strict\\\";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function e(a){return a&&a.__esModule?a:{default:a}}function f(){function a(a,b){var c,d=C.getValue(),e=d.Period_asArray[b];return c=x(e,a),null===c?null:c.bandwidth}function b(a,b){var c,d=C.getValue(),e=d.Period_asArray[b];return c=w(e,a)}function c(a,b){var c,d=C.getValue(),e=d.Period_asArray[b];return c=z(e,a)}function d(a){return m(a,o.TRACK_SWITCH)}function e(a){return m(a,o.BUFFER_LEVEL)}function f(a){var b=e(a);return b?(0,p.round10)(b.level/1e3,-3):0}function h(a){return a.RequestsQueue}function j(a){if(null===a)return null;var b,c,d=a.HttpList,e=null;if(null===d||d.length<=0)return null;for(b=d.length,c=b-1;c>=0;){if(d[c].responsecode){e=d[c];break}c--}return e}function l(a){return null===a?[]:a.HttpList?a.HttpList:[]}function m(a,b){if(null===a)return null;var c=a[b];if(null===c)return null;var d=c.length;return d<=0?null:c[d-1]}function n(a){return m(a,o.DROPPED_FRAMES)}function q(a){return m(a,o.SCHEDULING_INFO)}function r(a){return m(a,o.MANIFEST_UPDATE)}function s(a){return m(a,o.DVR_INFO)}function t(a,b){var c,d,e,f={};if(null===a)return null;for(c=l(a),e=c.length-1;e>=0;e--)if(d=c[e],d.type===g.HTTPRequest.MPD_TYPE){f=v(d._responseHeaders);break}return void 0===f[b]?null:f[b]}function u(a,b){if(null===a)return null;var c,d=j(a);return null===d||null===d._responseHeaders?null:(c=v(d._responseHeaders),void 0===c[b]?null:c[b])}function v(a){var b={};if(!a)return b;for(var c=a.split(\\\"\\\\r\\\\n\\\"),d=0,e=c.length;d<e;d++){var f=c[d],g=f.indexOf(\\\": \\\");g>0&&(b[f.substring(0,g)]=f.substring(g+2))}return b}function w(a,b){var c=x(a,b,!0);return null!==c?c:-1}function x(a,b,c){var d,e,f,g,h,i;for(e=a.AdaptationSet_asArray,h=0;h<e.length;h+=1)for(d=e[h],g=d.Representation_asArray,i=0;i<g.length;i+=1)if(f=g[i],b===f.id)return c?i:f;return null}function y(a,b){return(0,k.default)(B).getInstance().getIsTypeOf(a,b)}function z(a,b){var c,d,e,f;if(!a||!b)return-1;for(d=a.AdaptationSet_asArray,f=0;f<d.length;f+=1)if(c=d[f],e=c.Representation_asArray,y(c,b))return e.length;return-1}var A=void 0,B=this.context,C=(0,i.default)(B).getInstance();return A={getBandwidthForRepresentation:a,getIndexForRepresentation:b,getMaxIndexForBufferType:c,getCurrentRepresentationSwitch:d,getLatestBufferLevelVO:e,getCurrentBufferLevel:f,getCurrentHttpRequest:j,getHttpRequests:l,getCurrentDroppedFrames:n,getCurrentSchedulingInfo:q,getCurrentDVRInfo:s,getCurrentManifestUpdate:r,getLatestFragmentRequestHeaderValueByID:u,getLatestMPDRequestHeaderValueByID:t,getRequestsQueue:h}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var g=a(179),h=a(100),i=e(h),j=a(22),k=e(j),l=a(10),m=e(l),n=a(20),o=d(n),p=a(7);f.__dashjs_factory_name=\\\"DashMetrics\\\",c.default=m.default.getSingletonFactory(f),b.exports=c.default},{10:10,100:100,179:179,20:20,22:22,7:7}],18:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){u=(0,m.default)(n).getInstance(),v=(0,s.default)(n).getInstance(),x=(0,g.default)(n).getInstance()}function b(a){a.baseURLController&&(y=a.baseURLController)}function c(a,b){var d=!0,e=null,f=null,g=new XMLHttpRequest,i=y.resolve(a.path),k=b||{url:i?i.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500,request:g};p(\\\"Start searching for initialization.\\\"),g.onload=function(){g.status<200||g.status>299||(d=!1,k.bytesLoaded=k.range.end,f=v.parse(g.response),e=h(f),e?(a.range=e,a.initialization=k.url,r.trigger(o.default.INITIALIZATION_LOADED,{representation:a})):(k.range.end=k.bytesLoaded+k.bytesToLoad,c(a,k)))},g.onloadend=g.onerror=function(){d&&(d=!1,u.downloadError(\\\"initialization\\\",k.url,g),r.trigger(o.default.INITIALIZATION_LOADED,{representation:a}))},j(g,k),p(\\\"Perform init search: \\\"+k.url)}function d(a,b,c,e,g){if(c&&(void 0===c.start||void 0===c.end)){var h=c?c.toString().split(\\\"-\\\"):null;c=h?{start:parseFloat(h[0]),end:parseFloat(h[1])}:null}g=g?g:l;var i=!0,k=null,m=null,n=!!c,o=new XMLHttpRequest,q=y.resolve(a.path),r={url:q?q.url:void 0,range:n?c:{start:0,end:1500},searching:!n,bytesLoaded:e?e.bytesLoaded:0,bytesToLoad:1500,request:o};o.onload=function(){if(!(o.status<200||o.status>299)){var c=r.bytesToLoad,e=o.response.byteLength;if(i=!1,r.bytesLoaded=r.range.end-r.range.start,k=v.parse(o.response),m=k.getBox(\\\"sidx\\\"),m&&m.isComplete){var h,j,l=m.references;if(null!==l&&void 0!==l&&l.length>0&&(h=1===l[0].reference_type),h){p(\\\"Initiate multiple SIDX load.\\\"),r.range.end=r.range.start+m.size;var n,q,s,t,u,w=[],x=0,y=(m.offset||r.range.start)+m.size,z=function(c){c?(w=w.concat(c),x++,x>=q&&g(w,a,b)):g(null,a,b)};for(n=0,q=l.length;n<q;n++)s=y,t=y+l[n].referenced_size-1,y+=l[n].referenced_size,u={start:s,end:t},d(a,null,u,r,z)}else p(\\\"Parsing segments from SIDX.\\\"),j=f(m,r),g(j,a,b)}else{if(m)r.range.start=m.offset||r.range.start,r.range.end=r.range.start+(m.size||c);else{if(e<r.bytesLoaded)return void g(null,a,b);var A=k.getLastBox();A&&A.size?(r.range.start=A.offset+A.size,r.range.end=r.range.start+c):r.range.end+=c}d(a,b,r.range,r,g)}}},o.onloadend=o.onerror=function(){i&&(i=!1,u.downloadError(\\\"SIDX\\\",r.url,o),g(null,a,b))},j(o,r),p(\\\"Perform SIDX load: \\\"+r.url)}function e(){u=null,v=null,x=null,p=null}function f(a,b){for(var c,d,e,f,g=a.references,h=g.length,j=a.timescale,k=a.earliest_presentation_time,l=b.range.start+a.offset+a.first_offset+a.size,m=[],n=0;n<h;n++)e=g[n].subsegment_duration,f=g[n].referenced_size,c=new i.default,c.duration=e,c.media=b.url,c.startTime=k,c.timescale=j,d=l+f-1,c.mediaRange=l+\\\"-\\\"+d,m.push(c),k+=e,l+=f;return m}function h(a){var b,c,d=a.getBox(\\\"ftyp\\\"),e=a.getBox(\\\"moov\\\"),f=null;return p(\\\"Searching for initialization.\\\"),e&&e.isComplete&&(b=d?d.offset:e.offset,c=e.offset+e.size-1,f=b+\\\"-\\\"+c,p(\\\"Found the initialization.  Range: \\\"+f)),f}function j(a,b){b.url&&(a.open(\\\"GET\\\",x.modifyRequestURL(b.url)),a.responseType=\\\"arraybuffer\\\",a.setRequestHeader(\\\"Range\\\",\\\"bytes=\\\"+b.range.start+\\\"-\\\"+b.range.end),a=x.modifyRequestHeader(a),a.send(null))}function l(a,b,c){a?r.trigger(o.default.SEGMENTS_LOADED,{segments:a,representation:b,mediaType:c}):r.trigger(o.default.SEGMENTS_LOADED,{segments:null,representation:b,mediaType:c,error:new k.default(null,\\\"error loading segments\\\",null)})}var n=this.context,p=(0,w.default)(n).getInstance().log,r=(0,q.default)(n).getInstance(),t=void 0,u=void 0,v=void 0,x=void 0,y=void 0;return t={setConfig:b,initialize:a,loadInitialization:c,loadSegments:d,reset:e}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(156),g=d(f),h=a(46),i=d(h),j=a(162),k=d(j),l=a(151),m=d(l),n=a(13),o=d(n),p=a(9),q=d(p),r=a(146),s=d(r),t=a(10),u=d(t),v=a(8),w=d(v);e.__dashjs_factory_name=\\\"SegmentBaseLoader\\\",c.default=u.default.getSingletonFactory(e),b.exports=c.default},{10:10,13:13,146:146,151:151,156:156,162:162,46:46,8:8,9:9}],19:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){y={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:\\\"getMatroskaUint\\\"},Duration:{tag:17545,required:!0,parse:\\\"getMatroskaFloat\\\"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:\\\"getMatroskaUint\\\"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:\\\"getMatroskaUint\\\"},CueClusterPosition:{tag:241,required:!0,parse:\\\"getMatroskaUint\\\"},CueBlockNumber:{tag:21368}}}}},Void:{tag:236,required:!0}}}function b(){A=(0,q.default)(p).getInstance(),B=(0,s.default)(p).getInstance(),D=(0,z.default)(p).create({errHandler:A,metricsModel:C,requestModifier:B})}function c(a){if(!a.baseURLController||!a.metricsModel)throw new Error(\\\"Missing config parameter(s)\\\");E=a.baseURLController,C=a.metricsModel}function d(a){var b=[],c=void 0,d=void 0,e=void 0,f=(0,k.default)(p).create({data:a}),g=void 0;for(f.consumeTag(y.Segment.Cues),d=f.getMatroskaCodedNum();f.moreData()&&f.consumeTagAndSize(y.Segment.Cues.CuePoint,!0);){for(c={},c.CueTime=f.parseTag(y.Segment.Cues.CuePoint.CueTime),c.CueTracks=[];f.moreData()&&f.consumeTagAndSize(y.Segment.Cues.CuePoint.CueTrackPositions,!0);){if(e={},e.Track=f.parseTag(y.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),0===e.Track)throw new Error(\\\"Cue track cannot be 0\\\");e.ClusterPosition=f.parseTag(y.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition),f.getPos()+4>d||!f.consumeTag(y.Segment.Cues.CuePoint.CueTrackPositions.CueBlockNumber,!0)?c.CueTracks.push(e):(g=f.getMatroskaCodedNum(),e.BlockNumber=f.getMatroskaUint(g),c.CueTracks.push(e))}if(0===c.CueTracks.length)throw new Error(\\\"Mandatory cuetrack not found\\\");b.push(c)}if(0===b.length)throw new Error(\\\"mandatory cuepoint not found\\\");return b}function e(a,b,c,e,f){var g=void 0,h=void 0,i=void 0,j=void 0,k=void 0,l=void 0,m=void 0,n=void 0;for(h=d(a),i=[],k=0,l=h.length;k<l;k+=1)j=new u.default,g=0,g=k<h.length-1?h[k+1].CueTime-h[k].CueTime:f-h[k].CueTime,j.duration=g,j.media=b,j.startTime=h[k].CueTime,j.timescale=1e3,m=h[k].CueTracks[0].ClusterPosition+c,n=k<h.length-1?h[k+1].CueTracks[0].ClusterPosition+c-1:e-1,j.mediaRange=m+\\\"-\\\"+n,i.push(j);return r(\\\"Parsed cues: \\\"+i.length+\\\" cues.\\\"),i}function f(a,b,c,d){var f=(0,k.default)(p).create({data:a}),g=void 0,h=void 0,i=c.split(\\\"-\\\"),j=null,l={url:b,range:{start:parseFloat(i[0]),end:parseFloat(i[1])},request:j},n=void 0,o=void 0;for(r(\\\"Parse EBML header: \\\"+l.url),f.skipOverElement(y.EBML),f.consumeTag(y.Segment),n=f.getMatroskaCodedNum(),n+=f.getPos(),o=f.getPos();f.moreData()&&!f.consumeTagAndSize(y.Segment.Info,!0);)if(!(f.skipOverElement(y.Segment.SeekHead,!0)||f.skipOverElement(y.Segment.Tracks,!0)||f.skipOverElement(y.Segment.Cues,!0)||f.skipOverElement(y.Void,!0)))throw new Error(\\\"no valid top level element found\\\");for(;void 0===g;){var q=f.getMatroskaCodedNum(!0),s=f.getMatroskaCodedNum();switch(q){case y.Segment.Info.Duration.tag:g=f[y.Segment.Info.Duration.parse](s);break;default:f.setPos(f.getPos()+s)}}j=m(l);var t=function(a){h=e(a,l.url,o,n,g),d(h)},u=function(){r(\\\"Download Error: Cues \\\"+l.url),d(null)};D.load({request:j,success:t,error:u}),r(\\\"Perform cues load: \\\"+l.url+\\\" bytes=\\\"+l.range.start+\\\"-\\\"+l.range.end)}function h(a,b){var c=null,d=E.resolve(a.path),e=d?d.url:void 0,f=a.range.split(\\\"-\\\"),h=b||{range:{start:parseFloat(f[0]),end:parseFloat(f[1])},request:c,url:e,init:!0};r(\\\"Start loading initialization.\\\"),c=m(h);var i=function(){a.initialization=h.url,t.trigger(g.default.INITIALIZATION_LOADED,{representation:a})},j=function(){t.trigger(g.default.INITIALIZATION_LOADED,{representation:a})};D.load({request:c,success:i,error:j}),r(\\\"Perform init load: \\\"+h.url)}function j(a,b,c,d){var e=null,g=E.resolve(a.path),h=g?g.url:void 0,i=8192,j={bytesLoaded:0,bytesToLoad:i,range:{start:0,end:i},request:e,url:h,init:!1};d=d?d:l,e=m(j),r(\\\"Parsing ebml header\\\");var k=function(e){f(e,h,c,function(c){d(c,a,b)})},n=function(){d(null,a,b)};D.load({request:e,success:k,error:n})}function l(a,b,c){a?t.trigger(g.default.SEGMENTS_LOADED,{segments:a,representation:b,mediaType:c}):t.trigger(g.default.SEGMENTS_LOADED,{segments:null,representation:b,mediaType:c,error:new Error(null,\\\"error loading segments\\\",null)})}function m(a){var b=new x.default;return b.type=a.init?v.HTTPRequest.INIT_SEGMENT_TYPE:v.HTTPRequest.MEDIA_SEGMENT_TYPE,b.url=a.url,b.range=a.range.start+\\\"-\\\"+a.range.end,b}function n(){A=null,B=null,r=null}var p=this.context,r=(0,o.default)(p).getInstance().log,t=(0,i.default)(p).getInstance(),w=void 0,y=void 0,A=void 0,B=void 0,C=void 0,D=void 0,E=void 0;return w={setConfig:c,initialize:b,loadInitialization:h,loadSegments:j,reset:n},a(),w}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(13),g=d(f),h=a(9),i=d(h),j=a(150),k=d(j),l=a(10),m=d(l),n=a(8),o=d(n),p=a(151),q=d(p),r=a(156),s=d(r),t=a(46),u=d(t),v=a(179),w=a(163),x=d(w),y=a(58),z=d(y);e.__dashjs_factory_name=\\\"WebmSegmentBaseLoader\\\",c.default=m.default.getSingletonFactory(e),b.exports=c.default},{10:10,13:13,150:150,151:151,156:156,163:163,179:179,46:46,58:58,8:8,9:9}],20:[function(a,b,c){\\\"use strict\\\";Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var d=\\\"TcpList\\\";c.TCP_CONNECTION=d;var e=\\\"HttpList\\\";c.HTTP_REQUEST=e;var f=\\\"RepSwitchList\\\";c.TRACK_SWITCH=f;var g=\\\"BufferLevel\\\";c.BUFFER_LEVEL=g;var h=\\\"BufferState\\\";c.BUFFER_STATE=h;var i=\\\"DVRInfo\\\";c.DVR_INFO=i;var j=\\\"DroppedFrames\\\";c.DROPPED_FRAMES=j;var k=\\\"SchedulingInfo\\\";c.SCHEDULING_INFO=k;var l=\\\"RequestsQueue\\\";c.REQUESTS_QUEUE=l;var m=\\\"ManifestUpdate\\\";c.MANIFEST_UPDATE=m;var n=\\\"ManifestUpdatePeriodInfo\\\";c.MANIFEST_UPDATE_STREAM_INFO=n;var o=\\\"ManifestUpdateRepresentationInfo\\\";c.MANIFEST_UPDATE_TRACK_INFO=o;var p=\\\"PlayList\\\";c.PLAY_LIST=p;var q=\\\"DVBErrors\\\";c.DVB_ERRORS=q},{}],21:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){P=null,Q=-1,R=!0,S=[],V=(0,m.default)(M).getInstance(),X=(0,q.default)(M).getInstance(),Y=(0,o.default)(M).getInstance(),Z=(0,s.default)(M).getInstance(),$=(0,u.default)(M).getInstance(),_=(0,y.default)(M).getInstance(),aa=(0,k.default)(M).getInstance(),ba=(0,g.default)(M).getInstance(),ca=(0,i.default)(M).getInstance(),da=(0,w.default)(M).getInstance(),N.on(E.default.QUALITY_CHANGE_REQUESTED,K,O),N.on(E.default.REPRESENTATION_UPDATED,G,O),N.on(E.default.WALLCLOCK_TIME_UPDATED,H,O),N.on(E.default.BUFFER_LEVEL_UPDATED,J,O),N.on(E.default.LIVE_EDGE_SEARCH_COMPLETED,I,O)}function b(a){a.abrController&&(V=a.abrController)}function c(a){U=a,W=U.getIndexHandler()}function d(){return U}function e(){return P}function f(){return Q}function h(){return R}function j(){return T}function l(){N.off(E.default.QUALITY_CHANGE_REQUESTED,K,O),N.off(E.default.REPRESENTATION_UPDATED,G,O),N.off(E.default.WALLCLOCK_TIME_UPDATED,H,O),N.off(E.default.BUFFER_LEVEL_UPDATED,J,O),N.off(E.default.LIVE_EDGE_SEARCH_COMPLETED,I,O),P=null,Q=-1,R=!0,S=[],V=null,X=null,Y=null,Z=null,$=null,_=null,aa=null,ba=null,ca=null,da=null}function n(a,b,c){var d,e,f=null,g=U.getStreamInfo(),h=V.getTopQualityIndexFor(c,g.id);if(R=!0,N.trigger(E.default.DATA_UPDATE_STARTED,{sender:this}),S=z(b),null===P&&\\\"fragmentedText\\\"!==c?(e=V.getAverageThroughput(c),f=e||V.getInitialBitrateFor(c,g),d=V.getQualityForBitrate(U.getMediaInfo(),f)):d=V.getQualityFor(c,g),d>h&&(d=h),T=t(d),P=a,\\\"video\\\"!==c&&\\\"audio\\\"!==c&&\\\"fragmentedText\\\"!==c)return R=!1,void N.trigger(E.default.DATA_UPDATE_COMPLETED,{sender:this,data:P,currentRepresentation:T});for(var i=0;i<S.length;i++)W.updateRepresentation(S[i],!0)}function p(){var a=new Date,b=j(),c=1e3*Y.getTime();$.addRepresentationSwitch(b.adaptation.type,a,c,b.id)}function r(){var a=aa.calcSegmentAvailabilityRange(T,U.isDynamic());$.addDVRInfo(U.getType(),Y.getTime(),U.getStreamInfo().manifestInfo,a)}function t(a){return S[a]}function v(a){return S.indexOf(a)}function x(){for(var a=0,b=S.length;a<b;a++){var c=S[a].segmentInfoType;if(null===S[a].segmentAvailabilityRange||null===S[a].initialization||(\\\"SegmentBase\\\"===c||\\\"BaseURL\\\"===c)&&!S[a].segments)return!1}return!0}function z(a){var b,c=Z.getValue();return Q=ba.getIndexForAdaptation(P,c,a.period.index),b=ba.getRepresentationsForAdaptation(c,a)}function B(a){for(var b,c=0,d=S.length;c<d;c++)b=S[c],b.segmentAvailabilityRange=aa.calcSegmentAvailabilityRange(b,a)}function D(){S.forEach(function(a){a.segmentAvailabilityRange=null})}function F(a){var b=a,c=function(){if(!h()){R=!0,N.trigger(E.default.DATA_UPDATE_STARTED,{sender:O}),D();for(var a=0;a<S.length;a++)W.updateRepresentation(S[a],!0)}};R=!1,N.trigger(E.default.AST_IN_FUTURE,{delay:b}),setTimeout(c,b)}function G(a){if(a.sender.getStreamProcessor()===U&&h()){var b,c,d,e=a.representation,f=$.getMetricsFor(\\\"stream\\\"),g=$.getMetricsFor(j().adaptation.type),i=ca.getCurrentManifestUpdate(f),k=!1,l=0;if(\\\"dynamic\\\"===e.adaptation.period.mpd.manifest.type){var m=e.segmentAvailabilityRange.end-e.segmentAvailabilityRange.start,n=Y.computeLiveDelay(T.segmentDuration,U.getStreamInfo().manifestInfo.DVRWindowSize);l=1e3*(n-m)}if(l>0)return r(),F(l),c=new A.default(L,\\\"Segments update failed\\\",null),void N.trigger(E.default.DATA_UPDATE_COMPLETED,{sender:this,data:P,currentRepresentation:T,error:c});if(i){for(var o=0;o<i.trackInfo.length;o++)if(b=i.trackInfo[o],b.index===e.index&&b.mediaType===U.getType()){k=!0;break}k||$.addManifestUpdateRepresentationInfo(i,e.id,e.index,e.adaptation.period.index,U.getType(),e.presentationTimeOffset,e.startNumber,e.segmentInfoType)}x()&&(R=!1,V.setPlaybackQuality(U.getType(),U.getStreamInfo(),v(T)),$.updateManifestUpdateInfo(i,{latency:T.segmentAvailabilityRange.end-Y.getTime()}),d=ca.getCurrentRepresentationSwitch(g),d||p(),N.trigger(E.default.DATA_UPDATE_COMPLETED,{sender:this,data:P,currentRepresentation:T}))}}function H(a){a.isDynamic&&B(a.isDynamic)}function I(a){if(!a.error){B(!0),W.updateRepresentation(T,!1);var b=Z.getValue(),c=T.adaptation.period,d=X.getActiveStreamInfo();d.isLast&&(c.mpd.checkTime=ba.getCheckTime(b,c),c.duration=ba.getEndTimeForLastPeriod(Z.getValue(),c)-c.start,d.duration=c.duration)}}function J(a){a.sender.getStreamProcessor()===U&&r()}function K(a){a.mediaType===U.getType()&&U.getStreamInfo().id===a.streamInfo.id&&a.oldQuality!==a.newQuality&&(T=t(a.newQuality),_.setSavedBitrateSettings(a.mediaType,T.bandwidth),p())}var L=1,M=this.context,N=(0,C.default)(M).getInstance(),O=void 0,P=void 0,Q=void 0,R=void 0,S=void 0,T=void 0,U=void 0,V=void 0,W=void 0,X=void 0,Y=void 0,Z=void 0,$=void 0,_=void 0,aa=void 0,ba=void 0,ca=void 0,da=void 0;return O={initialize:c,setConfig:b,getData:e,getDataIndex:f,isUpdating:h,updateData:n,getStreamProcessor:d,getCurrentRepresentation:j,getRepresentationForQuality:t,reset:l},a(),O}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(22),g=d(f),h=a(17),i=d(h),j=a(37),k=d(j),l=a(60),m=d(l),n=a(68),o=d(n),p=a(71),q=d(p),r=a(100),s=d(r),t=a(102),u=d(t),v=a(101),w=d(v),x=a(149),y=d(x),z=a(162),A=d(z),B=a(9),C=d(B),D=a(13),E=d(D),F=a(10),G=d(F);e.__dashjs_factory_name=\\\"RepresentationController\\\",c.default=G.default.getClassFactory(e),b.exports=c.default},{10:10,100:100,101:101,102:102,13:13,149:149,162:162,17:17,22:22,37:37,60:60,68:68,71:71,9:9}],22:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a,b){var c,d,e,f=!1,g=!1,h=a.ContentComponent_asArray,i=\\\"text\\\"!==b?new RegExp(b):new RegExp(\\\"(vtt|ttml)\\\");if(a.Representation_asArray.length>0&&a.Representation_asArray[0].hasOwnProperty(\\\"codecs\\\")){var j=a.Representation_asArray[0].codecs;if(\\\"stpp\\\"===j||\\\"wvtt\\\"===j)return\\\"fragmentedText\\\"===b}if(h){if(h.length>1)return\\\"muxed\\\"===b;h[0]&&h[0].contentType===b&&(f=!0,g=!0)}if(a.hasOwnProperty(\\\"mimeType\\\")&&(f=i.test(a.mimeType),g=!0),!g)for(c=0,d=a.Representation_asArray.length;!g&&c<d;)e=a.Representation_asArray[c],e.hasOwnProperty(\\\"mimeType\\\")&&(f=i.test(e.mimeType),g=!0),c++;return f}function b(b){return a(b,\\\"audio\\\")}function c(b){return a(b,\\\"video\\\")}function d(b){return a(b,\\\"fragmentedText\\\")}function e(b){return a(b,\\\"text\\\")}function f(b){return a(b,\\\"muxed\\\")}function h(a){return\\\"text/vtt\\\"===a||\\\"application/ttml+xml\\\"===a}function j(a){var b=\\\"\\\";return a.hasOwnProperty(\\\"lang\\\")&&(b=a.lang.replace(/[^A-Za-z0-9-]/g,\\\"\\\")),b}function l(a){return a.hasOwnProperty(\\\"Viewpoint\\\")?a.Viewpoint:null}function n(a){return a.hasOwnProperty(\\\"Role_asArray\\\")?a.Role_asArray:[]}function p(a){return a.hasOwnProperty(\\\"Accessibility_asArray\\\")?a.Accessibility_asArray:[]}function r(a){return a.hasOwnProperty(\\\"AudioChannelConfiguration_asArray\\\")?a.AudioChannelConfiguration_asArray:[]}function t(a){return n(a).filter(function(a){return\\\"main\\\"===a.value})[0]}function v(){return function(a,b){return a.bandwidth-b.bandwidth}}function x(a){return void 0!==a.Representation_asArray&&null!==a.Representation_asArray&&a.Representation_asArray.sort(v()),a}function z(a,b,c){var d,e,f=b.Period_asArray[c].AdaptationSet_asArray;for(d=0,e=f.length;d<e;d++)if(f[d].hasOwnProperty(\\\"id\\\")&&f[d].id===a)return f[d];return null}function B(a,b,c){var d=b.Period_asArray[c].AdaptationSet_asArray;return d[a]}function D(a,b,c){var d,e,f=b.Period_asArray[c].AdaptationSet_asArray;for(d=0,e=f.length;d<e;d++)if(f[d]===a)return d;return-1}function E(b,c,d){var e,f,g=b.Period_asArray[c].AdaptationSet_asArray,h=[];for(e=0,f=g.length;e<f;e++)a(g[e],d)&&h.push(x(g[e]));return h}function F(a,b,c,d){var e=E(a,b,c);if(!e||0===e.length)return null;if(e.length>1&&d)for(var f=la.getCurrentTrackFor(c,d),g=ma.getAllMediaInfoForType(a,d,c),h=0,i=e.length;h<i;h++){if(f&&la.isTracksEqual(f,g[h]))return e[h];if(t(e[h]))return e[h]}return e[0]}function G(a){var b=a.Representation_asArray[0];return b.mimeType+';codecs=\\\"'+b.codecs+'\\\"'}function H(a){return a.Representation_asArray[0].mimeType}function I(a){return a&&a.hasOwnProperty(\\\"cenc:default_KID\\\")?a[\\\"cenc:default_KID\\\"]:null}function J(a){return a&&a.hasOwnProperty(\\\"ContentProtection_asArray\\\")&&0!==a.ContentProtection_asArray.length?a.ContentProtection_asArray:null}function K(a){var b=!1;return a.hasOwnProperty(\\\"type\\\")&&(b=\\\"dynamic\\\"===a.type),b}function L(a){var b,c,d=K(a);return b=!isNaN(a.timeShiftBufferDepth),c=d&&b}function M(a,b){var c=!1;return a.profiles&&a.profiles.length>0&&(c=a.profiles.indexOf(b)!==-1),c}function N(a){return M(a,\\\"urn:mpeg:dash:profile:isoff-on-demand:2011\\\")}function O(a){return M(a,\\\"urn:dvb:dash:profile:dvb-dash:2014\\\")}function P(a){var b;return b=a.hasOwnProperty(\\\"mediaPresentationDuration\\\")?a.mediaPresentationDuration:Number.MAX_VALUE}function Q(a){return a.bandwidth}function R(a){var b=NaN,c=2;return a.hasOwnProperty(\\\"minimumUpdatePeriod\\\")&&(b=Math.max(parseFloat(a.minimumUpdatePeriod),c)),b}function S(a){return a.Representation_asArray.length}function T(a){if(!a||!a.Representation_asArray||!a.Representation_asArray.length)return null;for(var b=x(a),c=b.Representation_asArray,d=c.length,e=[],f=0;f<d;f++)e.push({bandwidth:c[f].bandwidth,width:c[f].width||0,height:c[f].height||0});return e}function U(a,b){return b.Representation_asArray[a]}function V(a,b){for(var c,d,e,f,i,j=x(a.Period_asArray[b.period.index].AdaptationSet_asArray[b.index]),k=[],l=0;l<j.Representation_asArray.length;l++)f=j.Representation_asArray[l],c=new g.default,c.index=l,c.adaptation=b,f.hasOwnProperty(\\\"id\\\")&&(c.id=f.id),f.hasOwnProperty(\\\"bandwidth\\\")&&(c.bandwidth=f.bandwidth),f.hasOwnProperty(\\\"maxPlayoutRate\\\")&&(c.maxPlayoutRate=f.maxPlayoutRate),f.hasOwnProperty(\\\"SegmentBase\\\")?(e=f.SegmentBase,c.segmentInfoType=\\\"SegmentBase\\\"):f.hasOwnProperty(\\\"SegmentList\\\")?(e=f.SegmentList,e.hasOwnProperty(\\\"SegmentTimeline\\\")?(c.segmentInfoType=\\\"SegmentTimeline\\\",i=e.SegmentTimeline.S_asArray[e.SegmentTimeline.S_asArray.length-1],(!i.hasOwnProperty(\\\"r\\\")||i.r>=0)&&(c.useCalculatedLiveEdgeTime=!0)):(c.segmentInfoType=\\\"SegmentList\\\",c.useCalculatedLiveEdgeTime=!0)):f.hasOwnProperty(\\\"SegmentTemplate\\\")?(e=f.SegmentTemplate,e.hasOwnProperty(\\\"SegmentTimeline\\\")?(c.segmentInfoType=\\\"SegmentTimeline\\\",i=e.SegmentTimeline.S_asArray[e.SegmentTimeline.S_asArray.length-1],(!i.hasOwnProperty(\\\"r\\\")||i.r>=0)&&(c.useCalculatedLiveEdgeTime=!0)):c.segmentInfoType=\\\"SegmentTemplate\\\",e.hasOwnProperty(\\\"initialization\\\")&&(c.initialization=e.initialization.split(\\\"$Bandwidth$\\\").join(f.bandwidth).split(\\\"$RepresentationID$\\\").join(f.id))):(e=f.BaseURL,c.segmentInfoType=\\\"BaseURL\\\"),e.hasOwnProperty(\\\"Initialization\\\")?(d=e.Initialization,d.hasOwnProperty(\\\"sourceURL\\\")?c.initialization=d.sourceURL:d.hasOwnProperty(\\\"range\\\")&&(c.range=d.range)):f.hasOwnProperty(\\\"mimeType\\\")&&h(f.mimeType)&&(c.range=0),e.hasOwnProperty(\\\"timescale\\\")&&(c.timescale=e.timescale),e.hasOwnProperty(\\\"duration\\\")&&(c.segmentDuration=e.duration/c.timescale),e.hasOwnProperty(\\\"startNumber\\\")&&(c.startNumber=e.startNumber),e.hasOwnProperty(\\\"indexRange\\\")&&(c.indexRange=e.indexRange),e.hasOwnProperty(\\\"presentationTimeOffset\\\")&&(c.presentationTimeOffset=e.presentationTimeOffset/c.timescale),c.MSETimeOffset=ka.calcMSETimeOffset(c),c.path=[b.period.index,b.index,l],k.push(c);return k}function W(a,e){for(var g,h,j=a.Period_asArray[e.index],k=[],l=0;l<j.AdaptationSet_asArray.length;l++)h=j.AdaptationSet_asArray[l],g=new i.default,h.hasOwnProperty(\\\"id\\\")&&(g.id=h.id),g.index=l,g.period=e,f(h)?g.type=\\\"muxed\\\":b(h)?g.type=\\\"audio\\\":c(h)?g.type=\\\"video\\\":d(h)?g.type=\\\"fragmentedText\\\":g.type=\\\"text\\\",k.push(g);return k}function X(a,b){var c,d,e=K(a),f=[],g=null,h=null,i=null,j=null;for(d=0,c=a.Period_asArray.length;d<c;d++)h=a.Period_asArray[d],h.hasOwnProperty(\\\"start\\\")?(j=new k.default,j.start=h.start):null!==g&&h.hasOwnProperty(\\\"duration\\\")&&null!==i?(j=new k.default,j.start=i.start+i.duration,j.duration=h.duration):0!==d||e||(j=new k.default,j.start=0),null!==i&&isNaN(i.duration)&&(i.duration=j.start-i.start),null!==j&&(j.id=Y(h)),null!==j&&h.hasOwnProperty(\\\"duration\\\")&&(j.duration=h.duration),null!==j&&(j.index=d,j.mpd=b,f.push(j),g=h,i=j),h=null,j=null;return 0===f.length?f:(null!==i&&isNaN(i.duration)&&(i.duration=aa(a,i)-i.start),f)}function Y(a){if(!a)throw new Error(\\\"Period cannot be null or undefined\\\");var b=k.default.DEFAULT_ID;return a.hasOwnProperty(\\\"id\\\")&&\\\"__proto__\\\"!==a.id&&(b=a.id),b}function Z(a){var b=new m.default;return b.manifest=a,a.hasOwnProperty(\\\"availabilityStartTime\\\")?b.availabilityStartTime=new Date(a.availabilityStartTime.getTime()):b.availabilityStartTime=new Date(a.loadedTime.getTime()),a.hasOwnProperty(\\\"availabilityEndTime\\\")&&(b.availabilityEndTime=new Date(a.availabilityEndTime.getTime())),a.hasOwnProperty(\\\"suggestedPresentationDelay\\\")&&(b.suggestedPresentationDelay=a.suggestedPresentationDelay),a.hasOwnProperty(\\\"timeShiftBufferDepth\\\")&&(b.timeShiftBufferDepth=a.timeShiftBufferDepth),a.hasOwnProperty(\\\"maxSegmentDuration\\\")&&(b.maxSegmentDuration=a.maxSegmentDuration),b}function $(a,b){return ka.calcPresentationTimeFromWallTime(a.loadedTime,b)}function _(a,b){var c,d=NaN;return a.hasOwnProperty(\\\"minimumUpdatePeriod\\\")&&(c=$(a,b),d=c+a.minimumUpdatePeriod),d}function aa(a,b){var c,d=_(a,b);if(a.mediaPresentationDuration)c=a.mediaPresentationDuration;else{if(isNaN(d))throw new Error(\\\"Must have @mediaPresentationDuration or @minimumUpdatePeriod on MPD or an explicit @duration on the last period.\\\");c=d}return c}function ba(a,b){var c=a.Period_asArray,d=c[b.index].EventStream_asArray,e=[];if(d)for(var f=0;f<d.length;f++){var g=new A.default;if(g.period=b,g.timescale=1,!d[f].hasOwnProperty(\\\"schemeIdUri\\\"))throw new Error(\\\"Invalid EventStream. SchemeIdUri has to be set\\\");g.schemeIdUri=d[f].schemeIdUri,d[f].hasOwnProperty(\\\"timescale\\\")&&(g.timescale=d[f].timescale),d[f].hasOwnProperty(\\\"value\\\")&&(g.value=d[f].value);for(var h=0;h<d[f].Event_asArray.length;h++){var i=new w.default;i.presentationTime=0,i.eventStream=g,d[f].Event_asArray[h].hasOwnProperty(\\\"presentationTime\\\")&&(i.presentationTime=d[f].Event_asArray[h].presentationTime),d[f].Event_asArray[h].hasOwnProperty(\\\"duration\\\")&&(i.duration=d[f].Event_asArray[h].duration),d[f].Event_asArray[h].hasOwnProperty(\\\"id\\\")&&(i.id=d[f].Event_asArray[h].id),e.push(i)}}return e}function ca(a,b){var c=[];if(!a)return c;for(var d=0;d<a.length;d++){var e=new A.default;if(e.timescale=1,e.representation=b,!a[d].hasOwnProperty(\\\"schemeIdUri\\\"))throw new Error(\\\"Invalid EventStream. SchemeIdUri has to be set\\\");e.schemeIdUri=a[d].schemeIdUri,a[d].hasOwnProperty(\\\"timescale\\\")&&(e.timescale=a[d].timescale),a[d].hasOwnProperty(\\\"value\\\")&&(e.value=a[d].value),c.push(e)}return c}function da(a,b){var c=a.Period_asArray[b.period.index].AdaptationSet_asArray[b.index].InbandEventStream_asArray;return ca(c,null)}function ea(a,b){var c=a.Period_asArray[b.adaptation.period.index].AdaptationSet_asArray[b.adaptation.index].Representation_asArray[b.index].InbandEventStream_asArray;return ca(c,b)}function fa(a){var b=K(a),c=a.hasOwnProperty(\\\"availabilityStartTime\\\"),d=a.UTCTiming_asArray,e=[];return(b||c)&&d&&d.forEach(function(a){var b=new o.default;a.hasOwnProperty(\\\"schemeIdUri\\\")&&(b.schemeIdUri=a.schemeIdUri,a.hasOwnProperty(\\\"value\\\")&&(b.value=a.value.toString(),e.push(b)))}),e}function ga(a){var b=[],c=a.BaseURL_asArray||[a.baseUri],d=!1;return c.some(function(c){if(c){var e=new y.default,f=c.__text||c;return na.isRelative(f)&&(d=!0,a.baseUri&&(f=a.baseUri+f)),e.url=f,c.hasOwnProperty(\\\"serviceLocation\\\")&&c.serviceLocation.length?e.serviceLocation=c.serviceLocation:e.serviceLocation=f,c.hasOwnProperty(\\\"dvb:priority\\\")&&(e.dvb_priority=c[\\\"dvb:priority\\\"]),c.hasOwnProperty(\\\"dvb:weight\\\")&&(e.dvb_weight=c[\\\"dvb:weight\\\"]),b.push(e),d}}),b}function ha(a){return a.hasOwnProperty(\\\"Location\\\")&&(a.Location=a.Location_asArray[0]),a.Location}var ia=void 0,ja=this.context,ka=(0,q.default)(ja).getInstance(),la=(0,s.default)(ja).getInstance(),ma=(0,u.default)(ja).getInstance(),na=(0,C.default)(ja).getInstance();return ia={getIsTypeOf:a,getIsAudio:b,getIsVideo:c,getIsText:e,getIsMuxed:f,getIsTextTrack:h,getIsFragmentedText:d,getIsMain:t,getLanguageForAdaptation:j,getViewpointForAdaptation:l,getRolesForAdaptation:n,getAccessibilityForAdaptation:p,getAudioChannelConfigurationForAdaptation:r,processAdaptation:x,getAdaptationForIndex:B,getIndexForAdaptation:D,getAdaptationForId:z,getAdaptationsForType:E,getAdaptationForType:F,getCodec:G,getMimeType:H,getKID:I,getContentProtectionData:J,getIsDynamic:K,getIsDVR:L,getIsOnDemand:N,getIsDVB:O,getDuration:P,getBandwidth:Q,getRefreshDelay:R,getRepresentationCount:S,getBitrateListForAdaptation:T,getRepresentationFor:U,getRepresentationsForAdaptation:V,getAdaptationsForPeriod:W,getRegularPeriods:X,getPeriodId:Y,getMpd:Z,getFetchTime:$,getCheckTime:_,getEndTimeForLastPeriod:aa,getEventsForPeriod:ba,getEventStreams:ca,getEventStreamForAdaptationSet:da,getEventStreamForRepresentation:ea,getUTCTimingSources:fa,getBaseURLsFromElement:ga,getRepresentationSortFunction:v,getLocation:ha}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(45),g=d(f),h=a(39),i=d(h),j=a(44),k=d(j),l=a(43),m=d(l),n=a(47),o=d(n),p=a(37),q=d(p),r=a(66),s=d(r),t=a(15),u=d(t),v=a(41),w=d(v),x=a(40),y=d(x),z=a(42),A=d(z),B=a(158),C=d(B),D=a(10),E=d(D);e.__dashjs_factory_name=\\\"DashManifestModel\\\",c.default=E.default.getSingletonFactory(e),b.exports=c.default},{10:10,15:15,158:158,37:37,39:39,40:40,41:41,42:42,43:43,44:44,45:45,47:47,66:66}],23:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){h=[new q.default,new s.default,new u.default],i=new o.default(h,\\\"\\\",(!0)),j=new m.default([new w.default,new y.default])}function b(a,b){var c;try{var f=window.performance.now();if(c=i.xml_str2json(a),!c)throw new Error(\\\"parser error\\\");var g=window.performance.now();j.run(c);var k=window.performance.now();b.setMatchers(h),b.setIron(j),d(\\\"Parsing complete: ( xml2json: \\\"+(g-f).toPrecision(3)+\\\"ms, objectiron: \\\"+(k-g).toPrecision(3)+\\\"ms, total: \\\"+((k-f)/1e3).toPrecision(3)+\\\"s)\\\")}catch(l){return e.manifestError(\\\"parsing the manifest failed\\\",\\\"parse\\\",a,l),null}return c}var c=this.context,d=(0,k.default)(c).getInstance().log,e=(0,g.default)(c).getInstance(),f=void 0,h=void 0,i=void 0,j=void 0;return f={\\nparse:b},a(),f}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(151),g=d(f),h=a(10),i=d(h),j=a(8),k=d(j),l=a(3),m=d(l),n=a(4),o=d(n),p=a(30),q=d(p),r=a(29),s=d(r),t=a(31),u=d(t),v=a(26),w=d(v),x=a(27),y=d(x);e.__dashjs_factory_name=\\\"DashParser\\\",c.default=i.default.getClassFactory(e),b.exports=c.default},{10:10,151:151,26:26,27:27,29:29,3:3,30:30,31:31,4:4,8:8}],24:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,\\\"value\\\"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(b,c){d(this,a);var e=function(a){return a&&a.length&&a.charAt(0)===a.charAt(0).toUpperCase()};this._name=b,this._merge=void 0!==c?c:e(b)}return e(a,[{key:\\\"name\\\",get:function(){return this._name}},{key:\\\"merge\\\",get:function(){return this._merge}}]),a}();c.default=f,b.exports=c.default},{}],25:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,\\\"value\\\"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=a(24),h=d(g),i=function(){function a(b,c,d,f,g){var i=this;e(this,a),this._name=b||\\\"\\\",this._properties=[],this._children=d||[],this._isRoot=f||!1,this._isArray=g||!0,Array.isArray(c)&&c.forEach(function(a){i._properties.push(new h.default(a))})}return f(a,[{key:\\\"name\\\",get:function(){return this._name}},{key:\\\"isRoot\\\",get:function(){return this._isRoot}},{key:\\\"isArray\\\",get:function(){return this._isArray}},{key:\\\"children\\\",get:function(){return this._children}},{key:\\\"properties\\\",get:function(){return this._properties}}]),a}();c.default=i,b.exports=c.default},{24:24}],26:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}function f(a,b){if(\\\"function\\\"!=typeof b&&null!==b)throw new TypeError(\\\"Super expression must either be null or a function, not \\\"+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var g=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if(\\\"value\\\"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}},h=a(25),i=d(h),j=function(a){function b(){e(this,b);var a=[\\\"profiles\\\",\\\"width\\\",\\\"height\\\",\\\"sar\\\",\\\"frameRate\\\",\\\"audioSamplingRate\\\",\\\"mimeType\\\",\\\"segmentProfiles\\\",\\\"codecs\\\",\\\"maximumSAPPeriod\\\",\\\"startWithSAP\\\",\\\"maxPlayoutRate\\\",\\\"codingDependency\\\",\\\"scanType\\\",\\\"FramePacking\\\",\\\"AudioChannelConfiguration\\\",\\\"ContentProtection\\\",\\\"EssentialProperty\\\",\\\"SupplementalProperty\\\",\\\"InbandEventStream\\\"];return g(Object.getPrototypeOf(b.prototype),\\\"constructor\\\",this).call(this,\\\"AdaptationSet\\\",a,[new i.default(\\\"Representation\\\",a,[new i.default(\\\"SubRepresentation\\\",a)])])}return f(b,a),b}(i.default);c.default=j,b.exports=c.default},{25:25}],27:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}function f(a,b){if(\\\"function\\\"!=typeof b&&null!==b)throw new TypeError(\\\"Super expression must either be null or a function, not \\\"+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var g=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if(\\\"value\\\"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}},h=a(25),i=d(h),j=function(a){function b(){e(this,b);var a=[\\\"SegmentBase\\\",\\\"SegmentTemplate\\\",\\\"SegmentList\\\"];return g(Object.getPrototypeOf(b.prototype),\\\"constructor\\\",this).call(this,\\\"Period\\\",a,[new i.default(\\\"AdaptationSet\\\",a,[new i.default(\\\"Representation\\\",a)])])}return f(b,a),b}(i.default);c.default=j,b.exports=c.default},{25:25}],28:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,\\\"value\\\"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(b,c){d(this,a),this._test=b,this._converter=c}return e(a,[{key:\\\"test\\\",get:function(){return this._test}},{key:\\\"converter\\\",get:function(){return this._converter}}]),a}();c.default=f,b.exports=c.default},{}],29:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}function f(a,b){if(\\\"function\\\"!=typeof b&&null!==b)throw new TypeError(\\\"Super expression must either be null or a function, not \\\"+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var g=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if(\\\"value\\\"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}},h=a(28),i=d(h),j=60,k=60,l=1e3,m=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\\\\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/,n=function(a){function b(){e(this,b),g(Object.getPrototypeOf(b.prototype),\\\"constructor\\\",this).call(this,function(a){return m.test(a.value)},function(a){var b=m.exec(a),c=void 0;if(c=Date.UTC(parseInt(b[1],10),parseInt(b[2],10)-1,parseInt(b[3],10),parseInt(b[4],10),parseInt(b[5],10),b[6]&&parseInt(b[6],10)||0,b[7]&&parseFloat(b[7])*l||0),b[9]&&b[10]){var d=parseInt(b[9],10)*k+parseInt(b[10],10);c+=(\\\"+\\\"===b[8]?-1:1)*d*j*l}return new Date(c)})}return f(b,a),b}(i.default);c.default=n,b.exports=c.default},{28:28}],30:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}function f(a,b){if(\\\"function\\\"!=typeof b&&null!==b)throw new TypeError(\\\"Super expression must either be null or a function, not \\\"+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var g=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if(\\\"value\\\"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}},h=a(28),i=d(h),j=/^([-])?P(([\\\\d.]*)Y)?(([\\\\d.]*)M)?(([\\\\d.]*)D)?T?(([\\\\d.]*)H)?(([\\\\d.]*)M)?(([\\\\d.]*)S)?/,k=31536e3,l=2592e3,m=86400,n=3600,o=60,p=function(a){function b(){e(this,b),g(Object.getPrototypeOf(b.prototype),\\\"constructor\\\",this).call(this,function(a){for(var b=[\\\"minBufferTime\\\",\\\"mediaPresentationDuration\\\",\\\"minimumUpdatePeriod\\\",\\\"timeShiftBufferDepth\\\",\\\"maxSegmentDuration\\\",\\\"maxSubsegmentDuration\\\",\\\"suggestedPresentationDelay\\\",\\\"start\\\",\\\"starttime\\\",\\\"duration\\\"],c=b.length,d=0;d<c;d++)if(a.nodeName===b[d])return j.test(a.value);return!1},function(a){var b=j.exec(a),c=parseFloat(b[2]||0)*k+parseFloat(b[4]||0)*l+parseFloat(b[6]||0)*m+parseFloat(b[8]||0)*n+parseFloat(b[10]||0)*o+parseFloat(b[12]||0);return void 0!==b[1]&&(c=-c),c})}return f(b,a),b}(i.default);c.default=p,b.exports=c.default},{28:28}],31:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}function f(a,b){if(\\\"function\\\"!=typeof b&&null!==b)throw new TypeError(\\\"Super expression must either be null or a function, not \\\"+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var g=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if(\\\"value\\\"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}},h=a(28),i=d(h),j=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/,k=function(a){function b(){e(this,b),g(Object.getPrototypeOf(b.prototype),\\\"constructor\\\",this).call(this,function(a){return j.test(a.value)},function(a){return parseFloat(a)})}return f(b,a),b}(i.default);c.default=k,b.exports=c.default},{28:28}],32:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a){a&&a.boxParser&&(e=a.boxParser)}function b(a){var b,c,d,f,g,h,i,j,k,l,m,n=e.parse(a),o=n.getBox(\\\"tfhd\\\"),p=n.getBox(\\\"tfdt\\\"),q=n.getBox(\\\"trun\\\"),r=n.getBox(\\\"moof\\\"),s=n.getBox(\\\"mfhd\\\");for(l=s.sequence_number,d=q.sample_count,g=p.baseMediaDecodeTime,k=(o.base_data_offset||0)+(q.data_offset||0),h=[],j=0;j<d;j++)i=q.samples[j],b=void 0!==i.sample_duration?i.sample_duration:o.default_sample_duration,f=void 0!==i.sample_size?i.sample_size:o.default_sample_size,c=void 0!==i.sample_composition_time_offset?i.sample_composition_time_offset:0,h.push({dts:g,cts:g+c,duration:b,offset:r.offset+k,size:f}),k+=f,g+=b;return m=g-p.baseMediaDecodeTime,{sampleList:h,sequenceNumber:l,totalDuration:m}}function c(a){var b=e.parse(a),c=b.getBox(\\\"mdhd\\\");return c?c.timescale:NaN}var d=void 0,e=void 0;return d={getSamplesInfo:b,getMediaTimescaleFromMoov:c,setConfig:a}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f);e.__dashjs_factory_name=\\\"FragmentedTextBoxParser\\\",c.default=g.default.getSingletonFactory(e),b.exports=c.default},{10:10}],33:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){function c(a,c,e,f){var g,i,j,k,l,m,n,o=a.adaptation.period.mpd.manifest.Period_asArray[a.adaptation.period.index].AdaptationSet_asArray[a.adaptation.index].Representation_asArray[a.index].SegmentList,p=o.SegmentURL_asArray.length,q=[];for(n=a.startNumber,k=(0,h.decideSegmentListRangeForTemplate)(d,b,a,c,e,f),l=Math.max(k.start,0),m=Math.min(k.end,o.SegmentURL_asArray.length-1),g=l;g<=m;g++)j=o.SegmentURL_asArray[g],i=(0,h.getIndexBasedSegment)(d,b,a,g),i.replacementTime=(n+g-1)*a.segmentDuration,i.media=j.media?j.media:\\\"\\\",i.mediaRange=j.mediaRange,i.index=j.index,i.indexRange=j.indexRange,q.push(i),i=null;return a.availableSegmentsNumber=p,q}var d=a.timelineConverter,e=void 0;return e={getSegments:c}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f),h=a(35);e.__dashjs_factory_name=\\\"ListSegmentsGetter\\\";var i=g.default.getClassFactory(e);c.default=i,b.exports=c.default},{10:10,35:35}],34:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){function c(){h=(0,i.default)(f).create(a,b),j=(0,k.default)(f).create(a,b),l=(0,m.default)(f).create(a,b)}function d(a,b,c,d,f){var g,i=a.segmentInfoType;return\\\"SegmentBase\\\"!==i&&\\\"BaseURL\\\"!==i&&e(a,c)?(\\\"SegmentTimeline\\\"===i?g=h.getSegments(a,b,c,f):\\\"SegmentTemplate\\\"===i?g=j.getSegments(a,b,c,f):\\\"SegmentList\\\"===i&&(g=l.getSegments(a,b,c,f)),d&&d(a,g)):g=a.segments,g}function e(a,b){var c,d,e=a.segments,f=!1;return e&&0!==e.length?(d=e[0].availabilityIdx,c=e[e.length-1].availabilityIdx,f=b<d||b>c):f=!0,f}var f=this.context,g=void 0,h=void 0,j=void 0,l=void 0;return g={getSegments:d},c(),g}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f),h=a(38),i=d(h),j=a(36),k=d(j),l=a(33),m=d(l);e.__dashjs_factory_name=\\\"SegmentsGetter\\\";var n=g.default.getClassFactory(e);c.default=n,b.exports=c.default},{10:10,33:33,36:36,38:38}],35:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){for(;a.length<b;)a=\\\"0\\\"+a;return a}function f(a,b){return a.representation.startNumber+b}function g(a,b,c){for(var d,f,g,h,i,j,k=\\\"%0\\\",l=b.length,m=k.length;;){if(d=a.indexOf(\\\"$\\\"+b),d<0)return a;if(f=a.indexOf(\\\"$\\\",d+l),f<0)return a;if(g=a.indexOf(k,d+l),g>d&&g<f)switch(h=a.charAt(f-1),i=parseInt(a.substring(g+m,f-1),10),h){case\\\"d\\\":case\\\"i\\\":case\\\"u\\\":j=e(c.toString(),i);break;case\\\"x\\\":j=e(c.toString(16),i);break;case\\\"X\\\":j=e(c.toString(16),i).toUpperCase();break;case\\\"o\\\":j=e(c.toString(8),i);break;default:return a}else j=c;a=a.substring(0,d)+j+a.substring(f+1)}}function h(a,b,c,d){var e,g,h,i;return g=c.segmentDuration,isNaN(g)&&(g=c.adaptation.period.duration),h=c.adaptation.period.start+d*g,i=h+g,e=new n.default,e.representation=c,e.duration=g,e.presentationStartTime=h,e.mediaStartTime=a.calcMediaTimeFromPresentationTime(e.presentationStartTime,c),e.availabilityStartTime=a.calcAvailabilityStartTimeFromPresentationTime(e.presentationStartTime,c.adaptation.period.mpd,b),e.availabilityEndTime=a.calcAvailabilityEndTimeFromPresentationTime(i,c.adaptation.period.mpd,b),e.wallStartTime=a.calcWallTimeForSegment(e,b),e.replacementNumber=f(e,d),e.availabilityIdx=d,e}function i(a,b,c,d,e,h,i,j,k){var l,m,o,p=d/h,q=Math.min(e/h,c.adaptation.period.mpd.maxSegmentDuration);return l=a.calcPresentationTimeFromMediaTime(p,c),m=l+q,o=new n.default,o.representation=c,o.duration=q,o.mediaStartTime=p,o.presentationStartTime=l,o.availabilityStartTime=c.adaptation.period.mpd.manifest.loadedTime,o.availabilityEndTime=a.calcAvailabilityEndTimeFromPresentationTime(m,c.adaptation.period.mpd,b),o.wallStartTime=a.calcWallTimeForSegment(o,b),o.replacementTime=d,o.replacementNumber=f(o,k),i=g(i,\\\"Number\\\",o.replacementNumber),i=g(i,\\\"Time\\\",o.replacementTime),o.media=i,o.mediaRange=j,o.availabilityIdx=k,o}function j(a,b){if(!b||!b.segments)return null;var c,d,e=b.segments.length;if(a<e&&(c=b.segments[a],c&&c.availabilityIdx===a))return c;for(d=0;d<e;d++)if(c=b.segments[d],c&&c.availabilityIdx===a)return c;return null}function k(a,b,c,d,e){var f,g,h,i=2,j=e||10,k=0,l=Number.POSITIVE_INFINITY;return b&&!a.isTimeSyncCompleted()?h={start:k,end:l}:!b&&c||d<0?null:(f=Math.max(d-i,k),g=Math.min(d+j,l),h={start:f,end:g})}function l(a,b,c,d,e,f){var g,h,i,k=c.segmentDuration,l=c.adaptation.period.mpd.manifest.minBufferTime,m=c.segmentAvailabilityRange,n={start:a.calcPeriodRelativeTimeFromMpdRelativeTime(c,m.start),end:a.calcPeriodRelativeTimeFromMpdRelativeTime(c,m.end)},o=c.segments,p=2*k,q=f||Math.max(2*l,10*k),r=NaN,s=null;return n.start=Math.max(n.start,0),b&&!a.isTimeSyncCompleted()?(g=Math.floor(n.start/k),h=Math.floor(n.end/k),i={start:g,end:h}):(o&&o.length>0?(s=j(e,c),r=s?a.calcPeriodRelativeTimeFromMpdRelativeTime(c,s.presentationStartTime):e>0?e*k:a.calcPeriodRelativeTimeFromMpdRelativeTime(c,d)):r=e>0?e*k:b?n.end:n.start,g=Math.floor(Math.max(r-p,n.start)/k),h=Math.floor(Math.min(g+q/k,n.end/k)),i={start:g,end:h})}Object.defineProperty(c,\\\"__esModule\\\",{value:!0}),c.replaceTokenForTemplate=g,c.getIndexBasedSegment=h,c.getTimeBasedSegment=i,c.getSegmentByIndex=j,c.decideSegmentListRangeForTimeline=k,c.decideSegmentListRangeForTemplate=l;var m=a(46),n=d(m)},{46:46}],36:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){function c(a,c,e,f){var g,i,j,k,l,m=a.adaptation.period.mpd.manifest.Period_asArray[a.adaptation.period.index].AdaptationSet_asArray[a.adaptation.index].Representation_asArray[a.index].SegmentTemplate,n=a.segmentDuration,o=a.segmentAvailabilityRange,p=[],q=null,r=null;for(l=a.startNumber,g=isNaN(n)&&!b?{start:l,end:l}:(0,h.decideSegmentListRangeForTemplate)(d,b,a,c,e,f),j=g.start,k=g.end,i=j;i<=k;i++)r=(0,h.getIndexBasedSegment)(d,b,a,i),r.replacementTime=(l+i-1)*a.segmentDuration,q=m.media,q=(0,h.replaceTokenForTemplate)(q,\\\"Number\\\",r.replacementNumber),q=(0,h.replaceTokenForTemplate)(q,\\\"Time\\\",r.replacementTime),r.media=q,p.push(r),r=null;return isNaN(n)?a.availableSegmentsNumber=1:a.availableSegmentsNumber=Math.ceil((o.end-o.start)/n),p}var d=a.timelineConverter,e=void 0;return e={getSegments:c}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f),h=a(35);e.__dashjs_factory_name=\\\"TemplateSegmentsGetter\\\";var i=g.default.getClassFactory(e);c.default=i,b.exports=c.default},{10:10,35:35}],37:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){z=0,A=!1,B=NaN,x.on(i.default.LIVE_EDGE_SEARCH_COMPLETED,s,this),x.on(i.default.TIME_SYNCHRONIZATION_COMPLETED,t,this)}function b(){return A}function c(a){A=a}function d(){return z}function e(){return B}function f(a){B=a}function h(a,b,c,d){var e=NaN;return e=d?c&&b.timeShiftBufferDepth!=Number.POSITIVE_INFINITY?new Date(b.availabilityStartTime.getTime()+1e3*(a+b.timeShiftBufferDepth)):b.availabilityEndTime:c?new Date(b.availabilityStartTime.getTime()+1e3*(a-z)):b.availabilityStartTime}function j(a,b,c){return h.call(this,a,b,c)}function k(a,b,c){return h.call(this,a,b,c,!0)}function l(a,b){return(a.getTime()-b.mpd.availabilityStartTime.getTime()+1e3*z)/1e3}function m(a,b){var c=b.adaptation.period.start,d=b.presentationTimeOffset;return a+(c-d)}function n(a,b){var c=b.adaptation.period.start,d=b.presentationTimeOffset;return a-c+d}function o(a,b){var c,d,e;return b&&(c=a.representation.adaptation.period.mpd.suggestedPresentationDelay,d=a.presentationStartTime+c,e=new Date(a.availabilityStartTime.getTime()+1e3*d)),e}function p(a,b){var c,d,e=a.adaptation.period.start,f=e+a.adaptation.period.duration,g={start:e,end:f},h=a.segmentDuration||(a.segments&&a.segments.length?a.segments[a.segments.length-1].duration:0);if(!b)return g;if(!A&&a.segmentAvailabilityRange)return a.segmentAvailabilityRange;c=a.adaptation.period.mpd.checkTime,d=l(new Date,a.adaptation.period),e=Math.max(d-a.adaptation.period.mpd.timeShiftBufferDepth,a.adaptation.period.start);var i=isNaN(c)?d:Math.min(c,d),j=a.adaptation.period.start+a.adaptation.period.duration;return f=(i>=j&&i-h<j?j:i)-h,g={start:e,end:f}}function q(a,b){var c=a.adaptation.period.start;return b-c}function r(a,b){var c=a.adaptation.period.start;return b+c}function s(a){A||a.error||(z+=a.liveEdge-(B+a.searchTime),A=!0)}function t(a){A||a.error||(z=a.offset/1e3,A=!0)}function u(a){var b=a.presentationTimeOffset,c=a.adaptation.period.start;return c-b}function v(){x.off(i.default.LIVE_EDGE_SEARCH_COMPLETED,s,this),x.off(i.default.TIME_SYNCHRONIZATION_COMPLETED,t,this),z=0,A=!1,B=NaN}var w=this.context,x=(0,g.default)(w).getInstance(),y=void 0,z=void 0,A=void 0,B=void 0;return y={initialize:a,isTimeSyncCompleted:b,setTimeSyncCompleted:c,getClientTimeOffset:d,getExpectedLiveEdge:e,setExpectedLiveEdge:f,calcAvailabilityStartTimeFromPresentationTime:j,calcAvailabilityEndTimeFromPresentationTime:k,calcPresentationTimeFromWallTime:l,calcPresentationTimeFromMediaTime:m,calcPeriodRelativeTimeFromMpdRelativeTime:q,calcMpdRelativeTimeFromPeriodRelativeTime:r,calcMediaTimeFromPresentationTime:n,calcSegmentAvailabilityRange:p,calcWallTimeForSegment:o,calcMSETimeOffset:u,reset:v}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(9),g=d(f),h=a(13),i=d(h),j=a(10),k=d(j);e.__dashjs_factory_name=\\\"TimelineConverter\\\",c.default=k.default.getSingletonFactory(e),b.exports=c.default},{10:10,13:13,9:9}],38:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){function c(a,c,e,f){var g,i,j,k,l,m,n,o,p,q,r,s,t,u,v=a.adaptation.period.mpd.manifest.Period_asArray[a.adaptation.period.index].AdaptationSet_asArray[a.adaptation.index].Representation_asArray[a.index].SegmentTemplate||a.adaptation.period.mpd.manifest.Period_asArray[a.adaptation.period.index].AdaptationSet_asArray[a.adaptation.index].Representation_asArray[a.index].SegmentList,w=v.SegmentTimeline,x=v.SegmentURL_asArray,y=a.availableSegmentsNumber>0,z=10,A=0,B=0,C=-1,D=[],E=!1,F=function(c,e){var f=v.media,g=c.mediaRange;return x&&(f=x[e].media||\\\"\\\",g=x[e].mediaRange),(0,h.getTimeBasedSegment)(d,b,a,A,c.d,u,f,g,C)};for(u=a.timescale,g=w.S_asArray,p=(0,h.decideSegmentListRangeForTimeline)(d,b,c,e,f),p?(s=p.start,t=p.end):r=d.calcMediaTimeFromPresentationTime(c||0,a),j=0,k=g.length;j<k;j++){if(i=g[j],m=0,i.hasOwnProperty(\\\"r\\\")&&(m=i.r),i.hasOwnProperty(\\\"t\\\")&&(A=i.t,B=A/u),m<0){if(o=g[j+1],o&&o.hasOwnProperty(\\\"t\\\"))n=o.t/u;else{var G=a.segmentAvailabilityRange?a.segmentAvailabilityRange.end:d.calcSegmentAvailabilityRange(a,b).end;n=d.calcMediaTimeFromPresentationTime(G,a),a.segmentDuration=i.d/u}m=Math.ceil((n-B)/(i.d/u))-1}if(q){if(y)break;C+=m+1}else for(l=0;l<=m;l++){if(C++,p){if(C>t){if(q=!0,y)break;continue}C>=s&&D.push(F(i,C))}else{if(D.length>z){if(q=!0,y)break;continue}E?D.push(F(i,C)):B>=r-i.d/u*1.5&&(E=!0,D.push(F(i,C)))}A+=i.d,B=A/u}}return y||(a.availableSegmentsNumber=C+1),D}var d=a.timelineConverter,e=void 0;return e={getSegments:c}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f),h=a(35);e.__dashjs_factory_name=\\\"TimelineSegmentsGetter\\\";var i=g.default.getClassFactory(e);c.default=i,b.exports=c.default},{10:10,35:35}],39:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){d(this,a),this.period=null,this.index=-1,this.type=null};c.default=e,b.exports=c.default},{}],40:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=1,f=1,g=function a(b,c,g,h){d(this,a),this.url=b||\\\"\\\",this.serviceLocation=c||b||\\\"\\\",this.dvb_priority=g||e,this.dvb_weight=h||f};g.DEFAULT_DVB_PRIORITY=e,g.DEFAULT_DVB_WEIGHT=f,c.default=g,b.exports=c.default},{}],41:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){d(this,a),this.duration=NaN,this.presentationTime=NaN,this.id=NaN,this.messageData=\\\"\\\",this.eventStream=null,this.presentationTimeDelta=NaN};c.default=e,b.exports=c.default},{}],42:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){d(this,a),this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value=\\\"\\\",this.schemeIdUri=\\\"\\\"};c.default=e,b.exports=c.default},{}],43:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){d(this,a),this.manifest=null,this.suggestedPresentationDelay=0,this.availabilityStartTime=null,this.availabilityEndTime=Number.POSITIVE_INFINITY,this.timeShiftBufferDepth=Number.POSITIVE_INFINITY,this.maxSegmentDuration=Number.POSITIVE_INFINITY,this.checkTime=NaN,this.clientServerTimeShift=0,this.isClientServerTimeSyncCompleted=!1};c.default=e,b.exports=c.default},{}],44:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){d(this,a),this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null};e.DEFAULT_ID=\\\"defaultId\\\",c.default=e,b.exports=c.default},{}],45:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){d(this,a),this.id=null,this.index=-1,this.adaptation=null,this.segmentInfoType=null,this.initialization=null,this.segmentDuration=NaN,this.timescale=1,this.startNumber=1,this.indexRange=null,this.range=null,this.presentationTimeOffset=0,this.MSETimeOffset=NaN,this.segmentAvailabilityRange=null,this.availableSegmentsNumber=0,this.bandwidth=NaN,this.maxPlayoutRate=NaN};c.default=e,b.exports=c.default},{}],46:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){d(this,a),this.indexRange=null,this.index=null,this.mediaRange=null,this.media=null,this.duration=NaN,this.replacementTime=null,this.replacementNumber=NaN,this.mediaStartTime=NaN,this.presentationStartTime=NaN,this.availabilityStartTime=NaN,this.availabilityEndTime=NaN,this.availabilityIdx=NaN,this.wallStartTime=NaN,this.representation=null};c.default=e,b.exports=c.default},{}],47:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){d(this,a),this.schemeIdUri=\\\"\\\",this.value=\\\"\\\"};c.default=e,b.exports=c.default},{}],48:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){n=(0,g.default)(h).create({errHandler:a.errHandler,metricsModel:a.metricsModel,requestModifier:a.requestModifier})}function c(a){var b=function(b){j.trigger(o.default.CHECK_FOR_EXISTENCE_COMPLETED,{request:a,exists:b})};if(a){var c=new i.default(a.url);n.load({request:c,success:function(){b(!0)},error:function(){b(!1)}})}else b(!1)}function d(a){var b=function(b,c){j.trigger(o.default.LOADING_COMPLETED,{request:a,response:b||null,error:c||null,sender:l})};a?n.load({request:a,progress:function(){j.trigger(o.default.LOADING_PROGRESS,{request:a})},success:function(a){b(a)},error:function(a,c,d){b(void 0,new k.default(r,d,c))}}):b(void 0,new k.default(s,t))}function e(){n&&n.abort()}function f(){n&&(n.abort(),n=null)}var h=this.context,j=(0,m.default)(h).getInstance(),l=void 0,n=void 0;return l={checkForExistence:c,load:d,abort:e,reset:f},b(),l}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(58),g=d(f),h=a(164),i=d(h),j=a(162),k=d(j),l=a(9),m=d(l),n=a(13),o=d(n),p=a(10),q=d(p),r=1,s=2,t=\\\"request is null\\\";e.__dashjs_factory_name=\\\"FragmentLoader\\\";var u=q.default.getClassFactory(e);u.FRAGMENT_LOADER_ERROR_LOADING_FAILURE=r,u.FRAGMENT_LOADER_ERROR_NULL_REQUEST=s,c.default=u,b.exports=c.default},{10:10,13:13,162:162,164:164,58:58,9:9}],49:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){h.on(t.default.XLINK_READY,c,n),q=(0,i.default)(f).create({errHandler:a.errHandler,metricsModel:a.metricsModel,requestModifier:a.requestModifier}),s=(0,g.default)(f).create({errHandler:a.errHandler,metricsModel:a.metricsModel,requestModifier:a.requestModifier})}function c(a){h.trigger(t.default.INTERNAL_MANIFEST_LOADED,{manifest:a.manifest})}function d(a){var b=new m.default(a,p.HTTPRequest.MPD_TYPE);q.load({request:b,success:function(b,c,d){var e,f;d.responseURL&&d.responseURL!==a?(f=j.parseBaseUrl(d.responseURL),e=d.responseURL):(j.isRelative(a)&&(a=j.parseBaseUrl(window.location.href)+a),f=j.parseBaseUrl(a));var g=l.parse(b,s);g?(g.url=e||a,g.originalUrl||(g.originalUrl=g.url),g.baseUri=f,g.loadedTime=new Date,s.resolveManifestOnLoad(g)):h.trigger(t.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new o.default(w,y)})},error:function(b,c,d){h.trigger(t.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new o.default(x,\\\"Failed loading manifest: \\\"+a+\\\", \\\"+d)})}})}function e(){h.off(t.default.XLINK_READY,c,n),s&&(s.reset(),s=null),q&&(q.abort(),q=null)}var f=this.context,h=(0,r.default)(f).getInstance(),j=(0,k.default)(f).getInstance(),l=a.parser,n=void 0,q=void 0,s=void 0;return n={load:d,reset:e},b(),n}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(74),g=d(f),h=a(58),i=d(h),j=a(158),k=d(j),l=a(170),m=d(l),n=a(162),o=d(n),p=a(179),q=a(9),r=d(q),s=a(13),t=d(s),u=a(10),v=d(u),w=1,x=2,y=\\\"parsing failed\\\";e.__dashjs_factory_name=\\\"ManifestLoader\\\";var z=v.default.getClassFactory(e);z.MANIFEST_LOADER_ERROR_PARSING_FAILURE=w,z.MANIFEST_LOADER_ERROR_LOADING_FAILURE=x,c.default=z,b.exports=c.default},{10:10,13:13,158:158,162:162,170:170,179:179,58:58,74:74,9:9}],50:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a){a&&(a.manifestModel&&(z=a.manifestModel),a.dashManifestModel&&(A=a.dashManifestModel))}function b(a){y=a,u=NaN,v=null,x=!1,w=!0,s.on(i.default.STREAMS_COMPOSED,p,this),s.on(i.default.PLAYBACK_STARTED,n,this),s.on(i.default.PLAYBACK_PAUSED,o,this),s.on(i.default.INTERNAL_MANIFEST_LOADED,l,this)}function c(a){j(a)}function d(){return y}function e(){s.off(i.default.PLAYBACK_STARTED,n,this),s.off(i.default.PLAYBACK_PAUSED,o,this),s.off(i.default.STREAMS_COMPOSED,p,this),s.off(i.default.INTERNAL_MANIFEST_LOADED,l,this),w=!0,x=!1,f(),u=NaN}function f(){null!==v&&(clearInterval(v),v=null)}function h(){f(),isNaN(u)||(r(\\\"Refresh manifest in \\\"+u+\\\" seconds.\\\"),v=setTimeout(k,Math.min(1e3*u,Math.pow(2,31)-1),this))}function j(a){var b,c,d=new Date;z.setValue(a),r(\\\"Manifest has been refreshed at \\\"+d+\\\"[\\\"+d.getTime()/1e3+\\\"] \\\"),b=A.getRefreshDelay(a),c=((new Date).getTime()-a.loadedTime.getTime())/1e3,u=Math.max(b-c,0),s.trigger(i.default.MANIFEST_UPDATED,{manifest:a}),w||h()}function k(){var a,b;if(!w&&!x){x=!0,a=z.getValue(),b=a.url;var c=A.getLocation(a);c&&(b=c),y.load(b)}}function l(a){a.error||j(a.manifest)}function n(){w=!1,h()}function o(){w=!0,f()}function p(){x=!1}var q=this.context,r=(0,m.default)(q).getInstance().log,s=(0,g.default)(q).getInstance(),t=void 0,u=void 0,v=void 0,w=void 0,x=void 0,y=void 0,z=void 0,A=void 0;return t={initialize:b,setManifest:c,getManifestLoader:d,setConfig:a,reset:e}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(9),g=d(f),h=a(13),i=d(h),j=a(10),k=d(j),l=a(8),m=d(l);e.__dashjs_factory_name=\\\"ManifestUpdater\\\",c.default=k.default.getSingletonFactory(e),b.exports=c.default},{10:10,13:13,8:8,9:9}],51:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){_b=!1,ac=!1,bc=!0,ec=null,$b=null,gc=null,ea.default.extend(ga.default),ic=(0,I.default)(Ub).getInstance()}function b(a,b,c){return kc=(0,u.default)(Ub).getInstance(),jc=(0,s.default)(Ub).getInstance(),kc.supportsMediaSource()?void(_b||(_b=!0,cc=(0,M.default)(Ub).getInstance(),nc=(0,i.default)(Ub).getInstance(),dc=(0,m.default)(Ub).getInstance(),dc.initialize(),pc=(0,pa.default)(Ub).getInstance(),oc=(0,ra.default)(Ub).getInstance(),hc=(0,K.default)(Ub).getInstance(),hc.setConfig({adapter:Jb()}),db(),oa(void 0===c||c),a&&zb(a),b&&Db(b),Xb(\\\"[dash.js \\\"+R()+\\\"] MediaPlayer has been initialized\\\"))):void jc.capabilityError(\\\"mediasource\\\")}function c(){return!!qc&&!!Zb}function d(){if(!ac)throw Qb;(!bc||f()&&ac)&&nc.play()}function e(){if(!ac)throw Qb;nc.pause()}function f(){if(!ac)throw Qb;return nc.isPaused()}function h(){if(!ac)throw Qb;return nc.isSeeking()}function j(a){if(!qc)throw Rb;yb().muted=a}function l(){if(!qc)throw Rb;return yb().muted}function n(a){if(!qc)throw Rb;yb().volume=a}function p(){if(!qc)throw Rb;return yb().volume}function r(a){var b=[\\\"video\\\",\\\"audio\\\",\\\"fragmentedText\\\"];if(a){\\nif(b.indexOf(a)!==-1){var c=va().getCurrentBufferLevel(wa(a));return c?c:NaN}return Xb(\\\"Warning  - getBufferLength requested for invalid type\\\"),NaN}return b.map(function(a){return Ka(a).length>0?va().getCurrentBufferLevel(wa(a)):Number.MAX_VALUE}).reduce(function(a,b){return Math.min(a,b)})}function t(){var a=Mb();return a?a.manifestInfo.DVRWindowSize:0}function v(a){var b=Mb();if(!b)return 0;var c=b.range.start+a;return c>b.range.end&&(c=b.range.end),c}function x(a){if(!ac)throw Qb;var b=nc.getIsDynamic()?v(a):a;nc.seek(b)}function z(a){if(!ac)throw Qb;var b=yb().currentTime;if(void 0!==a)b=lc.getTimeRelativeToStreamId(b,a);else if(nc.getIsDynamic()){var c=Mb();b=null===c?0:B()-(c.range.end-c.time)}return b}function B(){if(!ac)throw Qb;var a=yb().duration;if(nc.getIsDynamic()){var b,c=Mb();if(!c)return 0;b=c.range.end-c.range.start,a=b<c.manifestInfo.DVRWindowSize?b:c.manifestInfo.DVRWindowSize}return a}function D(){if(!ac)throw Qb;return z()<0?NaN:Nb(z())}function F(){if(!ac)throw Qb;return Nb(B())}function H(a,b,c){var d=new Date(1e3*a),e=d.toLocaleDateString(b),f=d.toLocaleTimeString(b,{hour12:c});return f+\\\" \\\"+e}function J(a){a=Math.max(a,0);var b=Math.floor(a/3600),c=Math.floor(a%3600/60),d=Math.floor(a%3600%60);return(0===b?\\\"\\\":b<10?\\\"0\\\"+b.toString()+\\\":\\\":b.toString()+\\\":\\\")+(c<10?\\\"0\\\"+c.toString():c.toString())+\\\":\\\"+(d<10?\\\"0\\\"+d.toString():d.toString())}function L(a,b,c){ia.default.extend(a,b,c,Ub)}function N(a,b,c){Vb.on(a,b,c)}function P(a,b,c){Vb.off(a,b,c)}function R(){return(0,ja.getVersionString)()}function T(){return Wb}function V(){if(!qc)throw Rb;return qc}function X(a){ic.setLiveDelayFragmentCount(a)}function Z(a){ic.setLiveDelay(a)}function _(a){ic.setUseSuggestedPresentationDelay(a)}function ba(a,b){ic.setLastBitrateCachingInfo(a,b)}function da(a,b){ic.setLastMediaSettingsCachingInfo(a,b)}function fa(a,b){cc.setMaxAllowedBitrateFor(a,b)}function ha(a){return cc.getMaxAllowedBitrateFor(a)}function ka(a,b){cc.setMaxAllowedRepresentationRatioFor(a,b)}function ma(a){return cc.getMaxAllowedRepresentationRatioFor(a)}function oa(a){bc=a}function qa(){return bc}function sa(a){ic.setScheduleWhilePaused(a)}function ua(){return ic.getScheduleWhilePaused()}function va(){return oc}function wa(a){return hc.getReadOnlyMetricsFor(a)}function xa(a){if(!ac)throw Qb;return cc.getQualityFor(a,lc.getActiveStreamInfo())}function ya(a,b){if(!ac)throw Qb;cc.setPlaybackQuality(a,lc.getActiveStreamInfo(),b)}function za(){return cc.getLimitBitrateByPortal()}function Aa(a){cc.setLimitBitrateByPortal(a)}function Ba(){return cc.getUsePixelRatioInLimitBitrateByPortal()}function Ca(a){cc.setUsePixelRatioInLimitBitrateByPortal(a)}function Da(a){if(!ac)throw Qb;void 0===rc&&(rc=(0,C.default)(Ub).getInstance());for(var b=yb().textTracks,c=b.length,d=0;d<c;d++){var e=b[d],f=a===d?\\\"showing\\\":\\\"hidden\\\";e.mode!==f&&(e.mode=f)}rc.setTextTrack()}function Ea(a){if(!ac)throw Qb;var b=Ob();return b?b.getBitrateListFor(a):[]}function Fa(a,b){cc.setInitialBitrateFor(a,b)}function Ga(a){if(!ac)throw Qb;return cc.getInitialBitrateFor(a)}function Ha(a,b){cc.setInitialRepresentationRatioFor(a,b)}function Ia(a){return cc.getInitialRepresentationRatioFor(a)}function Ja(a){if(!ac)throw Qb;return gc.getStreamsInfo(a)}function Ka(a){if(!ac)throw Qb;var b=lc.getActiveStreamInfo();return b?dc.getTracksFor(a,b):[]}function La(a,b,c){if(!ac)throw Qb;return c=c||gc.getStreamsInfo(b)[0],c?gc.getAllMediaInfoForType(b,c,a):[]}function Ma(a){if(!ac)throw Qb;var b=lc.getActiveStreamInfo();return b?dc.getCurrentTrackFor(a,b):null}function Na(a,b){dc.setInitialSettings(a,b)}function Oa(a){return dc.getInitialSettings(a)}function Pa(a){if(!ac)throw Qb;dc.setTrack(a)}function Qa(a){return dc.getSwitchMode(a)}function Ra(a,b){dc.setSwitchMode(a,b)}function Sa(a){dc.setSelectionModeForInitialTrack(a)}function Ta(){return dc.getSelectionModeForInitialTrack()}function Ua(){return cc.getAutoSwitchBitrateFor(\\\"video\\\")||cc.getAutoSwitchBitrateFor(\\\"audio\\\")}function Va(a){cc.setAutoSwitchBitrateFor(\\\"video\\\",a),cc.setAutoSwitchBitrateFor(\\\"audio\\\",a)}function Wa(a){return cc.getAutoSwitchBitrateFor(a)}function Xa(a,b){cc.setAutoSwitchBitrateFor(a,b)}function Ya(a){ic.setFastSwitchEnabled(a)}function Za(){return ic.getFastSwitchEnabled()}function $a(a){ic.setBufferOccupancyABREnabled(a)}function _a(a,b){var c=Hb(),d=this,e=function a(e){e.error?b(null,e.error):b(e.manifest),Vb.off(ea.default.INTERNAL_MANIFEST_LOADED,a,d),c.reset()};Vb.on(ea.default.INTERNAL_MANIFEST_LOADED,e,d);var f=(0,E.default)(Ub).getInstance();f.initialize(),c.load(f.parseURI(a))}function ab(a,b){bb(a,b);var c=new g.default;c.schemeIdUri=a,c.value=b,ic.getUTCTimingSources().push(c)}function bb(a,b){var c=ic.getUTCTimingSources();c.forEach(function(d,e){d.schemeIdUri===a&&d.value===b&&c.splice(e,1)})}function cb(){ic.setUTCTimingSources([])}function db(){ab(I.default.DEFAULT_UTC_TIMING_SOURCE.scheme,I.default.DEFAULT_UTC_TIMING_SOURCE.value)}function eb(a){ic.setUseManifestDateHeaderTimeSource(a)}function fb(a){ic.setBufferToKeep(a)}function gb(a){ic.setBufferPruningInterval(a)}function hb(a){ic.setStableBufferTime(a)}function ib(a){ic.setBufferTimeAtTopQuality(a)}function jb(a){ic.setBufferTimeAtTopQualityLongForm(a)}function kb(a){ic.setLongFormContentDurationThreshold(a)}function lb(a){ic.setRichBufferThreshold(a)}function mb(a){ic.setBandwidthSafetyFactor(a)}function nb(){return ic.getBandwidthSafetyFactor()}function ob(a){ic.setAbandonLoadTimeout(a)}function pb(a){ic.setFragmentRetryAttempts(a)}function qb(a){ic.setFragmentRetryInterval(a)}function rb(a){ic.setXHRWithCredentials(a)}function sb(){return Kb()}function tb(a){ec=a}function ub(a){$b=a}function vb(a){var b=(0,w.default)(Ub).getInstance();b.setConfig({videoModel:qc}),b.initialize(),b.displayCConTop(a)}function wb(){return qc?qc.getVideoContainer():null}function xb(a){if(!qc)throw Rb;qc.setVideoContainer(a)}function yb(){if(!qc)throw Rb;return qc.getElement()}function zb(a){if(!_b)throw Tb;qc=null,a&&(qc=(0,S.default)(Ub).getInstance(),qc.initialize(),qc.setElement(a),Kb(),Lb()),Fb()}function Ab(){return qc?qc.getTTMLRenderingDiv():null}function Bb(a){if(!qc)throw Rb;qc.setTTMLRenderingDiv(a)}function Cb(){if(!Zb)throw Sb;return Zb}function Db(a){if(!_b)throw Tb;if(\\\"string\\\"==typeof a){var b=(0,E.default)(Ub).getInstance();b.initialize(),Zb=b.parseURI(a)}else Zb=a;Fb()}function Eb(){Db(null),zb(null),$b=null,ec=null}function Fb(){ac?(ac=!1,gc.reset(),lc.reset(),nc.reset(),cc.reset(),mc.reset(),dc.reset(),lc=null,fc=null,c()&&Pb()):c()&&Pb()}function Gb(){var a=(0,W.default)(Ub).getInstance();a.initialize();var b=(0,Q.default)(Ub).getInstance();b.initialize();var c=(0,y.default)(Ub).getInstance();c.setConfig({dashManifestModel:pc}),dc.initialize(),dc.setConfig({errHandler:jc}),mc=(0,U.default)(Ub).getInstance(),mc.initialize(),mc.setConfig({abrRulesCollection:b,synchronizationRulesCollection:a}),lc=(0,k.default)(Ub).getInstance(),lc.setConfig({capabilities:kc,manifestLoader:Hb(),manifestModel:(0,G.default)(Ub).getInstance(),dashManifestModel:pc,protectionController:ec,adapter:gc,metricsModel:hc,dashMetrics:oc,liveEdgeFinder:(0,q.default)(Ub).getInstance(),mediaSourceController:(0,Y.default)(Ub).getInstance(),timeSyncController:(0,O.default)(Ub).getInstance(),baseURLController:(0,$.default)(Ub).getInstance(),errHandler:jc,timelineConverter:(0,ta.default)(Ub).getInstance()}),lc.initialize(bc,$b),cc.setConfig({abrRulesCollection:b,rulesController:mc,streamController:lc})}function Hb(){return(0,o.default)(Ub).create({errHandler:jc,parser:Ib(),metricsModel:hc,requestModifier:(0,A.default)(Ub).getInstance()})}function Ib(){return(0,na.default)(Ub).create()}function Jb(){return gc=(0,la.default)(Ub).getInstance(),gc.initialize(),gc.setConfig({dashManifestModel:pc}),gc}function Kb(){if(ec)return ec;var a=dashjs.Protection;if(\\\"function\\\"==typeof a){var b=a(Ub).create();return ea.default.extend(a.events),ga.default.extend(a.events,{publicOnly:!0}),ec=b.createProtectionSystem({log:Xb,videoModel:qc,capabilities:kc,eventBus:Vb,adapter:gc})}return null}function Lb(){if(fc)return fc;var a=dashjs.MetricsReporting;if(\\\"function\\\"==typeof a){var b=a(Ub).create();return fc=b.createMetricsReporting({log:Xb,eventBus:Vb,mediaElement:yb(),dashManifestModel:pc,metricsModel:hc})}return null}function Mb(){var a=hc.getReadOnlyMetricsFor(\\\"video\\\")||hc.getReadOnlyMetricsFor(\\\"audio\\\");return oc.getCurrentDVRInfo(a)}function Nb(a){var b,c,d=Mb();return d?(b=d.manifestInfo.availableFrom.getTime()/1e3,c=a+(b+d.range.start)):0}function Ob(){if(!ac)throw Qb;var a=lc.getActiveStreamInfo();return a?lc.getStreamById(a.id):null}function Pb(){ac||(ac=!0,Xb(\\\"Playback Initialized\\\"),Gb(),\\\"string\\\"==typeof Zb?lc.load(Zb):lc.loadWithManifest(Zb))}var Qb=\\\"You must first call play() to init playback before calling this method\\\",Rb=\\\"You must first call attachView() to set the video element before calling this method\\\",Sb=\\\"You must first call attachSource() with a valid source before calling this method\\\",Tb=\\\"MediaPlayer not initialized!\\\",Ub=this.context,Vb=(0,ca.default)(Ub).getInstance(),Wb=(0,aa.default)(Ub).getInstance(),Xb=Wb.log,Yb=void 0,Zb=void 0,$b=void 0,_b=void 0,ac=void 0,bc=void 0,cc=void 0,dc=void 0,ec=void 0,fc=void 0,gc=void 0,hc=void 0,ic=void 0,jc=void 0,kc=void 0,lc=void 0,mc=void 0,nc=void 0,oc=void 0,pc=void 0,qc=void 0,rc=void 0;return Yb={initialize:b,on:N,off:P,extend:L,attachView:zb,attachSource:Db,isReady:c,play:d,isPaused:f,pause:e,isSeeking:h,seek:x,setMute:j,isMuted:l,setVolume:n,getVolume:p,time:z,duration:B,timeAsUTC:D,durationAsUTC:F,getActiveStream:Ob,getDVRWindowSize:t,getDVRSeekOffset:v,convertToTimeCode:J,formatUTC:H,getVersion:R,getDebug:T,getBufferLength:r,getVideoModel:V,getVideoContainer:wb,getTTMLRenderingDiv:Ab,getVideoElement:yb,getSource:Cb,setLiveDelayFragmentCount:X,setLiveDelay:Z,useSuggestedPresentationDelay:_,enableLastBitrateCaching:ba,enableLastMediaSettingsCaching:da,setMaxAllowedBitrateFor:fa,getMaxAllowedBitrateFor:ha,setMaxAllowedRepresentationRatioFor:ka,getMaxAllowedRepresentationRatioFor:ma,setAutoPlay:oa,getAutoPlay:qa,setScheduleWhilePaused:sa,getScheduleWhilePaused:ua,getDashMetrics:va,getMetricsFor:wa,getQualityFor:xa,setQualityFor:ya,getLimitBitrateByPortal:za,setLimitBitrateByPortal:Aa,getUsePixelRatioInLimitBitrateByPortal:Ba,setUsePixelRatioInLimitBitrateByPortal:Ca,setTextTrack:Da,getBitrateInfoListFor:Ea,setInitialBitrateFor:Fa,getInitialBitrateFor:Ga,setInitialRepresentationRatioFor:Ha,getInitialRepresentationRatioFor:Ia,getStreamsFromManifest:Ja,getTracksFor:Ka,getTracksForTypeFromManifest:La,getCurrentTrackFor:Ma,setInitialMediaSettingsFor:Na,getInitialMediaSettingsFor:Oa,setCurrentTrack:Pa,getTrackSwitchModeFor:Qa,setTrackSwitchModeFor:Ra,setSelectionModeForInitialTrack:Sa,getSelectionModeForInitialTrack:Ta,getAutoSwitchQuality:Ua,setAutoSwitchQuality:Va,setFastSwitchEnabled:Ya,getFastSwitchEnabled:Za,getAutoSwitchQualityFor:Wa,setAutoSwitchQualityFor:Xa,enableBufferOccupancyABR:$a,setBandwidthSafetyFactor:mb,getBandwidthSafetyFactor:nb,setAbandonLoadTimeout:ob,retrieveManifest:_a,addUTCTimingSource:ab,removeUTCTimingSource:bb,clearDefaultUTCTimingSources:cb,restoreDefaultUTCTimingSources:db,setBufferToKeep:fb,setBufferPruningInterval:gb,setStableBufferTime:hb,setBufferTimeAtTopQuality:ib,setFragmentLoaderRetryAttempts:pb,setFragmentLoaderRetryInterval:qb,setXHRWithCredentials:rb,setBufferTimeAtTopQualityLongForm:jb,setLongFormContentDurationThreshold:kb,setRichBufferThreshold:lb,getProtectionController:sb,attachProtectionController:tb,setProtectionData:ub,enableManifestDateHeaderTimeSource:eb,displayCaptionsOnTop:vb,attachVideoContainer:xb,attachTTMLRenderingDiv:Bb,reset:Eb},a(),Yb}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(47),g=d(f),h=a(68),i=d(h),j=a(71),k=d(j),l=a(66),m=d(l),n=a(49),o=d(n),p=a(154),q=d(p),r=a(151),s=d(r),t=a(147),u=d(t),v=a(57),w=d(v),x=a(70),y=d(x),z=a(156),A=d(z),B=a(56),C=d(B),D=a(103),E=d(D),F=a(100),G=d(F),H=a(101),I=d(H),J=a(102),K=d(J),L=a(60),M=d(L),N=a(73),O=d(N),P=a(131),Q=d(P),R=a(104),S=d(R),T=a(129),U=d(T),V=a(144),W=d(V),X=a(67),Y=d(X),Z=a(61),$=d(Z),_=a(8),aa=d(_),ba=a(9),ca=d(ba),da=a(13),ea=d(da),fa=a(52),ga=d(fa),ha=a(10),ia=d(ha),ja=a(11),ka=a(15),la=d(ka),ma=a(23),na=d(ma),oa=a(22),pa=d(oa),qa=a(17),ra=d(qa),sa=a(37),ta=d(sa);e.__dashjs_factory_name=\\\"MediaPlayer\\\";var ua=ia.default.getClassFactory(e);ua.events=ga.default,c.default=ua,b.exports=c.default},{10:10,100:100,101:101,102:102,103:103,104:104,11:11,129:129,13:13,131:131,144:144,147:147,15:15,151:151,154:154,156:156,17:17,22:22,23:23,37:37,47:47,49:49,52:52,56:56,57:57,60:60,61:61,66:66,67:67,68:68,70:70,71:71,73:73,8:8,9:9}],52:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}function f(a,b){if(\\\"function\\\"!=typeof b&&null!==b)throw new TypeError(\\\"Super expression must either be null or a function, not \\\"+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var g=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if(\\\"value\\\"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}},h=a(14),i=d(h),j=function(a){function b(){e(this,b),g(Object.getPrototypeOf(b.prototype),\\\"constructor\\\",this).call(this),this.BUFFER_EMPTY=\\\"bufferstalled\\\",this.BUFFER_LOADED=\\\"bufferloaded\\\",this.BUFFER_LEVEL_STATE_CHANGED=\\\"bufferStateChanged\\\",this.ERROR=\\\"error\\\",this.LOG=\\\"log\\\",this.MANIFEST_LOADED=\\\"manifestloaded\\\",this.METRICS_CHANGED=\\\"metricschanged\\\",this.METRIC_CHANGED=\\\"metricchanged\\\",this.METRIC_ADDED=\\\"metricadded\\\",this.METRIC_UPDATED=\\\"metricupdated\\\",this.PERIOD_SWITCH_COMPLETED=\\\"streamswitchcompleted\\\",this.PERIOD_SWITCH_STARTED=\\\"streamswitchstarted\\\",this.QUALITY_CHANGE_REQUESTED=\\\"qualityChangeRequested\\\",this.QUALITY_CHANGE_RENDERED=\\\"qualityChangeRendered\\\",this.STREAM_INITIALIZED=\\\"streaminitialized\\\",this.TEXT_TRACKS_ADDED=\\\"alltexttracksadded\\\",this.TEXT_TRACK_ADDED=\\\"texttrackadded\\\",this.CAN_PLAY=\\\"canPlay\\\",this.PLAYBACK_ENDED=\\\"playbackEnded\\\",this.PLAYBACK_ERROR=\\\"playbackError\\\",this.PLAYBACK_NOT_ALLOWED=\\\"playbackNotAllowed\\\",this.PLAYBACK_METADATA_LOADED=\\\"playbackMetaDataLoaded\\\",this.PLAYBACK_PAUSED=\\\"playbackPaused\\\",this.PLAYBACK_PLAYING=\\\"playbackPlaying\\\",this.PLAYBACK_PROGRESS=\\\"playbackProgress\\\",this.PLAYBACK_RATE_CHANGED=\\\"playbackRateChanged\\\",this.PLAYBACK_SEEKED=\\\"playbackSeeked\\\",this.PLAYBACK_SEEKING=\\\"playbackSeeking\\\",this.PLAYBACK_STARTED=\\\"playbackStarted\\\",this.PLAYBACK_TIME_UPDATED=\\\"playbackTimeUpdated\\\"}return f(b,a),b}(i.default),k=new j;c.default=k,b.exports=c.default},{14:14}],53:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a,b,c){if(!a||\\\"VIDEO\\\"!==a.nodeName)return null;if(a._dashjs_player)return a._dashjs_player;var e,f=a.id||a.name||\\\"video element\\\";if(b=b||[].slice.call(a.querySelectorAll(\\\"source\\\")).filter(function(a){return a.type==d})[0],!b&&a.src)b=document.createElement(\\\"source\\\"),b.src=a.src;else if(!b&&!a.src)return null;return c=c||{},e=(0,h.default)(c).create(),e.initialize(a,b.src,a.autoplay),e.getDebug().log(\\\"Converted \\\"+f+\\\" to dash.js player and added content: \\\"+b.src),a._dashjs_player=e,e}function b(b,e){var f=[];b=b||\\\"[data-dashjs-player]\\\",e=e||document;for(var g=e.querySelectorAll(b),h=0;h<g.length;h++){var i=a(g[h],null);f.push(i)}for(var j=e.querySelectorAll('source[type=\\\"'+d+'\\\"]'),h=0;h<j.length;h++){var k=c(j[h]),i=a(k,null);f.push(i)}return f}function c(a){for(var b=!0;b;){var c=a;if(b=!1,\\\"video\\\"===c.nodeName.toLowerCase())return c;a=c.parentNode,b=!0}}var d=\\\"application/dash+xml\\\";return{create:a,createAll:b}}function f(){window.removeEventListener(\\\"load\\\",f),i.createAll()}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var g=a(51),h=d(g),i=e(),j=window&&window.dashjs&&window.dashjs.skipAutoCreate;!j&&window&&window.addEventListener&&(\\\"complete\\\"===window.document.readyState?i.createAll():window.addEventListener(\\\"load\\\",f)),c.default=i,b.exports=c.default},{51:51}],54:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){ja=[],ka=!1,la=!1,ma=null,na={},oa=!1,pa=!1,ra=(0,g.default)($).getInstance(),sa=(0,w.default)($).getInstance(),wa=(0,q.default)($).getInstance(),ta=(0,k.default)($).getInstance(),ua=(0,o.default)($).create(),xa=(0,O.default)($).getInstance(),aa.on(I.default.BUFFERING_COMPLETED,U,ia),aa.on(I.default.DATA_UPDATE_COMPLETED,V,ia)}function c(a,b){ma=a,qa=b,qa&&(aa.on(I.default.KEY_ERROR,D,ia),aa.on(I.default.SERVER_CERTIFICATE_UPDATED,D,ia),aa.on(I.default.LICENSE_REQUEST_COMPLETE,D,ia),aa.on(I.default.KEY_SYSTEM_SELECTED,D,ia),aa.on(I.default.KEY_SESSION_CREATED,D,ia))}function d(a){ka?T():(aa.on(I.default.CURRENT_TRACK_CHANGED,J,ia),Q(a))}function e(){for(var a=ja.length,b=0;b<a;b++)ja[b].reset();ja=[],ka=!1,la=!1,x(),aa.off(I.default.CURRENT_TRACK_CHANGED,J,ia)}function f(){sa&&(sa.pause(),sa=null),ua&&(ua.reset(),ua=null),ra.abortSearch(),e(),ta=null,wa=null,ca=null,ba=null,da=null,ea=null,_=null,fa=null,oa=!1,pa=!1,na={},aa.off(I.default.DATA_UPDATE_COMPLETED,V,ia),aa.off(I.default.BUFFERING_COMPLETED,U,ia),aa.off(I.default.KEY_ERROR,D,ia),aa.off(I.default.SERVER_CERTIFICATE_UPDATED,D,ia),aa.off(I.default.LICENSE_REQUEST_COMPLETE,D,ia),aa.off(I.default.KEY_SYSTEM_SELECTED,D,ia),aa.off(I.default.KEY_SESSION_CREATED,D,ia)}function h(){return ma.duration}function j(){return ma.start}function l(){return ma.index}function n(){return ma.id}function p(){return ma}function r(a){return null!==S(a)}function t(a){var b=S(a);return wa.getBitrateList(b)}function v(){va&&va.start()}function x(){va&&va.clear()}function z(){return ka}function B(){return pa}function D(a){a.error&&(fa.mediaKeySessionError(a.error),_(a.error),f())}function F(a){return\\\"text\\\"===a.type?a.mimeType:a.type}function H(a,b,c){var d,e,f=a.type;if(\\\"muxed\\\"===f&&a)return e=\\\"Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines\\\",_(e),fa.manifestError(e,\\\"multiplexedrep\\\",ba.getValue()),!1;if(\\\"text\\\"===f||\\\"fragmentedText\\\"===f||\\\"embeddedText\\\"===f)return!0;if(d=a.codec,_(f+\\\" codec: \\\"+d),a.contentProtection&&!ea.supportsEncryptedMedia())fa.capabilityError(\\\"encryptedmedia\\\");else if(!ea.supportsCodec((0,s.default)($).getInstance().getElement(),d))return e=f+\\\"Codec (\\\"+d+\\\") is not supported.\\\",fa.manifestError(e,\\\"codec\\\",c),_(e),!1;return!0}function J(a){if(a.newMediaInfo.streamInfo.id===ma.id){var b=W(a.oldMediaInfo);if(b){var c=sa.getTime(),d=b.getBuffer(),e=a.newMediaInfo,f=ba.getValue(),g=ja.indexOf(b),h=b.getMediaSource();\\\"fragmentedText\\\"!==e.type?(b.reset(!0),N(e,f,h,{buffer:d,replaceIdx:g,currentTime:c}),sa.seek(sa.getTime())):b.updateMediaInfo(f,e)}}}function L(a){var b=a.split(\\\"/\\\")[1];return\\\"webm\\\"===b.toLowerCase()}function M(a){var b=L(a.mimeType)?(0,C.default)($).getInstance():(0,A.default)($).getInstance();b.setConfig({baseURLController:ha,metricsModel:(0,u.default)($).getInstance()}),b.initialize();var c=(0,y.default)($).create({segmentBaseLoader:b,timelineConverter:ga,dashMetrics:(0,E.default)($).getInstance(),metricsModel:(0,u.default)($).getInstance(),baseURLController:ha});return c}function N(a,b,c,d){var e=(0,i.default)($).create({indexHandler:M(a),timelineConverter:ga,adapter:da,manifestModel:ba}),f=da.getAllMediaInfoForType(b,ma,a.type);if(e.initialize(F(a),ua,c,ia,va),wa.updateTopQualityIndex(a),d?(e.setBuffer(d.buffer),e.getIndexHandler().setCurrentTime(d.currentTime),ja[d.replaceIdx]=e):ja.push(e),\\\"text\\\"===a.type||\\\"fragmentedText\\\"===a.type){for(var g,h=0;h<f.length;h++)f[h].index===a.index&&(g=h),e.updateMediaInfo(b,f[h]);\\\"fragmentedText\\\"===a.type&&e.updateMediaInfo(b,f[g])}else e.updateMediaInfo(b,a);return e}function P(a,b){var c,d=ba.getValue(),e=da.getAllMediaInfoForType(d,ma,a),f=null;if(!e||0===e.length)return void _(\\\"No \\\"+a+\\\" data.\\\");for(var g=0,h=e.length;g<h;g++)if(f=e[g],\\\"embeddedText\\\"===a)xa.addEmbeddedTrack(f);else{if(!H(f,b,d))continue;ta.isMultiTrackSupportedByType(f.type)&&ta.addTrack(f,ma)}\\\"embeddedText\\\"!==a&&0!==ta.getTracksFor(a,ma).length&&(ta.checkInitialMediaSettingsForType(a,ma),c=ta.getCurrentTrackFor(a,ma),N(c,d,b))}function Q(a){var b,c=ba.getValue();if(va=(0,m.default)($).getInstance(),va.initialize(),va.setConfig({manifestModel:ba,manifestUpdater:ca}),b=da.getEventsFor(c,ma),va.addInlineEvents(b),oa=!0,P(\\\"video\\\",a),P(\\\"audio\\\",a),P(\\\"text\\\",a),P(\\\"fragmentedText\\\",a),P(\\\"embeddedText\\\",a),P(\\\"muxed\\\",a),T(),la=!0,oa=!1,0===ja.length){var d=\\\"No streams to play.\\\";fa.manifestError(d,\\\"nostreams\\\",c),_(d)}else ra.initialize(ga,ja[0]),R()}function R(){var a=ja.length,b=!!na.audio||!!na.video,c=b?new Error(Z,\\\"Data update failed\\\",null):null,d=0;for(d;d<a;d++)if(ja[d].isUpdating()||oa)return;pa=!0,ka=!0,la&&(qa&&qa.initialize(ba.getValue(),S(\\\"audio\\\"),S(\\\"video\\\")),aa.trigger(I.default.STREAM_INITIALIZED,{streamInfo:ma,error:c}))}function S(a){for(var b=ja.length,c=null,d=0;d<b;d++)if(c=ja[d],c.getType()===a)return c.getMediaInfo();return null}function T(){for(var a=0,b=ja.length;a<b;a++)ja[a].createBuffer()}function U(a){if(a.streamInfo===ma){var b=X(),c=b.length,d=0;for(d;d<c;d++)if(!b[d].isBufferingCompleted())return;aa.trigger(I.default.STREAM_BUFFERING_COMPLETED,{streamInfo:ma})}}function V(a){var b=a.sender.getStreamProcessor();b.getStreamInfo()===ma&&(na[b.getType()]=a.error,R())}function W(a){if(!a)return!1;var b=X();return b.filter(function(b){return b.getType()===a.type})[0]}function X(){var a,b,c=ja.length,d=[],e=0;for(e;e<c;e++)b=ja[e],a=b.getType(),\\\"audio\\\"!==a&&\\\"video\\\"!==a&&\\\"fragmentedText\\\"!==a||d.push(b);return d}function Y(a){_(\\\"Manifest updated... updating data system wide.\\\");var b=ba.getValue();if(ka=!1,oa=!0,pa=!1,ma=a,va){var c=da.getEventsFor(b,ma);va.addInlineEvents(c)}for(var d=0,e=ja.length;d<e;d++){var f=ja[d],g=da.getMediaInfoForType(b,ma,f.getType());wa.updateTopQualityIndex(g),f.updateMediaInfo(b,g)}oa=!1,R()}var Z=1,$=this.context,_=(0,K.default)($).getInstance().log,aa=(0,G.default)($).getInstance(),ba=a.manifestModel,ca=a.manifestUpdater,da=a.adapter,ea=a.capabilities,fa=a.errHandler,ga=a.timelineConverter,ha=a.baseURLController,ia=void 0,ja=void 0,ka=void 0,la=void 0,ma=void 0,na=void 0,oa=void 0,pa=void 0,qa=void 0,ra=void 0,sa=void 0,ta=void 0,ua=void 0,va=void 0,wa=void 0,xa=void 0;return ia={initialize:c,activate:d,deactivate:e,getDuration:h,getStartTime:j,getStreamIndex:l,getId:n,getStreamInfo:p,hasMedia:r,getBitrateListFor:t,startEventController:v,isActivated:z,isInitialized:B,updateData:Y,reset:f,getProcessors:X},b(),ia}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(154),g=d(f),h=a(55),i=d(h),j=a(66),k=d(j),l=a(64),m=d(l),n=a(65),o=d(n),p=a(60),q=d(p),r=a(104),s=d(r),t=a(102),u=d(t),v=a(68),w=d(v),x=a(16),y=d(x),z=a(18),A=d(z),B=a(19),C=d(B),D=a(17),E=d(D),F=a(9),G=d(F),H=a(13),I=d(H),J=a(8),K=d(J),L=a(10),M=d(L),N=a(56),O=d(N);e.__dashjs_factory_name=\\\"Stream\\\",c.default=M.default.getClassFactory(e),b.exports=c.default},{10:10,102:102,104:104,13:13,154:154,16:16,17:17,18:18,19:19,55:55,56:56,60:60,64:64,65:65,66:66,68:68,8:8,9:9}],55:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){ca=[]}function c(a,b,c,d,e){ba=a,da=d,ea=e,ja=b,_=da.getStreamInfo().manifestInfo.isDynamic,W.initialize(this),fa=(0,g.default)(V).getInstance(),fa.initialize(ba,this),ga=U(a),ha=(0,q.default)(V).create({metricsModel:(0,w.default)(V).getInstance(),manifestModel:Z,adapter:Y,dashMetrics:(0,I.default)(V).getInstance(),dashManifestModel:(0,G.default)(V).getInstance(),timelineConverter:X,rulesController:(0,s.default)(V).getInstance(),mediaPlayerModel:(0,u.default)(V).getInstance()}),ga.initialize(ba,c,this),ha.initialize(ba,this),ka=(0,y.default)(V).create({metricsModel:(0,w.default)(V).getInstance(),errHandler:(0,M.default)(V).getInstance(),requestModifier:(0,A.default)(V).getInstance()}),la=ha.getFragmentModel(),la.setLoader(ka),ia=(0,K.default)(V).create(),ia.initialize(this)}function d(a){W.reset(),ga&&(ga.reset(a),ga=null),ha&&(ha.reset(),ha=null),ia&&(ia.reset(),ia=null),ja=null,ka=null,ea=null,da=null,_=null,aa=null,ca=[],ba=null}function e(){return ia.isUpdating()}function f(){return ba}function h(){return fa}function j(){return ia}function l(){return ka}function n(){return W}function p(){return ja}function r(){return ga.getBuffer()}function t(a){ga.setBuffer(a)}function v(){return ga}function x(){return la}function z(){return da.getStreamInfo()}function B(a,b){b===aa||b&&aa&&b.type!==aa.type||(aa=b),ca.indexOf(b)===-1&&ca.push(b),Y.updateData(a,this)}function D(){return ca}function F(){return aa}function H(){return ga.getMediaSource()}function J(){return ha}function L(){return ea}function N(){ha.start()}function O(){ha.stop()}function P(){return Y.getCurrentRepresentationInfo(Z.getValue(),ia)}function Q(a){return Y.getRepresentationInfoForQuality(Z.getValue(),ia,a)}function R(){return ga.getIsBufferingCompleted()}function S(){return ga.getBuffer()||ga.createBuffer(aa)}function T(){return _}function U(a){var b=null;return b=\\\"video\\\"===a||\\\"audio\\\"===a||\\\"fragmentedText\\\"===a?(0,i.default)(V).create({metricsModel:(0,w.default)(V).getInstance(),manifestModel:Z,sourceBufferController:(0,C.default)(V).getInstance(),errHandler:(0,M.default)(V).getInstance(),streamController:(0,k.default)(V).getInstance(),mediaController:(0,m.default)(V).getInstance(),adapter:Y,textSourceBuffer:(0,E.default)(V).getInstance()}):(0,o.default)(V).create({errHandler:(0,M.default)(V).getInstance(),sourceBufferController:(0,C.default)(V).getInstance()})}var V=this.context,W=a.indexHandler,X=a.timelineConverter,Y=a.adapter,Z=a.manifestModel,$=void 0,_=void 0,aa=void 0,ba=void 0,ca=void 0,da=void 0,ea=void 0,fa=void 0,ga=void 0,ha=void 0,ia=void 0,ja=void 0,ka=void 0,la=void 0;return $={initialize:c,isUpdating:e,getType:f,getBufferController:v,getABRController:h,getFragmentLoader:l,getFragmentModel:x,getScheduleController:J,getEventController:L,getFragmentController:p,getRepresentationController:j,getIndexHandler:n,getCurrentRepresentationInfo:P,getRepresentationInfoForQuality:Q,isBufferingCompleted:R,createBuffer:S,getStreamInfo:z,updateMediaInfo:B,getMediaInfoArr:D,getMediaInfo:F,getMediaSource:H,getBuffer:r,setBuffer:t,start:N,stop:O,isDynamic:T,reset:d},b(),$}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(60),g=d(f),h=a(63),i=d(h),j=a(71),k=d(j),l=a(66),m=d(l),n=a(72),o=d(n),p=a(69),q=d(p),r=a(129),s=d(r),t=a(101),u=d(t),v=a(102),w=d(v),x=a(48),y=d(x),z=a(156),A=d(z),B=a(70),C=d(B),D=a(56),E=d(D),F=a(22),G=d(F),H=a(17),I=d(H),J=a(21),K=d(J),L=a(151),M=d(L),N=a(10),O=d(N);e.__dashjs_factory_name=\\\"StreamProcessor\\\",c.default=O.default.getClassFactory(e),b.exports=c.default},{10:10,101:101,102:102,129:129,151:151,156:156,17:17,21:21,22:22,48:48,56:56,60:60,63:63,66:66,69:69,70:70,71:71,72:72}],56:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a,c){M=!1,N=null,U=null,V=!1,W=NaN,X=[],$=null,E||b();var d=c.getStreamProcessor();if(R=d.getMediaInfoArr(),S.setConfig({videoModel:Y}),S.initialize(),T=!K.getIsTextTrack(a),H=(0,k.default)(C).getInstance(),Q=(0,i.default)(C).getInstance(),Q.setConfig({boxParser:H}),T){U=d.getFragmentModel(),this.buffered=(0,m.default)(C).create(),X=L.getTracksFor(\\\"fragmentedText\\\",Z.getActiveStreamInfo());for(var e=L.getCurrentTrackFor(\\\"fragmentedText\\\",Z.getActiveStreamInfo()),f=0;f<X.length;f++)if(X[f]===e){_=f;break}}}function b(){aa=[],R=[],Y=(0,s.default)(C).getInstance(),S=(0,u.default)(C).getInstance(),S.setConfig({videoModel:Y}),S.initialize(),H=(0,k.default)(C).getInstance(),Q=(0,i.default)(C).getInstance(),Q.setConfig({boxParser:H}),T=!1,_=null,ba=!1,ca=0,fa=[],ea=[],da=null,E=!0}function c(a,b){function c(a,b){var c=new g.default,d={subtitle:\\\"subtitles\\\",caption:\\\"captions\\\"},e=function(){var a=b.roles.length>0?d[b.roles[0]]:d.caption;return a=a===d.caption||a===d.subtitle?a:d.caption},f=function(){var a=!1;return b.codec&&b.codec.search(\\\"stpp\\\")>=0&&(a=!0),b.mimeType&&b.mimeType.search(\\\"ttml\\\")>=0&&(a=!0),a};c.captionData=a,c.lang=b.lang,c.label=b.id,c.index=b.index,c.isTTML=f(),c.video=Y.getElement(),c.defaultTrack=A(b),c.isFragmented=T,c.isEmbedded=!!b.isEmbedded,c.kind=e();var h=(R?R.length:0)+aa.length;S.addTextTrack(c,h)}var e,f,h,i,j,k=b.mediaInfo,l=k.type,m=k.mimeType,n=k.codec||m;if(!n)return void D(\\\"No text type defined\\\");if(\\\"fragmentedText\\\"===l)if(V)if(i=Q.getSamplesInfo(a),f=i.sampleList,!$&&f.length>0&&($=f[0].cts-b.start*W),n.search(\\\"stpp\\\")>=0)for(N=null!==N?N:B(n),h=0;h<f.length;h++){var p=f[h],q=p.cts,r=q-$;this.buffered.add(r/W,(r+p.duration)/W);var s=new DataView(a,p.offset,p.size);j=w.default.Utils.dataViewToString(s,\\\"utf-8\\\");try{e=N.parse(j,q/W,(q+p.duration)/W),S.addCaptions(_,$/W,e)}catch(t){D(\\\"TTML parser error: \\\"+t.message)}}else{var u=[];for(h=0;h<f.length;h++){var v=f[h];v.cts-=$,this.buffered.add(v.cts/W,(v.cts+v.duration)/W);for(var x=a.slice(v.offset,v.offset+v.size),z=w.default.parseBuffer(x),C=0;C<z.boxes.length;C++){var E=z.boxes[C];if(D(\\\"VTT box1: \\\"+E.type),\\\"vtte\\\"!==E.type&&\\\"vttc\\\"===E.type){D(\\\"VTT vttc boxes.length = \\\"+E.boxes.length);for(var F=0;F<E.boxes.length;F++){var G=E.boxes[F];if(D(\\\"VTT box2: \\\"+G.type),\\\"payl\\\"===G.type){var H=G.cue_text;D(\\\"VTT cue_text = \\\"+H);var J=v.cts/W,K=(v.cts+v.duration)/W;u.push({start:J,end:K,data:H,styles:{}}),D(\\\"VTT \\\"+J+\\\"-\\\"+K+\\\" : \\\"+H)}}}}}u.length>0&&S.addCaptions(_,0,u)}else{for(V=!0,h=0;h<R.length;h++)c(null,R[h]);W=Q.getMediaTimescaleFromMoov(a)}else if(\\\"text\\\"===l){var s=new DataView(a,0,a.byteLength);j=w.default.Utils.dataViewToString(s,\\\"utf-8\\\");try{e=B(n).parse(j),c(e,k)}catch(t){I.timedTextError(t,\\\"parse\\\",j)}}else if(\\\"video\\\"===l)if(\\\"InitializationSegment\\\"===b.segmentType){if(0===ca)for(ca=Q.getMediaTimescaleFromMoov(a),h=0;h<aa.length;h++)c(null,aa[h])}else{if(0===ca)return void D(\\\"CEA-608: No timescale for embeddedTextTrack yet\\\");var L=function(a,b){function c(a,c,d){var e=null;if(Y.getTTMLRenderingDiv())e=o(Y.getElement(),a,c,d);else{var f=d.getDisplayText();e=[{start:a,end:c,data:f,styles:{}}]}e&&S.addCaptions(b,0,e)}return c};i=Q.getSamplesInfo(a);var M=i.sequenceNumber;if(!fa[0]&&!fa[1]){var O=void 0,P=void 0,U=void 0;for(h=0;h<aa.length;h++){if(\\\"CC1\\\"===aa[h].id?(O=0,U=S.getTrackIdxForId(\\\"CC1\\\")):\\\"CC3\\\"===aa[h].id&&(O=1,U=S.getTrackIdxForId(\\\"CC3\\\")),U===-1)return void D(\\\"CEA-608: data before track is ready.\\\");P=L(this,U),fa[h]=new y.default.Cea608Parser(h,{newCue:P},null)}}if(ca&&ea.indexOf(M)==-1){if(null!==da&&M!==da+1)for(h=0;h<fa.length;h++)fa[h]&&fa[h].reset();for(var X=d(a),Z=0;Z<fa.length;Z++){var ba=X.fields[Z],ga=fa[Z];if(ga){for(h=0;h<ba.length;h++)ga.addData(ba[h][0]/ca,ba[h][1]);X.endTime&&ga.cueSplitAtTime(X.endTime/ca)}}da=M,ea.push(M)}}}function d(a){var b=function(a,b,c){var d=a.length;if(d>0){if(b>=a[d-1][0])a.push([b,c]);else for(var e=d-1;e>=0;e--)if(b<a[e][0]){a.splice(e,0,[b,c]);break}}else a.push([b,c])},c=H.parse(a),d=c.getBox(\\\"moof\\\"),e=c.getBox(\\\"tfdt\\\"),f=c.getBoxes(\\\"trun\\\"),g=null;if(0===f.length)return null;g=f[0],f.length>1&&D(\\\"Warning: Too many truns\\\");for(var h=d.offset+g.data_offset,i=g.sample_count,j=h,k=e.baseMediaDecodeTime,l=new DataView(a),m={startTime:null,endTime:null,fields:[[],[]]},n=0,o=0;o<i;o++){for(var p=g.samples[o],q=k+n+p.sample_composition_time_offset,r=y.default.findCea608Nalus(l,j,p.sample_size),s=0;s<r.length;s++)for(var t=y.default.extractCea608DataFromRange(l,r[s]),u=0;u<2;u++)t[u].length>0&&b(m.fields[u],q,t[u]);n+=p.sample_duration,j+=p.sample_size}var v=k+n;return m.startTime=k,m.endTime=v,m}function e(a){for(var b=\\\"\\\",c=0;c<a.length;++c){var d=a[c];b+=d.uchar}var e=b.length,f=b.replace(/^\\\\s+/,\\\"\\\").length;return e-f}function f(a){return\\\"left: \\\"+3.125*a.x+\\\"%; top: \\\"+6.66*a.y1+\\\"%; width: \\\"+(100-3.125*a.x)+\\\"%; height: \\\"+6.66*Math.max(a.y2-1-a.y1,1)+\\\"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;\\\";\\n}function h(a){return\\\"red\\\"==a?\\\"rgb(255, 0, 0)\\\":\\\"green\\\"==a?\\\"rgb(0, 255, 0)\\\":\\\"blue\\\"==a?\\\"rgb(0, 0, 255)\\\":\\\"cyan\\\"==a?\\\"rgb(0, 255, 255)\\\":\\\"magenta\\\"==a?\\\"rgb(255, 0, 255)\\\":\\\"yellow\\\"==a?\\\"rgb(255, 255, 0)\\\":\\\"white\\\"==a?\\\"rgb(255, 255, 255)\\\":\\\"black\\\"==a?\\\"rgb(0, 0, 0)\\\":a}function j(a,b){var c=a.videoHeight/15;return b?\\\"font-size: \\\"+c+\\\"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: \\\"+(b.foreground?h(b.foreground):\\\"rgb(255, 255, 255)\\\")+\\\"; font-style: \\\"+(b.italics?\\\"italic\\\":\\\"normal\\\")+\\\"; text-decoration: \\\"+(b.underline?\\\"underline\\\":\\\"none\\\")+\\\"; white-space: pre; background-color: \\\"+(b.background?h(b.background):\\\"transparent\\\")+\\\";\\\":\\\"font-size: \\\"+c+\\\"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;\\\"}function l(a){var b=a.replace(/^\\\\s+/g,\\\"\\\");return b}function n(a){var b=a.replace(/\\\\s+$/g,\\\"\\\");return b}function o(a,b,c,d){var g=null,h=null,i=!1,k=-1,m={start:b,end:c,spans:[]},o=\\\"style_cea608_white_black\\\",p={},q={},r=[],s=void 0,t=void 0;for(s=0;s<15;++s){var u=d.rows[s],v=\\\"\\\",w=null;if(!1===u.isEmpty()){var x=e(u.chars);null===g&&(g={x:x,y1:s,y2:s+1,p:[]}),x!==k&&i&&(g.p.push(m),m={start:b,end:c,spans:[]},g.y2=s,g.name=\\\"region_\\\"+g.x+\\\"_\\\"+g.y1+\\\"_\\\"+g.y2,!1===p.hasOwnProperty(g.name)?(r.push(g),p[g.name]=g):(h=p[g.name],h.p.contat(g.p)),g={x:x,y1:s,y2:s+1,p:[]});for(var y=0;y<u.chars.length;++y){var z=u.chars[y],A=z.penState;if(null===w||!A.equals(w)){v.trim().length>0&&(m.spans.push({name:o,line:v,row:s}),v=\\\"\\\");var B=\\\"style_cea608_\\\"+A.foreground+\\\"_\\\"+A.background;A.underline&&(B+=\\\"_underline\\\"),A.italics&&(B+=\\\"_italics\\\"),q.hasOwnProperty(B)||(q[B]=JSON.parse(JSON.stringify(A))),w=A,o=B}v+=z.uchar}v.trim().length>0&&m.spans.push({name:o,line:v,row:s}),i=!0,k=x}else i=!1,k=-1,g&&(g.p.push(m),m={start:b,end:c,spans:[]},g.y2=s,g.name=\\\"region_\\\"+g.x+\\\"_\\\"+g.y1+\\\"_\\\"+g.y2,!1===p.hasOwnProperty(g.name)?(r.push(g),p[g.name]=g):(h=p[g.name],h.p.contat(g.p)),g=null)}g&&(g.p.push(m),g.y2=s+1,g.name=\\\"region_\\\"+g.x+\\\"_\\\"+g.y1+\\\"_\\\"+g.y2,!1===p.hasOwnProperty(g.name)?(r.push(g),p[g.name]=g):(h=p[g.name],h.p.contat(g.p)),g=null);var C=[];for(s=0;s<r.length;++s){var D=r[s],E=\\\"sub_cea608_\\\"+F++,G=document.createElement(\\\"div\\\");G.id=E;var H=f(D);G.style.cssText=\\\"position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;\\\"+H;var I=document.createElement(\\\"div\\\");I.className=\\\"paragraph bodyStyle\\\",I.style.cssText=j(a);var J=document.createElement(\\\"div\\\");J.className=\\\"cueUniWrapper\\\",J.style.cssText=\\\"unicode-bidi: normal; direction: ltr;\\\";for(var K=0;K<D.p.length;++K){var L=D.p[K],M=0;for(t=0;t<L.spans.length;++t){var N=L.spans[t];if(N.line.length>0){if(0!==t&&M!=N.row){var O=document.createElement(\\\"br\\\");O.className=\\\"lineBreak\\\",J.appendChild(O)}var P=!1;M===N.row&&(P=!0),M=N.row;var Q=q[N.name],R=document.createElement(\\\"span\\\");R.className=\\\"spanPadding \\\"+N.name+\\\" customSpanColor\\\",R.style.cssText=j(a,Q),0!==t&&P?t===L.spans.length-1?R.textContent=n(N.line):R.textContent=N.line:0===t&&L.spans.length>1&&N.row===L.spans[1].row?R.textContent=l(N.line):R.textContent=N.line.trim(),J.appendChild(R)}}}I.appendChild(J),G.appendChild(I);var S={bodyStyle:90};for(t in q)q.hasOwnProperty(t)&&(S[t]=90);C.push({type:\\\"html\\\",start:b,end:c,cueHTMLElement:G,cueID:E,cellResolution:[32,15],isFromCEA608:!0,regions:r,regionID:D.name,videoHeight:a.videoHeight,videoWidth:a.videoWidth,fontSize:S||{defaultFontSize:\\\"100\\\"},lineHeight:{},linePadding:{}})}return C}function p(){S.deleteAllTextTracks(),M=!1,N=null,Q=null,R=null,S=null,T=!1,U=null,V=!1,W=NaN,X=[],Y=null,Z=null,E=!1,aa=null}function r(a){E||b(),\\\"CC1\\\"===a.id||\\\"CC3\\\"===a.id?aa.push(a):D(\\\"Warning: Embedded track \\\"+a.id+\\\" not supported!\\\")}function t(){E=!1,aa=[],fa=[null,null],ea=[],da=null}function v(){return M}function x(a){a&&(a.errHandler&&(I=a.errHandler),a.adapter&&(J=a.adapter),a.dashManifestModel&&(K=a.dashManifestModel),a.mediaController&&(L=a.mediaController),a.videoModel&&(Y=a.videoModel),a.streamController&&(Z=a.streamController),a.textTracks&&(S=a.textTracks),a.VTTParser&&(O=a.VTTParser),a.TTMLParser&&(P=a.TTMLParser))}function z(){for(var a=Y.getElement(),b=a.textTracks,c=b.length,d=c-aa.length,e=S.getCurrentTrackIdx(),f=0;f<c;f++){var g=b[f];if(M=\\\"showing\\\"!==g.mode,\\\"showing\\\"===g.mode){if(e!==f&&(S.setCurrentTrackIdx(f),S.addCaptions(f,0,null),T&&f<d)){var h=L.getCurrentTrackFor(\\\"fragmentedText\\\",Z.getActiveStreamInfo()),i=X[f];i!==h&&(U.abortRequests(),S.deleteTrackCues(h),L.setTrack(i),_=f)}break}}M&&S.setCurrentTrackIdx(-1)}function A(a){var b=!1;return aa.length>1?b=a.id&&\\\"CC1\\\"===a.id:1===aa.length?a.id&&\\\"CC\\\"===a.id.substring(0,2)&&(b=!0):b=a.index===R[0].index,b}function B(a){var b;return a.search(\\\"vtt\\\")>=0?b=O:(a.search(\\\"ttml\\\")>=0||a.search(\\\"stpp\\\")>=0)&&(b=P,b.setConfig({videoModel:Y})),b}var C=this.context,D=(0,q.default)(C).getInstance().log,E=!1,F=0,G=void 0,H=void 0,I=void 0,J=void 0,K=void 0,L=void 0,M=void 0,N=void 0,O=void 0,P=void 0,Q=void 0,R=void 0,S=void 0,T=void 0,U=void 0,V=void 0,W=void 0,X=void 0,Y=void 0,Z=void 0,$=void 0,_=void 0,aa=void 0,ba=void 0,ca=void 0,da=void 0,ea=void 0,fa=void 0;return G={initialize:a,append:c,abort:p,getAllTracksAreDisabled:v,setTextTrack:z,setConfig:x,addEmbeddedTrack:r,resetEmbedded:t}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(171),g=d(f),h=a(32),i=d(h),j=a(146),k=d(j),l=a(148),m=d(l),n=a(10),o=d(n),p=a(8),q=d(p),r=a(104),s=d(r),t=a(57),u=d(t),v=a(6),w=d(v),x=a(2),y=d(x);e.__dashjs_factory_name=\\\"TextSourceBuffer\\\",c.default=o.default.getSingletonFactory(e),b.exports=c.default},{10:10,104:104,146:146,148:148,171:171,2:2,32:32,57:57,6:6,8:8}],57:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){D=window.VTTCue||window.TextTrackCue,G=[],H=[],I=-1,J=0,K=0,L=0,M=0,N=null,O=null,R=!1,S=2147483647,P=!!navigator.userAgent.match(/Chrome/)&&!navigator.userAgent.match(/Edge/),void 0!==document.fullscreenElement?Q=\\\"fullscreenElement\\\":void 0!==document.webkitIsFullScreen?Q=\\\"webkitIsFullScreen\\\":document.msFullscreenElement?Q=\\\"msFullscreenElement\\\":document.mozFullScreen&&(Q=\\\"mozFullScreen\\\")}function b(a){var b=G[a].kind,c=void 0!==G[a].label?G[a].label:G[a].lang,d=G[a].lang,e=P?document.createElement(\\\"track\\\"):F.addTextTrack(b,c,d);return P&&(e.kind=b,e.label=c,e.srclang=d),e}function c(a){R=a,N&&!document[Q]&&(N.style.zIndex=a?S:null)}function d(a,c){if(G.length===c)return void B(\\\"Trying to add too many tracks.\\\");if(G.push(a),void 0===F&&(F=a.video),G.length===c){G.sort(function(a,b){return a.index-b.index}),N=E.getTTMLRenderingDiv();for(var d=-1,e=0;e<G.length;e++){var f=b.call(this,e);H.push(f),G[e].defaultTrack&&(f.default=!0,d=e),P&&F.appendChild(f);var g=F.textTracks[e];g.nonAddedCues=[],N&&(G[e].isTTML||G[e].isEmbedded)?g.renderingType=\\\"html\\\":g.renderingType=\\\"default\\\",this.addCaptions(e,0,G[e].captionData),A.trigger(i.default.TEXT_TRACK_ADDED)}q.call(this,d),d>=0&&(F.textTracks[d].mode=\\\"showing\\\",this.addCaptions(d,0,null)),A.trigger(i.default.TEXT_TRACKS_ADDED,{index:I,tracks:G})}}function e(a,b,c,d,e,f){var g=a/b,h=c/d,i=0,j=0;g>h?(j=b,i=j/d*c):(i=a,j=i/c*d);var k=0,l=0,m=0,n=0,o=i/j;return o>e?(n=j,m=j/(1/e),k=(a-m)/2,l=0):(m=i,n=i/e,k=0,l=(b-n)/2),f?{x:k+.1*m,y:l+.1*n,w:.8*m,h:.8*n}:{x:k,y:l,w:m,h:n}}function f(){var a=this.getCurrentTextTrack();if(a&&\\\"html\\\"===a.renderingType){var b=F.clientWidth/F.clientHeight,c=!1;a.isFromCEA608&&(b=3.5/3,c=!0);var d=e.call(this,F.clientWidth,F.clientHeight,F.videoWidth,F.videoHeight,b,c),f=d.w,g=d.h;if(f!=L||g!=M){J=d.x,K=d.y,L=f,M=g,N.style.left=J+\\\"px\\\",N.style.top=K+\\\"px\\\",N.style.width=L+\\\"px\\\",N.style.height=M+\\\"px\\\";for(var h=0;a.activeCues&&h<a.activeCues.length;++h){var i=a.activeCues[h];i.scaleCue(i)}Q&&document[Q]||R?N.style.zIndex=S:N.style.zIndex=null}}}function h(a,b){var c=Math.round(.01*a*b).toString()+\\\"px\\\";return c}function j(a){var b=L,c=M;if(b*c!==0&&a.layout){var d=a.layout,e=h(d.left,b),f=h(d.top,c),g=h(d.width,b),i=h(d.height,c);N.style.left=e,N.style.top=f,N.style.width=g,N.style.height=i;var j=N.firstChild;j&&j.style&&(j.style.left=\\\"0px\\\",j.style.top=\\\"0px\\\",j.style.width=g,j.style.height=i)}}function k(a){var b,c,d,e=L,f=M,g=[e/a.cellResolution[0],f/a.cellResolution[1]];if(a.linePadding)for(b in a.linePadding)if(a.linePadding.hasOwnProperty(b)){var h=a.linePadding[b];c=(h*g[0]).toString();for(var i=document.getElementsByClassName(\\\"spanPadding\\\"),j=0;j<i.length;j++)i[j].style.cssText=i[j].style.cssText.replace(/(padding-left\\\\s*:\\\\s*)[\\\\d.,]+(?=\\\\s*px)/gi,\\\"$1\\\"+c),i[j].style.cssText=i[j].style.cssText.replace(/(padding-right\\\\s*:\\\\s*)[\\\\d.,]+(?=\\\\s*px)/gi,\\\"$1\\\"+c)}if(a.fontSize)for(b in a.fontSize)if(a.fontSize.hasOwnProperty(b)){var k=a.fontSize[b]/100;c=(k*g[1]).toString(),d=\\\"defaultFontSize\\\"!==b?document.getElementsByClassName(b):document.getElementsByClassName(\\\"paragraph\\\");for(var l=0;l<d.length;l++)d[l].style.cssText=d[l].style.cssText.replace(/(font-size\\\\s*:\\\\s*)[\\\\d.,]+(?=\\\\s*px)/gi,\\\"$1\\\"+c)}if(a.lineHeight)for(b in a.lineHeight)if(a.lineHeight.hasOwnProperty(b)){var m=a.lineHeight[b]/100;c=(m*g[1]).toString(),d=document.getElementsByClassName(b);for(var n=0;n<d.length;n++)d[n].style.cssText=d[n].style.cssText.replace(/(line-height\\\\s*:\\\\s*)[\\\\d.,]+(?=\\\\s*px)/gi,\\\"$1\\\"+c)}}function l(a,b,c){var d=a>=0?F.textTracks[a]:null,e=this;if(d){if(\\\"showing\\\"!==d.mode)return void(c&&c.length>0&&(d.nonAddedCues=d.nonAddedCues.concat(c)));if(c||(c=d.nonAddedCues,d.nonAddedCues=[]),c&&0!==c.length)for(var g in c){var h,i=c[g];d.cellResolution=i.cellResolution,d.isFromCEA608=i.isFromCEA608,O||\\\"html\\\"!==i.type&&\\\"image\\\"!==i.type||(O=setInterval(f.bind(this),500)),\\\"image\\\"===i.type?(h=new D(i.start-b,i.end-b,\\\"\\\"),h.image=i.data,h.id=i.id,h.size=0,h.type=\\\"image\\\",h.layout=i.layout,h.scaleCue=j.bind(e),h.onenter=function(){if(N&&\\\"showing\\\"===d.mode){var a=new Image;a.id=\\\"ttmlImage_\\\"+this.id,a.src=this.image,a.style.cssText=\\\"z-index: 2147483648; pointer-events: none; display: block; visibility: visible !important; position: relative !important;\\\",N.appendChild(a),j.call(e,this)}},h.onexit=function(){if(N)for(var a=N.childNodes,b=0;b<a.length;b++)a[b].id===\\\"ttmlImage_\\\"+this.id&&N.removeChild(a[b])}):\\\"html\\\"===i.type?(h=new D(i.start-b,i.end-b,\\\"\\\"),h.cueHTMLElement=i.cueHTMLElement,h.regions=i.regions,h.regionID=i.regionID,h.cueID=i.cueID,h.videoWidth=i.videoWidth,h.videoHeight=i.videoHeight,h.cellResolution=i.cellResolution,h.fontSize=i.fontSize,h.lineHeight=i.lineHeight,h.linePadding=i.linePadding,h.scaleCue=k.bind(e),N.style.left=J+\\\"px\\\",N.style.top=K+\\\"px\\\",N.style.width=L+\\\"px\\\",N.style.height=M+\\\"px\\\",h.onenter=function(){\\\"showing\\\"===d.mode&&(B(\\\"Cue \\\"+this.startTime+\\\"-\\\"+this.endTime+\\\" : \\\"+this.cueHTMLElement.id+\\\" : \\\"+this.cueHTMLElement.innerText),N.appendChild(this.cueHTMLElement),k.call(e,this))},h.onexit=function(){for(var a=N.childNodes,b=0;b<a.length;++b)a[b].id===this.cueID&&N.removeChild(a[b])}):(h=new D(i.start-b,i.end-b,i.data),i.styles&&(void 0!==i.styles.align&&h.hasOwnProperty(\\\"align\\\")&&(h.align=i.styles.align),void 0!==i.styles.line&&h.hasOwnProperty(\\\"line\\\")&&(h.line=i.styles.line),void 0!==i.styles.position&&h.hasOwnProperty(\\\"position\\\")&&(h.position=i.styles.position),void 0!==i.styles.size&&h.hasOwnProperty(\\\"size\\\")&&(h.size=i.styles.size))),d.addCue(h)}}}function n(){return I>=0?F.textTracks[I]:null}function o(){return I}function p(a){for(var b=-1,c=0;c<F.textTracks.length;c++)if(F.textTracks[c].label===a){b=c;break}return b}function q(a){if(I=a,x.call(this),a>=0){var b=F.textTracks[a];\\\"html\\\"===b.renderingType?v.call(this):w.call(this)}else w.call(this)}function r(a){return F.textTracks[a]}function s(a){if(a.cues){for(var b=a.cues,c=b.length-1,d=c;d>=0;d--)a.removeCue(b[d]);a.mode=\\\"disabled\\\"}}function t(){for(var a=H.length,b=0;b<a;b++)if(P)F.removeChild(H[b]);else{var c=r.call(this,b);c.nonAddedCues=[],s.call(this,c)}H=[],G=[],O&&(clearInterval(O),O=null),x.call(this)}function u(a){F.removeChild(H[a]),H.splice(a,1)}function v(){if(P){var a=document.getElementById(\\\"native-cue-style\\\");if(!a){a=document.createElement(\\\"style\\\"),a.id=\\\"native-cue-style\\\",document.head.appendChild(a);var b=a.sheet;F.id?b.insertRule(\\\"#\\\"+F.id+\\\"::cue {background: transparent}\\\",0):0!==F.classList.length?b.insertRule(\\\".\\\"+F.className+\\\"::cue {background: transparent}\\\",0):b.insertRule(\\\"video::cue {background: transparent}\\\",0)}}}function w(){if(P){var a=document.getElementById(\\\"native-cue-style\\\");a&&document.head.removeChild(a)}}function x(){if(N)for(;N.firstChild;)N.removeChild(N.firstChild)}function y(a){a&&a.videoModel&&(E=a.videoModel)}var z=this.context,A=(0,g.default)(z).getInstance(),B=(0,m.default)(z).getInstance().log,C=void 0,D=void 0,E=void 0,F=void 0,G=void 0,H=void 0,I=void 0,J=void 0,K=void 0,L=void 0,M=void 0,N=void 0,O=void 0,P=void 0,Q=void 0,R=void 0,S=void 0;return C={initialize:a,displayCConTop:c,addTextTrack:d,addCaptions:l,getTextTrack:r,getCurrentTextTrack:n,getCurrentTrackIdx:o,setCurrentTrackIdx:q,getTrackIdxForId:p,deleteTrackCues:s,deleteAllTextTracks:t,deleteTextTrack:u,setConfig:y}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(9),g=d(f),h=a(13),i=d(h),j=a(10),k=d(j),l=a(8),m=d(l);e.__dashjs_factory_name=\\\"TextTracks\\\",c.default=k.default.getSingletonFactory(e),b.exports=c.default},{10:10,13:13,8:8,9:9}],58:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function f(a){function b(){var a;p=[],q=[],r=[],a={},e(a,g.HTTPRequest.MPD_TYPE,m.default.DOWNLOAD_ERROR_ID_MANIFEST),e(a,g.HTTPRequest.XLINK_EXPANSION_TYPE,m.default.DOWNLOAD_ERROR_ID_XLINK),e(a,g.HTTPRequest.INIT_SEGMENT_TYPE,m.default.DOWNLOAD_ERROR_ID_INITIALIZATION),e(a,g.HTTPRequest.MEDIA_SEGMENT_TYPE,m.default.DOWNLOAD_ERROR_ID_CONTENT),e(a,g.HTTPRequest.INDEX_SEGMENT_TYPE,m.default.DOWNLOAD_ERROR_ID_CONTENT),e(a,g.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,m.default.DOWNLOAD_ERROR_ID_CONTENT),e(a,g.HTTPRequest.OTHER_TYPE,m.default.DOWNLOAD_ERROR_ID_CONTENT),s=a}function c(a,b){var d=a.request,e=new XMLHttpRequest,f=[],g=!0,h=!0,k=new Date,m=k,o=0,t=function(a){h=!1,d.requestStartDate=k,d.requestEndDate=new Date,d.firstByteDate=d.firstByteDate||k,d.checkExistenceOnly||l.addHttpRequest(d.mediaType,null,d.type,d.url,e.responseURL||null,d.serviceLocation||null,d.range||null,d.requestStartDate,d.firstByteDate,d.requestEndDate,e.status,d.duration,e.getAllResponseHeaders(),a?f:null)},u=function(){p.indexOf(e)!==-1&&(p.splice(p.indexOf(e),1),h&&(t(!1),b>0?(b--,r.push(setTimeout(function(){c(a,b)},i.getRetryIntervalForType(d.type)))):(j.downloadError(s[d.type],d.url,d),a.error&&a.error(d,\\\"error\\\",e.statusText),a.complete&&a.complete(d,e.statusText))))},v=function(b){var c=new Date;g&&(g=!1,(!b.lengthComputable||b.lengthComputable&&b.total!==b.loaded)&&(d.firstByteDate=c)),b.lengthComputable&&(d.bytesLoaded=b.loaded,d.bytesTotal=b.total),f.push({s:m,d:c.getTime()-m.getTime(),b:[b.loaded?b.loaded-o:0]}),m=c,o=b.loaded,a.progress&&a.progress()},w=function(){e.status>=200&&e.status<=299&&(t(!0),a.success&&a.success(e.response,e.statusText,e),a.complete&&a.complete(d,e.statusText))};try{var x=n.modifyRequestURL(d.url),y=d.checkExistenceOnly?\\\"HEAD\\\":\\\"GET\\\";e.open(y,x,!0),d.responseType&&(e.responseType=d.responseType),d.range&&e.setRequestHeader(\\\"Range\\\",\\\"bytes=\\\"+d.range),d.requestStartDate||(d.requestStartDate=k),e=n.modifyRequestHeader(e),e.withCredentials=i.getXHRWithCredentials(),e.onload=w,e.onloadend=u,e.onerror=u,e.onprogress=v;var z=(new Date).getTime();isNaN(d.delayLoadingTime)||z>=d.delayLoadingTime?(p.push(e),e.send()):!function(){var a={xhr:e};q.push(a),a.delayTimeout=setTimeout(function(){if(q.indexOf(a)!==-1){q.splice(q.indexOf(a),1);try{p.push(a.xhr),a.xhr.send()}catch(b){a.xhr.onerror()}}},d.delayLoadingTime-z)}()}catch(A){e.onerror()}}function d(a){a.request&&c(a,i.getRetryAttemptsForType(a.request.type))}function f(){r.forEach(function(a){return clearTimeout(a)}),r=[],q.forEach(function(a){return clearTimeout(a.delayTimeout)}),q=[],p.forEach(function(a){a.onloadend=a.onerror=a.onprogress=void 0,a.abort()}),p=[]}var h=this.context,i=(0,k.default)(h).getInstance(),j=a.errHandler,l=a.metricsModel,n=a.requestModifier,o=void 0,p=void 0,q=void 0,r=void 0,s=void 0;return o={load:d,abort:f},b(),o}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var g=a(179),h=a(10),i=d(h),j=a(101),k=d(j),l=a(151),m=d(l);f.__dashjs_factory_name=\\\"XHRLoader\\\";var n=i.default.getClassFactory(f);c.default=n,b.exports=c.default},{10:10,101:101,151:151,179:179}],59:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(a,b,c){var e=function(d,e){b.resolved=!0,b.resolvedContent=d?d:null,f.trigger(p.default.XLINK_ELEMENT_LOADED,{element:b,resolveObject:c,error:d||e?null:new g.default(s,\\\"Failed loading Xlink element: \\\"+a)})};if(a===d)e(null,!0);else{var i=new l.default(a,j.HTTPRequest.XLINK_TYPE);h.load({request:i,success:function(a){e(a)},error:function(){e(null)}})}}function c(){h&&(h.abort(),h=null)}var d=\\\"urn:mpeg:dash:resolve-to-zero:2013\\\",e=this.context,f=(0,n.default)(e).getInstance(),h=(0,i.default)(e).create({errHandler:a.errHandler,metricsModel:a.metricsModel,requestModifier:a.requestModifier}),k=void 0;return k={load:b,reset:c}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(162),g=d(f),h=a(58),i=d(h),j=a(179),k=a(170),l=d(k),m=a(9),n=d(m),o=a(13),p=d(o),q=a(10),r=d(q),s=1;e.__dashjs_factory_name=\\\"XlinkLoader\\\";var t=r.default.getClassFactory(e);t.XLINK_LOADER_ERROR_LOADING_FAILURE=s,c.default=t,b.exports=c.default},{10:10,13:13,162:162,170:170,179:179,58:58,9:9}],60:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){ha={video:!0,audio:!0},ia={},ja={},ka={},la={},ma={},na={},pa={},oa={},ra=!1,sa=!1,xa=(0,k.default)(ba).getInstance(),wa=(0,o.default)(ba).getInstance(),ta=(0,y.default)(ba).getInstance(),ua=(0,A.default)(ba).getInstance(),va=(0,C.default)(ba).getInstance()}function b(a,b){oa[a]=b,pa[a]=pa[a]||{},pa[a].state=E,ca.on(u.default.LOADING_PROGRESS,aa,this)}function c(a){a&&(a.abrRulesCollection&&(ea=a.abrRulesCollection),a.rulesController&&(fa=a.rulesController),a.streamController&&(ga=a.streamController))}function d(a,b){var c;return ia[b]=ia[b]||{},ia[b].hasOwnProperty(a)||(ia[b][a]=0),c=Z(ia[b][a],a),c=$(c,a,ia[b][a]),c=_(c,a)}function e(a){var b=xa.getSavedBitrateSettings(a);if(!la.hasOwnProperty(a))if(ma.hasOwnProperty(a)){var c=ta.getValue(),d=ua.getAdaptationForType(c,0,a).Representation;if(Array.isArray(d)){var e=Math.max(Math.round(d.length*ma[a])-1,0);la[a]=d[e].bandwidth}else la[a]=0}else isNaN(b)?la[a]=\\\"video\\\"===a?F:G:la[a]=b;return la[a]}function f(a,b){la[a]=b}function h(a){return ma.hasOwnProperty(a)?ma[a]:null}function j(a,b){ma[a]=b}function l(a){return la.hasOwnProperty(\\\"max\\\")&&la.max.hasOwnProperty(a)?la.max[a]:NaN}function n(a,b){la.max=la.max||{},la.max[a]=b}function p(a){return ma.hasOwnProperty(\\\"max\\\")&&ma.max.hasOwnProperty(a)?ma.max[a]:1}function r(a,b){ma.max=ma.max||{},ma.max[a]=b}function t(a){return ha[a]}function v(a,b){ha[a]=b}function w(){return ra}function x(a){ra=a}function z(){return sa}function B(a){sa=a}function I(a,b){var c=a.getType(),e=a.getStreamInfo(),f=e.id,h=function(a){var g=d(c,f),h=a.value;h<0&&(h=0),h>g&&(h=g);var i=U(c,e);h!==i&&(pa[c].state===E||h>i)&&(X(c,f,a.confidence),K(c,e,i,h,a.reason)),b&&b()};if(t(c)){var i=ea.getRules(m.default.QUALITY_SWITCH_RULES);fa.applyRules(i,a,h,U(c,e),function(a,b){return a=a===g.default.NO_CHANGE?0:a,Math.max(a,b)})}else b&&b()}function J(a,b,c,e){var f=b.id,g=U(a,b),h=null!==c&&!isNaN(c)&&c%1===0;if(!h)throw new Error(\\\"argument is not an integer\\\");c!==g&&c>=0&&c<=d(a,f)&&K(a,b,g,c,e)}function K(a,b,c,d,e){V(a,b.id,d),ca.trigger(u.default.QUALITY_CHANGE_REQUESTED,{mediaType:a,streamInfo:b,oldQuality:c,newQuality:d,reason:e})}function L(a,b){pa[a].state=b}function M(a){return pa[a].state}function N(a,b){var c=O(a);if(!c||0===c.length)return H;for(var d=c.length-1;d>=0;d--){var e=c[d];if(1e3*b>=e.bitrate)return d}return 0}function O(a){if(!a||!a.bitrateList)return null;for(var b,c=a.bitrateList,d=a.type,e=[],f=0,g=c.length;f<g;f++)b=new i.default,b.mediaType=d,b.qualityIndex=f,b.bitrate=c[f].bandwidth,b.width=c[f].width,b.height=c[f].height,e.push(b);return e}function P(a,b){na[a]=b}function Q(a){return na[a]}function R(a){var b=a.type,c=a.streamInfo.id,d=a.representationCount-1;return Y(b,c,d),d}function S(a){var b,c=a.id,e=U(\\\"audio\\\",a),f=U(\\\"video\\\",a);return b=e===d(\\\"audio\\\",c)&&f===d(\\\"video\\\",c)}function T(){ca.off(u.default.LOADING_PROGRESS,aa,this),clearTimeout(qa),qa=null,a()}function U(a,b){var c,d=b.id;return ja[d]=ja[d]||{},ja[d].hasOwnProperty(a)||(ja[d][a]=H),c=ja[d][a]}function V(a,b,c){ja[b]=ja[b]||{},ja[b][a]=c}function W(a,b){var c;return ka[b]=ka[b]||{},ka[b].hasOwnProperty(a)||(ka[b][a]=0),c=ka[b][a]}function X(a,b,c){ka[b]=ka[b]||{},ka[b][a]=c}function Y(a,b,c){ia[b]=ia[b]||{},ia[b][a]=c}function Z(a,b){var c=l(b);if(isNaN(c)||!oa[b])return a;var d=N(oa[b].getMediaInfo(),c);return Math.min(a,d)}function $(a,b,c){var d=p(b);return isNaN(d)||d>=1||d<0?a:Math.min(a,Math.round(c*d))}function _(a,b){if(\\\"video\\\"!==b||!ra||!oa[b])return a;var c=sa&&window.hasOwnProperty(\\\"devicePixelRatio\\\"),d=c?window.devicePixelRatio:1,e=va.getElement(),f=e.clientWidth*d,g=e.clientHeight*d,h=ta.getValue(),i=ua.getAdaptationForType(h,0,b).Representation,j=a;if(f>0&&g>0){for(;j>0&&i[j]&&f<i[j].width&&f-i[j-1].width<i[j].width-f;)j-=1;i.length-2>=j&&i[j].width===i[j+1].width&&(j=Math.min(a,j+1))}return j}function aa(a){var b=a.request.mediaType;if(t(b)){var c=function(){var c=ea.getRules(m.default.ABANDON_FRAGMENT_RULES),d=oa[b].getScheduleController();if(!d)return{v:void 0};var e=function(c){if(c.confidence===g.default.STRONG&&c.value<U(b,ga.getActiveStreamInfo())){var e=d.getFragmentModel(),f=e.getRequests({state:q.default.FRAGMENT_MODEL_LOADING,index:a.request.index})[0];f&&(e.abortRequests(),L(b,D),J(b,ga.getActiveStreamInfo(),c.value,c.reason),ca.trigger(u.default.FRAGMENT_LOADING_ABANDONED,{streamProcessor:oa[b],request:f,mediaType:b}),clearTimeout(qa),qa=setTimeout(function(){L(b,E),qa=null},wa.getAbandonLoadTimeout()))}};fa.applyRules(c,oa[b],e,a,function(a,b){return b})}();if(\\\"object\\\"==typeof c)return c.v}}var ba=this.context,ca=(0,s.default)(ba).getInstance(),da=void 0,ea=void 0,fa=void 0,ga=void 0,ha=void 0,ia=void 0,ja=void 0,ka=void 0,la=void 0,ma=void 0,na=void 0,oa=void 0,pa=void 0,qa=void 0,ra=void 0,sa=void 0,ta=void 0,ua=void 0,va=void 0,wa=void 0,xa=void 0;return da={isPlayingAtTopQuality:S,updateTopQualityIndex:R,getAverageThroughput:Q,getBitrateList:O,getQualityForBitrate:N,getMaxAllowedBitrateFor:l,setMaxAllowedBitrateFor:n,getMaxAllowedRepresentationRatioFor:p,setMaxAllowedRepresentationRatioFor:r,getInitialBitrateFor:e,setInitialBitrateFor:f,getInitialRepresentationRatioFor:h,setInitialRepresentationRatioFor:j,setAutoSwitchBitrateFor:v,getAutoSwitchBitrateFor:t,setLimitBitrateByPortal:x,getLimitBitrateByPortal:w,getUsePixelRatioInLimitBitrateByPortal:z,setUsePixelRatioInLimitBitrateByPortal:B,getConfidenceFor:W,getQualityFor:U,getAbandonmentStateFor:M,setAbandonmentStateFor:L,setPlaybackQuality:J,getPlaybackQuality:I,setAverageThroughput:P,getTopQualityIndexFor:d,initialize:b,setConfig:c,reset:T},a(),da}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(130),g=d(f),h=a(160),i=d(h),j=a(149),k=d(j),l=a(131),m=d(l),n=a(101),o=d(n),p=a(99),q=d(p),r=a(9),s=d(r),t=a(13),u=d(t),v=a(10),w=d(v),x=a(100),y=d(x),z=a(22),A=d(z),B=a(104),C=d(B),D=\\\"abandonload\\\",E=\\\"allowload\\\",F=1e3,G=100,H=0;e.__dashjs_factory_name=\\\"AbrController\\\";var I=w.default.getSingletonFactory(e);I.ABANDON_LOAD=D,I.QUALITY_DEFAULT=H,c.default=I,b.exports=c.default},{10:10,100:100,101:101,104:104,13:13,130:130,131:131,149:149,160:160,22:22,9:9,99:99}],61:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a){o.invalidateSelectedIndexes(a.entry)}function b(){o=(0,g.default)(j).create(),p=(0,i.default)(j).create(),l.on(s.default.SERVICE_LOCATION_BLACKLIST_CHANGED,a,h)}function c(a){o.update(a),p.chooseSelectorFromManifest(a)}function d(a){var b=o.getForPath(a),c=b.reduce(function(a,b){var c=p.select(b);return c&&(n.isRelative(c.url)?a.url+=c.url:n.isPathAbsolute(c.url)?a.url=n.parseOrigin(a.url)+c.url:(a.url=c.url,a.serviceLocation=c.serviceLocation)),a},new m.default);if(!n.isRelative(c.url))return c}function e(){o.reset(),p.reset()}function f(a){c(a)}var h=void 0,j=this.context,l=(0,q.default)(j).getInstance(),n=(0,k.default)(j).getInstance(),o=void 0,p=void 0;return h={reset:e,initialize:f,resolve:d},b(),h}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(98),g=d(f),h=a(145),i=d(h),j=a(158),k=d(j),l=a(40),m=d(l),n=a(10),o=d(n),p=a(9),q=d(p),r=a(13),s=d(r);e.__dashjs_factory_name=\\\"BaseURLController\\\",c.default=o.default.getSingletonFactory(e),b.exports=c.default},{10:10,13:13,145:145,158:158,40:40,9:9,98:98}],62:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(a){return!!(g.length&&a&&a.length)&&g.indexOf(a)!==-1}function c(a){g.indexOf(a)===-1&&(g.push(a),h.trigger(j,{entry:a}))}function d(a){a.error&&c(a.request.serviceLocation)}function e(){k&&h.on(k,d,this)}function f(){g=[]}var g=[],h=(0,i.default)(this.context).getInstance(),j=a.updateEventName,k=a.loadFailedEventName;return e(),{add:c,contains:b,reset:f}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f),h=a(9),i=d(h);e.__dashjs_factory_name=\\\"BlackListController\\\",c.default=g.default.getClassFactory(e),b.exports=c.default},{10:10,9:9}],63:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){oa=m.default.QUALITY_DEFAULT,pa=!1,qa=0,ra=Number.POSITIVE_INFINITY,ta=0,ua=0,wa=null,xa=E,za=0,Aa=!1,Ba=!1,Ca=!1,Da=!1}function c(a,b,c){va=a,$(b),Fa=c,Ia=(0,i.default)(ca).getInstance(),Ea=(0,o.default)(ca).getInstance(),Ga=(0,m.default)(ca).getInstance(),Ja=(0,C.default)(ca).getInstance(),Ha=Fa.getScheduleController(),oa=Ga.getQualityFor(va,Fa.getStreamInfo()),ea.on(u.default.DATA_UPDATE_COMPLETED,O,this),ea.on(u.default.INIT_FRAGMENT_LOADED,f,this),ea.on(u.default.MEDIA_FRAGMENT_LOADED,j,this),ea.on(u.default.QUALITY_CHANGE_REQUESTED,p,this),ea.on(u.default.STREAM_COMPLETED,P,this),ea.on(u.default.PLAYBACK_PROGRESS,t,this),ea.on(u.default.PLAYBACK_TIME_UPDATED,t,this),ea.on(u.default.PLAYBACK_RATE_CHANGED,S,this),ea.on(u.default.PLAYBACK_SEEKING,r,this),ea.on(u.default.WALLCLOCK_TIME_UPDATED,R,this),ea.on(u.default.CURRENT_TRACK_CHANGED,Q,this,s.default.EVENT_PRIORITY_HIGH),ea.on(u.default.SOURCEBUFFER_APPEND_COMPLETED,n,this),ea.on(u.default.SOURCEBUFFER_REMOVE_COMPLETED,M,this)}function d(a){if(!a||!sa||!Fa)return null;var b=null;try{b=ha.createSourceBuffer(sa,a),b&&b.hasOwnProperty(\\\"initialize\\\")&&b.initialize(va,this)}catch(c){ia.mediaSourceError(\\\"Error creating \\\"+va+\\\" source buffer.\\\")}return X(b),N(Fa.getRepresentationInfoForQuality(oa).MSETimeOffset),b}function e(){return Fa.getStreamInfo().id===ja.getActiveStreamInfo().id}function f(a){a.fragmentModel===Fa.getFragmentModel()&&(da(\\\"Init fragment finished loading saving to\\\",va+\\\"'s init cache\\\"),Ja.save(a.chunk),l(a.chunk))}function h(a,b){var c=Ja.extract(a,va,b);c?l(c):ea.trigger(u.default.INIT_REQUESTED,{sender:na})}function j(a){if(a.fragmentModel===Fa.getFragmentModel()){var b=a.chunk,c=b.bytes,d=b.quality,e=Fa.getRepresentationInfoForQuality(d),f=ga.getValue(),h=la.getEventsFor(f,e.mediaInfo,Fa),i=la.getEventsFor(f,e,Fa);if(h.length>0||i.length>0){var j=Fa.getFragmentModel().getRequests({state:g.default.FRAGMENT_MODEL_EXECUTED,quality:d,index:b.index})[0],k=G(c,j,h,i);Fa.getEventController().addInbandEvents(k)}b.bytes=H(c),l(b)}}function l(a){Ba=!0,ya=a,ha.append(wa,a),\\\"video\\\"===a.mediaInfo.type&&a.mediaInfo.embeddedCaptions&&ma.append(a.bytes,a)}function n(a){if(wa===a.buffer){if(a.error||!I())return a.error.code===k.default.QUOTA_EXCEEDED_ERROR_CODE&&(ra=.8*ha.getTotalBufferedTime(wa)),void(a.error.code!==k.default.QUOTA_EXCEEDED_ERROR_CODE&&I()||(ea.trigger(u.default.QUOTA_EXCEEDED,{sender:na,criticalBufferLevel:ra}),L(K())));isNaN(ya.index)||(ta=Math.max(ya.index,ta),y());var b=ha.getAllRanges(wa);if(b&&b.length>0)for(var c=0,d=b.length;c<d;c++)da(\\\"Buffered Range for type:\\\",va,\\\":\\\",b.start(c),\\\" - \\\",b.end(c));t(),Ba=!1,ea.trigger(u.default.BYTES_APPENDED,{sender:na,quality:ya.quality,startTime:ya.start,index:ya.index,bufferedRanges:b})}}function p(a){oa!==a.newQuality&&va===a.mediaType&&Fa.getStreamInfo().id===a.streamInfo.id&&(N(Fa.getRepresentationInfoForQuality(a.newQuality).MSETimeOffset),oa=a.newQuality)}function r(){ua=0,pa=!1,t()}function t(){v(),x()}function v(){qa=ha.getBufferLength(wa,Ea.getTime()),ea.trigger(u.default.BUFFER_LEVEL_UPDATED,{sender:na,bufferLevel:qa}),z()}function x(){e()&&(fa.addBufferState(va,xa,Ha.getBufferTarget()),fa.addBufferLevel(va,new Date,1e3*qa))}function y(){var a=ta===ua-1;a&&!pa&&(pa=!0,ea.trigger(u.default.BUFFERING_COMPLETED,{sender:na,streamInfo:Fa.getStreamInfo()}))}function z(){B(qa<F&&!pa?E:D)}function B(a){xa===a||\\\"fragmentedText\\\"===va&&ma.getAllTracksAreDisabled()||(xa=a,x(),ea.trigger(u.default.BUFFER_LEVEL_STATE_CHANGED,{sender:na,state:a,mediaType:va,streamInfo:Fa.getStreamInfo()}),ea.trigger(a===D?u.default.BUFFER_LOADED:u.default.BUFFER_EMPTY,{mediaType:va}),da(a===D?\\\"Got enough buffer to start.\\\":\\\"Waiting for more buffer before starting playback.\\\"))}function G(a,b,c,d){var e=Math.max(isNaN(b.startTime)?0:b.startTime,0),f=[],g=[];Da=!1;for(var h=c.concat(d),i=0,j=h.length;i<j;i++)f[h[i].schemeIdUri]=h[i];for(var k=(0,w.default)(ca).getInstance().parse(a),l=k.getBoxes(\\\"emsg\\\"),i=0,j=l.length;i<j;i++){var m=la.getEvent(l[i],f,e);m&&g.push(m)}return g}function H(a){if(!Da)return a;for(var b=a.length,c=Math.pow(256,2),d=Math.pow(256,3),e=new Uint8Array(a.length),f=0,g=0;f<b;){var h=String.fromCharCode(a[f+4],a[f+5],a[f+6],a[f+7]),i=a[f]*d+a[f+1]*c+256*a[f+2]+1*a[f+3];if(\\\"emsg\\\"!=h)for(var j=f;j<f+i;j++)e[g]=a[j],g++;f+=i}return e.subarray(0,g)}function I(){var a=ha.getTotalBufferedTime(wa);return a<ra}function J(){if(\\\"fragmentedText\\\"!==va){var a=wa.buffered.length?wa.buffered.start(0):0,b=Ea.getTime()-a-Ia.getBufferToKeep();b>0&&(da(\\\"pruning buffer: \\\"+b+\\\" seconds.\\\"),Ca=!0,ha.remove(wa,0,Math.round(a+b),sa))}}function K(){if(!wa)return null;var a=Ea.getTime(),b=Fa.getFragmentModel().getRequests({state:g.default.FRAGMENT_MODEL_EXECUTED,time:a})[0],c=ha.getBufferRange(wa,a),d=b&&!isNaN(b.startTime)?b.startTime:Math.floor(a);return null===c&&wa.buffered.length>0&&(d=wa.buffered.end(wa.buffered.length-1)),{start:wa.buffered.start(0),end:d}}function L(a){a&&wa&&ha.remove(wa,a.start,a.end,sa)}function M(a){wa===a.buffer&&(Ca&&(Ca=!1),v(),ea.trigger(u.default.BUFFER_CLEARED,{sender:na,from:a.from,to:a.to,hasEnoughSpaceToAppend:I()}))}function N(a){wa&&wa.timestampOffset!==a&&!isNaN(a)&&(wa.timestampOffset=a)}function O(a){a.sender.getStreamProcessor()!==Fa||a.error||N(a.currentRepresentation.MSETimeOffset)}function P(a){a.fragmentModel===Fa.getFragmentModel()&&(ua=a.request.index,y())}function Q(a){wa&&a.newMediaInfo.type===va&&a.newMediaInfo.streamInfo.id===Fa.getStreamInfo().id&&ka.getSwitchMode(va)===q.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE&&L(K())}function R(){za++;var a=za*(Ia.getWallclockTimeUpdateInterval()/1e3);a>=Ia.getBufferPruningInterval()&&!Ba&&(za=0,J())}function S(){z()}function T(){return va}function U(){return Fa}function V(a){Fa=a}function W(){return wa}function X(a){wa=a}function Y(){return qa}function Z(){return ra}function $(a){sa=a}function _(){return sa}function aa(){return pa}function ba(a){ea.off(u.default.DATA_UPDATE_COMPLETED,O,this),ea.off(u.default.QUALITY_CHANGE_REQUESTED,p,this),ea.off(u.default.INIT_FRAGMENT_LOADED,f,this),ea.off(u.default.MEDIA_FRAGMENT_LOADED,j,this),ea.off(u.default.STREAM_COMPLETED,P,this),\\nea.off(u.default.CURRENT_TRACK_CHANGED,Q,this),ea.off(u.default.PLAYBACK_PROGRESS,t,this),ea.off(u.default.PLAYBACK_TIME_UPDATED,t,this),ea.off(u.default.PLAYBACK_RATE_CHANGED,S,this),ea.off(u.default.PLAYBACK_SEEKING,r,this),ea.off(u.default.WALLCLOCK_TIME_UPDATED,R,this),ea.off(u.default.SOURCEBUFFER_APPEND_COMPLETED,n,this),ea.off(u.default.SOURCEBUFFER_REMOVE_COMPLETED,M,this),ra=Number.POSITIVE_INFINITY,xa=E,oa=m.default.QUALITY_DEFAULT,ua=0,ta=0,ya=null,Aa=!1,pa=!1,Ba=!1,Ca=!1,Ea=null,Fa=null,Ga=null,Ha=null,a||(ha.abort(sa,wa),ha.removeSourceBuffer(sa,wa)),wa=null}var ca=this.context,da=(0,A.default)(ca).getInstance().log,ea=(0,s.default)(ca).getInstance(),fa=a.metricsModel,ga=a.manifestModel,ha=a.sourceBufferController,ia=a.errHandler,ja=a.streamController,ka=a.mediaController,la=a.adapter,ma=a.textSourceBuffer,na=void 0,oa=void 0,pa=void 0,qa=void 0,ra=void 0,sa=void 0,ta=void 0,ua=void 0,va=void 0,wa=void 0,xa=void 0,ya=void 0,za=void 0,Aa=void 0,Ba=void 0,Ca=void 0,Da=void 0,Ea=void 0,Fa=void 0,Ga=void 0,Ha=void 0,Ia=void 0,Ja=void 0;return na={initialize:c,createBuffer:d,getType:T,getStreamProcessor:U,setStreamProcessor:V,getBuffer:W,setBuffer:X,getBufferLevel:Y,getCriticalBufferLevel:Z,setMediaSource:$,getMediaSource:_,getIsBufferingCompleted:aa,switchInitData:h,reset:ba},b(),na}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(99),g=d(f),h=a(101),i=d(h),j=a(70),k=d(j),l=a(60),m=d(l),n=a(68),o=d(n),p=a(66),q=d(p),r=a(9),s=d(r),t=a(13),u=d(t),v=a(146),w=d(v),x=a(10),y=d(x),z=a(8),A=d(z),B=a(152),C=d(B),D=\\\"bufferLoaded\\\",E=\\\"bufferStalled\\\",F=.5;e.__dashjs_factory_name=\\\"BufferController\\\";var G=y.default.getClassFactory(e);G.BUFFER_LOADED=D,G.BUFFER_EMPTY=E,c.default=G,b.exports=c.default},{10:10,101:101,13:13,146:146,152:152,60:60,66:66,68:68,70:70,8:8,9:9,99:99}],64:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){D=!1,u={},v={},w={},x=null,y=100,z=y/1e3,C=(0,g.default)(q).getInstance()}function b(){null!==x&&D&&(clearInterval(x),x=null,D=!1)}function c(){r(\\\"Start Event Controller\\\"),D||isNaN(y)||(D=!0,x=setInterval(h,y))}function d(a){if(u={},a)for(var b=0;b<a.length;b++){var c=a[b];u[c.id]=c,r(\\\"Add inline event with id \\\"+c.id)}r(\\\"Added \\\"+a.length+\\\" inline events\\\")}function e(a){for(var b=0;b<a.length;b++){var c=a[b];c.id in v?r(\\\"Repeated event with id \\\"+c.id):(v[c.id]=c,r(\\\"Add inband event with id \\\"+c.id))}}function f(){if(w)for(var a=C.getTime(),b=Object.keys(w),c=0;c<b.length;c++){var d=b[c],e=w[d];null!==e&&(e.duration+e.presentationTime)/e.eventStream.timescale<a&&(r(\\\"Remove Event \\\"+d+\\\" at time \\\"+a),e=null,delete w[d])}}function h(){j(v),j(u),f()}function i(){var a=A.getValue(),b=a.url;a.hasOwnProperty(\\\"Location\\\")&&(b=a.Location),r(\\\"Refresh manifest @ \\\"+b),B.getManifestLoader().load(b)}function j(a){var b,c=C.getTime();if(a)for(var d=Object.keys(a),e=0;e<d.length;e++){var f=d[e],g=a[f];void 0!==g&&(b=g.presentationTime/g.eventStream.timescale,(0===b||b<=c&&b+z>c)&&(r(\\\"Start Event \\\"+f+\\\" at \\\"+c),g.duration>0&&(w[f]=g),g.eventStream.schemeIdUri==o&&g.eventStream.value==p?i():s.trigger(g.eventStream.schemeIdUri,{event:g}),delete a[f]))}}function l(a){a&&(a.manifestModel&&(A=a.manifestModel),a.manifestUpdater&&(B=a.manifestUpdater))}function n(){b(),u=null,v=null,w=null,C=null}var o=\\\"urn:mpeg:dash:event:2012\\\",p=1,q=this.context,r=(0,k.default)(q).getInstance().log,s=(0,m.default)(q).getInstance(),t=void 0,u=void 0,v=void 0,w=void 0,x=void 0,y=void 0,z=void 0,A=void 0,B=void 0,C=void 0,D=void 0;return t={initialize:a,addInlineEvents:d,addInbandEvents:e,clear:b,start:c,setConfig:l,reset:n}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(68),g=d(f),h=a(10),i=d(h),j=a(8),k=d(j),l=a(9),m=d(l);e.__dashjs_factory_name=\\\"EventController\\\",c.default=i.default.getSingletonFactory(e),b.exports=c.default},{10:10,68:68,8:8,9:9}],65:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){r={},o.on(p.default.FRAGMENT_LOADING_COMPLETED,i,q)}function b(a){var b=null;return null!==a&&void 0!==a&&a.byteLength>0&&(b=new Uint8Array(a)),b}function c(a){var b=r[a];return b||(b=(0,j.default)(k).create({metricsModel:(0,l.default)(k).getInstance()}),r[a]=b),b}function d(a){return a&&a.type&&a.type===f.HTTPRequest.INIT_SEGMENT_TYPE}function e(){o.off(p.default.FRAGMENT_LOADING_COMPLETED,i,this);for(var a in r)r[a].reset();r={}}function g(a,b,c){var d=new h.default;return d.streamId=c,d.mediaInfo=b.mediaInfo,d.segmentType=b.type,d.start=b.startTime,d.duration=b.duration,d.end=d.start+d.duration,d.bytes=a,d.index=b.index,d.quality=b.quality,d}function i(a){if(r[a.request.mediaType]===a.sender){var b=a.sender.getScheduleController(),c=a.request,e=a.response,f=d(c),h=b.getStreamProcessor().getStreamInfo().id;if(!e)return void m(\\\"No \\\"+c.mediaType+\\\" bytes to push.\\\");var i=g(e,c,h);o.trigger(f?p.default.INIT_FRAGMENT_LOADED:p.default.MEDIA_FRAGMENT_LOADED,{chunk:i,fragmentModel:a.sender})}}var k=this.context,m=(0,t.default)(k).getInstance().log,o=(0,n.default)(k).getInstance(),q=void 0,r=void 0;return q={process:b,getModel:c,isInitializationRequest:d,reset:e},a(),q}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(179),g=a(161),h=d(g),i=a(99),j=d(i),k=a(102),l=d(k),m=a(9),n=d(m),o=a(13),p=d(o),q=a(10),r=d(q),s=a(8),t=d(s);e.__dashjs_factory_name=\\\"FragmentController\\\",c.default=r.default.getClassFactory(e),b.exports=c.default},{10:10,102:102,13:13,161:161,179:179,8:8,9:9,99:99}],66:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){N={},E(),D()}function b(a,b){var c=k(a),e=d(a,b),f=[];return\\\"fragmentedText\\\"===a?void h(e[0]):(c||(c=L.getSavedMediaSettings(a),j(a,c)),void(e&&0!==e.length&&(c&&e.forEach(function(a){C(c,a)&&f.push(a)}),h(0===f.length?F(e):f.length>1?F(f):f[0]))))}function c(a){var b=a?a.type:null,c=a?a.streamInfo.id:null,d=k(b);return!(!a||!x(b))&&(N[c]=N[c]||G(),!(N[c][b].list.indexOf(a)>=0)&&(N[c][b].list.push(a),d&&C(d,a)&&!e(b,a.streamInfo)&&h(a),!0))}function d(a,b){if(!a||!b)return[];var c=b.id;return N[c]&&N[c][a]?N[c][a].list:[]}function e(a,b){return!a||!b||b&&!N[b.id]?null:N[b.id][a].current}function f(a){var b=a.type,c=a.streamInfo.id;return N[c]&&N[c][b]&&y(N[c][b].current,a)}function h(a){if(a){var b=a.type,c=a.streamInfo,d=c.id,f=e(b,c);if(N[d]&&N[d][b]&&(!f||!y(a,f))){N[d][b].current=a,f&&J.trigger(g.default.CURRENT_TRACK_CHANGED,{oldMediaInfo:f,newMediaInfo:a,switchMode:Q[b]});var h=B(a);h&&N[d][b].storeLastSettings&&(h.roles&&(h.role=h.roles[0],delete h.roles),h.accessibility&&(h.accessibility=h.accessibility[0]),h.audioChannelConfiguration&&(h.audioChannelConfiguration=h.audioChannelConfiguration[0]),L.setSavedMediaSettings(b,h))}}}function j(a,b){a&&b&&(O[a]=b)}function k(a){return a?O[a]:null}function l(a,b){var c=S.indexOf(b)!==-1;return c?void(Q[a]=b):void I(\\\"track switch mode is not supported: \\\"+b)}function n(a){return Q[a]}function p(a){var b=T.indexOf(a)!==-1;return b?void(P=a):void I(\\\"track selection mode is not supported: \\\"+a)}function w(){return P||v}function x(a){return\\\"audio\\\"===a||\\\"video\\\"===a||\\\"text\\\"===a||\\\"fragmentedText\\\"===a}function y(a,b){var c=a.id===b.id,d=a.viewpoint===b.viewpoint,e=a.lang===b.lang,f=a.roles.toString()===b.roles.toString(),g=a.accessibility.toString()===b.accessibility.toString(),h=a.audioChannelConfiguration.toString()===b.audioChannelConfiguration.toString();return c&&d&&e&&f&&g&&h}function z(a){a&&a.errHandler&&(R=a.errHandler)}function A(){a(),K.resetEmbedded()}function B(a){var b={lang:a.lang,viewpoint:a.viewpoint,roles:a.roles,accessibility:a.accessibility,audioChannelConfiguration:a.audioChannelConfiguration},c=b.lang||b.viewpoint||b.role&&b.role.length>0||b.accessibility&&b.accessibility.length>0||b.audioChannelConfiguration&&b.audioChannelConfiguration.length>0;return c?b:null}function C(a,b){var c=!a.lang||a.lang===b.lang,d=!a.viewpoint||a.viewpoint===b.viewpoint,e=!a.role||!!b.roles.filter(function(b){return b===a.role})[0],f=!a.accessibility||!!b.accessibility.filter(function(b){return b===a.accessibility})[0],g=!a.audioChannelConfiguration||!!b.audioChannelConfiguration.filter(function(b){return b===a.audioChannelConfiguration})[0];return c&&d&&e&&f&&g}function D(){Q={audio:s,video:r}}function E(){O={audio:null,video:null}}function F(a){var b=w(),c=[],d=function(a){var b,c=0,d=[];return a.forEach(function(a){b=Math.max.apply(Math,a.bitrateList.map(function(a){return a.bandwidth})),b>c?(c=b,d=[a]):b===c&&d.push(a)}),d},e=function(a){var b,c=0,d=[];return a.forEach(function(a){b=a.representationCount,b>c?(c=b,d=[a]):b===c&&d.push(a)}),d};switch(b){case t:c=d(a),c.length>1&&(c=e(c));break;case u:c=e(a),c.length>1&&(c=d(a));break;default:I(\\\"track selection mode is not supported: \\\"+b)}return c[0]}function G(){return{audio:{list:[],storeLastSettings:!0,current:null},video:{list:[],storeLastSettings:!0,current:null},text:{list:[],storeLastSettings:!0,current:null},fragmentedText:{list:[],storeLastSettings:!0,current:null}}}var H=this.context,I=(0,m.default)(H).getInstance().log,J=(0,i.default)(H).getInstance(),K=(0,o.default)(H).getInstance(),L=(0,q.default)(H).getInstance(),M=void 0,N=void 0,O=void 0,P=void 0,Q=void 0,R=void 0,S=[s,r],T=[t,u];return M={initialize:a,checkInitialMediaSettingsForType:b,addTrack:c,getTracksFor:d,getCurrentTrackFor:e,isCurrentTrack:f,setTrack:h,setInitialSettings:j,getInitialSettings:k,setSwitchMode:l,getSwitchMode:n,setSelectionModeForInitialTrack:p,getSelectionModeForInitialTrack:w,isMultiTrackSupportedByType:x,isTracksEqual:y,setConfig:z,reset:A}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(13),g=d(f),h=a(9),i=d(h),j=a(10),k=d(j),l=a(8),m=d(l),n=a(56),o=d(n),p=a(149),q=d(p),r=\\\"neverReplace\\\",s=\\\"alwaysReplace\\\",t=\\\"highestBitrate\\\",u=\\\"widestRange\\\",v=t;e.__dashjs_factory_name=\\\"MediaController\\\";var w=k.default.getSingletonFactory(e);w.TRACK_SWITCH_MODE_NEVER_REPLACE=r,w.TRACK_SWITCH_MODE_ALWAYS_REPLACE=s,w.TRACK_SELECTION_MODE_HIGHEST_BITRATE=t,w.TRACK_SELECTION_MODE_WIDEST_RANGE=u,w.DEFAULT_INIT_TRACK_SELECTION_MODE=v,c.default=w,b.exports=c.default},{10:10,13:13,149:149,56:56,8:8,9:9}],67:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){var a=\\\"WebKitMediaSource\\\"in window,b=\\\"MediaSource\\\"in window;return b?new MediaSource:a?new WebKitMediaSource:null}function b(a,b){var c=window.URL.createObjectURL(a);return b.setSource(c),c}function c(a){a.setSource(null)}function d(a,b){return a.duration!=b&&(a.duration=b),a.duration}function e(a){var b=a.sourceBuffers,c=b.length,d=0;if(\\\"open\\\"===a.readyState){for(d;d<c;d++){if(b[d].updating)return;if(0===b[d].buffered.length)return}a.endOfStream()}}var f=void 0;return f={createMediaSource:a,attachMediaSource:b,detachMediaSource:c,setDuration:d,signalEndOfStream:e}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f);e.__dashjs_factory_name=\\\"MediaSourceController\\\",c.default=g.default.getSingletonFactory(e),b.exports=c.default},{10:10}],68:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){ma=0,na=NaN,oa=null,ra=null,ta=!1,pa={},sa=(0,k.default)(_).getInstance()}function b(a){qa=a,da=la.getElement(),Z(),ra=qa.manifestInfo.isDynamic,na=qa.start,ba.on(o.default.DATA_UPDATE_COMPLETED,I,this),ba.on(o.default.LIVE_EDGE_SEARCH_COMPLETED,J,this),ba.on(o.default.BYTES_APPENDED,X,this),ba.on(o.default.BUFFER_LEVEL_STATE_CHANGED,Y,this),ba.on(o.default.PERIOD_SWITCH_STARTED,c,this),ta&&(ta=!1,j())}function c(a){a.fromStreamInfo&&pa[a.fromStreamInfo.id]&&delete pa[a.fromStreamInfo.id]}function d(){return C(!0)+qa.duration-r()}function e(){return r()>0}function f(){return qa.id}function h(){return qa.duration}function j(){if(da){da.autoplay=!0;var a=da.play();a&&\\\"undefined\\\"!=typeof Promise&&a instanceof Promise&&a.catch(function(a){\\\"NotAllowedError\\\"===a.name&&ba.trigger(o.default.PLAYBACK_NOT_ALLOWED),aa(\\\"Caught pending play exception - continuing (\\\"+a+\\\")\\\")})}else ta=!0}function l(){if(da)return da.paused}function n(){da&&(da.pause(),da.autoplay=!1)}function p(){if(da)return da.seeking}function q(a){la&&(aa(\\\"Requesting seek to time: \\\"+a),la.setCurrentTime(a))}function r(){if(da)return da.currentTime}function t(){if(da)return da.playbackRate}function u(){if(da)return da.played}function v(){if(da)return da.ended}function w(){return ra}function x(a){na=a}function y(){return na}function z(a,b){var c=ja.getMpd(ia.getValue()),d=void 0,e=10;d=sa.getUseSuggestedPresentationDelay()&&c.hasOwnProperty(\\\"suggestedPresentationDelay\\\")?c.suggestedPresentationDelay:sa.getLiveDelay()?sa.getLiveDelay():isNaN(a)?2*qa.manifestInfo.minBufferTime:a*sa.getLiveDelayFragmentCount();var f=Math.max(b-e,b/2);return Math.min(d,f)}function A(){la&&da&&(ba.off(o.default.DATA_UPDATE_COMPLETED,I,this),ba.off(o.default.BUFFER_LEVEL_STATE_CHANGED,Y,this),ba.off(o.default.LIVE_EDGE_SEARCH_COMPLETED,J,this),ba.off(o.default.BYTES_APPENDED,X,this),F(),$()),la=null,qa=null,da=null,ra=null,a()}function B(a){a&&(a.streamController&&(ea=a.streamController),a.timelineConverter&&(fa=a.timelineConverter),a.metricsModel&&(ga=a.metricsModel),a.dashMetrics&&(ha=a.dashMetrics),a.manifestModel&&(ia=a.manifestModel),a.dashManifestModel&&(ja=a.dashManifestModel),a.adapter&&(ka=a.adapter),a.videoModel&&(la=a.videoModel))}function C(a){var b=void 0,c=(0,i.default)(_).getInstance().getURIFragmentData(),d=parseInt(c.s,10),e=parseInt(c.t,10),f=NaN;if(a||(f=isNaN(d)?e:d),ra)!isNaN(f)&&f>1262304e3&&(b=f-qa.manifestInfo.availableFrom.getTime()/1e3,(b>na||b<na-qa.manifestInfo.DVRWindowSize)&&(b=null)),b=b||na;else if(!isNaN(f)&&f<Math.max(qa.manifestInfo.duration,qa.duration)&&f>=0)b=f;else{var g=pa[qa.id];void 0===g&&(g=ea.getActiveStreamCommonEarliestTime()),b=Math.max(g,qa.start)}return b}function D(a){var b,c=ga.getReadOnlyMetricsFor(\\\"video\\\")||ga.getReadOnlyMetricsFor(\\\"audio\\\"),d=ha.getCurrentDVRInfo(c),e=d?d.range:null;return e?a>=e.start&&a<=e.end?a:b=Math.max(e.end-2*qa.manifestInfo.minBufferTime,e.start):NaN}function E(){if(null===oa){var a=function(){W()};oa=setInterval(a,sa.getWallclockTimeUpdateInterval())}}function F(){clearInterval(oa),oa=null}function G(){var a=C(!1);a>0&&(q(a),aa(\\\"Starting playback at offset: \\\"+a))}function H(){if(!l()&&ra&&0!==da.readyState){var a=r(),b=D(a),c=!isNaN(b)&&b!==a;c&&q(b)}}function I(a){if(!a.error){var b=ka.convertDataToTrack(ia.getValue(),a.currentRepresentation),c=b.mediaInfo.streamInfo;qa.id===c.id&&(qa=c,H())}}function J(a){a.error||0===da.readyState||G()}function K(){ba.trigger(o.default.CAN_PLAY)}function L(){aa(\\\"Native video element event: play\\\"),H(),E(),ba.trigger(o.default.PLAYBACK_STARTED,{startTime:r()})}function M(){aa(\\\"Native video element event: playing\\\"),ba.trigger(o.default.PLAYBACK_PLAYING,{playingTime:r()})}function N(){aa(\\\"Native video element event: pause\\\"),ba.trigger(o.default.PLAYBACK_PAUSED,{ended:v()})}function O(){var a=r();aa(\\\"Seeking to: \\\"+a),E(),ba.trigger(o.default.PLAYBACK_SEEKING,{seekTime:a})}function P(){aa(\\\"Native video element event: seeked\\\"),ba.trigger(o.default.PLAYBACK_SEEKED)}function Q(){var a=r();a!==ma&&(ma=a,ba.trigger(o.default.PLAYBACK_TIME_UPDATED,{timeToEnd:d(),time:a}))}function R(){ba.trigger(o.default.PLAYBACK_PROGRESS)}function S(){var a=t();aa(\\\"Native video element event: ratechange: \\\",a),ba.trigger(o.default.PLAYBACK_RATE_CHANGED,{playbackRate:a})}function T(){aa(\\\"Native video element event: loadedmetadata\\\"),(!ra&&qa.isFirst||fa.isTimeSyncCompleted())&&G(),ba.trigger(o.default.PLAYBACK_METADATA_LOADED),E()}function U(){aa(\\\"Native video element event: ended\\\"),n(),F(),ba.trigger(o.default.PLAYBACK_ENDED)}function V(a){var b=a.target||a.srcElement;ba.trigger(o.default.PLAYBACK_ERROR,{error:b.error})}function W(){ba.trigger(o.default.WALLCLOCK_TIME_UPDATED,{isDynamic:ra,time:new Date})}function X(a){var b=a.bufferedRanges;if(b&&b.length){var c=Math.max(b.start(0),qa.start),d=void 0===pa[qa.id]?c:Math.max(pa[qa.id],c);d!==pa[qa.id]&&(!ra&&C(!0)<d&&r()<d&&q(d),pa[qa.id]=d)}}function Y(a){a.streamInfo.id===qa.id&&la.setStallState(a.mediaType,a.state===g.default.BUFFER_EMPTY)}function Z(){da.addEventListener(\\\"canplay\\\",K),da.addEventListener(\\\"play\\\",L),da.addEventListener(\\\"playing\\\",M),da.addEventListener(\\\"pause\\\",N),da.addEventListener(\\\"error\\\",V),da.addEventListener(\\\"seeking\\\",O),da.addEventListener(\\\"seeked\\\",P),da.addEventListener(\\\"timeupdate\\\",Q),da.addEventListener(\\\"progress\\\",R),da.addEventListener(\\\"ratechange\\\",S),da.addEventListener(\\\"loadedmetadata\\\",T),da.addEventListener(\\\"ended\\\",U)}function $(){da.removeEventListener(\\\"canplay\\\",K),da.removeEventListener(\\\"play\\\",L),da.removeEventListener(\\\"playing\\\",M),da.removeEventListener(\\\"pause\\\",N),da.removeEventListener(\\\"error\\\",V),da.removeEventListener(\\\"seeking\\\",O),da.removeEventListener(\\\"seeked\\\",P),da.removeEventListener(\\\"timeupdate\\\",Q),da.removeEventListener(\\\"progress\\\",R),da.removeEventListener(\\\"ratechange\\\",S),da.removeEventListener(\\\"loadedmetadata\\\",T),da.removeEventListener(\\\"ended\\\",U)}var _=this.context,aa=(0,s.default)(_).getInstance().log,ba=(0,m.default)(_).getInstance(),ca=void 0,da=void 0,ea=void 0,fa=void 0,ga=void 0,ha=void 0,ia=void 0,ja=void 0,ka=void 0,la=void 0,ma=void 0,na=void 0,oa=void 0,pa=void 0,qa=void 0,ra=void 0,sa=void 0,ta=void 0;return ca={initialize:b,setConfig:B,getStreamStartTime:C,getTimeToStreamEnd:d,isPlaybackStarted:e,getStreamId:f,getStreamDuration:h,getTime:r,getPlaybackRate:t,getPlayedRanges:u,getEnded:v,getIsDynamic:w,setLiveStartTime:x,getLiveStartTime:y,computeLiveDelay:z,play:j,isPaused:l,pause:n,isSeeking:p,seek:q,reset:A},a(),ca}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(63),g=d(f),h=a(103),i=d(h),j=a(101),k=d(j),l=a(9),m=d(l),n=a(13),o=d(n),p=a(10),q=d(p),r=a(8),s=d(r);e.__dashjs_factory_name=\\\"PlaybackController\\\",c.default=q.default.getSingletonFactory(e),b.exports=c.default},{10:10,101:101,103:103,13:13,63:63,8:8,9:9}],69:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){wa=!0,Ra=NaN,Qa=NaN,Sa=[],xa=!1,ya=null,za=null,Aa=!0,Ba=!1,Ca=0,Ea=NaN}function c(a,b){ra=a,Ia=b,La=(0,F.default)(ga).getInstance(),Fa=(0,h.default)(ga).getInstance(),Ga=(0,n.default)(ga).getInstance(),Ha=(0,j.default)(ga).getInstance(),Ja=(0,N.default)(ga).getInstance(),Ka=Ia.getFragmentController(),Ma=Ia.getBufferController(),ta=Ka.getModel(ra),ta.setScheduleController(this),ua=Ia.isDynamic(),Pa=pa.getScheduleWhilePaused(),Na=(0,p.default)(ga).create({dashMetrics:(0,z.default)(ga).getInstance(),metricsModel:(0,v.default)(ga).getInstance(),textSourceBuffer:(0,t.default)(ga).getInstance()}),Oa=(0,r.default)(ga).create({adapter:(0,B.default)(ga).getInstance(),sourceBufferController:(0,D.default)(ga).getInstance(),textSourceBuffer:(0,t.default)(ga).getInstance()}),na.getIsTextTrack(ra)&&ia.on(J.default.TIMED_TEXT_REQUESTED,R,this),ia.on(J.default.LIVE_EDGE_SEARCH_COMPLETED,V,this),ia.on(J.default.QUALITY_CHANGE_REQUESTED,s,this),ia.on(J.default.DATA_UPDATE_STARTED,K,this),ia.on(J.default.DATA_UPDATE_COMPLETED,w,this),ia.on(J.default.FRAGMENT_LOADING_COMPLETED,C,this),ia.on(J.default.STREAM_COMPLETED,A,this),ia.on(J.default.STREAM_INITIALIZED,y,this),ia.on(J.default.BUFFER_LEVEL_STATE_CHANGED,M,this),ia.on(J.default.BUFFER_CLEARED,L,this),ia.on(J.default.BYTES_APPENDED,G,this),ia.on(J.default.INIT_REQUESTED,m,this),ia.on(J.default.QUOTA_EXCEEDED,O,this),ia.on(J.default.BUFFER_LEVEL_STATE_CHANGED,M,this),ia.on(J.default.PLAYBACK_STARTED,S,this),ia.on(J.default.PLAYBACK_SEEKING,T,this),ia.on(J.default.PLAYBACK_RATE_CHANGED,U,this),ia.on(J.default.PLAYBACK_TIME_UPDATED,E,this),ia.on(J.default.URL_RESOLUTION_FAILED,Q,this),ia.on(J.default.FRAGMENT_LOADING_ABANDONED,I,this)}function d(){sa&&(ea(),xa=!1,wa?o(va.quality):k(0),wa&&(wa=!1),ha(\\\"Schedule controller starting for \\\"+ra))}function e(){xa||(xa=!0,clearTimeout(Da),ha(\\\"Schedule controller stopping for \\\"+ra))}function g(){if(!(xa||Ba||!Ma||Fa.isPaused()&&!Pa)){i();var a=Sa.length>0,b=Na.execute(Ia,ra,Ja.isVideoTrackPresent());if(b||a){var c=function(){if(va.quality!==Ra)Ra=va.quality,Ma.switchInitData(Ia.getStreamInfo().id,va.quality);else{var a=Oa.execute(Ia,Sa.shift());a?ta.executeRequest(a):(Ba=!1,k(250))}};Ba=!0,a?c():Ha.getPlaybackQuality(Ia,c)}else k(500)}}function i(){var a=1.5*va.fragmentDuration,b=ta.getRequests({state:x.default.FRAGMENT_MODEL_EXECUTED,time:Fa.getTime()+a,threshold:0})[0];b&&Sa.indexOf(b)===-1&&!na.getIsTextTrack(ra)&&(!Ga.isCurrentTrack(b.mediaInfo)||pa.getFastSwitchEnabled()&&b.quality<va.quality&&Ma.getBufferLevel()>=a&&Ha.getAbandonmentStateFor(ra)!==j.default.ABANDON_LOAD?(q(b),ha(\\\"Reloading outdated fragment at index: \\\",b.index)):b.quality>va.quality&&X(Fa.getTime()+Ma.getBufferLevel()))}function k(a){clearTimeout(Da),Da=setTimeout(g,a)}function m(a){a.sender.getStreamProcessor()===Ia&&o(va.quality)}function o(a){Ra=a;var b=la.getInitRequest(Ia,a);b&&(Ba=!0,ta.executeRequest(b))}function q(a){Sa.push(a)}function s(a){if(ra===a.mediaType&&Ia.getStreamInfo().id===a.streamInfo.id){if(va=Ia.getRepresentationInfoForQuality(a.newQuality),null===va||void 0===va)throw new Error(\\\"Unexpected error! - currentRepresentationInfo is null or undefined\\\");da(new Date,f.PlayListTrace.REPRESENTATION_SWITCH_STOP_REASON),ea()}}function u(a){var b=ta.getRequests({state:x.default.FRAGMENT_MODEL_EXECUTED,time:Fa.getTime(),threshold:0})[0];b&&Fa.getTime()>=b.startTime&&(b.quality!==Qa&&a&&ia.trigger(J.default.QUALITY_CHANGE_RENDERED,{mediaType:ra,oldQuality:Qa,newQuality:b.quality}),Qa=b.quality)}function w(a){a.error||a.sender.getStreamProcessor()!==Ia||(va=la.convertDataToTrack(ka.getValue(),a.currentRepresentation))}function y(a){a.error||Ia.getStreamInfo().id!==a.streamInfo.id||(va=Ia.getCurrentRepresentationInfo(),ua&&null===La.getLiveEdge()||(sa=!0),xa&&d())}function A(a){a.fragmentModel===ta&&(e(),Ba=!1,ha(\\\"Stream is complete\\\"))}function C(a){a.sender===ta&&(na.getIsTextTrack(ra)&&(Ba=!1),a.error&&a.serviceLocation&&!xa&&q(a.request))}function E(){u(!0)}function G(a){a.sender.getStreamProcessor()===Ia&&(Ba=!1,k(0))}function I(a){a.streamProcessor===Ia&&(q(a.request),Ba=!1,k(0))}function K(a){a.sender.getStreamProcessor()===Ia&&e()}function L(a){a.sender.getStreamProcessor()===Ia&&(ta.removeExecutedRequestsBeforeTime(a.to),a.hasEnoughSpaceToAppend&&!Ma.getIsBufferingCompleted()&&xa&&d())}function M(a){a.sender.getStreamProcessor()!==Ia||a.state!==l.default.BUFFER_EMPTY||Fa.isSeeking()||(ha(\\\"Buffer is empty! Stalling!\\\"),da(new Date,f.PlayListTrace.REBUFFERING_REASON))}function O(a){a.sender.getStreamProcessor()===Ia&&e()}function Q(){ta.abortRequests(),e()}function R(a){a.sender.getStreamProcessor()===Ia&&o(a.index)}function S(){xa&&d()}function T(a){Ea=a.seekTime,Z(0),xa&&d();var b=ma.getCurrentManifestUpdate(ja.getMetricsFor(\\\"stream\\\")),c=va.DVRWindow?va.DVRWindow.end-Fa.getTime():NaN;ja.updateManifestUpdateInfo(b,{latency:c})}function U(a){za&&(za.playbackspeed=a.playbackRate.toString())}function V(a){if(!a.error){var b=va.mediaInfo.streamInfo.manifestInfo.DVRWindowSize/2,c=a.liveEdge-Fa.computeLiveDelay(va.fragmentDuration,b),e=ma.getCurrentManifestUpdate(ja.getMetricsFor(\\\"stream\\\")),f=Fa.getLiveStartTime(),g=la.getFragmentRequestForTime(Ia,va,c,{ignoreIsFinished:!0});Ea=f,(isNaN(f)||g.startTime>f)&&(Fa.setLiveStartTime(g.startTime),Ea=g.startTime),ja.updateManifestUpdateInfo(e,{currentTime:Ea,presentationStartTime:a.liveEdge,latency:a.liveEdge-Ea,clientTimeOffset:oa.getClientTimeOffset()}),sa=!0,xa&&d()}}function W(){return Ea}function X(a){Ea=a}function Y(){return ta}function Z(a){Ca=a}function $(){return Ca}function _(){return Ia}function aa(){return Na.getBufferTarget(Ia,ra,Ja.isVideoTrackPresent())}function ba(a){ya=a}function ca(a,b){da(a,b),ya=null}function da(a,b){if(ya&&Aa===!1){var c=za.start,d=a.getTime()-c.getTime();za.duration=d,za.stopreason=b,ya.trace.push(za),Aa=!0}}function ea(){ya&&Aa===!0&&va&&(Aa=!1,za=new f.PlayListTrace,za.representationid=va.id,za.start=new Date,za.mstart=1e3*Fa.getTime(),za.playbackspeed=Fa.getPlaybackRate().toString())}function fa(){ia.off(J.default.LIVE_EDGE_SEARCH_COMPLETED,V,this),ia.off(J.default.DATA_UPDATE_STARTED,K,this),ia.off(J.default.DATA_UPDATE_COMPLETED,w,this),ia.off(J.default.BUFFER_LEVEL_STATE_CHANGED,M,this),ia.off(J.default.QUALITY_CHANGE_REQUESTED,s,this),ia.off(J.default.FRAGMENT_LOADING_COMPLETED,C,this),ia.off(J.default.STREAM_COMPLETED,A,this),ia.off(J.default.STREAM_INITIALIZED,y,this),ia.off(J.default.QUOTA_EXCEEDED,O,this),ia.off(J.default.BYTES_APPENDED,G,this),ia.off(J.default.BUFFER_CLEARED,L,this),ia.off(J.default.INIT_REQUESTED,m,this),ia.off(J.default.PLAYBACK_RATE_CHANGED,U,this),ia.off(J.default.PLAYBACK_SEEKING,T,this),ia.off(J.default.PLAYBACK_STARTED,S,this),ia.off(J.default.PLAYBACK_TIME_UPDATED,E,this),ia.off(J.default.URL_RESOLUTION_FAILED,Q,this),ia.off(J.default.FRAGMENT_LOADING_ABANDONED,I,this),na.getIsTextTrack(ra)&&ia.off(J.default.TIMED_TEXT_REQUESTED,R,this),e(),u(!1),Ba=!1,Ca=0,Ea=NaN,Fa=null,ya=null}var ga=this.context,ha=(0,P.default)(ga).getInstance().log,ia=(0,H.default)(ga).getInstance(),ja=a.metricsModel,ka=a.manifestModel,la=a.adapter,ma=a.dashMetrics,na=a.dashManifestModel,oa=a.timelineConverter,pa=a.mediaPlayerModel,qa=void 0,ra=void 0,sa=void 0,ta=void 0,ua=void 0,va=void 0,wa=void 0,xa=void 0,ya=void 0,za=void 0,Aa=void 0,Ba=void 0,Ca=void 0,Da=void 0,Ea=void 0,Fa=void 0,Ga=void 0,Ha=void 0,Ia=void 0,Ja=void 0,Ka=void 0,La=void 0,Ma=void 0,Na=void 0,Oa=void 0,Pa=void 0,Qa=void 0,Ra=void 0,Sa=void 0;return qa={initialize:c,getStreamProcessor:_,getSeekTarget:W,setSeekTarget:X,getFragmentModel:Y,setTimeToLoadDelay:Z,getTimeToLoadDelay:$,replaceRequest:q,start:d,stop:e,reset:fa,setPlayList:ba,getBufferTarget:aa,finalisePlayList:ca},b(),qa}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(181),g=a(68),h=d(g),i=a(60),j=d(i),k=a(63),l=d(k),m=a(66),n=d(m),o=a(140),p=d(o),q=a(141),r=d(q),s=a(56),t=d(s),u=a(102),v=d(u),w=a(99),x=d(w),y=a(17),z=d(y),A=a(15),B=d(A),C=a(70),D=d(C),E=a(154),F=d(E),G=a(9),H=d(G),I=a(13),J=d(I),K=a(10),L=d(K),M=a(71),N=d(M),O=a(8),P=d(O);e.__dashjs_factory_name=\\\"ScheduleController\\\",c.default=L.default.getClassFactory(e),b.exports=c.default},{10:10,102:102,13:13,140:140,141:141,15:15,154:154,17:17,181:181,56:56,60:60,63:63,66:66,68:68,70:70,71:71,8:8,9:9,99:99}],70:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a,b){var c=b.codec,d=null;try{if(c.match(/application\\\\/mp4;\\\\s*codecs=\\\"(stpp|wvtt)\\\"/i))throw new y.default(\\\"not really supported\\\");d=a.addSourceBuffer(c)}catch(e){if(!b.isText&&c.indexOf('codecs=\\\"stpp\\\"')===-1&&c.indexOf('codecs=\\\"wvtt\\\"')===-1)throw e;d=(0,g.default)(t).getInstance(),d.setConfig({errHandler:(0,m.default)(t).getInstance(),adapter:(0,k.default)(t).getInstance(),dashManifestModel:z,mediaController:(0,i.default)(t).getInstance(),videoModel:(0,w.default)(t).getInstance(),streamController:(0,o.default)(t).getInstance(),textTracks:(0,q.default)(t).getInstance(),VTTParser:(0,s.default)(t).getInstance(),TTMLParser:(0,u.default)(t).getInstance()})}return d}function b(a,b){try{a.removeSourceBuffer(b)}catch(c){}}function c(a,b,c){var d,e,f=null,g=0,h=0,i=null,j=null,k=0,l=c||.15;try{f=a.buffered}catch(m){return null}if(null!==f&&void 0!==f){for(e=0,d=f.length;e<d;e++)if(g=f.start(e),h=f.end(e),null===i)k=Math.abs(g-b),b>=g&&b<h?(i=g,j=h):k<=l&&(i=g,j=h);else{if(k=g-j,!(k<=l))break;j=h}if(null!==i)return{start:i,end:j}}return null}function d(a){var b=null;try{return b=a.buffered}catch(c){return null}}function e(a){var b,c,e=d(a),f=0;if(!e)return f;for(c=0,b=e.length;c<b;c++)f+=e.end(c)-e.start(c);return f}function f(a,b,d){var e,f;return e=c(a,b,d),f=null===e?0:e.end-b}function h(a,b){if(!b)return null;var c,e,f,g,h,i,j,k,l,m=d(b);if(!m)return null;for(var n=0,o=m.length;n<o;n++){if(k=a.length>n,h=k?{start:a.start(n),end:a.end(n)}:null,c=m.start(n),e=m.end(n),!h)return l={start:c,end:e};if(f=h.start===c,g=h.end===e,!f||!g){if(f)l={start:h.end,end:e};else{if(!g)return l={start:c,end:e};l={start:c,end:h.start}}return i=a.length>n+1?{start:a.start(n+1),end:a.end(n+1)}:null,j=n+1<o?{start:m.start(n+1),end:m.end(n+1)}:null,!i||j&&j.start===i.start&&j.end===i.end||(l.end=i.start),l}}return null}function j(a,b){var c=b.bytes,d=\\\"append\\\"in a?\\\"append\\\":\\\"appendBuffer\\\"in a?\\\"appendBuffer\\\":null,e=\\\"Object\\\"===Object.prototype.toString.call(a).slice(8,-1);if(d)try{r(a,function(){e?a[d](c,b):a[d](c),r(a,function(){v.trigger(C.default.SOURCEBUFFER_APPEND_COMPLETED,{buffer:a,bytes:c})})})}catch(f){v.trigger(C.default.SOURCEBUFFER_APPEND_COMPLETED,{buffer:a,bytes:c,error:new y.default(f.code,f.message,null)})}}function l(a,b,c,d){try{r(a,function(){b>=0&&c>b&&\\\"ended\\\"!==d.readyState&&a.remove(b,c),r(a,function(){v.trigger(C.default.SOURCEBUFFER_REMOVE_COMPLETED,{buffer:a,from:b,to:c})})})}catch(e){v.trigger(C.default.SOURCEBUFFER_REMOVE_COMPLETED,{buffer:a,from:b,to:c,error:new y.default(e.code,e.message,null)})}}function n(a,b){try{\\\"open\\\"===a.readyState?b.abort():b.setTextTrack&&\\\"ended\\\"===a.readyState&&b.abort()}catch(c){}}function p(a){a&&a.dashManifestModel&&(z=a.dashManifestModel)}function r(a,b){var c,d=50,e=function(){a.updating||(clearInterval(c),b())},f=function c(){a.updating||(a.removeEventListener(\\\"updateend\\\",c,!1),b())};if(!a.updating)return void b();if(\\\"function\\\"==typeof a.addEventListener)try{a.addEventListener(\\\"updateend\\\",f,!1)}catch(g){c=setInterval(e,d)}else c=setInterval(e,d)}var t=this.context,v=(0,A.default)(t).getInstance(),x=void 0,z=void 0;return x={append:j,remove:l,abort:n,createSourceBuffer:a,removeSourceBuffer:b,getBufferRange:c,getAllRanges:d,getTotalBufferedTime:e,getBufferLength:f,getRangeDifference:h,setConfig:p}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(56),g=d(f),h=a(66),i=d(h),j=a(15),k=d(j),l=a(151),m=d(l),n=a(71),o=d(n),p=a(57),q=d(p),r=a(159),s=d(r),t=a(157),u=d(t),v=a(104),w=d(v),x=a(162),y=d(x),z=a(9),A=d(z),B=a(13),C=d(B),D=a(10),E=d(D),F=22;e.__dashjs_factory_name=\\\"SourceBufferController\\\";var G=E.default.getSingletonFactory(e);G.QUOTA_EXCEEDED_ERROR_CODE=F,c.default=G,b.exports=c.default},{10:10,104:104,13:13,15:15,151:151,157:157,159:159,162:162,56:56,57:57,66:66,71:71,9:9}],71:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){oa=null,ma=[],ya=(0,u.default)(V).getInstance(),qa=!0,ra=!1,sa=!1,za=!1,Aa=!0,Ba=null,ta=!1,ua=!1}function b(a,b){qa=a,pa=b,la.initialize(),ja=(0,B.default)(V).getInstance(),$=(0,k.default)(V).getInstance(),$.setConfig({log:W,manifestModel:aa,dashManifestModel:ba}),$.initialize(_),wa=(0,s.default)(V).getInstance(),xa=(0,g.default)(V).getInstance(),xa.setConfig({streamController:Y,timelineConverter:la,metricsModel:da,dashMetrics:ea,manifestModel:aa,dashManifestModel:ba,adapter:ca,videoModel:wa}),X.on(o.default.TIME_SYNCHRONIZATION_COMPLETED,I,this),X.on(o.default.PLAYBACK_SEEKING,n,this),X.on(o.default.PLAYBACK_TIME_UPDATED,j,this),X.on(o.default.PLAYBACK_ENDED,l,this),X.on(o.default.PLAYBACK_ERROR,h,this),X.on(o.default.PLAYBACK_STARTED,p,this),X.on(o.default.PLAYBACK_PAUSED,r,this),X.on(o.default.MANIFEST_UPDATED,J,this),X.on(o.default.STREAM_BUFFERING_COMPLETED,t,this)}function c(a,b){b=b||new Date,Ba&&(na&&na.getProcessors().forEach(function(c){var d=c.getScheduleController();d&&d.finalisePlayList(b,a)}),da.addPlayList(Ba),Ba=null)}function d(a){Ba=new x.PlayList,Ba.start=new Date,Ba.mstart=1e3*xa.getTime(),Ba.starttype=a,na&&na.getProcessors().forEach(function(a){var b=a.getScheduleController();b&&b.setPlayList(Ba)})}function e(a,b,c){X.trigger(a,{fromStreamInfo:b?b.getStreamInfo():null,toStreamInfo:c.getStreamInfo()})}function f(){na.isActivated()&&Aa&&0===na.getStreamInfo().index&&(na.startEventController(),qa&&xa.play())}function h(a){if(a.error){var b=\\\"\\\";switch(a.error.code){case 1:b=\\\"MEDIA_ERR_ABORTED\\\";break;case 2:b=\\\"MEDIA_ERR_NETWORK\\\";break;case 3:b=\\\"MEDIA_ERR_DECODE\\\";break;case 4:b=\\\"MEDIA_ERR_SRC_NOT_SUPPORTED\\\";break;case 5:b=\\\"MEDIA_ERR_ENCRYPTED\\\";break;default:\\nb=\\\"UNKNOWN\\\"}ta=!0,a.error.msExtendedCode&&(b+=\\\" (0x\\\"+(a.error.msExtendedCode>>>0).toString(16).toUpperCase()+\\\")\\\"),W(\\\"Video Element Error: \\\"+b),a.error&&W(a.error),ka.mediaSourceError(b),T()}}function j(a){if(K()){var b=wa.getPlaybackQuality();b&&da.addDroppedFrames(\\\"video\\\",b)}xa.isSeeking()||a.timeToEnd<U&&ga.signalEndOfStream(va)}function l(){var a=v();a&&C(na,a,NaN),c(a?x.PlayListTrace.END_OF_PERIOD_STOP_REASON:x.PlayListTrace.END_OF_CONTENT_STOP_REASON)}function n(a){var b=w(a.seekTime);b&&b!==na?(c(x.PlayListTrace.END_OF_PERIOD_STOP_REASON),C(na,b,a.seekTime)):c(x.PlayListTrace.USER_REQUEST_STOP_REASON),d(x.PlayList.SEEK_START_REASON)}function p(){Aa?(Aa=!1,d(x.PlayList.INITIAL_PLAYOUT_START_REASON)):za&&(za=!1,d(x.PlayList.RESUME_FROM_PAUSE_START_REASON))}function r(a){a.ended||(za=!0,c(x.PlayListTrace.USER_REQUEST_STOP_REASON))}function t(a){va&&a.streamInfo.isLast&&ga.signalEndOfStream(va)}function v(){var a=na.getStreamInfo().start,b=na.getStreamInfo().duration;return ma.filter(function(c){return c.getStreamInfo().start===a+b})[0]}function w(a){var b=0,c=null,d=ma.length;d>0&&(b+=ma[0].getStartTime());for(var e=0;e<d;e++)if(c=ma[e],b+=c.getDuration(),a<b)return c;return null}function y(a,b){for(var c=null,d=0,e=0,f=null,g=ma.length,h=0;h<g;h++){if(c=ma[h],e=c.getStartTime(),f=c.getDuration(),Number.isFinite(e)&&(d=e),c.getId()===b)return a-d;Number.isFinite(f)&&(d+=f)}return null}function A(){var a=[];return na.getProcessors().forEach(function(b){a.push(b.getIndexHandler().getEarliestTime())}),Math.min.apply(Math,a)}function C(a,b,c){function d(){isNaN(c)?!function(){var a=xa.getStreamStartTime(!0);na.getProcessors().forEach(function(b){ca.setIndexHandlerTime(b,a)}),xa.seek(a)}():xa.seek(c),xa.play(),na.startEventController(),ra=!1,e(o.default.PERIOD_SWITCH_COMPLETED,a,b)}!ra&&a&&b&&a!==b&&(ra=!0,e(o.default.PERIOD_SWITCH_STARTED,a,b),a.deactivate(),na=b,xa.initialize(na.getStreamInfo()),Ca=L(),D(d))}function D(a){function b(){W(\\\"MediaSource is open!\\\"),window.URL.revokeObjectURL(c),va.removeEventListener(\\\"sourceopen\\\",b),va.removeEventListener(\\\"webkitsourceopen\\\",b),E(),na.activate(va),a&&a()}var c=void 0;va?ga.detachMediaSource(wa):va=ga.createMediaSource(),va.addEventListener(\\\"sourceopen\\\",b,!1),va.addEventListener(\\\"webkitsourceopen\\\",b,!1),c=ga.attachMediaSource(va,wa),W(\\\"MediaSource attached to element.  Waiting on open...\\\")}function E(){var a,b;a=na.getStreamInfo().manifestInfo.duration,b=ga.setDuration(va,a),W(\\\"Duration successfully set to: \\\"+b)}function F(){var a,b,c,d,f,g,h,j=aa.getValue(),k=da.getMetricsFor(\\\"stream\\\"),l=ea.getCurrentManifestUpdate(k),m=[];if(j){g=ca.getStreamsInfo(j),oa&&(X.trigger(o.default.PROTECTION_CREATED,{controller:oa,manifest:j}),oa.setMediaElement(wa.getElement()),pa&&oa.setProtectionData(pa));try{if(0===g.length)throw new Error(\\\"There are no streams\\\");for(da.updateManifestUpdateInfo(l,{currentTime:xa.getTime(),buffered:wa.getElement().buffered,presentationStartTime:g[0].start,clientTimeOffset:la.getClientTimeOffset()}),sa=!0,d=0,b=g.length;d<b;d++){for(a=g[d],f=0,c=ma.length;f<c;f++)ma[f].getId()===a.id&&(h=ma[f],m.push(h),h.updateData(a));h||(h=(0,i.default)(V).create({manifestModel:aa,manifestUpdater:$,adapter:ca,timelineConverter:la,capabilities:Z,errHandler:ka,baseURLController:ia}),h.initialize(a,oa),X.on(o.default.STREAM_INITIALIZED,H,this),m.push(h),na&&h.updateData(a)),da.addManifestUpdateStreamInfo(l,a.id,a.index,a.start,a.duration),h=null}ma=m,na||(na=ma[0],e(o.default.PERIOD_SWITCH_STARTED,null,na),xa.initialize(na.getStreamInfo()),e(o.default.PERIOD_SWITCH_COMPLETED,null,na)),va||D(),sa=!1,G()}catch(n){ka.manifestError(n.message,\\\"nostreamscomposed\\\",j),ua=!0,T()}}}function G(){if(!sa){var a=ma.length,b=0;for(f(),b;b<a;b++)if(!ma[b].isInitialized())return;X.trigger(o.default.STREAMS_COMPOSED)}}function H(){G()}function I(){F()}function J(a){if(a.error)ua=!0,T();else{var b,c,d=a.manifest,e=ca.getStreamsInfo(d)[0],f=ca.getMediaInfoForType(d,e,\\\"video\\\")||ca.getMediaInfoForType(d,e,\\\"audio\\\");f&&(b=ca.getDataForMedia(f),c=ba.getRepresentationsForAdaptation(d,b)[0].useCalculatedLiveEdgeTime,c&&(W(\\\"SegmentTimeline detected using calculated Live Edge Time\\\"),ya.setUseManifestDateHeaderTimeSource(!1)));var g=ba.getUTCTimingSources(a.manifest),h=!ba.getIsDynamic(d)||c?g:g.concat(ya.getUTCTimingSources()),i=(0,q.default)(V).getInstance().isManifestHTTPS();h.forEach(function(a){a.value.replace(/.*?:\\\\/\\\\//g,\\\"\\\")===u.default.DEFAULT_UTC_TIMING_SOURCE.value.replace(/.*?:\\\\/\\\\//g,\\\"\\\")&&(a.value=a.value.replace(i?new RegExp(/^(http:)?\\\\/\\\\//i):new RegExp(/^(https:)?\\\\/\\\\//i),i?\\\"https://\\\":\\\"http://\\\"),W(\\\"Matching default timing source protocol to manifest protocol: \\\",a.value))}),ia.initialize(d),ha.setConfig({metricsModel:da,dashMetrics:ea}),ha.initialize(h,ya.getUseManifestDateHeaderTimeSource())}}function K(){return void 0===Ca&&(Ca=L()),Ca}function L(){var a=!1;return na.getProcessors().forEach(function(b){\\\"video\\\"===b.getMediaInfo().type&&(a=!0)}),a}function M(){return qa}function N(){return na?na.getStreamInfo():null}function O(a){return na.getId()===a.id}function P(a){return ma.filter(function(b){return b.getId()===a})[0]}function Q(a){_.load(a)}function R(a){$.setManifest(a)}function S(a){a&&(a.capabilities&&(Z=a.capabilities),a.manifestLoader&&(_=a.manifestLoader),a.manifestModel&&(aa=a.manifestModel),a.dashManifestModel&&(ba=a.dashManifestModel),a.protectionController&&(oa=a.protectionController),a.adapter&&(ca=a.adapter),a.metricsModel&&(da=a.metricsModel),a.dashMetrics&&(ea=a.dashMetrics),a.liveEdgeFinder&&(fa=a.liveEdgeFinder),a.mediaSourceController&&(ga=a.mediaSourceController),a.timeSyncController&&(ha=a.timeSyncController),a.baseURLController&&(ia=a.baseURLController),a.errHandler&&(ka=a.errHandler),a.timelineConverter&&(la=a.timelineConverter))}function T(){ha.reset(),c(ta||ua?x.PlayListTrace.FAILURE_STOP_REASON:x.PlayListTrace.USER_REQUEST_STOP_REASON);for(var a=0,b=ma.length;a<b;a++){var d=ma[a];X.off(o.default.STREAM_INITIALIZED,H,this),d.reset(ta)}ma=[],X.off(o.default.PLAYBACK_TIME_UPDATED,j,this),X.off(o.default.PLAYBACK_SEEKING,n,this),X.off(o.default.PLAYBACK_ERROR,h,this),X.off(o.default.PLAYBACK_STARTED,p,this),X.off(o.default.PLAYBACK_PAUSED,r,this),X.off(o.default.PLAYBACK_ENDED,l,this),X.off(o.default.MANIFEST_UPDATED,J,this),X.off(o.default.STREAM_BUFFERING_COMPLETED,t,this),ia.reset(),$.reset(),da.clearAllCurrentMetrics(),aa.setValue(null),_.reset(),la.reset(),fa.reset(),ca.reset(),ja.reset(),ra=!1,sa=!1,na=null,ta=!1,ua=!1,Ca=void 0,Aa=!0,za=!1,va&&(ga.detachMediaSource(wa),va=null),wa=null,oa&&(oa.setMediaElement(null),oa=null,pa=null,aa.getValue()&&X.trigger(o.default.PROTECTION_DESTROYED,{data:aa.getValue().url})),X.trigger(o.default.STREAM_TEARDOWN_COMPLETE)}var U=1,V=this.context,W=(0,z.default)(V).getInstance().log,X=(0,m.default)(V).getInstance(),Y=void 0,Z=void 0,$=void 0,_=void 0,aa=void 0,ba=void 0,ca=void 0,da=void 0,ea=void 0,fa=void 0,ga=void 0,ha=void 0,ia=void 0,ja=void 0,ka=void 0,la=void 0,ma=void 0,na=void 0,oa=void 0,pa=void 0,qa=void 0,ra=void 0,sa=void 0,ta=void 0,ua=void 0,va=void 0,wa=void 0,xa=void 0,ya=void 0,za=void 0,Aa=void 0,Ba=void 0,Ca=void 0;return Y={initialize:b,getAutoPlay:M,getActiveStreamInfo:N,isStreamActive:O,isVideoTrackPresent:K,getStreamById:P,getTimeRelativeToStreamId:y,load:Q,loadWithManifest:R,getActiveStreamCommonEarliestTime:A,setConfig:S,reset:T},a(),Y}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(68),g=d(f),h=a(54),i=d(h),j=a(50),k=d(j),l=a(9),m=d(l),n=a(13),o=d(n),p=a(103),q=d(p),r=a(104),s=d(r),t=a(101),u=d(t),v=a(10),w=d(v),x=a(181),y=a(8),z=d(y),A=a(152),B=d(A);e.__dashjs_factory_name=\\\"StreamController\\\",c.default=w.default.getSingletonFactory(e),b.exports=c.default},{10:10,101:101,103:103,104:104,13:13,152:152,181:181,50:50,54:54,68:68,8:8,9:9}],72:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){s=!1,t=null,u=null,v=null,w=null,x=null,o.on(i.default.DATA_UPDATE_COMPLETED,l,this),o.on(i.default.INIT_FRAGMENT_LOADED,m,this)}function c(a,b,c){v=a,h(b),w=c,x=w.getRepresentationController()}function d(a){try{u=p.createSourceBuffer(t,a),s||(u.hasOwnProperty(\\\"initialize\\\")&&u.initialize(v,this),s=!0)}catch(b){q.mediaSourceError(\\\"Error creating \\\"+v+\\\" source buffer.\\\")}return u}function e(){return u}function f(a){u=a}function h(a){t=a}function j(){return w}function k(a){o.off(i.default.DATA_UPDATE_COMPLETED,l,this),o.off(i.default.INIT_FRAGMENT_LOADED,m,this),a||(p.abort(t,u),p.removeSourceBuffer(t,u))}function l(a){a.sender.getStreamProcessor()===w&&o.trigger(i.default.TIMED_TEXT_REQUESTED,{index:0,sender:a.sender})}function m(a){a.fragmentModel===w.getFragmentModel()&&a.chunk.bytes&&p.append(u,a.chunk)}var n=this.context,o=(0,g.default)(n).getInstance(),p=a.sourceBufferController,q=a.errHandler,r=void 0,s=void 0,t=void 0,u=void 0,v=void 0,w=void 0,x=void 0;return r={initialize:c,createBuffer:d,getBuffer:e,setBuffer:f,getStreamProcessor:j,setMediaSource:h,reset:k},b(),r}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(9),g=d(f),h=a(13),i=d(h),j=a(10),k=d(j);e.__dashjs_factory_name=\\\"TextController\\\",c.default=k.default.getClassFactory(e),b.exports=c.default},{10:10,13:13,9:9}],73:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a,b){H=b,E=0,F=!1,G=!1,I={\\\"urn:mpeg:dash:utc:http-head:2014\\\":v,\\\"urn:mpeg:dash:utc:http-xsdate:2014\\\":u.bind(null,m),\\\"urn:mpeg:dash:utc:http-iso:2014\\\":u.bind(null,n),\\\"urn:mpeg:dash:utc:direct:2014\\\":t,\\\"urn:mpeg:dash:utc:http-head:2012\\\":v,\\\"urn:mpeg:dash:utc:http-xsdate:2012\\\":u.bind(null,m),\\\"urn:mpeg:dash:utc:http-iso:2012\\\":u.bind(null,n),\\\"urn:mpeg:dash:utc:direct:2012\\\":t,\\\"urn:mpeg:dash:utc:http-ntp:2014\\\":s,\\\"urn:mpeg:dash:utc:ntp:2014\\\":s,\\\"urn:mpeg:dash:utc:sntp:2014\\\":s},e()||(y(a),f(!0))}function b(a){a&&(a.metricsModel&&(J=a.metricsModel),a.dashMetrics&&(K=a.dashMetrics))}function c(){return j()}function d(a){F=a}function e(){return F}function f(a){G=a}function h(a){E=a}function j(){return E}function l(a){var b,c,d=60,e=60,f=1e3,g=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\\\\.[0-9]*)?)?(?:([+\\\\-])([0-9]{2})([0-9]{2}))?/,h=g.exec(a);return b=Date.UTC(parseInt(h[1],10),parseInt(h[2],10)-1,parseInt(h[3],10),parseInt(h[4],10),parseInt(h[5],10),h[6]&&(parseInt(h[6],10)||0),h[7]&&parseFloat(h[7])*f||0),h[9]&&h[10]&&(c=parseInt(h[9],10)*e+parseInt(h[10],10),b+=(\\\"+\\\"===h[8]?-1:1)*c*d*f),new Date(b).getTime()}function m(a){var b=Date.parse(a);return isNaN(b)&&(b=l(a)),b}function n(a){return Date.parse(a)}function r(a){return Date.parse(a)}function s(a,b,c){c()}function t(a,b,c){var d=m(a);return isNaN(d)?void c():void b(d)}function u(a,b,c,d,e){var f,g,h=!1,i=new XMLHttpRequest,j=e?\\\"HEAD\\\":\\\"GET\\\",k=b.match(/\\\\S+/g);b=k.shift(),f=function(){h||(h=!0,k.length?u(a,k.join(\\\" \\\"),c,d,e):d())},g=function(){var b,d;200===i.status&&(b=e?i.getResponseHeader(\\\"Date\\\"):i.response,d=a(b),isNaN(d)||(c(d),h=!0))},i.open(j,b),i.timeout=q||0,i.onload=g,i.onloadend=f,i.send()}function v(a,b,c){u(r,a,b,c,!0)}function w(){var a=J.getReadOnlyMetricsFor(\\\"stream\\\"),b=K.getLatestMPDRequestHeaderValueByID(a,\\\"Date\\\"),c=null!==b?new Date(b).getTime():Number.NaN;isNaN(c)?x(!0):(h(c-(new Date).getTime()),x(!1,c/1e3,E))}function x(a,b,c){d(!1),C.trigger(k.default.TIME_SYNCHRONIZATION_COMPLETED,{time:b,offset:c,error:a?new g.default(p):null})}function y(a,b){var c=b||0,e=a[c],f=function(a,b){var c=!a||!b;c&&H?w():x(c,a,b)};d(!0),e?I.hasOwnProperty(e.schemeIdUri)?I[e.schemeIdUri](e.value,function(a){var b=(new Date).getTime(),c=a-b;h(c),B(\\\"Local time:      \\\"+new Date(b)),B(\\\"Server time:     \\\"+new Date(a)),B(\\\"Difference (ms): \\\"+c),f(a,c)},function(){y(a,c+1)}):y(a,c+1):(h(0),f())}function z(){f(!1),d(!1)}var A=this.context,B=(0,o.default)(A).getInstance().log,C=(0,i.default)(A).getInstance(),D=void 0,E=void 0,F=void 0,G=void 0,H=void 0,I=void 0,J=void 0,K=void 0;return D={initialize:a,getOffsetToDeviceTimeMs:c,setConfig:b,reset:z}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(162),g=d(f),h=a(9),i=d(h),j=a(13),k=d(j),l=a(10),m=d(l),n=a(8),o=d(n),p=1,q=5e3;e.__dashjs_factory_name=\\\"TimeSyncController\\\";var r=m.default.getSingletonFactory(e);r.TIME_SYNC_FAILED_ERROR_CODE=p,r.HTTP_TIMEOUT_MS=q,c.default=r,b.exports=c.default},{10:10,13:13,162:162,8:8,9:9}],74:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){A.on(k.default.XLINK_ELEMENT_LOADED,j,C),H=(0,g.default)(z).create({errHandler:a.errHandler,metricsModel:a.metricsModel,requestModifier:a.requestModifier})}function c(a){D=a}function d(a){E=a}function e(a){var b;G=new o.default(D,\\\"\\\",(!0)),F=a,b=m(F.Period_asArray,F,t,r),h(b,t,r)}function f(){A.off(k.default.XLINK_ELEMENT_LOADED,j,C),H&&(H.reset(),H=null)}function h(a,b,c){var d,e,f,g={};for(g.elements=a,g.type=b,g.resolveType=c,0===g.elements.length&&l(g),f=0;f<g.elements.length;f++)d=g.elements[f],e=B.isHTTPURL(d.url)?d.url:d.originalContent.BaseURL+d.url,H.load(e,d,g)}function j(a){var b,c,d,e=\\\"<response>\\\",f=\\\"</response>\\\",g=\\\"\\\";b=a.element,c=a.resolveObject,b.resolvedContent&&(d=b.resolvedContent.indexOf(\\\">\\\")+1,g=b.resolvedContent.substr(0,d)+e+b.resolvedContent.substr(d)+f,b.resolvedContent=G.xml_str2json(g)),x(c)&&l(c)}function l(a){var b,c,d=[];if(n(a),a.resolveType===s&&A.trigger(k.default.XLINK_READY,{manifest:F}),a.resolveType===r)switch(a.type){case t:for(b=0;b<F[t+\\\"_asArray\\\"].length;b++)c=F[t+\\\"_asArray\\\"][b],c.hasOwnProperty(u+\\\"_asArray\\\")&&(d=d.concat(m(c[u+\\\"_asArray\\\"],c,u,r))),c.hasOwnProperty(v+\\\"_asArray\\\")&&(d=d.concat(m(c[v+\\\"_asArray\\\"],c,v,r)));h(d,u,r);break;case u:A.trigger(k.default.XLINK_READY,{manifest:F})}}function m(a,b,c,d){var e,f,g,h=[];for(f=a.length-1;f>=0;f--)e=a[f],e.hasOwnProperty(\\\"xlink:href\\\")&&e[\\\"xlink:href\\\"]===w&&a.splice(f,1);for(f=0;f<a.length;f++)e=a[f],e.hasOwnProperty(\\\"xlink:href\\\")&&e.hasOwnProperty(\\\"xlink:actuate\\\")&&e[\\\"xlink:actuate\\\"]===d&&(g=p(e[\\\"xlink:href\\\"],b,c,f,d,e),h.push(g));return h}function n(a){var b,c,d,e,f,g,h=[];for(e=a.elements.length-1;e>=0;e--){if(b=a.elements[e],c=b.type+\\\"_asArray\\\",!b.resolvedContent||y())delete b.originalContent[\\\"xlink:actuate\\\"],delete b.originalContent[\\\"xlink:href\\\"],h.push(b.originalContent);else if(b.resolvedContent)for(f=0;f<b.resolvedContent[c].length;f++)d=b.resolvedContent[c][f],h.push(d);for(b.parentElement[c].splice(b.index,1),g=0;g<h.length;g++)b.parentElement[c].splice(b.index+g,0,h[g]);h=[]}a.elements.length>0&&E.run(F)}function p(a,b,c,d,e,f){return{url:a,parentElement:b,type:c,index:d,resolveType:e,originalContent:f,resolvedContent:null,resolved:!1}}function x(a){var b,c;for(b=0;b<a.elements.length;b++)if(c=a.elements[b],c.resolved===!1)return!1;return!0}function y(){return!1}var z=this.context,A=(0,i.default)(z).getInstance(),B=(0,q.default)(z).getInstance(),C=void 0,D=void 0,E=void 0,F=void 0,G=void 0,H=void 0;return C={resolveManifestOnLoad:e,setMatchers:c,setIron:d,reset:f},b(),C}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(59),g=d(f),h=a(9),i=d(h),j=a(13),k=d(j),l=a(10),m=d(l),n=a(4),o=d(n),p=a(158),q=d(p),r=\\\"onLoad\\\",s=\\\"onActuate\\\",t=\\\"Period\\\",u=\\\"AdaptationSet\\\",v=\\\"EventStream\\\",w=\\\"urn:mpeg:dash:resolve-to-zero:2013\\\";e.__dashjs_factory_name=\\\"XlinkController\\\",c.default=m.default.getClassFactory(e),b.exports=c.default},{10:10,13:13,158:158,4:4,59:59,9:9}],75:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a){return f=(0,g.default)(d).getInstance({eventBus:a.eventBus,metricsModel:a.metricsModel}),(0,k.default)(d).create(a)}function b(){return(0,o.default)(d).getInstance()}function c(){return(0,m.default)(d).getInstance()}var d=this.context,e=void 0,f=void 0;return e={createMetricsReporting:a,getReportingFactory:b,getMetricsHandlerFactory:c}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(89),g=d(f),h=a(76),i=d(h),j=a(77),k=d(j),l=a(82),m=d(l),n=a(87),o=d(n),p=a(10),q=d(p);e.__dashjs_factory_name=\\\"MetricsReporting\\\";var r=q.default.getClassFactory(e);r.events=i.default,c.default=r,b.exports=c.default},{10:10,76:76,77:77,82:82,87:87,89:89}],76:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}function f(a,b){if(\\\"function\\\"!=typeof b&&null!==b)throw new TypeError(\\\"Super expression must either be null or a function, not \\\"+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var g=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if(\\\"value\\\"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}},h=a(14),i=d(h),j=function(a){function b(){e(this,b),g(Object.getPrototypeOf(b.prototype),\\\"constructor\\\",this).call(this),this.METRICS_INITIALISATION_COMPLETE=\\\"internal_metricsReportingInitialized\\\",this.BECAME_REPORTING_PLAYER=\\\"internal_becameReportingPlayer\\\"}return f(b,a),b}(i.default),k=new j;c.default=k,b.exports=c.default},{14:14}],77:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(b){if(!b.error){var c=Object.keys(e),d=(0,i.default)(f).getInstance({dashManifestModel:a.dashManifestModel}).getMetrics(b.manifest);d.forEach(function(b){var d=JSON.stringify(b);if(e.hasOwnProperty(d))c.splice(d,1);else try{var h=(0,g.default)(f).create(a);h.initialize(b),e[d]=h}catch(i){}}),c.forEach(function(a){e[a].reset(),delete e[a]}),h.trigger(m.default.METRICS_INITIALISATION_COMPLETE)}}function c(){Object.keys(e).forEach(function(a){e[a].reset()}),e={}}function d(){h.on(o.default.MANIFEST_UPDATED,b),h.on(o.default.STREAM_TEARDOWN_COMPLETE,c)}var e={},f=this.context,h=a.eventBus;return d(),{}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(78),g=d(f),h=a(91),i=d(h),j=a(10),k=d(j),l=a(76),m=d(l),n=a(13),o=d(n);e.__dashjs_factory_name=\\\"MetricsCollectionController\\\",c.default=k.default.getClassFactory(e),b.exports=c.default},{10:10,13:13,76:76,78:78,91:91}],78:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(b){try{f=(0,i.default)(h).create({mediaElement:a.mediaElement}),f.initialize(b.Range),e=(0,k.default)(h).create({log:a.log}),e.initialize(b.Reporting,f),d=(0,m.default)(h).create({log:a.log,eventBus:a.eventBus}),d.initialize(b.metrics,e)}catch(g){throw c(),g}}function c(){d&&d.reset(),e&&e.reset(),f&&f.reset()}var d=void 0,e=void 0,f=void 0,g=void 0,h=this.context;return g={initialize:b,reset:c}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f),h=a(80),i=d(h),j=a(81),k=d(j),l=a(79),m=d(l);e.__dashjs_factory_name=\\\"MetricsController\\\",c.default=g.default.getClassFactory(e),b.exports=c.default},{10:10,79:79,80:80,81:81}],79:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(a){e.forEach(function(b){b.handleNewMetric(a.metric,a.value,a.mediaType)})}function c(a,c){a.split(\\\",\\\").forEach(function(a,b,d){var f;if(a.indexOf(\\\"(\\\")!==-1&&a.indexOf(\\\")\\\")===-1){var g=d[b+1];g&&g.indexOf(\\\"(\\\")===-1&&g.indexOf(\\\")\\\")!==-1&&(a+=\\\",\\\"+g,delete d[b+1])}f=j.create(a,c),f&&e.push(f)}),i.on(k.default.METRIC_ADDED,b,f),i.on(k.default.METRIC_UPDATED,b,f)}function d(){i.off(k.default.METRIC_ADDED,b,f),i.off(k.default.METRIC_UPDATED,b,f),e.forEach(function(a){return a.reset()}),e=[]}var e=[],f=void 0,h=this.context,i=a.eventBus,j=(0,g.default)(h).getInstance({log:a.log,eventBus:a.eventBus});return f={initialize:c,reset:d}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(82),g=d(f),h=a(10),i=d(h),j=a(52),k=d(j);e.__dashjs_factory_name=\\\"MetricsHandlersController\\\",c.default=i.default.getClassFactory(e),b.exports=c.default},{10:10,52:52,82:82}],80:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(a){a&&a.length&&(a.forEach(function(a){var b=a.starttime,c=b+a.duration;j.add(b,c)}),f=!!a[0]._useWallClockTime)}function c(){j.clear()}function d(){j=(0,i.default)(g).create()}function e(){var a,b=j.length;if(!b)return!0;a=f?(new Date).getTime()/1e3:k.currentTime;for(var c=0;c<b;c+=1){var d=j.start(c),e=j.end(c);if(d<=a&&a<e)return!0}return!1}var f=!1,g=this.context,h=void 0,j=void 0,k=a.mediaElement;return h={initialize:b,reset:c,isEnabled:e},d(),h}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f),h=a(148),i=d(h);e.__dashjs_factory_name=\\\"RangeController\\\",c.default=g.default.getClassFactory(e),b.exports=c.default},{10:10,148:148}],81:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(a,b){a.some(function(a){var c=g.create(a,b);if(c)return e.push(c),!0})}function c(){e.forEach(function(a){return a.reset()}),e=[]}function d(a,b){e.forEach(function(c){return c.report(a,b)})}var e=[],f=void 0,g=(0,i.default)(this.context).getInstance({log:a.log});return f={initialize:b,reset:c,report:d}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f),h=a(87),i=d(h);e.__dashjs_factory_name=\\\"ReportingController\\\",c.default=g.default.getClassFactory(e),b.exports=c.default},{10:10,87:87}],82:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(b,c){var d,e=b.match(g);if(e){try{d=j[e[1]](h).create({eventBus:a.eventBus}),d.initialize(e[1],c,e[3],e[5])}catch(i){d=null,f(\\\"MetricsHandlerFactory: Could not create handler for type \\\"+e[1]+\\\" with args \\\"+e[3]+\\\", \\\"+e[5]+\\\" (\\\"+i.message+\\\")\\\")}return d}}function c(a,b){j[a]=b}function d(a){delete j[a]}var e=void 0,f=a.log,g=/([a-zA-Z]*)(\\\\(([0-9]*)(\\\\,\\\\s*([a-zA-Z]*))?\\\\))?/,h=this.context,j={BufferLevel:i.default,DVBErrors:k.default,HttpList:m.default,PlayList:o.default,RepSwitchList:o.default,TcpList:o.default};return e={create:b,register:c,unregister:d}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f),h=a(83),i=d(h),j=a(84),k=d(j),l=a(86),m=d(l),n=a(85),o=d(n);e.__dashjs_factory_name=\\\"MetricsHandlerFactory\\\",c.default=g.default.getSingletonFactory(e),b.exports=c.default},{10:10,83:83,84:84,85:85,86:86}],83:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){try{return Object.keys(o).map(function(a){return o[a]}).reduce(function(a,b){return a.level<b.level?a:b})}catch(a){return}}function b(){var b=a();b&&l!==b.t&&(l=b.t,g.report(j,b))}function c(a,c,d){c&&(h=n.validateN(d),g=c,j=n.reconstructFullMetricName(a,d),k=setInterval(b,h))}function d(){clearInterval(k),k=null,h=0,g=null,l=null}function e(a,b,c){\\\"BufferLevel\\\"===a&&(o[c]=b)}var f=void 0,g=void 0,h=void 0,j=void 0,k=void 0,l=void 0,m=this.context,n=(0,i.default)(m).getInstance(),o=[];return f={initialize:c,reset:d,handleNewMetric:e}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f),h=a(90),i=d(h);e.__dashjs_factory_name=\\\"BufferLevelHandler\\\",c.default=g.default.getClassFactory(e),b.exports=c.default},{10:10,90:90}],84:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){h.off(i.default.METRICS_INITIALISATION_COMPLETE,b,this),h.trigger(i.default.BECAME_REPORTING_PLAYER)}function c(a,c){c&&(g=c,h.on(i.default.METRICS_INITIALISATION_COMPLETE,b,this))}function d(){g=null}function e(a,b){\\\"DVBErrors\\\"===a&&g&&g.report(a,b)}var f=void 0,g=void 0,h=a.eventBus;return f={initialize:c,reset:d,handleNewMetric:e}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f),h=a(76),i=d(h);c.default=g.default.getClassFactory(e),b.exports=c.default},{10:10,76:76}],85:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a,b){e=a,f=b}function b(){f=null,e=void 0}function c(a,b){a===e&&f&&f.report(e,b)}var d=void 0,e=void 0,f=void 0;return d={initialize:a,reset:b,handleNewMetric:c}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f);e.__dashjs_factory_name=\\\"GenericMetricHandler\\\",c.default=g.default.getClassFactory(e),b.exports=c.default},{10:10}],86:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){var a=l;a.length&&f&&f.report(j,a),l=[]}function b(b,c,d,e){c&&(g=m.validateN(d),f=c,e&&e.length&&(h=e),j=m.reconstructFullMetricName(b,d,e),k=setInterval(a,g))}function c(){clearInterval(k),k=null,g=null,h=null,l=[],f=null}function d(a,b){\\\"HttpList\\\"===a&&(h&&h!==b.type||l.push(b))}var e=void 0,f=void 0,g=void 0,h=void 0,j=void 0,k=void 0,l=[],m=(0,i.default)(this.context).getInstance();return e={initialize:b,reset:c,handleNewMetric:d}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f),h=a(90),i=d(h);e.__dashjs_factory_name=\\\"HttpListHandler\\\",c.default=g.default.getClassFactory(e),b.exports=c.default},{10:10,90:90}],87:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(a,b){var c;try{c=e[a.schemeIdUri](f).create(),c.initialize(a,b)}catch(d){c=null,g(\\\"ReportingFactory: could not create Reporting with schemeIdUri \\\"+a.schemeIdUri+\\\" (\\\"+d.message+\\\")\\\")}return c}function c(a,b){e[a]=b}function d(a){delete e[a]}var e={\\\"urn:dvb:dash:reporting:2014\\\":i.default},f=this.context,g=a.log,h=void 0;return h={create:b,register:c,unregister:d}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f),h=a(88),i=d(h);e.__dashjs_factory_name=\\\"ReportingFactory\\\",c.default=g.default.getSingletonFactory(e),b.exports=c.default},{10:10,88:88}],88:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a,b,c){var d=new XMLHttpRequest,e=function(){var a=q.indexOf(d);a!==-1&&(q.splice(a,1),d.status>=200&&d.status<300?b&&b():c&&c())};q.push(d);try{d.open(\\\"GET\\\",a),d.onloadend=e,d.onerror=e,d.send()}catch(f){d.onerror()}}function b(b,c){Array.isArray(c)||(c=[c]),l&&o.isEnabled()&&c.forEach(function(c){var d=g.serialise(c);j&&\\\"DVBErrors\\\"!==b&&(d=\\\"metricname=\\\"+b+\\\"&\\\"+d),d=n+\\\"?\\\"+d,a(d,null,function(){l=!1})})}function c(a,b){var c;if(o=b,n=a[\\\"dvb:reportingUrl\\\"],!n)throw new Error(\\\"required parameter missing (dvb:reportingUrl)\\\");m||(c=a[\\\"dvb:probability\\\"]||a[\\\"dvb:priority\\\"]||0,c&&(1e3===c||c/1e3>=h.random())&&(l=!0),m=!0)}function d(){p||(q.forEach(function(a){return a.abort()}),q=[]),m=!1,l=!1,n=null,o=null}var e=void 0,f=this.context,g=(0,i.default)(f).getInstance(),h=(0,k.default)(f).getInstance(),j=!0,l=!1,m=!1,n=null,o=null,p=!0,q=[];return e={report:b,initialize:c,reset:d}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f),h=a(92),i=d(h),j=a(93),k=d(j);e.__dashjs_factory_name=\\\"DVBReporting\\\",c.default=g.default.getClassFactory(e),b.exports=c.default},{10:10,92:92,93:93}],89:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(a){var b=new g.default;if(r){for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);b.mpdurl||(b.mpdurl=r.originalUrl||r.url),b.terror||(b.terror=new Date),q.addDVBErrors(b)}}function c(a){a.error||(r=a.manifest)}function d(a){b({errorcode:g.default.BASE_URL_CHANGED,servicelocation:a.entry})}function e(){b({errorcode:g.default.BECAME_REPORTER})}function f(a){(0===a.responsecode||a.responsecode>=400||a.responsecode<100||a.responsecode>=600)&&b({errorcode:a.responsecode||g.default.CONNECTION_ERROR,url:a.url,terror:a.tresponse,servicelocation:a._serviceLocation})}function h(a){switch(a.metric){case\\\"HttpList\\\":f(a.value)}}function j(a){var c,d=a.error?a.error.code:0;switch(d){case MediaError.MEDIA_ERR_NETWORK:c=g.default.CONNECTION_ERROR;break;case MediaError.MEDIA_ERR_DECODE:c=g.default.CORRUPT_MEDIA_OTHER;break;default:return}b({errorcode:c})}function l(){p.on(i.default.MANIFEST_UPDATED,c,o),p.on(i.default.SERVICE_LOCATION_BLACKLIST_CHANGED,d,o),p.on(k.default.METRIC_ADDED,h,o),p.on(k.default.METRIC_UPDATED,h,o),p.on(k.default.PLAYBACK_ERROR,j,o),p.on(m.default.BECAME_REPORTING_PLAYER,e,o)}function n(){p.off(i.default.MANIFEST_UPDATED,c,o),p.off(i.default.SERVICE_LOCATION_BLACKLIST_CHANGED,d,o),p.off(k.default.METRIC_ADDED,h,o),p.off(k.default.METRIC_UPDATED,h,o),p.off(k.default.PLAYBACK_ERROR,j,o),p.off(m.default.BECAME_REPORTING_PLAYER,e,o)}var o=void 0,p=a.eventBus,q=a.metricsModel,r=void 0;return o={initialise:l,reset:n},l(),o}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(94),g=d(f),h=a(13),i=d(h),j=a(52),k=d(j),l=a(76),m=d(l),n=a(10),o=d(n);e.__dashjs_factory_name=\\\"DVBErrorsTranslator\\\",c.default=o.default.getSingletonFactory(e),b.exports=c.default},{10:10,13:13,52:52,76:76,94:94}],90:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){return{reconstructFullMetricName:function(a,b,c){var d=a;return b&&(d+=\\\"(\\\"+b,c&&c.length&&(d+=\\\",\\\"+c),d+=\\\")\\\"),d},validateN:function(a){if(!a)throw new Error(\\\"missing n\\\");if(isNaN(a))throw new Error(\\\"n is NaN\\\");if(a<0)throw new Error(\\\"n must be positive\\\");return a}}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f);e.__dashjs_factory_name=\\\"HandlerHelpers\\\",c.default=g.default.getSingletonFactory(e),b.exports=c.default},{10:10}],91:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(a,b,c){var d,f,g=e.getMpd(a),h=0;return b?h=g.availabilityStartTime.getTime()/1e3:(d=this.getRegularPeriods(a,g),d.length&&(h=d[0].start)),f=h,c&&c.hasOwnProperty(\\\"starttime\\\")&&(f+=c.starttime),f}function c(a){var c=[];return a.Metrics_asArray&&a.Metrics_asArray.forEach(function(d){var f=new g.default,h=e.getIsDynamic(a);d.hasOwnProperty(\\\"metrics\\\")&&(f.metrics=d.metrics,d.Range_asArray&&d.Range_asArray.forEach(function(c){var d=new i.default;d.starttime=b(a,h,c),c.hasOwnProperty(\\\"duration\\\")?d.duration=c.duration:d.duration=e.getDuration(a),d._useWallClockTime=h,f.Range.push(d)}),d.Reporting_asArray&&(d.Reporting_asArray.forEach(function(a){var b=new k.default;if(a.hasOwnProperty(\\\"schemeIdUri\\\")){b.schemeIdUri=a.schemeIdUri;for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);f.Reporting.push(b)}}),c.push(f)))}),c}var d=void 0,e=a.dashManifestModel;return d={getMetrics:c}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(95),g=d(f),h=a(96),i=d(h),j=a(97),k=d(j),l=a(10),m=d(l);e.__dashjs_factory_name=\\\"ManifestParsing\\\",c.default=m.default.getSingletonFactory(e),b.exports=c.default},{10:10,95:95,96:96,97:97}],92:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(b){var c,d,e=[],f=[];for(c in b)if(b.hasOwnProperty(c)&&0!==c.indexOf(\\\"_\\\")){if(d=b[c],void 0!==d&&null!==d||(d=\\\"\\\"),Array.isArray(d)){if(!d.length)continue;f=[],d.forEach(function(b){var c=\\\"Object\\\"!==Object.prototype.toString.call(b).slice(8,-1);f.push(c?b:a(b))}),d=encodeURIComponent(f.join(\\\",\\\"))}else\\\"string\\\"==typeof d?d=encodeURIComponent(d):d instanceof Date?d=d.toISOString():\\\"number\\\"==typeof d&&(d=Math.round(d));e.push(c+\\\"=\\\"+d)}return e.join(\\\"&\\\")}return{serialise:a}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f);e.__dashjs_factory_name=\\\"MetricSerialiser\\\",c.default=g.default.getSingletonFactory(e),b.exports=c.default},{10:10}],93:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){c&&(g||(g=new d(f)),c.getRandomValues(g),h=0)}function b(b,d){var f;return b||(b=0),d||(d=1),c?(h===g.length&&a(),f=g[h]/e,h+=1):f=Math.random(),f*(d-b)+b}var c=window.crypto||window.msCrypto,d=Uint32Array,e=Math.pow(2,8*d.BYTES_PER_ELEMENT)-1,f=10,g=void 0,h=void 0,i=void 0;return i={random:b},a(),i}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f);e.__dashjs_factory_name=\\\"RNG\\\",c.default=g.default.getSingletonFactory(e),b.exports=c.default},{10:10}],94:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){\\nd(this,a),this.mpdurl=null,this.errorcode=null,this.terror=null,this.url=null,this.ipaddress=null,this.servicelocation=null};e.SSL_CONNECTION_FAILED_PREFIX=\\\"SSL\\\",e.DNS_RESOLUTION_FAILED=\\\"C00\\\",e.HOST_UNREACHABLE=\\\"C01\\\",e.CONNECTION_REFUSED=\\\"C02\\\",e.CONNECTION_ERROR=\\\"C03\\\",e.CORRUPT_MEDIA_ISOBMFF=\\\"M00\\\",e.CORRUPT_MEDIA_OTHER=\\\"M01\\\",e.BASE_URL_CHANGED=\\\"F00\\\",e.BECAME_REPORTER=\\\"S00\\\",c.default=e,b.exports=c.default},{}],95:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){d(this,a),this.metrics=\\\"\\\",this.Range=[],this.Reporting=[]};c.default=e,b.exports=c.default},{}],96:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){d(this,a),this.starttime=0,this.duration=1/0,this._useWallClockTime=!1};c.default=e,b.exports=c.default},{}],97:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){d(this,a),this.schemeIdUri=\\\"\\\",this.value=\\\"\\\"};c.default=e,b.exports=c.default},{}],98:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}function f(){function a(){l=new n}function b(a,b,c){var d=p.getBaseURLsFromElement(c);a[b]?q.areSimpleEquivalent(d,a[b].data.baseUrls)||(a[b].data.baseUrls=d,a[b].data.selectedIdx=m):a[b]=new n(d)}function c(a){var c=p.getBaseURLsFromElement(a);q.areSimpleEquivalent(c,l.data.baseUrls)||(l.data.baseUrls=c,l.data.selectedIdx=m),a.Period_asArray&&a.Period_asArray.forEach(function(a,c){b(l.children,c,a),a.AdaptationSet_asArray&&a.AdaptationSet_asArray.forEach(function(a,d){b(l.children[c].children,d,a),a.Representation_asArray&&a.Representation_asArray.sort(p.getRepresentationSortFunction()).forEach(function(a,e){b(l.children[c].children[d].children,e,a)})})})}function d(a,b){var c=b||l;a(c.data),c.children&&c.children.forEach(function(b){return d(a,b)})}function e(a){d(function(b){isNaN(b.selectedIdx)||a===b.baseUrls[b.selectedIdx].serviceLocation&&(b.selectedIdx=m)})}function f(a){c(a)}function g(){l=new n}function i(a){var b=l,c=[b.data];return a.forEach(function(a){b=b.children[a],b&&c.push(b.data)}),c.filter(function(a){return a.baseUrls.length})}var k=void 0,l=void 0,o=this.context,p=(0,h.default)(o).getInstance(),q=(0,j.default)(o).getInstance();return k={reset:g,update:f,getForPath:i,invalidateSelectedIndexes:e},a(),k}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var g=a(22),h=d(g),i=a(155),j=d(i),k=a(10),l=d(k),m=NaN,n=function a(b,c){e(this,a),this.data={baseUrls:b||null,selectedIdx:c||m},this.children=[]};f.__dashjs_factory_name=\\\"BaseURLTreeModel\\\",c.default=l.default.getClassFactory(f),b.exports=c.default},{10:10,155:155,22:22}],99:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){D=null,G=null,E=[],F=[],A.on(i.default.LOADING_COMPLETED,w,C)}function c(a){G=a}function d(a){D=a}function e(){return D}function f(a){var b=function(a,b){return a.action===m.default.ACTION_COMPLETE&&a.action===b.action},c=function(a,b){return!isNaN(a.index)&&a.startTime===b.startTime&&a.adaptationIndex===b.adaptationIndex},d=function(a,b){return isNaN(a.index)&&isNaN(b.index)&&a.quality===b.quality},e=function(e){var f=!1;return e.some(function(e){if(c(a,e)||d(a,e)||b(a,e))return f=!0}),f};return e(E)}function h(a){var b=a.state instanceof Array?a.state:[a.state],c=[];return b.forEach(function(b){var d=u(b);c=c.concat(t(d,a))}),c}function j(a){E=E.filter(function(b){return isNaN(b.startTime)||b.startTime>=a})}function k(){G.abort(),F=[]}function l(a){switch(a.action){case m.default.ACTION_COMPLETE:E.push(a),v(a,q),A.trigger(i.default.STREAM_COMPLETED,{request:a,fragmentModel:this});break;case m.default.ACTION_DOWNLOAD:v(a,p),F.push(a),n(a);break;default:z(\\\"Unknown request action.\\\")}}function n(a){A.trigger(i.default.FRAGMENT_LOADING_STARTED,{sender:C,request:a}),G.load(a)}function r(a,b,c){for(var d=a.length-1,e=d;e>=0;e--){var f=a[e],g=f.startTime,h=g+f.duration;if(c=void 0!==c?c:f.duration/2,!isNaN(g)&&!isNaN(h)&&b+c>=g&&b-c<h||isNaN(g)&&isNaN(b))return f}return null}function t(a,b){return b.hasOwnProperty(\\\"time\\\")?[r(a,b.time,b.threshold)]:a.filter(function(a){for(var c in b)if(\\\"state\\\"!==c&&b.hasOwnProperty(c)&&a[c]!=b[c])return!1;return!0})}function u(a){var b=void 0;switch(a){case p:b=F;break;case q:b=E;break;default:b=[]}return b}function v(a,b){B.addSchedulingInfo(a.mediaType,new Date,a.type,a.startTime,a.availabilityStartTime,a.duration,a.quality,a.range,b),B.addRequestsQueue(a.mediaType,F,E)}function w(a){a.sender===G&&(F.splice(F.indexOf(a.request),1),a.response&&!a.error&&E.push(a.request),v(a.request,a.error?s:q),A.trigger(i.default.FRAGMENT_LOADING_COMPLETED,{request:a.request,response:a.response,error:a.error,sender:this}))}function x(){A.off(i.default.LOADING_COMPLETED,w,this),G&&(G.reset(),G=null),E=[],F=[]}var y=this.context,z=(0,o.default)(y).getInstance().log,A=(0,g.default)(y).getInstance(),B=a.metricsModel,C=void 0,D=void 0,E=void 0,F=void 0,G=void 0;return C={setLoader:c,setScheduleController:d,getScheduleController:e,getRequests:h,isFragmentLoaded:f,removeExecutedRequestsBeforeTime:j,abortRequests:k,executeRequest:l,reset:x},b(),C}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(9),g=d(f),h=a(13),i=d(h),j=a(10),k=d(j),l=a(163),m=d(l),n=a(8),o=d(n),p=\\\"loading\\\",q=\\\"executed\\\",r=\\\"canceled\\\",s=\\\"failed\\\";e.__dashjs_factory_name=\\\"FragmentModel\\\";var t=k.default.getClassFactory(e);t.FRAGMENT_MODEL_LOADING=p,t.FRAGMENT_MODEL_EXECUTED=q,t.FRAGMENT_MODEL_CANCELED=r,t.FRAGMENT_MODEL_FAILED=s,c.default=t,b.exports=c.default},{10:10,13:13,163:163,8:8,9:9}],100:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){return f}function b(a){f=a,a&&d.trigger(i.default.MANIFEST_LOADED,{data:a})}var c=this.context,d=(0,g.default)(c).getInstance(),e=void 0,f=void 0;return e={getValue:a,setValue:b}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(9),g=d(f),h=a(13),i=d(h),j=a(10),k=d(j);e.__dashjs_factory_name=\\\"ManifestModel\\\",c.default=k.default.getSingletonFactory(e),b.exports=c.default},{10:10,13:13,9:9}],101:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function f(){function a(){var a,b;ya=[],xa=!1,wa=!0,Ba=!0,Qa=!1,Sa=!1,Ea={enabled:!0,ttl:l},Fa={enabled:!0,ttl:m},za=k,Aa=void 0,Ca=p,Da=q,Ga=NaN,Ha=t,Ia=u,Ja=v,Ka=w,La=n,Ma=o,Pa=D,Ra=E,a={},e(a,i.HTTPRequest.MPD_TYPE,z),e(a,i.HTTPRequest.XLINK_EXPANSION_TYPE,B),e(a,i.HTTPRequest.MEDIA_SEGMENT_TYPE,x),e(a,i.HTTPRequest.INIT_SEGMENT_TYPE,x),e(a,i.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,x),e(a,i.HTTPRequest.INDEX_SEGMENT_TYPE,x),e(a,i.HTTPRequest.OTHER_TYPE,x),Na=a,b={},e(b,i.HTTPRequest.MPD_TYPE,A),e(b,i.HTTPRequest.XLINK_EXPANSION_TYPE,C),e(b,i.HTTPRequest.MEDIA_SEGMENT_TYPE,y),e(b,i.HTTPRequest.INIT_SEGMENT_TYPE,y),e(b,i.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,y),e(b,i.HTTPRequest.INDEX_SEGMENT_TYPE,y),e(b,i.HTTPRequest.OTHER_TYPE,y),Oa=b}function b(a){Qa=a}function c(){return Qa}function d(a){La=a}function f(){return La}function g(a){Ma=a}function h(){return Ma}function j(a){Ga=a}function F(){return isNaN(Ga)?Sa?s:r:Ga}function G(a){Ha=a}function H(){return Ha}function I(a){Ia=a}function J(){return Ia}function K(a){Ja=a}function L(){return Ja}function M(a){Ka=a}function N(){return Ka}function O(a){Ca=a}function P(){return Ca}function Q(a,b){Ea.enabled=a,void 0===b||isNaN(b)||\\\"number\\\"!=typeof b||(Ea.ttl=b)}function R(){return Ea}function S(a,b){Fa.enabled=a,void 0===b||isNaN(b)||\\\"number\\\"!=typeof b||(Fa.ttl=b)}function T(){return Fa}function U(a){Da=a}function V(){return Da}function W(a){Na[i.HTTPRequest.MEDIA_SEGMENT_TYPE]=a}function X(a,b){Na[a]=b}function Y(){return Na[i.HTTPRequest.MEDIA_SEGMENT_TYPE]}function Z(a){return Na[a]}function $(a){Oa[i.HTTPRequest.MEDIA_SEGMENT_TYPE]=a}function _(a,b){Oa[a]=b}function aa(){return Oa[i.HTTPRequest.MEDIA_SEGMENT_TYPE]}function ba(a){return Oa[a]}function ca(a){Pa=a}function da(){return Pa}function ea(a){Ba=a}function fa(){return Ba}function ga(a){za=a}function ha(a){Aa=a}function ia(){return za}function ja(){return Aa}function ka(a){wa=a}function la(){return wa}function ma(a){xa=a}function na(){return xa}function oa(a){ya=a}function pa(){return ya}function qa(a){Ra=!!a}function ra(){return Ra}function sa(){return Sa}function ta(a){Sa=a}function ua(){}var va=void 0,wa=void 0,xa=void 0,ya=void 0,za=void 0,Aa=void 0,Ba=void 0,Ca=void 0,Da=void 0,Ea=void 0,Fa=void 0,Ga=void 0,Ha=void 0,Ia=void 0,Ja=void 0,Ka=void 0,La=void 0,Ma=void 0,Na=void 0,Oa=void 0,Pa=void 0,Qa=void 0,Ra=void 0,Sa=void 0;return va={setBufferOccupancyABREnabled:b,getBufferOccupancyABREnabled:c,setBandwidthSafetyFactor:d,getBandwidthSafetyFactor:f,setAbandonLoadTimeout:g,getAbandonLoadTimeout:h,setLastBitrateCachingInfo:Q,getLastBitrateCachingInfo:R,setLastMediaSettingsCachingInfo:S,getLastMediaSettingsCachingInfo:T,setStableBufferTime:j,getStableBufferTime:F,setBufferTimeAtTopQuality:G,getBufferTimeAtTopQuality:H,setBufferTimeAtTopQualityLongForm:I,getBufferTimeAtTopQualityLongForm:J,setLongFormContentDurationThreshold:K,getLongFormContentDurationThreshold:L,setRichBufferThreshold:M,getRichBufferThreshold:N,setBufferToKeep:O,getBufferToKeep:P,setBufferPruningInterval:U,getBufferPruningInterval:V,setFragmentRetryAttempts:W,getFragmentRetryAttempts:Y,setRetryAttemptsForType:X,getRetryAttemptsForType:Z,setFragmentRetryInterval:$,getFragmentRetryInterval:aa,setRetryIntervalForType:_,getRetryIntervalForType:ba,setWallclockTimeUpdateInterval:ca,getWallclockTimeUpdateInterval:da,setScheduleWhilePaused:ea,getScheduleWhilePaused:fa,getUseSuggestedPresentationDelay:na,setUseSuggestedPresentationDelay:ma,setLiveDelayFragmentCount:ga,getLiveDelayFragmentCount:ia,getLiveDelay:ja,setLiveDelay:ha,setUseManifestDateHeaderTimeSource:ka,getUseManifestDateHeaderTimeSource:la,setUTCTimingSources:oa,getUTCTimingSources:pa,setXHRWithCredentials:qa,getXHRWithCredentials:ra,setFastSwitchEnabled:ta,getFastSwitchEnabled:sa,reset:ua},a(),va}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var g=a(10),h=d(g),i=a(179),j={scheme:\\\"urn:mpeg:dash:utc:http-xsdate:2014\\\",value:\\\"http://time.akamai.com/?iso\\\"},k=4,l=36e4,m=36e4,n=.9,o=1e4,p=30,q=30,r=12,s=20,t=30,u=60,v=600,w=20,x=3,y=1e3,z=3,A=500,B=1,C=500,D=50,E=!1;f.__dashjs_factory_name=\\\"MediaPlayerModel\\\";var F=h.default.getSingletonFactory(f);F.DEFAULT_UTC_TIMING_SOURCE=j,c.default=F,b.exports=c.default},{10:10,179:179}],102:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){T={}}function b(a){a&&a.adapter&&(S=a.adapter)}function c(){Q.trigger(C.default.METRICS_CHANGED)}function d(a){Q.trigger(C.default.METRIC_CHANGED,{mediaType:a}),c()}function e(a,b,c){Q.trigger(C.default.METRIC_UPDATED,{mediaType:a,metric:b,value:c}),d(a)}function f(a,b,c){Q.trigger(C.default.METRIC_ADDED,{mediaType:a,metric:b,value:c}),d(a)}function h(a){delete T[a],d(a)}function k(){T={},c()}function m(a){return T.hasOwnProperty(a)?T[a]:null}function o(a){var b;return T.hasOwnProperty(a)?b=T[a]:(b=new g.default,T[a]=b),b}function q(a,b,c,d,e,g){var h=new i.default;return h.tcpid=b,h.dest=c,h.topen=d,h.tclose=e,h.tconnect=g,o(a).TcpList.push(h),f(a,S.metricsList.TCP_CONNECTION,h),h}function s(a,b,c,d){var e=new j.HTTPRequestTrace;return e.s=b,e.d=c,e.b=d,a.trace.push(e),a.interval||(a.interval=0),a.interval+=c,e}function v(a,b,c,d,e,g,h,i,k,l,m,n,p,q){var r=new j.HTTPRequest;return e&&e!==d&&(v(a,null,c,d,null,null,h,i,null,null,null,n,null,null),r.actualurl=e),r.tcpid=b,r.type=c,r.url=d,r.range=h,r.trequest=i,r.tresponse=k,r.responsecode=m,r._tfinish=l,r._stream=a,r._mediaduration=n,r._responseHeaders=p,r._serviceLocation=g,q?q.forEach(function(a){s(r,a.s,a.d,a.b)}):(delete r.interval,delete r.trace),o(a).HttpList.push(r),f(a,S.metricsList.HTTP_REQUEST,r),r}function x(a,b,c,d,e){var g=new l.default;return g.t=b,g.mt=c,g.to=d,e?g.lto=e:delete g.lto,o(a).RepSwitchList.push(g),f(a,S.metricsList.TRACK_SWITCH,g),g}function z(a,b,c){var d=new n.default;return d.t=b,d.level=c,o(a).BufferLevel.push(d),f(a,S.metricsList.BUFFER_LEVEL,d),d}function B(a,b,c){var d=new p.default;return d.target=c,d.state=b,o(a).BufferState.push(d),f(a,S.metricsList.BUFFER_STATE,d),d}function D(a,b,c,d){var e=new r.default;return e.time=b,e.range=d,e.manifestInfo=c,o(a).DVRInfo.push(e),f(a,S.metricsList.DVR_INFO,e),e}function E(a,b){var c=new t.default,d=o(a).DroppedFrames;return c.time=b.creationTime,c.droppedFrames=b.droppedVideoFrames,d.length>0&&d[d.length-1]==c?d[d.length-1]:(d.push(c),f(a,S.metricsList.DROPPED_FRAMES,c),c)}function F(a,b,c,d,e,g,h,i,j){var k=new w.default;return k.mediaType=a,k.t=b,k.type=c,k.startTime=d,k.availabilityStartTime=e,k.duration=g,k.quality=h,k.range=i,k.state=j,o(a).SchedulingInfo.push(k),f(a,S.metricsList.SCHEDULING_INFO,k),k}function H(a,b,c){var d=new A.default;d.loadingRequests=b,d.executedRequests=c,o(a).RequestsQueue=d,f(a,S.metricsList.REQUESTS_QUEUE,d)}function I(a,b,c,d,e,g,h,i,j,k){var l=new u.ManifestUpdate,m=o(\\\"stream\\\");return l.mediaType=a,l.type=b,l.requestTime=c,l.fetchTime=d,l.availabilityStartTime=e,l.presentationStartTime=g,l.clientTimeOffset=h,l.currentTime=i,l.buffered=j,l.latency=k,m.ManifestUpdate.push(l),f(a,S.metricsList.MANIFEST_UPDATE,l),l}function J(a,b){if(a){for(var c in b)a[c]=b[c];e(a.mediaType,S.metricsList.MANIFEST_UPDATE,a)}}function K(a,b,c,d,f){if(a){var g=new u.ManifestUpdateStreamInfo;return g.id=b,g.index=c,g.start=d,g.duration=f,a.streamInfo.push(g),e(a.mediaType,S.metricsList.MANIFEST_UPDATE_STREAM_INFO,a),g}return null}function L(a,b,c,d,f,g,h,i){if(a){var j=new u.ManifestUpdateTrackInfo;return j.id=b,j.index=c,j.streamIndex=d,j.mediaType=f,j.startNumber=h,j.fragmentInfoType=i,j.presentationTimeOffset=g,a.trackInfo.push(j),e(a.mediaType,S.metricsList.MANIFEST_UPDATE_TRACK_INFO,a),j}return null}function M(a){var b=\\\"stream\\\";return a.trace&&Array.isArray(a.trace)?a.trace.forEach(function(a){a.hasOwnProperty(\\\"subreplevel\\\")&&!a.subreplevel&&delete a.subreplevel}):delete a.trace,o(b).PlayList.push(a),f(b,S.metricsList.PLAY_LIST,a),a}function N(a){var b=\\\"stream\\\";return o(b).DVBErrors.push(a),f(b,S.metricsList.DVB_ERRORS,a),a}function O(a,b){var c=new G.default;return c._s=b,o(a).BolaState=[c],f(a,\\\"BolaState\\\",c),c}var P=this.context,Q=(0,y.default)(P).getInstance(),R=void 0,S=void 0,T=void 0;return R={metricsChanged:c,metricChanged:d,metricUpdated:e,metricAdded:f,clearCurrentMetricsForType:h,clearAllCurrentMetrics:k,getReadOnlyMetricsFor:m,getMetricsFor:o,addTcpConnection:q,addHttpRequest:v,addRepresentationSwitch:x,addBufferLevel:z,addBufferState:B,addDVRInfo:D,addDroppedFrames:E,addSchedulingInfo:F,addRequestsQueue:H,addManifestUpdate:I,updateManifestUpdateInfo:J,addManifestUpdateStreamInfo:K,addManifestUpdateRepresentationInfo:L,addPlayList:M,addDVBErrors:N,updateBolaState:O,setConfig:b},a(),R}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(168),g=d(f),h=a(185),i=d(h),j=a(179),k=a(182),l=d(k),m=a(175),n=d(m),o=a(176),p=d(o),q=a(177),r=d(q),s=a(178),t=d(s),u=a(180),v=a(184),w=d(v),x=a(9),y=d(x),z=a(183),A=d(z),B=a(13),C=d(B),D=a(10),E=d(D),F=a(174),G=d(F);e.__dashjs_factory_name=\\\"MetricsModel\\\",c.default=E.default.getSingletonFactory(e),b.exports=c.default},{10:10,13:13,168:168,174:174,175:175,176:176,177:177,178:178,179:179,180:180,182:182,183:183,184:184,185:185,9:9}],103:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){h=new g.default,i=[],j=!1}function b(){return h}function c(){return i}function d(){return j}function e(a){function b(a,b,c,d){var e=d[0].split(/[=]/);return d.push({key:e[0],value:e[1]}),d.shift(),d}function c(a,b,c){return b>0&&(l&&0===i.length?i=c[b].split(/[&]/):m&&(e=c[b].split(/[&]/))),c}if(!a)return null;var d,e=[],f=new RegExp(/[?]/),g=new RegExp(/[#]/),k=new RegExp(/^(https:)?\\\\/\\\\//i),l=f.test(a),m=g.test(a);return j=k.test(a),d=a.split(/[?#]/).map(c),i.length>0&&(i=i.reduce(b,null)),e.length>0&&(e=e.reduce(b,null),e.forEach(function(a){h[a.key]=a.value})),a}var f=void 0,h=void 0,i=void 0,j=void 0;return f={initialize:a,parseURI:e,getURIFragmentData:b,getURIQueryData:c,isManifestHTTPS:d}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(173),g=d(f),h=a(10),i=d(h);e.__dashjs_factory_name=\\\"URIQueryAndFragmentModel\\\",c.default=i.default.getSingletonFactory(e),b.exports=c.default},{10:10,173:173}],104:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){v=[]}function b(a){!s||s.readyState<2||(s.playbackRate=a)}function c(a){if(s.currentTime!=a)try{s.currentTime=a}catch(b){0===s.readyState&&b.code===b.INVALID_STATE_ERR&&setTimeout(function(){s.currentTime=a},400)}}function d(){return s}function e(a){s=a,s.preload=\\\"auto\\\"}function f(a){a?s.src=a:(s.removeAttribute(\\\"src\\\"),s.load())}function g(){return s.src}function h(){return u}function i(a){u=a}function j(){return t}function k(a){t=a,t.style.position=\\\"absolute\\\",t.style.display=\\\"flex\\\",t.style.overflow=\\\"hidden\\\",t.style.pointerEvents=\\\"none\\\",t.style.top=0,t.style.left=0}function l(a,b){p(a,b)}function m(){return v.length>0}function n(a){var c=void 0;null===a||s.seeking||v.indexOf(a)!==-1||(v.push(a),1===v.length&&(c=document.createEvent(\\\"Event\\\"),c.initEvent(\\\"waiting\\\",!0,!1),w=s.playbackRate,b(0),s.dispatchEvent(c)))}function o(a){var c=v.indexOf(a),d=void 0;null!==a&&(c!==-1&&v.splice(c,1),m()===!1&&0===s.playbackRate&&(d=document.createEvent(\\\"Event\\\"),d.initEvent(\\\"playing\\\",!0,!1),b(w||1),s.dispatchEvent(d)))}function p(a,b){b?n(a):o(a)}function q(){var a=\\\"webkitDroppedFrameCount\\\"in s,b=\\\"getVideoPlaybackQuality\\\"in s,c=null;return b?c=s.getVideoPlaybackQuality():a&&(c={droppedVideoFrames:s.webkitDroppedFrameCount,creationTime:new Date}),c}var r=void 0,s=void 0,t=void 0,u=void 0,v=void 0,w=void 0;return r={initialize:a,setCurrentTime:c,setStallState:l,getElement:d,setElement:e,setSource:f,getSource:g,getVideoContainer:h,setVideoContainer:i,getTTMLRenderingDiv:j,setTTMLRenderingDiv:k,getPlaybackQuality:q}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f);e.__dashjs_factory_name=\\\"VideoModel\\\",c.default=g.default.getSingletonFactory(e),b.exports=c.default},{10:10}],105:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,\\\"value\\\"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=a(1),h=d(g),i=function(){function a(){e(this,a)}return f(a,null,[{key:\\\"findCencContentProtection\\\",value:function(a){for(var b=null,c=0;c<a.length;++c){var d=a[c];\\\"urn:mpeg:dash:mp4protection:2011\\\"===d.schemeIdUri.toLowerCase()&&\\\"cenc\\\"===d.value.toLowerCase()&&(b=d)}return b}},{key:\\\"getPSSHData\\\",value:function(a){var b=8,c=new DataView(a),d=c.getUint8(b);return b+=20,d>0&&(b+=4+16*c.getUint32(b)),b+=4,a.slice(b)}},{key:\\\"getPSSHForKeySystem\\\",value:function(b,c){var d=a.parsePSSHList(c);return d.hasOwnProperty(b.uuid.toLowerCase())?d[b.uuid.toLowerCase()]:null}},{key:\\\"parseInitDataFromContentProtection\\\",value:function(a){return\\\"pssh\\\"in a?h.default.decodeArray(a.pssh.__text).buffer:null}},{key:\\\"parsePSSHList\\\",value:function(a){if(null===a)return[];for(var b=new DataView(a),c=!1,d={},e=0;!c;){var f,g,h,i,j,k=e;if(e>=b.buffer.byteLength)break;if(f=b.getUint32(e),g=e+f,e+=4,1886614376===b.getUint32(e))if(e+=4,h=b.getUint8(e),0===h||1===h){e++,e+=3,i=\\\"\\\";var l,m;for(l=0;l<4;l++)m=b.getUint8(e+l).toString(16),i+=1===m.length?\\\"0\\\"+m:m;for(e+=4,i+=\\\"-\\\",l=0;l<2;l++)m=b.getUint8(e+l).toString(16),i+=1===m.length?\\\"0\\\"+m:m;for(e+=2,i+=\\\"-\\\",l=0;l<2;l++)m=b.getUint8(e+l).toString(16),i+=1===m.length?\\\"0\\\"+m:m;for(e+=2,i+=\\\"-\\\",l=0;l<2;l++)m=b.getUint8(e+l).toString(16),i+=1===m.length?\\\"0\\\"+m:m;for(e+=2,i+=\\\"-\\\",l=0;l<6;l++)m=b.getUint8(e+l).toString(16),i+=1===m.length?\\\"0\\\"+m:m;e+=6,i=i.toLowerCase(),j=b.getUint32(e),e+=4,d[i]=b.buffer.slice(k,g),e=g}else e=g;else e=g}return d}}]),a}();c.default=i,b.exports=c.default},{1:1}],106:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a){var c=null,d=(0,i.default)(e).getInstance();d.setConfig({log:a.log}),d.initialize();var f=b(a);return!c&&f&&(c=(0,g.default)(e).create({protectionModel:f,protectionKeyController:d,adapter:a.adapter,eventBus:a.eventBus,log:a.log}),a.capabilities.setEncryptedMediaSupported(!0)),c}function b(a){var b=a.log,d=a.eventBus,f=a.videoModel.getElement();return void 0!==f.onencrypted&&void 0!==f.mediaKeys&&void 0!==navigator.requestMediaKeySystemAccess&&\\\"function\\\"==typeof navigator.requestMediaKeySystemAccess?(b(\\\"EME detected on this user agent! (ProtectionModel_21Jan2015)\\\"),(0,m.default)(e).create({log:b,eventBus:d})):c(f,u)?(b(\\\"EME detected on this user agent! (ProtectionModel_3Feb2014)\\\"),(0,o.default)(e).create({log:b,eventBus:d,api:c(f,u)})):c(f,t)?(b(\\\"EME detected on this user agent! (ProtectionModel_01b)\\\"),(0,q.default)(e).create({log:b,eventBus:d,api:c(f,t)})):(b(\\\"No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!\\\"),null)}function c(a,b){for(var c=0;c<b.length;c++){var d=b[c];if(\\\"function\\\"==typeof a[d[Object.keys(d)[0]]])return d}return null}var d=void 0,e=this.context;return d={createProtectionSystem:a}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(108),g=d(f),h=a(109),i=d(h),j=a(107),k=d(j),l=a(114),m=d(l),n=a(115),o=d(n),p=a(113),q=d(p),r=a(10),s=d(r),t=[{generateKeyRequest:\\\"generateKeyRequest\\\",addKey:\\\"addKey\\\",cancelKeyRequest:\\\"cancelKeyRequest\\\",needkey:\\\"needkey\\\",keyerror:\\\"keyerror\\\",keyadded:\\\"keyadded\\\",keymessage:\\\"keymessage\\\"},{generateKeyRequest:\\\"webkitGenerateKeyRequest\\\",addKey:\\\"webkitAddKey\\\",cancelKeyRequest:\\\"webkitCancelKeyRequest\\\",needkey:\\\"webkitneedkey\\\",keyerror:\\\"webkitkeyerror\\\",keyadded:\\\"webkitkeyadded\\\",keymessage:\\\"webkitkeymessage\\\"}],u=[{setMediaKeys:\\\"setMediaKeys\\\",MediaKeys:\\\"MediaKeys\\\",release:\\\"close\\\",needkey:\\\"needkey\\\",error:\\\"keyerror\\\",message:\\\"keymessage\\\",ready:\\\"keyadded\\\",close:\\\"keyclose\\\"},{setMediaKeys:\\\"msSetMediaKeys\\\",MediaKeys:\\\"MSMediaKeys\\\",release:\\\"close\\\",needkey:\\\"msneedkey\\\",error:\\\"mskeyerror\\\",message:\\\"mskeymessage\\\",ready:\\\"mskeyadded\\\",close:\\\"mskeyclose\\\"}];e.__dashjs_factory_name=\\\"Protection\\\";var v=s.default.getClassFactory(e);v.events=k.default,c.default=v,b.exports=c.default},{10:10,107:107,108:108,109:109,113:113,114:114,115:115}],107:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}function f(a,b){if(\\\"function\\\"!=typeof b&&null!==b)throw new TypeError(\\\"Super expression must either be null or a function, not \\\"+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var g=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if(\\\"value\\\"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}},h=a(14),i=d(h),j=function(a){function b(){e(this,b),g(Object.getPrototypeOf(b.prototype),\\\"constructor\\\",this).call(this),this.INTERNAL_KEY_MESSAGE=\\\"internalKeyMessage\\\",this.INTERNAL_KEY_SYSTEM_SELECTED=\\\"internalKeySystemSelected\\\",this.KEY_ADDED=\\\"public_keyAdded\\\",this.KEY_ERROR=\\\"public_keyError\\\",this.KEY_MESSAGE=\\\"public_keyMessage\\\",this.KEY_SESSION_CLOSED=\\\"public_keySessionClosed\\\",this.KEY_SESSION_CREATED=\\\"public_keySessionCreated\\\",this.KEY_SESSION_REMOVED=\\\"public_keySessionRemoved\\\",this.KEY_STATUSES_CHANGED=\\\"public_keyStatusesChanged\\\",this.KEY_SYSTEM_ACCESS_COMPLETE=\\\"keySystemAccessComplete\\\",this.KEY_SYSTEM_SELECTED=\\\"public_keySystemSelected\\\",this.LICENSE_REQUEST_COMPLETE=\\\"public_licenseRequestComplete\\\",this.NEED_KEY=\\\"needkey\\\",this.PROTECTION_CREATED=\\\"public_protectioncreated\\\",this.PROTECTION_DESTROYED=\\\"public_protectiondestroyed\\\",this.SERVER_CERTIFICATE_UPDATED=\\\"serverCertificateUpdated\\\",this.TEARDOWN_COMPLETE=\\\"protectionTeardownComplete\\\",this.VIDEO_ELEMENT_SELECTED=\\\"videoElementSelected\\\"}return f(b,a),b}(i.default),k=new j;c.default=k,b.exports=c.default},{14:14}],108:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){D=x.getKeySystems(),E=[],I=!1,J=\\\"temporary\\\",K=\\\"\\\",i.default.extend(q.default.events)}function c(a,b,c){if(!I){var d;b||c||(d=z.getStreamsInfo(a)[0]),F=b||(d?z.getMediaInfoForType(a,d,\\\"audio\\\"):null),G=c||(d?z.getMediaInfoForType(a,d,\\\"video\\\"):null);var e=G?G:F,f=x.getSupportedKeySystemsFromContentProtection(e.contentProtection);f&&f.length>0&&t(f,!0),I=!0}}function d(a){var b=g.default.getPSSHForKeySystem(L,a);if(b){for(var c=y.getAllInitData(),d=0;d<c.length;d++)if(x.initDataEquals(b,c[d]))return void B(\\\"DRM: Ignoring initData because we have already seen it!\\\");try{y.createKeySession(b,J)}catch(e){A.trigger(i.default.KEY_SESSION_CREATED,{data:null,error:\\\"Error creating key session! \\\"+e.message})}}else A.trigger(i.default.KEY_SESSION_CREATED,{data:null,error:\\\"Selected key system is \\\"+L.systemString+\\\".  needkey/encrypted event contains no initData corresponding to that key system!\\\"})}function e(a){y.loadKeySession(a)}function f(a){y.removeKeySession(a)}function h(a){y.closeKeySession(a)}function j(a){y.setServerCertificate(a)}function l(a){a?(y.setMediaElement(a),A.on(i.default.NEED_KEY,w,this),A.on(i.default.INTERNAL_KEY_MESSAGE,v,this)):null===a&&(y.setMediaElement(a),A.off(i.default.NEED_KEY,w,this),A.off(i.default.INTERNAL_KEY_MESSAGE,v,this))}function n(a){J=a}function o(a){K=a}function p(a){H=a}function r(){l(null),L=void 0,y&&(y.reset(),y=null)}function s(a){var b=null,c=a.systemString;return H&&(b=c in H?H[c]:null),b}function t(a,b){var c=this,e=[],f=[];G&&f.push(new k.default(G.codec,K)),F&&e.push(new k.default(F.codec,K));var g,h=new m.default(e,f,\\\"optional\\\",\\\"temporary\\\"===J?\\\"optional\\\":\\\"required\\\",[J]),j=[];if(L){for(g=0;g<a.length;g++)if(L===a[g].ks){var l=function(){j.push({ks:a[g].ks,configs:[h]});var e=function e(f){A.off(i.default.KEY_SYSTEM_ACCESS_COMPLETE,e,c),f.error?b||A.trigger(i.default.KEY_SYSTEM_SELECTED,{error:\\\"DRM: KeySystem Access Denied! -- \\\"+f.error}):(B(\\\"DRM: KeySystem Access Granted\\\"),A.trigger(i.default.KEY_SYSTEM_SELECTED,{data:f.data}),d(a[g].initData))};return A.on(i.default.KEY_SYSTEM_ACCESS_COMPLETE,e,c),y.requestKeySystemAccess(j),\\\"break\\\"}();if(\\\"break\\\"===l)break}}else if(void 0===L){L=null,E.push(a);for(var n=0;n<a.length;n++)j.push({ks:a[n].ks,configs:[h]});var o,p=function a(d){A.off(i.default.KEY_SYSTEM_ACCESS_COMPLETE,a,c),d.error?(L=void 0,A.off(i.default.INTERNAL_KEY_SYSTEM_SELECTED,q,c),b||A.trigger(i.default.KEY_SYSTEM_SELECTED,{data:null,error:\\\"DRM: KeySystem Access Denied! -- \\\"+d.error})):(o=d.data,B(\\\"DRM: KeySystem Access Granted (\\\"+o.keySystem.systemString+\\\")!  Selecting key system...\\\"),y.selectKeySystem(o))},q=function a(e){if(A.off(i.default.INTERNAL_KEY_SYSTEM_SELECTED,a,c),A.off(i.default.KEY_SYSTEM_ACCESS_COMPLETE,p,c),e.error)L=void 0,b||A.trigger(i.default.KEY_SYSTEM_SELECTED,{data:null,error:\\\"DRM: Error selecting key system! -- \\\"+e.error});else{L=y.getKeySystem(),A.trigger(i.default.KEY_SYSTEM_SELECTED,{data:o});for(var f=0;f<E.length;f++)for(g=0;g<E[f].length;g++)if(L===E[f][g].ks){d(E[f][g].initData);break}}};A.on(i.default.INTERNAL_KEY_SYSTEM_SELECTED,q,c),A.on(i.default.KEY_SYSTEM_ACCESS_COMPLETE,p,c),y.requestKeySystemAccess(j)}else E.push(a)}function u(a,b){A.trigger(i.default.LICENSE_REQUEST_COMPLETE,{data:a,error:b})}function v(a){if(B(\\\"DRM: onKeyMessage\\\"),a.error)return void B(a.error);var b=a.data;A.trigger(i.default.KEY_MESSAGE,{data:b});var c=b.messageType?b.messageType:\\\"license-request\\\",d=b.message,e=b.sessionToken,f=s(L),h=L.systemString,j=x.getLicenseServer(L,f,c),k={sessionToken:e,messageType:c};if(!j)return B(\\\"DRM: License server request not required for this message (type = \\\"+a.data.messageType+\\\").  Session ID = \\\"+e.getSessionID()),void u(k);if(x.isClearKey(L)){var l=x.processClearKeyLicenseRequest(f,d);if(l)return B(\\\"DRM: ClearKey license request handled by application!\\\"),u(k),void y.updateKeySession(e,l)}var m=new XMLHttpRequest,n=null;if(f)if(f.serverURL){var o=f.serverURL;\\\"string\\\"==typeof o&&\\\"\\\"!==o?n=o:\\\"object\\\"==typeof o&&o.hasOwnProperty(c)&&(n=o[c])}else f.laURL&&\\\"\\\"!==f.laURL&&(n=f.laURL);else n=L.getLicenseServerURLFromInitData(g.default.getPSSHData(e.initData)),n||(n=a.data.laURL);if(n=j.getServerURLFromMessage(n,d,c),!n)return void u(k,\\\"DRM: No license server URL specified!\\\");m.open(j.getHTTPMethod(c),n,!0),m.responseType=j.getResponseType(h,c),m.onload=function(){200==this.status?(u(k),y.updateKeySession(e,j.getLicenseMessage(this.response,h,c))):u(k,\\\"DRM: \\\"+h+' update, XHR status is \\\"'+this.statusText+'\\\" ('+this.status+\\\"), expected to be 200. readyState is \\\"+this.readyState+\\\".  Response is \\\"+(this.response?j.getErrorResponse(this.response,h,c):\\\"NONE\\\"))},m.onabort=function(){u(k,\\\"DRM: \\\"+h+' update, XHR aborted. status is \\\"'+this.statusText+'\\\" ('+this.status+\\\"), readyState is \\\"+this.readyState)},m.onerror=function(){u(k,\\\"DRM: \\\"+h+' update, XHR error. status is \\\"'+this.statusText+'\\\" ('+this.status+\\\"), readyState is \\\"+this.readyState)};var p=function(a){var b;if(a)for(b in a)\\\"authorization\\\"===b.toLowerCase()&&(m.withCredentials=!0),m.setRequestHeader(b,a[b])};f&&p(f.httpRequestHeaders),p(L.getRequestHeadersFromMessage(d)),f&&f.withCredentials&&(m.withCredentials=!0),m.send(L.getLicenseRequestFromMessage(d))}function w(a){if(B(\\\"DRM: onNeedKey\\\"),\\\"cenc\\\"!==a.key.initDataType)return void B(\\\"DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: \\\"+a.key.initDataType);var b=a.key.initData;ArrayBuffer.isView(b)&&(b=b.buffer),B(\\\"DRM: initData:\\\",String.fromCharCode.apply(null,new Uint8Array(b)));var c=x.getSupportedKeySystems(b,H);return 0===c.length?void B(\\\"DRM: Received needkey event with initData, but we don't support any of the key systems!\\\"):void t(c,!1)}var x=a.protectionKeyController,y=a.protectionModel,z=a.adapter,A=a.eventBus,B=a.log,C=void 0,D=void 0,E=void 0,F=void 0,G=void 0,H=void 0,I=void 0,J=void 0,K=void 0,L=void 0;return C={initialize:c,createKeySession:d,loadKeySession:e,removeKeySession:f,closeKeySession:h,setServerCertificate:j,setMediaElement:l,setSessionType:n,setRobustnessLevel:o,setProtectionData:p,reset:r},b(),C}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(105),g=d(f),h=a(13),i=d(h),j=a(126),k=d(j),l=a(125),m=d(l),n=a(10),o=d(n),p=a(106),q=d(p);e.__dashjs_factory_name=\\\"ProtectionController\\\",c.default=o.default.getClassFactory(e),b.exports=c.default},{10:10,105:105,106:106,125:125,126:126,13:13}],109:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a){a&&a.log&&(t=a.log)}function b(){v=[];var a;a=(0,m.default)(p).getInstance(),v.push(a),a=(0,k.default)(p).getInstance(),v.push(a),a=(0,i.default)(p).getInstance(),v.push(a),w=a}function c(){return v}function d(a){for(var b=0;b<v.length;b++)if(v[b].systemString===a)return v[b];return null}function e(a){return a===w}function f(a,b){if(a.byteLength===b.byteLength){for(var c=new Uint8Array(a),d=new Uint8Array(b),e=0;e<c.length;e++)if(c[e]!==d[e])return!1;return!0}return!1}function h(a){\\nvar b,c,d,e,f=[];if(a)for(d=0;d<v.length;++d)for(c=v[d],e=0;e<a.length;++e)if(b=a[e],b.schemeIdUri.toLowerCase()===c.schemeIdURI){var g=c.getInitData(b);g&&f.push({ks:v[d],initData:g})}return f}function j(a,b){var c,d=[],e=g.default.parsePSSHList(a);for(c=0;c<v.length;++c){var f=v[c].systemString,h=!b||f in b;v[c].uuid in e&&h&&d.push({ks:v[c],initData:e[v[c].uuid]})}return d}function l(a,b,c){if(\\\"license-release\\\"===c||\\\"individualization-request\\\"===c)return null;var d=null;return b&&b.hasOwnProperty(\\\"drmtoday\\\")?d=(0,o.default)(p).getInstance():\\\"com.widevine.alpha\\\"===a.systemString?d=(0,s.default)(p).getInstance():\\\"com.microsoft.playready\\\"===a.systemString?d=(0,q.default)(p).getInstance():\\\"org.w3.clearkey\\\"===a.systemString&&(d=(0,u.default)(p).getInstance()),d}function n(a,b){try{return w.getClearKeysFromProtectionData(a,b)}catch(c){return t(\\\"Failed to retrieve clearkeys from ProtectionData\\\"),null}}var p=this.context,r=void 0,t=void 0,v=void 0,w=void 0;return r={initialize:b,isClearKey:e,initDataEquals:f,getKeySystems:c,getKeySystemBySystemString:d,getSupportedKeySystemsFromContentProtection:h,getSupportedKeySystems:j,getLicenseServer:l,processClearKeyLicenseRequest:n,setConfig:a}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(105),g=d(f),h=a(110),i=d(h),j=a(112),k=d(j),l=a(111),m=d(l),n=a(117),o=d(n),p=a(118),q=d(p),r=a(119),s=d(r),t=a(116),u=d(t),v=a(10),w=d(v);e.__dashjs_factory_name=\\\"ProtectionKeyController\\\",c.default=w.default.getSingletonFactory(e),b.exports=c.default},{10:10,105:105,110:110,111:111,112:112,116:116,117:117,118:118,119:119}],110:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a,b){var c=null;if(a){for(var d=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(b))),e=[],f=0;f<d.kids.length;f++){var h=d.kids[f],j=a.clearkeys.hasOwnProperty(h)?a.clearkeys[h]:null;if(!j)throw new Error(\\\"DRM: ClearKey keyID (\\\"+h+\\\") is not known!\\\");e.push(new g.default(h,j))}c=new i.default(e)}return c}function b(a){return k.default.parseInitDataFromContentProtection(a)}function c(){return null}function d(a){return new Uint8Array(a)}function e(){return null}var f=void 0;return f={uuid:n,schemeIdURI:p,systemString:o,getInitData:b,getRequestHeadersFromMessage:c,getLicenseRequestFromMessage:d,getLicenseServerURLFromInitData:e,getClearKeysFromProtectionData:a}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(123),g=d(f),h=a(120),i=d(h),j=a(105),k=d(j),l=a(10),m=d(l),n=\\\"1077efec-c0b2-4d02-ace3-3c1e52e2fb4b\\\",o=\\\"org.w3.clearkey\\\",p=\\\"urn:uuid:\\\"+n;e.__dashjs_factory_name=\\\"KeySystemClearKey\\\",c.default=m.default.getSingletonFactory(e),b.exports=c.default},{10:10,105:105,120:120,123:123}],111:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a){var b,c,d={},e=new DOMParser,f=\\\"utf16\\\"===h?new Uint16Array(a):new Uint8Array(a);b=String.fromCharCode.apply(null,f),c=e.parseFromString(b,\\\"application/xml\\\");for(var g=c.getElementsByTagName(\\\"name\\\"),i=c.getElementsByTagName(\\\"value\\\"),j=0;j<g.length;j++)d[g[j].childNodes[0].nodeValue]=i[j].childNodes[0].nodeValue;return d.hasOwnProperty(\\\"Content\\\")&&(d[\\\"Content-Type\\\"]=d.Content,delete d.Content),d}function b(a){var b,c,d=null,e=new DOMParser,f=\\\"utf16\\\"===h?new Uint16Array(a):new Uint8Array(a);if(b=String.fromCharCode.apply(null,f),c=e.parseFromString(b,\\\"application/xml\\\"),c.getElementsByTagName(\\\"Challenge\\\")[0]){var g=c.getElementsByTagName(\\\"Challenge\\\")[0].childNodes[0].nodeValue;g&&(d=m.default.decode(g))}return d}function c(a){if(a)for(var b=new DataView(a),c=b.getUint16(4,!0),d=6,e=new DOMParser,f=0;f<c;f++){var g=b.getUint16(d,!0);d+=2;var h=b.getUint16(d,!0);if(d+=2,1===g){var i=a.slice(d,d+h),j=String.fromCharCode.apply(null,new Uint16Array(i)),k=e.parseFromString(j,\\\"application/xml\\\");if(k.getElementsByTagName(\\\"LA_URL\\\")[0]){var l=k.getElementsByTagName(\\\"LA_URL\\\")[0].childNodes[0].nodeValue;if(l)return l}if(k.getElementsByTagName(\\\"LUI_URL\\\")[0]){var m=k.getElementsByTagName(\\\"LUI_URL\\\")[0].childNodes[0].nodeValue;if(m)return m}}else d+=h}return null}function d(a){var b,c,d,e,f,h=new Uint8Array([112,115,115,104,0,0,0,0]),i=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),j=0,k=null;if(\\\"pssh\\\"in a)return g.default.parseInitDataFromContentProtection(a);if(\\\"pro\\\"in a)k=m.default.decodeArray(a.pro.__text);else{if(!(\\\"prheader\\\"in a))return null;k=m.default.decodeArray(a.prheader.__text)}return b=k.length,c=4+h.length+i.length+4+b,d=new ArrayBuffer(c),e=new Uint8Array(d),f=new DataView(d),f.setUint32(j,c),j+=4,e.set(h,j),j+=h.length,e.set(i,j),j+=i.length,f.setUint32(j,b),j+=4,e.set(k,j),j+=b,e.buffer}function e(a){if(\\\"utf8\\\"!==a&&\\\"utf16\\\"!==a)throw new i.default(\\\"Illegal PlayReady message format! -- \\\"+a);h=a}var f=void 0,h=\\\"utf16\\\";return f={uuid:n,schemeIdURI:p,systemString:o,getInitData:d,getRequestHeadersFromMessage:a,getLicenseRequestFromMessage:b,getLicenseServerURLFromInitData:c,setPlayReadyMessageFormat:e}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(105),g=d(f),h=a(162),i=d(h),j=a(10),k=d(j),l=a(1),m=d(l),n=\\\"9a04f079-9840-4286-ab92-e65be0885f95\\\",o=\\\"com.microsoft.playready\\\",p=\\\"urn:uuid:\\\"+n;e.__dashjs_factory_name=\\\"KeySystemPlayReady\\\",c.default=k.default.getSingletonFactory(e),b.exports=c.default},{1:1,10:10,105:105,162:162}],112:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a){return g.default.parseInitDataFromContentProtection(a)}function b(){return null}function c(a){return new Uint8Array(a)}function d(){return null}var e=void 0;return e={uuid:j,schemeIdURI:l,systemString:k,getInitData:a,getRequestHeadersFromMessage:b,getLicenseRequestFromMessage:c,getLicenseServerURLFromInitData:d}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(105),g=d(f),h=a(10),i=d(h),j=\\\"edef8ba9-79d6-4ace-a3c8-27dcd51d21ed\\\",k=\\\"com.widevine.alpha\\\",l=\\\"urn:uuid:\\\"+j;e.__dashjs_factory_name=\\\"KeySystemWidevine\\\",c.default=i.default.getSingletonFactory(e),b.exports=c.default},{10:10,105:105}],113:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){E=null,F=null,I=[],J=[],G=(0,g.default)(z).getInstance(),H=(0,u.default)(z).getInstance(),L=w()}function c(){E&&y();for(var a=0;a<J.length;a++)p(J[a]);A.trigger(s.default.TEARDOWN_COMPLETE)}function d(){return F}function e(){for(var a=[],b=0;b<I.length;b++)a.push(I[b].initData);for(var b=0;b<J.length;b++)a.push(J[b].initData);return a}function f(a){var b=E;b||(b=document.createElement(\\\"video\\\"));for(var c=!1,d=0;d<a.length;d++)for(var e=a[d].ks.systemString,f=a[d].configs,g=null,h=null,i=0;i<f.length;i++){var j=f[i].videoCapabilities;if(j&&0!==j.length){h=[];for(var k=0;k<j.length;k++)\\\"\\\"!==b.canPlayType(j[k].contentType,e)&&h.push(j[k])}if(!(!g&&!h||g&&0===g.length||h&&0===h.length)){c=!0;var l=new o.default(g,h),m=G.getKeySystemBySystemString(e);A.trigger(s.default.KEY_SYSTEM_ACCESS_COMPLETE,{data:new q.default(m,l)});break}}c||A.trigger(s.default.KEY_SYSTEM_ACCESS_COMPLETE,{error:\\\"Key system access denied! -- No valid audio/video content configurations detected!\\\"})}function h(a){F=a.keySystem,A.trigger(s.default.INTERNAL_KEY_SYSTEM_SELECTED)}function j(a){E!==a&&(E&&y(),E=a,E&&(E.addEventListener(C.keyerror,L),E.addEventListener(C.needkey,L),E.addEventListener(C.keymessage,L),E.addEventListener(C.keyadded,L),A.trigger(s.default.VIDEO_ELEMENT_SELECTED)))}function l(a){if(!F)throw new Error(\\\"Can not create sessions until you have selected a key system\\\");if(K||0===J.length){var b={sessionID:null,initData:a,getSessionID:function(){return this.sessionID},getExpirationTime:function(){return NaN},getSessionType:function(){return\\\"temporary\\\"}};return I.push(b),E[C.generateKeyRequest](F.systemString,new Uint8Array(a)),b}throw new Error(\\\"Multiple sessions not allowed!\\\")}function n(a,b){var c=a.sessionID;if(G.isClearKey(F))for(var d=0;d<b.keyPairs.length;d++)E[C.addKey](F.systemString,b.keyPairs[d].key,b.keyPairs[d].keyID,c);else E[C.addKey](F.systemString,new Uint8Array(b),a.initData,c)}function p(a){E[C.cancelKeyRequest](F.systemString,a.sessionID)}function r(){}function t(){}function v(){}function w(){return{handleEvent:function(a){var b=null;switch(a.type){case C.needkey:var c=ArrayBuffer.isView(a.initData)?a.initData.buffer:a.initData;A.trigger(s.default.NEED_KEY,{key:new i.default(c,\\\"cenc\\\")});break;case C.keyerror:if(b=x(J,a.sessionId),b||(b=x(I,a.sessionId)),b){var d=\\\"\\\";switch(a.errorCode.code){case 1:d+=\\\"MEDIA_KEYERR_UNKNOWN - An unspecified error occurred. This value is used for errors that don't match any of the other codes.\\\";break;case 2:d+=\\\"MEDIA_KEYERR_CLIENT - The Key System could not be installed or updated.\\\";break;case 3:d+=\\\"MEDIA_KEYERR_SERVICE - The message passed into update indicated an error from the license service.\\\";break;case 4:d+=\\\"MEDIA_KEYERR_OUTPUT - There is no available output device with the required characteristics for the content protection system.\\\";break;case 5:d+=\\\"MEDIA_KEYERR_HARDWARECHANGE - A hardware configuration change caused a content protection error.\\\";break;case 6:d+=\\\"MEDIA_KEYERR_DOMAIN - An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain.\\\"}d+=\\\"  System Code = \\\"+a.systemCode,A.trigger(s.default.KEY_ERROR,{data:new k.default(b,d)})}else B(\\\"No session token found for key error\\\");break;case C.keyadded:b=x(J,a.sessionId),b||(b=x(I,a.sessionId)),b?(B(\\\"DRM: Key added.\\\"),A.trigger(s.default.KEY_ADDED,{data:b})):B(\\\"No session token found for key added\\\");break;case C.keymessage:if(K=null!==a.sessionId&&void 0!==a.sessionId,K?(b=x(J,a.sessionId),!b&&I.length>0&&(b=I.shift(),J.push(b),b.sessionID=a.sessionId)):I.length>0&&(b=I.shift(),J.push(b),0!==I.length&&H.mediaKeyMessageError(\\\"Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!\\\")),b){var e=ArrayBuffer.isView(a.message)?a.message.buffer:a.message;b.keyMessage=e,A.trigger(s.default.INTERNAL_KEY_MESSAGE,{data:new m.default(b,e,a.defaultURL)})}else B(\\\"No session token found for key message\\\")}}}}function x(a,b){if(b&&a){for(var c=a.length,d=0;d<c;d++)if(a[d].sessionID==b)return a[d];return null}return null}function y(){E.removeEventListener(C.keyerror,L),E.removeEventListener(C.needkey,L),E.removeEventListener(C.keymessage,L),E.removeEventListener(C.keyadded,L)}var z=this.context,A=a.eventBus,B=a.log,C=a.api,D=void 0,E=void 0,F=void 0,G=void 0,H=void 0,I=void 0,J=void 0,K=void 0,L=void 0;return D={getAllInitData:e,requestKeySystemAccess:f,getKeySystem:d,selectKeySystem:h,setMediaElement:j,createKeySession:l,updateKeySession:n,closeKeySession:p,setServerCertificate:r,loadKeySession:t,removeKeySession:v,reset:c},b(),D}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(109),g=d(f),h=a(127),i=d(h),j=a(121),k=d(j),l=a(122),m=d(l),n=a(125),o=d(n),p=a(124),q=d(p),r=a(13),s=d(r),t=a(151),u=d(t),v=a(10),w=d(v);e.__dashjs_factory_name=\\\"ProtectionModel_01b\\\",c.default=w.default.getClassFactory(e),b.exports=c.default},{10:10,109:109,121:121,122:122,124:124,125:125,127:127,13:13,151:151}],114:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){A=null,B=null,C=null,D=[],F=(0,g.default)(G).getInstance(),E=w()}function c(){var a,b=D.length;if(0!==b)for(var c=function(a){x(a),0===D.length&&(B?(B.removeEventListener(\\\"encrypted\\\",E),B.setMediaKeys(null).then(function(){H.trigger(q.default.TEARDOWN_COMPLETE)})):H.trigger(q.default.TEARDOWN_COMPLETE))},d=0;d<b;d++)a=D[d],function(b){a.session.closed.then(function(){c(b)}),v(a).catch(function(){c(b)})}(a);else H.trigger(q.default.TEARDOWN_COMPLETE)}function d(){return A}function e(){for(var a=[],b=0;b<D.length;b++)a.push(D[b].initData);return a}function f(a){u(a,0)}function h(a){a.mksa.createMediaKeys().then(function(b){A=a.keySystem,C=b,B&&B.setMediaKeys(C),H.trigger(q.default.INTERNAL_KEY_SYSTEM_SELECTED)}).catch(function(){H.trigger(q.default.INTERNAL_KEY_SYSTEM_SELECTED,{error:\\\"Error selecting keys system (\\\"+a.keySystem.systemString+\\\")! Could not create MediaKeys -- TODO\\\"})})}function j(a){B!==a&&(B&&(B.removeEventListener(\\\"encrypted\\\",E),B.setMediaKeys(null)),B=a,B&&(B.addEventListener(\\\"encrypted\\\",E),C&&B.setMediaKeys(C)))}function l(a){if(!A||!C)throw new Error(\\\"Can not set server certificate until you have selected a key system\\\");C.setServerCertificate(a).then(function(){I(\\\"DRM: License server certificate successfully updated.\\\"),H.trigger(q.default.SERVER_CERTIFICATE_UPDATED)}).catch(function(a){H.trigger(q.default.SERVER_CERTIFICATE_UPDATED,{error:\\\"Error updating server certificate -- \\\"+a.name})})}function n(a,b){if(!A||!C)throw new Error(\\\"Can not create sessions until you have selected a key system\\\");var c=C.createSession(b),d=y(c,a,b);c.generateRequest(\\\"cenc\\\",a).then(function(){I(\\\"DRM: Session created.  SessionID = \\\"+d.getSessionID()),H.trigger(q.default.KEY_SESSION_CREATED,{data:d})}).catch(function(a){x(d),H.trigger(q.default.KEY_SESSION_CREATED,{data:null,error:\\\"Error generating key request -- \\\"+a.name})})}function p(a,b){var c=a.session;F.isClearKey(A)&&(b=b.toJWK()),c.update(b).catch(function(b){H.trigger(q.default.KEY_ERROR,{data:new k.default(a,\\\"Error sending update() message! \\\"+b.name)})})}function r(a){if(!A||!C)throw new Error(\\\"Can not load sessions until you have selected a key system\\\");var b=C.createSession();b.load(a).then(function(c){if(c){var d=y(b);I(\\\"DRM: Session created.  SessionID = \\\"+d.getSessionID()),H.trigger(q.default.KEY_SESSION_CREATED,{data:d})}else H.trigger(q.default.KEY_SESSION_CREATED,{data:null,error:\\\"Could not load session! Invalid Session ID (\\\"+a+\\\")\\\"})}).catch(function(b){H.trigger(q.default.KEY_SESSION_CREATED,{data:null,error:\\\"Could not load session (\\\"+a+\\\")! \\\"+b.name})})}function s(a){var b=a.session;b.remove().then(function(){I(\\\"DRM: Session removed.  SessionID = \\\"+a.getSessionID()),H.trigger(q.default.KEY_SESSION_REMOVED,{data:a.getSessionID()})},function(b){H.trigger(q.default.KEY_SESSION_REMOVED,{data:null,error:\\\"Error removing session (\\\"+a.getSessionID()+\\\"). \\\"+b.name})})}function t(a){v(a).catch(function(b){x(a),H.trigger(q.default.KEY_SESSION_CLOSED,{data:null,error:\\\"Error closing session (\\\"+a.getSessionID()+\\\") \\\"+b.name})})}function u(a,b){!function(b){var c=a[b].ks,d=a[b].configs;navigator.requestMediaKeySystemAccess(c.systemString,d).then(function(a){var b=\\\"function\\\"==typeof a.getConfiguration?a.getConfiguration():null,d=new o.default(c,b);d.mksa=a,H.trigger(q.default.KEY_SYSTEM_ACCESS_COMPLETE,{data:d})}).catch(function(){++b<a.length?u(a,b):H.trigger(q.default.KEY_SYSTEM_ACCESS_COMPLETE,{error:\\\"Key system access denied!\\\"})})}(b)}function v(a){var b=a.session;return b.removeEventListener(\\\"keystatuseschange\\\",a),b.removeEventListener(\\\"message\\\",a),b.close()}function w(){return{handleEvent:function(a){switch(a.type){case\\\"encrypted\\\":if(a.initData){var b=ArrayBuffer.isView(a.initData)?a.initData.buffer:a.initData;H.trigger(q.default.NEED_KEY,{key:new i.default(b,a.initDataType)})}}}}}function x(a){for(var b=0;b<D.length;b++)if(D[b]===a){D.splice(b,1);break}}function y(a,b,c){var d={session:a,initData:b,handleEvent:function(a){switch(a.type){case\\\"keystatuseschange\\\":H.trigger(q.default.KEY_STATUSES_CHANGED,{data:this});break;case\\\"message\\\":var b=ArrayBuffer.isView(a.message)?a.message.buffer:a.message;H.trigger(q.default.INTERNAL_KEY_MESSAGE,{data:new m.default(this,b,(void 0),a.messageType)})}},getSessionID:function(){return a.sessionId},getExpirationTime:function(){return a.expiration},getKeyStatuses:function(){return a.keyStatuses},getSessionType:function(){return c}};return a.addEventListener(\\\"keystatuseschange\\\",d),a.addEventListener(\\\"message\\\",d),a.closed.then(function(){x(d),I(\\\"DRM: Session closed.  SessionID = \\\"+d.getSessionID()),H.trigger(q.default.KEY_SESSION_CLOSED,{data:d.getSessionID()})}),D.push(d),d}var z,A,B,C,D,E,F,G=this.context,H=a.eventBus,I=a.log;return z={getAllInitData:e,requestKeySystemAccess:f,getKeySystem:d,selectKeySystem:h,setMediaElement:j,setServerCertificate:l,createKeySession:n,updateKeySession:p,loadKeySession:r,removeKeySession:s,closeKeySession:t,reset:c},b(),z}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(109),g=d(f),h=a(127),i=d(h),j=a(121),k=d(j),l=a(122),m=d(l),n=a(124),o=d(n),p=a(13),q=d(p),r=a(10),s=d(r);e.__dashjs_factory_name=\\\"ProtectionModel_21Jan2015\\\",c.default=s.default.getClassFactory(e),b.exports=c.default},{10:10,109:109,121:121,122:122,124:124,127:127,13:13}],115:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){D=null,E=null,F=null,G=null,H=[],J=(0,g.default)(y).getInstance(),I=v()}function c(){try{for(var a=0;a<H.length;a++)p(H[a]);D&&D.removeEventListener(B.needkey,I),z.trigger(s.default.TEARDOWN_COMPLETE)}catch(b){z.trigger(s.default.TEARDOWN_COMPLETE,{error:\\\"Error tearing down key sessions and MediaKeys! -- \\\"+b.message})}}function d(){return E}function e(){for(var a=[],b=0;b<H.length;b++)a.push(H[b].initData);return a}function f(a){for(var b=!1,c=0;c<a.length;c++)for(var d=a[c].ks.systemString,e=a[c].configs,f=null,g=null,h=0;h<e.length;h++){var i=e[h].audioCapabilities,j=e[h].videoCapabilities;if(i&&0!==i.length){f=[];for(var k=0;k<i.length;k++)window[B.MediaKeys].isTypeSupported(d,i[k].contentType)&&f.push(i[k])}if(j&&0!==j.length){g=[];for(var l=0;l<j.length;l++)window[B.MediaKeys].isTypeSupported(d,j[l].contentType)&&g.push(j[l])}if(!(!f&&!g||f&&0===f.length||g&&0===g.length)){b=!0;var m=new o.default(f,g),n=J.getKeySystemBySystemString(d);z.trigger(s.default.KEY_SYSTEM_ACCESS_COMPLETE,{data:new q.default(n,m)});break}}b||z.trigger(s.default.KEY_SYSTEM_ACCESS_COMPLETE,{error:\\\"Key system access denied! -- No valid audio/video content configurations detected!\\\"})}function h(a){try{F=a.mediaKeys=new window[B.MediaKeys](a.keySystem.systemString),E=a.keySystem,G=a,D&&w(),z.trigger(s.default.INTERNAL_KEY_SYSTEM_SELECTED)}catch(b){z.trigger(s.default.INTERNAL_KEY_SYSTEM_SELECTED,{error:\\\"Error selecting keys system (\\\"+E.systemString+\\\")! Could not create MediaKeys -- TODO\\\"})}}function j(a){D!==a&&(D&&D.removeEventListener(B.needkey,I),D=a,D&&(D.addEventListener(B.needkey,I),F&&w()))}function l(a){if(!E||!F||!G)throw new Error(\\\"Can not create sessions until you have selected a key system\\\");var b=null;if(null!==G.ksConfiguration.videoCapabilities&&G.ksConfiguration.videoCapabilities.length>0&&(b=G.ksConfiguration.videoCapabilities[0]),null===b&&null!==G.ksConfiguration.audioCapabilities&&G.ksConfiguration.audioCapabilities.length>0&&(b=G.ksConfiguration.audioCapabilities[0]),null===b)throw new Error(\\\"Can not create sessions for unknown content types.\\\");var c=b.contentType,d=F.createSession(c,new Uint8Array(a)),e=x(d,a);d.addEventListener(B.error,e),d.addEventListener(B.message,e),d.addEventListener(B.ready,e),d.addEventListener(B.close,e),H.push(e),A(\\\"DRM: Session created.  SessionID = \\\"+e.getSessionID()),z.trigger(s.default.KEY_SESSION_CREATED,{data:e})}function n(a,b){var c=a.session;J.isClearKey(E)?c.update(new Uint8Array(b.toJWK())):c.update(new Uint8Array(b))}function p(a){var b=a.session;b.removeEventListener(B.error,a),b.removeEventListener(B.message,a),b.removeEventListener(B.ready,a),b.removeEventListener(B.close,a);for(var c=0;c<H.length;c++)if(H[c]===a){H.splice(c,1);break}b[B.release]()}function r(){}function t(){}function u(){}function v(){return{handleEvent:function(a){switch(a.type){case B.needkey:if(a.initData){var b=ArrayBuffer.isView(a.initData)?a.initData.buffer:a.initData;z.trigger(s.default.NEED_KEY,{key:new i.default(b,\\\"cenc\\\")})}}}}}function w(){var a=null,b=function(){D.removeEventListener(\\\"loadedmetadata\\\",a),D[B.setMediaKeys](F),z.trigger(s.default.VIDEO_ELEMENT_SELECTED)};D.readyState>=1?b():(a=b.bind(this),D.addEventListener(\\\"loadedmetadata\\\",a))}function x(a,b){return{session:a,initData:b,getSessionID:function(){return this.session.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return\\\"temporary\\\"},handleEvent:function(a){switch(a.type){case B.error:var b=\\\"KeyError\\\";z.trigger(s.default.KEY_ERROR,{data:new k.default(this,b)});break;case B.message:var c=ArrayBuffer.isView(a.message)?a.message.buffer:a.message;z.trigger(s.default.INTERNAL_KEY_MESSAGE,{data:new m.default(this,c,a.destinationURL)});break;case B.ready:A(\\\"DRM: Key added.\\\"),z.trigger(s.default.KEY_ADDED);break;case B.close:A(\\\"DRM: Session closed.  SessionID = \\\"+this.getSessionID()),z.trigger(s.default.KEY_SESSION_CLOSED,{data:this.getSessionID()})}}}}var y=this.context,z=a.eventBus,A=a.log,B=a.api,C=void 0,D=void 0,E=void 0,F=void 0,G=void 0,H=void 0,I=void 0,J=void 0;return C={getAllInitData:e,requestKeySystemAccess:f,getKeySystem:d,selectKeySystem:h,setMediaElement:j,createKeySession:l,updateKeySession:n,closeKeySession:p,setServerCertificate:r,loadKeySession:t,removeKeySession:u,reset:c},b(),C}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(109),g=d(f),h=a(127),i=d(h),j=a(121),k=d(j),l=a(122),m=d(l),n=a(125),o=d(n),p=a(124),q=d(p),r=a(13),s=d(r),t=a(10),u=d(t);e.__dashjs_factory_name=\\\"ProtectionModel_3Feb2014\\\",c.default=u.default.getClassFactory(e),b.exports=c.default},{10:10,109:109,121:121,122:122,124:124,125:125,127:127,13:13}],116:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a,b){var c=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(b)));a+=\\\"/?\\\";for(var d=0;d<c.kids.length;d++)a+=c.kids[d]+\\\"&\\\";return a=a.substring(0,a.length-1)}function b(){return\\\"GET\\\"}function c(){return\\\"json\\\"}function d(a){if(!a.hasOwnProperty(\\\"keys\\\"))return null;for(var b=[],c=0;c<a.keys.length;c++){var d=a.keys[c],e=d.kid.replace(/=/g,\\\"\\\"),f=d.k.replace(/=/g,\\\"\\\");b.push(new g.default(e,f))}return new i.default(b)}function e(a){return String.fromCharCode.apply(null,new Uint8Array(a))}var f=void 0;return f={getServerURLFromMessage:a,getHTTPMethod:b,getResponseType:c,getLicenseMessage:d,getErrorResponse:e}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(123),g=d(f),h=a(120),i=d(h),j=a(10),k=d(j);e.__dashjs_factory_name=\\\"ClearKey\\\",c.default=k.default.getSingletonFactory(e),b.exports=c.default},{10:10,120:120,123:123}],117:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a){return a}function b(){return\\\"POST\\\"}function c(a){return f[a].responseType}function d(a,b){return f[b].getLicenseMessage(a)}function e(a,b){return f[b].getErrorResponse(a)}var f={\\\"com.widevine.alpha\\\":{responseType:\\\"json\\\",getLicenseMessage:function(a){return i.default.decodeArray(a.license)},getErrorResponse:function(a){return a}},\\\"com.microsoft.playready\\\":{responseType:\\\"arraybuffer\\\",getLicenseMessage:function(a){return a},getErrorResponse:function(a){return String.fromCharCode.apply(null,new Uint8Array(a))}}},g=void 0;return g={getServerURLFromMessage:a,getHTTPMethod:b,getResponseType:c,getLicenseMessage:d,getErrorResponse:e}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f),h=a(1),i=d(h);e.__dashjs_factory_name=\\\"DRMToday\\\",c.default=g.default.getSingletonFactory(e),b.exports=c.default},{1:1,10:10}],118:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a){return a}function b(){return\\\"POST\\\"}function c(){return\\\"arraybuffer\\\"}function d(a){return a}function e(a){return String.fromCharCode.apply(null,new Uint8Array(a))}var f=void 0;return f={getServerURLFromMessage:a,getHTTPMethod:b,getResponseType:c,getLicenseMessage:d,getErrorResponse:e}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f);e.__dashjs_factory_name=\\\"PlayReady\\\",c.default=g.default.getSingletonFactory(e),b.exports=c.default},{10:10}],119:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a){return a}function b(){return\\\"POST\\\"}function c(){return\\\"arraybuffer\\\"}function d(a){return a}function e(a){return String.fromCharCode.apply(null,new Uint8Array(a))}var f=void 0;return f={getServerURLFromMessage:a,getHTTPMethod:b,getResponseType:c,getLicenseMessage:d,getErrorResponse:e}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f);e.__dashjs_factory_name=\\\"Widevine\\\",c.default=g.default.getSingletonFactory(e),b.exports=c.default},{10:10}],120:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,\\\"value\\\"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(b,c){if(d(this,a),c&&\\\"persistent\\\"!==c&&\\\"temporary\\\"!==c)throw new Error(\\\"Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'\\\");this.keyPairs=b,this.type=c}return e(a,[{key:\\\"toJWK\\\",value:function(){var a,b=this.keyPairs.length,c={keys:[]};for(a=0;a<b;a++){var d={kty:\\\"oct\\\",alg:\\\"A128KW\\\",kid:this.keyPairs[a].keyID,k:this.keyPairs[a].key};c.keys.push(d)}this.type&&(c.type=this.type);var e=JSON.stringify(c),f=e.length,g=new ArrayBuffer(f),h=new Uint8Array(g);for(a=0;a<f;a++)h[a]=e.charCodeAt(a);return g}}]),a}();c.default=f,b.exports=c.default},{}],121:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(b,c){d(this,a),this.sessionToken=b,this.error=c};c.default=e,b.exports=c.default},{}],122:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(b,c,e,f){d(this,a),this.sessionToken=b,this.message=c,this.defaultURL=e,this.messageType=f?f:\\\"license-request\\\"};c.default=e,b.exports=c.default},{}],123:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(b,c){d(this,a),this.keyID=b,this.key=c};c.default=e,b.exports=c.default},{}],124:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(b,c){d(this,a),this.keySystem=b,this.ksConfiguration=c};c.default=e,b.exports=c.default},{}],125:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(b,c,e,f,g){d(this,a),this.initDataTypes=[\\\"cenc\\\"],this.audioCapabilities=b,this.videoCapabilities=c,this.distinctiveIdentifier=e,this.persistentState=f,this.sessionTypes=g};c.default=e,b.exports=c.default},{}],126:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(b,c){d(this,a),this.contentType=b,this.robustness=c};c.default=e,b.exports=c.default},{}],127:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(b,c){d(this,a),this.initData=b,this.initDataType=c};c.default=e,b.exports=c.default},{}],128:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){return i.mediaInfo.streamInfo}function c(){return i.mediaInfo}function d(){return i}function e(){return k}function f(){return i.mediaInfo.streamInfo.manifestInfo}function g(){return j}var h=void 0,i=a.streamProcessor.getCurrentRepresentationInfo(),j=a.streamProcessor,k=a.currentValue;return h={getStreamInfo:b,getMediaInfo:c,getTrackInfo:d,getCurrentValue:e,getManifestInfo:f,getStreamProcessor:g}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f);e.__dashjs_factory_name=\\\"RulesContext\\\",c.default=g.default.getClassFactory(e),b.exports=c.default},{10:10}],129:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){j={}}function b(a){a&&(a.abrRulesCollection&&(j[p]=a.abrRulesCollection),a.synchronizationRulesCollection&&(j[q]=a.synchronizationRulesCollection))}function c(a,b,c,d,f){var g,h,j={},k={},l=a.length,m=l,n=e(b,d),o=function(a){var b,e,g;if(a.value!==i.default.NO_CHANGE){var h=f(j[a.priority],a.value);h!==j[a.priority]&&(j[a.priority]=h,k[a.priority]=a.reason)}--l||(j[i.default.WEAK]!==i.default.NO_CHANGE&&(g=i.default.WEAK,b=j[i.default.WEAK],e=k[i.default.WEAK]),j[i.default.DEFAULT]!==i.default.NO_CHANGE&&(g=i.default.DEFAULT,b=j[i.default.DEFAULT],e=k[i.default.DEFAULT]),j[i.default.STRONG]!==i.default.NO_CHANGE&&(g=i.default.STRONG,b=j[i.default.STRONG],e=k[i.default.STRONG]),g!=i.default.STRONG&&g!=i.default.WEAK&&(g=i.default.DEFAULT),c(void 0!==b?{value:b,confidence:g,reason:e}:{value:d,confidence:g,reason:{name:\\\"NO_CHANGE\\\"}}))};for(j[i.default.STRONG]=i.default.NO_CHANGE,j[i.default.WEAK]=i.default.NO_CHANGE,j[i.default.DEFAULT]=i.default.NO_CHANGE,h=0;h<m;h++)g=a[h],g.execute(n,o)}function d(){var a,b,c=j[p],d=j[q],e=(c.getRules(k.default.QUALITY_SWITCH_RULES)||[]).concat(c.getRules(k.default.ABANDON_FRAGMENT_RULES)||[]).concat(d.getRules(m.default.TIME_SYNCHRONIZED_RULES)||[]).concat(d.getRules(m.default.BEST_GUESS_RULES)||[]),f=e.length;for(b=0;b<f;b++)a=e[b],\\\"function\\\"==typeof a.reset&&a.reset();j={}}function e(a,b){return(0,g.default)(f).create({streamProcessor:a,currentValue:b})}var f=this.context,h=void 0,j=void 0;return h={initialize:a,setConfig:b,applyRules:c,reset:d}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(128),g=d(f),h=a(130),i=d(h),j=a(131),k=d(j),l=a(144),m=d(l),n=a(10),o=d(n),p=0,q=1;e.__dashjs_factory_name=\\\"RulesController\\\";var r=o.default.getSingletonFactory(e);r.ABR_RULE=p,r.SYNC_RULE=q,c.default=r,b.exports=c.default},{10:10,128:128,130:130,131:131,144:144}],130:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b,c){var d=void 0===a?h:a,e=void 0===b?i:b,f=void 0===c?null:c,g={value:d,priority:e,reason:f};return g}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f),h=999,i=.5,j=1,k=0;e.__dashjs_factory_name=\\\"SwitchRequest\\\";var l=g.default.getClassFactory(e);l.NO_CHANGE=h,l.DEFAULT=i,l.STRONG=j,l.WEAK=k,c.default=l,b.exports=c.default},{10:10}],131:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){e=[],f=[];var a=(0,u.default)(c).getInstance(),b=(0,w.default)(c).getInstance(),d=(0,s.default)(c).getInstance();d.getBufferOccupancyABREnabled()?(e.push((0,o.default)(c).create({metricsModel:a,dashMetrics:(0,w.default)(c).getInstance()})),f.push((0,q.default)(c).create({metricsModel:a,dashMetrics:(0,w.default)(c).getInstance()}))):(e.push((0,g.default)(c).create({metricsModel:a,dashMetrics:b})),e.push((0,i.default)(c).create({metricsModel:a,dashMetrics:b})),e.push((0,k.default)(c).create({metricsModel:a})),f.push((0,m.default)(c).create()))}function b(a){switch(a){case z:return e;case A:return f;default:return null}}var c=this.context,d=void 0,e=void 0,f=void 0;return d={initialize:a,getRules:b}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(137),g=d(f),h=a(135),i=d(h),j=a(136),k=d(j),l=a(132),m=d(l),n=a(134),o=d(n),p=a(133),q=d(p),r=a(101),s=d(r),t=a(102),u=d(t),v=a(17),w=d(v),x=a(10),y=d(x),z=\\\"qualitySwitchRules\\\",A=\\\"abandonFragmentRules\\\";e.__dashjs_factory_name=\\\"ABRRulesCollection\\\";var B=y.default.getSingletonFactory(e);B.QUALITY_SWITCH_RULES=z,B.ABANDON_FRAGMENT_RULES=A,c.default=B,b.exports=c.default},{10:10,101:101,102:102,132:132,133:133,134:134,135:135,136:136,137:137,17:17}],132:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){o={},p={},q=[],r=(0,i.default)(l).getInstance();\\n}function b(a,b){o[a]=o[a]||{},o[a][b]=o[a][b]||{}}function c(a,b){q[a]=q[a]||[],q[a].push(b)}function d(a,d){var f=a.getMediaInfo(),i=f.type,m=a.getCurrentValue().request,s=(0,g.default)(l).create(g.default.NO_CHANGE,g.default.WEAK,{name:e.__dashjs_factory_name});if(!isNaN(m.index)){b(i,m.index);var t=o[i][m.index];if(null===t||null===m.firstByteDate||p.hasOwnProperty(t.id))return void d(s);if(void 0===t.firstByteTime&&(q[i]=[],t.firstByteTime=m.firstByteDate.getTime(),t.segmentDuration=m.duration,t.bytesTotal=m.bytesTotal,t.id=m.index),t.bytesLoaded=m.bytesLoaded,t.elapsedTime=(new Date).getTime()-t.firstByteTime,t.bytesLoaded>0&&t.elapsedTime>0&&c(i,Math.round(8*t.bytesLoaded/t.elapsedTime)),q[i].length>=k&&t.elapsedTime>j&&t.bytesLoaded<t.bytesTotal){var u=q[i].reduce(function(a,b){return a+b},0);if(t.measuredBandwidthInKbps=Math.round(u/q[i].length),t.estimatedTimeOfDownload=(8*t.bytesTotal/t.measuredBandwidthInKbps/1e3).toFixed(2),t.estimatedTimeOfDownload<t.segmentDuration*h||0===a.getTrackInfo().quality)return void d(s);if(!p.hasOwnProperty(t.id)){var v=a.getStreamProcessor().getABRController(),w=t.bytesTotal-t.bytesLoaded,x=v.getBitrateList(f),y=v.getQualityForBitrate(f,t.measuredBandwidthInKbps*r.getBandwidthSafetyFactor()),z=t.bytesTotal*x[y].bitrate/x[v.getQualityFor(i,f.streamInfo)].bitrate;w>z&&(s.value=y,s.priority=g.default.STRONG,s.reason.throughput=t.measuredBandwidthInKbps,p[t.id]=t,n(\\\"AbandonRequestsRule ( \\\",i,\\\"frag id\\\",t.id,\\\") is asking to abandon and switch to quality to \\\",y,\\\" measured bandwidth was\\\",t.measuredBandwidthInKbps),delete o[i][t.id])}}else t.bytesLoaded===t.bytesTotal&&delete o[i][t.id]}d(s)}function f(){a()}var h=1.8,j=500,k=5,l=this.context,n=(0,m.default)(l).getInstance().log,o=void 0,p=void 0,q=void 0,r=void 0,s={execute:d,reset:f};return a(),s}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(130),g=d(f),h=a(101),i=d(h),j=a(10),k=d(j),l=a(8),m=d(l);e.__dashjs_factory_name=\\\"AbandonRequestsRule\\\",c.default=k.default.getClassFactory(e),b.exports=c.default},{10:10,101:101,130:130,8:8}],133:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){s={},t=(0,i.default)(l).getInstance()}function c(a,b,c){s[a]={index:b,quality:c}}function d(a,b,c){var d=s[a];return!d||(b!==d.index||c<d.quality)}function f(a,b){var f=a.getMediaInfo(),h=f.type,i=q.getReadOnlyMetricsFor(h),m=a.getCurrentValue(),r=m.request,t=(0,g.default)(l).create(g.default.NO_CHANGE,g.default.WEAK,{name:e.__dashjs_factory_name});if(0===i.BolaState.length)return n(\\\"WARNING: executing BolaAbandonRule before initializing BolaRule\\\"),s[h]=null,void b(t);var u=i.BolaState[0]._s,v=r.index,w=r.quality;if(isNaN(v)||0===w||!d(h,v,w)||!r.firstByteDate)return void b(t);var x=Date.now(),y=x-r.firstByteDate.getTime(),z=r.bytesLoaded,A=r.bytesTotal,B=A-z,C=r.duration,D=p.getCurrentBufferLevel(i)?p.getCurrentBufferLevel(i):0,E=D+u.virtualBuffer,F=8*z/(.001*y),G=u.bandwidthSafetyFactor*F,H=.001*(r.firstByteDate.getTime()-r.requestStartDate.getTime());H<.001*k&&(H=.001*k);var I=H+8*A/G,J=\\\"\\\";o.default.BOLA_DEBUG&&(J=\\\"index=\\\"+v+\\\" quality=\\\"+w+\\\" bytesLoaded/bytesTotal=\\\"+z+\\\"/\\\"+A+\\\" bufferLevel=\\\"+D+\\\" timeSince1stByte=\\\"+(y/1e3).toFixed(3)+\\\" estThroughput=\\\"+(G/1e6).toFixed(3)+\\\" latency=\\\"+H.toFixed(3));var K=A*u.bitrates[0]/u.bitrates[w],L=B-H*G/8;if(L<1&&(L=1),y<j||B<=K||D>u.bufferTarget||L<=K||I<=C)return void b(t);var M=E-H;M<0&&(M=0);for(var N=0;N+1<w&&A*u.bitrates[N+1]/u.bitrates[w]<L;)++N;var O=w;if(u.state===o.default.BOLA_STATE_STARTUP){O=0;for(var P=0;P<=N&&(K=A*u.bitrates[P]/u.bitrates[w],!(8*K/C>G));++P)O=P}else for(var Q=(u.Vp*(u.utilities[w]+u.gp)-M)/L,P=0;P<=N;++P){K=A*u.bitrates[P]/u.bitrates[w];var R=(u.Vp*(u.utilities[P]+u.gp)-M)/K;R>Q&&(O=P,Q=R)}var S=u.rebufferSafetyFactor*F*(D-H)/8;if(O===w&&L>S&&(O=N),O===w)return void b(t);for(;O>0&&(K=A*u.bitrates[O]/u.bitrates[w],!(K<=S));)--O;u.lastQuality=O,q.updateBolaState(h,u),o.default.BOLA_DEBUG&&n(\\\"BolaDebug \\\"+h+\\\" BolaAbandonRule abandon to \\\"+O+\\\" - \\\"+J),c(h,v,w),t.value=O,t.priority=g.default.STRONG,t.reason.state=u.state,t.reason.throughput=F,t.reason.bufferLevel=D,t.reason.bytesLoaded=r.bytesLoaded,t.reason.bytesTotal=r.bytesTotal,t.reason.elapsedTimeMs=y,b(t)}function h(){s={}}var j=500,k=200,l=this.context,n=(0,m.default)(l).getInstance().log,p=a.dashMetrics,q=a.metricsModel,r=void 0,s=void 0,t=void 0;return r={execute:f,reset:h},b(),r}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(130),g=d(f),h=a(101),i=d(h),j=a(10),k=d(j),l=a(8),m=d(l),n=a(134),o=d(n);e.__dashjs_factory_name=\\\"BolaAbandonRule\\\",c.default=k.default.getClassFactory(e),b.exports=c.default},{10:10,101:101,130:130,134:134,8:8}],134:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){N={},O=[],P=(0,k.default)(H).getInstance(),Q=(0,m.default)(H).getInstance(),R=(0,p.default)(H).getInstance(),L.on(t.default.BUFFER_EMPTY,q,M),L.on(t.default.PLAYBACK_SEEKING,s,M),L.on(t.default.PERIOD_SWITCH_STARTED,u,M)}function c(a){return a.map(function(a){return Math.log(a)})}function d(a,b,d,e){var f=NaN;if(e?(f=0,e.forEach(function(a,b){a>e[f]&&(f=b)})):(e=c(d),f=e.length-1),0===f)return null;var g=1-e[0]+(e[f]-e[0])/(b/a-1),h=a/(e[0]+g-1);return{utilities:e,gp:g,Vp:h}}function f(a){var b={},c=a.getMediaInfo(),e=a.getStreamProcessor(),f=a.getStreamInfo(),g=a.getTrackInfo(),h=e.isDynamic(),i=f.manifestInfo.duration,j=g.fragmentDuration,k=c.bitrateList.map(function(a){return a.bandwidth}),l=d(A,B,k,null);if(null===l)return b.state=w,b;if(b.state=x,b.bitrates=k,b.utilities=l.utilities,b.Vp=l.Vp,b.gp=l.gp,b.isDynamic=h,b.movieDuration=i,b.fragmentDuration=j,b.bandwidthSafetyFactor=P.getBandwidthSafetyFactor(),b.rebufferSafetyFactor=C,b.bufferTarget=P.getStableBufferTime(),b.lastQuality=0,b.virtualBuffer=0,b.throughputCount=h?F:G,z){for(var m=\\\"\\\",n=0;n<k.length;++n){var o=l.utilities[n],p=k[n],q=0;if(n>0){var r=l.utilities[n-1],s=k[n-1];q=l.Vp*((r*p-o*s)/(p-s)+l.gp)}var t=l.Vp*(o+l.gp);m+=\\\"\\\\n\\\"+n+\\\":\\\"+(1e-6*k[n]).toFixed(3)+\\\"Mbps \\\"+q.toFixed(3)+\\\"/\\\"+t.toFixed(3)}I(\\\"BolaDebug \\\"+c.type+\\\" bitrates\\\"+m)}return b}function h(a,b){for(var c=a.bitrates.length,d=NaN,e=NaN,f=0;f<c;++f){var g=(a.Vp*(a.utilities[f]+a.gp)-b)/a.bitrates[f];(isNaN(e)||g>=e)&&(e=g,d=f)}return d}function i(a,b){for(var c=J.getHttpRequests(a),d=[],e=c.length-1;e>=0&&d.length<b;--e){var f=c[e];f.type===n.HTTPRequest.MEDIA_SEGMENT_TYPE&&f._tfinish&&f.tresponse&&f.trace&&d.push(f)}return d}function j(a,b,c){var d=i(a,b);if(0===d.length)return 0;for(var e=0,f=\\\"\\\",g=0;g<d.length;++g){var h=.001*(d[g]._tfinish.getTime()-d[g].trequest.getTime()),j=8*d[g].trace.reduce(function(a,b){return a+b.b[0]},0);z&&(f+=\\\" \\\"+(1e-6*j).toFixed(3)+\\\"/\\\"+h.toFixed(3)+\\\"=\\\"+(1e-6*j/h).toFixed(3)+\\\"Mbps\\\"),e+=h/j}return z&&I(\\\"BolaDebug \\\"+c+\\\" BolaRule recent throughput = \\\"+(d.length/(1e6*e)).toFixed(3)+\\\"Mbps:\\\"+f),d.length/e}function l(a,b){var c=0;return a.bitrates.some(function(a,d){return a>b||(c=d,!1)}),c}function o(a,b){var c=i(a,1);if(0===c.length)return 0;var d=c[0],e=Date.now(),f=d._tfinish.getTime();f>e&&(f=e);var g=N[b];N[b]=e;var h=0;return h=g&&g>f?e-g:e-f,h<=0?0:.001*h}function q(){z&&I(\\\"BolaDebug BUFFER_EMPTY\\\"),O.forEach(function(a){var b=K.getReadOnlyMetricsFor(a);if(0!==b.BolaState.length){var c=b.BolaState[0]._s;c.state===y&&(c.virtualBuffer=0,K.updateBolaState(a,c))}})}function s(a){z&&I(\\\"BolaDebug PLAYBACK_SEEKING \\\"+a.seekTime.toFixed(3)),O.forEach(function(a){var b=K.getReadOnlyMetricsFor(a);if(0!==b.BolaState.length){var c=b.BolaState[0]._s;c.state!==w&&(c.state=x),K.updateBolaState(a,c)}})}function u(){}function D(a,b){var c=a.getStreamProcessor();c.getScheduleController().setTimeToLoadDelay(0);var d=(0,g.default)(H).create(g.default.NO_CHANGE,g.default.WEAK,{name:e.__dashjs_factory_name}),i=a.getMediaInfo(),k=i.type,m=K.getReadOnlyMetricsFor(k);if(0===m.BolaState.length){z&&I(\\\"BolaDebug \\\"+k+\\\"\\\\nBolaDebug \\\"+k+\\\" BolaRule for state=- fragmentStart=\\\"+R.getIndexHandlerTime(a.getStreamProcessor()).toFixed(3));var n=f(a);K.updateBolaState(k,n);var p=0;if(n.state!==w){O.push(k);var q=j(m,n.throughputCount,k);if(0===q)return z&&I(\\\"BolaDebug \\\"+k+\\\" BolaRule quality unchanged for INITIALIZE\\\"),void b(d);p=l(n,q*n.bandwidthSafetyFactor),n.lastQuality=p,d.value=p,d.priority=g.default.DEFAULT,d.reason.state=n.state,d.reason.throughput=q}return z&&I(\\\"BolaDebug \\\"+k+\\\" BolaRule quality \\\"+p+\\\" for INITIALIZE\\\"),void b(d)}var r=m.BolaState[0]._s;if(r.state===w)return z&&I(\\\"BolaDebug \\\"+k+\\\" BolaRule quality 0 for ONE_BITRATE\\\"),void b(d);var s=r.bitrates,t=r.utilities;z&&I(\\\"BolaDebug \\\"+k+\\\"\\\\nBolaDebug \\\"+k+\\\" EXECUTE BolaRule for state=\\\"+r.state+\\\" fragmentStart=\\\"+R.getIndexHandlerTime(a.getStreamProcessor()).toFixed(3));var u=J.getCurrentBufferLevel(m)?J.getCurrentBufferLevel(m):0,v=j(m,r.throughputCount,k);u<=.1&&(r.virtualBuffer=0);var A=o(m,k);A>0&&(r.virtualBuffer+=A),r.virtualBuffer<0&&(r.virtualBuffer=0);var B=u+r.virtualBuffer,D=h(r,B);if(z&&I(\\\"BolaDebug \\\"+k+\\\" BolaRule bufferLevel=\\\"+u.toFixed(3)+\\\"(+\\\"+r.virtualBuffer.toFixed(3)+\\\"=\\\"+B.toFixed(3)+\\\") recentThroughput=\\\"+(1e-6*v).toFixed(3)+\\\" tentativeQuality=\\\"+D),r.state===x){var p=l(r,v*r.bandwidthSafetyFactor);if(u>r.fragmentDuration/C){r.state=y;for(var E=0,F=0;F<p;++F){var G=r.Vp*(r.gp+(s[p]*t[F]-s[F]*t[p])/(s[p]-s[F]));G>E&&(E=G)}E>u&&(r.virtualBuffer=E-u)}return z&&I(\\\"BolaDebug \\\"+k+\\\" BolaRule quality \\\"+p+\\\" for STARTUP\\\"),r.lastQuality=p,K.updateBolaState(k,r),d.value=p,d.priority=g.default.DEFAULT,d.reason.state=x,d.reason.throughput=v,void b(d)}if(D>r.lastQuality){var p=l(r,v);D>p&&(p<r.lastQuality&&(p=r.lastQuality),D=p)}if(v>0)for(var L=C*v*u/r.fragmentDuration;D>0&&s[D]>L;)--D;var M=0,N=r.Vp*(t[D]+r.gp);M=B-N,M>0&&(M>r.virtualBuffer?(M-=r.virtualBuffer,r.virtualBuffer=0):(r.virtualBuffer-=M,M=0)),M>0?D===s.length-1?M=0:c.getScheduleController().setTimeToLoadDelay(1e3*M):M=0,r.lastQuality=D,K.updateBolaState(k,r),d.value=D,d.priority=g.default.DEFAULT,d.reason.state=r.state,d.reason.throughput=v,d.reason.bufferLevel=u,z&&I(\\\"BolaDebug \\\"+k+\\\" BolaRule quality \\\"+D+\\\" delay=\\\"+M.toFixed(3)+\\\" for STEADY\\\"),b(d)}function E(){L.off(t.default.BUFFER_EMPTY,q,M),L.off(t.default.PLAYBACK_SEEKING,s,M),L.off(t.default.PERIOD_SWITCH_STARTED,u,M),b()}var F=2,G=3,H=this.context,I=(0,v.default)(H).getInstance().log,J=a.dashMetrics,K=a.metricsModel,L=(0,r.default)(H).getInstance(),M=void 0,N=void 0,O=void 0,P=void 0,Q=void 0,R=void 0;return M={execute:D,reset:E},b(),M}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(130),g=d(f),h=a(10),i=d(h),j=a(101),k=d(j),l=a(68),m=d(l),n=a(179),o=a(15),p=d(o),q=a(9),r=d(q),s=a(13),t=d(s),u=a(8),v=d(u),w=0,x=1,y=2,z=!1,A=10,B=30,C=.5;e.__dashjs_factory_name=\\\"BolaRule\\\";var D=i.default.getClassFactory(e);D.BOLA_STATE_ONE_BITRATE=w,D.BOLA_STATE_STARTUP=x,D.BOLA_STATE_STEADY=y,D.BOLA_DEBUG=z,c.default=D,b.exports=c.default},{10:10,101:101,13:13,130:130,15:15,179:179,68:68,8:8,9:9}],135:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){n=0,p=(0,i.default)(h).getInstance()}function c(a,b){var c=(new Date).getTime()/1e3,d=a.getMediaInfo(),f=a.getTrackInfo(),i=d.type,o=isNaN(f.fragmentDuration)?2:f.fragmentDuration/2,q=a.getCurrentValue(),r=a.getStreamProcessor(),s=r.getABRController(),t=l.getReadOnlyMetricsFor(i),u=m.getCurrentBufferLevel(t),v=t.BufferState.length>0?t.BufferState[t.BufferState.length-1]:null,w=!1,x=d.representationCount-1,y=(0,g.default)(h).create(g.default.NO_CHANGE,g.default.WEAK,{name:e.__dashjs_factory_name});return c-n<o||s.getAbandonmentStateFor(i)===k.default.ABANDON_LOAD?void b(y):(null!==v&&u>v.target&&(w=u-v.target>p.getRichBufferThreshold(),w&&d.representationCount>1&&(y.value=x,y.priority=g.default.STRONG,y.reason.bufferLevel=u,y.reason.bufferTarget=v.target)),y.value!==g.default.NO_CHANGE&&y.value!==q&&j(\\\"BufferOccupancyRule requesting switch to index: \\\",y.value,\\\"type: \\\",i,\\\" Priority: \\\",y.priority===g.default.DEFAULT?\\\"Default\\\":y.priority===g.default.STRONG?\\\"Strong\\\":\\\"Weak\\\"),void b(y))}function d(){n=0}var f=void 0,h=this.context,j=(0,o.default)(h).getInstance().log,l=a.metricsModel,m=a.dashMetrics,n=void 0,p=void 0;return f={execute:c,reset:d},b(),f}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(130),g=d(f),h=a(101),i=d(h),j=a(60),k=d(j),l=a(10),m=d(l),n=a(8),o=d(n);e.__dashjs_factory_name=\\\"BufferOccupancyRule\\\",c.default=m.default.getClassFactory(e),b.exports=c.default},{10:10,101:101,130:130,60:60,8:8}],136:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){r={},s=0,t=1e3,n.on(m.default.PLAYBACK_SEEKING,f,p)}function c(a,b){var c=(new Date).getTime(),f=a.getMediaInfo().type,h=a.getCurrentValue(),k=o.getReadOnlyMetricsFor(f),m=k.BufferState.length>0?k.BufferState[k.BufferState.length-1]:null,n=(0,g.default)(j).create(g.default.NO_CHANGE,g.default.WEAK,{name:e.__dashjs_factory_name});return c-s<t||null===m?void b(n):(d(f,m.state),m.state===i.default.BUFFER_EMPTY&&void 0!==r[f].firstBufferLoadedEvent&&(n.value=0,n.priority=g.default.STRONG,n.reason.bufferState=m.state,n=(0,g.default)(j).create(0,g.default.STRONG)),n.value!==g.default.NO_CHANGE&&n.value!==h&&l(\\\"InsufficientBufferRule requesting switch to index: \\\",n.value,\\\"type: \\\",f,\\\" Priority: \\\",n.priority===g.default.DEFAULT?\\\"Default\\\":n.priority===g.default.STRONG?\\\"Strong\\\":\\\"Weak\\\"),s=c,void b(n))}function d(a,b){r[a]=r[a]||{},r[a].state=b,b!==i.default.BUFFER_LOADED||r[a].firstBufferLoadedEvent||(r[a].firstBufferLoadedEvent=!0)}function f(){r={}}function h(){n.off(m.default.PLAYBACK_SEEKING,f,p),r={},s=0}var j=this.context,l=(0,q.default)(j).getInstance().log,n=(0,k.default)(j).getInstance(),o=a.metricsModel,p=void 0,r=void 0,s=void 0,t=void 0;return p={execute:c,reset:h},b(),p}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(130),g=d(f),h=a(63),i=d(h),j=a(9),k=d(j),l=a(13),m=d(l),n=a(10),o=d(n),p=a(8),q=d(p);e.__dashjs_factory_name=\\\"InsufficientBufferRule\\\",c.default=o.default.getClassFactory(e),b.exports=c.default},{10:10,13:13,130:130,63:63,8:8,9:9}],137:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){z=[],A={audio:{threshold:s,value:NaN},video:{threshold:q,value:NaN}},B=(0,m.default)(v).getInstance()}function c(a,b){z[a]=z[a]||[],z[a].push(b)}function d(a,b){var c=Math.min(z[a].length,b?o:p),d=z[a].slice(c*-1,z[a].length);return d.length>1&&d.reduce(function(a,b){return(a*u<=b||a>=b*t)&&c++,b}),c=Math.min(z[a].length,c),z[a].slice(c*-1,z[a].length)}function f(a,b){var c=d(a,b),e=0;if(c.length>0){var f=c.reduce(function(a,b){return a+b},0);e=f/c.length}return z[a].length>=l&&z[a].shift(),e/1e3*B.getBandwidthSafetyFactor()}function h(a,b){var d=a.getMediaInfo(),h=d.type,j=a.getCurrentValue(),l=y.getReadOnlyMetricsFor(h),m=a.getStreamProcessor(),o=m.getABRController(),p=m.isDynamic(),q=x.getCurrentHttpRequest(l),r=l.BufferState.length>0?l.BufferState[l.BufferState.length-1]:null,s=(0,g.default)(v).create(g.default.NO_CHANGE,g.default.WEAK,{name:e.__dashjs_factory_name});if(!l||!q||q.type!==n.HTTPRequest.MEDIA_SEGMENT_TYPE||!r)return void b(s);var t=void 0;if(q.trace&&q.trace.length){t=q._tfinish.getTime()-q.tresponse.getTime()+1;var u=q.trace.reduce(function(a,b){return a+b.b[0]},0),z=Math.round(8*u/(t/1e3));t<=A[h].threshold?A[h].value=z/1e3:(A[h].value=NaN,c(h,z))}var B=Math.round(isNaN(A[h].value)?f(h,p):A[h].value);if(o.setAverageThroughput(h,B),o.getAbandonmentStateFor(h)!==k.default.ABANDON_LOAD){if(r.state===i.default.BUFFER_LOADED||p){var C=o.getQualityForBitrate(d,B);m.getScheduleController().setTimeToLoadDelay(0),s.value=C,s.priority=g.default.DEFAULT,s.reason.throughput=B}s.value!==g.default.NO_CHANGE&&s.value!==j&&w(\\\"ThroughputRule requesting switch to index: \\\",s.value,\\\"type: \\\",h,\\\" Priority: \\\",s.priority===g.default.DEFAULT?\\\"Default\\\":s.priority===g.default.STRONG?\\\"Strong\\\":\\\"Weak\\\",\\\"Average throughput\\\",Math.round(B),\\\"kbps\\\")}b(s)}function j(){b()}var l=20,o=3,p=4,q=50,s=5,t=1.3,u=1.3,v=this.context,w=(0,r.default)(v).getInstance().log,x=a.dashMetrics,y=a.metricsModel,z=void 0,A=void 0,B=void 0,C={execute:h,reset:j};return b(),C}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(130),g=d(f),h=a(63),i=d(h),j=a(60),k=d(j),l=a(101),m=d(l),n=a(179),o=a(10),p=d(o),q=a(8),r=d(q);e.__dashjs_factory_name=\\\"ThroughputRule\\\",c.default=p.default.getClassFactory(e),b.exports=c.default},{10:10,101:101,130:130,179:179,60:60,63:63,8:8}],138:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(a){var b,c=0;return a&&a.some(function(a,b){return c=b,!d.contains(a.serviceLocation)})&&(b=a[c]),b}var c=void 0,d=a.blacklistController;return c={select:b}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f);e.__dashjs_factory_name=\\\"BasicSelector\\\",c.default=g.default.getClassFactory(e),b.exports=c.default},{10:10}],139:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(a){var b=[],c=function(a){return!b.length||!a.dvb_priority||b.indexOf(a.dvb_priority)===-1},d=function(a){return!f.contains(a.serviceLocation)||(a.dvb_priority&&b.push(a.dvb_priority),!1)};return a.filter(d).filter(c)}function c(a){var b,c,d=function(a,b){var c=a.dvb_priority-b.dvb_priority;return isNaN(c)?0:c},e=function(a,b,c){return!b||c[0].dvb_priority&&a.dvb_priority&&c[0].dvb_priority===a.dvb_priority},f=0,g=[],h=0;if(c=a.sort(d).filter(e),c.length)return c.length>1&&(c.forEach(function(a){f+=a.dvb_weight,g.push(f)}),b=Math.floor(Math.random()*(f-1)),g.every(function(a,c){return h=c,!(b<a)})),c[h]}function d(a){return a&&c(b(a))}var e=void 0,f=a.blacklistController;return e={select:d}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f);e.__dashjs_factory_name=\\\"DVBSelector\\\",c.default=g.default.getClassFactory(e),b.exports=c.default},{10:10}],140:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){k=(0,g.default)(e).getInstance(),l=(0,i.default)(e).getInstance()}function c(a,b,c){var e=f.getCurrentBufferLevel(h.getReadOnlyMetricsFor(b));return e<d(a,b,c)}function d(a,b,c){var d=NaN,e=a.getCurrentRepresentationInfo();if(\\\"fragmentedText\\\"===b)d=j.getAllTracksAreDisabled()?0:e.fragmentDuration;else if(\\\"audio\\\"===b&&c){var g=f.getCurrentBufferLevel(h.getReadOnlyMetricsFor(\\\"video\\\"));d=Math.floor(Math.max(g,e.fragmentDuration))}else{var i=e.mediaInfo.streamInfo,l=a.getABRController();if(l.isPlayingAtTopQuality(i)){var m=i.manifestInfo.duration>=k.getLongFormContentDurationThreshold();d=m?k.getBufferTimeAtTopQualityLongForm():k.getBufferTimeAtTopQuality()}else d=k.getStableBufferTime()}return d}var e=this.context,f=a.dashMetrics,h=a.metricsModel,j=a.textSourceBuffer,k=void 0,l=void 0,m={execute:c,getBufferTarget:d};return b(),m}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(101),g=d(f),h=a(68),i=d(h),j=a(10),k=d(j);e.__dashjs_factory_name=\\\"BufferLevelRule\\\",c.default=k.default.getClassFactory(e),b.exports=c.default},{10:10,101:101,68:68}],141:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(a,b){var c=a.getCurrentRepresentationInfo(),g=c.mediaInfo,i=g.type,j=a.getScheduleController(),k=j.getSeekTarget(),l=!isNaN(k),m=a.getBuffer(),n=l?k:e.getIndexHandlerTime(a);if(isNaN(n)||\\\"fragmentedText\\\"===i&&h.getAllTracksAreDisabled())return null;if(l&&j.setSeekTarget(NaN),m){var o=f.getBufferRange(a.getBuffer(),n);null!==o&&(d(\\\"Prior to making a request for time, NextFragmentRequestRule is aligning index handler's currentTime with bufferedRange.end.\\\",n,\\\" was changed to \\\",o.end),n=o.end)}var p=void 0;return b?(n=b.startTime+b.duration/2,p=e.getFragmentRequestForTime(a,c,n,{timeThreshold:0,ignoreIsFinished:!0})):(p=e.getFragmentRequestForTime(a,c,n,{keepIdx:!l}),p&&a.getFragmentModel().isFragmentLoaded(p)&&(p=e.getNextFragmentRequest(a,c)),p&&(e.setIndexHandlerTime(a,p.startTime+p.duration),p.delayLoadingTime=(new Date).getTime()+j.getTimeToLoadDelay(),j.setTimeToLoadDelay(0))),p}var c=this.context,d=(0,g.default)(c).getInstance().log,e=a.adapter,f=a.sourceBufferController,h=a.textSourceBuffer,i={execute:b};return i}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(8),g=d(f),h=a(10),i=d(h);e.__dashjs_factory_name=\\\"NextFragmentRequestRule\\\",c.default=i.default.getClassFactory(e),b.exports=c.default},{10:10,8:8}],142:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){r=NaN,s=null,t=NaN,u=null,v=!1,w=NaN,x=g.default.DEFAULT}function c(a,b){var c,d;if(y=b,A=a.getStreamProcessor(),z=A.getFragmentLoader(),u=a.getTrackInfo(),w=u.fragmentDuration,d=u.DVRWindow,r=d.end,u.useCalculatedLiveEdgeTime){var i=p.getExpectedLiveEdge();return p.setExpectedLiveEdge(r),void y((0,g.default)(l).create(i,x))}s={start:Math.max(0,r-n),end:r+n},t=Math.floor((d.end-d.start)/2),c=o.getFragmentRequestForTime(A,u,r,{ignoreIsFinished:!0}),e(r,h,f,c)}function d(){r=NaN,s=null,t=NaN,u=null,v=!1,w=NaN,A=null,z=null}function e(a,b,c,d){var f;if(null===d)f=o.generateFragmentRequestForTime(A,u,a),e(a,b,c,f);else{var g=function d(e){m.off(k.default.CHECK_FOR_EXISTENCE_COMPLETED,d,this),e.exists?b(e.request,a):c(e.request,a)};m.on(k.default.CHECK_FOR_EXISTENCE_COMPLETED,g,this),z.checkForExistence(d)}}function f(a,b){var c,d,i;return v?void j(!1,b):(i=b-r,c=i>0?r-i:r+Math.abs(i)+t,void(c<s.start&&c>s.end?y((0,g.default)(l).create(null,x)):(d=o.getFragmentRequestForTime(A,u,c,{ignoreIsFinished:!0}),e(c,h,f,d))))}function h(a,b){var c,d,f=a.startTime;if(!v){if(!u.fragmentDuration)return void y((0,g.default)(l).create(f,x));if(v=!0,s.end=f+2*t,b===r)return d=b+w,c=o.getFragmentRequestForTime(A,u,d,{ignoreIsFinished:!0}),void e(d,function(){j(!0,d)},function(){y((0,g.default)(l).create(d,x))},c)}j(!0,b)}function j(a,b){var c,d,i;a?s.start=b:s.end=b,c=Math.floor(s.end-s.start)<=w,c?y((0,g.default)(l).create(a?b:b-w,x)):(i=(s.start+s.end)/2,d=o.getFragmentRequestForTime(A,u,i,{ignoreIsFinished:!0}),e(i,h,f,d))}var l=this.context,m=(0,i.default)(l).getInstance(),o=a.adapter,p=a.timelineConverter,q=void 0,r=void 0,s=void 0,t=void 0,u=void 0,v=void 0,w=void 0,x=void 0,y=void 0,z=void 0,A=void 0;return q={execute:c,reset:d},b(),q}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(130),g=d(f),h=a(9),i=d(h),j=a(13),k=d(j),l=a(10),m=d(l),n=43200;e.__dashjs_factory_name=\\\"LiveEdgeBinarySearchRule\\\",c.default=m.default.getClassFactory(e),b.exports=c.default},{10:10,13:13,130:130,9:9}],143:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(a,b){var c=a.getTrackInfo(),f=c.DVRWindow.end,h=g.default.DEFAULT;if(c.useCalculatedLiveEdgeTime){var i=e.getExpectedLiveEdge();e.setExpectedLiveEdge(f),b((0,g.default)(d).create(i,h))}else b((0,g.default)(d).create(f,h))}var c=void 0,d=this.context,e=a.timelineConverter;return c={execute:b}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(130),g=d(f),h=a(10),i=d(h);e.__dashjs_factory_name=\\\"LiveEdgeWithTimeSynchronizationRule\\\",c.default=i.default.getClassFactory(e),b.exports=c.default},{10:10,130:130}],144:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){e=[],f=[],e.push((0,m.default)(c).create({timelineConverter:(0,i.default)(c).getInstance()})),f.push((0,k.default)(c).create({timelineConverter:(0,i.default)(c).getInstance(),adapter:(0,o.default)(c).getInstance()}))}function b(a){switch(a){case p:return e;case q:return f;default:return null}}var c=this.context,d=void 0,e=void 0,f=void 0;return d={initialize:a,getRules:b}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f),h=a(37),i=d(h),j=a(142),k=d(j),l=a(143),m=d(l),n=a(15),o=d(n),p=\\\"withAccurateTimeSourceRules\\\",q=\\\"bestGuestRules\\\";e.__dashjs_factory_name=\\\"SynchronizationRulesCollection\\\";var r=g.default.getSingletonFactory(e);r.TIME_SYNCHRONIZED_RULES=p,r.BEST_GUESS_RULES=q,c.default=r,b.exports=c.default},{10:10,142:142,143:143,15:15,37:37}],145:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){l=(0,m.default)(e).create({updateEventName:i.default.SERVICE_LOCATION_BLACKLIST_CHANGED,loadFailedEventName:i.default.FRAGMENT_LOADING_COMPLETED}),n=(0,q.default)(e).create({blacklistController:l}),p=(0,o.default)(e).create({blacklistController:l}),r=n}function b(a){r=h.getIsDVB(a)?p:n}function c(a){var b=a.baseUrls,c=a.selectedIdx;if(!isNaN(c))return b[c];var d=r.select(b);return d?(a.selectedIdx=b.indexOf(d),d):void f.trigger(i.default.URL_RESOLUTION_FAILED,{error:new Error(t,u)})}function d(){l.reset()}var e=this.context,f=(0,g.default)(e).getInstance(),h=(0,k.default)(e).getInstance(),j=void 0,l=void 0,n=void 0,p=void 0,r=void 0;return j={chooseSelectorFromManifest:b,select:c,reset:d},a(),j}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(9),g=d(f),h=a(13),i=d(h),j=a(22),k=d(j),l=a(62),m=d(l),n=a(139),o=d(n),p=a(138),q=d(p),r=a(10),s=d(r),t=1,u=\\\"Failed to resolve a valid URL\\\";e.__dashjs_factory_name=\\\"BaseURLSelector\\\";var v=s.default.getClassFactory(e);v.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=t,v.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE=u,c.default=v,b.exports=c.default},{10:10,13:13,138:138,139:139,22:22,62:62,9:9}],146:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a){if(!a)return null;void 0===a.fileStart&&(a.fileStart=0);var b=k.default.parseBuffer(a),d=(0,g.default)(c).create();return d.setData(b),d}var b=void 0,c=this.context;return b={parse:a}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(153),g=d(f),h=a(10),i=d(h),j=a(6),k=d(j);e.__dashjs_factory_name=\\\"BoxParser\\\",c.default=i.default.getSingletonFactory(e),b.exports=c.default},{10:10,153:153,6:6}],147:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){g=!1}function b(){var a=\\\"WebKitMediaSource\\\"in window,b=\\\"MediaSource\\\"in window;return a||b}function c(){return g}function d(a){g=a}function e(a,b){var c=a.canPlayType(b);return\\\"probably\\\"===c||\\\"maybe\\\"===c}var f=void 0,g=void 0;return f={supportsMediaSource:b,supportsEncryptedMedia:c,supportsCodec:e,setEncryptedMediaSupported:d},a(),f}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f);e.__dashjs_factory_name=\\\"Capabilities\\\",c.default=g.default.getSingletonFactory(e),b.exports=c.default},{10:10}],148:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a,b){var c=0;for(c=0;c<this.customTimeRangeArray.length&&a>this.customTimeRangeArray[c].start;c++);for(this.customTimeRangeArray.splice(c,0,{start:a,end:b}),c=0;c<this.customTimeRangeArray.length-1;c++)this.mergeRanges(c,c+1)&&c--;this.length=this.customTimeRangeArray.length}function b(){this.customTimeRangeArray=[],this.length=0}function c(a,b){for(var c=0;c<this.customTimeRangeArray.length;c++)if(a<=this.customTimeRangeArray[c].start&&b>=this.customTimeRangeArray[c].end)this.customTimeRangeArray.splice(c,1),c--;else{if(a>this.customTimeRangeArray[c].start&&b<this.customTimeRangeArray[c].end){this.customTimeRangeArray.splice(c+1,0,{start:b,end:this.customTimeRangeArray[c].end}),this.customTimeRangeArray[c].end=a;break}a>this.customTimeRangeArray[c].start&&a<this.customTimeRangeArray[c].end?this.customTimeRangeArray[c].end=a:b>this.customTimeRangeArray[c].start&&b<this.customTimeRangeArray[c].end&&(this.customTimeRangeArray[c].start=b)}this.length=this.customTimeRangeArray.length}function d(a,b){var c=this.customTimeRangeArray[a],d=this.customTimeRangeArray[b];return c.start<=d.start&&d.start<=c.end&&c.end<=d.end?(c.end=d.end,this.customTimeRangeArray.splice(b,1),!0):d.start<=c.start&&c.start<=d.end&&d.end<=c.end?(c.start=d.start,this.customTimeRangeArray.splice(b,1),!0):d.start<=c.start&&c.start<=d.end&&c.end<=d.end?(this.customTimeRangeArray.splice(a,1),!0):c.start<=d.start&&d.start<=c.end&&d.end<=c.end&&(this.customTimeRangeArray.splice(b,1),!0)}function e(a){return this.customTimeRangeArray[a].start}function f(a){return this.customTimeRangeArray[a].end}var g=[],h=0;return{customTimeRangeArray:g,length:h,add:a,clear:b,remove:c,mergeRanges:d,start:e,end:f}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f);e.__dashjs_factory_name=\\\"CustomTimeRanges\\\",c.default=g.default.getClassFactory(e),b.exports=c.default},{10:10}],149:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a){if(void 0!==t)return t;t=!1;var b,c=\\\"1\\\",d=\\\"1\\\";try{\\\"undefined\\\"!=typeof window&&(b=window[a])}catch(e){return r(\\\"Warning: DOMStorage access denied: \\\"+e.message),t}if(!b||a!==o&&a!==p)return t;try{b.setItem(c,d),b.removeItem(c),t=!0}catch(e){r(\\\"Warning: DOMStorage is supported, but cannot be used: \\\"+e.message)}return t}function b(){a(o)&&l.forEach(function(a){var b=localStorage.getItem(a.oldKey);if(b){localStorage.removeItem(a.oldKey);try{localStorage.setItem(a.newKey,b)}catch(c){r(c.message)}}})}function c(){u=(0,i.default)(q).getInstance(),b()}function d(){var a=6e5;return Math.round((new Date).getTime()/a)*a}function e(b,c){return a(b)&&u[\\\"get\\\"+c+\\\"CachingInfo\\\"]().enabled}function f(a){if(!e(o,\\\"LastMediaSettings\\\"))return null;var b=n.replace(/\\\\?/,a),c=JSON.parse(localStorage.getItem(b))||{},d=(new Date).getTime()-parseInt(c.timestamp,10)>=u.getLastMediaSettingsCachingInfo().ttl||!1,f=c.settings;return d&&(localStorage.removeItem(b),f=null),f}function g(a){var b=NaN;if(e(o,\\\"LastBitrate\\\")){var c=m.replace(/\\\\?/,a),d=JSON.parse(localStorage.getItem(c))||{},f=(new Date).getTime()-parseInt(d.timestamp,10)>=u.getLastBitrateCachingInfo().ttl||!1,g=parseInt(d.bitrate,10);isNaN(g)||f?f&&localStorage.removeItem(c):(b=g,r(\\\"Last saved bitrate for \\\"+a+\\\" was \\\"+g))}return b}function h(a,b){if(e(o,\\\"LastMediaSettings\\\")){var c=n.replace(/\\\\?/,a);try{localStorage.setItem(c,JSON.stringify({settings:b,timestamp:d()}))}catch(f){r(f.message)}}}function j(a,b){if(e(o,\\\"LastBitrate\\\")&&b){var c=m.replace(/\\\\?/,a);try{localStorage.setItem(c,JSON.stringify({bitrate:b/1e3,timestamp:d()}))}catch(f){r(f.message)}}}var q=this.context,r=(0,k.default)(q).getInstance().log,s=void 0,t=void 0,u=void 0;return s={getSavedBitrateSettings:g,setSavedBitrateSettings:j,getSavedMediaSettings:f,setSavedMediaSettings:h,isSupported:a},c(),s}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f),h=a(101),i=d(h),j=a(8),k=d(j),l=[{oldKey:\\\"dashjs_vbitrate\\\",newKey:\\\"dashjs_video_bitrate\\\"},{oldKey:\\\"dashjs_abitrate\\\",newKey:\\\"dashjs_audio_bitrate\\\"},{oldKey:\\\"dashjs_vsettings\\\",newKey:\\\"dashjs_video_settings\\\"},{oldKey:\\\"dashjs_asettings\\\",newKey:\\\"dashjs_audio_settings\\\"}],m=\\\"dashjs_?_bitrate\\\",n=\\\"dashjs_?_settings\\\",o=\\\"localStorage\\\",p=\\\"sessionStorage\\\";e.__dashjs_factory_name=\\\"DOMStorage\\\";var q=g.default.getSingletonFactory(e);c.default=q,b.exports=c.default},{10:10,101:101,8:8}],150:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){return o}function c(a){o=a}function d(a,b){var c=!0,d=0,e=void 0,f=void 0;if(void 0===b&&(b=!1),a.tag>16777215?(n.getUint32(o)!==a.tag&&(c=!1),d=4):a.tag>65535?(e=n.getUint16(o),f=n.getUint8(o+2),256*e+f!==a.tag&&(c=!1),d=3):a.tag>255?(n.getUint16(o)!==a.tag&&(c=!1),d=2):(n.getUint8(o)!==a.tag&&(c=!1),d=1),!c&&a.required&&!b)throw new i.default(\\\"required tag not found\\\");return c&&(o+=d),c}function e(a,b){var c=d(a,b);return c&&h(),c}function f(a){var b=void 0;return d(a),b=h(),m[a.parse](b)}function g(a,b){var c=d(a,b),e=void 0;return c&&(e=h(),o+=e),c}function h(a){var b=1,c=128,d=8,e=-1,f=0,g=n.getUint8(o),h=void 0;for(h=0;h<d;h+=1){if((g&c)===c){f=void 0===a?g&~c:g,e=h;break}c>>=1}for(h=0;h<e;h+=1,b+=1)f=f<<8|255&n.getUint8(o+b);return o+=b,f}function j(a){var b=void 0;switch(a){case 4:b=n.getFloat32(o),o+=4;break;case 8:b=n.getFloat64(o),o+=8}return b}function k(a){var b=0,c=void 0;for(c=0;c<a;c+=1)b<<=8,b|=255&n.getUint8(o+c);return o+=a,b}function l(){return o<n.byteLength}var m=void 0,n=new DataView(a.data),o=0;return m={getPos:b,\\nsetPos:c,consumeTag:d,consumeTagAndSize:e,parseTag:f,skipOverElement:g,getMatroskaCodedNum:h,getMatroskaFloat:j,getMatroskaUint:k,moreData:l}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f),h=a(162),i=d(h);e.__dashjs_factory_name=\\\"EBMLParser\\\",c.default=g.default.getClassFactory(e),b.exports=c.default},{10:10,162:162}],151:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a){l.trigger(i.default.ERROR,{error:\\\"capability\\\",event:a})}function b(a,b,c){l.trigger(i.default.ERROR,{error:\\\"download\\\",event:{id:a,url:b,request:c}})}function c(a,b,c,d){l.trigger(i.default.ERROR,{error:\\\"manifestError\\\",event:{message:a,id:b,manifest:c,event:d}})}function d(a,b,c){l.trigger(i.default.ERROR,{error:\\\"cc\\\",event:{message:a,id:b,cc:c}})}function e(a){l.trigger(i.default.ERROR,{error:\\\"mediasource\\\",event:a})}function f(a){l.trigger(i.default.ERROR,{error:\\\"key_session\\\",event:a})}function h(a){l.trigger(i.default.ERROR,{error:\\\"key_message\\\",event:a})}var j=void 0,k=this.context,l=(0,g.default)(k).getInstance();return j={capabilityError:a,downloadError:b,manifestError:c,timedTextError:d,mediaSourceError:e,mediaKeySessionError:f,mediaKeyMessageError:h}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(9),g=d(f),h=a(13),i=d(h),j=a(10),k=d(j),l=\\\"mediasource\\\",m=\\\"mediakeys\\\",n=\\\"manifest\\\",o=\\\"SIDX\\\",p=\\\"content\\\",q=\\\"initialization\\\",r=\\\"xlink\\\",s=\\\"codec\\\",t=\\\"parse\\\",u=\\\"nostreams\\\",v=\\\"parse\\\";e.__dashjs_factory_name=\\\"ErrorHandler\\\";var w=k.default.getSingletonFactory(e);w.CAPABILITY_ERROR_MEDIASOURCE=l,w.CAPABILITY_ERROR_MEDIAKEYS=m,w.DOWNLOAD_ERROR_ID_MANIFEST=n,w.DOWNLOAD_ERROR_ID_SIDX=o,w.DOWNLOAD_ERROR_ID_CONTENT=p,w.DOWNLOAD_ERROR_ID_INITIALIZATION=q,w.DOWNLOAD_ERROR_ID_XLINK=r,w.MANIFEST_ERROR_ID_CODEC=s,w.MANIFEST_ERROR_ID_PARSE=t,w.MANIFEST_ERROR_ID_NOSTREAMS=u,w.TIMED_TEXT_ERROR_ID_PARSE=v,c.default=w,b.exports=c.default},{10:10,13:13,9:9}],152:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a){var b=a.streamId,c=a.mediaInfo.type,e=a.quality;d[b]=d[b]||{},d[b][c]=d[b][c]||{},d[b][c][e]=a}function b(a,b,c){return d[a][b][c]}function c(){d={}}var d={},e={save:a,extract:b,reset:c};return e}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f);e.__dashjs_factory_name=\\\"InitCache\\\",c.default=g.default.getSingletonFactory(e),b.exports=c.default},{10:10}],153:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a){return a&&k&&k.boxes&&0!==k.boxes.length?i(k.fetch(a)):null}function b(a){for(var b,c=k.fetchAll(a),d=[],e=0,f=c.length;e<f;e++)b=i(c[e]),b&&d.push(b);return d}function c(a){k=a}function d(){if(!k||!k.boxes||!k.boxes.length)return null;var a=k.boxes[k.boxes.length-1].type,c=b(a);return c[c.length-1]}function e(){return k._cursor.offset}function f(){l={offset:\\\"_offset\\\",size:\\\"size\\\",type:\\\"type\\\"},m={references:\\\"references\\\",timescale:\\\"timescale\\\",earliest_presentation_time:\\\"earliest_presentation_time\\\",first_offset:\\\"first_offset\\\"},n={reference_type:\\\"reference_type\\\",referenced_size:\\\"referenced_size\\\",subsegment_duration:\\\"subsegment_duration\\\"},o={id:\\\"id\\\",value:\\\"value\\\",timescale:\\\"timescale\\\",scheme_id_uri:\\\"scheme_id_uri\\\",presentation_time_delta:\\\"presentation_time_delta\\\",event_duration:\\\"event_duration\\\",message_data:\\\"message_data\\\"},p={timescale:\\\"timescale\\\"},q={sequence_number:\\\"sequence_number\\\"},r={base_data_offset:\\\"base_data_offset\\\",sample_description_index:\\\"sample_description_index\\\",default_sample_duration:\\\"default_sample_duration\\\",default_sample_size:\\\"default_sample_size\\\",default_sample_flags:\\\"default_sample_flags\\\",flags:\\\"flags\\\"},s={version:\\\"version\\\",baseMediaDecodeTime:\\\"baseMediaDecodeTime\\\",flags:\\\"flags\\\"},t={sample_count:\\\"sample_count\\\",first_sample_flags:\\\"first_sample_flags\\\",data_offset:\\\"data_offset\\\",flags:\\\"flags\\\",samples:\\\"samples\\\"},u={sample_size:\\\"sample_size\\\",sample_duration:\\\"sample_duration\\\",sample_composition_time_offset:\\\"sample_composition_time_offset\\\"}}function h(a,b,c){for(var d in c)b[d]=a[c[d]]}function i(a){if(!a)return null;var b,c,d=new g.default;switch(h(a,d,l),a.hasOwnProperty(\\\"_incomplete\\\")&&(d.isComplete=!a._incomplete),d.type){case\\\"sidx\\\":if(h(a,d,m),d.references)for(b=0,c=d.references.length;b<c;b++)h(a.references[b],d.references[b],n);break;case\\\"emsg\\\":h(a,d,o);break;case\\\"mdhd\\\":h(a,d,p);break;case\\\"mfhd\\\":h(a,d,q);break;case\\\"tfhd\\\":h(a,d,r);break;case\\\"tfdt\\\":h(a,d,s);break;case\\\"trun\\\":if(h(a,d,t),d.samples)for(b=0,c=d.samples.length;b<c;b++)h(a.samples[b],d.samples[b],u)}return d}var j=void 0,k=void 0,l=void 0,m=void 0,n=void 0,o=void 0,p=void 0,q=void 0,r=void 0,s=void 0,t=void 0,u=void 0;return j={getBox:a,getBoxes:b,setData:c,getLastBox:d,getOffset:e},f(),j}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(165),g=d(f),h=a(10),i=d(h);e.__dashjs_factory_name=\\\"IsoFile\\\",c.default=i.default.getClassFactory(e),b.exports=c.default},{10:10,165:165}],154:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a,b){n=a,p=b,s=!1,t=NaN,v=null,q=(0,o.default)(h).getInstance(),w=g.default.BEST_GUESS_RULES,j.on(m.default.STREAM_INITIALIZED,f,this)}function b(){s=!1,t=NaN}function c(){return v}function d(){j.off(m.default.STREAM_INITIALIZED,f,this),b(),v=null,n=null,p=null,s=!1,t=NaN,w=null,q=null}function e(a){var b=((new Date).getTime()-t)/1e3;v=a.value,j.trigger(m.default.LIVE_EDGE_SEARCH_COMPLETED,{liveEdge:v,searchTime:b,error:null===v?new i.default(r,\\\"live edge has not been found\\\",null):null})}function f(a){!p.isDynamic()||s||a.error||(w=n.isTimeSyncCompleted()?g.default.TIME_SYNCHRONIZED_RULES:g.default.BEST_GUESS_RULES,u=(0,g.default)(h).getInstance().getRules(w),s=!0,t=(new Date).getTime(),q.applyRules(u,p,e,null,function(a,b){return b}))}var h=this.context,j=(0,k.default)(h).getInstance(),l=void 0,n=void 0,p=void 0,q=void 0,s=void 0,t=void 0,u=void 0,v=void 0,w=void 0;return l={initialize:a,abortSearch:b,getLiveEdge:c,reset:d}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(144),g=d(f),h=a(162),i=d(h),j=a(9),k=d(j),l=a(13),m=d(l),n=a(129),o=d(n),p=a(10),q=d(p),r=1;e.__dashjs_factory_name=\\\"LiveEdgeFinder\\\";var s=q.default.getSingletonFactory(e);s.LIVE_EDGE_NOT_FOUND_ERROR_CODE=r,c.default=s,b.exports=c.default},{10:10,129:129,13:13,144:144,162:162,9:9}],155:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a,b){return JSON.stringify(a)===JSON.stringify(b)}var b=void 0;return b={areSimpleEquivalent:a}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f);e.__dashjs_factory_name=\\\"ObjectUtils\\\",c.default=g.default.getSingletonFactory(e),b.exports=c.default},{10:10}],156:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a){return a}function b(a){return a}var c=void 0;return c={modifyRequestURL:a,modifyRequestHeader:b}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f);e.__dashjs_factory_name=\\\"RequestModifier\\\",c.default=g.default.getSingletonFactory(e),b.exports=c.default},{10:10}],157:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a){a&&a.videoModel&&(ba=a.videoModel)}function b(a){if(a.hasOwnProperty(\\\"begin\\\")&&a.hasOwnProperty(\\\"end\\\")){var b=o(a.begin),c=o(a.end);return[b,c]}return null}function c(){var a=\\\"cue_TTML_\\\"+ca;return ca++,a}function d(a,b,c){function d(a,b){if(a.hasOwnProperty(b)){var c=a[b];f.indexOf(c)<0&&f.push(c)}}for(var e=[],f=[],g=[],h=0;h<a.length;h++){var i=a[h];d(i,\\\"begin\\\"),d(i,\\\"end\\\")}if(0===f.length)return g;if(\\\"undefined\\\"!=typeof b&&\\\"undefined\\\"!=typeof c){for(var h=0;h<f.length;h++){var j=o(f[h]);b<j&&j<c&&e.push(j)}e.push(b),e.push(c)}else for(var h=0;h<f.length;h++)e.push(o(f[h]));e.sort(function(a,b){return a-b});for(var h=0;h<e.length-1;h++)g.push([e[h],e[h+1]]);return g}function e(a,b){return\\\"undefined\\\"!=typeof startInterval&&a<b&&(a=b),a}function f(a,b){return\\\"undefined\\\"!=typeof b&&a>b&&(a=b),a}function g(a,b,c){var d=o(a.begin),g=o(a.end);return d=e(d,b),g=f(g,c),\\\"undefined\\\"!=typeof b&&\\\"undefined\\\"!=typeof c&&(g<b||d>c)?(L(\\\"TTML: Cue \\\"+d+\\\"-\\\"+g+\\\" outside interval \\\"+b+\\\"-\\\"+c),null):[d,g]}function h(a,c){var d=!0;if(a.hasOwnProperty(\\\"span\\\")){var e=b(a.span);null!==e&&(d=e[0]<c[1]&&e[1]>c[0])}return d}function j(a,e,f){var j=void 0,k=void 0,l=void 0,m=void 0,n=void 0,o=\\\"\\\",r=new i.default([],\\\"\\\",(!1));if(O=r.xml_str2json(a),!O)throw new Error(\\\"TTML document could not be parsed\\\");if(ba.getTTMLRenderingDiv()&&(n=\\\"html\\\"),j=O.tt,!j)throw new Error(\\\"TTML document lacks tt element\\\");var s=p(j,\\\"http://www.w3.org/ns/ttml\\\");if(s&&q(j,s),m=j[\\\"tts:extent\\\"],k=j.head,!k)throw new Error(\\\"TTML document lacks head element\\\");if(k.layout&&(Q=k.layout.region_asArray),k.styling&&(P=k.styling.style_asArray),l=j.body,!l)throw new Error(\\\"TTML document lacks body element\\\");var w=E(),x=ba.getElement().clientWidth,y=ba.getElement().clientHeight,z=[x/w[0],y/w[1]];V[\\\"font-size\\\"]=z[1]+\\\"px;\\\";var D=[];if(Q)for(var J=0;J<Q.length;J++)D.push(B(JSON.parse(JSON.stringify(Q[J])),z));var K=p(O.tt,\\\"http://www.w3.org/ns/ttml#parameter\\\");j.hasOwnProperty(K+\\\":frameRate\\\")&&(j.frameRate=parseInt(j[K+\\\":frameRate\\\"],10));for(var M=[],N=j.body_asArray[0].__children,U=0;U<N.length;U++){var W=N[U].div,X=null;if(null===(X=b(W))){var Y=W.p_asArray;if(null===X&&(!Y||0===Y.length))return o=\\\"TTML has div that contains no timing and no paragraphs.\\\",L(o),M;for(var Z=0;Z<Y.length;Z++){var $=Y[Z],_=$.span_asArray,aa=[];if($.hasOwnProperty(\\\"begin\\\")&&$.hasOwnProperty(\\\"end\\\")){var ca=g($,e,f);null!==ca&&aa.push(ca)}else aa=d(_,e,f);if(0!==aa.length)for(var da=$.__children,ea=0;ea<aa.length;ea++){for(var fa=aa[ea],ga=[],ha=0;ha<da.length;ha++){var ia=da[ha];h(ia,fa)&&ga.push(ia)}if(0!==ga.length)if(\\\"html\\\"===n){S={},T={},R={};var ja=H($,W,z),ka=I($,z),la=ka[1];ka=ka[0];var ma=document.createElement(\\\"div\\\");ma.className=la;var na=G(ga,z);na.className=\\\"cueDirUniWrapper\\\",t(\\\"unicode-bidi\\\",ka)&&(na.style.cssText+=u(\\\"unicode-bidi\\\",ka),v(\\\"unicode-bidi\\\",ka)),t(\\\"direction\\\",ka)&&(na.style.cssText+=u(\\\"direction\\\",ka),v(\\\"direction\\\",ka)),t(\\\"padding-left\\\",ka)&&t(\\\"padding-right\\\",ka)&&(na.innerHTML=F(na,ka)),t(\\\"padding-left\\\",ka)&&t(\\\"padding-right\\\",ka)&&(v(\\\"padding-left\\\",ka),v(\\\"padding-right\\\",ka));var oa=\\\"\\\";if(t(\\\"regionID\\\",ja)){var pa=u(\\\"regionID\\\",ja);oa=pa.slice(pa.indexOf(\\\":\\\")+1,pa.length-1)}ka&&(ma.style.cssText=ka.join(\\\" \\\")+\\\"display:flex;\\\"),ja&&(ja=ja.join(\\\" \\\")),ma.appendChild(na);var qa=document.createElement(\\\"div\\\");qa.appendChild(ma),qa.id=c(),qa.style.cssText=\\\"position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;\\\"+ja,0===Object.keys(R).length&&(R.defaultFontSize=\\\"100\\\"),M.push({start:fa[0],end:fa[1],type:\\\"html\\\",cueHTMLElement:qa,regions:D,regionID:oa,cueID:qa.id,videoHeight:y,videoWidth:x,cellResolution:w,fontSize:R||{defaultFontSize:\\\"100\\\"},lineHeight:S,linePadding:T})}else{var ra=\\\"\\\",sa=ga;sa.length&&sa.forEach(function(a){if(a.hasOwnProperty(\\\"span\\\")){var b=a.span.__children;b.forEach(function(a){b.hasOwnProperty(\\\"metadata\\\")||(a.hasOwnProperty(\\\"#text\\\")?ra+=a[\\\"#text\\\"].replace(/[\\\\r\\\\n]+/gm,\\\" \\\").trim():\\\"br\\\"in a&&(ra+=\\\"\\\\n\\\"))})}else ra+=a.hasOwnProperty(\\\"br\\\")?\\\"\\\\n\\\":a[\\\"#text\\\"].replace(/[\\\\r\\\\n]+/gm,\\\" \\\").trim()}),M.push({start:fa[0],end:fa[1],data:ra,type:\\\"text\\\"})}}else o=\\\"TTML: Empty paragraph\\\"}}else{var ta=void 0;if(W.region){var ua=C(Q,W.region);ta=A(ua,m)}ta||(ta=A(W,m));var va=j.head.metadata.image_asArray;if(void 0!==W[\\\"smpte:backgroundImage\\\"])for(var wa=0;wa<va.length;wa++)\\\"#\\\"+va[wa][\\\"xml:id\\\"]===W[\\\"smpte:backgroundImage\\\"]&&M.push({start:X[0],end:X[1],id:c(),data:\\\"data:image/\\\"+va[wa].imagetype.toLowerCase()+\\\";base64, \\\"+va[wa].__text,type:\\\"image\\\",layout:ta})}}if(\\\"\\\"!==o&&L(o),M.length>0)return M;throw new Error(o)}function n(){N=/^([0-9][0-9]+):([0-5][0-9]):([0-5][0-9])|(60)(\\\\.([0-9])+)?$/,R={},S={},T={},U={top:\\\"auto;\\\",left:\\\"auto;\\\",width:\\\"90%;\\\",height:\\\"10%;\\\",\\\"align-items\\\":\\\"flex-start;\\\",overflow:\\\"visible;\\\",\\\"-ms-writing-mode\\\":\\\"lr-tb, horizontal-tb;\\\",\\\"-webkit-writing-mode\\\":\\\"horizontal-tb;\\\",\\\"-moz-writing-mode\\\":\\\"horizontal-tb;\\\",\\\"writing-mode\\\":\\\"horizontal-tb;\\\"},V={color:\\\"rgb(255,255,255);\\\",direction:\\\"ltr;\\\",\\\"font-family\\\":\\\"monospace, sans-serif;\\\",\\\"font-style\\\":\\\"normal;\\\",\\\"line-height\\\":\\\"normal;\\\",\\\"font-weight\\\":\\\"normal;\\\",\\\"text-align\\\":\\\"start;\\\",\\\"justify-content\\\":\\\"flex-start;\\\",\\\"text-decoration\\\":\\\"none;\\\",\\\"unicode-bidi\\\":\\\"normal;\\\",\\\"white-space\\\":\\\"normal;\\\",width:\\\"100%;\\\"},W={monospace:\\\"font-family: monospace;\\\",sansSerif:\\\"font-family: sans-serif;\\\",serif:\\\"font-family: serif;\\\",monospaceSansSerif:\\\"font-family: monospace, sans-serif;\\\",monospaceSerif:\\\"font-family: monospace, serif;\\\",proportionalSansSerif:\\\"font-family: Arial;\\\",proportionalSerif:\\\"font-family: Times New Roman;\\\",default:\\\"font-family: monospace, sans-serif;\\\"},X={right:[\\\"justify-content: flex-end;\\\",\\\"text-align: right;\\\"],start:[\\\"justify-content: flex-start;\\\",\\\"text-align: start;\\\"],center:[\\\"justify-content: center;\\\",\\\"text-align: center;\\\"],end:[\\\"justify-content: flex-end;\\\",\\\"text-align: end;\\\"],left:[\\\"justify-content: flex-start;\\\",\\\"text-align: left;\\\"]},Y={start:\\\"text-align: start;\\\",center:\\\"text-align: center;\\\",end:\\\"text-align: end;\\\",auto:\\\"\\\"},Z={wrap:\\\"white-space: normal;\\\",noWrap:\\\"white-space: nowrap;\\\"},$={normal:\\\"unicode-bidi: normal;\\\",embed:\\\"unicode-bidi: embed;\\\",bidiOverride:\\\"unicode-bidi: bidi-override;\\\"},_={before:\\\"align-items: flex-start;\\\",center:\\\"align-items: center;\\\",after:\\\"align-items: flex-end;\\\"},aa={lrtb:\\\"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;\\\",rltb:\\\"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;unicode-bidi: bidi-override;\\\",tbrl:\\\"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;\\\",tblr:\\\"-webkit-writing-mode: vertical-lr;writing-mode: vertical-lr;-webkit-text-orientation: upright;text-orientation: upright;\\\",lr:\\\"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;\\\",rl:\\\"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;\\\",tb:\\\"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;\\\"}}function o(a){var b,c,d,e=N.test(a);if(!e)return NaN;if(b=a.split(\\\":\\\"),c=parseFloat(b[0])*l+parseFloat(b[1])*m+parseFloat(b[2]),b[3]){if(d=O.tt.frameRate,!d||isNaN(d))return NaN;c+=parseFloat(b[3])/d}return c}function p(a,b){var c=Object.keys(a).filter(function(c){return(\\\"xmlns\\\"===c.split(\\\":\\\")[0]||\\\"xmlns\\\"===c.split(\\\":\\\")[1])&&a[c]===b}).map(function(a){return a.split(\\\":\\\")[2]||a.split(\\\":\\\")[1]});return 1!=c.length?null:c[0]}function q(a,b){for(var c in a)if(a.hasOwnProperty(c)){if((\\\"object\\\"==typeof a[c]||a[c]instanceof Object)&&!Array.isArray(a[c]))q(a[c],b);else if(Array.isArray(a[c]))for(var d=0;d<a[c].length;d++)q(a[c][d],b);var e=c.slice(c.indexOf(b)+b.length+1);a[e]=a[c],delete a[c]}}function r(a){return a.replace(/([a-z])([A-Z])/g,\\\"$1-$2\\\").toLowerCase()}function s(a){var b=a.slice(1),c=b.match(/.{2}/g),d=parseFloat(parseInt(parseInt(c[3],16)/255*1e3,10)/1e3),e=c.slice(0,3).map(function(a){return parseInt(a,16)});return\\\"rgba(\\\"+e.join(\\\",\\\")+\\\",\\\"+d+\\\");\\\"}function t(a,b){for(var c=0;c<b.length;c++)if(b[c].indexOf(a)>-1)return!0;return!1}function u(a,b){for(var c=0;c<b.length;c++)if(b[c].indexOf(a)>-1)return b[c];return null}function v(a,b){b.splice(b.indexOf(u(a,b)),1)}function w(a,b){for(var c=0;c<a.length;c++)for(var d=0;d<b.length;d++)a[c]&&a[c].split(\\\":\\\")[0].indexOf(b[d].split(\\\":\\\")[0])>-1&&a.splice(c,1);return a.concat(b)}function x(a,b,c){var d=[];for(var e in a)if(a.hasOwnProperty(e)){var f=e.replace(\\\"ebutts:\\\",\\\"\\\");f=f.replace(\\\"xml:\\\",\\\"\\\"),f=f.replace(\\\"tts:\\\",\\\"\\\"),f=r(f),a[f]=a[e],delete a[e]}if(\\\"line-padding\\\"in a){var g=parseFloat(a[\\\"line-padding\\\"].slice(a[\\\"line-padding\\\"].indexOf(\\\":\\\")+1,a[\\\"line-padding\\\"].indexOf(\\\"c\\\")));\\\"id\\\"in a&&(T[a.id]=g);var h=g*b[0]+\\\"px;\\\";d.push(\\\"padding-left:\\\"+h),d.push(\\\"padding-right:\\\"+h)}if(\\\"font-size\\\"in a){var i=parseFloat(a[\\\"font-size\\\"].slice(a[\\\"font-size\\\"].indexOf(\\\":\\\")+1,a[\\\"font-size\\\"].indexOf(\\\"%\\\")));\\\"id\\\"in a&&(R[a.id]=i);var j=i/100*b[1]+\\\"px;\\\";d.push(\\\"font-size:\\\"+j)}if(\\\"line-height\\\"in a)if(\\\"normal\\\"===a[\\\"line-height\\\"])d.push(\\\"line-height: normal;\\\");else{var k=parseFloat(a[\\\"line-height\\\"].slice(a[\\\"line-height\\\"].indexOf(\\\":\\\")+1,a[\\\"line-height\\\"].indexOf(\\\"%\\\")));\\\"id\\\"in a&&(S[a.id]=k);var l=k/100*b[1]+\\\"px;\\\";d.push(\\\"line-height:\\\"+l)}\\\"font-family\\\"in a&&(a[\\\"font-family\\\"]in W?d.push(W[a[\\\"font-family\\\"]]):d.push(\\\"font-family:\\\"+a[\\\"font-family\\\"]+\\\";\\\")),\\\"text-align\\\"in a&&a[\\\"text-align\\\"]in X&&(d.push(X[a[\\\"text-align\\\"]][0]),d.push(X[a[\\\"text-align\\\"]][1])),\\\"multi-row-align\\\"in a&&(t(\\\"text-align\\\",d)&&\\\"auto\\\"!=a[\\\"multi-row-align\\\"]&&v(\\\"text-align\\\",d),a[\\\"multi-row-align\\\"]in Y&&d.push(Y[a[\\\"multi-row-align\\\"]]));var m;return\\\"background-color\\\"in a&&(a[\\\"background-color\\\"].indexOf(\\\"#\\\")>-1&&a[\\\"background-color\\\"].length-1===8?(m=s(a[\\\"background-color\\\"]),d.push(\\\"background-color: \\\"+m)):d.push(\\\"background-color:\\\"+a[\\\"background-color\\\"]+\\\";\\\")),\\\"color\\\"in a&&(a.color.indexOf(\\\"#\\\")>-1&&a.color.length-1===8?(m=s(a.color),d.push(\\\"color: \\\"+m)):d.push(\\\"color:\\\"+a.color+\\\";\\\")),\\\"wrap-option\\\"in a&&(a[\\\"wrap-option\\\"]in Z?d.push(Z[a[\\\"wrap-option\\\"]]):d.push(\\\"white-space:\\\"+a[\\\"wrap-option\\\"])),\\\"unicode-bidi\\\"in a&&(a[\\\"unicode-bidi\\\"]in $?d.push($[a[\\\"unicode-bidi\\\"]]):d.push(\\\"unicode-bidi:\\\"+a[\\\"unicode-bidi\\\"])),\\\"font-style\\\"in a&&d.push(\\\"font-style:\\\"+a[\\\"font-style\\\"]+\\\";\\\"),\\\"font-weight\\\"in a&&d.push(\\\"font-weight:\\\"+a[\\\"font-weight\\\"]+\\\";\\\"),\\\"direction\\\"in a&&d.push(\\\"direction:\\\"+a.direction+\\\";\\\"),\\\"text-decoration\\\"in a&&d.push(\\\"text-decoration:\\\"+a[\\\"text-decoration\\\"]+\\\";\\\"),c&&(d=d.concat(B(a,b))),O.tt.hasOwnProperty(\\\"xml:space\\\")&&\\\"preserve\\\"===O.tt[\\\"xml:space\\\"]&&d.push(\\\"white-space: pre;\\\"),d}function y(a,b){for(var c=0;c<a.length;c++){var d=a[c];if(d[\\\"xml:id\\\"]===b||d.id===b)return d}return null}function z(a,b,c){var d=[],e=a.match(/\\\\S+/g);return e.forEach(function(a){var e=y(P,a);if(e){var f=x(JSON.parse(JSON.stringify(e)),b,c);d=d.concat(f)}}),d}function A(a,b){var c=/([\\\\d\\\\.]+)(%|px)\\\\s+([\\\\d\\\\.]+)(%|px)/;if(\\\"tts:extent\\\"in a&&\\\"tts:origin\\\"in a){var d=c.exec(a[\\\"tts:extent\\\"]),e=c.exec(a[\\\"tts:origin\\\"]);if(null===d||null===e)return L(\\\"Bad extent or origin: \\\"+a[\\\"tts:extent\\\"]+\\\" \\\"+a[\\\"tts:origin\\\"]),null;var f=parseFloat(d[1]),g=parseFloat(d[3]),h=parseFloat(e[1]),i=parseFloat(e[3]);if(b){var j=c.exec(b);if(null===j||\\\"px\\\"!==j[2]||\\\"px\\\"!==j[4])return L(\\\"Bad tt.extent: \\\"+b),null;var k=parseFloat(j[1]),l=parseFloat(j[3]);\\\"px\\\"===d[2]&&(f=f/k*100),\\\"px\\\"===d[4]&&(g=g/l*100),\\\"px\\\"===e[2]&&(h=h/k*100),\\\"px\\\"===e[4]&&(i=i/l*100)}return{left:h,top:i,width:f,height:g}}return null}function B(a,b){var c=[];for(var d in a){var e=d.replace(\\\"tts:\\\",\\\"\\\");e=e.replace(\\\"xml:\\\",\\\"\\\"),e=r(e),a[e]=a[d],e!==d&&delete a[d]}if(\\\"extent\\\"in a){var f=a.extent.split(/\\\\s/);c.push(\\\"width: \\\"+f[0]+\\\";\\\"),c.push(\\\"height: \\\"+f[1]+\\\";\\\")}if(\\\"origin\\\"in a){var g=a.origin.split(/\\\\s/);c.push(\\\"left: \\\"+g[0]+\\\";\\\"),c.push(\\\"top: \\\"+g[1]+\\\";\\\")}if(\\\"display-align\\\"in a&&c.push(_[a[\\\"display-align\\\"]]),\\\"writing-mode\\\"in a&&c.push(aa[a[\\\"writing-mode\\\"]]),\\\"style\\\"in a){var h=z(a.style,b,!0);c=c.concat(h)}return\\\"padding\\\"in a&&c.push(\\\"padding:\\\"+a.padding+\\\";\\\"),\\\"overflow\\\"in a&&c.push(\\\"overflow:\\\"+a.overflow+\\\";\\\"),\\\"show-background\\\"in a&&c.push(\\\"show-background:\\\"+a[\\\"show-background\\\"]+\\\";\\\"),\\\"id\\\"in a&&c.push(\\\"regionID:\\\"+a.id+\\\";\\\"),c}function C(a,b){for(var c=0;c<a.length;c++){var d=a[c];if(d[\\\"xml:id\\\"]===b||d.id===b)return d}return null}function D(a,b){var c=[],d=a.match(/\\\\S+/g);return d.forEach(function(a){var d=C(Q,a);if(d){var e=B(JSON.parse(JSON.stringify(d)),b);c=c.concat(e)}}),c}function E(){var a=[32,15];return O.tt.hasOwnProperty(\\\"ttp:cellResolution\\\")?O.tt[\\\"ttp:cellResolution\\\"].split(\\\" \\\").map(parseFloat):a}function F(a,b){for(var c=u(\\\"padding-left\\\",b),d=u(\\\"padding-right\\\",b),e=c.concat(\\\" \\\"+d+\\\" \\\"),f=\\\"\\\",g=\\\"\\\",h=\\\"\\\",i=Array.prototype.slice.call(a.children),j=a.getElementsByClassName(\\\"lineBreak\\\")[0],k=i.indexOf(j),l=[];k!=-1;)l.push(k),k=i.indexOf(j,k+1);var m=\\\"</span>\\\",n=\\\"<br>\\\",o='<span class=\\\"spanPadding\\\" style=\\\"-webkit-box-decoration-break: clone; box-decoration-break: clone; ';if(l.length)l.forEach(function(a,b){if(0===b){for(var c=\\\"\\\",d=0;d<a;d++)f+=i[d].outerHTML,0===d&&(c=e.concat(i[d].style.cssText));f=o+c+'\\\">'+f}for(var j=\\\"\\\",k=a+1;k<i.length;k++)g+=i[k].outerHTML,k===i.length-1&&(j+=e.concat(i[k].style.cssText));g=o+j+'\\\">'+g,f&&g&&b===l.length-1?h+=f+m+n+g+m:f&&g&&b!==l.length-1?h+=f+m+n+g+m+n:f&&!g?h+=f+m:!f&&g&&b===l.length-1?h+=g+m:!f&&g&&b!==l.length-1&&(h+=g+m+n)});else{for(var p=\\\"\\\",q=0;q<i.length;q++)p+=i[q].style.cssText;h=o+e+p+'\\\">'+a.innerHTML+m}return h}function G(a,b){var c=document.createElement(\\\"div\\\");return a.forEach(function(a){if(!a.hasOwnProperty(\\\"metadata\\\"))if(a.hasOwnProperty(\\\"span\\\")){var d=a.span.__children,e=document.createElement(\\\"span\\\");if(a.span.hasOwnProperty(\\\"style\\\")){var f=z(a.span.style,b);e.className=\\\"spanPadding \\\"+a.span.style,e.style.cssText=f.join(\\\" \\\")}d.forEach(function(a){if(!d.hasOwnProperty(\\\"metadata\\\"))if(a.hasOwnProperty(\\\"#text\\\")){var b=document.createTextNode(a[\\\"#text\\\"]);e.appendChild(b)}else if(\\\"br\\\"in a){e.hasChildNodes()&&c.appendChild(e);var f=document.createElement(\\\"br\\\");f.className=\\\"lineBreak\\\",c.appendChild(f);var g=document.createElement(\\\"span\\\");g.className=e.className,g.style.cssText=e.style.cssText,e=g}}),c.appendChild(e)}else if(a.hasOwnProperty(\\\"br\\\")){var g=document.createElement(\\\"br\\\");g.className=\\\"lineBreak\\\",c.appendChild(g)}else if(a.hasOwnProperty(\\\"#text\\\")){var h=document.createElement(\\\"span\\\");h.textContent=a[\\\"#text\\\"],c.appendChild(h)}}),c}function H(a,b,c){var d,e,f=[],g=a.region,h=b.region;return h&&(d=D(h,c)),g?(e=f.concat(D(g,c)),f=d?w(d,e):e):d&&(f=d),J(f,U),f}function I(a,b){var c,d,e,f=[],g=a.style,h=O.tt.body.style,i=O.tt.body.div.style,j=\\\"\\\";return h&&(c=z(h,b),j=\\\"paragraph \\\"+h),i&&(d=z(i,b),c?(d=w(c,d),j+=\\\" \\\"+i):j=\\\"paragraph \\\"+i),g?(e=z(g,b),c&&d?(f=w(d,e),j+=\\\" \\\"+g):c?(f=w(c,e),j+=\\\" \\\"+g):d?(f=w(d,e),j+=\\\" \\\"+g):(f=e,j=\\\"paragraph \\\"+g)):c&&!d?f=c:!c&&d&&(f=d),J(f,V),[f,j]}function J(a,b){for(var c in b)b.hasOwnProperty(c)&&(t(c,a)||a.push(c+\\\":\\\"+b[c]))}var K=this.context,L=(0,k.default)(K).getInstance().log,M=void 0,N=void 0,O=void 0,P=void 0,Q=void 0,R=void 0,S=void 0,T=void 0,U=void 0,V=void 0,W=void 0,X=void 0,Y=void 0,Z=void 0,$=void 0,_=void 0,aa=void 0,ba=void 0,ca=0;return M={parse:j,setConfig:a},n(),M}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f),h=a(4),i=d(h),j=a(8),k=d(j),l=3600,m=60;e.__dashjs_factory_name=\\\"TTMLParser\\\",c.default=g.default.getSingletonFactory(e),b.exports=c.default},{10:10,4:4,8:8}],158:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a){var b=\\\"\\\";return a.indexOf(\\\"/\\\")!==-1&&(a.indexOf(\\\"?\\\")!==-1&&(a=a.substring(0,a.indexOf(\\\"?\\\"))),b=a.substring(0,a.lastIndexOf(\\\"/\\\")+1)),b}function b(a){var b=a.match(i);return b?b[1]:\\\"\\\"}function c(a){return!g.test(a)}function d(a){return g.test(a)&&\\\"/\\\"===a.charAt(0)}function e(a){return h.test(a)}var f=void 0,g=/^(?:(?:[a-z]+:)?\\\\/)?\\\\//i,h=/^https?:\\\\/\\\\//i,i=/^(https?:\\\\/\\\\/[^\\\\/]+)\\\\/?/i;return f={parseBaseUrl:a,parseOrigin:b,isRelative:c,isPathAbsolute:d,isHTTPURL:e}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f);e.__dashjs_factory_name=\\\"URLUtils\\\",c.default=g.default.getSingletonFactory(e),b.exports=c.default},{10:10}],159:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){k=/(?:\\\\r\\\\n|\\\\r|\\\\n)/gm,l=/-->/,m=/(^[\\\\s]+|[\\\\s]+$)/g,n=/\\\\s\\\\b/g}function b(a){var b,e,g=[];a=a.split(k),b=a.length,e=-1;for(var i=0;i<b;i++){var j=a[i];if(j.length>0&&\\\"WEBVTT\\\"!==j&&j.match(l)){var n=d(j),o=n.cuePoints,p=n.styles,q=f(a,i+1),r=c(o[0].replace(m,\\\"\\\")),s=c(o[1].replace(m,\\\"\\\"));!isNaN(r)&&!isNaN(s)&&r>=e&&s>r?\\\"\\\"!==q?(e=r,g.push({start:r,end:s,data:q,styles:p})):h(\\\"Skipping cue due to empty/malformed cue text\\\"):h(\\\"Skipping cue due to incorrect cue timing\\\")}}return g}function c(a){var b=a.split(\\\":\\\"),c=b.length-1;return a=60*parseInt(b[c-1],10)+parseFloat(b[c]),2===c&&(a+=3600*parseInt(b[0],10)),a}function d(a){var b=a.split(l),c=b[1].split(n);return c.shift(),b[1]=c[0],c.shift(),{cuePoints:b,styles:e(c)}}function e(a){var b={};return a.forEach(function(a){if(a.split(/:/).length>1){var c=a.split(/:/)[1];c&&c.search(/%/)!=-1&&(c=parseInt(c.replace(/%/,\\\"\\\"),10)),(a.match(/align/)||a.match(/A/))&&(b.align=c),(a.match(/line/)||a.match(/L/))&&(b.line=c),(a.match(/position/)||a.match(/P/))&&(b.position=c),(a.match(/size/)||a.match(/S/))&&(b.size=c)}}),b}function f(a,b){for(var c,d=b,e=\\\"\\\",f=\\\"\\\";\\\"\\\"!==a[d]&&d<a.length;)d++;if(c=d-b,c>1)for(var g=0;g<c;g++){if(f=a[b+g],f.match(l)){e=\\\"\\\";break}e+=f,g!==c-1&&(e+=\\\"\\\\n\\\")}else f=a[b],f.match(l)||(e=f);return decodeURI(e)}var g=this.context,h=(0,i.default)(g).getInstance().log,j=void 0,k=void 0,l=void 0,m=void 0,n=void 0;return j={parse:b},a(),j}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f),h=a(8),i=d(h);e.__dashjs_factory_name=\\\"VTTParser\\\",c.default=g.default.getSingletonFactory(e),b.exports=c.default},{10:10,8:8}],160:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){d(this,a),this.mediaType=null,this.bitrate=null,this.width=null,this.height=null,this.qualityIndex=NaN};c.default=e,b.exports=c.default},{}],161:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){d(this,a),this.streamId=null,this.mediaInfo=null,this.segmentType=null,this.quality=NaN,this.index=NaN,this.bytes=null,this.start=NaN,this.end=NaN,this.duration=NaN};c.default=e,b.exports=c.default},{}],162:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(b,c,e){d(this,a),this.code=b||null,this.message=c||null,this.data=e||null};c.default=e,b.exports=c.default},{}],163:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){d(this,a),this.action=a.ACTION_DOWNLOAD,this.startTime=NaN,this.mediaType=null,this.mediaInfo=null,this.type=null,this.duration=NaN,this.timescale=NaN,this.range=null,this.url=null,this.serviceLocation=null,this.requestStartDate=null,this.firstByteDate=null,this.requestEndDate=null,this.quality=NaN,this.index=NaN,this.availabilityStartTime=null,this.availabilityEndTime=null,this.wallStartTime=null,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.responseType=\\\"arraybuffer\\\"};e.ACTION_DOWNLOAD=\\\"download\\\",e.ACTION_COMPLETE=\\\"complete\\\",c.default=e,b.exports=c.default},{}],164:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}function f(a,b){if(\\\"function\\\"!=typeof b&&null!==b)throw new TypeError(\\\"Super expression must either be null or a function, not \\\"+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var g=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if(\\\"value\\\"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}},h=a(163),i=d(h),j=function(a){function b(a){e(this,b),g(Object.getPrototypeOf(b.prototype),\\\"constructor\\\",this).call(this),this.url=a||null,this.checkForExistenceOnly=!0}return f(b,a),b}(i.default);c.default=j,b.exports=c.default},{163:163}],165:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){d(this,a),this.offset=NaN,this.type=null,this.size=NaN,this.isComplete=!0};c.default=e,b.exports=c.default},{}],166:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){d(this,a),this.DVRWindowSize=NaN,this.loadedTime=null,this.availableFrom=null,this.minBufferTime=NaN,this.duration=NaN,this.isDynamic=!1,this.maxFragmentDuration=null};c.default=e,b.exports=c.default},{}],167:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){d(this,a),this.id=null,this.index=null,this.type=null,this.streamInfo=null,this.representationCount=0,this.lang=null,this.viewpoint=null,this.accessibility=null,this.audioChannelConfiguration=null,this.roles=null,this.codec=null,this.mimeType=null,this.contentProtection=null,this.isText=!1,this.KID=null,this.bitrateList=null};c.default=e,b.exports=c.default},{}],168:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){d(this,a),this.TcpList=[],this.HttpList=[],this.RepSwitchList=[],this.BufferLevel=[],this.BufferState=[],this.PlayList=[],this.DroppedFrames=[],this.SchedulingInfo=[],this.DVRInfo=[],this.ManifestUpdate=[],this.RequestsQueue=null,this.DVBErrors=[],this.BolaState=[]};c.default=e,b.exports=c.default},{}],169:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){d(this,a),this.id=null,this.index=null,this.start=NaN,this.duration=NaN,this.manifestInfo=null,this.isLast=!0,this.isFirst=!0};c.default=e,b.exports=c.default},{}],170:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}function f(a,b){if(\\\"function\\\"!=typeof b&&null!==b)throw new TypeError(\\\"Super expression must either be null or a function, not \\\"+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var g=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if(\\\"value\\\"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}},h=a(163),i=d(h),j=function(a){function b(a,c){e(this,b),g(Object.getPrototypeOf(b.prototype),\\\"constructor\\\",this).call(this),this.url=a||null,this.type=c||null,this.mediaType=\\\"stream\\\",this.responseType=\\\"text\\\"}return f(b,a),b}(i.default);c.default=j,b.exports=c.default},{163:163}],171:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){d(this,a),this.video=null,this.captionData=null,this.label=null,this.lang=null,this.defaultTrack=!1,this.kind=null,this.isFragmented=!1,this.isEmbedded=!1};c.default=e,b.exports=c.default},{}],172:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){d(this,a),this.id=null,this.quality=null,this.DVRWindow=null,this.fragmentDuration=null,this.mediaInfo=null,this.MSETimeOffset=null};c.default=e,b.exports=c.default},{}],173:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){\\nd(this,a),this.t=null,this.xywh=null,this.track=null,this.id=null,this.s=null};c.default=e,b.exports=c.default},{}],174:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){d(this,a),this._s=void 0};c.default=e,b.exports=c.default},{}],175:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){d(this,a),this.t=null,this.level=null};c.default=e,b.exports=c.default},{}],176:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(63),g=d(f),h=function a(){e(this,a),this.target=null,this.state=g.default.BUFFER_EMPTY};c.default=h,b.exports=c.default},{63:63}],177:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){d(this,a),this.time=null,this.range=null,this.manifestInfo=null};c.default=e,b.exports=c.default},{}],178:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){d(this,a),this.time=null,this.droppedFrames=null};c.default=e,b.exports=c.default},{}],179:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){d(this,a),this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this._stream=null,this._tfinish=null,this._mediaduration=null,this._responseHeaders=null,this._serviceLocation=null},f=function a(){d(this,a),this.s=null,this.d=null,this.b=[]};e.MPD_TYPE=\\\"MPD\\\",e.XLINK_EXPANSION_TYPE=\\\"XLinkExpansion\\\",e.INIT_SEGMENT_TYPE=\\\"InitializationSegment\\\",e.INDEX_SEGMENT_TYPE=\\\"IndexSegment\\\",e.MEDIA_SEGMENT_TYPE=\\\"MediaSegment\\\",e.BITSTREAM_SWITCHING_SEGMENT_TYPE=\\\"BitstreamSwitchingSegment\\\",e.OTHER_TYPE=\\\"other\\\",c.HTTPRequest=e,c.HTTPRequestTrace=f},{}],180:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){d(this,a),this.mediaType=null,this.type=null,this.requestTime=null,this.fetchTime=null,this.availabilityStartTime=null,this.presentationStartTime=0,this.clientTimeOffset=0,this.currentTime=null,this.buffered=null,this.latency=0,this.streamInfo=[],this.trackInfo=[]},f=function a(){d(this,a),this.id=null,this.index=null,this.start=null,this.duration=null},g=function a(){d(this,a),this.id=null,this.index=null,this.mediaType=null,this.streamIndex=null,this.presentationTimeOffset=null,this.startNumber=null,this.fragmentInfoType=null};c.ManifestUpdate=e,c.ManifestUpdateStreamInfo=f,c.ManifestUpdateTrackInfo=g},{}],181:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){d(this,a),this.start=null,this.mstart=null,this.starttype=null,this.trace=[]};e.INITIAL_PLAYOUT_START_REASON=\\\"initial_playout\\\",e.SEEK_START_REASON=\\\"seek\\\",e.RESUME_FROM_PAUSE_START_REASON=\\\"resume\\\",e.METRICS_COLLECTION_START_REASON=\\\"metrics_collection_start\\\";var f=function a(){d(this,a),this.representationid=null,this.subreplevel=null,this.start=null,this.mstart=null,this.duration=null,this.playbackspeed=null,this.stopreason=null};f.REPRESENTATION_SWITCH_STOP_REASON=\\\"representation_switch\\\",f.REBUFFERING_REASON=\\\"rebuffering\\\",f.USER_REQUEST_STOP_REASON=\\\"user_request\\\",f.END_OF_PERIOD_STOP_REASON=\\\"end_of_period\\\",f.END_OF_CONTENT_STOP_REASON=\\\"end_of_content\\\",f.METRICS_COLLECTION_STOP_REASON=\\\"metrics_collection_end\\\",f.FAILURE_STOP_REASON=\\\"failure\\\",c.PlayList=e,c.PlayListTrace=f},{}],182:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){d(this,a),this.t=null,this.mt=null,this.to=null,this.lto=null};c.default=e,b.exports=c.default},{}],183:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){d(this,a),this.loadingRequests=[],this.executedRequests=[]};c.default=e,b.exports=c.default},{}],184:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){d(this,a),this.mediaType=null,this.t=null,this.type=null,this.startTime=null,this.availabilityStartTime=null,this.duration=null,this.quality=null,this.range=null,this.state=null};c.default=e,b.exports=c.default},{}],185:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){d(this,a),this.tcpid=null,this.dest=null,this.topen=null,this.tclose=null,this.tconnect=null};c.default=e,b.exports=c.default},{}]},{},[5]);\\n//# sourceMappingURL=dash.all.min.js.map\"\n\n/***/ },\n\n/***/ 645:\n/***/ function(module, exports) {\n\nmodule.exports = \"!function(e){if(\\\"object\\\"==typeof exports&&\\\"undefined\\\"!=typeof module)module.exports=e();else if(\\\"function\\\"==typeof define&&define.amd)define([],e);else{var t;t=\\\"undefined\\\"!=typeof window?window:\\\"undefined\\\"!=typeof global?global:\\\"undefined\\\"!=typeof self?self:this,t.Hls=e()}}(function(){var e;return function e(t,r,i){function a(s,o){if(!r[s]){if(!t[s]){var l=\\\"function\\\"==typeof require&&require;if(!o&&l)return l(s,!0);if(n)return n(s,!0);var u=new Error(\\\"Cannot find module '\\\"+s+\\\"'\\\");throw u.code=\\\"MODULE_NOT_FOUND\\\",u}var d=r[s]={exports:{}};t[s][0].call(d.exports,function(e){var r=t[s][1][e];return a(r?r:e)},d,d.exports,e,t,r,i)}return r[s].exports}for(var n=\\\"function\\\"==typeof require&&require,s=0;s<i.length;s++)a(i[s]);return a}({1:[function(e,t,r){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function a(e){return\\\"function\\\"==typeof e}function n(e){return\\\"number\\\"==typeof e}function s(e){return\\\"object\\\"==typeof e&&null!==e}function o(e){return void 0===e}t.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(e){if(!n(e)||e<0||isNaN(e))throw TypeError(\\\"n must be a positive number\\\");return this._maxListeners=e,this},i.prototype.emit=function(e){var t,r,i,n,l,u;if(this._events||(this._events={}),\\\"error\\\"===e&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var d=new Error('Uncaught, unspecified \\\"error\\\" event. ('+t+\\\")\\\");throw d.context=t,d}if(r=this._events[e],o(r))return!1;if(a(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:n=Array.prototype.slice.call(arguments,1),r.apply(this,n)}else if(s(r))for(n=Array.prototype.slice.call(arguments,1),u=r.slice(),i=u.length,l=0;l<i;l++)u[l].apply(this,n);return!0},i.prototype.addListener=function(e,t){var r;if(!a(t))throw TypeError(\\\"listener must be a function\\\");return this._events||(this._events={}),this._events.newListener&&this.emit(\\\"newListener\\\",e,a(t.listener)?t.listener:t),this._events[e]?s(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,s(this._events[e])&&!this._events[e].warned&&(r=o(this._maxListeners)?i.defaultMaxListeners:this._maxListeners,r&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,\\\"function\\\"==typeof console.trace)),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(e,t){function r(){this.removeListener(e,r),i||(i=!0,t.apply(this,arguments))}if(!a(t))throw TypeError(\\\"listener must be a function\\\");var i=!1;return r.listener=t,this.on(e,r),this},i.prototype.removeListener=function(e,t){var r,i,n,o;if(!a(t))throw TypeError(\\\"listener must be a function\\\");if(!this._events||!this._events[e])return this;if(r=this._events[e],n=r.length,i=-1,r===t||a(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit(\\\"removeListener\\\",e,t);else if(s(r)){for(o=n;o-- >0;)if(r[o]===t||r[o].listener&&r[o].listener===t){i=o;break}if(i<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(i,1),this._events.removeListener&&this.emit(\\\"removeListener\\\",e,t)}return this},i.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)\\\"removeListener\\\"!==t&&this.removeAllListeners(t);return this.removeAllListeners(\\\"removeListener\\\"),this._events={},this}if(r=this._events[e],a(r))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},i.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?a(this._events[e])?[this._events[e]]:this._events[e].slice():[]},i.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(a(t))return 1;if(t)return t.length}return 0},i.listenerCount=function(e,t){return e.listenerCount(t)}},{}],2:[function(t,r,i){!function(t){var a={buildAbsoluteURL:function(e,t){if(t=t.trim(),/^[a-z]+:/i.test(t))return t;var r=null,i=null,n=/^([^#]*)(.*)$/.exec(t);n&&(i=n[2],t=n[1]);var s=/^([^\\\\?]*)(.*)$/.exec(t);s&&(r=s[2],t=s[1]);var o=/^([^#]*)(.*)$/.exec(e);o&&(e=o[1]);var l=/^([^\\\\?]*)(.*)$/.exec(e);l&&(e=l[1]);var u=/^(([a-z]+:)?\\\\/\\\\/[a-z0-9\\\\.\\\\-_~]+(:[0-9]+)?)?(\\\\/.*)$/i.exec(e);if(!u)throw new Error(\\\"Error trying to parse base URL.\\\");var d=u[2]||\\\"\\\",h=u[1]||\\\"\\\",f=u[4],c=null;return c=/^\\\\/\\\\//.test(t)?d+\\\"//\\\"+a.buildAbsolutePath(\\\"\\\",t.substring(2)):/^\\\\//.test(t)?h+\\\"/\\\"+a.buildAbsolutePath(\\\"\\\",t.substring(1)):a.buildAbsolutePath(h+f,t),r&&(c+=r),i&&(c+=i),c},buildAbsolutePath:function(e,t){for(var r,i,a=t,n=\\\"\\\",s=e.replace(/[^\\\\/]*$/,a.replace(/(\\\\/|^)(?:\\\\.?\\\\/+)+/g,\\\"$1\\\")),o=0;i=s.indexOf(\\\"/../\\\",o),i>-1;o=i+r)r=/^\\\\/(?:\\\\.\\\\.\\\\/)*/.exec(s.slice(i))[0].length,n=(n+s.substring(o,i)).replace(new RegExp(\\\"(?:\\\\\\\\/+[^\\\\\\\\/]*){0,\\\"+(r-1)/3+\\\"}$\\\"),\\\"/\\\");return n+s.substr(o)}};\\\"object\\\"==typeof i&&\\\"object\\\"==typeof r?r.exports=a:\\\"function\\\"==typeof e&&e.amd?e([],function(){return a}):\\\"object\\\"==typeof i?i.URLToolkit=a:t.URLToolkit=a}(this)},{}],3:[function(e,t,r){var i=arguments[3],a=arguments[4],n=arguments[5],s=JSON.stringify;t.exports=function(e,t){function r(e){p[e]=!0;for(var t in a[e][1]){var i=a[e][1][t];p[i]||r(i)}}for(var o,l=Object.keys(n),u=0,d=l.length;u<d;u++){var h=l[u],f=n[h].exports;if(f===e||f&&f.default===e){o=h;break}}if(!o){o=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var c={},u=0,d=l.length;u<d;u++){var h=l[u];c[h]=h}a[o]=[Function([\\\"require\\\",\\\"module\\\",\\\"exports\\\"],\\\"(\\\"+e+\\\")(self)\\\"),c]}var v=Math.floor(Math.pow(16,8)*Math.random()).toString(16),g={};g[o]=o,a[v]=[Function([\\\"require\\\"],\\\"var f = require(\\\"+s(o)+\\\");(f.default ? f.default : f)(self);\\\"),g];var p={};r(v);var y=\\\"(\\\"+i+\\\")({\\\"+Object.keys(p).map(function(e){return s(e)+\\\":[\\\"+a[e][0]+\\\",\\\"+s(a[e][1])+\\\"]\\\"}).join(\\\",\\\")+\\\"},{},[\\\"+s(v)+\\\"])\\\",m=window.URL||window.webkitURL||window.mozURL||window.msURL,E=new Blob([y],{type:\\\"text/javascript\\\"});if(t&&t.bare)return E;var b=m.createObjectURL(E),R=new Worker(b);return R.objectURL=b,R}},{}],4:[function(e,t,r){\\\"use strict\\\";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}function n(e,t){if(!e)throw new ReferenceError(\\\"this hasn't been initialised - super() hasn't been called\\\");return!t||\\\"object\\\"!=typeof t&&\\\"function\\\"!=typeof t?e:t}function s(e,t){if(\\\"function\\\"!=typeof t&&null!==t)throw new TypeError(\\\"Super expression must either be null or a function, not \\\"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),l=e(28),u=i(l),d=e(27),h=i(d),f=e(30),c=i(f),v=e(26),g=e(45),p=e(9),y=i(p),m=function(e){function t(e){a(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,u.default.FRAG_LOADING,u.default.FRAG_LOADED,u.default.FRAG_BUFFERED,u.default.ERROR));return r.lastLoadedFragLevel=0,r._autoLevelCapping=-1,r._nextAutoLevel=-1,r.hls=e,r.onCheck=r.abandonRulesCheck.bind(r),r}return s(t,e),o(t,[{key:\\\"destroy\\\",value:function(){this.clearTimer(),h.default.prototype.destroy.call(this)}},{key:\\\"onFragLoading\\\",value:function(e){var t=e.frag;if(\\\"main\\\"===t.type){if(this.timer||(this.timer=setInterval(this.onCheck,100)),!this.bwEstimator){var r=this.hls,i=e.frag.level,a=r.levels[i].details.live,n=r.config,s=void 0,o=void 0;a?(s=n.abrEwmaFastLive,o=n.abrEwmaSlowLive):(s=n.abrEwmaFastVoD,o=n.abrEwmaSlowVoD),this.bwEstimator=new y.default(r,o,s,n.abrEwmaDefaultEstimate)}this.fragCurrent=t}}},{key:\\\"abandonRulesCheck\\\",value:function(){var e=this.hls,t=e.media,r=this.fragCurrent,i=r.loader;if(!i||i.stats&&i.stats.aborted)return g.logger.warn(\\\"frag loader destroy or aborted, disarm abandonRules\\\"),void this.clearTimer();var a=i.stats;if(t&&(!t.paused&&0!==t.playbackRate||!t.readyState)&&r.autoLevel&&r.level){var n=performance.now()-a.trequest,s=Math.abs(t.playbackRate);if(n>500*r.duration/s){var o=e.levels,l=Math.max(1,a.bw?a.bw/8:1e3*a.loaded/n),d=a.total?a.total:Math.max(a.loaded,Math.round(r.duration*o[r.level].bitrate/8)),h=t.currentTime,f=(d-a.loaded)/l,v=(c.default.bufferInfo(t,h,e.config.maxBufferHole).end-h)/s;if(v<2*r.duration/s&&f>v){var p=void 0,y=void 0;for(y=r.level-1;y>=0&&(p=r.duration*o[y].bitrate/(6.4*l),!(p<v));y--);p<f&&(y=Math.max(0,y),g.logger.warn(\\\"loading too slow, abort fragment loading and switch to level \\\"+y+\\\":fragLoadedDelay[\\\"+y+\\\"]<fragLoadedDelay[\\\"+(r.level-1)+\\\"];bufferStarvationDelay:\\\"+p.toFixed(1)+\\\"<\\\"+f.toFixed(1)+\\\":\\\"+v.toFixed(1)),e.nextLoadLevel=y,this.bwEstimator.sample(n,a.loaded),i.abort(),this.clearTimer(),e.trigger(u.default.FRAG_LOAD_EMERGENCY_ABORTED,{frag:r,stats:a}))}}}}},{key:\\\"onFragLoaded\\\",value:function(e){var t=e.frag;if(\\\"main\\\"===t.type&&(this.clearTimer(),this.lastLoadedFragLevel=t.level,this._nextAutoLevel=-1,e.frag.bitrateTest)){var r=e.stats;r.tparsed=r.tbuffered=r.tload,this.onFragBuffered(e)}}},{key:\\\"onFragBuffered\\\",value:function(e){var t=e.stats,r=e.frag;if(t.aborted!==!0&&1===r.loadCounter&&\\\"main\\\"===r.type&&(!r.bitrateTest||t.tload===t.tbuffered)){var i=t.tbuffered-t.trequest;g.logger.log(\\\"latency/loading/parsing/append/kbps:\\\"+Math.round(t.tfirst-t.trequest)+\\\"/\\\"+Math.round(t.tload-t.tfirst)+\\\"/\\\"+Math.round(t.tparsed-t.tload)+\\\"/\\\"+Math.round(t.tbuffered-t.tparsed)+\\\"/\\\"+Math.round(8*t.loaded/(t.tbuffered-t.trequest))),this.bwEstimator.sample(i,t.loaded),r.bitrateTest?this.bitrateTestDelay=i/1e3:this.bitrateTestDelay=0}}},{key:\\\"onError\\\",value:function(e){switch(e.details){case v.ErrorDetails.FRAG_LOAD_ERROR:case v.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer()}}},{key:\\\"clearTimer\\\",value:function(){this.timer&&(clearInterval(this.timer),this.timer=null)}},{key:\\\"findBestLevel\\\",value:function(e,t,r,i,a,n,s,o,l){for(var u=a;u>=i;u--){var d=l[u],h=d.details,f=h?h.totalduration/h.fragments.length:t,c=!!h&&h.live,v=void 0;v=u<=e?s*r:o*r;var p=l[u].bitrate,y=p*f/v;if(g.logger.trace(\\\"level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: \\\"+u+\\\"/\\\"+Math.round(v)+\\\"/\\\"+p+\\\"/\\\"+f+\\\"/\\\"+n+\\\"/\\\"+y),v>p&&(!y||c||y<n))return u}return-1}},{key:\\\"autoLevelCapping\\\",get:function(){return this._autoLevelCapping},set:function(e){this._autoLevelCapping=e}},{key:\\\"nextAutoLevel\\\",get:function(){var e=this._nextAutoLevel,t=this.bwEstimator,r=this.hls,i=r.levels,a=r.config.minAutoBitrate;if(!(e===-1||t&&t.canEstimate()))return Math.min(e,this.maxAutoLevel);var n=this.nextABRAutoLevel;if(e!==-1&&(n=Math.min(e,n)),void 0!==a)for(;i[n].bitrate<a;)n++;return n},set:function(e){this._nextAutoLevel=e}},{key:\\\"minAutoLevel\\\",get:function(){for(var e=this.hls,t=e.levels,r=e.config.minAutoBitrate,i=0;i<t.length;i++)if(t[i].bitrate>r)return i;return 0}},{key:\\\"maxAutoLevel\\\",get:function(){var e,t=this.hls.levels,r=this._autoLevelCapping;return e=r===-1&&t&&t.length?t.length-1:r}},{key:\\\"nextABRAutoLevel\\\",get:function(){var e=this.hls,t=this.maxAutoLevel,r=e.levels,i=e.config,a=this.minAutoLevel,n=e.media,s=this.lastLoadedFragLevel,o=this.fragCurrent?this.fragCurrent.duration:0,l=n?n.currentTime:0,u=n&&0!==n.playbackRate?Math.abs(n.playbackRate):1,d=this.bwEstimator?this.bwEstimator.getEstimate():i.abrEwmaDefaultEstimate,h=(c.default.bufferInfo(n,l,i.maxBufferHole).end-l)/u,f=this.findBestLevel(s,o,d,a,t,h,i.abrBandWidthFactor,i.abrBandWidthUpFactor,r);if(f>=0)return f;g.logger.trace(\\\"rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering\\\");var v=i.maxStarvationDelay,p=i.abrBandWidthFactor,y=i.abrBandWidthUpFactor;if(0===h){var m=this.bitrateTestDelay;m&&(v=i.maxLoadingDelay-m,g.logger.trace(\\\"bitrate test took \\\"+Math.round(1e3*m)+\\\"ms, set first fragment max fetchDuration to \\\"+Math.round(1e3*v)+\\\" ms\\\"),p=y=1)}return f=this.findBestLevel(s,o,d,a,t,h+v,p,y,r),Math.max(f,0)}}]),t}(h.default);r.default=m},{26:26,27:27,28:28,30:30,45:45,9:9}],5:[function(e,t,r){\\\"use strict\\\";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}function n(e,t){if(!e)throw new ReferenceError(\\\"this hasn't been initialised - super() hasn't been called\\\");return!t||\\\"object\\\"!=typeof t&&\\\"function\\\"!=typeof t?e:t}function s(e,t){if(\\\"function\\\"!=typeof t&&null!==t)throw new TypeError(\\\"Super expression must either be null or a function, not \\\"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),l=e(41),u=i(l),d=e(30),h=i(d),f=e(22),c=i(f),v=e(28),g=i(v),p=e(27),y=i(p),m=e(31),E=i(m),b=e(47),R=i(b),_=e(26),k=e(45),T={STOPPED:\\\"STOPPED\\\",STARTING:\\\"STARTING\\\",IDLE:\\\"IDLE\\\",PAUSED:\\\"PAUSED\\\",KEY_LOADING:\\\"KEY_LOADING\\\",FRAG_LOADING:\\\"FRAG_LOADING\\\",FRAG_LOADING_WAITING_RETRY:\\\"FRAG_LOADING_WAITING_RETRY\\\",WAITING_TRACK:\\\"WAITING_TRACK\\\",PARSING:\\\"PARSING\\\",PARSED:\\\"PARSED\\\",ENDED:\\\"ENDED\\\",ERROR:\\\"ERROR\\\"},A=function(e){function t(e){a(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,g.default.MEDIA_ATTACHED,g.default.MEDIA_DETACHING,g.default.AUDIO_TRACKS_UPDATED,g.default.AUDIO_TRACK_SWITCH,g.default.AUDIO_TRACK_LOADED,g.default.KEY_LOADED,g.default.FRAG_LOADED,g.default.FRAG_PARSING_INIT_SEGMENT,g.default.FRAG_PARSING_DATA,g.default.FRAG_PARSED,g.default.ERROR,g.default.BUFFER_CREATED,g.default.BUFFER_APPENDED,g.default.BUFFER_FLUSHED));return r.config=e.config,r.audioCodecSwap=!1,r.ticks=0,r.ontick=r.tick.bind(r),r}return s(t,e),o(t,[{key:\\\"destroy\\\",value:function(){this.stopLoad(),this.timer&&(clearInterval(this.timer),this.timer=null),y.default.prototype.destroy.call(this),this.state=T.STOPPED}},{key:\\\"startLoad\\\",value:function(e){if(this.tracks){var t=this.media,r=this.lastCurrentTime;this.stopLoad(),this.timer||(this.timer=setInterval(this.ontick,100)),this.fragLoadError=0,t&&r?(k.logger.log(\\\"configure startPosition @\\\"+r),this.state=T.IDLE):(this.lastCurrentTime=this.startPosition?this.startPosition:e,this.state=T.STARTING),this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()}else this.startPosition=e,this.state=T.STOPPED}},{key:\\\"stopLoad\\\",value:function(){var e=this.fragCurrent;e&&(e.loader&&e.loader.abort(),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=T.STOPPED}},{key:\\\"tick\\\",value:function(){this.ticks++,1===this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)}},{key:\\\"doTick\\\",value:function(){var e,t,r,i=this.hls,a=i.config;switch(this.state){case T.ERROR:case T.PAUSED:break;case T.STARTING:this.state=T.WAITING_TRACK,this.loadedmetadata=!1;break;case T.IDLE:if(!this.media&&(this.startFragRequested||!a.startFragPrefetch))break;e=this.loadedmetadata?this.media.currentTime:this.nextLoadPosition;var n=this.mediaBuffer?this.mediaBuffer:this.media,s=h.default.bufferInfo(n,e,a.maxBufferHole),o=s.len,l=s.end,d=this.fragPrevious,f=a.maxMaxBufferLength;if(o<f&&this.trackId<this.tracks.length){if(r=this.tracks[this.trackId].details,\\\"undefined\\\"==typeof r){this.state=T.WAITING_TRACK;break}if(!r.live&&d&&d.sn===r.endSN&&(!this.media.seeking||this.media.duration-l<d.duration/2)){this.hls.trigger(g.default.BUFFER_EOS,{type:\\\"audio\\\"}),this.state=T.ENDED;break}var c=r.fragments,v=c.length,p=c[0].start,y=c[v-1].start+c[v-1].duration,m=void 0;if(l<p?m=c[0]:!function(){var e=void 0,t=a.maxFragLookUpTolerance;l<y?(l>y-t&&(t=0),e=u.default.search(c,function(e){return e.start+e.duration-t<=l?1:e.start-t>l?-1:0})):e=c[v-1],e&&(m=e,p=e.start,d&&m.level===d.level&&m.sn===d.sn&&(m.sn<r.endSN?(m=c[m.sn+1-r.startSN],k.logger.log(\\\"SN just loaded, load next one: \\\"+m.sn)):m=null))}(),m)if(null!=m.decryptdata.uri&&null==m.decryptdata.key)k.logger.log(\\\"Loading key for \\\"+m.sn+\\\" of [\\\"+r.startSN+\\\" ,\\\"+r.endSN+\\\"],track \\\"+this.trackId),this.state=T.KEY_LOADING,i.trigger(g.default.KEY_LOADING,{frag:m});else{if(k.logger.log(\\\"Loading \\\"+m.sn+\\\" of [\\\"+r.startSN+\\\" ,\\\"+r.endSN+\\\"],track \\\"+this.trackId+\\\", currentTime:\\\"+e+\\\",bufferEnd:\\\"+l.toFixed(3)),void 0!==this.fragLoadIdx?this.fragLoadIdx++:this.fragLoadIdx=0,m.loadCounter){m.loadCounter++;var E=a.fragLoadingLoopThreshold;if(m.loadCounter>E&&Math.abs(this.fragLoadIdx-m.loadIdx)<E)return void i.trigger(g.default.ERROR,{type:_.ErrorTypes.MEDIA_ERROR,details:_.ErrorDetails.FRAG_LOOP_LOADING_ERROR,fatal:!1,frag:m})}else m.loadCounter=1;m.loadIdx=this.fragLoadIdx,this.fragCurrent=m,this.startFragRequested=!0,i.trigger(g.default.FRAG_LOADING,{frag:m}),this.state=T.FRAG_LOADING}}break;case T.WAITING_TRACK:t=this.tracks[this.trackId],t&&t.details&&(this.state=T.IDLE);break;case T.FRAG_LOADING_WAITING_RETRY:var b=performance.now(),R=this.retryDate;n=this.media;var A=n&&n.seeking;(!R||b>=R||A)&&(k.logger.log(\\\"audioStreamController: retryDate reached, switch back to IDLE state\\\"),this.state=T.IDLE);break;case T.STOPPED:case T.FRAG_LOADING:case T.PARSING:case T.PARSED:case T.ENDED:}}},{key:\\\"onMediaAttached\\\",value:function(e){var t=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener(\\\"seeking\\\",this.onvseeking),t.addEventListener(\\\"ended\\\",this.onvended);var r=this.config;this.tracks&&r.autoStartLoad&&this.startLoad(r.startPosition)}},{key:\\\"onMediaDetaching\\\",value:function(){var e=this.media;e&&e.ended&&(k.logger.log(\\\"MSE detaching and video ended, reset startPosition\\\"),this.startPosition=this.lastCurrentTime=0);var t=this.tracks;t&&t.forEach(function(e){e.details&&e.details.fragments.forEach(function(e){e.loadCounter=void 0})}),e&&(e.removeEventListener(\\\"seeking\\\",this.onvseeking),e.removeEventListener(\\\"ended\\\",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=null,this.loadedmetadata=!1,this.stopLoad()}},{key:\\\"onMediaSeeking\\\",value:function(){this.state===T.ENDED&&(this.state=T.IDLE),this.media&&(this.lastCurrentTime=this.media.currentTime),void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold),this.tick()}},{key:\\\"onMediaEnded\\\",value:function(){this.startPosition=this.lastCurrentTime=0}},{key:\\\"onAudioTracksUpdated\\\",value:function(e){k.logger.log(\\\"audio tracks updated\\\"),this.tracks=e.audioTracks}},{key:\\\"onAudioTrackSwitch\\\",value:function(e){var t=!!e.url;this.trackId=e.id,this.state=T.IDLE,this.fragCurrent=null,this.state=T.PAUSED,t?this.timer||(this.timer=setInterval(this.ontick,100)):this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.hls.trigger(g.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:\\\"audio\\\"}),this.tick()}},{key:\\\"onAudioTrackLoaded\\\",value:function(e){var t=e.details,r=e.id,i=this.tracks[r],a=t.totalduration;if(k.logger.log(\\\"track \\\"+r+\\\" loaded [\\\"+t.startSN+\\\",\\\"+t.endSN+\\\"],duration:\\\"+a),t.PTSKnown=!1,i.details=t,!this.startFragRequested){if(this.startPosition===-1){var n=t.startTimeOffset;isNaN(n)?this.startPosition=0:(k.logger.log(\\\"start time offset found in playlist, adjust startPosition to \\\"+n),this.startPosition=n)}this.nextLoadPosition=this.startPosition}this.state===T.WAITING_TRACK&&(this.state=T.IDLE),this.tick()}},{key:\\\"onKeyLoaded\\\",value:function(){this.state===T.KEY_LOADING&&(this.state=T.IDLE,this.tick())}},{key:\\\"onFragLoaded\\\",value:function(e){var t=this.fragCurrent;if(this.state===T.FRAG_LOADING&&t&&\\\"audio\\\"===e.frag.type&&e.frag.level===t.level&&e.frag.sn===t.sn){this.state=T.PARSING,this.stats=e.stats;var r=this.tracks[this.trackId],i=r.details,a=i.totalduration,n=t.start,s=t.level,o=t.sn,l=this.config.defaultAudioCodec||r.audioCodec;this.pendingAppending=0,this.demuxer||(this.demuxer=new c.default(this.hls,\\\"audio\\\")),k.logger.log(\\\"Demuxing \\\"+o+\\\" of [\\\"+i.startSN+\\\" ,\\\"+i.endSN+\\\"],track \\\"+s);var u=i.PTSKnown||!i.live;this.demuxer.push(e.payload,l,null,n,t.cc,s,o,a,t.decryptdata,u)}this.fragLoadError=0}},{key:\\\"onFragParsingInitSegment\\\",value:function(e){var t=this.fragCurrent;if(t&&\\\"audio\\\"===e.id&&e.sn===t.sn&&e.level===t.level&&this.state===T.PARSING){var r=e.tracks,i=void 0;if(i=r.audio){i.levelCodec=\\\"mp4a.40.2\\\",i.id=e.id,this.hls.trigger(g.default.BUFFER_CODECS,r),k.logger.log(\\\"audio track:audio,container:\\\"+i.container+\\\",codecs[level/parsed]=[\\\"+i.levelCodec+\\\"/\\\"+i.codec+\\\"]\\\");var a=i.initSegment;a&&(this.pendingAppending++,this.hls.trigger(g.default.BUFFER_APPENDING,{type:\\\"audio\\\",data:a,parent:\\\"audio\\\",content:\\\"initSegment\\\"})),this.tick()}}}},{key:\\\"onFragParsingData\\\",value:function(e){var t=this,r=this.fragCurrent;if(r&&\\\"audio\\\"===e.id&&e.sn===r.sn&&e.level===r.level&&this.state===T.PARSING){var i=this.tracks[this.trackId],a=this.fragCurrent;k.logger.log(\\\"parsed \\\"+e.type+\\\",PTS:[\\\"+e.startPTS.toFixed(3)+\\\",\\\"+e.endPTS.toFixed(3)+\\\"],DTS:[\\\"+e.startDTS.toFixed(3)+\\\"/\\\"+e.endDTS.toFixed(3)+\\\"],nb:\\\"+e.nb),E.default.updateFragPTSDTS(i.details,a.sn,e.startPTS,e.endPTS),[e.data1,e.data2].forEach(function(r){r&&(t.pendingAppending++,t.hls.trigger(g.default.BUFFER_APPENDING,{type:e.type,data:r,parent:\\\"audio\\\",content:\\\"data\\\"}))}),this.nextLoadPosition=e.endPTS,this.tick()}}},{key:\\\"onFragParsed\\\",value:function(e){var t=this.fragCurrent;t&&\\\"audio\\\"===e.id&&e.sn===t.sn&&e.level===t.level&&this.state===T.PARSING&&(this.stats.tparsed=performance.now(),this.state=T.PARSED,this._checkAppendedParsed())}},{key:\\\"onBufferCreated\\\",value:function(e){var t=e.tracks.audio;t&&(this.mediaBuffer=t.buffer,this.loadedmetadata=!0)}},{key:\\\"onBufferAppended\\\",value:function(e){if(\\\"audio\\\"===e.parent)switch(this.state){case T.PARSING:case T.PARSED:this.pendingAppending--,this._checkAppendedParsed()}}},{key:\\\"_checkAppendedParsed\\\",value:function(){if(this.state===T.PARSED&&0===this.pendingAppending){var e=this.fragCurrent,t=this.stats;if(e){this.fragPrevious=e,t.tbuffered=performance.now(),this.hls.trigger(g.default.FRAG_BUFFERED,{stats:t,frag:e,id:\\\"audio\\\"});var r=this.mediaBuffer?this.mediaBuffer:this.media;k.logger.log(\\\"audio buffered : \\\"+R.default.toString(r.buffered)),this.state=T.IDLE}this.tick()}}},{key:\\\"onError\\\",value:function(e){var t=e.frag;if(!t||\\\"audio\\\"===t.type)switch(e.details){case _.ErrorDetails.FRAG_LOAD_ERROR:case _.ErrorDetails.FRAG_LOAD_TIMEOUT:if(!e.fatal){var r=this.fragLoadError;r?r++:r=1;var i=this.config;if(r<=i.fragLoadingMaxRetry){this.fragLoadError=r,t.loadCounter=0;var a=Math.min(Math.pow(2,r-1)*i.fragLoadingRetryDelay,i.fragLoadingMaxRetryTimeout);k.logger.warn(\\\"audioStreamController: frag loading failed, retry in \\\"+a+\\\" ms\\\"),this.retryDate=performance.now()+a,this.state=T.FRAG_LOADING_WAITING_RETRY}else k.logger.error(\\\"audioStreamController: \\\"+e.details+\\\" reaches max retry, redispatch as fatal ...\\\"),e.fatal=!0,this.hls.trigger(g.default.ERROR,e),this.state=T.ERROR}break;case _.ErrorDetails.FRAG_LOOP_LOADING_ERROR:case _.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case _.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:case _.ErrorDetails.KEY_LOAD_ERROR:case _.ErrorDetails.KEY_LOAD_TIMEOUT:this.state!==T.ERROR&&(this.state=e.fatal?T.ERROR:T.IDLE,k.logger.warn(\\\"audioStreamController: \\\"+e.details+\\\" while loading frag,switch to \\\"+this.state+\\\" state ...\\\"))}}},{key:\\\"onBufferFlushed\\\",value:function(){this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold,this.state=T.IDLE,this.fragPrevious=null,this.tick()}}]),t}(y.default);r.default=A},{22:22,26:26,27:27,28:28,30:30,31:31,41:41,45:45,47:47}],6:[function(e,t,r){\\\"use strict\\\";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}function n(e,t){if(!e)throw new ReferenceError(\\\"this hasn't been initialised - super() hasn't been called\\\");return!t||\\\"object\\\"!=typeof t&&\\\"function\\\"!=typeof t?e:t}function s(e,t){if(\\\"function\\\"!=typeof t&&null!==t)throw new TypeError(\\\"Super expression must either be null or a function, not \\\"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),l=e(28),u=i(l),d=e(27),h=i(d),f=e(45),c=function(e){function t(e){return a(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,u.default.MANIFEST_LOADING,u.default.MANIFEST_LOADED,u.default.AUDIO_TRACK_LOADED))}return s(t,e),o(t,[{key:\\\"destroy\\\",value:function(){h.default.prototype.destroy.call(this)}},{key:\\\"onManifestLoading\\\",value:function(){this.tracks=[],this.trackId=-1}},{key:\\\"onManifestLoaded\\\",value:function(e){var t=this,r=e.audioTracks||[],i=!1;this.tracks=r,this.hls.trigger(u.default.AUDIO_TRACKS_UPDATED,{audioTracks:r});var a=0;r.forEach(function(e){return e.default?(t.audioTrack=a,void(i=!0)):void a++}),i===!1&&r.length&&(f.logger.log(\\\"no default audio track defined, use first audio track as default\\\"),this.audioTrack=0)}},{key:\\\"onAudioTrackLoaded\\\",value:function(e){e.id<this.tracks.length&&(f.logger.log(\\\"audioTrack \\\"+e.id+\\\" loaded\\\"),this.tracks[e.id].details=e.details,e.details.live&&!this.timer&&(this.timer=setInterval(this.ontick,1e3*e.details.targetduration)),!e.details.live&&this.timer&&(clearInterval(this.timer),this.timer=null))}},{key:\\\"setAudioTrackInternal\\\",value:function(e){if(e>=0&&e<this.tracks.length){this.timer&&(clearInterval(this.timer),this.timer=null),this.trackId=e,f.logger.log(\\\"switching to audioTrack \\\"+e);var t=this.tracks[e],r=t.type,i=t.url;this.hls.trigger(u.default.AUDIO_TRACK_SWITCH,{id:e,type:r,url:i});var a=t.details;!i||void 0!==a&&a.live!==!0||(f.logger.log(\\\"(re)loading playlist for audioTrack \\\"+e),this.hls.trigger(u.default.AUDIO_TRACK_LOADING,{url:i,id:e}))}}},{key:\\\"audioTracks\\\",get:function(){return this.tracks}},{key:\\\"audioTrack\\\",get:function(){return this.trackId},set:function(e){this.trackId===e&&void 0!==this.tracks[e].details||this.setAudioTrackInternal(e)}}]),t}(h.default);r.default=c},{27:27,28:28,45:45}],7:[function(e,t,r){\\\"use strict\\\";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}function n(e,t){if(!e)throw new ReferenceError(\\\"this hasn't been initialised - super() hasn't been called\\\");return!t||\\\"object\\\"!=typeof t&&\\\"function\\\"!=typeof t?e:t}function s(e,t){if(\\\"function\\\"!=typeof t&&null!==t)throw new TypeError(\\\"Super expression must either be null or a function, not \\\"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),l=e(28),u=i(l),d=e(27),h=i(d),f=e(45),c=e(26),v=function(e){function t(e){a(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,u.default.MEDIA_ATTACHING,u.default.MEDIA_DETACHING,u.default.MANIFEST_PARSED,u.default.BUFFER_RESET,u.default.BUFFER_APPENDING,u.default.BUFFER_CODECS,u.default.BUFFER_EOS,u.default.BUFFER_FLUSHING,u.default.LEVEL_UPDATED));return r._msDuration=null,r._levelDuration=null,r.onsbue=r.onSBUpdateEnd.bind(r),r.onsbe=r.onSBUpdateError.bind(r),r.pendingTracks={},r}return s(t,e),o(t,[{key:\\\"destroy\\\",value:function(){h.default.prototype.destroy.call(this)}},{key:\\\"onManifestParsed\\\",value:function(e){var t=e.audio,r=e.video,i=0;e.altAudio&&(t||r)&&(i=(t?1:0)+(r?1:0),f.logger.log(i+\\\" sourceBuffer(s) expected\\\")),this.sourceBufferNb=i}},{key:\\\"onMediaAttaching\\\",value:function(e){var t=this.media=e.media;if(t){var r=this.mediaSource=new MediaSource;this.onmso=this.onMediaSourceOpen.bind(this),this.onmse=this.onMediaSourceEnded.bind(this),this.onmsc=this.onMediaSourceClose.bind(this),r.addEventListener(\\\"sourceopen\\\",this.onmso),r.addEventListener(\\\"sourceended\\\",this.onmse),r.addEventListener(\\\"sourceclose\\\",this.onmsc),t.src=URL.createObjectURL(r)}}},{key:\\\"onMediaDetaching\\\",value:function(){f.logger.log(\\\"media source detaching\\\");var e=this.mediaSource;if(e){if(\\\"open\\\"===e.readyState)try{e.endOfStream()}catch(e){f.logger.warn(\\\"onMediaDetaching:\\\"+e.message+\\\" while calling endOfStream\\\")}e.removeEventListener(\\\"sourceopen\\\",this.onmso),e.removeEventListener(\\\"sourceended\\\",this.onmse),e.removeEventListener(\\\"sourceclose\\\",this.onmsc),this.media&&(this.media.removeAttribute(\\\"src\\\"),this.media.load()),this.mediaSource=null,this.media=null,this.pendingTracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.onmso=this.onmse=this.onmsc=null,this.hls.trigger(u.default.MEDIA_DETACHED)}},{key:\\\"onMediaSourceOpen\\\",value:function(){f.logger.log(\\\"media source opened\\\"),this.hls.trigger(u.default.MEDIA_ATTACHED,{media:this.media});var e=this.mediaSource;e&&e.removeEventListener(\\\"sourceopen\\\",this.onmso),this.checkPendingTracks()}},{key:\\\"checkPendingTracks\\\",value:function(){var e=this.pendingTracks,t=Object.keys(e).length;t&&(this.sourceBufferNb<=t||0===this.sourceBufferNb)&&(this.createSourceBuffers(e),this.pendingTracks={},this.doAppending())}},{key:\\\"onMediaSourceClose\\\",value:function(){f.logger.log(\\\"media source closed\\\")}},{key:\\\"onMediaSourceEnded\\\",value:function(){f.logger.log(\\\"media source ended\\\")}},{key:\\\"onSBUpdateEnd\\\",value:function(){this._needsFlush&&this.doFlush(),this._needsEos&&this.checkEos(),this.appending=!1,this.hls.trigger(u.default.BUFFER_APPENDED,{parent:this.parent}),this._needsFlush||this.doAppending(),this.updateMediaElementDuration()}},{key:\\\"onSBUpdateError\\\",value:function(e){f.logger.error(\\\"sourceBuffer error:\\\"+e),this.hls.trigger(u.default.ERROR,{type:c.ErrorTypes.MEDIA_ERROR,details:c.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})}},{key:\\\"onBufferReset\\\",value:function(){var e=this.sourceBuffer;for(var t in e){var r=e[t];try{this.mediaSource.removeSourceBuffer(r),r.removeEventListener(\\\"updateend\\\",this.onsbue),r.removeEventListener(\\\"error\\\",this.onsbe)}catch(e){}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}},{key:\\\"onBufferCodecs\\\",value:function(e){if(0===Object.keys(this.sourceBuffer).length){for(var t in e)this.pendingTracks[t]=e[t];var r=this.mediaSource;r&&\\\"open\\\"===r.readyState&&this.checkPendingTracks()}}},{key:\\\"createSourceBuffers\\\",value:function(e){var t=this.sourceBuffer,r=this.mediaSource;for(var i in e)if(!t[i]){var a=e[i],n=a.levelCodec||a.codec,s=a.container+\\\";codecs=\\\"+n;f.logger.log(\\\"creating sourceBuffer(\\\"+s+\\\")\\\");try{var o=t[i]=r.addSourceBuffer(s);o.addEventListener(\\\"updateend\\\",this.onsbue),o.addEventListener(\\\"error\\\",this.onsbe),a.buffer=o}catch(e){f.logger.error(\\\"error while trying to add sourceBuffer:\\\"+e.message),this.hls.trigger(u.default.ERROR,{type:c.ErrorTypes.MEDIA_ERROR,details:c.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:e,mimeType:s})}}this.hls.trigger(u.default.BUFFER_CREATED,{tracks:e})}},{key:\\\"onBufferAppending\\\",value:function(e){this._needsFlush||(this.segments?this.segments.push(e):this.segments=[e],this.doAppending())}},{key:\\\"onBufferAppendFail\\\",value:function(e){f.logger.error(\\\"sourceBuffer error:\\\"+e.event),this.hls.trigger(u.default.ERROR,{\\ntype:c.ErrorTypes.MEDIA_ERROR,details:c.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1,frag:this.fragCurrent})}},{key:\\\"onBufferEos\\\",value:function(e){var t=this.sourceBuffer,r=e.type;for(var i in t)r&&i!==r||t[i].ended||(t[i].ended=!0,f.logger.log(i+\\\" sourceBuffer now EOS\\\"));this.checkEos()}},{key:\\\"checkEos\\\",value:function(){var e=this.sourceBuffer,t=this.mediaSource;if(!t||\\\"open\\\"!==t.readyState)return void(this._needsEos=!1);for(var r in e){if(!e[r].ended)return;if(e[r].updating)return void(this._needsEos=!0)}f.logger.log(\\\"all media data available, signal endOfStream() to MediaSource and stop loading fragment\\\"),t.endOfStream(),this._needsEos=!1}},{key:\\\"onBufferFlushing\\\",value:function(e){this.flushRange.push({start:e.startOffset,end:e.endOffset,type:e.type}),this.flushBufferCounter=0,this.doFlush()}},{key:\\\"onLevelUpdated\\\",value:function(e){var t=e.details;0!==t.fragments.length&&(this._levelDuration=t.totalduration+t.fragments[0].start,this.updateMediaElementDuration())}},{key:\\\"updateMediaElementDuration\\\",value:function(){var e=this.media,t=this.mediaSource,r=this.sourceBuffer,i=this._levelDuration;if(null!==i&&e&&t&&r&&0!==e.readyState&&\\\"open\\\"===t.readyState){for(var a in r)if(r[a].updating)return;null===this._msDuration&&(this._msDuration=t.duration),i>this._msDuration&&i>e.duration&&(f.logger.log(\\\"Updating mediasource duration to \\\"+i.toFixed(3)),this._msDuration=t.duration=i)}}},{key:\\\"doFlush\\\",value:function(){for(;this.flushRange.length;){var e=this.flushRange[0];if(!this.flushBuffer(e.start,e.end,e.type))return void(this._needsFlush=!0);this.flushRange.shift(),this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var t=0,r=this.sourceBuffer;for(var i in r)t+=r[i].buffered.length;this.appended=t,this.hls.trigger(u.default.BUFFER_FLUSHED)}}},{key:\\\"doAppending\\\",value:function(){var e=this.hls,t=this.sourceBuffer,r=this.segments;if(Object.keys(t).length){if(this.media.error)return this.segments=[],void f.logger.error(\\\"trying to append although a media error occured, flush segment and abort\\\");if(this.appending)return;if(r&&r.length){var i=r.shift();try{var a=i.type;t[a]?(t[a].ended=!1,this.parent=i.parent,t[a].appendBuffer(i.data),this.appendError=0,this.appended++,this.appending=!0):this.onSBUpdateEnd()}catch(t){f.logger.error(\\\"error while trying to append buffer:\\\"+t.message),r.unshift(i);var n={type:c.ErrorTypes.MEDIA_ERROR};if(22===t.code)return this.segments=[],n.details=c.ErrorDetails.BUFFER_FULL_ERROR,void e.trigger(u.default.ERROR,n);if(this.appendError?this.appendError++:this.appendError=1,n.details=c.ErrorDetails.BUFFER_APPEND_ERROR,n.frag=this.fragCurrent,this.appendError>e.config.appendErrorMaxRetry)return f.logger.log(\\\"fail \\\"+e.config.appendErrorMaxRetry+\\\" times to append segment in sourceBuffer\\\"),r=[],n.fatal=!0,void e.trigger(u.default.ERROR,n);n.fatal=!1,e.trigger(u.default.ERROR,n)}}}}},{key:\\\"flushBuffer\\\",value:function(e,t,r){var i,a,n,s,o,l,u=this.sourceBuffer;if(Object.keys(u).length){if(f.logger.log(\\\"flushBuffer,pos/start/end: \\\"+this.media.currentTime+\\\"/\\\"+e+\\\"/\\\"+t),this.flushBufferCounter<this.appended){for(var d in u)if(!r||d===r){if(i=u[d],i.ended=!1,i.updating)return f.logger.warn(\\\"cannot flush, sb updating in progress\\\"),!1;for(a=0;a<i.buffered.length;a++)if(n=i.buffered.start(a),s=i.buffered.end(a),navigator.userAgent.toLowerCase().indexOf(\\\"firefox\\\")!==-1&&t===Number.POSITIVE_INFINITY?(o=e,l=t):(o=Math.max(n,e),l=Math.min(s,t)),Math.min(l,s)-o>.5)return this.flushBufferCounter++,f.logger.log(\\\"flush \\\"+d+\\\" [\\\"+o+\\\",\\\"+l+\\\"], of [\\\"+n+\\\",\\\"+s+\\\"], pos:\\\"+this.media.currentTime),i.remove(o,l),!1}}else f.logger.warn(\\\"abort flushing too many retries\\\");f.logger.log(\\\"buffer flushed\\\")}return!0}}]),t}(h.default);r.default=v},{26:26,27:27,28:28,45:45}],8:[function(e,t,r){\\\"use strict\\\";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}function n(e,t){if(!e)throw new ReferenceError(\\\"this hasn't been initialised - super() hasn't been called\\\");return!t||\\\"object\\\"!=typeof t&&\\\"function\\\"!=typeof t?e:t}function s(e,t){if(\\\"function\\\"!=typeof t&&null!==t)throw new TypeError(\\\"Super expression must either be null or a function, not \\\"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),l=e(28),u=i(l),d=e(27),h=i(d),f=function(e){function t(e){return a(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,u.default.FPS_DROP_LEVEL_CAPPING,u.default.MEDIA_ATTACHING,u.default.MANIFEST_PARSED))}return s(t,e),o(t,[{key:\\\"destroy\\\",value:function(){this.hls.config.capLevelToPlayerSize&&(this.media=this.restrictedLevels=null,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer)))}},{key:\\\"onFpsDropLevelCapping\\\",value:function(e){this.restrictedLevels||(this.restrictedLevels=[]),this.isLevelRestricted(e.droppedLevel)||this.restrictedLevels.push(e.droppedLevel)}},{key:\\\"onMediaAttaching\\\",value:function(e){this.media=e.media instanceof HTMLVideoElement?e.media:null}},{key:\\\"onManifestParsed\\\",value:function(e){this.hls.config.capLevelToPlayerSize&&(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.levels=e.levels,this.hls.firstLevel=this.getMaxLevel(e.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}},{key:\\\"detectPlayerSize\\\",value:function(){if(this.media){var e=this.levels?this.levels.length:0;e&&(this.hls.autoLevelCapping=this.getMaxLevel(e-1),this.hls.autoLevelCapping>this.autoLevelCapping&&this.hls.streamController.nextLevelSwitch(),this.autoLevelCapping=this.hls.autoLevelCapping)}}},{key:\\\"getMaxLevel\\\",value:function(e){var t=0,r=void 0,i=void 0,a=this.mediaWidth,n=this.mediaHeight,s=0,o=0;for(r=0;r<=e&&(i=this.levels[r],!this.isLevelRestricted(r))&&(t=r,s=i.width,o=i.height,!(a<=s||n<=o));r++);return t}},{key:\\\"isLevelRestricted\\\",value:function(e){return!(!this.restrictedLevels||this.restrictedLevels.indexOf(e)===-1)}},{key:\\\"contentScaleFactor\\\",get:function(){var e=1;try{e=window.devicePixelRatio}catch(e){}return e}},{key:\\\"mediaWidth\\\",get:function(){var e=void 0;return this.media&&(e=this.media.width||this.media.clientWidth||this.media.offsetWidth,e*=this.contentScaleFactor),e}},{key:\\\"mediaHeight\\\",get:function(){var e=void 0;return this.media&&(e=this.media.height||this.media.clientHeight||this.media.offsetHeight,e*=this.contentScaleFactor),e}}]),t}(h.default);r.default=f},{27:27,28:28}],9:[function(e,t,r){\\\"use strict\\\";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),s=e(44),o=i(s),l=function(){function e(t,r,i,n){a(this,e),this.hls=t,this.defaultEstimate_=n,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new o.default(r),this.fast_=new o.default(i)}return n(e,[{key:\\\"sample\\\",value:function(e,t){e=Math.max(e,this.minDelayMs_);var r=8e3*t/e,i=e/1e3;this.fast_.sample(i,r),this.slow_.sample(i,r)}},{key:\\\"canEstimate\\\",value:function(){var e=this.fast_;return e&&e.getTotalWeight()>=this.minWeight_}},{key:\\\"getEstimate\\\",value:function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}},{key:\\\"destroy\\\",value:function(){}}]),e}();r.default=l},{44:44}],10:[function(e,t,r){\\\"use strict\\\";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}function n(e,t){if(!e)throw new ReferenceError(\\\"this hasn't been initialised - super() hasn't been called\\\");return!t||\\\"object\\\"!=typeof t&&\\\"function\\\"!=typeof t?e:t}function s(e,t){if(\\\"function\\\"!=typeof t&&null!==t)throw new TypeError(\\\"Super expression must either be null or a function, not \\\"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),l=e(28),u=i(l),d=e(27),h=i(d),f=e(45),c=function(e){function t(e){return a(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,u.default.MEDIA_ATTACHING))}return s(t,e),o(t,[{key:\\\"destroy\\\",value:function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1}},{key:\\\"onMediaAttaching\\\",value:function(e){this.hls.config.capLevelOnFPSDrop&&(this.video=e.media instanceof HTMLVideoElement?e.media:null,\\\"function\\\"==typeof this.video.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),this.hls.config.fpsDroppedMonitoringPeriod))}},{key:\\\"checkFPS\\\",value:function(e,t,r){var i=performance.now();if(t){if(this.lastTime){var a=i-this.lastTime,n=r-this.lastDroppedFrames,s=t-this.lastDecodedFrames,o=1e3*n/a;if(this.hls.trigger(u.default.FPS_DROP,{currentDropped:n,currentDecoded:s,totalDroppedFrames:r}),o>0&&n>this.hls.config.fpsDroppedMonitoringThreshold*s){var l=this.hls.currentLevel;f.logger.warn(\\\"drop FPS ratio greater than max allowed value for currentLevel: \\\"+l),l>0&&(this.hls.autoLevelCapping===-1||this.hls.autoLevelCapping>=l)&&(l-=1,this.hls.trigger(u.default.FPS_DROP_LEVEL_CAPPING,{level:l,droppedLevel:this.hls.currentLevel}),this.hls.autoLevelCapping=l,this.hls.streamController.nextLevelSwitch())}}this.lastTime=i,this.lastDroppedFrames=r,this.lastDecodedFrames=t}}},{key:\\\"checkFPSInterval\\\",value:function(){if(this.video)if(this.isVideoPlaybackQualityAvailable){var e=this.video.getVideoPlaybackQuality();this.checkFPS(this.video,e.totalVideoFrames,e.droppedVideoFrames)}else this.checkFPS(this.video,this.video.webkitDecodedFrameCount,this.video.webkitDroppedFrameCount)}}]),t}(h.default);r.default=c},{27:27,28:28,45:45}],11:[function(e,t,r){\\\"use strict\\\";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}function n(e,t){if(!e)throw new ReferenceError(\\\"this hasn't been initialised - super() hasn't been called\\\");return!t||\\\"object\\\"!=typeof t&&\\\"function\\\"!=typeof t?e:t}function s(e,t){if(\\\"function\\\"!=typeof t&&null!==t)throw new TypeError(\\\"Super expression must either be null or a function, not \\\"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),l=e(28),u=i(l),d=e(27),h=i(d),f=e(45),c=e(26),v=e(30),g=i(v),p=function(e){function t(e){a(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,u.default.MANIFEST_LOADED,u.default.LEVEL_LOADED,u.default.ERROR));return r.ontick=r.tick.bind(r),r._manualLevel=r._autoLevelCapping=-1,r}return s(t,e),o(t,[{key:\\\"destroy\\\",value:function(){this.timer&&(clearTimeout(this.timer),this.timer=null),this._manualLevel=-1}},{key:\\\"startLoad\\\",value:function(){this.canload=!0,this.timer&&this.tick()}},{key:\\\"stopLoad\\\",value:function(){this.canload=!1}},{key:\\\"onManifestLoaded\\\",value:function(e){var t,r,i=[],a=[],n={},s=!1,o=!1,l=this.hls;if(e.levels.forEach(function(e){e.videoCodec&&(s=!0),(e.audioCodec||e.attrs&&e.attrs.AUDIO)&&(o=!0);var t=n[e.bitrate];void 0===t?(n[e.bitrate]=i.length,e.url=[e.url],e.urlId=0,i.push(e)):i[t].url.push(e.url)}),s&&o?i.forEach(function(e){e.videoCodec&&a.push(e)}):a=i,a=a.filter(function(e){var t=function(e){return MediaSource.isTypeSupported(\\\"audio/mp4;codecs=\\\"+e)},r=function(e){return MediaSource.isTypeSupported(\\\"video/mp4;codecs=\\\"+e)},i=e.audioCodec,a=e.videoCodec;return(!i||t(i))&&(!a||r(a))}),a.length){for(t=a[0].bitrate,a.sort(function(e,t){return e.bitrate-t.bitrate}),this._levels=a,r=0;r<a.length;r++)if(a[r].bitrate===t){this._firstLevel=r,f.logger.log(\\\"manifest loaded,\\\"+a.length+\\\" level(s) found, first bitrate:\\\"+t);break}l.trigger(u.default.MANIFEST_PARSED,{levels:this._levels,firstLevel:this._firstLevel,stats:e.stats,audio:o,video:s,altAudio:e.audioTracks.length>0})}else l.trigger(u.default.ERROR,{type:c.ErrorTypes.MEDIA_ERROR,details:c.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:l.url,reason:\\\"no level with compatible codecs found in manifest\\\"})}},{key:\\\"setLevelInternal\\\",value:function(e){var t=this._levels;if(e>=0&&e<t.length){this.timer&&(clearTimeout(this.timer),this.timer=null),this._level!==e&&(f.logger.log(\\\"switching to level \\\"+e),this._level=e),this.hls.trigger(u.default.LEVEL_SWITCH,{level:e});var r=t[e],i=r.details;if(!i||i.live===!0){var a=r.urlId;this.hls.trigger(u.default.LEVEL_LOADING,{url:r.url[a],level:e,id:a})}}else this.hls.trigger(u.default.ERROR,{type:c.ErrorTypes.OTHER_ERROR,details:c.ErrorDetails.LEVEL_SWITCH_ERROR,level:e,fatal:!1,reason:\\\"invalid level idx\\\"})}},{key:\\\"onError\\\",value:function(e){if(!e.fatal){var t=e.details,r=this.hls,i=void 0,a=void 0,n=!1;switch(t){case c.ErrorDetails.FRAG_LOAD_ERROR:case c.ErrorDetails.FRAG_LOAD_TIMEOUT:case c.ErrorDetails.FRAG_LOOP_LOADING_ERROR:case c.ErrorDetails.KEY_LOAD_ERROR:case c.ErrorDetails.KEY_LOAD_TIMEOUT:i=e.frag.level;break;case c.ErrorDetails.LEVEL_LOAD_ERROR:case c.ErrorDetails.LEVEL_LOAD_TIMEOUT:i=e.context.level,n=!0}if(void 0!==i)if(a=this._levels[i],a.urlId<a.url.length-1)a.urlId++,a.details=void 0,f.logger.warn(\\\"level controller,\\\"+t+\\\" for level \\\"+i+\\\": switching to redundant stream id \\\"+a.urlId);else{var s=this._manualLevel===-1&&i;if(s)f.logger.warn(\\\"level controller,\\\"+t+\\\": emergency switch-down for next fragment\\\"),r.abrController.nextAutoLevel=0;else if(a&&a.details&&a.details.live)f.logger.warn(\\\"level controller,\\\"+t+\\\" on live stream, discard\\\"),n&&(this._level=void 0);else if(t===c.ErrorDetails.LEVEL_LOAD_ERROR||t===c.ErrorDetails.LEVEL_LOAD_TIMEOUT){var o=this.hls,l=o.media,d=l&&g.default.isBuffered(l,l.currentTime)&&g.default.isBuffered(l,l.currentTime+.5);if(d){var h=o.config.levelLoadingRetryDelay;f.logger.warn(\\\"level controller,\\\"+t+\\\", but media buffered, retry in \\\"+h+\\\"ms\\\"),this.timer=setTimeout(this.ontick,h)}else f.logger.error(\\\"cannot recover \\\"+t+\\\" error\\\"),this._level=void 0,this.timer&&(clearTimeout(this.timer),this.timer=null),e.fatal=!0,o.trigger(u.default.ERROR,e)}}}}},{key:\\\"onLevelLoaded\\\",value:function(e){if(e.level===this._level){var t=e.details;if(t.live){var r=1e3*(t.averagetargetduration?t.averagetargetduration:t.targetduration),i=this._levels[e.level],a=i.details;a&&t.endSN===a.endSN&&(r/=2,f.logger.log(\\\"same live playlist, reload twice faster\\\")),r-=performance.now()-e.stats.trequest,r=Math.max(1e3,Math.round(r)),f.logger.log(\\\"live playlist, reload in \\\"+r+\\\" ms\\\"),this.timer=setTimeout(this.ontick,r)}else this.timer=null}}},{key:\\\"tick\\\",value:function(){var e=this._level;if(void 0!==e&&this.canload){var t=this._levels[e],r=t.urlId;this.hls.trigger(u.default.LEVEL_LOADING,{url:t.url[r],level:e,id:r})}}},{key:\\\"levels\\\",get:function(){return this._levels}},{key:\\\"level\\\",get:function(){return this._level},set:function(e){var t=this._levels;t&&t.length>e&&(this._level===e&&void 0!==t[e].details||this.setLevelInternal(e))}},{key:\\\"manualLevel\\\",get:function(){return this._manualLevel},set:function(e){this._manualLevel=e,void 0===this._startLevel&&(this._startLevel=e),e!==-1&&(this.level=e)}},{key:\\\"firstLevel\\\",get:function(){return this._firstLevel},set:function(e){this._firstLevel=e}},{key:\\\"startLevel\\\",get:function(){if(void 0===this._startLevel){var e=this.hls.config.startLevel;return void 0!==e?e:this._firstLevel}return this._startLevel},set:function(e){this._startLevel=e}},{key:\\\"nextLoadLevel\\\",get:function(){return this._manualLevel!==-1?this._manualLevel:this.hls.abrController.nextAutoLevel},set:function(e){this.level=e,this._manualLevel===-1&&(this.hls.abrController.nextAutoLevel=e)}}]),t}(h.default);r.default=p},{26:26,27:27,28:28,30:30,45:45}],12:[function(e,t,r){\\\"use strict\\\";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}function n(e,t){if(!e)throw new ReferenceError(\\\"this hasn't been initialised - super() hasn't been called\\\");return!t||\\\"object\\\"!=typeof t&&\\\"function\\\"!=typeof t?e:t}function s(e,t){if(\\\"function\\\"!=typeof t&&null!==t)throw new TypeError(\\\"Super expression must either be null or a function, not \\\"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),l=e(41),u=i(l),d=e(30),h=i(d),f=e(22),c=i(f),v=e(28),g=i(v),p=e(27),y=i(p),m=e(31),E=i(m),b=e(47),R=i(b),_=e(26),k=e(45),T={STOPPED:\\\"STOPPED\\\",IDLE:\\\"IDLE\\\",KEY_LOADING:\\\"KEY_LOADING\\\",FRAG_LOADING:\\\"FRAG_LOADING\\\",FRAG_LOADING_WAITING_RETRY:\\\"FRAG_LOADING_WAITING_RETRY\\\",WAITING_LEVEL:\\\"WAITING_LEVEL\\\",PARSING:\\\"PARSING\\\",PARSED:\\\"PARSED\\\",BUFFER_FLUSHING:\\\"BUFFER_FLUSHING\\\",ENDED:\\\"ENDED\\\",ERROR:\\\"ERROR\\\"},A=function(e){function t(e){a(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,g.default.MEDIA_ATTACHED,g.default.MEDIA_DETACHING,g.default.MANIFEST_LOADING,g.default.MANIFEST_PARSED,g.default.LEVEL_LOADED,g.default.KEY_LOADED,g.default.FRAG_LOADED,g.default.FRAG_LOAD_EMERGENCY_ABORTED,g.default.FRAG_PARSING_INIT_SEGMENT,g.default.FRAG_PARSING_DATA,g.default.FRAG_PARSED,g.default.ERROR,g.default.AUDIO_TRACK_SWITCH,g.default.BUFFER_CREATED,g.default.BUFFER_APPENDED,g.default.BUFFER_FLUSHED));return r.config=e.config,r.audioCodecSwap=!1,r.ticks=0,r.ontick=r.tick.bind(r),r}return s(t,e),o(t,[{key:\\\"destroy\\\",value:function(){this.stopLoad(),this.timer&&(clearInterval(this.timer),this.timer=null),y.default.prototype.destroy.call(this),this.state=T.STOPPED}},{key:\\\"startLoad\\\",value:function(e){if(this.levels){var t=this.media,r=this.lastCurrentTime,i=this.hls;if(this.stopLoad(),this.timer||(this.timer=setInterval(this.ontick,100)),this.level=-1,this.fragLoadError=0,t&&r>0?(k.logger.log(\\\"configure startPosition @\\\"+r.toFixed(3)),this.lastPaused||(k.logger.log(\\\"resuming video\\\"),t.play())):this.lastCurrentTime=this.startPosition?this.startPosition:e,!this.startFragRequested){var a=i.startLevel;a===-1&&(a=0,this.bitrateTest=!0),this.level=i.nextLoadLevel=a,this.loadedmetadata=!1}this.state=T.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()}else k.logger.warn(\\\"cannot start loading as manifest not parsed yet\\\"),this.state=T.STOPPED}},{key:\\\"stopLoad\\\",value:function(){var e=this.fragCurrent;e&&(e.loader&&e.loader.abort(),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=T.STOPPED}},{key:\\\"tick\\\",value:function(){this.ticks++,1===this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)}},{key:\\\"doTick\\\",value:function(){switch(this.state){case T.ERROR:break;case T.BUFFER_FLUSHING:this.fragLoadError=0;break;case T.IDLE:if(!this._doTickIdle())return;break;case T.WAITING_LEVEL:var e=this.levels[this.level];e&&e.details&&(this.state=T.IDLE);break;case T.FRAG_LOADING_WAITING_RETRY:var t=performance.now(),r=this.retryDate;(!r||t>=r||this.media&&this.media.seeking)&&(k.logger.log(\\\"mediaController: retryDate reached, switch back to IDLE state\\\"),this.state=T.IDLE);break;case T.ERROR:case T.PAUSED:case T.STOPPED:case T.FRAG_LOADING:case T.PARSING:case T.PARSED:case T.ENDED:}this._checkBuffer(),this._checkFragmentChanged()}},{key:\\\"_doTickIdle\\\",value:function(){var e=this.hls,t=e.config,r=this.media;if(void 0!==this.levelLastLoaded&&!r&&(this.startFragRequested||!t.startFragPrefetch))return!0;var i=void 0;i=this.loadedmetadata?r.currentTime:this.nextLoadPosition;var a=e.nextLoadLevel,n=this.levels[a],s=n.bitrate,o=void 0;o=s?Math.max(8*t.maxBufferSize/s,t.maxBufferLength):t.maxBufferLength,o=Math.min(o,t.maxMaxBufferLength);var l=h.default.bufferInfo(this.mediaBuffer?this.mediaBuffer:r,i,t.maxBufferHole),u=l.len;if(u>=o)return!0;k.logger.trace(\\\"buffer length of \\\"+u.toFixed(3)+\\\" is below max of \\\"+o.toFixed(3)+\\\". checking for more payload ...\\\"),this.level=e.nextLoadLevel=a;var d=n.details;if(\\\"undefined\\\"==typeof d||d.live&&this.levelLastLoaded!==a)return this.state=T.WAITING_LEVEL,!0;var f=this.fragPrevious;if(!d.live&&f&&f.sn===d.endSN&&(!r.seeking&&l.len||r.duration-l.end<=f.duration/2)){var c={};return this.altAudio&&(c.type=\\\"video\\\"),this.hls.trigger(g.default.BUFFER_EOS,c),this.state=T.ENDED,!0}return this._fetchPayloadOrEos({pos:i,bufferInfo:l,levelDetails:d})}},{key:\\\"_fetchPayloadOrEos\\\",value:function(e){var t=e.pos,r=e.bufferInfo,i=e.levelDetails,a=this.fragPrevious,n=this.level,s=i.fragments,o=s.length;if(0===o)return!1;var l=s[0].start,u=s[o-1].start+s[o-1].duration,d=r.end,h=void 0;if(i.live){var f=this.config.initialLiveManifestSize;if(o<f)return k.logger.warn(\\\"Can not start playback of a level, reason: not enough fragments \\\"+o+\\\" < \\\"+f),!1;if(h=this._ensureFragmentAtLivePoint({levelDetails:i,bufferEnd:d,start:l,end:u,fragPrevious:a,fragments:s,fragLen:o}),null===h)return!1}else d<l&&(h=s[0]);return h||(h=this._findFragment({start:l,fragPrevious:a,fragLen:o,fragments:s,bufferEnd:d,end:u,levelDetails:i})),!h||this._loadFragmentOrKey({frag:h,level:n,levelDetails:i,pos:t,bufferEnd:d})}},{key:\\\"_ensureFragmentAtLivePoint\\\",value:function(e){var t=e.levelDetails,r=e.bufferEnd,i=e.start,a=e.end,n=e.fragPrevious,s=e.fragments,o=e.fragLen,l=this.hls.config,u=this.media,d=void 0,h=void 0!==l.liveMaxLatencyDuration?l.liveMaxLatencyDuration:l.liveMaxLatencyDurationCount*t.targetduration;if(r<Math.max(i,a-h)){var f=this.liveSyncPosition=this.computeLivePosition(i,t);k.logger.log(\\\"buffer end: \\\"+r.toFixed(3)+\\\" is located too far from the end of live sliding playlist, reset currentTime to : \\\"+f.toFixed(3)),r=f,u&&u.readyState&&u.duration>f&&(u.currentTime=f)}if(t.PTSKnown&&r>a&&u&&u.readyState)return null;if(this.startFragRequested&&!t.PTSKnown){if(n){var c=n.sn+1;c>=t.startSN&&c<=t.endSN&&(d=s[c-t.startSN],k.logger.log(\\\"live playlist, switching playlist, load frag with next SN: \\\"+d.sn))}d||(d=s[Math.min(o-1,Math.round(o/2))],k.logger.log(\\\"live playlist, switching playlist, unknown, load middle frag : \\\"+d.sn))}return d}},{key:\\\"_findFragment\\\",value:function(e){var t=e.start,r=e.fragPrevious,i=e.fragLen,a=e.fragments,n=e.bufferEnd,s=e.end,o=e.levelDetails,l=this.hls.config,d=void 0,h=void 0,f=l.maxFragLookUpTolerance;if(n<s?(n>s-f&&(f=0),h=u.default.search(a,function(e){return e.start+e.duration-f<=n?1:e.start-f>n&&e.start?-1:0})):h=a[i-1],h&&(d=h,t=h.start,r&&d.level===r.level&&d.sn===r.sn))if(d.sn<o.endSN){var c=r.deltaPTS,v=d.sn-o.startSN;c&&c>l.maxBufferHole&&r.dropped&&v?(d=a[v-1],k.logger.warn(\\\"SN just loaded, with large PTS gap between audio and video, maybe frag is not starting with a keyframe ? load previous one to try to overcome this\\\"),r.loadCounter--):(d=a[v+1],k.logger.log(\\\"SN just loaded, load next one: \\\"+d.sn))}else d=null;return d}},{key:\\\"_loadFragmentOrKey\\\",value:function(e){var t=e.frag,r=e.level,i=e.levelDetails,a=e.pos,n=e.bufferEnd,s=this.hls,o=s.config;if(null==t.decryptdata.uri||null!=t.decryptdata.key){if(k.logger.log(\\\"Loading \\\"+t.sn+\\\" of [\\\"+i.startSN+\\\" ,\\\"+i.endSN+\\\"],level \\\"+r+\\\", currentTime:\\\"+a.toFixed(3)+\\\",bufferEnd:\\\"+n.toFixed(3)),void 0!==this.fragLoadIdx?this.fragLoadIdx++:this.fragLoadIdx=0,t.loadCounter){t.loadCounter++;var l=o.fragLoadingLoopThreshold;if(t.loadCounter>l&&Math.abs(this.fragLoadIdx-t.loadIdx)<l)return s.trigger(g.default.ERROR,{type:_.ErrorTypes.MEDIA_ERROR,details:_.ErrorDetails.FRAG_LOOP_LOADING_ERROR,fatal:!1,frag:t}),!1}else t.loadCounter=1;return t.loadIdx=this.fragLoadIdx,this.fragCurrent=t,this.startFragRequested=!0,t.autoLevel=s.autoLevelEnabled,t.bitrateTest=this.bitrateTest,s.trigger(g.default.FRAG_LOADING,{frag:t}),this.state=T.FRAG_LOADING,!0}k.logger.log(\\\"Loading key for \\\"+t.sn+\\\" of [\\\"+i.startSN+\\\" ,\\\"+i.endSN+\\\"],level \\\"+r),this.state=T.KEY_LOADING,s.trigger(g.default.KEY_LOADING,{frag:t})}},{key:\\\"getBufferRange\\\",value:function(e){var t,r,i=this.bufferRange;if(i)for(t=i.length-1;t>=0;t--)if(r=i[t],e>=r.start&&e<=r.end)return r;return null}},{key:\\\"followingBufferRange\\\",value:function(e){return e?this.getBufferRange(e.end+.5):null}},{key:\\\"_checkFragmentChanged\\\",value:function(){var e,t,r=this.media;if(r&&r.readyState&&r.seeking===!1&&(t=r.currentTime,t>r.playbackRate*this.lastCurrentTime&&(this.lastCurrentTime=t),h.default.isBuffered(r,t)?e=this.getBufferRange(t):h.default.isBuffered(r,t+.1)&&(e=this.getBufferRange(t+.1)),e)){var i=e.frag;i!==this.fragPlaying&&(this.fragPlaying=i,this.hls.trigger(g.default.FRAG_CHANGED,{frag:i}))}}},{key:\\\"immediateLevelSwitch\\\",value:function(){if(k.logger.log(\\\"immediateLevelSwitch\\\"),!this.immediateSwitch){this.immediateSwitch=!0;var e=this.media,t=void 0;e?(t=e.paused,e.pause()):t=!0,this.previouslyPaused=t}var r=this.fragCurrent;r&&r.loader&&r.loader.abort(),this.fragCurrent=null,this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold,this.state=T.BUFFER_FLUSHING,this.hls.trigger(g.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY})}},{key:\\\"immediateLevelSwitchEnd\\\",value:function(){var e=this.media;e&&e.buffered.length&&(this.immediateSwitch=!1,h.default.isBuffered(e,e.currentTime)&&(e.currentTime-=1e-4),this.previouslyPaused||e.play())}},{key:\\\"nextLevelSwitch\\\",value:function(){var e=this.media;if(e&&e.readyState){var t=void 0,r=void 0,i=void 0;if(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold,r=this.getBufferRange(e.currentTime),r&&r.start>1&&(this.state=T.BUFFER_FLUSHING,this.hls.trigger(g.default.BUFFER_FLUSHING,{startOffset:0,endOffset:r.start-1})),e.paused)t=0;else{var a=this.hls.nextLoadLevel,n=this.levels[a],s=this.fragLastKbps;t=s&&this.fragCurrent?this.fragCurrent.duration*n.bitrate/(1e3*s)+1:0}if(i=this.getBufferRange(e.currentTime+t),i&&(i=this.followingBufferRange(i))){var o=this.fragCurrent;o&&o.loader&&o.loader.abort(),this.fragCurrent=null,this.state=T.BUFFER_FLUSHING,this.hls.trigger(g.default.BUFFER_FLUSHING,{startOffset:i.start,endOffset:Number.POSITIVE_INFINITY})}}}},{key:\\\"onMediaAttached\\\",value:function(e){var t=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener(\\\"seeking\\\",this.onvseeking),t.addEventListener(\\\"seeked\\\",this.onvseeked),t.addEventListener(\\\"ended\\\",this.onvended);var r=this.config;this.levels&&r.autoStartLoad&&this.hls.startLoad(r.startPosition)}},{key:\\\"onMediaDetaching\\\",value:function(){var e=this.media;e&&e.ended&&(k.logger.log(\\\"MSE detaching and video ended, reset startPosition\\\"),this.startPosition=this.lastCurrentTime=0);var t=this.levels;t&&t.forEach(function(e){e.details&&e.details.fragments.forEach(function(e){e.loadCounter=void 0})}),e&&(e.removeEventListener(\\\"seeking\\\",this.onvseeking),e.removeEventListener(\\\"seeked\\\",this.onvseeked),e.removeEventListener(\\\"ended\\\",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=null,this.loadedmetadata=!1,this.stopLoad()}},{key:\\\"onMediaSeeking\\\",value:function(){var e=this.media,t=e?e.currentTime:void 0,r=this.config;if(k.logger.log(\\\"media seeking to \\\"+t.toFixed(3)),this.state===T.FRAG_LOADING){var i=h.default.bufferInfo(e,t,this.config.maxBufferHole),a=this.fragCurrent;if(0===i.len&&a){var n=r.maxFragLookUpTolerance,s=a.start-n,o=a.start+a.duration+n;t<s||t>o?(a.loader&&(k.logger.log(\\\"seeking outside of buffer while fragment load in progress, cancel fragment load\\\"),a.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=T.IDLE):k.logger.log(\\\"seeking outside of buffer but within currently loaded fragment range\\\")}}else this.state===T.ENDED&&(this.state=T.IDLE);e&&(this.lastCurrentTime=t),this.state!==T.FRAG_LOADING&&void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*r.fragLoadingLoopThreshold),this.tick()}},{key:\\\"onMediaSeeked\\\",value:function(){k.logger.log(\\\"media seeked to \\\"+this.media.currentTime.toFixed(3)),this.tick()}},{key:\\\"onMediaEnded\\\",value:function(){k.logger.log(\\\"media ended\\\"),this.startPosition=this.lastCurrentTime=0}},{key:\\\"onManifestLoading\\\",value:function(){k.logger.log(\\\"trigger BUFFER_RESET\\\"),this.hls.trigger(g.default.BUFFER_RESET),this.bufferRange=[],this.stalled=!1,this.startPosition=this.lastCurrentTime=0}},{key:\\\"onManifestParsed\\\",value:function(e){var t,r=!1,i=!1;e.levels.forEach(function(e){t=e.audioCodec,t&&(t.indexOf(\\\"mp4a.40.2\\\")!==-1&&(r=!0),t.indexOf(\\\"mp4a.40.5\\\")!==-1&&(i=!0))}),this.audioCodecSwitch=r&&i,this.audioCodecSwitch&&k.logger.log(\\\"both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC\\\"),this.levels=e.levels,this.startLevelLoaded=!1,this.startFragRequested=!1;var a=this.config;a.autoStartLoad&&this.hls.startLoad(a.startPosition)}},{key:\\\"onLevelLoaded\\\",value:function(e){var t=e.details,r=e.level,i=this.levels[r],a=t.totalduration,n=0;if(k.logger.log(\\\"level \\\"+r+\\\" loaded [\\\"+t.startSN+\\\",\\\"+t.endSN+\\\"],duration:\\\"+a),this.levelLastLoaded=r,t.live){var s=i.details;s&&t.fragments.length>0?(E.default.mergeDetails(s,t),n=t.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(n,s),t.PTSKnown?k.logger.log(\\\"live playlist sliding:\\\"+n.toFixed(3)):k.logger.log(\\\"live playlist - outdated PTS, unknown sliding\\\")):(t.PTSKnown=!1,k.logger.log(\\\"live playlist - first load, unknown sliding\\\"))}else t.PTSKnown=!1;if(i.details=t,this.hls.trigger(g.default.LEVEL_UPDATED,{details:t,level:r}),this.startFragRequested===!1){if(this.startPosition===-1||this.lastCurrentTime===-1){var o=t.startTimeOffset;isNaN(o)?t.live?(this.startPosition=this.computeLivePosition(n,t),k.logger.log(\\\"configure startPosition to \\\"+this.startPosition)):this.startPosition=0:(o<0&&(k.logger.log(\\\"negative start time offset \\\"+o+\\\", count from end of last fragment\\\"),o=n+a+o),k.logger.log(\\\"start time offset found in playlist, adjust startPosition to \\\"+o),this.startPosition=o)}this.nextLoadPosition=this.startPosition}this.state===T.WAITING_LEVEL&&(this.state=T.IDLE),this.tick()}},{key:\\\"onKeyLoaded\\\",value:function(){this.state===T.KEY_LOADING&&(this.state=T.IDLE,this.tick())}},{key:\\\"onFragLoaded\\\",value:function(e){var t=this.fragCurrent,r=e.frag;if(this.state===T.FRAG_LOADING&&t&&\\\"main\\\"===r.type&&r.level===t.level&&r.sn===t.sn){var i=e.stats,a=this.levels[t.level],n=a.details;if(k.logger.log(\\\"Loaded  \\\"+t.sn+\\\" of [\\\"+n.startSN+\\\" ,\\\"+n.endSN+\\\"],level \\\"+t.level),this.bitrateTest=!1,r.bitrateTest===!0&&this.hls.nextLoadLevel)this.state=T.IDLE,this.startFragRequested=!1,i.tparsed=i.tbuffered=performance.now(),this.hls.trigger(g.default.FRAG_BUFFERED,{stats:i,frag:t,id:\\\"main\\\"}),this.tick();else{this.state=T.PARSING,this.stats=i;var s=n.totalduration,o=isNaN(t.startDTS)?t.start:t.startDTS,l=t.level,u=t.sn,d=this.config.defaultAudioCodec||a.audioCodec;\\nthis.audioCodecSwap&&(k.logger.log(\\\"swapping playlist audio codec\\\"),void 0===d&&(d=this.lastAudioCodec),d&&(d=d.indexOf(\\\"mp4a.40.5\\\")!==-1?\\\"mp4a.40.2\\\":\\\"mp4a.40.5\\\")),this.pendingAppending=0,k.logger.log(\\\"Parsing \\\"+u+\\\" of [\\\"+n.startSN+\\\" ,\\\"+n.endSN+\\\"],level \\\"+l+\\\", cc \\\"+t.cc);var h=this.demuxer;h||(h=this.demuxer=new c.default(this.hls,\\\"main\\\"));var f=n.PTSKnown||!n.live;h.push(e.payload,d,a.videoCodec,o,t.cc,l,u,s,t.decryptdata,f)}}this.fragLoadError=0}},{key:\\\"onFragParsingInitSegment\\\",value:function(e){var t=this.fragCurrent;if(t&&\\\"main\\\"===e.id&&e.sn===t.sn&&e.level===t.level&&this.state===T.PARSING){var r,i,a=e.tracks;if(a.audio&&this.altAudio&&delete a.audio,i=a.audio){var n=this.levels[this.level].audioCodec,s=navigator.userAgent.toLowerCase();n&&this.audioCodecSwap&&(k.logger.log(\\\"swapping playlist audio codec\\\"),n=n.indexOf(\\\"mp4a.40.5\\\")!==-1?\\\"mp4a.40.2\\\":\\\"mp4a.40.5\\\"),this.audioCodecSwitch&&1!==i.metadata.channelCount&&s.indexOf(\\\"firefox\\\")===-1&&(n=\\\"mp4a.40.5\\\"),s.indexOf(\\\"android\\\")!==-1&&(n=\\\"mp4a.40.2\\\",k.logger.log(\\\"Android: force audio codec to\\\"+n)),i.levelCodec=n,i.id=e.id}if(i=a.video,i&&(i.levelCodec=this.levels[this.level].videoCodec,i.id=e.id),e.unique){var o={codec:\\\"\\\",levelCodec:\\\"\\\"};for(r in e.tracks)i=a[r],o.container=i.container,o.codec&&(o.codec+=\\\",\\\",o.levelCodec+=\\\",\\\"),i.codec&&(o.codec+=i.codec),i.levelCodec&&(o.levelCodec+=i.levelCodec);a={audiovideo:o}}this.hls.trigger(g.default.BUFFER_CODECS,a);for(r in a){i=a[r],k.logger.log(\\\"main track:\\\"+r+\\\",container:\\\"+i.container+\\\",codecs[level/parsed]=[\\\"+i.levelCodec+\\\"/\\\"+i.codec+\\\"]\\\");var l=i.initSegment;l&&(this.pendingAppending++,this.hls.trigger(g.default.BUFFER_APPENDING,{type:r,data:l,parent:\\\"main\\\",content:\\\"initSegment\\\"}))}this.tick()}}},{key:\\\"onFragParsingData\\\",value:function(e){var t=this,r=this.fragCurrent;if(r&&\\\"main\\\"===e.id&&e.sn===r.sn&&e.level===r.level&&(\\\"audio\\\"!==e.type||!this.altAudio)&&this.state===T.PARSING){var i=this.levels[this.level],a=this.fragCurrent;k.logger.log(\\\"Parsed \\\"+e.type+\\\",PTS:[\\\"+e.startPTS.toFixed(3)+\\\",\\\"+e.endPTS.toFixed(3)+\\\"],DTS:[\\\"+e.startDTS.toFixed(3)+\\\"/\\\"+e.endDTS.toFixed(3)+\\\"],nb:\\\"+e.nb+\\\",dropped:\\\"+(e.dropped||0));var n=E.default.updateFragPTSDTS(i.details,a.sn,e.startPTS,e.endPTS,e.startDTS,e.endDTS),s=this.hls;s.trigger(g.default.LEVEL_PTS_UPDATED,{details:i.details,level:this.level,drift:n}),\\\"video\\\"===e.type&&(a.dropped=e.dropped),[e.data1,e.data2].forEach(function(r){r&&(t.pendingAppending++,s.trigger(g.default.BUFFER_APPENDING,{type:e.type,data:r,parent:\\\"main\\\",content:\\\"data\\\"}))}),this.nextLoadPosition=e.endPTS,this.bufferRange.push({type:e.type,start:e.startPTS,end:e.endPTS,frag:a}),this.tick()}}},{key:\\\"onFragParsed\\\",value:function(e){var t=this.fragCurrent;t&&\\\"main\\\"===e.id&&e.sn===t.sn&&e.level===t.level&&this.state===T.PARSING&&(this.stats.tparsed=performance.now(),this.state=T.PARSED,this._checkAppendedParsed())}},{key:\\\"onAudioTrackSwitch\\\",value:function(e){var t=!!e.url;if(t)this.videoBuffer&&this.mediaBuffer!==this.videoBuffer&&(k.logger.log(\\\"switching on alternate audio, use video.buffered to schedule main fragment loading\\\"),this.mediaBuffer=this.videoBuffer);else if(this.mediaBuffer!==this.media){k.logger.log(\\\"switching on main audio, use media.buffered to schedule main fragment loading\\\"),this.mediaBuffer=this.media;var r=this.fragCurrent;r.loader&&(k.logger.log(\\\"switching to main audio track, cancel main fragment load\\\"),r.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=T.IDLE}this.altAudio=t}},{key:\\\"onBufferCreated\\\",value:function(e){var t=e.tracks,r=void 0,i=void 0,a=!1;for(var n in t){var s=t[n];\\\"main\\\"===s.id?(i=n,r=s,\\\"video\\\"===n&&(this.videoBuffer=t[n].buffer)):a=!0}a&&r?(k.logger.log(\\\"alternate track found, use \\\"+i+\\\".buffered to schedule main fragment loading\\\"),this.mediaBuffer=r.buffer):this.mediaBuffer=this.media}},{key:\\\"onBufferAppended\\\",value:function(e){if(\\\"main\\\"===e.parent)switch(this.state){case T.PARSING:case T.PARSED:this.pendingAppending--,this._checkAppendedParsed()}}},{key:\\\"_checkAppendedParsed\\\",value:function(){if(this.state===T.PARSED&&0===this.pendingAppending){var e=this.fragCurrent,t=this.stats;if(e){this.fragPrevious=e,t.tbuffered=performance.now(),this.fragLastKbps=Math.round(8*t.total/(t.tbuffered-t.tfirst)),this.hls.trigger(g.default.FRAG_BUFFERED,{stats:t,frag:e,id:\\\"main\\\"});var r=this.mediaBuffer?this.mediaBuffer:this.media;k.logger.log(\\\"main buffered : \\\"+R.default.toString(r.buffered)),this.state=T.IDLE}this.tick()}}},{key:\\\"onError\\\",value:function(e){var t=e.frag||this.fragCurrent;if(!t||\\\"main\\\"===t.type){var r=this.media,i=r&&h.default.isBuffered(r,r.currentTime)&&h.default.isBuffered(r,r.currentTime+.5);switch(e.details){case _.ErrorDetails.FRAG_LOAD_ERROR:case _.ErrorDetails.FRAG_LOAD_TIMEOUT:case _.ErrorDetails.KEY_LOAD_ERROR:case _.ErrorDetails.KEY_LOAD_TIMEOUT:if(!e.fatal){var a=this.fragLoadError;a?a++:a=1;var n=this.config;if(a<=n.fragLoadingMaxRetry||i||t.autoLevel&&t.level){this.fragLoadError=a,t.loadCounter=0;var s=Math.min(Math.pow(2,a-1)*n.fragLoadingRetryDelay,n.fragLoadingMaxRetryTimeout);k.logger.warn(\\\"mediaController: frag loading failed, retry in \\\"+s+\\\" ms\\\"),this.retryDate=performance.now()+s,this.state=T.FRAG_LOADING_WAITING_RETRY}else k.logger.error(\\\"mediaController: \\\"+e.details+\\\" reaches max retry, redispatch as fatal ...\\\"),e.fatal=!0,this.hls.trigger(g.default.ERROR,e),this.state=T.ERROR}break;case _.ErrorDetails.FRAG_LOOP_LOADING_ERROR:e.fatal||(i?(this._reduceMaxBufferLength(t.duration),this.state=T.IDLE):t.autoLevel&&0!==t.level||(e.fatal=!0,this.hls.trigger(g.default.ERROR,e),this.state=T.ERROR));break;case _.ErrorDetails.LEVEL_LOAD_ERROR:case _.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==T.ERROR&&(e.fatal?(this.state=T.ERROR,k.logger.warn(\\\"streamController: \\\"+e.details+\\\",switch to \\\"+this.state+\\\" state ...\\\")):this.state===T.WAITING_LEVEL&&(this.state=T.IDLE));break;case _.ErrorDetails.BUFFER_FULL_ERROR:this.state!==T.PARSING&&this.state!==T.PARSED||(i?(this._reduceMaxBufferLength(t.duration),this.state=T.IDLE):(k.logger.warn(\\\"buffer full error also media.currentTime is not buffered, flush everything\\\"),this.fragCurrent=null,this.state=T.PAUSED,this.hls.trigger(g.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY})))}}}},{key:\\\"_reduceMaxBufferLength\\\",value:function(e){var t=this.config;t.maxMaxBufferLength>=e&&(t.maxMaxBufferLength/=2,k.logger.warn(\\\"reduce max buffer length to \\\"+t.maxMaxBufferLength+\\\"s and switch to IDLE state\\\"),this.fragLoadIdx+=2*t.fragLoadingLoopThreshold)}},{key:\\\"_checkBuffer\\\",value:function(){var e=this.media;if(e&&e.readyState){var t=e.currentTime,r=e.buffered;if(!this.loadedmetadata&&r.length){this.loadedmetadata=!0;var i=this.startPosition,a=h.default.isBuffered(e,i);t===i&&a||(k.logger.log(\\\"target start position:\\\"+i),a||(i=r.start(0),k.logger.log(\\\"target start position not buffered, seek to buffered.start(0) \\\"+i)),k.logger.log(\\\"adjust currentTime from \\\"+t+\\\" to \\\"+i),e.currentTime=i)}else if(this.immediateSwitch)this.immediateLevelSwitchEnd();else{var n=h.default.bufferInfo(e,t,0),s=!(e.paused||e.ended||0===e.buffered.length),o=.5,l=t>e.playbackRate*this.lastCurrentTime,u=this.config;if(this.stalled&&l&&(this.stalled=!1,k.logger.log(\\\"playback not stuck anymore @\\\"+t)),s&&n.len<=o&&(l?(o=0,this.seekHoleNudgeDuration=0):this.stalled?this.seekHoleNudgeDuration+=u.seekHoleNudgeDuration:(this.seekHoleNudgeDuration=0,k.logger.log(\\\"playback seems stuck @\\\"+t),this.hls.trigger(g.default.ERROR,{type:_.ErrorTypes.MEDIA_ERROR,details:_.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1}),this.stalled=!0),n.len<=o)){var d=n.nextStart,f=d-t;if(d&&f<u.maxSeekHole&&f>0){k.logger.log(\\\"adjust currentTime from \\\"+e.currentTime+\\\" to next buffered @ \\\"+d+\\\" + nudge \\\"+this.seekHoleNudgeDuration);var c=d+this.seekHoleNudgeDuration-e.currentTime;e.currentTime=d+this.seekHoleNudgeDuration,this.hls.trigger(g.default.ERROR,{type:_.ErrorTypes.MEDIA_ERROR,details:_.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,hole:c})}}}}}},{key:\\\"onFragLoadEmergencyAborted\\\",value:function(){this.state=T.IDLE,this.loadedmetadata||(this.startFragRequested=!1),this.tick()}},{key:\\\"onBufferFlushed\\\",value:function(){var e=this.mediaBuffer?this.mediaBuffer:this.media,t=this.bufferRange,r=[],i=void 0,a=void 0;for(a=0;a<t.length;a++)i=t[a],h.default.isBuffered(e,(i.start+i.end)/2)&&r.push(i);this.bufferRange=r,this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold,this.state=T.IDLE,this.fragPrevious=null}},{key:\\\"swapAudioCodec\\\",value:function(){this.audioCodecSwap=!this.audioCodecSwap}},{key:\\\"computeLivePosition\\\",value:function(e,t){var r=void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*t.targetduration;return e+Math.max(0,t.totalduration-r)}},{key:\\\"state\\\",set:function(e){if(this.state!==e){var t=this.state;this._state=e,k.logger.log(\\\"engine state transition from \\\"+t+\\\" to \\\"+e),this.hls.trigger(g.default.STREAM_STATE_TRANSITION,{previousState:t,nextState:e})}},get:function(){return this._state}},{key:\\\"currentLevel\\\",get:function(){var e=this.media;if(e){var t=this.getBufferRange(e.currentTime);if(t)return t.frag.level}return-1}},{key:\\\"nextBufferRange\\\",get:function(){var e=this.media;return e?this.followingBufferRange(this.getBufferRange(e.currentTime)):null}},{key:\\\"nextLevel\\\",get:function(){var e=this.nextBufferRange;return e?e.frag.level:-1}},{key:\\\"liveSyncPosition\\\",get:function(){return this._liveSyncPosition},set:function(e){this._liveSyncPosition=e}}]),t}(y.default);r.default=A},{22:22,26:26,27:27,28:28,30:30,31:31,41:41,45:45,47:47}],13:[function(e,t,r){\\\"use strict\\\";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}function n(e,t){if(!e)throw new ReferenceError(\\\"this hasn't been initialised - super() hasn't been called\\\");return!t||\\\"object\\\"!=typeof t&&\\\"function\\\"!=typeof t?e:t}function s(e,t){if(\\\"function\\\"!=typeof t&&null!==t)throw new TypeError(\\\"Super expression must either be null or a function, not \\\"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),l=e(28),u=i(l),d=e(27),h=i(d),f=e(42),c=i(f),v=function(e){function t(e){a(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,u.default.MEDIA_ATTACHING,u.default.MEDIA_DETACHING,u.default.FRAG_PARSING_USERDATA,u.default.MANIFEST_LOADING,u.default.FRAG_LOADED,u.default.LEVEL_SWITCH));if(r.hls=e,r.config=e.config,r.enabled=!0,r.Cues=e.config.cueHandler,r.config.enableCEA708Captions){var i=r,s={newCue:function(e,t,r){if(!i.textTrack1){var a=i.getExistingTrack(\\\"1\\\");if(a){i.textTrack1=a,i.clearCurrentCues(i.textTrack1);var n=new window.Event(\\\"addtrack\\\");n.track=i.textTrack1,i.media.dispatchEvent(n)}else i.textTrack1=i.createTextTrack(\\\"captions\\\",\\\"English\\\",\\\"en\\\"),i.textTrack1.textTrack1=!0}i.Cues.newCue(i.textTrack1,e,t,r)}},o={newCue:function(e,t,r){if(!i.textTrack2){var a=i.getExistingTrack(\\\"2\\\");if(a){i.textTrack2=a,i.clearCurrentCues(i.textTrack2);var n=new window.Event(\\\"addtrack\\\");n.track=i.textTrack2,i.media.dispatchEvent(n)}else i.textTrack2=i.createTextTrack(\\\"captions\\\",\\\"Spanish\\\",\\\"es\\\"),i.textTrack2.textTrack2=!0}i.Cues.newCue(i.textTrack2,e,t,r)}};r.cea608Parser=new c.default(0,s,o)}return r}return s(t,e),o(t,[{key:\\\"clearCurrentCues\\\",value:function(e){if(e&&e.cues)for(;e.cues.length>0;)e.removeCue(e.cues[0])}},{key:\\\"getExistingTrack\\\",value:function(e){var t=this.media;if(t)for(var r=0;r<t.textTracks.length;r++){var i=t.textTracks[r],a=\\\"textTrack\\\"+e;if(i[a]===!0)return i}return null}},{key:\\\"createTextTrack\\\",value:function(e,t,r){if(this.media)return this.media.addTextTrack(e,t,r)}},{key:\\\"destroy\\\",value:function(){h.default.prototype.destroy.call(this)}},{key:\\\"onMediaAttaching\\\",value:function(e){this.media=e.media}},{key:\\\"onMediaDetaching\\\",value:function(){}},{key:\\\"onManifestLoading\\\",value:function(){this.lastPts=Number.NEGATIVE_INFINITY}},{key:\\\"onLevelSwitch\\\",value:function(){\\\"NONE\\\"===this.hls.currentLevel.closedCaptions?this.enabled=!1:this.enabled=!0}},{key:\\\"onFragLoaded\\\",value:function(e){if(\\\"main\\\"===e.frag.type){var t=e.frag.start;t<=this.lastPts&&(this.clearCurrentCues(this.textTrack1),this.clearCurrentCues(this.textTrack2)),this.lastPts=t}}},{key:\\\"onFragParsingUserdata\\\",value:function(e){if(this.enabled&&this.config.enableCEA708Captions)for(var t=0;t<e.samples.length;t++){var r=this.extractCea608Data(e.samples[t].bytes);this.cea608Parser.addData(e.samples[t].pts,r)}}},{key:\\\"extractCea608Data\\\",value:function(e){for(var t,r,i,a,n,s=31&e[0],o=2,l=[],u=0;u<s;u++)t=e[o++],r=127&e[o++],i=127&e[o++],a=0!==(4&t),n=3&t,0===r&&0===i||a&&0===n&&(l.push(r),l.push(i));return l}}]),t}(h.default);r.default=v},{27:27,28:28,42:42}],14:[function(e,t,r){\\\"use strict\\\";function i(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),n=function(){function e(t){i(this,e),this.aesIV=t}return a(e,[{key:\\\"decrypt\\\",value:function(e,t){return window.crypto.subtle.decrypt({name:\\\"AES-CBC\\\",iv:this.aesIV},t,e)}}]),e}();r.default=n},{}],15:[function(e,t,r){\\\"use strict\\\";function i(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),n=function(){function e(){i(this,e),this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[],this.subMix[0]=new Uint32Array(256),this.subMix[1]=new Uint32Array(256),this.subMix[2]=new Uint32Array(256),this.subMix[3]=new Uint32Array(256),this.invSubMix=[],this.invSubMix[0]=new Uint32Array(256),this.invSubMix[1]=new Uint32Array(256),this.invSubMix[2]=new Uint32Array(256),this.invSubMix[3]=new Uint32Array(256),this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}return a(e,[{key:\\\"uint8ArrayToUint32Array_\\\",value:function(e){for(var t=new DataView(e),r=new Uint32Array(4),i=0;i<r.length;i++)r[i]=t.getUint32(4*i);return r}},{key:\\\"initTable\\\",value:function(){var e=this.sBox,t=this.invSBox,r=this.subMix[0],i=this.subMix[1],a=this.subMix[2],n=this.subMix[3],s=this.invSubMix[0],o=this.invSubMix[1],l=this.invSubMix[2],u=this.invSubMix[3],d=new Uint32Array(256),h=0,f=0,c=0;for(c=0;c<256;c++)c<128?d[c]=c<<1:d[c]=c<<1^283;for(c=0;c<256;c++){var v=f^f<<1^f<<2^f<<3^f<<4;v=v>>>8^255&v^99,e[h]=v,t[v]=h;var g=d[h],p=d[g],y=d[p],m=257*d[v]^16843008*v;r[h]=m<<24|m>>>8,i[h]=m<<16|m>>>16,a[h]=m<<8|m>>>24,n[h]=m,m=16843009*y^65537*p^257*g^16843008*h,s[v]=m<<24|m>>>8,o[v]=m<<16|m>>>16,l[v]=m<<8|m>>>24,u[v]=m,h?(h=g^d[d[d[y^g]]],f^=d[d[f]]):h=f=1}}},{key:\\\"expandKey\\\",value:function(e){for(var t=this.uint8ArrayToUint32Array_(e),r=!0,i=0;i<t.length&&r;)r=t[i]===this.key[i],i++;if(!r){this.key=t;var a=this.keySize=t.length;if(4!==a&&6!==a&&8!==a)throw new Error(\\\"Invalid aes key size=\\\"+a);var n=this.ksRows=4*(a+6+1),s=void 0,o=void 0,l=this.keySchedule=new Uint32Array(this.ksRows).fill(0),u=this.invKeySchedule=new Uint32Array(this.ksRows).fill(0),d=this.sBox,h=this.rcon,f=this.invSubMix[0],c=this.invSubMix[1],v=this.invSubMix[2],g=this.invSubMix[3],p=void 0,y=void 0;for(s=0;s<n;s++)s<a?p=l[s]=t[s]:(y=p,s%a===0?(y=y<<8|y>>>24,y=d[y>>>24]<<24|d[y>>>16&255]<<16|d[y>>>8&255]<<8|d[255&y],y^=h[s/a|0]<<24):a>6&&s%a===4&&(y=d[y>>>24]<<24|d[y>>>16&255]<<16|d[y>>>8&255]<<8|d[255&y]),l[s]=p=(l[s-a]^y)>>>0);for(o=0;o<n;o++)s=n-o,y=3&o?l[s]:l[s-4],o<4||s<=4?u[o]=y:u[o]=f[d[y>>>24]]^c[d[y>>>16&255]]^v[d[y>>>8&255]]^g[d[255&y]],u[o]=u[o]>>>0}}},{key:\\\"networkToHostOrderSwap\\\",value:function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24}},{key:\\\"decrypt\\\",value:function(e,t,r){for(var i,a,n=this.keySize+6,s=this.invKeySchedule,o=this.invSBox,l=this.invSubMix[0],u=this.invSubMix[1],d=this.invSubMix[2],h=this.invSubMix[3],f=this.uint8ArrayToUint32Array_(r),c=f[0],v=f[1],g=f[2],p=f[3],y=new Int32Array(e),m=new Int32Array(y.length),E=void 0,b=void 0,R=void 0,_=void 0,k=void 0,T=void 0,A=void 0,S=void 0,L=void 0,D=void 0,w=void 0,O=void 0;t<y.length;){for(L=this.networkToHostOrderSwap(y[t]),D=this.networkToHostOrderSwap(y[t+1]),w=this.networkToHostOrderSwap(y[t+2]),O=this.networkToHostOrderSwap(y[t+3]),k=L^s[0],T=O^s[1],A=w^s[2],S=D^s[3],i=4,a=1;a<n;a++)E=l[k>>>24]^u[T>>16&255]^d[A>>8&255]^h[255&S]^s[i],b=l[T>>>24]^u[A>>16&255]^d[S>>8&255]^h[255&k]^s[i+1],R=l[A>>>24]^u[S>>16&255]^d[k>>8&255]^h[255&T]^s[i+2],_=l[S>>>24]^u[k>>16&255]^d[T>>8&255]^h[255&A]^s[i+3],k=E,T=b,A=R,S=_,i+=4;E=o[k>>>24]<<24^o[T>>16&255]<<16^o[A>>8&255]<<8^o[255&S]^s[i],b=o[T>>>24]<<24^o[A>>16&255]<<16^o[S>>8&255]<<8^o[255&k]^s[i+1],R=o[A>>>24]<<24^o[S>>16&255]<<16^o[k>>8&255]<<8^o[255&T]^s[i+2],_=o[S>>>24]<<24^o[k>>16&255]<<16^o[T>>8&255]<<8^o[255&A]^s[i+3],i+=3,m[t]=this.networkToHostOrderSwap(E^c),m[t+1]=this.networkToHostOrderSwap(_^v),m[t+2]=this.networkToHostOrderSwap(R^g),m[t+3]=this.networkToHostOrderSwap(b^p),c=L,v=D,g=w,p=O,t+=4}return m.buffer}},{key:\\\"destroy\\\",value:function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0}}]),e}();r.default=n},{}],16:[function(e,t,r){\\\"use strict\\\";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),s=e(14),o=i(s),l=e(17),u=i(l),d=e(15),h=i(d),f=e(26),c=e(45),v=function(){function e(t){a(this,e),this.hls=t;try{var r=window?window.crypto:crypto;this.subtle=r.subtle||r.webkitSubtle}catch(e){}this.disableWebCrypto=!this.supportsWebCrypto()}return n(e,[{key:\\\"supportsWebCrypto\\\",value:function(){return this.subtle&&\\\"https:\\\"===window.location.protocol}},{key:\\\"decrypt\\\",value:function(e,t,r,i){var a=this;this.disableWebCrypto&&this.hls.config.enableSoftwareAES?(c.logger.log(\\\"decrypting by JavaScript Implementation\\\"),this.decryptor||(this.decryptor=new h.default),this.decryptor.expandKey(t),i(this.decryptor.decrypt(e,0,r))):(c.logger.log(\\\"decrypting by WebCrypto API\\\"),this.key!==t&&(this.key=t,this.fastAesKey=new u.default(t)),this.fastAesKey.expandKey().then(function(t){var a=new o.default(r);a.decrypt(e,t).then(function(e){i(e)})}).catch(function(n){a.onWebCryptoError(n,e,t,r,i)}))}},{key:\\\"onWebCryptoError\\\",value:function(e,t,r,i,a){this.hls.config.enableSoftwareAES?(c.logger.log(\\\"disabling to use WebCrypto API\\\"),this.disableWebCrypto=!0,this.decrypt(t,r,i,a)):(c.logger.error(\\\"decrypting error : \\\"+e.message),this.hls.trigger(Event.ERROR,{type:f.ErrorTypes.MEDIA_ERROR,details:f.ErrorDetails.FRAG_DECRYPT_ERROR,fatal:!0,reason:e.message}))}},{key:\\\"destroy\\\",value:function(){this.decryptor&&(this.decryptor.destroy(),this.decryptor=void 0)}}]),e}();r.default=v},{14:14,15:15,17:17,26:26,45:45}],17:[function(e,t,r){\\\"use strict\\\";function i(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),n=function(){function e(t){i(this,e),this.key=t}return a(e,[{key:\\\"expandKey\\\",value:function(){return window.crypto.subtle.importKey(\\\"raw\\\",this.key,{name:\\\"AES-CBC\\\"},!1,[\\\"encrypt\\\",\\\"decrypt\\\"])}}]),e}();r.default=n},{}],18:[function(e,t,r){\\\"use strict\\\";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),s=e(19),o=i(s),l=e(45),u=e(24),d=i(u),h=function(){function e(t,r,i,n){a(this,e),this.observer=t,this.id=r,this.remuxerClass=i,this.config=n,this.remuxer=new this.remuxerClass(t,r,n),this.insertDiscontinuity()}return n(e,[{key:\\\"insertDiscontinuity\\\",value:function(){this._aacTrack={container:\\\"audio/adts\\\",type:\\\"audio\\\",id:-1,sequenceNumber:0,samples:[],len:0}}},{key:\\\"push\\\",value:function(e,t,r,i,a,n,s,u,h){var f,c,v,g,p,y,m,E,b,R,_=new d.default(e),k=90*_.timeStamp,T=!1;for(a!==this.lastCC?(l.logger.log(this.id+\\\" discontinuity detected\\\"),this.lastCC=a,this.insertDiscontinuity(),this.remuxer.switchLevel(),this.remuxer.insertDiscontinuity()):n!==this.lastLevel?(l.logger.log(\\\"audio track switch detected\\\"),this.lastLevel=n,this.remuxer.switchLevel(),this.insertDiscontinuity()):s===this.lastSN+1&&(T=!0),f=this._aacTrack,this.lastSN=s,this.lastLevel=n,y=_.length,b=e.length;y<b-1&&(255!==e[y]||240!==(240&e[y+1]));y++);for(f.audiosamplerate||(c=o.default.getAudioConfig(this.observer,e,y,t),f.config=c.config,f.audiosamplerate=c.samplerate,f.channelCount=c.channelCount,f.codec=c.codec,f.duration=u,l.logger.log(\\\"parsed codec:\\\"+f.codec+\\\",rate:\\\"+c.samplerate+\\\",nb channel:\\\"+c.channelCount)),p=0,g=9216e4/f.audiosamplerate;y+5<b&&(m=1&e[y+1]?7:9,v=(3&e[y+3])<<11|e[y+4]<<3|(224&e[y+5])>>>5,v-=m,v>0&&y+m+v<=b);)for(E=k+p*g,R={unit:e.subarray(y+m,y+m+v),pts:E,dts:E},f.samples.push(R),f.len+=v,y+=v+m,p++;y<b-1&&(255!==e[y]||240!==(240&e[y+1]));y++);this.remuxer.remux(n,s,this._aacTrack,{samples:[]},{samples:[{pts:k,dts:k,unit:_.payload}]},{samples:[]},i,T,h)}},{key:\\\"destroy\\\",value:function(){}}],[{key:\\\"probe\\\",value:function(e){var t,r,i=new d.default(e);if(i.hasTimeStamp)for(t=i.length,r=e.length;t<r-1;t++)if(255===e[t]&&240===(240&e[t+1]))return!0;return!1}}]),e}();r.default=h},{19:19,24:24,45:45}],19:[function(e,t,r){\\\"use strict\\\";function i(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),n=e(45),s=e(26),o=function(){function e(){i(this,e)}return a(e,null,[{key:\\\"getAudioConfig\\\",value:function(e,t,r,i){var a,o,l,u,d,h=navigator.userAgent.toLowerCase(),f=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];return a=((192&t[r+2])>>>6)+1,o=(60&t[r+2])>>>2,o>f.length-1?void e.trigger(Event.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:\\\"invalid ADTS sampling index:\\\"+o}):(u=(1&t[r+2])<<2,u|=(192&t[r+3])>>>6,n.logger.log(\\\"manifest codec:\\\"+i+\\\",ADTS data:type:\\\"+a+\\\",sampleingIndex:\\\"+o+\\\"[\\\"+f[o]+\\\"Hz],channelConfig:\\\"+u),/firefox|OPR/i.test(h)?o>=6?(a=5,d=new Array(4),l=o-3):(a=2,d=new Array(2),l=o):h.indexOf(\\\"android\\\")!==-1?(a=2,d=new Array(2),l=o):(a=5,d=new Array(4),i&&(i.indexOf(\\\"mp4a.40.29\\\")!==-1||i.indexOf(\\\"mp4a.40.5\\\")!==-1)||!i&&o>=6?l=o-3:((i&&i.indexOf(\\\"mp4a.40.2\\\")!==-1&&o>=6&&1===u||!i&&1===u)&&(a=2,d=new Array(2)),l=o)),d[0]=a<<3,d[0]|=(14&o)>>1,d[1]|=(1&o)<<7,d[1]|=u<<3,5===a&&(d[1]|=(14&l)>>1,d[2]=(1&l)<<7,d[2]|=8,d[3]=0),{config:d,samplerate:f[o],channelCount:u,codec:\\\"mp4a.40.\\\"+a})}}]),e}();r.default=o},{26:26,45:45}],20:[function(e,t,r){\\\"use strict\\\";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),s=e(28),o=i(s),l=e(26),u=e(18),d=i(u),h=e(25),f=i(h),c=e(38),v=i(c),g=e(39),p=i(g),y=function(){function e(t,r,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;a(this,e),this.hls=t,this.id=r,this.config=this.hls.config||n,this.typeSupported=i}return n(e,[{key:\\\"destroy\\\",value:function(){var e=this.demuxer;e&&e.destroy()}},{key:\\\"push\\\",value:function(e,t,r,i,a,n,s,u,h){var c=this.demuxer;if(!c){var g=this.hls,y=this.id;if(f.default.probe(e))c=this.typeSupported.mp2t===!0?new f.default(g,y,p.default,this.config):new f.default(g,y,v.default,this.config);else{if(!d.default.probe(e))return void g.trigger(o.default.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,id:y,details:l.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:\\\"no demux matching with content found\\\"});c=new d.default(g,y,v.default,this.config)}this.demuxer=c}c.push(e,t,r,i,a,n,s,u,h)}}]),e}();r.default=y},{18:18,25:25,26:26,28:28,38:38,39:39}],21:[function(e,t,r){\\\"use strict\\\";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var a=e(20),n=i(a),s=e(28),o=i(s),l=e(45),u=e(1),d=i(u),h=function(e){var t=new d.default;t.trigger=function(e){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];t.emit.apply(t,[e,e].concat(i))},t.off=function(e){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];t.removeListener.apply(t,[e].concat(i))};var r=function(t,r){e.postMessage({event:t,data:r})};e.addEventListener(\\\"message\\\",function(i){var a=i.data;switch(a.cmd){case\\\"init\\\":var s=JSON.parse(a.config);e.demuxer=new n.default(t,a.id,a.typeSupported,s);try{(0,l.enableLogs)(s.debug)}catch(e){}r(\\\"init\\\",null);break;case\\\"demux\\\":e.demuxer.push(new Uint8Array(a.data),a.audioCodec,a.videoCodec,a.timeOffset,a.cc,a.level,a.sn,a.duration,a.accurateTimeOffset)}}),t.on(o.default.FRAG_PARSING_INIT_SEGMENT,r),t.on(o.default.FRAG_PARSED,r),t.on(o.default.ERROR,r),t.on(o.default.FRAG_PARSING_METADATA,r),t.on(o.default.FRAG_PARSING_USERDATA,r),t.on(o.default.FRAG_PARSING_DATA,function(t,r){var i=r.data1.buffer,a=r.data2.buffer;delete r.data1,delete r.data2,e.postMessage({event:t,data:r,data1:i,data2:a},[i,a])})};r.default=h},{1:1,20:20,28:28,45:45}],22:[function(e,t,r){\\\"use strict\\\";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),s=e(28),o=i(s),l=e(20),u=i(l),d=e(21),h=i(d),f=e(45),c=e(16),v=i(c),g=e(26),p=function(){function t(r,i){a(this,t),this.hls=r,this.id=i;var n={mp4:MediaSource.isTypeSupported(\\\"video/mp4\\\"),mp2t:r.config.enableMP2TPassThrough&&MediaSource.isTypeSupported(\\\"video/mp2t\\\")};if(r.config.enableWorker&&\\\"undefined\\\"!=typeof Worker){f.logger.log(\\\"demuxing in webworker\\\");var s=void 0;try{var l=e(3);s=this.w=l(h.default),this.onwmsg=this.onWorkerMessage.bind(this),s.addEventListener(\\\"message\\\",this.onwmsg),s.onerror=function(e){r.trigger(o.default.ERROR,{type:g.ErrorTypes.OTHER_ERROR,details:g.ErrorDetails.INTERNAL_EXCEPTION,fatal:!0,event:\\\"demuxerWorker\\\",err:{message:e.message+\\\" (\\\"+e.filename+\\\":\\\"+e.lineno+\\\")\\\"}})},s.postMessage({cmd:\\\"init\\\",typeSupported:n,id:i,config:JSON.stringify(r.config)})}catch(e){f.logger.error(\\\"error while initializing DemuxerWorker, fallback on DemuxerInline\\\"),s&&URL.revokeObjectURL(s.objectURL),this.demuxer=new u.default(r,i,n)}}else this.demuxer=new u.default(r,i,n);this.demuxInitialized=!0}return n(t,[{key:\\\"destroy\\\",value:function(){var e=this.w;if(e)e.removeEventListener(\\\"message\\\",this.onwmsg),e.terminate(),this.w=null;else{var t=this.demuxer;t&&(t.destroy(),this.demuxer=null)}var r=this.decrypter;r&&(r.destroy(),this.decrypter=null)}},{key:\\\"pushDecrypted\\\",value:function(e,t,r,i,a,n,s,o,l){var u=this.w;if(u)u.postMessage({cmd:\\\"demux\\\",data:e,audioCodec:t,videoCodec:r,timeOffset:i,cc:a,level:n,sn:s,duration:o,accurateTimeOffset:l},[e]);else{var d=this.demuxer;d&&d.push(new Uint8Array(e),t,r,i,a,n,s,o,l)}}},{key:\\\"push\\\",value:function(e,t,r,i,a,n,s,l,u,d){if(e.byteLength>0&&null!=u&&null!=u.key&&\\\"AES-128\\\"===u.method){null==this.decrypter&&(this.decrypter=new v.default(this.hls));var h=this,f=performance.now();this.decrypter.decrypt(e,u.key.buffer,u.iv.buffer,function(e){h.hls.trigger(o.default.FRAG_DECRYPTED,{level:n,sn:s,stats:{tstart:f,tdecrypt:performance.now()}}),h.pushDecrypted(e,t,r,i,a,n,s,l,d)})}else this.pushDecrypted(e,t,r,i,a,n,s,l,d)}},{key:\\\"onWorkerMessage\\\",value:function(e){var t=e.data,r=this.hls;switch(t.event){case\\\"init\\\":URL.revokeObjectURL(this.w.objectURL);break;case o.default.FRAG_PARSING_DATA:t.data.data1=new Uint8Array(t.data1),t.data.data2=new Uint8Array(t.data2);default:r.trigger(t.event,t.data)}}}]),t}();r.default=p},{16:16,20:20,21:21,26:26,28:28,3:3,45:45}],23:[function(e,t,r){\\\"use strict\\\";function i(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),n=e(45),s=function(){function e(t){i(this,e),this.data=t,this.bytesAvailable=this.data.byteLength,this.word=0,this.bitsAvailable=0}return a(e,[{key:\\\"loadWord\\\",value:function(){var e=this.data.byteLength-this.bytesAvailable,t=new Uint8Array(4),r=Math.min(4,this.bytesAvailable);if(0===r)throw new Error(\\\"no bytes available\\\");t.set(this.data.subarray(e,e+r)),this.word=new DataView(t.buffer).getUint32(0),this.bitsAvailable=8*r,this.bytesAvailable-=r}},{key:\\\"skipBits\\\",value:function(e){var t;this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,t=e>>3,e-=t>>3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)}},{key:\\\"readBits\\\",value:function(e){var t=Math.min(this.bitsAvailable,e),r=this.word>>>32-t;return e>32&&n.logger.error(\\\"Cannot read more than 32 bits at a time\\\"),this.bitsAvailable-=t,this.bitsAvailable>0?this.word<<=t:this.bytesAvailable>0&&this.loadWord(),t=e-t,t>0&&this.bitsAvailable?r<<t|this.readBits(t):r}},{key:\\\"skipLZ\\\",value:function(){var e;for(e=0;e<this.bitsAvailable;++e)if(0!==(this.word&2147483648>>>e))return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()}},{key:\\\"skipUEG\\\",value:function(){this.skipBits(1+this.skipLZ())}},{key:\\\"skipEG\\\",value:function(){this.skipBits(1+this.skipLZ())}},{key:\\\"readUEG\\\",value:function(){var e=this.skipLZ();return this.readBits(e+1)-1}},{key:\\\"readEG\\\",value:function(){var e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)}},{key:\\\"readBoolean\\\",value:function(){return 1===this.readBits(1)}},{key:\\\"readUByte\\\",value:function(){return this.readBits(8)}},{key:\\\"readUShort\\\",value:function(){return this.readBits(16)}},{key:\\\"readUInt\\\",value:function(){return this.readBits(32);\\n}},{key:\\\"skipScalingList\\\",value:function(e){var t,r,i=8,a=8;for(t=0;t<e;t++)0!==a&&(r=this.readEG(),a=(i+r+256)%256),i=0===a?i:a}},{key:\\\"readSPS\\\",value:function(){var e,t,r,i,a,n,s,o,l,u=0,d=0,h=0,f=0,c=1;if(this.readUByte(),e=this.readUByte(),t=this.readBits(5),this.skipBits(3),r=this.readUByte(),this.skipUEG(),100===e||110===e||122===e||244===e||44===e||83===e||86===e||118===e||128===e){var v=this.readUEG();if(3===v&&this.skipBits(1),this.skipUEG(),this.skipUEG(),this.skipBits(1),this.readBoolean())for(o=3!==v?8:12,l=0;l<o;l++)this.readBoolean()&&(l<6?this.skipScalingList(16):this.skipScalingList(64))}this.skipUEG();var g=this.readUEG();if(0===g)this.readUEG();else if(1===g)for(this.skipBits(1),this.skipEG(),this.skipEG(),i=this.readUEG(),l=0;l<i;l++)this.skipEG();if(this.skipUEG(),this.skipBits(1),a=this.readUEG(),n=this.readUEG(),s=this.readBits(1),0===s&&this.skipBits(1),this.skipBits(1),this.readBoolean()&&(u=this.readUEG(),d=this.readUEG(),h=this.readUEG(),f=this.readUEG()),this.readBoolean()&&this.readBoolean()){var p=void 0,y=this.readUByte();switch(y){case 1:p=[1,1];break;case 2:p=[12,11];break;case 3:p=[10,11];break;case 4:p=[16,11];break;case 5:p=[40,33];break;case 6:p=[24,11];break;case 7:p=[20,11];break;case 8:p=[32,11];break;case 9:p=[80,33];break;case 10:p=[18,11];break;case 11:p=[15,11];break;case 12:p=[64,33];break;case 13:p=[160,99];break;case 14:p=[4,3];break;case 15:p=[3,2];break;case 16:p=[2,1];break;case 255:p=[this.readUByte()<<8|this.readUByte(),this.readUByte()<<8|this.readUByte()]}p&&(c=p[0]/p[1])}return{width:Math.ceil((16*(a+1)-2*u-2*d)*c),height:(2-s)*(n+1)*16-(s?2:4)*(h+f)}}},{key:\\\"readSliceType\\\",value:function(){return this.readUByte(),this.readUEG(),this.readUEG()}}]),e}();r.default=s},{45:45}],24:[function(e,t,r){\\\"use strict\\\";function i(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),n=e(45),s=function(){function e(t){i(this,e),this._hasTimeStamp=!1;for(var r,a,s,o,l,u,d,h,f=0;;)if(d=this.readUTF(t,f,3),f+=3,\\\"ID3\\\"===d)f+=3,r=127&t[f++],a=127&t[f++],s=127&t[f++],o=127&t[f++],l=(r<<21)+(a<<14)+(s<<7)+o,u=f+l,this._parseID3Frames(t,f,u),f=u;else{if(\\\"3DI\\\"!==d)return f-=3,h=f,void(h&&(this.hasTimeStamp||n.logger.warn(\\\"ID3 tag found, but no timestamp\\\"),this._length=h,this._payload=t.subarray(0,h)));f+=7,n.logger.log(\\\"3DI footer found, end: \\\"+f)}}return a(e,[{key:\\\"readUTF\\\",value:function(e,t,r){var i=\\\"\\\",a=t,n=t+r;do i+=String.fromCharCode(e[a++]);while(a<n);return i}},{key:\\\"_parseID3Frames\\\",value:function(e,t,r){for(var i,a,s,o,l;t+8<=r;)switch(i=this.readUTF(e,t,4),t+=4,a=e[t++]<<24+e[t++]<<16+e[t++]<<8+e[t++],o=e[t++]<<8+e[t++],s=t,i){case\\\"PRIV\\\":if(\\\"com.apple.streaming.transportStreamTimestamp\\\"===this.readUTF(e,t,44)){t+=44,t+=4;var u=1&e[t++];this._hasTimeStamp=!0,l=((e[t++]<<23)+(e[t++]<<15)+(e[t++]<<7)+e[t++])/45,u&&(l+=47721858.84),l=Math.round(l),n.logger.trace(\\\"ID3 timestamp found: \\\"+l),this._timeStamp=l}}}},{key:\\\"hasTimeStamp\\\",get:function(){return this._hasTimeStamp}},{key:\\\"timeStamp\\\",get:function(){return this._timeStamp}},{key:\\\"length\\\",get:function(){return this._length}},{key:\\\"payload\\\",get:function(){return this._payload}}]),e}();r.default=s},{45:45}],25:[function(e,t,r){\\\"use strict\\\";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),s=e(19),o=i(s),l=e(28),u=i(l),d=e(23),h=i(d),f=e(45),c=e(26),v=function(){function e(t,r,i,n){a(this,e),this.observer=t,this.id=r,this.remuxerClass=i,this.config=n,this.lastCC=0,this.remuxer=new this.remuxerClass(t,r,n)}return n(e,[{key:\\\"switchLevel\\\",value:function(){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack={container:\\\"video/mp2t\\\",type:\\\"video\\\",id:-1,sequenceNumber:0,samples:[],len:0,dropped:0},this._aacTrack={container:\\\"video/mp2t\\\",type:\\\"audio\\\",id:-1,sequenceNumber:0,samples:[],len:0},this._id3Track={type:\\\"id3\\\",id:-1,sequenceNumber:0,samples:[],len:0},this._txtTrack={type:\\\"text\\\",id:-1,sequenceNumber:0,samples:[],len:0},this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.remuxer.switchLevel()}},{key:\\\"insertDiscontinuity\\\",value:function(){this.switchLevel(),this.remuxer.insertDiscontinuity()}},{key:\\\"push\\\",value:function(e,t,r,i,a,n,s,o,l){var d,h,v,g,p,y,m=e.length,E=this.remuxer.passthrough,b=!1;this.audioCodec=t,this.videoCodec=r,this._duration=o,this.contiguous=!1,this.accurateTimeOffset=l,a!==this.lastCC&&(f.logger.log(\\\"discontinuity detected\\\"),this.insertDiscontinuity(),this.lastCC=a),n!==this.lastLevel?(f.logger.log(\\\"level switch detected\\\"),this.switchLevel(),this.lastLevel=n):s===this.lastSN+1&&(this.contiguous=!0),this.lastSN=s;var R=this.pmtParsed,_=this._avcTrack,k=this._aacTrack,T=this._id3Track,A=_.id,S=k.id,L=T.id,D=this._pmtId,w=_.pesData,O=k.pesData,P=T.pesData,I=this._parsePAT,C=this._parsePMT,M=this._parsePES,x=this._parseAVCPES.bind(this),N=this._parseAACPES.bind(this),F=this._parseID3PES.bind(this);for(m-=m%188,d=0;d<m;d+=188)if(71===e[d]){if(h=!!(64&e[d+1]),v=((31&e[d+1])<<8)+e[d+2],g=(48&e[d+3])>>4,g>1){if(p=d+5+e[d+4],p===d+188)continue}else p=d+4;switch(v){case A:if(h){if(w&&(y=M(w))&&(x(y,!1),E&&_.codec&&(S===-1||k.codec)))return void this.remux(n,s,e,i);w={data:[],size:0}}w&&(w.data.push(e.subarray(p,d+188)),w.size+=d+188-p);break;case S:if(h){if(O&&(y=M(O))&&(N(y),E&&k.codec&&(A===-1||_.codec)))return void this.remux(n,s,e,i);O={data:[],size:0}}O&&(O.data.push(e.subarray(p,d+188)),O.size+=d+188-p);break;case L:h&&(P&&(y=M(P))&&F(y),P={data:[],size:0}),P&&(P.data.push(e.subarray(p,d+188)),P.size+=d+188-p);break;case 0:h&&(p+=e[p]+1),D=this._pmtId=I(e,p);break;case D:h&&(p+=e[p]+1);var U=C(e,p);A=U.avc,A>0&&(_.id=A),S=U.aac,S>0&&(k.id=S),L=U.id3,L>0&&(T.id=L),b&&!R&&(f.logger.log(\\\"reparse from beginning\\\"),b=!1,d=-188),R=this.pmtParsed=!0;break;case 17:case 8191:break;default:b=!0}}else this.observer.trigger(u.default.ERROR,{type:c.ErrorTypes.MEDIA_ERROR,id:this.id,details:c.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:\\\"TS packet did not start with 0x47\\\"});w&&(y=M(w))?(x(y,!0),_.pesData=null):_.pesData=w,O&&(y=M(O))?(N(y),k.pesData=null):(O&&O.size&&f.logger.log(\\\"last AAC PES packet truncated,might overlap between fragments\\\"),k.pesData=O),P&&(y=M(P))?(F(y),T.pesData=null):T.pesData=P,this.remux(n,s,null,i)}},{key:\\\"remux\\\",value:function(e,t,r,i){var a=this._avcTrack,n=a.samples,s=n.reduce(function(e,t){var r=t.units.units.reduce(function(e,t){return{len:e.len+t.data.length,nbNalu:e.nbNalu+1}},{len:0,nbNalu:0});return t.length=r.len,{len:e.len+r.len,nbNalu:e.nbNalu+r.nbNalu}},{len:0,nbNalu:0});a.len=s.len,a.nbNalu=s.nbNalu,this.remuxer.remux(e,t,this._aacTrack,this._avcTrack,this._id3Track,this._txtTrack,i,this.contiguous,this.accurateTimeOffset,r)}},{key:\\\"destroy\\\",value:function(){this.switchLevel(),this._initPTS=this._initDTS=void 0,this._duration=0}},{key:\\\"_parsePAT\\\",value:function(e,t){return(31&e[t+10])<<8|e[t+11]}},{key:\\\"_parsePMT\\\",value:function(e,t){var r,i,a,n,s={aac:-1,avc:-1,id3:-1};for(r=(15&e[t+1])<<8|e[t+2],i=t+3+r-4,a=(15&e[t+10])<<8|e[t+11],t+=12+a;t<i;){switch(n=(31&e[t+1])<<8|e[t+2],e[t]){case 15:s.aac===-1&&(s.aac=n);break;case 21:s.id3===-1&&(s.id3=n);break;case 27:s.avc===-1&&(s.avc=n);break;case 36:f.logger.warn(\\\"HEVC stream type found, not supported for now\\\");break;default:f.logger.log(\\\"unkown stream type:\\\"+e[t])}t+=((15&e[t+3])<<8|e[t+4])+5}return s}},{key:\\\"_parsePES\\\",value:function(e){var t,r,i,a,n,s,o,l,u,d=0,h=e.data;if(!e||0===e.size)return null;for(;h[0].length<19&&h.length>1;){var f=new Uint8Array(h[0].length+h[1].length);f.set(h[0]),f.set(h[1],h[0].length),h[0]=f,h.splice(1,1)}if(t=h[0],i=(t[0]<<16)+(t[1]<<8)+t[2],1===i){if(a=(t[4]<<8)+t[5],a&&a>e.size-6)return null;for(r=t[7],192&r&&(o=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2,o>4294967295&&(o-=8589934592),64&r?(l=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2,l>4294967295&&(l-=8589934592)):l=o),n=t[8],u=n+9,e.size-=u,s=new Uint8Array(e.size);h.length;){t=h.shift();var c=t.byteLength;if(u){if(u>c){u-=c;continue}t=t.subarray(u),c-=u,u=0}s.set(t,d),d+=c}return a&&(a-=n+3),{data:s,pts:o,dts:l,len:a}}return null}},{key:\\\"pushAccesUnit\\\",value:function(e,t){e.units.units.length&&(!this.config.forceKeyFrameOnDiscontinuity||e.key===!0||t.sps&&(t.samples.length||this.contiguous)?t.samples.push(e):t.dropped++),e.debug.length&&f.logger.log(e.pts+\\\"/\\\"+e.dts+\\\":\\\"+e.debug+\\\",\\\"+e.units.length)}},{key:\\\"_parseAVCPES\\\",value:function(e,t){var r,i,a,n=this,s=this._avcTrack,o=this._parseAVCNALu(e.data),l=!1,u=this.avcSample;e.data=null,o.forEach(function(t){switch(t.type){case 1:i=!0,l&&u&&(u.debug+=\\\"NDR \\\");break;case 5:i=!0,u||(u=n.avcSample=n._createAVCSample(!0,e.pts,e.dts,\\\"\\\")),l&&(u.debug+=\\\"IDR \\\"),u.key=!0;break;case 6:i=!0,l&&u&&(u.debug+=\\\"SEI \\\"),r=new h.default(n.discardEPB(t.data)),r.readUByte();for(var o=0,d=0,f=!1,c=0;!f&&r.bytesAvailable>1;){o=0;do c=r.readUByte(),o+=c;while(255===c);d=0;do c=r.readUByte(),d+=c;while(255===c);if(4===o&&0!==r.bytesAvailable){f=!0;var v=r.readUByte();if(181===v){var g=r.readUShort();if(49===g){var p=r.readUInt();if(1195456820===p){var y=r.readUByte();if(3===y){var m=r.readUByte(),E=r.readUByte(),b=31&m,R=[m,E];for(a=0;a<b;a++)R.push(r.readUByte()),R.push(r.readUByte()),R.push(r.readUByte());n._insertSampleInOrder(n._txtTrack.samples,{type:3,pts:e.pts,bytes:R})}}}}}else if(d<r.bytesAvailable)for(a=0;a<d;a++)r.readUByte()}break;case 7:if(i=!0,l&&u&&(u.debug+=\\\"SPS \\\"),!s.sps){r=new h.default(t.data);var _=r.readSPS();s.width=_.width,s.height=_.height,s.sps=[t.data],s.duration=n._duration;var k=t.data.subarray(1,4),T=\\\"avc1.\\\";for(a=0;a<3;a++){var A=k[a].toString(16);A.length<2&&(A=\\\"0\\\"+A),T+=A}s.codec=T}break;case 8:i=!0,l&&u&&(u.debug+=\\\"PPS \\\"),s.pps||(s.pps=[t.data]);break;case 9:i=!1,u&&n.pushAccesUnit(u,s),u=n.avcSample=n._createAVCSample(!1,e.pts,e.dts,l?\\\"AUD \\\":\\\"\\\");break;case 12:i=!1;break;default:i=!1,u&&(u.debug+=\\\"unknown NAL \\\"+t.type+\\\" \\\")}if(u&&i){var S=u.units;S.units.push(t)}}),t&&u&&(this.pushAccesUnit(u,s),this.avcSample=null)}},{key:\\\"_createAVCSample\\\",value:function(e,t,r,i){return{key:e,pts:t,dts:r,units:{units:[],length:0},debug:i}}},{key:\\\"_insertSampleInOrder\\\",value:function(e,t){var r=e.length;if(r>0){if(t.pts>=e[r-1].pts)e.push(t);else for(var i=r-1;i>=0;i--)if(t.pts<e[i].pts){e.splice(i,0,t);break}}else e.push(t)}},{key:\\\"_getLastNalUnit\\\",value:function(){var e=this.avcSample,t=void 0;if(!e||0===e.units.units.length){var r=this._avcTrack,i=r.samples;e=i[i.length-1]}if(e){var a=e.units.units;t=a[a.length-1]}return t}},{key:\\\"_parseAVCNALu\\\",value:function(e){for(var t,r,i,a,n,s=0,o=e.byteLength,l=this._avcTrack,u=l.naluState||0,d=u,h=[],f=-1;s<o;)switch(t=e[s++],u){case 0:0===t&&(u=1);break;case 1:u=0===t?2:0;break;case 2:case 3:if(0===t)u=3;else if(1===t){if(f>=0)i={data:e.subarray(f,s-u-1),type:n},h.push(i);else{var c=this._getLastNalUnit();if(c&&(d&&s<=4-d&&c.state&&(c.data=c.data.subarray(0,c.data.byteLength-d)),r=s-u-1,r>0)){var v=new Uint8Array(c.data.byteLength+r);v.set(c.data,0),v.set(e.subarray(0,r),c.data.byteLength),c.data=v}}s<o?(a=31&e[s],f=s,n=a,u=0):u=-1}else u=0;break;case-1:f=0,n=31&t,u=0}if(f>=0&&u>=0&&(i={data:e.subarray(f,o),type:n,state:u},h.push(i)),0===h.length){var g=this._getLastNalUnit();if(g){var p=new Uint8Array(g.data.byteLength+e.byteLength);p.set(g.data,0),p.set(e,g.data.byteLength),g.data=p}}return l.naluState=u,h}},{key:\\\"discardEPB\\\",value:function(e){for(var t,r,i=e.byteLength,a=[],n=1;n<i-2;)0===e[n]&&0===e[n+1]&&3===e[n+2]?(a.push(n+2),n+=2):n++;if(0===a.length)return e;t=i-a.length,r=new Uint8Array(t);var s=0;for(n=0;n<t;s++,n++)s===a[0]&&(s++,a.shift()),r[n]=e[s];return r}},{key:\\\"_parseAACPES\\\",value:function(e){var t,r,i,a,n,s,l,d,h,v=this._aacTrack,g=e.data,p=e.pts,y=0,m=this.aacOverFlow,E=this.aacLastPTS;if(m){var b=new Uint8Array(m.byteLength+g.byteLength);b.set(m,0),b.set(g,m.byteLength),g=b}for(n=y,d=g.length;n<d-1&&(255!==g[n]||240!==(240&g[n+1]));n++);if(n){var R,_;if(n<d-1?(R=\\\"AAC PES did not start with ADTS header,offset:\\\"+n,_=!1):(R=\\\"no ADTS header found in AAC PES\\\",_=!0),f.logger.warn(\\\"parsing error:\\\"+R),this.observer.trigger(u.default.ERROR,{type:c.ErrorTypes.MEDIA_ERROR,id:this.id,details:c.ErrorDetails.FRAG_PARSING_ERROR,fatal:_,reason:R}),_)return}if(v.audiosamplerate||(t=o.default.getAudioConfig(this.observer,g,n,this.audioCodec),v.config=t.config,v.audiosamplerate=t.samplerate,v.channelCount=t.channelCount,v.codec=t.codec,v.duration=this._duration,f.logger.log(\\\"parsed codec:\\\"+v.codec+\\\",rate:\\\"+t.samplerate+\\\",nb channel:\\\"+t.channelCount)),a=0,i=9216e4/v.audiosamplerate,m&&E){var k=E+i;Math.abs(k-p)>1&&(f.logger.log(\\\"AAC: align PTS for overlapping frames by \\\"+Math.round((k-p)/90)),p=k)}for(;n+5<d&&(s=1&g[n+1]?7:9,r=(3&g[n+3])<<11|g[n+4]<<3|(224&g[n+5])>>>5,r-=s,r>0&&n+s+r<=d);)for(l=p+a*i,h={unit:g.subarray(n+s,n+s+r),pts:l,dts:l},v.samples.push(h),v.len+=r,n+=r+s,a++;n<d-1&&(255!==g[n]||240!==(240&g[n+1]));n++);m=n<d?g.subarray(n,d):null,this.aacOverFlow=m,this.aacLastPTS=l}},{key:\\\"_parseID3PES\\\",value:function(e){this._id3Track.samples.push(e)}}],[{key:\\\"probe\\\",value:function(e){return e.length>=564&&71===e[0]&&71===e[188]&&71===e[376]}}]),e}();r.default=v},{19:19,23:23,26:26,28:28,45:45}],26:[function(e,t,r){\\\"use strict\\\";Object.defineProperty(r,\\\"__esModule\\\",{value:!0});r.ErrorTypes={NETWORK_ERROR:\\\"networkError\\\",MEDIA_ERROR:\\\"mediaError\\\",OTHER_ERROR:\\\"otherError\\\"},r.ErrorDetails={MANIFEST_LOAD_ERROR:\\\"manifestLoadError\\\",MANIFEST_LOAD_TIMEOUT:\\\"manifestLoadTimeOut\\\",MANIFEST_PARSING_ERROR:\\\"manifestParsingError\\\",MANIFEST_INCOMPATIBLE_CODECS_ERROR:\\\"manifestIncompatibleCodecsError\\\",LEVEL_LOAD_ERROR:\\\"levelLoadError\\\",LEVEL_LOAD_TIMEOUT:\\\"levelLoadTimeOut\\\",LEVEL_SWITCH_ERROR:\\\"levelSwitchError\\\",AUDIO_TRACK_LOAD_ERROR:\\\"audioTrackLoadError\\\",AUDIO_TRACK_LOAD_TIMEOUT:\\\"audioTrackLoadTimeOut\\\",FRAG_LOAD_ERROR:\\\"fragLoadError\\\",FRAG_LOOP_LOADING_ERROR:\\\"fragLoopLoadingError\\\",FRAG_LOAD_TIMEOUT:\\\"fragLoadTimeOut\\\",FRAG_DECRYPT_ERROR:\\\"fragDecryptError\\\",FRAG_PARSING_ERROR:\\\"fragParsingError\\\",KEY_LOAD_ERROR:\\\"keyLoadError\\\",KEY_LOAD_TIMEOUT:\\\"keyLoadTimeOut\\\",BUFFER_ADD_CODEC_ERROR:\\\"bufferAddCodecError\\\",BUFFER_APPEND_ERROR:\\\"bufferAppendError\\\",BUFFER_APPENDING_ERROR:\\\"bufferAppendingError\\\",BUFFER_STALLED_ERROR:\\\"bufferStalledError\\\",BUFFER_FULL_ERROR:\\\"bufferFullError\\\",BUFFER_SEEK_OVER_HOLE:\\\"bufferSeekOverHole\\\",INTERNAL_EXCEPTION:\\\"internalException\\\"}},{}],27:[function(e,t,r){\\\"use strict\\\";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var n=\\\"function\\\"==typeof Symbol&&\\\"symbol\\\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\\\"function\\\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\\\"symbol\\\":typeof e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),o=e(45),l=e(26),u=e(28),d=i(u),h=function(){function e(t){a(this,e),this.hls=t,this.onEvent=this.onEvent.bind(this);for(var r=arguments.length,i=Array(r>1?r-1:0),n=1;n<r;n++)i[n-1]=arguments[n];this.handledEvents=i,this.useGenericHandler=!0,this.registerListeners()}return s(e,[{key:\\\"destroy\\\",value:function(){this.unregisterListeners()}},{key:\\\"isEventHandler\\\",value:function(){return\\\"object\\\"===n(this.handledEvents)&&this.handledEvents.length&&\\\"function\\\"==typeof this.onEvent}},{key:\\\"registerListeners\\\",value:function(){this.isEventHandler()&&this.handledEvents.forEach(function(e){if(\\\"hlsEventGeneric\\\"===e)throw new Error(\\\"Forbidden event name: \\\"+e);this.hls.on(e,this.onEvent)}.bind(this))}},{key:\\\"unregisterListeners\\\",value:function(){this.isEventHandler()&&this.handledEvents.forEach(function(e){this.hls.off(e,this.onEvent)}.bind(this))}},{key:\\\"onEvent\\\",value:function(e,t){this.onEventGeneric(e,t)}},{key:\\\"onEventGeneric\\\",value:function(e,t){var r=function(e,t){var r=\\\"on\\\"+e.replace(\\\"hls\\\",\\\"\\\");if(\\\"function\\\"!=typeof this[r])throw new Error(\\\"Event \\\"+e+\\\" has no generic handler in this \\\"+this.constructor.name+\\\" class (tried \\\"+r+\\\")\\\");return this[r].bind(this,t)};try{r.call(this,e,t).call()}catch(t){o.logger.error(\\\"internal error happened while processing \\\"+e+\\\":\\\"+t.message),this.hls.trigger(d.default.ERROR,{type:l.ErrorTypes.OTHER_ERROR,details:l.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:e,err:t})}}}]),e}();r.default=h},{26:26,28:28,45:45}],28:[function(e,t,r){\\\"use strict\\\";t.exports={MEDIA_ATTACHING:\\\"hlsMediaAttaching\\\",MEDIA_ATTACHED:\\\"hlsMediaAttached\\\",MEDIA_DETACHING:\\\"hlsMediaDetaching\\\",MEDIA_DETACHED:\\\"hlsMediaDetached\\\",BUFFER_RESET:\\\"hlsBufferReset\\\",BUFFER_CODECS:\\\"hlsBufferCodecs\\\",BUFFER_CREATED:\\\"hlsBufferCreated\\\",BUFFER_APPENDING:\\\"hlsBufferAppending\\\",BUFFER_APPENDED:\\\"hlsBufferAppended\\\",BUFFER_EOS:\\\"hlsBufferEos\\\",BUFFER_FLUSHING:\\\"hlsBufferFlushing\\\",BUFFER_FLUSHED:\\\"hlsBufferFlushed\\\",MANIFEST_LOADING:\\\"hlsManifestLoading\\\",MANIFEST_LOADED:\\\"hlsManifestLoaded\\\",MANIFEST_PARSED:\\\"hlsManifestParsed\\\",LEVEL_LOADING:\\\"hlsLevelLoading\\\",LEVEL_LOADED:\\\"hlsLevelLoaded\\\",LEVEL_UPDATED:\\\"hlsLevelUpdated\\\",LEVEL_PTS_UPDATED:\\\"hlsLevelPtsUpdated\\\",LEVEL_SWITCH:\\\"hlsLevelSwitch\\\",AUDIO_TRACKS_UPDATED:\\\"hlsAudioTracksUpdated\\\",AUDIO_TRACK_SWITCH:\\\"hlsAudioTrackSwitch\\\",AUDIO_TRACK_LOADING:\\\"hlsAudioTrackLoading\\\",AUDIO_TRACK_LOADED:\\\"hlsAudioTrackLoaded\\\",FRAG_LOADING:\\\"hlsFragLoading\\\",FRAG_LOAD_PROGRESS:\\\"hlsFragLoadProgress\\\",FRAG_LOAD_EMERGENCY_ABORTED:\\\"hlsFragLoadEmergencyAborted\\\",FRAG_LOADED:\\\"hlsFragLoaded\\\",FRAG_DECRYPTED:\\\"hlsFragDecrypted\\\",FRAG_PARSING_INIT_SEGMENT:\\\"hlsFragParsingInitSegment\\\",FRAG_PARSING_USERDATA:\\\"hlsFragParsingUserdata\\\",FRAG_PARSING_METADATA:\\\"hlsFragParsingMetadata\\\",FRAG_PARSING_DATA:\\\"hlsFragParsingData\\\",FRAG_PARSED:\\\"hlsFragParsed\\\",FRAG_BUFFERED:\\\"hlsFragBuffered\\\",FRAG_CHANGED:\\\"hlsFragChanged\\\",FPS_DROP:\\\"hlsFpsDrop\\\",FPS_DROP_LEVEL_CAPPING:\\\"hlsFpsDropLevelCapping\\\",ERROR:\\\"hlsError\\\",DESTROYING:\\\"hlsDestroying\\\",KEY_LOADING:\\\"hlsKeyLoading\\\",KEY_LOADED:\\\"hlsKeyLoaded\\\",STREAM_STATE_TRANSITION:\\\"hlsStreamStateTransition\\\"}},{}],29:[function(e,t,r){\\\"use strict\\\";function i(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),n=function(){function e(){i(this,e)}return a(e,null,[{key:\\\"getSilentFrame\\\",value:function(e){return 1===e?new Uint8Array([0,200,0,128,35,128]):2===e?new Uint8Array([33,0,73,144,2,25,0,35,128]):3===e?new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]):4===e?new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]):5===e?new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]):6===e?new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]):null}}]),e}();r.default=n},{}],30:[function(e,t,r){\\\"use strict\\\";function i(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),n=function(){function e(){i(this,e)}return a(e,null,[{key:\\\"isBuffered\\\",value:function(e,t){if(e)for(var r=e.buffered,i=0;i<r.length;i++)if(t>=r.start(i)&&t<=r.end(i))return!0;return!1}},{key:\\\"bufferInfo\\\",value:function(e,t,r){if(e){var i,a=e.buffered,n=[];for(i=0;i<a.length;i++)n.push({start:a.start(i),end:a.end(i)});return this.bufferedInfo(n,t,r)}return{len:0,start:0,end:0,nextStart:void 0}}},{key:\\\"bufferedInfo\\\",value:function(e,t,r){var i,a,n,s,o,l=[];for(e.sort(function(e,t){var r=e.start-t.start;return r?r:t.end-e.end}),o=0;o<e.length;o++){var u=l.length;if(u){var d=l[u-1].end;e[o].start-d<r?e[o].end>d&&(l[u-1].end=e[o].end):l.push(e[o])}else l.push(e[o])}for(o=0,i=0,a=n=t;o<l.length;o++){var h=l[o].start,f=l[o].end;if(t+r>=h&&t<f)a=h,n=f,i=n-t;else if(t+r<h){s=h;break}}return{len:i,start:a,end:n,nextStart:s}}}]),e}();r.default=n},{}],31:[function(e,t,r){\\\"use strict\\\";function i(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),n=e(45),s=function(){function e(){i(this,e)}return a(e,null,[{key:\\\"mergeDetails\\\",value:function(t,r){var i,a=Math.max(t.startSN,r.startSN)-r.startSN,s=Math.min(t.endSN,r.endSN)-r.startSN,o=r.startSN-t.startSN,l=t.fragments,u=r.fragments,d=0;if(s<a)return void(r.PTSKnown=!1);for(var h=a;h<=s;h++){var f=l[o+h],c=u[h];c&&f&&(d=f.cc-c.cc,isNaN(f.startPTS)||(c.start=c.startPTS=f.startPTS,c.endPTS=f.endPTS,c.duration=f.duration,i=c))}if(d)for(n.logger.log(\\\"discontinuity sliding from playlist, take drift into account\\\"),h=0;h<u.length;h++)u[h].cc+=d;if(i)e.updateFragPTSDTS(r,i.sn,i.startPTS,i.endPTS,i.startDTS,i.endDTS);else if(o>=0&&o<l.length){var v=l[o].start;for(h=0;h<u.length;h++)u[h].start+=v}r.PTSKnown=t.PTSKnown}},{key:\\\"updateFragPTSDTS\\\",value:function(t,r,i,a,n,s){var o,l,u,d;if(r<t.startSN||r>t.endSN)return 0;if(o=r-t.startSN,l=t.fragments,u=l[o],!isNaN(u.startPTS)){var h=Math.abs(u.startPTS-i);isNaN(u.deltaPTS)?u.deltaPTS=h:u.deltaPTS=Math.max(h,u.deltaPTS),i=Math.min(i,u.startPTS),a=Math.max(a,u.endPTS),n=Math.min(n,u.startDTS),s=Math.max(s,u.endDTS)}var f=i-u.start;for(u.start=u.startPTS=i,u.endPTS=a,u.startDTS=n,u.endDTS=s,u.duration=a-i,d=o;d>0;d--)e.updatePTS(l,d,d-1);for(d=o;d<l.length-1;d++)e.updatePTS(l,d,d+1);return t.PTSKnown=!0,f}},{key:\\\"updatePTS\\\",value:function(e,t,r){var i=e[t],a=e[r],s=a.startPTS;isNaN(s)?r>t?a.start=i.start+i.duration:a.start=i.start-a.duration:r>t?(i.duration=s-i.start,i.duration<0&&n.logger.warn(\\\"negative duration computed for frag \\\"+i.sn+\\\",level \\\"+i.level+\\\", there should be some duration drift between playlist and fragment!\\\")):(a.duration=i.start-s,a.duration<0&&n.logger.warn(\\\"negative duration computed for frag \\\"+a.sn+\\\",level \\\"+a.level+\\\", there should be some duration drift between playlist and fragment!\\\"))}}]),e}();r.default=s},{45:45}],32:[function(e,t,r){\\\"use strict\\\";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),s=e(28),o=i(s),l=e(26),u=e(36),d=i(u),h=e(34),f=i(h),c=e(4),v=i(c),g=e(7),p=i(g),y=e(8),m=i(y),E=e(5),b=i(E),R=e(12),_=i(R),k=e(11),T=i(k),A=e(13),S=i(A),L=e(10),D=i(L),w=e(6),O=i(w),P=e(45),I=e(48),C=i(I),M=e(1),x=i(M),N=e(35),F=i(N),U=e(43),G=i(U),B=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this,e);var r=e.DefaultConfig;if((t.liveSyncDurationCount||t.liveMaxLatencyDurationCount)&&(t.liveSyncDuration||t.liveMaxLatencyDuration))throw new Error(\\\"Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration\\\");for(var i in r)i in t||(t[i]=r[i]);if(void 0!==t.liveMaxLatencyDurationCount&&t.liveMaxLatencyDurationCount<=t.liveSyncDurationCount)throw new Error('Illegal hls.js config: \\\"liveMaxLatencyDurationCount\\\" must be gt \\\"liveSyncDurationCount\\\"');if(void 0!==t.liveMaxLatencyDuration&&(t.liveMaxLatencyDuration<=t.liveSyncDuration||void 0===t.liveSyncDuration))throw new Error('Illegal hls.js config: \\\"liveMaxLatencyDuration\\\" must be gt \\\"liveSyncDuration\\\"');(0,P.enableLogs)(t.debug),this.config=t;var n=this.observer=new x.default;n.trigger=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];n.emit.apply(n,[e,e].concat(r))},n.off=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];n.removeListener.apply(n,[e].concat(r))},this.on=n.on.bind(n),this.off=n.off.bind(n),this.trigger=n.trigger.bind(n),this.playlistLoader=new d.default(this),this.fragmentLoader=new f.default(this),this.levelController=new T.default(this),this.abrController=new t.abrController(this),this.bufferController=new t.bufferController(this),this.capLevelController=new t.capLevelController(this),this.fpsController=new t.fpsController(this),this.streamController=new t.streamController(this),this.audioStreamController=new t.audioStreamController(this),this.timelineController=new t.timelineController(this),this.audioTrackController=new O.default(this),this.keyLoader=new F.default(this)}return n(e,null,[{key:\\\"isSupported\\\",value:function(){return window.MediaSource=window.MediaSource||window.WebKitMediaSource,window.MediaSource&&\\\"function\\\"==typeof window.MediaSource.isTypeSupported&&window.MediaSource.isTypeSupported('video/mp4; codecs=\\\"avc1.42E01E,mp4a.40.2\\\"')}},{key:\\\"version\\\",get:function(){return\\\"0.6.10\\\"}},{key:\\\"Events\\\",get:function(){return o.default}},{key:\\\"ErrorTypes\\\",get:function(){return l.ErrorTypes}},{key:\\\"ErrorDetails\\\",get:function(){return l.ErrorDetails}},{key:\\\"DefaultConfig\\\",get:function(){return e.defaultConfig||(e.defaultConfig={autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,maxSeekHole:2,seekHoleNudgeDuration:.01,stalledInBufferedNudgeThreshold:10,maxFragLookUpTolerance:.2,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,fragLoadingLoopThreshold:3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:C.default,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,fetchSetup:void 0,abrController:v.default,bufferController:p.default,capLevelController:m.default,fpsController:D.default,streamController:_.default,audioStreamController:b.default,timelineController:S.default,cueHandler:G.default,enableCEA708Captions:!0,enableMP2TPassThrough:!1,stretchShortVideoTrack:!1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0}),e.defaultConfig},set:function(t){e.defaultConfig=t}}]),n(e,[{key:\\\"destroy\\\",value:function(){P.logger.log(\\\"destroy\\\"),this.trigger(o.default.DESTROYING),this.detachMedia(),this.playlistLoader.destroy(),this.fragmentLoader.destroy(),this.levelController.destroy(),this.abrController.destroy(),this.bufferController.destroy(),this.capLevelController.destroy(),this.fpsController.destroy(),this.streamController.destroy(),this.audioStreamController.destroy(),this.timelineController.destroy(),this.audioTrackController.destroy(),this.keyLoader.destroy(),this.url=null,this.observer.removeAllListeners()}},{key:\\\"attachMedia\\\",value:function(e){P.logger.log(\\\"attachMedia\\\"),this.media=e,this.trigger(o.default.MEDIA_ATTACHING,{media:e})}},{key:\\\"detachMedia\\\",value:function(){P.logger.log(\\\"detachMedia\\\"),this.trigger(o.default.MEDIA_DETACHING),this.media=null}},{key:\\\"loadSource\\\",value:function(e){P.logger.log(\\\"loadSource:\\\"+e),this.url=e,this.trigger(o.default.MANIFEST_LOADING,{url:e})}},{key:\\\"startLoad\\\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;P.logger.log(\\\"startLoad\\\"),this.levelController.startLoad(),this.streamController.startLoad(e),this.audioStreamController.startLoad(e)}},{key:\\\"stopLoad\\\",value:function(){P.logger.log(\\\"stopLoad\\\"),this.levelController.stopLoad(),this.streamController.stopLoad(),this.audioStreamController.stopLoad()}},{key:\\\"swapAudioCodec\\\",value:function(){P.logger.log(\\\"swapAudioCodec\\\"),this.streamController.swapAudioCodec()}},{key:\\\"recoverMediaError\\\",value:function(){P.logger.log(\\\"recoverMediaError\\\");var e=this.media;this.detachMedia(),this.attachMedia(e)}},{key:\\\"levels\\\",get:function(){return this.levelController.levels}},{key:\\\"currentLevel\\\",get:function(){return this.streamController.currentLevel},set:function(e){P.logger.log(\\\"set currentLevel:\\\"+e),this.loadLevel=e,this.streamController.immediateLevelSwitch()}},{key:\\\"nextLevel\\\",get:function(){return this.streamController.nextLevel},set:function(e){P.logger.log(\\\"set nextLevel:\\\"+e),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}},{key:\\\"loadLevel\\\",get:function(){return this.levelController.level},set:function(e){P.logger.log(\\\"set loadLevel:\\\"+e),this.levelController.manualLevel=e}},{key:\\\"nextLoadLevel\\\",get:function(){return this.levelController.nextLoadLevel},set:function(e){this.levelController.nextLoadLevel=e}},{key:\\\"firstLevel\\\",get:function(){return this.levelController.firstLevel},set:function(e){P.logger.log(\\\"set firstLevel:\\\"+e),this.levelController.firstLevel=e}},{key:\\\"startLevel\\\",get:function(){return this.levelController.startLevel},set:function(e){P.logger.log(\\\"set startLevel:\\\"+e),this.levelController.startLevel=e}},{key:\\\"autoLevelCapping\\\",get:function(){return this.abrController.autoLevelCapping},set:function(e){P.logger.log(\\\"set autoLevelCapping:\\\"+e),this.abrController.autoLevelCapping=e}},{key:\\\"autoLevelEnabled\\\",get:function(){return this.levelController.manualLevel===-1}},{key:\\\"manualLevel\\\",get:function(){return this.levelController.manualLevel}},{key:\\\"audioTracks\\\",get:function(){return this.audioTrackController.audioTracks}},{key:\\\"audioTrack\\\",get:function(){return this.audioTrackController.audioTrack},set:function(e){this.audioTrackController.audioTrack=e}},{key:\\\"liveSyncPosition\\\",get:function(){return this.streamController.liveSyncPosition}}]),e}();r.default=B},{1:1,10:10,11:11,12:12,13:13,26:26,28:28,34:34,35:35,36:36,4:4,43:43,45:45,48:48,5:5,6:6,7:7,8:8}],33:[function(e,t,r){\\\"use strict\\\";t.exports=e(32).default},{32:32}],34:[function(e,t,r){\\\"use strict\\\";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}function n(e,t){if(!e)throw new ReferenceError(\\\"this hasn't been initialised - super() hasn't been called\\\");return!t||\\\"object\\\"!=typeof t&&\\\"function\\\"!=typeof t?e:t}function s(e,t){if(\\\"function\\\"!=typeof t&&null!==t)throw new TypeError(\\\"Super expression must either be null or a function, not \\\"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}\\nObject.defineProperty(r,\\\"__esModule\\\",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),l=e(28),u=i(l),d=e(27),h=i(d),f=e(26),c=e(45),v=function(e){function t(e){a(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,u.default.FRAG_LOADING));return r.loaders={},r}return s(t,e),o(t,[{key:\\\"destroy\\\",value:function(){var e=this.loaders;for(var t in e){var r=e[t];r&&r.destroy()}this.loaders={},h.default.prototype.destroy.call(this)}},{key:\\\"onFragLoading\\\",value:function(e){var t=e.frag,r=t.type,i=this.loaders[r],a=this.hls.config;t.loaded=0,i&&(c.logger.warn(\\\"abort previous fragment loader for type:\\\"+r),i.abort()),i=this.loaders[r]=t.loader=\\\"undefined\\\"!=typeof a.fLoader?new a.fLoader(a):new a.loader(a);var n=void 0,s=void 0,o=void 0;n={url:t.url,frag:t,responseType:\\\"arraybuffer\\\",progressData:!1};var l=t.byteRangeStartOffset,u=t.byteRangeEndOffset;isNaN(l)||isNaN(u)||(n.rangeStart=l,n.rangeEnd=u),s={timeout:a.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:a.fragLoadingMaxRetryTimeout},o={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},i.load(n,s,o)}},{key:\\\"loadsuccess\\\",value:function(e,t,r){var i=e.data,a=r.frag;a.loader=void 0,this.loaders[a.type]=void 0,this.hls.trigger(u.default.FRAG_LOADED,{payload:i,frag:a,stats:t})}},{key:\\\"loaderror\\\",value:function(e,t){var r=t.loader;r&&r.abort(),this.loaders[t.type]=void 0,this.hls.trigger(u.default.ERROR,{type:f.ErrorTypes.NETWORK_ERROR,details:f.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:t.frag,response:e})}},{key:\\\"loadtimeout\\\",value:function(e,t){var r=t.loader;r&&r.abort(),this.loaders[t.type]=void 0,this.hls.trigger(u.default.ERROR,{type:f.ErrorTypes.NETWORK_ERROR,details:f.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t.frag})}},{key:\\\"loadprogress\\\",value:function(e,t,r){var i=t.frag;i.loaded=e.loaded,this.hls.trigger(u.default.FRAG_LOAD_PROGRESS,{frag:i,stats:e})}}]),t}(h.default);r.default=v},{26:26,27:27,28:28,45:45}],35:[function(e,t,r){\\\"use strict\\\";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}function n(e,t){if(!e)throw new ReferenceError(\\\"this hasn't been initialised - super() hasn't been called\\\");return!t||\\\"object\\\"!=typeof t&&\\\"function\\\"!=typeof t?e:t}function s(e,t){if(\\\"function\\\"!=typeof t&&null!==t)throw new TypeError(\\\"Super expression must either be null or a function, not \\\"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),l=e(28),u=i(l),d=e(27),h=i(d),f=e(26),c=e(45),v=function(e){function t(e){a(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,u.default.KEY_LOADING));return r.loaders={},r.decryptkey=null,r.decrypturl=null,r}return s(t,e),o(t,[{key:\\\"destroy\\\",value:function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy()}this.loaders={},h.default.prototype.destroy.call(this)}},{key:\\\"onKeyLoading\\\",value:function(e){var t=e.frag,r=t.type,i=this.loaders[r],a=t.decryptdata,n=a.uri;if(n!==this.decrypturl||null===this.decryptkey){var s=this.hls.config;i&&(c.logger.warn(\\\"abort previous key loader for type:\\\"+r),i.abort()),t.loader=this.loaders[r]=new s.loader(s),this.decrypturl=n,this.decryptkey=null;var o=void 0,l=void 0,d=void 0;o={url:n,frag:t,responseType:\\\"arraybuffer\\\"},l={timeout:s.fragLoadingTimeOut,maxRetry:s.fragLoadingMaxRetry,retryDelay:s.fragLoadingRetryDelay,maxRetryDelay:s.fragLoadingMaxRetryTimeout},d={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},t.loader.load(o,l,d)}else this.decryptkey&&(a.key=this.decryptkey,this.hls.trigger(u.default.KEY_LOADED,{frag:t}))}},{key:\\\"loadsuccess\\\",value:function(e,t,r){var i=r.frag;this.decryptkey=i.decryptdata.key=new Uint8Array(e.data),i.loader=void 0,this.loaders[i.type]=void 0,this.hls.trigger(u.default.KEY_LOADED,{frag:i})}},{key:\\\"loaderror\\\",value:function(e,t){var r=t.frag,i=r.loader;i&&i.abort(),this.loaders[t.type]=void 0,this.hls.trigger(u.default.ERROR,{type:f.ErrorTypes.NETWORK_ERROR,details:f.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:r,response:e})}},{key:\\\"loadtimeout\\\",value:function(e,t){var r=t.frag,i=r.loader;i&&i.abort(),this.loaders[t.type]=void 0,this.hls.trigger(u.default.ERROR,{type:f.ErrorTypes.NETWORK_ERROR,details:f.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:r})}}]),t}(h.default);r.default=v},{26:26,27:27,28:28,45:45}],36:[function(e,t,r){\\\"use strict\\\";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}function n(e,t){if(!e)throw new ReferenceError(\\\"this hasn't been initialised - super() hasn't been called\\\");return!t||\\\"object\\\"!=typeof t&&\\\"function\\\"!=typeof t?e:t}function s(e,t){if(\\\"function\\\"!=typeof t&&null!==t)throw new TypeError(\\\"Super expression must either be null or a function, not \\\"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),l=e(2),u=i(l),d=e(28),h=i(d),f=e(27),c=i(f),v=e(26),g=e(40),p=i(g),y=e(45),m=function(e){function t(e){a(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,h.default.MANIFEST_LOADING,h.default.LEVEL_LOADING,h.default.AUDIO_TRACK_LOADING));return r.loaders={},r}return s(t,e),o(t,[{key:\\\"destroy\\\",value:function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy()}this.loaders={},c.default.prototype.destroy.call(this)}},{key:\\\"onManifestLoading\\\",value:function(e){this.load(e.url,{type:\\\"manifest\\\"})}},{key:\\\"onLevelLoading\\\",value:function(e){this.load(e.url,{type:\\\"level\\\",level:e.level,id:e.id})}},{key:\\\"onAudioTrackLoading\\\",value:function(e){this.load(e.url,{type:\\\"audioTrack\\\",id:e.id})}},{key:\\\"load\\\",value:function(e,t){var r=this.loaders[t.type];if(r){var i=r.context;if(i&&i.url===e)return void y.logger.trace(\\\"playlist request ongoing\\\");y.logger.warn(\\\"abort previous loader for type:\\\"+t.type),r.abort()}var a=this.hls.config,n=void 0,s=void 0,o=void 0,l=void 0;\\\"manifest\\\"===t.type?(n=a.manifestLoadingMaxRetry,s=a.manifestLoadingTimeOut,o=a.manifestLoadingRetryDelay,l=a.manifestLoadingMaxRetryTimeOut):(n=a.levelLoadingMaxRetry,s=a.levelLoadingTimeOut,o=a.levelLoadingRetryDelay,l=a.levelLoadingMaxRetryTimeOut,y.logger.log(\\\"loading playlist for level \\\"+t.level)),r=this.loaders[t.type]=t.loader=\\\"undefined\\\"!=typeof a.pLoader?new a.pLoader(a):new a.loader(a),t.url=e,t.responseType=\\\"\\\";var u=void 0,d=void 0;u={timeout:s,maxRetry:n,retryDelay:o,maxRetryDelay:l},d={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},r.load(t,u,d)}},{key:\\\"resolve\\\",value:function(e,t){return u.default.buildAbsoluteURL(t,e)}},{key:\\\"parseMasterPlaylist\\\",value:function(e,t){for(var r=[],i=void 0,a=/#EXT-X-STREAM-INF:([^\\\\n\\\\r]*)[\\\\r\\\\n]+([^\\\\r\\\\n]+)/g;null!=(i=a.exec(e));){var n={},s=n.attrs=new p.default(i[1]);n.url=this.resolve(i[2],t);var o=s.decimalResolution(\\\"RESOLUTION\\\");o&&(n.width=o.width,n.height=o.height),n.bitrate=s.decimalInteger(\\\"AVERAGE-BANDWIDTH\\\")||s.decimalInteger(\\\"BANDWIDTH\\\"),n.name=s.NAME;var l=s.CODECS;if(l){l=l.split(/[ ,]+/);for(var u=0;u<l.length;u++){var d=l[u];d.indexOf(\\\"avc1\\\")!==-1?n.videoCodec=this.avc1toavcoti(d):n.audioCodec=d}}r.push(n)}return r}},{key:\\\"parseMasterPlaylistMedia\\\",value:function(e,t,r){for(var i=void 0,a=[],n=/#EXT-X-MEDIA:(.*)/g;null!=(i=n.exec(e));){var s={},o=new p.default(i[1]);o.TYPE===r&&(s.groupId=o[\\\"GROUP-ID\\\"],s.name=o.NAME,s.type=r,s.default=\\\"YES\\\"===o.DEFAULT,s.autoselect=\\\"YES\\\"===o.AUTOSELECT,s.forced=\\\"YES\\\"===o.FORCED,o.URI&&(s.url=this.resolve(o.URI,t)),s.lang=o.LANGUAGE,s.name||(s.name=s.lang),a.push(s))}return a}},{key:\\\"createInitializationVector\\\",value:function(e){for(var t=new Uint8Array(16),r=12;r<16;r++)t[r]=e>>8*(15-r)&255;return t}},{key:\\\"fragmentDecryptdataFromLevelkey\\\",value:function(e,t){var r=e;return e&&e.method&&e.uri&&!e.iv&&(r=this.cloneObj(e),r.iv=this.createInitializationVector(t)),r}},{key:\\\"avc1toavcoti\\\",value:function(e){var t,r=e.split(\\\".\\\");return r.length>2?(t=r.shift()+\\\".\\\",t+=parseInt(r.shift()).toString(16),t+=(\\\"000\\\"+parseInt(r.shift()).toString(16)).substr(-4)):t=e,t}},{key:\\\"cloneObj\\\",value:function(e){return JSON.parse(JSON.stringify(e))}},{key:\\\"parseLevelPlaylist\\\",value:function(e,t,r,i){var a,n,s,o=0,l=0,u={type:null,version:null,url:t,fragments:[],live:!0,startSN:0},d={method:null,key:null,iv:null,uri:null},h=0,f=null,c=null,v=null,g=null,m=null,E=null,b=[];for(s=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\\\\d+))|(?:#EXT-X-(TARGETDURATION): *(\\\\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT(INF): *(\\\\d+(?:\\\\.\\\\d+)?)(?:,(.*))?)|(?:(?!#)()(\\\\S.+))|(?:#EXT-X-(BYTERANGE): *(\\\\d+(?:@\\\\d+(?:\\\\.\\\\d+)?)?)|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\\\\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(PROGRAM-DATE-TIME):(.+))|(?:#EXT-X-(VERSION):(\\\\d+))|(?:(#)(.*):(.*))|(?:(#)(.*)))(?:.*)\\\\r?\\\\n?/g;null!==(n=s.exec(e));)switch(n.shift(),n=n.filter(function(e){return void 0!==e}),n[0]){case\\\"PLAYLIST-TYPE\\\":u.type=n[1].toUpperCase();break;case\\\"MEDIA-SEQUENCE\\\":o=u.startSN=parseInt(n[1]);break;case\\\"TARGETDURATION\\\":u.targetduration=parseFloat(n[1]);break;case\\\"VERSION\\\":u.version=parseInt(n[1]);break;case\\\"EXTM3U\\\":break;case\\\"ENDLIST\\\":u.live=!1;break;case\\\"DIS\\\":h++,b.push(n);break;case\\\"DISCONTINUITY-SEQ\\\":h=parseInt(n[1]);break;case\\\"BYTERANGE\\\":var R=n[1].split(\\\"@\\\");E=1===R.length?m:parseInt(R[1]),m=parseInt(R[0])+E;break;case\\\"INF\\\":v=parseFloat(n[1]),g=n[2]?n[2]:null,b.push(n);break;case\\\"\\\":if(!isNaN(v)){var _=o++;a=this.fragmentDecryptdataFromLevelkey(d,_);var k=n[1]?this.resolve(n[1],t):null;c={url:k,type:i,duration:v,title:g,start:l,sn:_,level:r,cc:h,decryptdata:a,programDateTime:f,tagList:b},null!==E&&(c.byteRangeStartOffset=E,c.byteRangeEndOffset=m),u.fragments.push(c),l+=v,v=null,g=null,E=null,f=null,b=[]}break;case\\\"KEY\\\":var T=n[1],A=new p.default(T),S=A.enumeratedString(\\\"METHOD\\\"),L=A.URI,D=A.hexadecimalInteger(\\\"IV\\\");S&&(d={method:null,key:null,iv:null,uri:null},L&&\\\"AES-128\\\"===S&&(d.method=S,d.uri=this.resolve(L,t),d.key=null,d.iv=D));break;case\\\"START\\\":var w=n[1],O=new p.default(w),P=O.decimalFloatingPoint(\\\"TIME-OFFSET\\\");isNaN(P)||(u.startTimeOffset=P);break;case\\\"PROGRAM-DATE-TIME\\\":f=new Date(Date.parse(n[1])),b.push(n);break;case\\\"#\\\":n.shift(),b.push(n);break;default:y.logger.warn(\\\"line parsed but not handled: \\\"+n)}return c&&!c.url&&(u.fragments.pop(),l-=c.duration),u.totalduration=l,u.averagetargetduration=l/u.fragments.length,u.endSN=o-1,u}},{key:\\\"loadsuccess\\\",value:function(e,t,r){var i=e.data,a=e.url,n=r.type,s=r.id,o=r.level,l=this.hls;if(this.loaders[n]=void 0,void 0!==a&&0!==a.indexOf(\\\"data:\\\")||(a=r.url),t.tload=performance.now(),0===i.indexOf(\\\"#EXTM3U\\\"))if(i.indexOf(\\\"#EXTINF:\\\")>0){var u=\\\"audioTrack\\\"!==n,d=this.parseLevelPlaylist(i,a,(u?o:s)||0,u?\\\"main\\\":\\\"audio\\\");\\\"manifest\\\"===n&&l.trigger(h.default.MANIFEST_LOADED,{levels:[{url:a,details:d}],audioTracks:[],url:a,stats:t}),t.tparsed=performance.now(),d.targetduration?u?l.trigger(h.default.LEVEL_LOADED,{details:d,level:o||0,id:s||0,stats:t}):l.trigger(h.default.AUDIO_TRACK_LOADED,{details:d,id:s,stats:t}):l.trigger(h.default.ERROR,{type:v.ErrorTypes.NETWORK_ERROR,details:v.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:a,reason:\\\"invalid targetduration\\\"})}else{var f=this.parseMasterPlaylist(i,a);if(f.length){var c=this.parseMasterPlaylistMedia(i,a,\\\"AUDIO\\\");if(c.length){var g=!1;c.forEach(function(e){e.url||(g=!0)}),g===!1&&f[0].audioCodec&&!f[0].attrs.AUDIO&&(y.logger.log(\\\"audio codec signaled in quality level, but no embedded audio track signaled, create one\\\"),c.unshift({type:\\\"main\\\",name:\\\"main\\\"}))}l.trigger(h.default.MANIFEST_LOADED,{levels:f,audioTracks:c,url:a,stats:t})}else l.trigger(h.default.ERROR,{type:v.ErrorTypes.NETWORK_ERROR,details:v.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:a,reason:\\\"no level found in manifest\\\"})}else l.trigger(h.default.ERROR,{type:v.ErrorTypes.NETWORK_ERROR,details:v.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:a,reason:\\\"no EXTM3U delimiter\\\"})}},{key:\\\"loaderror\\\",value:function(e,t){var r,i,a=t.loader;switch(t.type){case\\\"manifest\\\":r=v.ErrorDetails.MANIFEST_LOAD_ERROR,i=!0;break;case\\\"level\\\":r=v.ErrorDetails.LEVEL_LOAD_ERROR,i=!1;break;case\\\"audioTrack\\\":r=v.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,i=!1}a&&(a.abort(),this.loaders[t.type]=void 0),this.hls.trigger(h.default.ERROR,{type:v.ErrorTypes.NETWORK_ERROR,details:r,fatal:i,url:a.url,loader:a,response:e,context:t})}},{key:\\\"loadtimeout\\\",value:function(e,t){var r,i,a=t.loader;switch(t.type){case\\\"manifest\\\":r=v.ErrorDetails.MANIFEST_LOAD_TIMEOUT,i=!0;break;case\\\"level\\\":r=v.ErrorDetails.LEVEL_LOAD_TIMEOUT,i=!1;break;case\\\"audioTrack\\\":r=v.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT,i=!1}a&&(a.abort(),this.loaders[t.type]=void 0),this.hls.trigger(h.default.ERROR,{type:v.ErrorTypes.NETWORK_ERROR,details:r,fatal:i,url:a.url,loader:a,context:t})}}]),t}(c.default);r.default=m},{2:2,26:26,27:27,28:28,40:40,45:45}],37:[function(e,t,r){\\\"use strict\\\";function i(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),n=function(){function e(){i(this,e)}return a(e,null,[{key:\\\"init\\\",value:function(){e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};var t;for(t in e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var r=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),i=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);e.HDLR_TYPES={video:r,audio:i};var a=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),n=new Uint8Array([0,0,0,0,0,0,0,0]);e.STTS=e.STSC=e.STCO=n,e.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),e.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),e.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),e.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var s=new Uint8Array([105,115,111,109]),o=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);e.FTYP=e.box(e.types.ftyp,s,l,s,o),e.DINF=e.box(e.types.dinf,e.box(e.types.dref,a))}},{key:\\\"box\\\",value:function(e){for(var t,r=Array.prototype.slice.call(arguments,1),i=8,a=r.length,n=a;a--;)i+=r[a].byteLength;for(t=new Uint8Array(i),t[0]=i>>24&255,t[1]=i>>16&255,t[2]=i>>8&255,t[3]=255&i,t.set(e,4),a=0,i=8;a<n;a++)t.set(r[a],i),i+=r[a].byteLength;return t}},{key:\\\"hdlr\\\",value:function(t){return e.box(e.types.hdlr,e.HDLR_TYPES[t])}},{key:\\\"mdat\\\",value:function(t){return e.box(e.types.mdat,t)}},{key:\\\"mdhd\\\",value:function(t,r){return r*=t,e.box(e.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,r>>24,r>>16&255,r>>8&255,255&r,85,196,0,0]))}},{key:\\\"mdia\\\",value:function(t){return e.box(e.types.mdia,e.mdhd(t.timescale,t.duration),e.hdlr(t.type),e.minf(t))}},{key:\\\"mfhd\\\",value:function(t){return e.box(e.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))}},{key:\\\"minf\\\",value:function(t){return\\\"audio\\\"===t.type?e.box(e.types.minf,e.box(e.types.smhd,e.SMHD),e.DINF,e.stbl(t)):e.box(e.types.minf,e.box(e.types.vmhd,e.VMHD),e.DINF,e.stbl(t))}},{key:\\\"moof\\\",value:function(t,r,i){return e.box(e.types.moof,e.mfhd(t),e.traf(i,r))}},{key:\\\"moov\\\",value:function(t){for(var r=t.length,i=[];r--;)i[r]=e.trak(t[r]);return e.box.apply(null,[e.types.moov,e.mvhd(t[0].timescale,t[0].duration)].concat(i).concat(e.mvex(t)))}},{key:\\\"mvex\\\",value:function(t){for(var r=t.length,i=[];r--;)i[r]=e.trex(t[r]);return e.box.apply(null,[e.types.mvex].concat(i))}},{key:\\\"mvhd\\\",value:function(t,r){r*=t;var i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,t>>24&255,t>>16&255,t>>8&255,255&t,r>>24&255,r>>16&255,r>>8&255,255&r,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e.box(e.types.mvhd,i)}},{key:\\\"sdtp\\\",value:function(t){var r,i,a=t.samples||[],n=new Uint8Array(4+a.length);for(i=0;i<a.length;i++)r=a[i].flags,n[i+4]=r.dependsOn<<4|r.isDependedOn<<2|r.hasRedundancy;return e.box(e.types.sdtp,n)}},{key:\\\"stbl\\\",value:function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.STTS),e.box(e.types.stsc,e.STSC),e.box(e.types.stsz,e.STSZ),e.box(e.types.stco,e.STCO))}},{key:\\\"avc1\\\",value:function(t){var r,i,a,n=[],s=[];for(r=0;r<t.sps.length;r++)i=t.sps[r],a=i.byteLength,n.push(a>>>8&255),n.push(255&a),n=n.concat(Array.prototype.slice.call(i));for(r=0;r<t.pps.length;r++)i=t.pps[r],a=i.byteLength,s.push(a>>>8&255),s.push(255&a),s=s.concat(Array.prototype.slice.call(i));var o=e.box(e.types.avcC,new Uint8Array([1,n[3],n[4],n[5],255,224|t.sps.length].concat(n).concat([t.pps.length]).concat(s))),l=t.width,u=t.height;return e.box(e.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,255&l,u>>8&255,255&u,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),o,e.box(e.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))}},{key:\\\"esds\\\",value:function(e){var t=e.config.length;return new Uint8Array([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([t]).concat(e.config).concat([6,1,2]))}},{key:\\\"mp4a\\\",value:function(t){var r=t.audiosamplerate;return e.box(e.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,r>>8&255,255&r,0,0]),e.box(e.types.esds,e.esds(t)))}},{key:\\\"stsd\\\",value:function(t){return\\\"audio\\\"===t.type?e.box(e.types.stsd,e.STSD,e.mp4a(t)):e.box(e.types.stsd,e.STSD,e.avc1(t))}},{key:\\\"tkhd\\\",value:function(t){var r=t.id,i=t.duration*t.timescale,a=t.width,n=t.height;return e.box(e.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,r>>24&255,r>>16&255,r>>8&255,255&r,0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,a>>8&255,255&a,0,0,n>>8&255,255&n,0,0]))}},{key:\\\"traf\\\",value:function(t,r){var i=e.sdtp(t),a=t.id;return e.box(e.types.traf,e.box(e.types.tfhd,new Uint8Array([0,0,0,0,a>>24,a>>16&255,a>>8&255,255&a])),e.box(e.types.tfdt,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r])),e.trun(t,i.length+16+16+8+16+8+8),i)}},{key:\\\"trak\\\",value:function(t){return t.duration=t.duration||4294967295,e.box(e.types.trak,e.tkhd(t),e.mdia(t))}},{key:\\\"trex\\\",value:function(t){var r=t.id;return e.box(e.types.trex,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}},{key:\\\"trun\\\",value:function(t,r){var i,a,n,s,o,l,u=t.samples||[],d=u.length,h=12+16*d,f=new Uint8Array(h);for(r+=8+h,f.set([0,0,15,1,d>>>24&255,d>>>16&255,d>>>8&255,255&d,r>>>24&255,r>>>16&255,r>>>8&255,255&r],0),i=0;i<d;i++)a=u[i],n=a.duration,s=a.size,o=a.flags,l=a.cts,f.set([n>>>24&255,n>>>16&255,n>>>8&255,255&n,s>>>24&255,s>>>16&255,s>>>8&255,255&s,o.isLeading<<2|o.dependsOn,o.isDependedOn<<6|o.hasRedundancy<<4|o.paddingValue<<1|o.isNonSync,61440&o.degradPrio,15&o.degradPrio,l>>>24&255,l>>>16&255,l>>>8&255,255&l],12+16*i);return e.box(e.types.trun,f)}},{key:\\\"initSegment\\\",value:function(t){e.types||e.init();var r,i=e.moov(t);return r=new Uint8Array(e.FTYP.byteLength+i.byteLength),r.set(e.FTYP),r.set(i,e.FTYP.byteLength),r}}]),e}();r.default=n},{}],38:[function(e,t,r){\\\"use strict\\\";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),s=e(29),o=i(s),l=e(28),u=i(l),d=e(45),h=e(37),f=i(h),c=e(26);e(46);var v=function(){function e(t,r,i){a(this,e),this.observer=t,this.id=r,this.config=i,this.ISGenerated=!1,this.PES2MP4SCALEFACTOR=4,this.PES_TIMESCALE=9e4,this.MP4_TIMESCALE=this.PES_TIMESCALE/this.PES2MP4SCALEFACTOR}return n(e,[{key:\\\"destroy\\\",value:function(){}},{key:\\\"insertDiscontinuity\\\",value:function(){this._initPTS=this._initDTS=void 0}},{key:\\\"switchLevel\\\",value:function(){this.ISGenerated=!1}},{key:\\\"remux\\\",value:function(e,t,r,i,a,n,s,o,l){if(this.level=e,this.sn=t,this.ISGenerated||this.generateIS(r,i,s),this.ISGenerated)if(r.samples.length){var d=this.remuxAudio(r,s,o,l);if(i.samples.length){var h=void 0;d&&(h=d.endPTS-d.startPTS),this.remuxVideo(i,s,o,h)}}else{var f=void 0;i.samples.length&&(f=this.remuxVideo(i,s,o)),f&&r.codec&&this.remuxEmptyAudio(r,s,o,f)}a.samples.length&&this.remuxID3(a,s),n.samples.length&&this.remuxText(n,s),this.observer.trigger(u.default.FRAG_PARSED,{id:this.id,level:this.level,sn:this.sn})}},{key:\\\"generateIS\\\",value:function(e,t,r){var i,a,n=this.observer,s=e.samples,o=t.samples,l=this.PES_TIMESCALE,h={},v={id:this.id,level:this.level,sn:this.sn,tracks:h,unique:!1},g=void 0===this._initPTS;g&&(i=a=1/0),e.config&&s.length&&(e.timescale=e.audiosamplerate,e.timescale*e.duration>Math.pow(2,32)&&!function(){var t=function e(t,r){return r?e(r,t%r):t};e.timescale=e.audiosamplerate/t(e.audiosamplerate,1024)}(),d.logger.log(\\\"audio mp4 timescale :\\\"+e.timescale),h.audio={container:\\\"audio/mp4\\\",codec:e.codec,initSegment:f.default.initSegment([e]),metadata:{channelCount:e.channelCount}},g&&(i=a=s[0].pts-l*r)),t.sps&&t.pps&&o.length&&(t.timescale=this.MP4_TIMESCALE,h.video={container:\\\"video/mp4\\\",codec:t.codec,initSegment:f.default.initSegment([t]),metadata:{width:t.width,height:t.height}},g&&(i=Math.min(i,o[0].pts-l*r),a=Math.min(a,o[0].dts-l*r))),Object.keys(h).length?(n.trigger(u.default.FRAG_PARSING_INIT_SEGMENT,v),this.ISGenerated=!0,g&&(this._initPTS=i,this._initDTS=a)):n.trigger(u.default.ERROR,{type:c.ErrorTypes.MEDIA_ERROR,id:this.id,details:c.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:\\\"no audio/video samples found\\\"})}},{key:\\\"remuxVideo\\\",value:function(e,t,r,i){var a,n,s,o,l,h,c,v,g=8,p=this.PES_TIMESCALE,y=this.PES2MP4SCALEFACTOR,m=e.samples,E=[],b=m.reduce(function(e,t){return Math.max(Math.min(e,t.pts-t.dts),-18e3)},0);if(b<0){d.logger.warn(\\\"PTS < DTS detected in video samples, shifting DTS by \\\"+Math.round(b/90)+\\\" ms to overcome this issue\\\");for(var R=0;R<m.length;R++)m[R].dts+=b}var _=void 0;_=r?this.nextAvcDts:t*p;var k=m[0];l=Math.max(this._PTSNormalize(k.dts-this._initDTS,_),0),o=Math.max(this._PTSNormalize(k.pts-this._initDTS,_),0);var T=Math.round((l-_)/90);r&&T&&(T>1?d.logger.log(\\\"AVC:\\\"+T+\\\" ms hole between fragments detected,filling it\\\"):T<-1&&d.logger.log(\\\"AVC:\\\"+-T+\\\" ms overlapping between fragments detected\\\"),l=_,m[0].dts=l+this._initDTS,o=Math.max(o-T,_),m[0].pts=o+this._initDTS,d.logger.log(\\\"Video/PTS/DTS adjusted: \\\"+Math.round(o/90)+\\\"/\\\"+Math.round(l/90)+\\\",delta:\\\"+T+\\\" ms\\\")),h=l,k=m[m.length-1],v=Math.max(this._PTSNormalize(k.dts-this._initDTS,_),0),c=Math.max(this._PTSNormalize(k.pts-this._initDTS,_),0),c=Math.max(c,v);var A=navigator.vendor,S=navigator.userAgent,L=A&&A.indexOf(\\\"Apple\\\")>-1&&S&&!S.match(\\\"CriOS\\\");L&&(a=Math.round((v-l)/(y*(m.length-1))));for(var D=0;D<m.length;D++){var w=m[D];L?w.dts=l+D*y*a:(w.dts=Math.max(this._PTSNormalize(w.dts-this._initDTS,_),l),w.dts=Math.round(w.dts/y)*y),w.pts=Math.max(this._PTSNormalize(w.pts-this._initDTS,_),w.dts),w.pts=Math.round(w.pts/y)*y}n=new Uint8Array(e.len+4*e.nbNalu+8);var O=new DataView(n.buffer);O.setUint32(0,n.byteLength),n.set(f.default.types.mdat,4);for(var P=0;P<m.length;P++){for(var I=m[P],C=0,M=void 0;I.units.units.length;){var x=I.units.units.shift();O.setUint32(g,x.data.byteLength),g+=4,n.set(x.data,g),g+=x.data.byteLength,C+=4+x.data.byteLength}if(L)M=Math.max(0,a*Math.round((I.pts-I.dts)/(y*a)));else{if(P<m.length-1)a=m[P+1].dts-I.dts;else{var N=this.config,F=I.dts-m[P>0?P-1:P].dts;if(N.stretchShortVideoTrack){var U=N.maxBufferHole,G=N.maxSeekHole,B=Math.floor(Math.min(U,G)*p),j=(i?o+i*p:this.nextAacPts)-I.pts;j>B?(a=j-F,a<0&&(a=F),d.logger.log(\\\"It is approximately \\\"+j/90+\\\" ms to the next segment; using duration \\\"+a/90+\\\" ms for the last video frame.\\\")):a=F}else a=F}a/=y,M=Math.round((I.pts-I.dts)/y)}E.push({size:C,duration:a,cts:M,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:I.key?2:1,isNonSync:I.key?0:1}})}this.nextAvcDts=v+a*y;var H=e.dropped;if(e.len=0,e.nbNalu=0,e.dropped=0,E.length&&navigator.userAgent.toLowerCase().indexOf(\\\"chrome\\\")>-1){var K=E[0].flags;K.dependsOn=2,K.isNonSync=0}e.samples=E,s=f.default.moof(e.sequenceNumber++,l/y,e),e.samples=[];var V={id:this.id,level:this.level,sn:this.sn,data1:s,data2:n,startPTS:o/p,endPTS:(c+y*a)/p,startDTS:l/p,endDTS:this.nextAvcDts/p,type:\\\"video\\\",nb:E.length,dropped:H};return this.observer.trigger(u.default.FRAG_PARSING_DATA,V),V}},{key:\\\"remuxAudio\\\",value:function(e,t,r,i){var a,n,s,l,h,c,v,g,p,y,m,E,b,R,_,k,T=this.PES_TIMESCALE,A=e.timescale,S=T/A,L=1024*e.timescale/e.audiosamplerate,D=L*S,w=8,O=[],P=[];if(e.samples.sort(function(e,t){return e.pts-t.pts}),P=e.samples,k=this.nextAacPts,r|=P.length&&k&&(Math.abs(t-k/T)<.1||Math.abs(P[0].pts-k-this._initDTS)<20*D),r||(k=t*T),i)for(var I=0,C=k;I<P.length;){var M=P[I],x=this._PTSNormalize(M.pts-this._initDTS,k),N=x-C;if(N<=-D)d.logger.warn(\\\"Dropping 1 audio frame @ \\\"+Math.round(C/90)/1e3+\\\"s due to \\\"+Math.round(Math.abs(N/90))+\\\" ms overlap.\\\"),P.splice(I,1),e.len-=M.unit.length;else if(N>=D){var F=Math.round(N/D);d.logger.warn(\\\"Injecting \\\"+F+\\\" audio frame @ \\\"+Math.round(C/90)/1e3+\\\"s due to \\\"+Math.round(N/90)+\\\" ms gap.\\\");for(var U=0;U<F;U++)_=C+this._initDTS,_=Math.max(_,this._initDTS),R=o.default.getSilentFrame(e.channelCount),R||(d.logger.log(\\\"Unable to get silent frame for given audio codec; duplicating last frame instead.\\\"),R=M.unit.slice(0)),P.splice(I,0,{unit:R,pts:_,dts:_}),e.len+=R.length,C+=D,I+=1;M.pts=M.dts=C+this._initDTS,C+=D,I+=1}else Math.abs(N)>.1*D,C+=D,0===I?M.pts=M.dts=this._initDTS+k:M.pts=M.dts=P[I-1].pts+D,I+=1}for(;P.length;){if(n=P.shift(),l=n.unit,y=n.pts-this._initDTS,m=n.dts-this._initDTS,void 0!==p)E=this._PTSNormalize(y,p),b=this._PTSNormalize(m,p),s.duration=Math.round((b-p)/S);else{E=this._PTSNormalize(y,k),b=this._PTSNormalize(m,k);var G=Math.round(1e3*(E-k)/T),B=0;if(r&&G){if(G>0)B=Math.round((E-k)/D),d.logger.log(G+\\\" ms hole between AAC samples detected,filling it\\\"),B>0&&(R=o.default.getSilentFrame(e.channelCount),R||(R=l.slice(0)),e.len+=B*R.length);else if(G<-12){d.logger.log(-G+\\\" ms overlapping between AAC samples detected, drop frame\\\"),e.len-=l.byteLength;continue}E=b=k}if(v=Math.max(0,E),g=Math.max(0,b),!(e.len>0))return;h=new Uint8Array(e.len+8),a=new DataView(h.buffer),a.setUint32(0,h.byteLength),h.set(f.default.types.mdat,4);for(var j=0;j<B;j++)_=E-(B-j)*D,R=o.default.getSilentFrame(e.channelCount),R||(d.logger.log(\\\"Unable to get silent frame for given audio codec; duplicating this frame instead.\\\"),R=l.slice(0)),h.set(R,w),w+=R.byteLength,s={size:R.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},O.push(s)}h.set(l,w),w+=l.byteLength,s={size:l.byteLength,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},O.push(s),p=b}var H=0,K=O.length;if(K>=2&&(H=O[K-2].duration,s.duration=H),K){this.nextAacPts=E+S*H,e.len=0,e.samples=O,c=f.default.moof(e.sequenceNumber++,g/S,e),e.samples=[];var V={id:this.id,level:this.level,sn:this.sn,data1:c,data2:h,startPTS:v/T,endPTS:this.nextAacPts/T,startDTS:g/T,endDTS:(b+S*H)/T,type:\\\"audio\\\",nb:K};return this.observer.trigger(u.default.FRAG_PARSING_DATA,V),V}return null}},{key:\\\"remuxEmptyAudio\\\",value:function(e,t,r,i){var a=this.PES_TIMESCALE,n=e.timescale?e.timescale:e.audiosamplerate,s=a/n,l=this.nextAacPts,u=(void 0!==l?l:i.startDTS*a)+this._initDTS,h=i.endDTS*a+this._initDTS,f=1024,c=s*f,v=Math.ceil((h-u)/c),g=o.default.getSilentFrame(e.channelCount);if(d.logger.warn(\\\"remux empty Audio\\\"),!g)return void d.logger.trace(\\\"Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!\\\");for(var p=[],y=0;y<v;y++){var m=u+y*c;p.push({unit:g.slice(0),pts:m,dts:m}),e.len+=g.length}e.samples=p,this.remuxAudio(e,t,r)}},{key:\\\"remuxID3\\\",value:function(e,t){var r,i=e.samples.length;if(i){for(var a=0;a<i;a++)r=e.samples[a],r.pts=(r.pts-this._initPTS)/this.PES_TIMESCALE,r.dts=(r.dts-this._initDTS)/this.PES_TIMESCALE;this.observer.trigger(u.default.FRAG_PARSING_METADATA,{id:this.id,level:this.level,sn:this.sn,samples:e.samples})}e.samples=[],t=t}},{key:\\\"remuxText\\\",value:function(e,t){e.samples.sort(function(e,t){return e.pts-t.pts});var r,i=e.samples.length;if(i){for(var a=0;a<i;a++)r=e.samples[a],r.pts=(r.pts-this._initPTS)/this.PES_TIMESCALE;this.observer.trigger(u.default.FRAG_PARSING_USERDATA,{id:this.id,level:this.level,sn:this.sn,samples:e.samples})}e.samples=[],t=t}},{key:\\\"_PTSNormalize\\\",value:function(e,t){var r;if(void 0===t)return e;for(r=t<e?-8589934592:8589934592;Math.abs(e-t)>4294967296;)e+=r;return e}},{key:\\\"passthrough\\\",get:function(){return!1}}]),e}();r.default=v},{26:26,28:28,29:29,37:37,45:45,46:46}],39:[function(e,t,r){\\\"use strict\\\";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),s=e(28),o=i(s),l=function(){function e(t,r){a(this,e),this.observer=t,this.id=r,this.ISGenerated=!1}return n(e,[{key:\\\"destroy\\\",value:function(){}},{key:\\\"insertDiscontinuity\\\",value:function(){}},{key:\\\"switchLevel\\\",value:function(){this.ISGenerated=!1}},{key:\\\"remux\\\",value:function(e,t,r,i,a,n){var s=this.observer;if(!this.ISGenerated){var l={},u={id:this.id,tracks:l,unique:!0},d=t,h=d.codec;h&&(u.tracks.video={container:d.container,codec:h,metadata:{width:d.width,height:d.height}}),d=e,h=d.codec,h&&(u.tracks.audio={container:d.container,codec:h,metadata:{channelCount:d.channelCount}}),this.ISGenerated=!0,s.trigger(o.default.FRAG_PARSING_INIT_SEGMENT,u)}s.trigger(o.default.FRAG_PARSING_DATA,{id:this.id,data1:n,startPTS:a,startDTS:a,type:\\\"audiovideo\\\",nb:1,dropped:0})}},{key:\\\"passthrough\\\",get:function(){return!0}}]),e}();r.default=l},{28:28}],40:[function(e,t,r){\\\"use strict\\\";function i(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\");\\n}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),n=function(){function e(t){i(this,e),\\\"string\\\"==typeof t&&(t=e.parseAttrList(t));for(var r in t)t.hasOwnProperty(r)&&(this[r]=t[r])}return a(e,[{key:\\\"decimalInteger\\\",value:function(e){var t=parseInt(this[e],10);return t>Number.MAX_SAFE_INTEGER?1/0:t}},{key:\\\"hexadecimalInteger\\\",value:function(e){if(this[e]){var t=(this[e]||\\\"0x\\\").slice(2);t=(1&t.length?\\\"0\\\":\\\"\\\")+t;for(var r=new Uint8Array(t.length/2),i=0;i<t.length/2;i++)r[i]=parseInt(t.slice(2*i,2*i+2),16);return r}return null}},{key:\\\"hexadecimalIntegerAsNumber\\\",value:function(e){var t=parseInt(this[e],16);return t>Number.MAX_SAFE_INTEGER?1/0:t}},{key:\\\"decimalFloatingPoint\\\",value:function(e){return parseFloat(this[e])}},{key:\\\"enumeratedString\\\",value:function(e){return this[e]}},{key:\\\"decimalResolution\\\",value:function(e){var t=/^(\\\\d+)x(\\\\d+)$/.exec(this[e]);if(null!==t)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}}}],[{key:\\\"parseAttrList\\\",value:function(e){for(var t,r=/\\\\s*(.+?)\\\\s*=((?:\\\\\\\".*?\\\\\\\")|.*?)(?:,|$)/g,i={};null!==(t=r.exec(e));){var a=t[2],n='\\\"';0===a.indexOf(n)&&a.lastIndexOf(n)===a.length-1&&(a=a.slice(1,-1)),i[t[1]]=a}return i}}]),e}();r.default=n},{}],41:[function(e,t,r){\\\"use strict\\\";var i={search:function(e,t){for(var r=0,i=e.length-1,a=null,n=null;r<=i;){a=(r+i)/2|0,n=e[a];var s=t(n);if(s>0)r=a+1;else{if(!(s<0))return n;i=a-1}}return null}};t.exports=i},{}],42:[function(e,t,r){\\\"use strict\\\";function i(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),n={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},s=function(e){var t=e;return n.hasOwnProperty(e)&&(t=n[e]),String.fromCharCode(t)},o=15,l=32,u={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},d={17:2,18:4,21:6,22:8,23:10,19:13,20:15},h={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},f={25:2,26:4,29:6,30:8,31:10,27:13,28:15},c=[\\\"white\\\",\\\"green\\\",\\\"blue\\\",\\\"cyan\\\",\\\"red\\\",\\\"yellow\\\",\\\"magenta\\\",\\\"black\\\",\\\"transparent\\\"],v={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(e){this.time=e},log:function(e,t){var r=this.verboseFilter[e];this.verboseLevel>=r}},g=function(e){for(var t=[],r=0;r<e.length;r++)t.push(e[r].toString(16));return t},p=function(){function e(t,r,a,n,s){i(this,e),this.foreground=t||\\\"white\\\",this.underline=r||!1,this.italics=a||!1,this.background=n||\\\"black\\\",this.flash=s||!1}return a(e,[{key:\\\"reset\\\",value:function(){this.foreground=\\\"white\\\",this.underline=!1,this.italics=!1,this.background=\\\"black\\\",this.flash=!1}},{key:\\\"setStyles\\\",value:function(e){for(var t=[\\\"foreground\\\",\\\"underline\\\",\\\"italics\\\",\\\"background\\\",\\\"flash\\\"],r=0;r<t.length;r++){var i=t[r];e.hasOwnProperty(i)&&(this[i]=e[i])}}},{key:\\\"isDefault\\\",value:function(){return\\\"white\\\"===this.foreground&&!this.underline&&!this.italics&&\\\"black\\\"===this.background&&!this.flash}},{key:\\\"equals\\\",value:function(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash}},{key:\\\"copy\\\",value:function(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash}},{key:\\\"toString\\\",value:function(){return\\\"color=\\\"+this.foreground+\\\", underline=\\\"+this.underline+\\\", italics=\\\"+this.italics+\\\", background=\\\"+this.background+\\\", flash=\\\"+this.flash}}]),e}(),y=function(){function e(t,r,a,n,s,o){i(this,e),this.uchar=t||\\\" \\\",this.penState=new p(r,a,n,s,o)}return a(e,[{key:\\\"reset\\\",value:function(){this.uchar=\\\" \\\",this.penState.reset()}},{key:\\\"setChar\\\",value:function(e,t){this.uchar=e,this.penState.copy(t)}},{key:\\\"setPenState\\\",value:function(e){this.penState.copy(e)}},{key:\\\"equals\\\",value:function(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)}},{key:\\\"copy\\\",value:function(e){this.uchar=e.uchar,this.penState.copy(e.penState)}},{key:\\\"isEmpty\\\",value:function(){return\\\" \\\"===this.uchar&&this.penState.isDefault()}}]),e}(),m=function(){function e(){i(this,e),this.chars=[];for(var t=0;t<l;t++)this.chars.push(new y);this.pos=0,this.currPenState=new p}return a(e,[{key:\\\"equals\\\",value:function(e){for(var t=!0,r=0;r<l;r++)if(!this.chars[r].equals(e.chars[r])){t=!1;break}return t}},{key:\\\"copy\\\",value:function(e){for(var t=0;t<l;t++)this.chars[t].copy(e.chars[t])}},{key:\\\"isEmpty\\\",value:function(){for(var e=!0,t=0;t<l;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e}},{key:\\\"setCursor\\\",value:function(e){this.pos!==e&&(this.pos=e),this.pos<0?(v.log(\\\"ERROR\\\",\\\"Negative cursor position \\\"+this.pos),this.pos=0):this.pos>l&&(v.log(\\\"ERROR\\\",\\\"Too large cursor position \\\"+this.pos),this.pos=l)}},{key:\\\"moveCursor\\\",value:function(e){var t=this.pos+e;if(e>1)for(var r=this.pos+1;r<t+1;r++)this.chars[r].setPenState(this.currPenState);this.setCursor(t)}},{key:\\\"backSpace\\\",value:function(){this.moveCursor(-1),this.chars[this.pos].setChar(\\\" \\\",this.currPenState)}},{key:\\\"insertChar\\\",value:function(e){e>=144&&this.backSpace();var t=s(e);return this.pos>=l?void v.log(\\\"ERROR\\\",\\\"Cannot insert \\\"+e.toString(16)+\\\" (\\\"+t+\\\") at position \\\"+this.pos+\\\". Skipping it!\\\"):(this.chars[this.pos].setChar(t,this.currPenState),void this.moveCursor(1))}},{key:\\\"clearFromPos\\\",value:function(e){var t;for(t=e;t<l;t++)this.chars[t].reset()}},{key:\\\"clear\\\",value:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}},{key:\\\"clearToEndOfRow\\\",value:function(){this.clearFromPos(this.pos)}},{key:\\\"getTextString\\\",value:function(){for(var e=[],t=!0,r=0;r<l;r++){var i=this.chars[r].uchar;\\\" \\\"!==i&&(t=!1),e.push(i)}return t?\\\"\\\":e.join(\\\"\\\")}},{key:\\\"setPenStyles\\\",value:function(e){this.currPenState.setStyles(e);var t=this.chars[this.pos];t.setPenState(this.currPenState)}}]),e}(),E=function(){function e(){i(this,e),this.rows=[];for(var t=0;t<o;t++)this.rows.push(new m);this.currRow=o-1,this.nrRollUpRows=null,this.reset()}return a(e,[{key:\\\"reset\\\",value:function(){for(var e=0;e<o;e++)this.rows[e].clear();this.currRow=o-1}},{key:\\\"equals\\\",value:function(e){for(var t=!0,r=0;r<o;r++)if(!this.rows[r].equals(e.rows[r])){t=!1;break}return t}},{key:\\\"copy\\\",value:function(e){for(var t=0;t<o;t++)this.rows[t].copy(e.rows[t])}},{key:\\\"isEmpty\\\",value:function(){for(var e=!0,t=0;t<o;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e}},{key:\\\"backSpace\\\",value:function(){var e=this.rows[this.currRow];e.backSpace()}},{key:\\\"clearToEndOfRow\\\",value:function(){var e=this.rows[this.currRow];e.clearToEndOfRow()}},{key:\\\"insertChar\\\",value:function(e){var t=this.rows[this.currRow];t.insertChar(e)}},{key:\\\"setPen\\\",value:function(e){var t=this.rows[this.currRow];t.setPenStyles(e)}},{key:\\\"moveCursor\\\",value:function(e){var t=this.rows[this.currRow];t.moveCursor(e)}},{key:\\\"setCursor\\\",value:function(e){v.log(\\\"INFO\\\",\\\"setCursor: \\\"+e);var t=this.rows[this.currRow];t.setCursor(e)}},{key:\\\"setPAC\\\",value:function(e,t){v.log(\\\"INFO\\\",\\\"pacData = \\\"+JSON.stringify(e));var r=e.row-1;if(this.nrRollUpRows&&r<this.nrRollUpRows-1&&(r=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==r){for(var i=0;i<o;i++)this.rows[i].clear();var a=this.currRow+1-this.nrRollUpRows,n=t.rows[a].cueStartTime;if(n&&n<v.time)for(i=0;i<this.nrRollUpRows;i++)this.rows[r-this.nrRollUpRows+i+1].copy(t.rows[a+i])}this.currRow=r;var s=this.rows[this.currRow];if(null!==e.indent){var l=e.indent,u=Math.max(l-1,0);s.setCursor(e.indent),e.color=s.chars[u].penState.foreground}var d={foreground:e.color,underline:e.underline,italics:e.italics,background:\\\"black\\\",flash:!1};this.setPen(d)}},{key:\\\"setBkgData\\\",value:function(e){v.log(\\\"INFO\\\",\\\"bkgData = \\\"+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)}},{key:\\\"setRollUpRows\\\",value:function(e){this.nrRollUpRows=e}},{key:\\\"rollUp\\\",value:function(){if(null===this.nrRollUpRows)return void v.log(\\\"DEBUG\\\",\\\"roll_up but nrRollUpRows not set yet\\\");v.log(\\\"TEXT\\\",this.getDisplayText());var e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),v.log(\\\"INFO\\\",\\\"Rolling up\\\")}},{key:\\\"getDisplayText\\\",value:function(e){e=e||!1;for(var t=[],r=\\\"\\\",i=-1,a=0;a<o;a++){var n=this.rows[a].getTextString();n&&(i=a+1,e?t.push(\\\"Row \\\"+i+\\\": '\\\"+n+\\\"'\\\"):t.push(n.trim()))}return t.length>0&&(r=e?\\\"[\\\"+t.join(\\\" | \\\")+\\\"]\\\":t.join(\\\"\\\\n\\\")),r}},{key:\\\"getTextAndFormat\\\",value:function(){return this.rows}}]),e}(),b=function(){function e(t,r){i(this,e),this.chNr=t,this.outputFilter=r,this.mode=null,this.verbose=0,this.displayedMemory=new E,this.nonDisplayedMemory=new E,this.lastOutputScreen=new E,this.currRollUpRow=this.displayedMemory.rows[o-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}return a(e,[{key:\\\"reset\\\",value:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[o-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null}},{key:\\\"getHandler\\\",value:function(){return this.outputFilter}},{key:\\\"setHandler\\\",value:function(e){this.outputFilter=e}},{key:\\\"setPAC\\\",value:function(e){this.writeScreen.setPAC(e,this.lastOutputScreen)}},{key:\\\"setBkgData\\\",value:function(e){this.writeScreen.setBkgData(e)}},{key:\\\"setMode\\\",value:function(e){e!==this.mode&&(this.mode=e,v.log(\\\"INFO\\\",\\\"MODE=\\\"+e),\\\"MODE_POP-ON\\\"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset(),this.lastOutputScreen.reset()),\\\"MODE_ROLL-UP\\\"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)}},{key:\\\"insertChars\\\",value:function(e){for(var t=0;t<e.length;t++)this.writeScreen.insertChar(e[t]);var r=this.writeScreen===this.displayedMemory?\\\"DISP\\\":\\\"NON_DISP\\\";v.log(\\\"INFO\\\",r+\\\": \\\"+this.writeScreen.getDisplayText(!0)),\\\"MODE_PAINT-ON\\\"!==this.mode&&\\\"MODE_ROLL-UP\\\"!==this.mode||(v.log(\\\"TEXT\\\",\\\"DISPLAYED: \\\"+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}},{key:\\\"ccRCL\\\",value:function(){v.log(\\\"INFO\\\",\\\"RCL - Resume Caption Loading\\\"),this.setMode(\\\"MODE_POP-ON\\\")}},{key:\\\"ccBS\\\",value:function(){v.log(\\\"INFO\\\",\\\"BS - BackSpace\\\"),\\\"MODE_TEXT\\\"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}},{key:\\\"ccAOF\\\",value:function(){}},{key:\\\"ccAON\\\",value:function(){}},{key:\\\"ccDER\\\",value:function(){v.log(\\\"INFO\\\",\\\"DER- Delete to End of Row\\\"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}},{key:\\\"ccRU\\\",value:function(e){v.log(\\\"INFO\\\",\\\"RU(\\\"+e+\\\") - Roll Up\\\"),this.writeScreen=this.displayedMemory,this.setMode(\\\"MODE_ROLL-UP\\\"),this.writeScreen.setRollUpRows(e)}},{key:\\\"ccFON\\\",value:function(){v.log(\\\"INFO\\\",\\\"FON - Flash On\\\"),this.writeScreen.setPen({flash:!0})}},{key:\\\"ccRDC\\\",value:function(){v.log(\\\"INFO\\\",\\\"RDC - Resume Direct Captioning\\\"),this.setMode(\\\"MODE_PAINT-ON\\\")}},{key:\\\"ccTR\\\",value:function(){v.log(\\\"INFO\\\",\\\"TR\\\"),this.setMode(\\\"MODE_TEXT\\\")}},{key:\\\"ccRTD\\\",value:function(){v.log(\\\"INFO\\\",\\\"RTD\\\"),this.setMode(\\\"MODE_TEXT\\\")}},{key:\\\"ccEDM\\\",value:function(){v.log(\\\"INFO\\\",\\\"EDM - Erase Displayed Memory\\\"),this.displayedMemory.reset(),this.outputDataUpdate()}},{key:\\\"ccCR\\\",value:function(){v.log(\\\"CR - Carriage Return\\\"),this.writeScreen.rollUp(),this.outputDataUpdate()}},{key:\\\"ccENM\\\",value:function(){v.log(\\\"INFO\\\",\\\"ENM - Erase Non-displayed Memory\\\"),this.nonDisplayedMemory.reset()}},{key:\\\"ccEOC\\\",value:function(){if(v.log(\\\"INFO\\\",\\\"EOC - End Of Caption\\\"),\\\"MODE_POP-ON\\\"===this.mode){var e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,v.log(\\\"TEXT\\\",\\\"DISP: \\\"+this.displayedMemory.getDisplayText())}this.outputDataUpdate()}},{key:\\\"ccTO\\\",value:function(e){v.log(\\\"INFO\\\",\\\"TO(\\\"+e+\\\") - Tab Offset\\\"),this.writeScreen.moveCursor(e)}},{key:\\\"ccMIDROW\\\",value:function(e){var t={flash:!1};if(t.underline=e%2===1,t.italics=e>=46,t.italics)t.foreground=\\\"white\\\";else{var r=Math.floor(e/2)-16,i=[\\\"white\\\",\\\"green\\\",\\\"blue\\\",\\\"cyan\\\",\\\"red\\\",\\\"yellow\\\",\\\"magenta\\\"];t.foreground=i[r]}v.log(\\\"INFO\\\",\\\"MIDROW: \\\"+JSON.stringify(t)),this.writeScreen.setPen(t)}},{key:\\\"outputDataUpdate\\\",value:function(){var e=v.time;null!==e&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(e,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))}},{key:\\\"cueSplitAtTime\\\",value:function(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}}]),e}(),R=function(){function e(t,r,a){i(this,e),this.field=t||1,this.outputs=[r,a],this.channels=[new b(1,r),new b(2,a)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}}return a(e,[{key:\\\"getHandler\\\",value:function(e){return this.channels[e].getHandler()}},{key:\\\"setHandler\\\",value:function(e,t){this.channels[e].setHandler(t)}},{key:\\\"addData\\\",value:function(e,t){var r,i,a,n=!1;this.lastTime=e,v.setTime(e);for(var s=0;s<t.length;s+=2)if(i=127&t[s],a=127&t[s+1],0!==i||0!==a){if(v.log(\\\"DATA\\\",\\\"[\\\"+g([t[s],t[s+1]])+\\\"] -> (\\\"+g([i,a])+\\\")\\\"),r=this.parseCmd(i,a),r||(r=this.parseMidrow(i,a)),r||(r=this.parsePAC(i,a)),r||(r=this.parseBackgroundAttributes(i,a)),!r&&(n=this.parseChars(i,a)))if(this.currChNr&&this.currChNr>=0){var o=this.channels[this.currChNr-1];o.insertChars(n)}else v.log(\\\"WARNING\\\",\\\"No channel found yet. TEXT-MODE?\\\");r?this.dataCounters.cmd+=2:n?this.dataCounters.char+=2:(this.dataCounters.other+=2,v.log(\\\"WARNING\\\",\\\"Couldn't parse cleaned data \\\"+g([i,a])+\\\" orig: \\\"+g([t[s],t[s+1]])))}else this.dataCounters.padding+=2}},{key:\\\"parseCmd\\\",value:function(e,t){var r=null,i=(20===e||28===e)&&32<=t&&t<=47,a=(23===e||31===e)&&33<=t&&t<=35;if(!i&&!a)return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,v.log(\\\"DEBUG\\\",\\\"Repeated command (\\\"+g([e,t])+\\\") is dropped\\\"),!0;r=20===e||23===e?1:2;var n=this.channels[r-1];return 20===e||28===e?32===t?n.ccRCL():33===t?n.ccBS():34===t?n.ccAOF():35===t?n.ccAON():36===t?n.ccDER():37===t?n.ccRU(2):38===t?n.ccRU(3):39===t?n.ccRU(4):40===t?n.ccFON():41===t?n.ccRDC():42===t?n.ccTR():43===t?n.ccRTD():44===t?n.ccEDM():45===t?n.ccCR():46===t?n.ccENM():47===t&&n.ccEOC():n.ccTO(t-32),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=r,!0}},{key:\\\"parseMidrow\\\",value:function(e,t){var r=null;if((17===e||25===e)&&32<=t&&t<=47){if(r=17===e?1:2,r!==this.currChNr)return v.log(\\\"ERROR\\\",\\\"Mismatch channel in midrow parsing\\\"),!1;var i=this.channels[r-1];return i.ccMIDROW(t),v.log(\\\"DEBUG\\\",\\\"MIDROW (\\\"+g([e,t])+\\\")\\\"),!0}return!1}},{key:\\\"parsePAC\\\",value:function(e,t){var r=null,i=null,a=(17<=e&&e<=23||25<=e&&e<=31)&&64<=t&&t<=127,n=(16===e||24===e)&&64<=t&&t<=95;if(!a&&!n)return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,!0;r=e<=23?1:2,i=64<=t&&t<=95?1===r?u[e]:h[e]:1===r?d[e]:f[e];var s=this.interpretPAC(i,t),o=this.channels[r-1];return o.setPAC(s),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=r,!0}},{key:\\\"interpretPAC\\\",value:function(e,t){var r=t,i={color:null,italics:!1,indent:null,underline:!1,row:e};return r=t>95?t-96:t-64,i.underline=1===(1&r),r<=13?i.color=[\\\"white\\\",\\\"green\\\",\\\"blue\\\",\\\"cyan\\\",\\\"red\\\",\\\"yellow\\\",\\\"magenta\\\",\\\"white\\\"][Math.floor(r/2)]:r<=15?(i.italics=!0,i.color=\\\"white\\\"):i.indent=4*Math.floor((r-16)/2),i}},{key:\\\"parseChars\\\",value:function(e,t){var r=null,i=null,a=null;if(e>=25?(r=2,a=e-8):(r=1,a=e),17<=a&&a<=19){var n=t;n=17===a?t+80:18===a?t+112:t+144,v.log(\\\"INFO\\\",\\\"Special char '\\\"+s(n)+\\\"' in channel \\\"+r),i=[n]}else 32<=e&&e<=127&&(i=0===t?[e]:[e,t]);if(i){var o=g(i);v.log(\\\"DEBUG\\\",\\\"Char codes =  \\\"+o.join(\\\",\\\")),this.lastCmdA=null,this.lastCmdB=null}return i}},{key:\\\"parseBackgroundAttributes\\\",value:function(e,t){var r,i,a,n,s=(16===e||24===e)&&32<=t&&t<=47,o=(23===e||31===e)&&45<=t&&t<=47;return!(!s&&!o)&&(r={},16===e||24===e?(i=Math.floor((t-32)/2),r.background=c[i],t%2===1&&(r.background=r.background+\\\"_semi\\\")):45===t?r.background=\\\"transparent\\\":(r.foreground=\\\"black\\\",47===t&&(r.underline=!0)),a=e<24?1:2,n=this.channels[a-1],n.setBkgData(r),this.lastCmdA=null,this.lastCmdB=null,!0)}},{key:\\\"reset\\\",value:function(){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].reset();this.lastCmdA=null,this.lastCmdB=null}},{key:\\\"cueSplitAtTime\\\",value:function(e){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].cueSplitAtTime(e)}}]),e}();r.default=R},{}],43:[function(e,t,r){\\\"use strict\\\";var i={newCue:function(e,t,r,i){for(var a,n,s,o,l,u=window.VTTCue||window.TextTrackCue,d=0;d<i.rows.length;d++)if(a=i.rows[d],s=!0,o=0,l=\\\"\\\",!a.isEmpty()){for(var h=0;h<a.chars.length;h++)a.chars[h].uchar.match(/\\\\s/)&&s?o++:(l+=a.chars[h].uchar,s=!1);a.cueStartTime=t,n=new u(t,r,l.trim()),o>=16?o--:o++,navigator.userAgent.match(/Firefox\\\\//)?n.line=d+1:n.line=d>7?d-2:d+1,n.align=\\\"left\\\",n.position=Math.max(0,Math.min(100,100*(o/32)+(navigator.userAgent.match(/Firefox\\\\//)?50:0))),e.addCue(n)}}};t.exports=i},{}],44:[function(e,t,r){\\\"use strict\\\";function i(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),n=function(){function e(t){i(this,e),this.alpha_=t?Math.exp(Math.log(.5)/t):0,this.estimate_=0,this.totalWeight_=0}return a(e,[{key:\\\"sample\\\",value:function(e,t){var r=Math.pow(this.alpha_,e);this.estimate_=t*(1-r)+r*this.estimate_,this.totalWeight_+=e}},{key:\\\"getTotalWeight\\\",value:function(){return this.totalWeight_}},{key:\\\"getEstimate\\\",value:function(){if(this.alpha_){var e=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/e}return this.estimate_}}]),e}();r.default=n},{}],45:[function(e,t,r){\\\"use strict\\\";function i(){}function a(e,t){return t=\\\"[\\\"+e+\\\"] > \\\"+t}function n(e){var t=self.console[e];return t?function(){for(var r=arguments.length,i=Array(r),n=0;n<r;n++)i[n]=arguments[n];i[0]&&(i[0]=a(e,i[0])),t.apply(self.console,i)}:i}function s(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];r.forEach(function(t){u[t]=e[t]?e[t].bind(e):n(t)})}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var o=\\\"function\\\"==typeof Symbol&&\\\"symbol\\\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\\\"function\\\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\\\"symbol\\\":typeof e},l={trace:i,debug:i,log:i,warn:i,info:i,error:i},u=l;r.enableLogs=function(e){if(e===!0||\\\"object\\\"===(\\\"undefined\\\"==typeof e?\\\"undefined\\\":o(e))){s(e,\\\"debug\\\",\\\"log\\\",\\\"info\\\",\\\"warn\\\",\\\"error\\\");try{u.log()}catch(e){u=l}}else u=l},r.logger=u},{}],46:[function(e,t,r){\\\"use strict\\\";\\\"undefined\\\"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||(ArrayBuffer.prototype.slice=function(e,t){var r=new Uint8Array(this);void 0===t&&(t=r.length);for(var i=new ArrayBuffer(t-e),a=new Uint8Array(i),n=0;n<a.length;n++)a[n]=r[n+e];return i})},{}],47:[function(e,t,r){\\\"use strict\\\";function i(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),n=function(){function e(){i(this,e)}return a(e,null,[{key:\\\"toString\\\",value:function(e){for(var t=\\\"\\\",r=e.length,i=0;i<r;i++)t+=\\\"[\\\"+e.start(i).toFixed(3)+\\\",\\\"+e.end(i).toFixed(3)+\\\"]\\\";return t}}]),e}();r.default=n},{}],48:[function(e,t,r){\\\"use strict\\\";function i(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),n=e(45),s=function(){function e(t){i(this,e),t&&t.xhrSetup&&(this.xhrSetup=t.xhrSetup)}return a(e,[{key:\\\"destroy\\\",value:function(){this.abort(),this.loader=null}},{key:\\\"abort\\\",value:function(){var e=this.loader;e&&4!==e.readyState&&(this.stats.aborted=!0,e.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null}},{key:\\\"load\\\",value:function(e,t,r){this.context=e,this.config=t,this.callbacks=r,this.stats={trequest:performance.now(),retry:0},this.retryDelay=t.retryDelay,this.loadInternal()}},{key:\\\"loadInternal\\\",value:function(){var e,t=this.context;e=\\\"undefined\\\"!=typeof XDomainRequest?this.loader=new XDomainRequest:this.loader=new XMLHttpRequest,e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.open(\\\"GET\\\",t.url,!0),t.rangeEnd&&e.setRequestHeader(\\\"Range\\\",\\\"bytes=\\\"+t.rangeStart+\\\"-\\\"+(t.rangeEnd-1)),e.responseType=t.responseType;var r=this.stats;r.tfirst=0,r.loaded=0,this.xhrSetup&&this.xhrSetup(e,t.url),this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),e.send()}},{key:\\\"readystatechange\\\",value:function(e){var t=e.currentTarget,r=t.readyState,i=this.stats,a=this.context,s=this.config;if(!i.aborted&&(window.clearTimeout(this.requestTimeout),r>=2&&(0===i.tfirst&&(i.tfirst=Math.max(performance.now(),i.trequest),this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),s.timeout-(i.tfirst-i.trequest))),4===r))){var o=t.status;if(o>=200&&o<300){i.tload=Math.max(i.tfirst,performance.now());var l=void 0,u=void 0;\\\"arraybuffer\\\"===a.responseType?(l=t.response,u=l.byteLength):(l=t.responseText,u=l.length),i.loaded=i.total=u;var d={url:t.responseURL,data:l};this.callbacks.onSuccess(d,i,a)}else i.retry>=s.maxRetry||o>=400&&o<499?(n.logger.error(o+\\\" while loading \\\"+a.url),this.callbacks.onError({code:o,text:t.statusText},a)):(n.logger.warn(o+\\\" while loading \\\"+a.url+\\\", retrying in \\\"+this.retryDelay+\\\"...\\\"),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,s.maxRetryDelay),i.retry++)}}},{key:\\\"loadtimeout\\\",value:function(){n.logger.warn(\\\"timeout while loading \\\"+this.context.url),this.callbacks.onTimeout(this.stats,this.context)}},{key:\\\"loadprogress\\\",value:function(e){var t=this.stats;t.loaded=e.loaded,e.lengthComputable&&(t.total=e.total);var r=this.callbacks.onProgress;r&&r(t,this.context,null)}}]),e}();r.default=s},{45:45}]},{},[33])(33)});\\n\"\n\n/***/ },\n\n/***/ 681:\n/***/ function(module, exports, __webpack_require__) {\n\n__webpack_require__(374);\n__webpack_require__(372);\n__webpack_require__(373);\n__webpack_require__(375);\nmodule.exports = __webpack_require__(376);\n\n\n/***/ }\n\n},[681]);\n\n\n// WEBPACK FOOTER //\n// scripts.7c1d2414f0b07c8a2901.bundle.js","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nmodule.exports = function(src) {\r\n\tif (typeof execScript !== \"undefined\")\r\n\t\texecScript(src);\r\n\telse\r\n\t\teval.call(null, src);\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/script-loader/addScript.js\n// module id = 135\n// module chunks = 1","require(\"!!/home/travis/build/videogular/videogular2-showroom/node_modules/script-loader/addScript.js\")(require(\"!!/home/travis/build/videogular/videogular2-showroom/node_modules/raw-loader/index.js!/home/travis/build/videogular/videogular2-showroom/node_modules/aframe-animation-component/dist/aframe-animation-component.min.js\"))\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/aframe-animation-component/dist/aframe-animation-component.min.js\n// module id = 372\n// module chunks = 1","require(\"!!/home/travis/build/videogular/videogular2-showroom/node_modules/script-loader/addScript.js\")(require(\"!!/home/travis/build/videogular/videogular2-showroom/node_modules/raw-loader/index.js!/home/travis/build/videogular/videogular2-showroom/node_modules/aframe-bmfont-text-component/dist/aframe-bmfont-text-component.min.js\"))\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/aframe-bmfont-text-component/dist/aframe-bmfont-text-component.min.js\n// module id = 373\n// module chunks = 1","require(\"!!/home/travis/build/videogular/videogular2-showroom/node_modules/script-loader/addScript.js\")(require(\"!!/home/travis/build/videogular/videogular2-showroom/node_modules/raw-loader/index.js!/home/travis/build/videogular/videogular2-showroom/node_modules/aframe/dist/aframe-v0.4.0.min.js\"))\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/aframe/dist/aframe-v0.4.0.min.js\n// module id = 374\n// module chunks = 1","require(\"!!/home/travis/build/videogular/videogular2-showroom/node_modules/script-loader/addScript.js\")(require(\"!!/home/travis/build/videogular/videogular2-showroom/node_modules/raw-loader/index.js!/home/travis/build/videogular/videogular2-showroom/node_modules/dashjs/dist/dash.all.min.js\"))\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/dashjs/dist/dash.all.min.js\n// module id = 375\n// module chunks = 1","require(\"!!/home/travis/build/videogular/videogular2-showroom/node_modules/script-loader/addScript.js\")(require(\"!!/home/travis/build/videogular/videogular2-showroom/node_modules/raw-loader/index.js!/home/travis/build/videogular/videogular2-showroom/node_modules/hls.js/dist/hls.min.js\"))\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/hls.js/dist/hls.min.js\n// module id = 376\n// module chunks = 1","module.exports = \"!function(t){function n(r){if(e[r])return e[r].exports;var a=e[r]={exports:{},id:r,loaded:!1};return t[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}var e={};return n.m=t,n.c=e,n.p=\\\"\\\",n(0)}([function(t,n,e){function r(t,n,e){var r=n.from||s(t,n.property);return AFRAME.utils.extend({},e,{targets:[{aframeProperty:r}],aframeProperty:n.to,update:function(){c(t,n.property,this.targets[0].aframeProperty)}})}function a(t,n,e){var r=s(t,n.property);n.from&&(r=AFRAME.utils.coordinates.parse(n.from));var a=AFRAME.utils.coordinates.parse(n.to);return AFRAME.utils.extend({},e,{targets:[r],update:function(){c(t,n.property,this.targets[0])}},a)}function i(t,n){var e=n.split(\\\".\\\"),r=e[0],a=e[1],i=t.components[r]||AFRAME.components[r];return i?a?i.schema[a].type:i.schema.type:null}var o=e(1);if(\\\"undefined\\\"==typeof AFRAME)throw new Error(\\\"Component attempted to register before AFRAME was available.\\\");var u=AFRAME.utils,s=u.entity.getComponentProperty,c=u.entity.setComponentProperty;u.styleParser.parse;AFRAME.registerComponent(\\\"animation\\\",{schema:{delay:{\\\"default\\\":0},dir:{\\\"default\\\":\\\"\\\"},dur:{\\\"default\\\":1e3},easing:{\\\"default\\\":\\\"easeInQuad\\\"},elasticity:{\\\"default\\\":400},from:{\\\"default\\\":\\\"\\\"},loop:{\\\"default\\\":!1},property:{\\\"default\\\":\\\"\\\"},repeat:{\\\"default\\\":0},startEvents:{type:\\\"array\\\"},pauseEvents:{type:\\\"array\\\"},to:{\\\"default\\\":\\\"\\\"}},multiple:!0,init:function(){this.animation=null,this.animationIsPlaying=!1,this.config=null,this.playAnimationBound=this.playAnimation.bind(this),this.pauseAnimationBound=this.pauseAnimation.bind(this),this.repeat=0},update:function(){var t=this.attrName,n=this.data,e=this.el,u=i(e,n.property),s=this;if(n.property){this.repeat=n.repeat;var c={autoplay:!1,begin:function(){e.emit(\\\"animationbegin\\\"),e.emit(t+\\\"-begin\\\")},complete:function(){e.emit(\\\"animationcomplete\\\"),e.emit(t+\\\"-complete\\\"),--s.repeat>0&&s.animation.play()},direction:n.dir,duration:n.dur,easing:n.easing,elasticity:n.elasticity,loop:n.loop},f=r;\\\"vec2\\\"!==u&&\\\"vec3\\\"!==u&&\\\"vec4\\\"!==u||(f=a),this.pauseAnimation(),this.config=f(e,n,c),this.animation=o(this.config),this.data.startEvents.length||(this.animationIsPlaying=!0),this.removeEventListeners(),this.addEventListeners()}},remove:function(){this.pauseAnimation(),this.removeEventListeners()},pause:function(){this.pauseAnimation(),this.removeEventListeners()},play:function(){this.animation&&this.animationIsPlaying&&(this.playAnimation(),this.addEventListeners())},addEventListeners:function(){var t=this,n=this.data,e=this.el;n.startEvents.map(function(n){e.addEventListener(n,t.playAnimationBound)}),n.pauseEvents.map(function(n){e.addEventListener(n,t.pauseAnimationBound)})},removeEventListeners:function(){var t=this,n=this.data,e=this.el;n.startEvents.map(function(n){e.removeEventListener(n,t.playAnimationBound)}),n.pauseEvents.map(function(n){e.removeEventListener(n,t.pauseAnimationBound)})},playAnimation:function(){this.animation&&(this.animation.restart(),this.animationIsPlaying=!0)},pauseAnimation:function(){this.animation&&(this.animation.pause(),this.animationIsPlaying=!1)}})},function(t,n,e){var r,a,i;!function(e,o){a=[],r=o,i=\\\"function\\\"==typeof r?r.apply(n,a):r,!(void 0!==i&&(t.exports=i))}(this,function(){var t,n=\\\"1.1.1\\\",e={duration:1e3,delay:0,loop:!1,autoplay:!0,direction:\\\"normal\\\",easing:\\\"easeOutElastic\\\",elasticity:400,round:!1,begin:void 0,update:void 0,complete:void 0},r=[\\\"translateX\\\",\\\"translateY\\\",\\\"translateZ\\\",\\\"rotate\\\",\\\"rotateX\\\",\\\"rotateY\\\",\\\"rotateZ\\\",\\\"scale\\\",\\\"scaleX\\\",\\\"scaleY\\\",\\\"scaleZ\\\",\\\"skewX\\\",\\\"skewY\\\"],a=\\\"transform\\\",i={arr:function(t){return Array.isArray(t)},obj:function(t){return Object.prototype.toString.call(t).indexOf(\\\"Object\\\")>-1},svg:function(t){return t instanceof SVGElement},dom:function(t){return t.nodeType||i.svg(t)},num:function(t){return!isNaN(parseInt(t))},str:function(t){return\\\"string\\\"==typeof t},fnc:function(t){return\\\"function\\\"==typeof t},und:function(t){return\\\"undefined\\\"==typeof t},nul:function(t){return\\\"null\\\"==typeof t},hex:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},rgb:function(t){return/^rgb/.test(t)},hsl:function(t){return/^hsl/.test(t)},col:function(t){return i.hex(t)||i.rgb(t)||i.hsl(t)}},o=function(){var t={},n=[\\\"Quad\\\",\\\"Cubic\\\",\\\"Quart\\\",\\\"Quint\\\",\\\"Expo\\\"],e={Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t,n){if(0===t||1===t)return t;var e=1-Math.min(n,998)/1e3,r=t/1,a=r-1,i=e/(2*Math.PI)*Math.asin(1);return-(Math.pow(2,10*a)*Math.sin((a-i)*(2*Math.PI)/e))},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var n,e=4;t<((n=Math.pow(2,--e))-1)/11;);return 1/Math.pow(4,3-e)-7.5625*Math.pow((3*n-2)/22-t,2)}};return n.forEach(function(t,n){e[t]=function(t){return Math.pow(t,n+2)}}),Object.keys(e).forEach(function(n){var r=e[n];t[\\\"easeIn\\\"+n]=r,t[\\\"easeOut\\\"+n]=function(t,n){return 1-r(1-t,n)},t[\\\"easeInOut\\\"+n]=function(t,n){return t<.5?r(2*t,n)/2:1-r(t*-2+2,n)/2},t[\\\"easeOutIn\\\"+n]=function(t,n){return t<.5?(1-r(1-2*t,n))/2:(r(2*t-1,n)+1)/2}}),t.linear=function(t){return t},t}(),u=function(t){return i.str(t)?t:t+\\\"\\\"},s=function(t){return t.replace(/([a-z])([A-Z])/g,\\\"$1-$2\\\").toLowerCase()},c=function(t){if(i.col(t))return!1;try{var n=document.querySelectorAll(t);return n}catch(e){return!1}},f=function(t,n){return Math.floor(Math.random()*(n-t+1))+t},l=function(t){return t.reduce(function(t,n){return t.concat(i.arr(n)?l(n):n)},[])},p=function(t){return i.arr(t)?t:(i.str(t)&&(t=c(t)||t),t instanceof NodeList||t instanceof HTMLCollection?[].slice.call(t):[t])},m=function(t,n){return t.some(function(t){return t===n})},d=function(t,n){var e={};return t.forEach(function(t){var r=JSON.stringify(n.map(function(n){return t[n]}));e[r]=e[r]||[],e[r].push(t)}),Object.keys(e).map(function(t){return e[t]})},h=function(t){return t.filter(function(t,n,e){return e.indexOf(t)===n})},v=function(t){var n={};for(var e in t)n[e]=t[e];return n},g=function(t,n){for(var e in n)t[e]=i.und(t[e])?n[e]:t[e];return t},y=function(t){var n=/^#?([a-f\\\\d])([a-f\\\\d])([a-f\\\\d])$/i,t=t.replace(n,function(t,n,e,r){return n+n+e+e+r+r}),e=/^#?([a-f\\\\d]{2})([a-f\\\\d]{2})([a-f\\\\d]{2})$/i.exec(t),r=parseInt(e[1],16),a=parseInt(e[2],16),i=parseInt(e[3],16);return\\\"rgb(\\\"+r+\\\",\\\"+a+\\\",\\\"+i+\\\")\\\"},b=function(t){var n,e,r,t=/hsl\\\\((\\\\d+),\\\\s*([\\\\d.]+)%,\\\\s*([\\\\d.]+)%\\\\)/g.exec(t),a=parseInt(t[1])/360,i=parseInt(t[2])/100,o=parseInt(t[3])/100,u=function(t,n,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?t+6*(n-t)*e:e<.5?n:e<2/3?t+(n-t)*(2/3-e)*6:t};if(0==i)n=e=r=o;else{var s=o<.5?o*(1+i):o+i-o*i,c=2*o-s;n=u(c,s,a+1/3),e=u(c,s,a),r=u(c,s,a-1/3)}return\\\"rgb(\\\"+255*n+\\\",\\\"+255*e+\\\",\\\"+255*r+\\\")\\\"},A=function(t){return i.rgb(t)?t:i.hex(t)?y(t):i.hsl(t)?b(t):void 0},E=function(t){return/([\\\\+\\\\-]?[0-9|auto\\\\.]+)(%|px|pt|em|rem|in|cm|mm|ex|pc|vw|vh|deg)?/.exec(t)[2]},M=function(t,n,e){return E(n)?n:t.indexOf(\\\"translate\\\")>-1?E(e)?n+E(e):n+\\\"px\\\":t.indexOf(\\\"rotate\\\")>-1||t.indexOf(\\\"skew\\\")>-1?n+\\\"deg\\\":n},x=function(t,n){if(n in t.style)return getComputedStyle(t).getPropertyValue(s(n))||\\\"0\\\"},w=function(t,n){var e=n.indexOf(\\\"scale\\\")>-1?1:0,r=t.style.transform;if(!r)return e;for(var a=/(\\\\w+)\\\\((.+?)\\\\)/g,i=[],o=[],u=[];i=a.exec(r);)o.push(i[1]),u.push(i[2]);var s=u.filter(function(t,e){return o[e]===n});return s.length?s[0]:e},I=function(t,n){return i.dom(t)&&m(r,n)?\\\"transform\\\":i.dom(t)&&(t.getAttribute(n)||i.svg(t)&&t[n])?\\\"attribute\\\":i.dom(t)&&\\\"transform\\\"!==n&&x(t,n)?\\\"css\\\":i.nul(t[n])||i.und(t[n])?void 0:\\\"object\\\"},P=function(t,n){switch(I(t,n)){case\\\"transform\\\":return w(t,n);case\\\"css\\\":return x(t,n);case\\\"attribute\\\":return t.getAttribute(n)}return t[n]||0},O=function(t,n,e){if(i.col(n))return A(n);if(E(n))return n;var r=E(E(t.to)?t.to:t.from);return!r&&e&&(r=E(e)),r?n+r:n},L=function(t){var n=/-?\\\\d*\\\\.?\\\\d+/g;return{original:t,numbers:u(t).match(n)?u(t).match(n).map(Number):[0],strings:u(t).split(n)}},k=function(t,n,e){return n.reduce(function(n,r,a){var r=r?r:e[a-1];return n+t[a-1]+r})},F=function(t){var t=t?l(i.arr(t)?t.map(p):p(t)):[];return t.map(function(t,n){return{target:t,id:n}})},j=function(t,n){var r=[];for(var a in t)if(!e.hasOwnProperty(a)&&\\\"targets\\\"!==a){var o=i.obj(t[a])?v(t[a]):{value:t[a]};o.name=a,r.push(g(o,n))}return r},C=function(t,n,e,r){var a=p(i.fnc(e)?e(t,r):e);return{from:a.length>1?a[0]:P(t,n),to:a.length>1?a[1]:a[0]}},R=function(t,n,e,r){var a={};if(\\\"transform\\\"===e)a.from=t+\\\"(\\\"+M(t,n.from,n.to)+\\\")\\\",a.to=t+\\\"(\\\"+M(t,n.to)+\\\")\\\";else{var i=\\\"css\\\"===e?x(r,t):void 0;a.from=O(n,n.from,i),a.to=O(n,n.to,i)}return{from:L(a.from),to:L(a.to)}},B=function(t,n){var e=[];return t.forEach(function(r,a){var o=r.target;return n.forEach(function(n){var u=I(o,n.name);if(u){var s=C(o,n.name,n.value,a),c=v(n);c.animatables=r,c.type=u,c.from=R(n.name,s,c.type,o).from,c.to=R(n.name,s,c.type,o).to,c.round=i.col(s.from)||c.round?1:0,c.delay=(i.fnc(c.delay)?c.delay(o,a,t.length):c.delay)/J.speed,c.duration=(i.fnc(c.duration)?c.duration(o,a,t.length):c.duration)/J.speed,e.push(c)}})}),e},N=function(t,n){var e=B(t,n),r=d(e,[\\\"name\\\",\\\"from\\\",\\\"to\\\",\\\"delay\\\",\\\"duration\\\"]);return r.map(function(t){var n=v(t[0]);return n.animatables=t.map(function(t){return t.animatables}),n.totalDuration=n.delay+n.duration,n})},S=function(t,n){t.tweens.forEach(function(e){var r=e.to,a=e.from,i=t.duration-(e.delay+e.duration);e.from=r,e.to=a,n&&(e.delay=i)}),t.reversed=!t.reversed},T=function(t){if(t.length)return Math.max.apply(Math,t.map(function(t){return t.totalDuration}))},$=function(t){var n=[],e=[];return t.tweens.forEach(function(t){\\\"css\\\"!==t.type&&\\\"transform\\\"!==t.type||(n.push(\\\"css\\\"===t.type?s(t.name):\\\"transform\\\"),t.animatables.forEach(function(t){e.push(t.target)}))}),{properties:h(n).join(\\\", \\\"),elements:h(e)}},V=function(t){var n=$(t);n.elements.forEach(function(t){t.style.willChange=n.properties})},X=function(t){var n=$(t);n.elements.forEach(function(t){t.style.removeProperty(\\\"will-change\\\")})},Y=function(t){var n=i.str(t)?c(t)[0]:t;return{path:n,value:n.getTotalLength()}},Q=function(t,n){var e=t.path,r=t.value*n,a=function(a){var i=a||0,o=n>1?t.value+i:r+i;return e.getPointAtLength(o)},i=a(),o=a(-1),u=a(1);switch(t.name){case\\\"translateX\\\":return i.x;case\\\"translateY\\\":return i.y;case\\\"rotate\\\":return 180*Math.atan2(u.y-o.y,u.x-o.x)/Math.PI}},Z=function(t,n){var e=Math.min(Math.max(n-t.delay,0),t.duration),r=e/t.duration,a=t.to.numbers.map(function(n,e){var a=t.from.numbers[e],i=o[t.easing](r,t.elasticity),u=t.path?Q(t,i):a+i*(n-a);return u=t.round?Math.round(u*t.round)/t.round:u});return k(a,t.to.strings,t.from.strings)},q=function(n,e){var r;n.currentTime=e,n.progress=e/n.duration*100;for(var i=0;i<n.tweens.length;i++){var o=n.tweens[i];o.currentValue=Z(o,e);for(var u=o.currentValue,s=0;s<o.animatables.length;s++){var c=o.animatables[s],f=c.id,l=c.target,p=o.name;switch(o.type){case\\\"css\\\":l.style[p]=u;break;case\\\"attribute\\\":l.setAttribute(p,u);break;case\\\"object\\\":l[p]=u;break;case\\\"transform\\\":r||(r={}),r[f]||(r[f]=[]),r[f].push(u)}}}if(r){t||(t=(x(document.body,a)?\\\"\\\":\\\"-webkit-\\\")+a);for(var i in r)n.animatables[i].target.style[t]=r[i].join(\\\" \\\")}n.settings.update&&n.settings.update(n)},D=function(t){var n={};return n.animatables=F(t.targets),n.settings=g(t,e),n.properties=j(t,n.settings),n.tweens=N(n.animatables,n.properties),n.duration=T(n.tweens)||t.duration,n.currentTime=0,n.progress=0,n.ended=!1,n},z=[],G=0,H=function(){var t=function(){G=requestAnimationFrame(n)},n=function(n){if(z.length){for(var e=0;e<z.length;e++)z[e].tick(n);t()}else cancelAnimationFrame(G),G=0};return t}(),J=function(t){var n=D(t),e={};return n.tick=function(t){n.ended=!1,e.start||(e.start=t),e.current=Math.min(Math.max(e.last+t-e.start,0),n.duration),q(n,e.current);var r=n.settings;r.begin&&e.current>=r.delay&&(r.begin(n),r.begin=void 0),e.current>=n.duration&&(r.loop?(e.start=t,\\\"alternate\\\"===r.direction&&S(n,!0),i.num(r.loop)&&r.loop--):(n.ended=!0,n.pause(),r.complete&&r.complete(n)),e.last=0)},n.seek=function(t){q(n,t/100*n.duration)},n.pause=function(){X(n);var t=z.indexOf(n);t>-1&&z.splice(t,1)},n.play=function(t){n.pause(),t&&(n=g(D(g(t,n.settings)),n)),e.start=0,e.last=n.ended?0:n.currentTime;var r=n.settings;\\\"reverse\\\"===r.direction&&S(n),\\\"alternate\\\"!==r.direction||r.loop||(r.loop=1),V(n),z.push(n),G||H()},n.restart=function(){n.reversed&&S(n),n.pause(),n.seek(0),n.play()},n.settings.autoplay&&n.play(),n},K=function(t){for(var n=l(i.arr(t)?t.map(p):p(t)),e=z.length-1;e>=0;e--)for(var r=z[e],a=r.tweens,o=a.length-1;o>=0;o--)for(var u=a[o].animatables,s=u.length-1;s>=0;s--)m(n,u[s].target)&&(u.splice(s,1),u.length||a.splice(o,1),a.length||r.pause())};return J.version=n,J.speed=1,J.list=z,J.remove=K,J.easings=o,J.getValue=P,J.path=Y,J.random=f,J})}]);\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/raw-loader!./~/aframe-animation-component/dist/aframe-animation-component.min.js\n// module id = 641\n// module chunks = 1","module.exports = \"!function(t){function r(n){if(e[n])return e[n].exports;var i=e[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}var e={};return r.m=t,r.c=e,r.p=\\\"\\\",r(0)}([function(t,r,e){function n(t,r){o(t.font,function(e,n){if(e)throw e;var i=new THREE.TextureLoader;i.load(t.image,function(t){r(n,t)})})}if(\\\"undefined\\\"==typeof AFRAME)throw new Error(\\\"Component attempted to register before AFRAME was available.\\\");var i=e(33),o=e(22),a=e(8);e(7),AFRAME.registerComponent(\\\"bmfont-text\\\",{schema:{text:{type:\\\"string\\\"},width:{type:\\\"number\\\",\\\"default\\\":1e3},align:{type:\\\"string\\\",\\\"default\\\":\\\"left\\\"},letterSpacing:{type:\\\"number\\\",\\\"default\\\":0},lineHeight:{type:\\\"number\\\",\\\"default\\\":38},fnt:{type:\\\"string\\\",\\\"default\\\":\\\"https://cdn.rawgit.com/bryik/aframe-bmfont-text-component/aa0655cf90f646e12c40ab4708ea90b4686cfb45/assets/DejaVu-sdf.fnt\\\"},fntImage:{type:\\\"string\\\",\\\"default\\\":\\\"https://cdn.rawgit.com/bryik/aframe-bmfont-text-component/aa0655cf90f646e12c40ab4708ea90b4686cfb45/assets/DejaVu-sdf.png\\\"},mode:{type:\\\"string\\\",\\\"default\\\":\\\"normal\\\"},color:{type:\\\"color\\\",\\\"default\\\":\\\"white\\\"},opacity:{type:\\\"number\\\",\\\"default\\\":\\\"1.0\\\"}},update:function(t){function r(t,r){r.needsUpdate=!0,r.anisotropy=16;var n={font:t,text:o.text,width:o.width,align:o.align,letterSpacing:o.letterSpacing,lineHeight:o.lineHeight,mode:o.mode},u=i(n),f=new THREE.RawShaderMaterial(a({map:r,side:THREE.DoubleSide,transparent:!0,color:o.color,opacity:o.opacity})),s=new THREE.Mesh(u,f);s.rotation.y=Math.PI,s.scale.multiplyScalar(-.005),e.setObject3D(\\\"bmfont-text\\\",s)}var e=this.el,o=this.data;n({font:o.fnt,image:o.fntImage},r)},remove:function(){this.el.removeObject3D(\\\"bmfont-text\\\")}})},function(t,r,e){(function(t,n){/*!\\r\\n\\t * The buffer module from node.js, for the browser.\\r\\n\\t *\\r\\n\\t * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\\r\\n\\t * @license  MIT\\r\\n\\t */\\r\\n\\\"use strict\\\";function i(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&\\\"function\\\"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(r){return!1}}function o(){return t.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(r,e){if(o()<e)throw new RangeError(\\\"Invalid typed array length\\\");return t.TYPED_ARRAY_SUPPORT?(r=new Uint8Array(e),r.__proto__=t.prototype):(null===r&&(r=new t(e)),r.length=e),r}function t(r,e,n){if(!(t.TYPED_ARRAY_SUPPORT||this instanceof t))return new t(r,e,n);if(\\\"number\\\"==typeof r){if(\\\"string\\\"==typeof e)throw new Error(\\\"If encoding is specified then the first argument must be a string\\\");return h(this,r)}return u(this,r,e,n)}function u(t,r,e,n){if(\\\"number\\\"==typeof r)throw new TypeError('\\\"value\\\" argument must not be a number');return\\\"undefined\\\"!=typeof ArrayBuffer&&r instanceof ArrayBuffer?p(t,r,e,n):\\\"string\\\"==typeof r?c(t,r,e):g(t,r)}function f(t){if(\\\"number\\\"!=typeof t)throw new TypeError('\\\"size\\\" argument must be a number');if(t<0)throw new RangeError('\\\"size\\\" argument must not be negative')}function s(t,r,e,n){return f(r),r<=0?a(t,r):void 0!==e?\\\"string\\\"==typeof n?a(t,r).fill(e,n):a(t,r).fill(e):a(t,r)}function h(r,e){if(f(e),r=a(r,e<0?0:0|d(e)),!t.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)r[n]=0;return r}function c(r,e,n){if(\\\"string\\\"==typeof n&&\\\"\\\"!==n||(n=\\\"utf8\\\"),!t.isEncoding(n))throw new TypeError('\\\"encoding\\\" must be a valid string encoding');var i=0|v(e,n);r=a(r,i);var o=r.write(e,n);return o!==i&&(r=r.slice(0,o)),r}function l(t,r){var e=r.length<0?0:0|d(r.length);t=a(t,e);for(var n=0;n<e;n+=1)t[n]=255&r[n];return t}function p(r,e,n,i){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError(\\\"'offset' is out of bounds\\\");if(e.byteLength<n+(i||0))throw new RangeError(\\\"'length' is out of bounds\\\");return e=void 0===n&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,n):new Uint8Array(e,n,i),t.TYPED_ARRAY_SUPPORT?(r=e,r.__proto__=t.prototype):r=l(r,e),r}function g(r,e){if(t.isBuffer(e)){var n=0|d(e.length);return r=a(r,n),0===r.length?r:(e.copy(r,0,0,n),r)}if(e){if(\\\"undefined\\\"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||\\\"length\\\"in e)return\\\"number\\\"!=typeof e.length||Z(e.length)?a(r,0):l(r,e);if(\\\"Buffer\\\"===e.type&&Q(e.data))return l(r,e.data)}throw new TypeError(\\\"First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.\\\")}function d(t){if(t>=o())throw new RangeError(\\\"Attempt to allocate Buffer larger than maximum size: 0x\\\"+o().toString(16)+\\\" bytes\\\");return 0|t}function y(r){return+r!=r&&(r=0),t.alloc(+r)}function v(r,e){if(t.isBuffer(r))return r.length;if(\\\"undefined\\\"!=typeof ArrayBuffer&&\\\"function\\\"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(r)||r instanceof ArrayBuffer))return r.byteLength;\\\"string\\\"!=typeof r&&(r=\\\"\\\"+r);var n=r.length;if(0===n)return 0;for(var i=!1;;)switch(e){case\\\"ascii\\\":case\\\"latin1\\\":case\\\"binary\\\":return n;case\\\"utf8\\\":case\\\"utf-8\\\":case void 0:return z(r).length;case\\\"ucs2\\\":case\\\"ucs-2\\\":case\\\"utf16le\\\":case\\\"utf-16le\\\":return 2*n;case\\\"hex\\\":return n>>>1;case\\\"base64\\\":return J(r).length;default:if(i)return z(r).length;e=(\\\"\\\"+e).toLowerCase(),i=!0}}function w(t,r,e){var n=!1;if((void 0===r||r<0)&&(r=0),r>this.length)return\\\"\\\";if((void 0===e||e>this.length)&&(e=this.length),e<=0)return\\\"\\\";if(e>>>=0,r>>>=0,e<=r)return\\\"\\\";for(t||(t=\\\"utf8\\\");;)switch(t){case\\\"hex\\\":return M(this,r,e);case\\\"utf8\\\":case\\\"utf-8\\\":return U(this,r,e);case\\\"ascii\\\":return I(this,r,e);case\\\"latin1\\\":case\\\"binary\\\":return O(this,r,e);case\\\"base64\\\":return S(this,r,e);case\\\"ucs2\\\":case\\\"ucs-2\\\":case\\\"utf16le\\\":case\\\"utf-16le\\\":return C(this,r,e);default:if(n)throw new TypeError(\\\"Unknown encoding: \\\"+t);t=(t+\\\"\\\").toLowerCase(),n=!0}}function m(t,r,e){var n=t[r];t[r]=t[e],t[e]=n}function b(r,e,n,i,o){if(0===r.length)return-1;if(\\\"string\\\"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:r.length-1),n<0&&(n=r.length+n),n>=r.length){if(o)return-1;n=r.length-1}else if(n<0){if(!o)return-1;n=0}if(\\\"string\\\"==typeof e&&(e=t.from(e,i)),t.isBuffer(e))return 0===e.length?-1:E(r,e,n,i,o);if(\\\"number\\\"==typeof e)return e=255&e,t.TYPED_ARRAY_SUPPORT&&\\\"function\\\"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(r,e,n):Uint8Array.prototype.lastIndexOf.call(r,e,n):E(r,[e],n,i,o);throw new TypeError(\\\"val must be string, number or Buffer\\\")}function E(t,r,e,n,i){function o(t,r){return 1===a?t[r]:t.readUInt16BE(r*a)}var a=1,u=t.length,f=r.length;if(void 0!==n&&(n=String(n).toLowerCase(),\\\"ucs2\\\"===n||\\\"ucs-2\\\"===n||\\\"utf16le\\\"===n||\\\"utf-16le\\\"===n)){if(t.length<2||r.length<2)return-1;a=2,u/=2,f/=2,e/=2}var s;if(i){var h=-1;for(s=e;s<u;s++)if(o(t,s)===o(r,h===-1?0:s-h)){if(h===-1&&(h=s),s-h+1===f)return h*a}else h!==-1&&(s-=s-h),h=-1}else for(e+f>u&&(e=u-f),s=e;s>=0;s--){for(var c=!0,l=0;l<f;l++)if(o(t,s+l)!==o(r,l)){c=!1;break}if(c)return s}return-1}function A(t,r,e,n){e=Number(e)||0;var i=t.length-e;n?(n=Number(n),n>i&&(n=i)):n=i;var o=r.length;if(o%2!==0)throw new TypeError(\\\"Invalid hex string\\\");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var u=parseInt(r.substr(2*a,2),16);if(isNaN(u))return a;t[e+a]=u}return a}function _(t,r,e,n){return W(z(r,t.length-e),t,e,n)}function R(t,r,e,n){return W(G(r),t,e,n)}function x(t,r,e,n){return R(t,r,e,n)}function T(t,r,e,n){return W(J(r),t,e,n)}function B(t,r,e,n){return W(V(r,t.length-e),t,e,n)}function S(t,r,e){return 0===r&&e===t.length?$.fromByteArray(t):$.fromByteArray(t.slice(r,e))}function U(t,r,e){e=Math.min(t.length,e);for(var n=[],i=r;i<e;){var o=t[i],a=null,u=o>239?4:o>223?3:o>191?2:1;if(i+u<=e){var f,s,h,c;switch(u){case 1:o<128&&(a=o);break;case 2:f=t[i+1],128===(192&f)&&(c=(31&o)<<6|63&f,c>127&&(a=c));break;case 3:f=t[i+1],s=t[i+2],128===(192&f)&&128===(192&s)&&(c=(15&o)<<12|(63&f)<<6|63&s,c>2047&&(c<55296||c>57343)&&(a=c));break;case 4:f=t[i+1],s=t[i+2],h=t[i+3],128===(192&f)&&128===(192&s)&&128===(192&h)&&(c=(15&o)<<18|(63&f)<<12|(63&s)<<6|63&h,c>65535&&c<1114112&&(a=c))}}null===a?(a=65533,u=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),i+=u}return P(n)}function P(t){var r=t.length;if(r<=tt)return String.fromCharCode.apply(String,t);for(var e=\\\"\\\",n=0;n<r;)e+=String.fromCharCode.apply(String,t.slice(n,n+=tt));return e}function I(t,r,e){var n=\\\"\\\";e=Math.min(t.length,e);for(var i=r;i<e;++i)n+=String.fromCharCode(127&t[i]);return n}function O(t,r,e){var n=\\\"\\\";e=Math.min(t.length,e);for(var i=r;i<e;++i)n+=String.fromCharCode(t[i]);return n}function M(t,r,e){var n=t.length;(!r||r<0)&&(r=0),(!e||e<0||e>n)&&(e=n);for(var i=\\\"\\\",o=r;o<e;++o)i+=q(t[o]);return i}function C(t,r,e){for(var n=t.slice(r,e),i=\\\"\\\",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function L(t,r,e){if(t%1!==0||t<0)throw new RangeError(\\\"offset is not uint\\\");if(t+r>e)throw new RangeError(\\\"Trying to access beyond buffer length\\\")}function Y(r,e,n,i,o,a){if(!t.isBuffer(r))throw new TypeError('\\\"buffer\\\" argument must be a Buffer instance');if(e>o||e<a)throw new RangeError('\\\"value\\\" argument is out of bounds');if(n+i>r.length)throw new RangeError(\\\"Index out of range\\\")}function k(t,r,e,n){r<0&&(r=65535+r+1);for(var i=0,o=Math.min(t.length-e,2);i<o;++i)t[e+i]=(r&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function D(t,r,e,n){r<0&&(r=4294967295+r+1);for(var i=0,o=Math.min(t.length-e,4);i<o;++i)t[e+i]=r>>>8*(n?i:3-i)&255}function j(t,r,e,n,i,o){if(e+n>t.length)throw new RangeError(\\\"Index out of range\\\");if(e<0)throw new RangeError(\\\"Index out of range\\\")}function H(t,r,e,n,i){return i||j(t,r,e,4,3.4028234663852886e38,-3.4028234663852886e38),K.write(t,r,e,n,23,4),e+4}function N(t,r,e,n,i){return i||j(t,r,e,8,1.7976931348623157e308,-1.7976931348623157e308),K.write(t,r,e,n,52,8),e+8}function F(t){if(t=X(t).replace(rt,\\\"\\\"),t.length<2)return\\\"\\\";for(;t.length%4!==0;)t+=\\\"=\\\";return t}function X(t){return t.trim?t.trim():t.replace(/^\\\\s+|\\\\s+$/g,\\\"\\\")}function q(t){return t<16?\\\"0\\\"+t.toString(16):t.toString(16)}function z(t,r){r=r||1/0;for(var e,n=t.length,i=null,o=[],a=0;a<n;++a){if(e=t.charCodeAt(a),e>55295&&e<57344){if(!i){if(e>56319){(r-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(r-=3)>-1&&o.push(239,191,189);continue}i=e;continue}if(e<56320){(r-=3)>-1&&o.push(239,191,189),i=e;continue}e=(i-55296<<10|e-56320)+65536}else i&&(r-=3)>-1&&o.push(239,191,189);if(i=null,e<128){if((r-=1)<0)break;o.push(e)}else if(e<2048){if((r-=2)<0)break;o.push(e>>6|192,63&e|128)}else if(e<65536){if((r-=3)<0)break;o.push(e>>12|224,e>>6&63|128,63&e|128)}else{if(!(e<1114112))throw new Error(\\\"Invalid code point\\\");if((r-=4)<0)break;o.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}}return o}function G(t){for(var r=[],e=0;e<t.length;++e)r.push(255&t.charCodeAt(e));return r}function V(t,r){for(var e,n,i,o=[],a=0;a<t.length&&!((r-=2)<0);++a)e=t.charCodeAt(a),n=e>>8,i=e%256,o.push(i),o.push(n);return o}function J(t){return $.toByteArray(F(t))}function W(t,r,e,n){for(var i=0;i<n&&!(i+e>=r.length||i>=t.length);++i)r[i+e]=t[i];return i}function Z(t){return t!==t}var $=e(24),K=e(4),Q=e(25);r.Buffer=t,r.SlowBuffer=y,r.INSPECT_MAX_BYTES=50,t.TYPED_ARRAY_SUPPORT=void 0!==n.TYPED_ARRAY_SUPPORT?n.TYPED_ARRAY_SUPPORT:i(),r.kMaxLength=o(),t.poolSize=8192,t._augment=function(r){return r.__proto__=t.prototype,r},t.from=function(t,r,e){return u(null,t,r,e)},t.TYPED_ARRAY_SUPPORT&&(t.prototype.__proto__=Uint8Array.prototype,t.__proto__=Uint8Array,\\\"undefined\\\"!=typeof Symbol&&Symbol.species&&t[Symbol.species]===t&&Object.defineProperty(t,Symbol.species,{value:null,configurable:!0})),t.alloc=function(t,r,e){return s(null,t,r,e)},t.allocUnsafe=function(t){return h(null,t)},t.allocUnsafeSlow=function(t){return h(null,t)},t.isBuffer=function(t){return!(null==t||!t._isBuffer)},t.compare=function(r,e){if(!t.isBuffer(r)||!t.isBuffer(e))throw new TypeError(\\\"Arguments must be Buffers\\\");if(r===e)return 0;for(var n=r.length,i=e.length,o=0,a=Math.min(n,i);o<a;++o)if(r[o]!==e[o]){n=r[o],i=e[o];break}return n<i?-1:i<n?1:0},t.isEncoding=function(t){switch(String(t).toLowerCase()){case\\\"hex\\\":case\\\"utf8\\\":case\\\"utf-8\\\":case\\\"ascii\\\":case\\\"latin1\\\":case\\\"binary\\\":case\\\"base64\\\":case\\\"ucs2\\\":case\\\"ucs-2\\\":case\\\"utf16le\\\":case\\\"utf-16le\\\":return!0;default:return!1}},t.concat=function(r,e){if(!Q(r))throw new TypeError('\\\"list\\\" argument must be an Array of Buffers');if(0===r.length)return t.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<r.length;++n)e+=r[n].length;var i=t.allocUnsafe(e),o=0;for(n=0;n<r.length;++n){var a=r[n];if(!t.isBuffer(a))throw new TypeError('\\\"list\\\" argument must be an Array of Buffers');a.copy(i,o),o+=a.length}return i},t.byteLength=v,t.prototype._isBuffer=!0,t.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError(\\\"Buffer size must be a multiple of 16-bits\\\");for(var r=0;r<t;r+=2)m(this,r,r+1);return this},t.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError(\\\"Buffer size must be a multiple of 32-bits\\\");for(var r=0;r<t;r+=4)m(this,r,r+3),m(this,r+1,r+2);return this},t.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError(\\\"Buffer size must be a multiple of 64-bits\\\");for(var r=0;r<t;r+=8)m(this,r,r+7),m(this,r+1,r+6),m(this,r+2,r+5),m(this,r+3,r+4);return this},t.prototype.toString=function(){var t=0|this.length;return 0===t?\\\"\\\":0===arguments.length?U(this,0,t):w.apply(this,arguments)},t.prototype.equals=function(r){if(!t.isBuffer(r))throw new TypeError(\\\"Argument must be a Buffer\\\");return this===r||0===t.compare(this,r)},t.prototype.inspect=function(){var t=\\\"\\\",e=r.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString(\\\"hex\\\",0,e).match(/.{2}/g).join(\\\" \\\"),this.length>e&&(t+=\\\" ... \\\")),\\\"<Buffer \\\"+t+\\\">\\\"},t.prototype.compare=function(r,e,n,i,o){if(!t.isBuffer(r))throw new TypeError(\\\"Argument must be a Buffer\\\");if(void 0===e&&(e=0),void 0===n&&(n=r?r.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),e<0||n>r.length||i<0||o>this.length)throw new RangeError(\\\"out of range index\\\");if(i>=o&&e>=n)return 0;if(i>=o)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,i>>>=0,o>>>=0,this===r)return 0;for(var a=o-i,u=n-e,f=Math.min(a,u),s=this.slice(i,o),h=r.slice(e,n),c=0;c<f;++c)if(s[c]!==h[c]){a=s[c],u=h[c];break}return a<u?-1:u<a?1:0},t.prototype.includes=function(t,r,e){return this.indexOf(t,r,e)!==-1},t.prototype.indexOf=function(t,r,e){return b(this,t,r,e,!0)},t.prototype.lastIndexOf=function(t,r,e){return b(this,t,r,e,!1)},t.prototype.write=function(t,r,e,n){if(void 0===r)n=\\\"utf8\\\",e=this.length,r=0;else if(void 0===e&&\\\"string\\\"==typeof r)n=r,e=this.length,r=0;else{if(!isFinite(r))throw new Error(\\\"Buffer.write(string, encoding, offset[, length]) is no longer supported\\\");r=0|r,isFinite(e)?(e=0|e,void 0===n&&(n=\\\"utf8\\\")):(n=e,e=void 0)}var i=this.length-r;if((void 0===e||e>i)&&(e=i),t.length>0&&(e<0||r<0)||r>this.length)throw new RangeError(\\\"Attempt to write outside buffer bounds\\\");n||(n=\\\"utf8\\\");for(var o=!1;;)switch(n){case\\\"hex\\\":return A(this,t,r,e);case\\\"utf8\\\":case\\\"utf-8\\\":return _(this,t,r,e);case\\\"ascii\\\":return R(this,t,r,e);case\\\"latin1\\\":case\\\"binary\\\":return x(this,t,r,e);case\\\"base64\\\":return T(this,t,r,e);case\\\"ucs2\\\":case\\\"ucs-2\\\":case\\\"utf16le\\\":case\\\"utf-16le\\\":return B(this,t,r,e);default:if(o)throw new TypeError(\\\"Unknown encoding: \\\"+n);n=(\\\"\\\"+n).toLowerCase(),o=!0}},t.prototype.toJSON=function(){return{type:\\\"Buffer\\\",data:Array.prototype.slice.call(this._arr||this,0)}};var tt=4096;t.prototype.slice=function(r,e){var n=this.length;r=~~r,e=void 0===e?n:~~e,r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),e<r&&(e=r);var i;if(t.TYPED_ARRAY_SUPPORT)i=this.subarray(r,e),i.__proto__=t.prototype;else{var o=e-r;i=new t(o,(void 0));for(var a=0;a<o;++a)i[a]=this[a+r]}return i},t.prototype.readUIntLE=function(t,r,e){t=0|t,r=0|r,e||L(t,r,this.length);for(var n=this[t],i=1,o=0;++o<r&&(i*=256);)n+=this[t+o]*i;return n},t.prototype.readUIntBE=function(t,r,e){t=0|t,r=0|r,e||L(t,r,this.length);for(var n=this[t+--r],i=1;r>0&&(i*=256);)n+=this[t+--r]*i;return n},t.prototype.readUInt8=function(t,r){return r||L(t,1,this.length),this[t]},t.prototype.readUInt16LE=function(t,r){return r||L(t,2,this.length),this[t]|this[t+1]<<8},t.prototype.readUInt16BE=function(t,r){return r||L(t,2,this.length),this[t]<<8|this[t+1]},t.prototype.readUInt32LE=function(t,r){return r||L(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},t.prototype.readUInt32BE=function(t,r){return r||L(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},t.prototype.readIntLE=function(t,r,e){t=0|t,r=0|r,e||L(t,r,this.length);for(var n=this[t],i=1,o=0;++o<r&&(i*=256);)n+=this[t+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*r)),n},t.prototype.readIntBE=function(t,r,e){t=0|t,r=0|r,e||L(t,r,this.length);for(var n=r,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*r)),o},t.prototype.readInt8=function(t,r){return r||L(t,1,this.length),128&this[t]?(255-this[t]+1)*-1:this[t]},t.prototype.readInt16LE=function(t,r){r||L(t,2,this.length);var e=this[t]|this[t+1]<<8;return 32768&e?4294901760|e:e},t.prototype.readInt16BE=function(t,r){r||L(t,2,this.length);var e=this[t+1]|this[t]<<8;return 32768&e?4294901760|e:e},t.prototype.readInt32LE=function(t,r){return r||L(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},t.prototype.readInt32BE=function(t,r){return r||L(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},t.prototype.readFloatLE=function(t,r){return r||L(t,4,this.length),K.read(this,t,!0,23,4)},t.prototype.readFloatBE=function(t,r){return r||L(t,4,this.length),K.read(this,t,!1,23,4)},t.prototype.readDoubleLE=function(t,r){return r||L(t,8,this.length),K.read(this,t,!0,52,8)},t.prototype.readDoubleBE=function(t,r){return r||L(t,8,this.length),K.read(this,t,!1,52,8)},t.prototype.writeUIntLE=function(t,r,e,n){if(t=+t,r=0|r,e=0|e,!n){var i=Math.pow(2,8*e)-1;Y(this,t,r,e,i,0)}var o=1,a=0;for(this[r]=255&t;++a<e&&(o*=256);)this[r+a]=t/o&255;return r+e},t.prototype.writeUIntBE=function(t,r,e,n){if(t=+t,r=0|r,e=0|e,!n){var i=Math.pow(2,8*e)-1;Y(this,t,r,e,i,0)}var o=e-1,a=1;for(this[r+o]=255&t;--o>=0&&(a*=256);)this[r+o]=t/a&255;return r+e},t.prototype.writeUInt8=function(r,e,n){return r=+r,e=0|e,n||Y(this,r,e,1,255,0),t.TYPED_ARRAY_SUPPORT||(r=Math.floor(r)),this[e]=255&r,e+1},t.prototype.writeUInt16LE=function(r,e,n){return r=+r,e=0|e,n||Y(this,r,e,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[e]=255&r,this[e+1]=r>>>8):k(this,r,e,!0),e+2},t.prototype.writeUInt16BE=function(r,e,n){return r=+r,e=0|e,n||Y(this,r,e,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[e]=r>>>8,this[e+1]=255&r):k(this,r,e,!1),e+2},t.prototype.writeUInt32LE=function(r,e,n){return r=+r,e=0|e,n||Y(this,r,e,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[e+3]=r>>>24,this[e+2]=r>>>16,this[e+1]=r>>>8,this[e]=255&r):D(this,r,e,!0),e+4},t.prototype.writeUInt32BE=function(r,e,n){return r=+r,e=0|e,n||Y(this,r,e,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[e]=r>>>24,this[e+1]=r>>>16,this[e+2]=r>>>8,this[e+3]=255&r):D(this,r,e,!1),e+4},t.prototype.writeIntLE=function(t,r,e,n){if(t=+t,r=0|r,!n){var i=Math.pow(2,8*e-1);Y(this,t,r,e,i-1,-i)}var o=0,a=1,u=0;for(this[r]=255&t;++o<e&&(a*=256);)t<0&&0===u&&0!==this[r+o-1]&&(u=1),this[r+o]=(t/a>>0)-u&255;return r+e},t.prototype.writeIntBE=function(t,r,e,n){if(t=+t,r=0|r,!n){var i=Math.pow(2,8*e-1);Y(this,t,r,e,i-1,-i)}var o=e-1,a=1,u=0;for(this[r+o]=255&t;--o>=0&&(a*=256);)t<0&&0===u&&0!==this[r+o+1]&&(u=1),this[r+o]=(t/a>>0)-u&255;return r+e},t.prototype.writeInt8=function(r,e,n){return r=+r,e=0|e,n||Y(this,r,e,1,127,-128),t.TYPED_ARRAY_SUPPORT||(r=Math.floor(r)),r<0&&(r=255+r+1),this[e]=255&r,e+1},t.prototype.writeInt16LE=function(r,e,n){return r=+r,e=0|e,n||Y(this,r,e,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[e]=255&r,this[e+1]=r>>>8):k(this,r,e,!0),e+2},t.prototype.writeInt16BE=function(r,e,n){return r=+r,e=0|e,n||Y(this,r,e,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[e]=r>>>8,this[e+1]=255&r):k(this,r,e,!1),e+2},t.prototype.writeInt32LE=function(r,e,n){return r=+r,e=0|e,n||Y(this,r,e,4,2147483647,-2147483648),t.TYPED_ARRAY_SUPPORT?(this[e]=255&r,this[e+1]=r>>>8,this[e+2]=r>>>16,this[e+3]=r>>>24):D(this,r,e,!0),e+4},t.prototype.writeInt32BE=function(r,e,n){return r=+r,e=0|e,n||Y(this,r,e,4,2147483647,-2147483648),r<0&&(r=4294967295+r+1),t.TYPED_ARRAY_SUPPORT?(this[e]=r>>>24,this[e+1]=r>>>16,this[e+2]=r>>>8,this[e+3]=255&r):D(this,r,e,!1),e+4},t.prototype.writeFloatLE=function(t,r,e){return H(this,t,r,!0,e)},t.prototype.writeFloatBE=function(t,r,e){return H(this,t,r,!1,e)},t.prototype.writeDoubleLE=function(t,r,e){return N(this,t,r,!0,e)},t.prototype.writeDoubleBE=function(t,r,e){return N(this,t,r,!1,e)},t.prototype.copy=function(r,e,n,i){if(n||(n=0),i||0===i||(i=this.length),e>=r.length&&(e=r.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===r.length||0===this.length)return 0;if(e<0)throw new RangeError(\\\"targetStart out of bounds\\\");if(n<0||n>=this.length)throw new RangeError(\\\"sourceStart out of bounds\\\");if(i<0)throw new RangeError(\\\"sourceEnd out of bounds\\\");i>this.length&&(i=this.length),r.length-e<i-n&&(i=r.length-e+n);var o,a=i-n;if(this===r&&n<e&&e<i)for(o=a-1;o>=0;--o)r[o+e]=this[o+n];else if(a<1e3||!t.TYPED_ARRAY_SUPPORT)for(o=0;o<a;++o)r[o+e]=this[o+n];else Uint8Array.prototype.set.call(r,this.subarray(n,n+a),e);return a},t.prototype.fill=function(r,e,n,i){if(\\\"string\\\"==typeof r){if(\\\"string\\\"==typeof e?(i=e,e=0,n=this.length):\\\"string\\\"==typeof n&&(i=n,n=this.length),1===r.length){var o=r.charCodeAt(0);o<256&&(r=o)}if(void 0!==i&&\\\"string\\\"!=typeof i)throw new TypeError(\\\"encoding must be a string\\\");if(\\\"string\\\"==typeof i&&!t.isEncoding(i))throw new TypeError(\\\"Unknown encoding: \\\"+i)}else\\\"number\\\"==typeof r&&(r=255&r);if(e<0||this.length<e||this.length<n)throw new RangeError(\\\"Out of range index\\\");if(n<=e)return this;e>>>=0,n=void 0===n?this.length:n>>>0,r||(r=0);var a;if(\\\"number\\\"==typeof r)for(a=e;a<n;++a)this[a]=r;else{var u=t.isBuffer(r)?r:z(new t(r,i).toString()),f=u.length;for(a=0;a<n-e;++a)this[a+e]=u[a%f]}return this};var rt=/[^+\\\\/0-9A-Za-z-_]/g}).call(r,e(1).Buffer,function(){return this}())},function(t,r){function e(){for(var t={},r=0;r<arguments.length;r++){var e=arguments[r];for(var i in e)n.call(e,i)&&(t[i]=e[i])}return t}t.exports=e;var n=Object.prototype.hasOwnProperty},function(t,r){t.exports=function(t){switch(t){case\\\"int8\\\":return Int8Array;case\\\"int16\\\":return Int16Array;case\\\"int32\\\":return Int32Array;case\\\"uint8\\\":return Uint8Array;case\\\"uint16\\\":return Uint16Array;case\\\"uint32\\\":return Uint32Array;case\\\"float32\\\":return Float32Array;case\\\"float64\\\":return Float64Array;case\\\"array\\\":return Array;case\\\"uint8_clamped\\\":return Uint8ClampedArray}}},function(t,r){r.read=function(t,r,e,n,i){var o,a,u=8*i-n-1,f=(1<<u)-1,s=f>>1,h=-7,c=e?i-1:0,l=e?-1:1,p=t[r+c];for(c+=l,o=p&(1<<-h)-1,p>>=-h,h+=u;h>0;o=256*o+t[r+c],c+=l,h-=8);for(a=o&(1<<-h)-1,o>>=-h,h+=n;h>0;a=256*a+t[r+c],c+=l,h-=8);if(0===o)o=1-s;else{if(o===f)return a?NaN:(p?-1:1)*(1/0);a+=Math.pow(2,n),o-=s}return(p?-1:1)*a*Math.pow(2,o-n)},r.write=function(t,r,e,n,i,o){var a,u,f,s=8*o-i-1,h=(1<<s)-1,c=h>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,g=n?1:-1,d=r<0||0===r&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(u=isNaN(r)?1:0,a=h):(a=Math.floor(Math.log(r)/Math.LN2),r*(f=Math.pow(2,-a))<1&&(a--,f*=2),r+=a+c>=1?l/f:l*Math.pow(2,1-c),r*f>=2&&(a++,f/=2),a+c>=h?(u=0,a=h):a+c>=1?(u=(r*f-1)*Math.pow(2,i),a+=c):(u=r*Math.pow(2,c-1)*Math.pow(2,i),a=0));i>=8;t[e+p]=255&u,p+=g,u/=256,i-=8);for(a=a<<i|u,s+=i;s>0;t[e+p]=255&a,p+=g,a/=256,s-=8);t[e+p-g]|=128*d}},function(t,r){function e(t){var r=n.call(t);return\\\"[object Function]\\\"===r||\\\"function\\\"==typeof t&&\\\"[object RegExp]\\\"!==r||\\\"undefined\\\"!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}t.exports=e;var n=Object.prototype.toString},function(t,r){\\\"use strict\\\";function e(t){if(null===t||void 0===t)throw new TypeError(\\\"Object.assign cannot be called with null or undefined\\\");return Object(t)}function n(){try{if(!Object.assign)return!1;var t=new String(\\\"abc\\\");if(t[5]=\\\"de\\\",\\\"5\\\"===Object.getOwnPropertyNames(t)[0])return!1;for(var r={},e=0;e<10;e++)r[\\\"_\\\"+String.fromCharCode(e)]=e;var n=Object.getOwnPropertyNames(r).map(function(t){return r[t]});if(\\\"0123456789\\\"!==n.join(\\\"\\\"))return!1;var i={};return\\\"abcdefghijklmnopqrst\\\".split(\\\"\\\").forEach(function(t){i[t]=t}),\\\"abcdefghijklmnopqrst\\\"===Object.keys(Object.assign({},i)).join(\\\"\\\")}catch(o){return!1}}var i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;t.exports=n()?Object.assign:function(t,r){for(var n,a,u=e(t),f=1;f<arguments.length;f++){n=Object(arguments[f]);for(var s in n)i.call(n,s)&&(u[s]=n[s]);if(Object.getOwnPropertySymbols){a=Object.getOwnPropertySymbols(n);for(var h=0;h<a.length;h++)o.call(n,a[h])&&(u[a[h]]=n[a[h]])}}return u}},function(t,r){var e=AFRAME.utils.extendDeep,n=AFRAME.primitives.getMeshMixin();AFRAME.registerPrimitive(\\\"a-text\\\",e({},n,{defaultComponents:{\\\"bmfont-text\\\":{}},mappings:{text:\\\"bmfont-text.text\\\",width:\\\"bmfont-text.width\\\",align:\\\"bmfont-text.align\\\",letterSpacing:\\\"bmfont-text.letterSpacing\\\",lineHeight:\\\"bmfont-text.lineHeight\\\",fnt:\\\"bmfont-text.fnt\\\",fntImage:\\\"bmfont-text.fntImage\\\",mode:\\\"bmfont-text.mode\\\",color:\\\"bmfont-text.color\\\",opacity:\\\"bmfont-text.opacity\\\"}}))},function(t,r,e){var n=e(6);t.exports=function(t){t=t||{};var r=\\\"number\\\"==typeof t.opacity?t.opacity:1,e=\\\"number\\\"==typeof t.alphaTest?t.alphaTest:1e-4,i=t.precision||\\\"highp\\\",o=t.color,a=t.map;return delete t.map,delete t.color,delete t.precision,delete t.opacity,n({uniforms:{opacity:{type:\\\"f\\\",value:r},map:{type:\\\"t\\\",value:a||new THREE.Texture},color:{type:\\\"c\\\",value:new THREE.Color(o)}},vertexShader:[\\\"attribute vec2 uv;\\\",\\\"attribute vec4 position;\\\",\\\"uniform mat4 projectionMatrix;\\\",\\\"uniform mat4 modelViewMatrix;\\\",\\\"varying vec2 vUv;\\\",\\\"void main() {\\\",\\\"vUv = uv;\\\",\\\"gl_Position = projectionMatrix * modelViewMatrix * position;\\\",\\\"}\\\"].join(\\\"\\\\n\\\"),fragmentShader:[\\\"#ifdef GL_OES_standard_derivatives\\\",\\\"#extension GL_OES_standard_derivatives : enable\\\",\\\"#endif\\\",\\\"precision \\\"+i+\\\" float;\\\",\\\"uniform float opacity;\\\",\\\"uniform vec3 color;\\\",\\\"uniform sampler2D map;\\\",\\\"varying vec2 vUv;\\\",\\\"float aastep(float value) {\\\",\\\"  #ifdef GL_OES_standard_derivatives\\\",\\\"    float afwidth = length(vec2(dFdx(value), dFdy(value))) * 0.70710678118654757;\\\",\\\"  #else\\\",\\\"    float afwidth = (1.0 / 32.0) * (1.4142135623730951 / (2.0 * gl_FragCoord.w));\\\",\\\"  #endif\\\",\\\"  return smoothstep(0.5 - afwidth, 0.5 + afwidth, value);\\\",\\\"}\\\",\\\"void main() {\\\",\\\"  vec4 texColor = texture2D(map, vUv);\\\",\\\"  float alpha = aastep(texColor.a);\\\",\\\"  gl_FragColor = vec4(color, opacity * alpha);\\\",0===e?\\\"\\\":\\\"  if (gl_FragColor.a < \\\"+e+\\\") discard;\\\",\\\"}\\\"].join(\\\"\\\\n\\\")},t)}},function(t,r){function e(t){return t.BYTES_PER_ELEMENT&&\\\"[object ArrayBuffer]\\\"===n.call(t.buffer)||Array.isArray(t)}var n=Object.prototype.toString;t.exports=e},function(t,r){t.exports=function(t,r){return\\\"number\\\"==typeof t?t:\\\"number\\\"==typeof r?r:0}},function(t,r){\\\"use strict\\\";function e(){for(var t=\\\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\\\",r=0,e=t.length;r<e;++r)u[r]=t[r],f[t.charCodeAt(r)]=r;f[\\\"-\\\".charCodeAt(0)]=62,f[\\\"_\\\".charCodeAt(0)]=63}function n(t){var r,e,n,i,o,a,u=t.length;if(u%4>0)throw new Error(\\\"Invalid string. Length must be a multiple of 4\\\");o=\\\"=\\\"===t[u-2]?2:\\\"=\\\"===t[u-1]?1:0,a=new s(3*u/4-o),n=o>0?u-4:u;var h=0;for(r=0,e=0;r<n;r+=4,e+=3)i=f[t.charCodeAt(r)]<<18|f[t.charCodeAt(r+1)]<<12|f[t.charCodeAt(r+2)]<<6|f[t.charCodeAt(r+3)],a[h++]=i>>16&255,a[h++]=i>>8&255,a[h++]=255&i;return 2===o?(i=f[t.charCodeAt(r)]<<2|f[t.charCodeAt(r+1)]>>4,a[h++]=255&i):1===o&&(i=f[t.charCodeAt(r)]<<10|f[t.charCodeAt(r+1)]<<4|f[t.charCodeAt(r+2)]>>2,a[h++]=i>>8&255,a[h++]=255&i),a}function i(t){return u[t>>18&63]+u[t>>12&63]+u[t>>6&63]+u[63&t]}function o(t,r,e){for(var n,o=[],a=r;a<e;a+=3)n=(t[a]<<16)+(t[a+1]<<8)+t[a+2],o.push(i(n));return o.join(\\\"\\\")}function a(t){for(var r,e=t.length,n=e%3,i=\\\"\\\",a=[],f=16383,s=0,h=e-n;s<h;s+=f)a.push(o(t,s,s+f>h?h:s+f));return 1===n?(r=t[e-1],i+=u[r>>2],i+=u[r<<4&63],i+=\\\"==\\\"):2===n&&(r=(t[e-2]<<8)+t[e-1],i+=u[r>>10],i+=u[r>>4&63],i+=u[r<<2&63],i+=\\\"=\\\"),a.push(i),a.join(\\\"\\\")}r.toByteArray=n,r.fromByteArray=a;var u=[],f=[],s=\\\"undefined\\\"!=typeof Uint8Array?Uint8Array:Array;e()},function(t,r,e){var n=e(13).Buffer;t.exports=function(t,r){if(n.isBuffer(t)&&n.isBuffer(r)){if(\\\"function\\\"==typeof t.equals)return t.equals(r);if(t.length!==r.length)return!1;for(var e=0;e<t.length;e++)if(t[e]!==r[e])return!1;return!0}}},function(t,r,e){(function(t,n){/*!\\r\\n\\t * The buffer module from node.js, for the browser.\\r\\n\\t *\\r\\n\\t * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\\r\\n\\t * @license  MIT\\r\\n\\t */\\r\\n\\\"use strict\\\";function i(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&\\\"function\\\"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(r){return!1}}function o(){return t.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(r,e){if(o()<e)throw new RangeError(\\\"Invalid typed array length\\\");return t.TYPED_ARRAY_SUPPORT?(r=new Uint8Array(e),r.__proto__=t.prototype):(null===r&&(r=new t(e)),r.length=e),r}function t(r,e,n){if(!(t.TYPED_ARRAY_SUPPORT||this instanceof t))return new t(r,e,n);if(\\\"number\\\"==typeof r){if(\\\"string\\\"==typeof e)throw new Error(\\\"If encoding is specified then the first argument must be a string\\\");return h(this,r)}return u(this,r,e,n)}function u(t,r,e,n){if(\\\"number\\\"==typeof r)throw new TypeError('\\\"value\\\" argument must not be a number');return\\\"undefined\\\"!=typeof ArrayBuffer&&r instanceof ArrayBuffer?p(t,r,e,n):\\\"string\\\"==typeof r?c(t,r,e):g(t,r)}function f(t){if(\\\"number\\\"!=typeof t)throw new TypeError('\\\"size\\\" argument must be a number');if(t<0)throw new RangeError('\\\"size\\\" argument must not be negative')}function s(t,r,e,n){return f(r),r<=0?a(t,r):void 0!==e?\\\"string\\\"==typeof n?a(t,r).fill(e,n):a(t,r).fill(e):a(t,r)}function h(r,e){if(f(e),r=a(r,e<0?0:0|d(e)),!t.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)r[n]=0;return r}function c(r,e,n){if(\\\"string\\\"==typeof n&&\\\"\\\"!==n||(n=\\\"utf8\\\"),!t.isEncoding(n))throw new TypeError('\\\"encoding\\\" must be a valid string encoding');var i=0|v(e,n);r=a(r,i);var o=r.write(e,n);return o!==i&&(r=r.slice(0,o)),r}function l(t,r){var e=r.length<0?0:0|d(r.length);t=a(t,e);for(var n=0;n<e;n+=1)t[n]=255&r[n];return t}function p(r,e,n,i){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError(\\\"'offset' is out of bounds\\\");if(e.byteLength<n+(i||0))throw new RangeError(\\\"'length' is out of bounds\\\");return e=void 0===n&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,n):new Uint8Array(e,n,i),t.TYPED_ARRAY_SUPPORT?(r=e,r.__proto__=t.prototype):r=l(r,e),r}function g(r,e){if(t.isBuffer(e)){var n=0|d(e.length);return r=a(r,n),0===r.length?r:(e.copy(r,0,0,n),r)}if(e){if(\\\"undefined\\\"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||\\\"length\\\"in e)return\\\"number\\\"!=typeof e.length||Z(e.length)?a(r,0):l(r,e);if(\\\"Buffer\\\"===e.type&&Q(e.data))return l(r,e.data)}throw new TypeError(\\\"First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.\\\")}function d(t){if(t>=o())throw new RangeError(\\\"Attempt to allocate Buffer larger than maximum size: 0x\\\"+o().toString(16)+\\\" bytes\\\");return 0|t}function y(r){return+r!=r&&(r=0),t.alloc(+r)}function v(r,e){if(t.isBuffer(r))return r.length;if(\\\"undefined\\\"!=typeof ArrayBuffer&&\\\"function\\\"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(r)||r instanceof ArrayBuffer))return r.byteLength;\\\"string\\\"!=typeof r&&(r=\\\"\\\"+r);var n=r.length;if(0===n)return 0;for(var i=!1;;)switch(e){case\\\"ascii\\\":case\\\"latin1\\\":case\\\"binary\\\":return n;case\\\"utf8\\\":case\\\"utf-8\\\":case void 0:return z(r).length;case\\\"ucs2\\\":case\\\"ucs-2\\\":case\\\"utf16le\\\":case\\\"utf-16le\\\":return 2*n;case\\\"hex\\\":return n>>>1;case\\\"base64\\\":return J(r).length;default:if(i)return z(r).length;e=(\\\"\\\"+e).toLowerCase(),i=!0}}function w(t,r,e){var n=!1;if((void 0===r||r<0)&&(r=0),r>this.length)return\\\"\\\";if((void 0===e||e>this.length)&&(e=this.length),e<=0)return\\\"\\\";if(e>>>=0,r>>>=0,e<=r)return\\\"\\\";for(t||(t=\\\"utf8\\\");;)switch(t){case\\\"hex\\\":return M(this,r,e);case\\\"utf8\\\":case\\\"utf-8\\\":return U(this,r,e);case\\\"ascii\\\":return I(this,r,e);case\\\"latin1\\\":case\\\"binary\\\":return O(this,r,e);case\\\"base64\\\":return S(this,r,e);case\\\"ucs2\\\":case\\\"ucs-2\\\":case\\\"utf16le\\\":case\\\"utf-16le\\\":return C(this,r,e);default:if(n)throw new TypeError(\\\"Unknown encoding: \\\"+t);t=(t+\\\"\\\").toLowerCase(),n=!0}}function m(t,r,e){var n=t[r];t[r]=t[e],t[e]=n}function b(r,e,n,i,o){if(0===r.length)return-1;if(\\\"string\\\"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:r.length-1),n<0&&(n=r.length+n),n>=r.length){if(o)return-1;n=r.length-1}else if(n<0){if(!o)return-1;n=0}if(\\\"string\\\"==typeof e&&(e=t.from(e,i)),t.isBuffer(e))return 0===e.length?-1:E(r,e,n,i,o);if(\\\"number\\\"==typeof e)return e=255&e,t.TYPED_ARRAY_SUPPORT&&\\\"function\\\"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(r,e,n):Uint8Array.prototype.lastIndexOf.call(r,e,n):E(r,[e],n,i,o);throw new TypeError(\\\"val must be string, number or Buffer\\\")}function E(t,r,e,n,i){function o(t,r){return 1===a?t[r]:t.readUInt16BE(r*a)}var a=1,u=t.length,f=r.length;if(void 0!==n&&(n=String(n).toLowerCase(),\\\"ucs2\\\"===n||\\\"ucs-2\\\"===n||\\\"utf16le\\\"===n||\\\"utf-16le\\\"===n)){if(t.length<2||r.length<2)return-1;a=2,u/=2,f/=2,e/=2}var s;if(i){var h=-1;for(s=e;s<u;s++)if(o(t,s)===o(r,h===-1?0:s-h)){if(h===-1&&(h=s),s-h+1===f)return h*a}else h!==-1&&(s-=s-h),h=-1}else for(e+f>u&&(e=u-f),s=e;s>=0;s--){for(var c=!0,l=0;l<f;l++)if(o(t,s+l)!==o(r,l)){c=!1;break}if(c)return s}return-1}function A(t,r,e,n){e=Number(e)||0;var i=t.length-e;n?(n=Number(n),n>i&&(n=i)):n=i;var o=r.length;if(o%2!==0)throw new TypeError(\\\"Invalid hex string\\\");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var u=parseInt(r.substr(2*a,2),16);if(isNaN(u))return a;t[e+a]=u}return a}function _(t,r,e,n){return W(z(r,t.length-e),t,e,n)}function R(t,r,e,n){return W(G(r),t,e,n)}function x(t,r,e,n){return R(t,r,e,n)}function T(t,r,e,n){return W(J(r),t,e,n)}function B(t,r,e,n){return W(V(r,t.length-e),t,e,n)}function S(t,r,e){return 0===r&&e===t.length?$.fromByteArray(t):$.fromByteArray(t.slice(r,e))}function U(t,r,e){e=Math.min(t.length,e);for(var n=[],i=r;i<e;){var o=t[i],a=null,u=o>239?4:o>223?3:o>191?2:1;if(i+u<=e){var f,s,h,c;switch(u){case 1:o<128&&(a=o);break;case 2:f=t[i+1],128===(192&f)&&(c=(31&o)<<6|63&f,c>127&&(a=c));break;case 3:f=t[i+1],s=t[i+2],128===(192&f)&&128===(192&s)&&(c=(15&o)<<12|(63&f)<<6|63&s,c>2047&&(c<55296||c>57343)&&(a=c));break;case 4:f=t[i+1],s=t[i+2],h=t[i+3],128===(192&f)&&128===(192&s)&&128===(192&h)&&(c=(15&o)<<18|(63&f)<<12|(63&s)<<6|63&h,c>65535&&c<1114112&&(a=c))}}null===a?(a=65533,u=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),i+=u}return P(n)}function P(t){var r=t.length;if(r<=tt)return String.fromCharCode.apply(String,t);for(var e=\\\"\\\",n=0;n<r;)e+=String.fromCharCode.apply(String,t.slice(n,n+=tt));return e}function I(t,r,e){var n=\\\"\\\";e=Math.min(t.length,e);for(var i=r;i<e;++i)n+=String.fromCharCode(127&t[i]);return n}function O(t,r,e){var n=\\\"\\\";e=Math.min(t.length,e);for(var i=r;i<e;++i)n+=String.fromCharCode(t[i]);return n}function M(t,r,e){var n=t.length;(!r||r<0)&&(r=0),(!e||e<0||e>n)&&(e=n);for(var i=\\\"\\\",o=r;o<e;++o)i+=q(t[o]);return i}function C(t,r,e){for(var n=t.slice(r,e),i=\\\"\\\",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function L(t,r,e){if(t%1!==0||t<0)throw new RangeError(\\\"offset is not uint\\\");if(t+r>e)throw new RangeError(\\\"Trying to access beyond buffer length\\\")}function Y(r,e,n,i,o,a){if(!t.isBuffer(r))throw new TypeError('\\\"buffer\\\" argument must be a Buffer instance');if(e>o||e<a)throw new RangeError('\\\"value\\\" argument is out of bounds');if(n+i>r.length)throw new RangeError(\\\"Index out of range\\\")}function k(t,r,e,n){r<0&&(r=65535+r+1);for(var i=0,o=Math.min(t.length-e,2);i<o;++i)t[e+i]=(r&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function D(t,r,e,n){r<0&&(r=4294967295+r+1);for(var i=0,o=Math.min(t.length-e,4);i<o;++i)t[e+i]=r>>>8*(n?i:3-i)&255}function j(t,r,e,n,i,o){if(e+n>t.length)throw new RangeError(\\\"Index out of range\\\");if(e<0)throw new RangeError(\\\"Index out of range\\\")}function H(t,r,e,n,i){return i||j(t,r,e,4,3.4028234663852886e38,-3.4028234663852886e38),K.write(t,r,e,n,23,4),e+4}function N(t,r,e,n,i){return i||j(t,r,e,8,1.7976931348623157e308,-1.7976931348623157e308),K.write(t,r,e,n,52,8),e+8}function F(t){if(t=X(t).replace(rt,\\\"\\\"),t.length<2)return\\\"\\\";for(;t.length%4!==0;)t+=\\\"=\\\";return t}function X(t){return t.trim?t.trim():t.replace(/^\\\\s+|\\\\s+$/g,\\\"\\\")}function q(t){return t<16?\\\"0\\\"+t.toString(16):t.toString(16)}function z(t,r){r=r||1/0;for(var e,n=t.length,i=null,o=[],a=0;a<n;++a){if(e=t.charCodeAt(a),e>55295&&e<57344){if(!i){if(e>56319){(r-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(r-=3)>-1&&o.push(239,191,189);continue}i=e;continue}if(e<56320){(r-=3)>-1&&o.push(239,191,189),i=e;continue}e=(i-55296<<10|e-56320)+65536}else i&&(r-=3)>-1&&o.push(239,191,189);if(i=null,e<128){if((r-=1)<0)break;o.push(e)}else if(e<2048){if((r-=2)<0)break;o.push(e>>6|192,63&e|128)}else if(e<65536){if((r-=3)<0)break;o.push(e>>12|224,e>>6&63|128,63&e|128)}else{if(!(e<1114112))throw new Error(\\\"Invalid code point\\\");if((r-=4)<0)break;o.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}}return o}function G(t){for(var r=[],e=0;e<t.length;++e)r.push(255&t.charCodeAt(e));return r}function V(t,r){for(var e,n,i,o=[],a=0;a<t.length&&!((r-=2)<0);++a)e=t.charCodeAt(a),n=e>>8,i=e%256,o.push(i),o.push(n);return o}function J(t){return $.toByteArray(F(t))}function W(t,r,e,n){for(var i=0;i<n&&!(i+e>=r.length||i>=t.length);++i)r[i+e]=t[i];return i}function Z(t){return t!==t}var $=e(11),K=e(4),Q=e(14);r.Buffer=t,r.SlowBuffer=y,r.INSPECT_MAX_BYTES=50,t.TYPED_ARRAY_SUPPORT=void 0!==n.TYPED_ARRAY_SUPPORT?n.TYPED_ARRAY_SUPPORT:i(),r.kMaxLength=o(),t.poolSize=8192,t._augment=function(r){return r.__proto__=t.prototype,r},t.from=function(t,r,e){return u(null,t,r,e)},t.TYPED_ARRAY_SUPPORT&&(t.prototype.__proto__=Uint8Array.prototype,t.__proto__=Uint8Array,\\\"undefined\\\"!=typeof Symbol&&Symbol.species&&t[Symbol.species]===t&&Object.defineProperty(t,Symbol.species,{value:null,configurable:!0})),t.alloc=function(t,r,e){return s(null,t,r,e)},t.allocUnsafe=function(t){return h(null,t)},t.allocUnsafeSlow=function(t){return h(null,t)},t.isBuffer=function(t){return!(null==t||!t._isBuffer)},t.compare=function(r,e){if(!t.isBuffer(r)||!t.isBuffer(e))throw new TypeError(\\\"Arguments must be Buffers\\\");if(r===e)return 0;for(var n=r.length,i=e.length,o=0,a=Math.min(n,i);o<a;++o)if(r[o]!==e[o]){n=r[o],i=e[o];break}return n<i?-1:i<n?1:0},t.isEncoding=function(t){switch(String(t).toLowerCase()){case\\\"hex\\\":case\\\"utf8\\\":case\\\"utf-8\\\":case\\\"ascii\\\":case\\\"latin1\\\":case\\\"binary\\\":case\\\"base64\\\":case\\\"ucs2\\\":case\\\"ucs-2\\\":case\\\"utf16le\\\":case\\\"utf-16le\\\":return!0;default:return!1}},t.concat=function(r,e){if(!Q(r))throw new TypeError('\\\"list\\\" argument must be an Array of Buffers');if(0===r.length)return t.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<r.length;++n)e+=r[n].length;var i=t.allocUnsafe(e),o=0;for(n=0;n<r.length;++n){var a=r[n];if(!t.isBuffer(a))throw new TypeError('\\\"list\\\" argument must be an Array of Buffers');a.copy(i,o),o+=a.length}return i},t.byteLength=v,t.prototype._isBuffer=!0,t.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError(\\\"Buffer size must be a multiple of 16-bits\\\");for(var r=0;r<t;r+=2)m(this,r,r+1);return this},t.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError(\\\"Buffer size must be a multiple of 32-bits\\\");for(var r=0;r<t;r+=4)m(this,r,r+3),m(this,r+1,r+2);return this},t.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError(\\\"Buffer size must be a multiple of 64-bits\\\");for(var r=0;r<t;r+=8)m(this,r,r+7),m(this,r+1,r+6),m(this,r+2,r+5),m(this,r+3,r+4);return this},t.prototype.toString=function(){var t=0|this.length;return 0===t?\\\"\\\":0===arguments.length?U(this,0,t):w.apply(this,arguments)},t.prototype.equals=function(r){if(!t.isBuffer(r))throw new TypeError(\\\"Argument must be a Buffer\\\");return this===r||0===t.compare(this,r)},t.prototype.inspect=function(){var t=\\\"\\\",e=r.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString(\\\"hex\\\",0,e).match(/.{2}/g).join(\\\" \\\"),this.length>e&&(t+=\\\" ... \\\")),\\\"<Buffer \\\"+t+\\\">\\\"},t.prototype.compare=function(r,e,n,i,o){if(!t.isBuffer(r))throw new TypeError(\\\"Argument must be a Buffer\\\");if(void 0===e&&(e=0),void 0===n&&(n=r?r.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),e<0||n>r.length||i<0||o>this.length)throw new RangeError(\\\"out of range index\\\");if(i>=o&&e>=n)return 0;if(i>=o)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,i>>>=0,o>>>=0,this===r)return 0;for(var a=o-i,u=n-e,f=Math.min(a,u),s=this.slice(i,o),h=r.slice(e,n),c=0;c<f;++c)if(s[c]!==h[c]){a=s[c],u=h[c];break}return a<u?-1:u<a?1:0},t.prototype.includes=function(t,r,e){return this.indexOf(t,r,e)!==-1},t.prototype.indexOf=function(t,r,e){return b(this,t,r,e,!0)},t.prototype.lastIndexOf=function(t,r,e){return b(this,t,r,e,!1)},t.prototype.write=function(t,r,e,n){if(void 0===r)n=\\\"utf8\\\",e=this.length,r=0;else if(void 0===e&&\\\"string\\\"==typeof r)n=r,e=this.length,r=0;else{if(!isFinite(r))throw new Error(\\\"Buffer.write(string, encoding, offset[, length]) is no longer supported\\\");r=0|r,isFinite(e)?(e=0|e,void 0===n&&(n=\\\"utf8\\\")):(n=e,e=void 0)}var i=this.length-r;if((void 0===e||e>i)&&(e=i),t.length>0&&(e<0||r<0)||r>this.length)throw new RangeError(\\\"Attempt to write outside buffer bounds\\\");n||(n=\\\"utf8\\\");for(var o=!1;;)switch(n){case\\\"hex\\\":return A(this,t,r,e);case\\\"utf8\\\":case\\\"utf-8\\\":return _(this,t,r,e);case\\\"ascii\\\":return R(this,t,r,e);case\\\"latin1\\\":case\\\"binary\\\":return x(this,t,r,e);case\\\"base64\\\":return T(this,t,r,e);case\\\"ucs2\\\":case\\\"ucs-2\\\":case\\\"utf16le\\\":case\\\"utf-16le\\\":return B(this,t,r,e);default:if(o)throw new TypeError(\\\"Unknown encoding: \\\"+n);n=(\\\"\\\"+n).toLowerCase(),o=!0}},t.prototype.toJSON=function(){return{type:\\\"Buffer\\\",data:Array.prototype.slice.call(this._arr||this,0)}};var tt=4096;t.prototype.slice=function(r,e){var n=this.length;r=~~r,e=void 0===e?n:~~e,r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),e<r&&(e=r);var i;if(t.TYPED_ARRAY_SUPPORT)i=this.subarray(r,e),i.__proto__=t.prototype;else{var o=e-r;i=new t(o,(void 0));for(var a=0;a<o;++a)i[a]=this[a+r]}return i},t.prototype.readUIntLE=function(t,r,e){t=0|t,r=0|r,e||L(t,r,this.length);for(var n=this[t],i=1,o=0;++o<r&&(i*=256);)n+=this[t+o]*i;return n},t.prototype.readUIntBE=function(t,r,e){t=0|t,r=0|r,e||L(t,r,this.length);for(var n=this[t+--r],i=1;r>0&&(i*=256);)n+=this[t+--r]*i;return n},t.prototype.readUInt8=function(t,r){return r||L(t,1,this.length),this[t]},t.prototype.readUInt16LE=function(t,r){return r||L(t,2,this.length),this[t]|this[t+1]<<8},t.prototype.readUInt16BE=function(t,r){return r||L(t,2,this.length),this[t]<<8|this[t+1]},t.prototype.readUInt32LE=function(t,r){return r||L(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},t.prototype.readUInt32BE=function(t,r){return r||L(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},t.prototype.readIntLE=function(t,r,e){t=0|t,r=0|r,e||L(t,r,this.length);for(var n=this[t],i=1,o=0;++o<r&&(i*=256);)n+=this[t+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*r)),n},t.prototype.readIntBE=function(t,r,e){t=0|t,r=0|r,e||L(t,r,this.length);for(var n=r,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*r)),o},t.prototype.readInt8=function(t,r){return r||L(t,1,this.length),128&this[t]?(255-this[t]+1)*-1:this[t]},t.prototype.readInt16LE=function(t,r){r||L(t,2,this.length);var e=this[t]|this[t+1]<<8;return 32768&e?4294901760|e:e},t.prototype.readInt16BE=function(t,r){r||L(t,2,this.length);var e=this[t+1]|this[t]<<8;return 32768&e?4294901760|e:e},t.prototype.readInt32LE=function(t,r){return r||L(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},t.prototype.readInt32BE=function(t,r){return r||L(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},t.prototype.readFloatLE=function(t,r){return r||L(t,4,this.length),K.read(this,t,!0,23,4)},t.prototype.readFloatBE=function(t,r){return r||L(t,4,this.length),K.read(this,t,!1,23,4)},t.prototype.readDoubleLE=function(t,r){return r||L(t,8,this.length),K.read(this,t,!0,52,8)},t.prototype.readDoubleBE=function(t,r){return r||L(t,8,this.length),K.read(this,t,!1,52,8)},t.prototype.writeUIntLE=function(t,r,e,n){if(t=+t,r=0|r,e=0|e,!n){var i=Math.pow(2,8*e)-1;Y(this,t,r,e,i,0)}var o=1,a=0;for(this[r]=255&t;++a<e&&(o*=256);)this[r+a]=t/o&255;return r+e},t.prototype.writeUIntBE=function(t,r,e,n){if(t=+t,r=0|r,e=0|e,!n){var i=Math.pow(2,8*e)-1;Y(this,t,r,e,i,0)}var o=e-1,a=1;for(this[r+o]=255&t;--o>=0&&(a*=256);)this[r+o]=t/a&255;return r+e},t.prototype.writeUInt8=function(r,e,n){return r=+r,e=0|e,n||Y(this,r,e,1,255,0),t.TYPED_ARRAY_SUPPORT||(r=Math.floor(r)),this[e]=255&r,e+1},t.prototype.writeUInt16LE=function(r,e,n){return r=+r,e=0|e,n||Y(this,r,e,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[e]=255&r,this[e+1]=r>>>8):k(this,r,e,!0),e+2},t.prototype.writeUInt16BE=function(r,e,n){return r=+r,e=0|e,n||Y(this,r,e,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[e]=r>>>8,this[e+1]=255&r):k(this,r,e,!1),e+2},t.prototype.writeUInt32LE=function(r,e,n){return r=+r,e=0|e,n||Y(this,r,e,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[e+3]=r>>>24,this[e+2]=r>>>16,this[e+1]=r>>>8,this[e]=255&r):D(this,r,e,!0),e+4},t.prototype.writeUInt32BE=function(r,e,n){return r=+r,e=0|e,n||Y(this,r,e,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[e]=r>>>24,this[e+1]=r>>>16,this[e+2]=r>>>8,this[e+3]=255&r):D(this,r,e,!1),e+4},t.prototype.writeIntLE=function(t,r,e,n){if(t=+t,r=0|r,!n){var i=Math.pow(2,8*e-1);Y(this,t,r,e,i-1,-i)}var o=0,a=1,u=0;for(this[r]=255&t;++o<e&&(a*=256);)t<0&&0===u&&0!==this[r+o-1]&&(u=1),this[r+o]=(t/a>>0)-u&255;return r+e},t.prototype.writeIntBE=function(t,r,e,n){if(t=+t,r=0|r,!n){var i=Math.pow(2,8*e-1);Y(this,t,r,e,i-1,-i)}var o=e-1,a=1,u=0;for(this[r+o]=255&t;--o>=0&&(a*=256);)t<0&&0===u&&0!==this[r+o+1]&&(u=1),this[r+o]=(t/a>>0)-u&255;return r+e},t.prototype.writeInt8=function(r,e,n){return r=+r,e=0|e,n||Y(this,r,e,1,127,-128),t.TYPED_ARRAY_SUPPORT||(r=Math.floor(r)),r<0&&(r=255+r+1),this[e]=255&r,e+1},t.prototype.writeInt16LE=function(r,e,n){return r=+r,e=0|e,n||Y(this,r,e,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[e]=255&r,this[e+1]=r>>>8):k(this,r,e,!0),e+2},t.prototype.writeInt16BE=function(r,e,n){return r=+r,e=0|e,n||Y(this,r,e,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[e]=r>>>8,this[e+1]=255&r):k(this,r,e,!1),e+2},t.prototype.writeInt32LE=function(r,e,n){return r=+r,e=0|e,n||Y(this,r,e,4,2147483647,-2147483648),t.TYPED_ARRAY_SUPPORT?(this[e]=255&r,this[e+1]=r>>>8,this[e+2]=r>>>16,this[e+3]=r>>>24):D(this,r,e,!0),e+4},t.prototype.writeInt32BE=function(r,e,n){return r=+r,e=0|e,n||Y(this,r,e,4,2147483647,-2147483648),r<0&&(r=4294967295+r+1),t.TYPED_ARRAY_SUPPORT?(this[e]=r>>>24,this[e+1]=r>>>16,this[e+2]=r>>>8,this[e+3]=255&r):D(this,r,e,!1),e+4},t.prototype.writeFloatLE=function(t,r,e){return H(this,t,r,!0,e)},t.prototype.writeFloatBE=function(t,r,e){return H(this,t,r,!1,e)},t.prototype.writeDoubleLE=function(t,r,e){return N(this,t,r,!0,e)},t.prototype.writeDoubleBE=function(t,r,e){return N(this,t,r,!1,e)},t.prototype.copy=function(r,e,n,i){if(n||(n=0),i||0===i||(i=this.length),e>=r.length&&(e=r.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===r.length||0===this.length)return 0;if(e<0)throw new RangeError(\\\"targetStart out of bounds\\\");if(n<0||n>=this.length)throw new RangeError(\\\"sourceStart out of bounds\\\");if(i<0)throw new RangeError(\\\"sourceEnd out of bounds\\\");i>this.length&&(i=this.length),r.length-e<i-n&&(i=r.length-e+n);var o,a=i-n;if(this===r&&n<e&&e<i)for(o=a-1;o>=0;--o)r[o+e]=this[o+n];else if(a<1e3||!t.TYPED_ARRAY_SUPPORT)for(o=0;o<a;++o)r[o+e]=this[o+n];else Uint8Array.prototype.set.call(r,this.subarray(n,n+a),e);return a},t.prototype.fill=function(r,e,n,i){if(\\\"string\\\"==typeof r){if(\\\"string\\\"==typeof e?(i=e,e=0,n=this.length):\\\"string\\\"==typeof n&&(i=n,n=this.length),1===r.length){var o=r.charCodeAt(0);o<256&&(r=o)}if(void 0!==i&&\\\"string\\\"!=typeof i)throw new TypeError(\\\"encoding must be a string\\\");if(\\\"string\\\"==typeof i&&!t.isEncoding(i))throw new TypeError(\\\"Unknown encoding: \\\"+i)}else\\\"number\\\"==typeof r&&(r=255&r);if(e<0||this.length<e||this.length<n)throw new RangeError(\\\"Out of range index\\\");if(n<=e)return this;e>>>=0,n=void 0===n?this.length:n>>>0,r||(r=0);var a;if(\\\"number\\\"==typeof r)for(a=e;a<n;++a)this[a]=r;else{var u=t.isBuffer(r)?r:z(new t(r,i).toString()),f=u.length;for(a=0;a<n-e;++a)this[a+e]=u[a%f]}return this};var rt=/[^+\\\\/0-9A-Za-z-_]/g}).call(r,e(1).Buffer,function(){return this}())},function(t,r){var e={}.toString;t.exports=Array.isArray||function(t){return\\\"[object Array]\\\"==e.call(t)}},function(t,r,e){function n(t,r,e){if(!t)throw new TypeError(\\\"must specify data as first parameter\\\");if(e=0|+(e||0),Array.isArray(t)&&Array.isArray(t[0])){var n=t[0].length,o=t.length*n;r&&\\\"string\\\"!=typeof r||(r=new(i(r||\\\"float32\\\"))(o+e));var a=r.length-e;if(o!==a)throw new Error(\\\"source length \\\"+o+\\\" (\\\"+n+\\\"x\\\"+t.length+\\\") does not match destination length \\\"+a);for(var u=0,f=e;u<t.length;u++)for(var s=0;s<n;s++)r[f++]=t[u][s]}else if(r&&\\\"string\\\"!=typeof r)r.set(t,e);else{var h=i(r||\\\"float32\\\");0===e?r=new h(t):(r=new h(t.length+e),r.set(t,e))}return r}var i=e(3);t.exports=n},function(t,r,e){function n(t,r,e){if(!u(r))throw new TypeError(\\\"iterator must be a function\\\");arguments.length<3&&(e=this),\\\"[object Array]\\\"===f.call(t)?i(t,r,e):\\\"string\\\"==typeof t?o(t,r,e):a(t,r,e)}function i(t,r,e){for(var n=0,i=t.length;n<i;n++)s.call(t,n)&&r.call(e,t[n],n,t)}function o(t,r,e){for(var n=0,i=t.length;n<i;n++)r.call(e,t.charAt(n),n,t)}function a(t,r,e){for(var n in t)s.call(t,n)&&r.call(e,t[n],n,t)}var u=e(5);t.exports=n;var f=Object.prototype.toString,s=Object.prototype.hasOwnProperty},function(t,r){(function(r){\\\"undefined\\\"!=typeof window?t.exports=window:\\\"undefined\\\"!=typeof r?t.exports=r:\\\"undefined\\\"!=typeof self?t.exports=self:t.exports={}}).call(r,function(){return this}())},function(t,r){t.exports=function(t){if(!t||\\\"string\\\"!=typeof t)throw new Error(\\\"must specify property for indexof search\\\");return new Function(\\\"array\\\",\\\"value\\\",\\\"start\\\",[\\\"start = start || 0\\\",\\\"for (var i=start; i<array.length; i++)\\\",'  if (array[i][\\\"'+t+'\\\"] === value)',\\\"      return i\\\",\\\"return -1\\\"].join(\\\"\\\\n\\\"))}},function(t,r){\\\"function\\\"==typeof Object.create?t.exports=function(t,r){t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,r){t.super_=r;var e=function(){};e.prototype=r.prototype,t.prototype=new e,t.prototype.constructor=t}},function(t,r){t.exports=function(t){return!(null==t||!(t._isBuffer||t.constructor&&\\\"function\\\"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)))}},function(t,r,e){function n(t){this.glyphs=[],this._measure=this.computeMetrics.bind(this),this.update(t)}function i(t){Object.defineProperty(n.prototype,t,{get:o(t),configurable:!0})}function o(t){return new Function([\\\"return function \\\"+t+\\\"() {\\\",\\\"  return this._\\\"+t,\\\"}\\\"].join(\\\"\\\\n\\\"))()}function a(t,r){if(!t.chars||0===t.chars.length)return null;var e=g(t.chars,r);return e>=0?t.chars[e]:null}function u(t){for(var r=0;r<y.length;r++){var e=y[r].charCodeAt(0),n=g(t.chars,e);if(n>=0)return t.chars[n].height}return 0}function f(t){for(var r=0;r<v.length;r++){var e=v[r].charCodeAt(0),n=g(t.chars,e);if(n>=0)return t.chars[n]}return 0}function s(t){for(var r=0;r<w.length;r++){var e=w[r].charCodeAt(0),n=g(t.chars,e);if(n>=0)return t.chars[n].height}return 0}function h(t,r,e){if(!t.kernings||0===t.kernings.length)return 0;for(var n=t.kernings,i=0;i<n.length;i++){var o=n[i];if(o.first===r&&o.second===e)return o.amount}return 0}function c(t){return\\\"center\\\"===t?A:\\\"right\\\"===t?_:E}var l=e(38),p=e(2),g=e(18)(\\\"id\\\"),d=e(10),y=[\\\"x\\\",\\\"e\\\",\\\"a\\\",\\\"o\\\",\\\"n\\\",\\\"s\\\",\\\"r\\\",\\\"c\\\",\\\"u\\\",\\\"m\\\",\\\"v\\\",\\\"w\\\",\\\"z\\\"],v=[\\\"m\\\",\\\"w\\\"],w=[\\\"H\\\",\\\"I\\\",\\\"N\\\",\\\"E\\\",\\\"F\\\",\\\"K\\\",\\\"L\\\",\\\"T\\\",\\\"U\\\",\\\"V\\\",\\\"W\\\",\\\"X\\\",\\\"Y\\\",\\\"Z\\\"],m=\\\"\\\\t\\\".charCodeAt(0),b=\\\" \\\".charCodeAt(0),E=0,A=1,_=2;t.exports=function(t){return new n(t)},n.prototype.update=function(t){if(t=p({measure:this._measure},t),this._opt=t,this._opt.tabSize=d(this._opt.tabSize,4),!t.font)throw new Error(\\\"must provide a valid bitmap font\\\");var r=this.glyphs,e=t.text||\\\"\\\",n=t.font;this._setupSpaceGlyphs(n);var i=l.lines(e,t),o=t.width||0;r.length=0;var a=i.reduce(function(t,r){return Math.max(t,r.width,o)},0),f=0,g=0,y=d(t.lineHeight,n.common.lineHeight),v=n.common.base,w=y-v,m=t.letterSpacing||0,b=y*i.length-w,E=c(this._opt.align);g-=b,this._width=a,this._height=b,this._descender=y-v,this._baseline=v,this._xHeight=u(n),this._capHeight=s(n),this._lineHeight=y,this._ascender=y-w-this._xHeight;var R=this;i.forEach(function(t,i){for(var o,u=t.start,s=t.end,c=t.width,l=u;l<s;l++){var p=e.charCodeAt(l),d=R.getGlyph(n,p);if(d){o&&(f+=h(n,o.id,d.id));var v=f;E===A?v+=(a-c)/2:E===_&&(v+=a-c),r.push({position:[v,g],data:d,index:l,line:i}),f+=d.xadvance+m,o=d}}g+=y,f=0}),this._linesTotal=i.length},n.prototype._setupSpaceGlyphs=function(t){if(this._fallbackSpaceGlyph=null,this._fallbackTabGlyph=null,t.chars&&0!==t.chars.length){var r=a(t,b)||f(t)||t.chars[0],e=this._opt.tabSize*r.xadvance;this._fallbackSpaceGlyph=r,this._fallbackTabGlyph=p(r,{x:0,y:0,xadvance:e,id:m,xoffset:0,yoffset:0,width:0,height:0})}},n.prototype.getGlyph=function(t,r){var e=a(t,r);return e?e:r===m?this._fallbackTabGlyph:r===b?this._fallbackSpaceGlyph:null},n.prototype.computeMetrics=function(t,r,e,n){var i,o,a=this._opt.letterSpacing||0,u=this._opt.font,f=0,s=0,c=0;if(!u.chars||0===u.chars.length)return{start:r,end:r,width:0};e=Math.min(t.length,e);for(var l=r;l<e;l++){var p=t.charCodeAt(l),i=this.getGlyph(u,p);if(i){var g=(i.xoffset,o?h(u,o.id,i.id):0);f+=g;var d=f+i.xadvance+a,y=f+i.width;if(y>=n||d>=n)break;f=d,s=y,o=i}c++}return o&&(s+=o.xoffset),{start:r,end:r+c,width:s}},[\\\"width\\\",\\\"height\\\",\\\"descender\\\",\\\"ascender\\\",\\\"xHeight\\\",\\\"baseline\\\",\\\"capHeight\\\",\\\"lineHeight\\\"].forEach(i)},function(t,r,e){(function(r){function n(t){var r=Object.prototype.toString;return\\\"[object ArrayBuffer]\\\"===r.call(t)}function i(t){if(l)return c(t,{responseType:\\\"arraybuffer\\\"});if(\\\"undefined\\\"==typeof window.XMLHttpRequest)throw new Error(\\\"your browser does not support XHR loading\\\");var r=new window.XMLHttpRequest;return r.overrideMimeType(\\\"text/plain; charset=x-user-defined\\\"),c({xhr:r},t)}var o=e(39),a=function(){},u=e(27),f=e(29),s=e(28),h=e(23),c=e(2),l=function(){return window.XMLHttpRequest&&\\\"withCredentials\\\"in new XMLHttpRequest}();t.exports=function(t,e){e=\\\"function\\\"==typeof e?e:a,\\\"string\\\"==typeof t?t={uri:t}:t||(t={});var c=t.binary;c&&(t=i(t)),o(t,function(i,o,c){if(i)return e(i);if(!/^2/.test(o.statusCode))return e(new Error(\\\"http status code: \\\"+o.statusCode));if(!c)return e(new Error(\\\"no body result\\\"));var l=!1;if(n(c)){var p=new Uint8Array(c);c=new r(p,\\\"binary\\\")}h(c)&&(l=!0,\\\"string\\\"==typeof c&&(c=new r(c,\\\"binary\\\"))),l||(r.isBuffer(c)&&(c=c.toString(t.encoding)),c=c.trim());var g;try{var d=o.headers[\\\"content-type\\\"];g=l?s(c):/json/.test(d)||\\\"{\\\"===c.charAt(0)?JSON.parse(c):/xml/.test(d)||\\\"<\\\"===c.charAt(0)?f(c):u(c)}catch(y){e(new Error(\\\"error parsing font \\\"+y.message)),e=a}e(null,g)})}}).call(r,e(1).Buffer)},function(t,r,e){(function(r){var n=e(12),i=new r([66,77,70,3]);t.exports=function(t){return\\\"string\\\"==typeof t?\\\"BMF\\\"===t.substring(0,3):t.length>4&&n(t.slice(0,4),i)}}).call(r,e(1).Buffer)},function(t,r){\\\"use strict\\\";function e(){for(var t=\\\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\\\",r=0,e=t.length;r<e;++r)u[r]=t[r],f[t.charCodeAt(r)]=r;f[\\\"-\\\".charCodeAt(0)]=62,f[\\\"_\\\".charCodeAt(0)]=63}function n(t){var r,e,n,i,o,a,u=t.length;if(u%4>0)throw new Error(\\\"Invalid string. Length must be a multiple of 4\\\");o=\\\"=\\\"===t[u-2]?2:\\\"=\\\"===t[u-1]?1:0,a=new s(3*u/4-o),n=o>0?u-4:u;var h=0;for(r=0,e=0;r<n;r+=4,e+=3)i=f[t.charCodeAt(r)]<<18|f[t.charCodeAt(r+1)]<<12|f[t.charCodeAt(r+2)]<<6|f[t.charCodeAt(r+3)],a[h++]=i>>16&255,a[h++]=i>>8&255,a[h++]=255&i;return 2===o?(i=f[t.charCodeAt(r)]<<2|f[t.charCodeAt(r+1)]>>4,a[h++]=255&i):1===o&&(i=f[t.charCodeAt(r)]<<10|f[t.charCodeAt(r+1)]<<4|f[t.charCodeAt(r+2)]>>2,a[h++]=i>>8&255,a[h++]=255&i),a}function i(t){return u[t>>18&63]+u[t>>12&63]+u[t>>6&63]+u[63&t]}function o(t,r,e){for(var n,o=[],a=r;a<e;a+=3)n=(t[a]<<16)+(t[a+1]<<8)+t[a+2],o.push(i(n));return o.join(\\\"\\\")}function a(t){for(var r,e=t.length,n=e%3,i=\\\"\\\",a=[],f=16383,s=0,h=e-n;s<h;s+=f)a.push(o(t,s,s+f>h?h:s+f));return 1===n?(r=t[e-1],i+=u[r>>2],i+=u[r<<4&63],i+=\\\"==\\\"):2===n&&(r=(t[e-2]<<8)+t[e-1],i+=u[r>>10],i+=u[r>>4&63],i+=u[r<<2&63],i+=\\\"=\\\"),a.push(i),a.join(\\\"\\\")}r.toByteArray=n,r.fromByteArray=a;var u=[],f=[],s=\\\"undefined\\\"!=typeof Uint8Array?Uint8Array:Array;e()},function(t,r){var e={}.toString;t.exports=Array.isArray||function(t){return\\\"[object Array]\\\"==e.call(t)}},function(t,r){function e(t){var r=!1;return function(){if(!r)return r=!0,t.apply(this,arguments)}}t.exports=e,e.proto=e(function(){Object.defineProperty(Function.prototype,\\\"once\\\",{value:function(){return e(this)},configurable:!0})})},function(t,r){function e(t,r){if(t=t.replace(/\\\\t+/g,\\\" \\\").trim(),!t)return null;var e=t.indexOf(\\\" \\\");if(e===-1)throw new Error(\\\"no named row at line \\\"+r);var i=t.substring(0,e);t=t.substring(e+1),t=t.replace(/letter=[\\\\'\\\\\\\"]\\\\S+[\\\\'\\\\\\\"]/gi,\\\"\\\"),t=t.split(\\\"=\\\"),t=t.map(function(t){return t.trim().match(/(\\\".*?\\\"|[^\\\"\\\\s]+)+(?=\\\\s*|\\\\s*$)/g)});for(var o=[],a=0;a<t.length;a++){var u=t[a];0===a?o.push({key:u[0],data:\\\"\\\"}):a===t.length-1?o[o.length-1].data=n(u[0]):(o[o.length-1].data=n(u[0]),o.push({key:u[1],data:\\\"\\\"}))}var f={key:i,data:{}};return o.forEach(function(t){f.data[t.key]=t.data}),f}function n(t){return t&&0!==t.length?0===t.indexOf('\\\"')||0===t.indexOf(\\\"'\\\")?t.substring(1,t.length-1):t.indexOf(\\\",\\\")!==-1?i(t):parseInt(t,10):\\\"\\\"}function i(t){return t.split(\\\",\\\").map(function(t){return parseInt(t,10)})}t.exports=function(t){if(!t)throw new Error(\\\"no data provided\\\");t=t.toString().trim();var r={pages:[],chars:[],kernings:[]},n=t.split(/\\\\r\\\\n?|\\\\n/g);if(0===n.length)throw new Error(\\\"no data in BMFont file\\\");for(var i=0;i<n.length;i++){var o=e(n[i],i);if(o)if(\\\"page\\\"===o.key){if(\\\"number\\\"!=typeof o.data.id)throw new Error(\\\"malformed file at line \\\"+i+\\\" -- needs page id=N\\\");if(\\\"string\\\"!=typeof o.data.file)throw new Error(\\\"malformed file at line \\\"+i+' -- needs page file=\\\"path\\\"');r.pages[o.data.id]=o.data.file}else\\\"chars\\\"===o.key||\\\"kernings\\\"===o.key||(\\\"char\\\"===o.key?r.chars.push(o.data):\\\"kerning\\\"===o.key?r.kernings.push(o.data):r[o.key]=o.data)}return r}},function(t,r){function e(t,r,e){if(e>r.length-1)return 0;var f=r.readUInt8(e++),s=r.readInt32LE(e);switch(e+=4,f){case 1:t.info=n(r,e);break;case 2:t.common=i(r,e);break;case 3:t.pages=o(r,e,s);break;case 4:t.chars=a(r,e,s);break;case 5:t.kernings=u(r,e,s)}return 5+s}function n(t,r){var e={};e.size=t.readInt16LE(r);var n=t.readUInt8(r+2);return e.smooth=n>>7&1,e.unicode=n>>6&1,e.italic=n>>5&1,e.bold=n>>4&1,n>>3&1&&(e.fixedHeight=1),e.charset=t.readUInt8(r+3)||\\\"\\\",e.stretchH=t.readUInt16LE(r+4),e.aa=t.readUInt8(r+6),e.padding=[t.readInt8(r+7),t.readInt8(r+8),t.readInt8(r+9),t.readInt8(r+10)],e.spacing=[t.readInt8(r+11),t.readInt8(r+12)],e.outline=t.readUInt8(r+13),e.face=s(t,r+14),e}function i(t,r){var e={};e.lineHeight=t.readUInt16LE(r),e.base=t.readUInt16LE(r+2),e.scaleW=t.readUInt16LE(r+4),e.scaleH=t.readUInt16LE(r+6),e.pages=t.readUInt16LE(r+8);t.readUInt8(r+10);return e.packed=0,e.alphaChnl=t.readUInt8(r+11),e.redChnl=t.readUInt8(r+12),e.greenChnl=t.readUInt8(r+13),e.blueChnl=t.readUInt8(r+14),e}function o(t,r,e){for(var n=[],i=f(t,r),o=i.length+1,a=e/o,u=0;u<a;u++)n[u]=t.slice(r,r+i.length).toString(\\\"utf8\\\"),r+=o;return n}function a(t,r,e){for(var n=[],i=e/20,o=0;o<i;o++){var a={},u=20*o;a.id=t.readUInt32LE(r+0+u),a.x=t.readUInt16LE(r+4+u),a.y=t.readUInt16LE(r+6+u),a.width=t.readUInt16LE(r+8+u),a.height=t.readUInt16LE(r+10+u),a.xoffset=t.readInt16LE(r+12+u),a.yoffset=t.readInt16LE(r+14+u),a.xadvance=t.readInt16LE(r+16+u),a.page=t.readUInt8(r+18+u),a.chnl=t.readUInt8(r+19+u),n[o]=a}return n}function u(t,r,e){for(var n=[],i=e/10,o=0;o<i;o++){var a={},u=10*o;a.first=t.readUInt32LE(r+0+u),a.second=t.readUInt32LE(r+4+u),a.amount=t.readInt16LE(r+8+u),n[o]=a}return n}function f(t,r){for(var e=r;e<t.length&&0!==t[e];e++);return t.slice(r,e)}function s(t,r){return f(t,r).toString(\\\"utf8\\\")}var h=[66,77,70];t.exports=function(t){if(t.length<6)throw new Error(\\\"invalid buffer length for BMFont\\\");var r=h.every(function(r,e){return t.readUInt8(e)===r});if(!r)throw new Error(\\\"BMFont missing BMF byte header\\\");var n=3,i=t.readUInt8(n++);if(i>3)throw new Error(\\\"Only supports BMFont Binary v3 (BMFont App v1.10)\\\");for(var o={kernings:[],chars:[]},a=0;a<5;a++)n+=e(o,t,n);return o}},function(t,r,e){function n(t){var r=i(t);\\r\\nreturn r.reduce(function(t,r){var e=o(r.nodeName);return t[e]=r.nodeValue,t},{})}function i(t){for(var r=[],e=0;e<t.attributes.length;e++)r.push(t.attributes[e]);return r}function o(t){return f[t.toLowerCase()]||t}var a=e(30),u=e(40),f={scaleh:\\\"scaleH\\\",scalew:\\\"scaleW\\\",stretchh:\\\"stretchH\\\",lineheight:\\\"lineHeight\\\",alphachnl:\\\"alphaChnl\\\",redchnl:\\\"redChnl\\\",greenchnl:\\\"greenChnl\\\",bluechnl:\\\"blueChnl\\\"};t.exports=function(t){t=t.toString();var r=u(t),e={pages:[],chars:[],kernings:[]};[\\\"info\\\",\\\"common\\\"].forEach(function(t){var i=r.getElementsByTagName(t)[0];i&&(e[t]=a(n(i)))});var i=r.getElementsByTagName(\\\"pages\\\")[0];if(!i)throw new Error(\\\"malformed file -- no <pages> element\\\");for(var o=i.getElementsByTagName(\\\"page\\\"),f=0;f<o.length;f++){var s=o[f],h=parseInt(s.getAttribute(\\\"id\\\"),10),c=s.getAttribute(\\\"file\\\");if(isNaN(h))throw new Error('malformed file -- page \\\"id\\\" attribute is NaN');if(!c)throw new Error('malformed file -- needs page \\\"file\\\" attribute');e.pages[parseInt(h,10)]=c}return[\\\"chars\\\",\\\"kernings\\\"].forEach(function(t){var i=r.getElementsByTagName(t)[0];if(i)for(var o=t.substring(0,t.length-1),u=i.getElementsByTagName(o),f=0;f<u.length;f++){var s=u[f];e[t].push(a(n(s)))}}),e}},function(t,r){function e(t){return t.split(\\\",\\\").map(function(t){return parseInt(t,10)})}var n=\\\"chasrset\\\";t.exports=function(t){n in t&&(t.charset=t[n],delete t[n]);for(var r in t)\\\"face\\\"!==r&&\\\"charset\\\"!==r&&(\\\"padding\\\"===r||\\\"spacing\\\"===r?t[r]=e(t[r]):t[r]=parseInt(t[r],10));return t}},function(t,r,e){var n=e(37),i=e(16),o=function(t){return\\\"[object Array]\\\"===Object.prototype.toString.call(t)};t.exports=function(t){if(!t)return{};var r={};return i(n(t).split(\\\"\\\\n\\\"),function(t){var e=t.indexOf(\\\":\\\"),i=n(t.slice(0,e)).toLowerCase(),a=n(t.slice(e+1));\\\"undefined\\\"==typeof r[i]?r[i]=a:o(r[i])?r[i].push(a):r[i]=[r[i],a]}),r}},function(t,r,e){var n=e(3),i=e(9),o=e(20),a=[0,2,3],u=[2,1,3];t.exports=function(t,r){t&&(i(t)||o(t))||(r=t||{},t=null),r=\\\"number\\\"==typeof r?{count:r}:r||{};for(var e=\\\"string\\\"==typeof r.type?r.type:\\\"uint16\\\",f=\\\"number\\\"==typeof r.count?r.count:1,s=r.start||0,h=r.clockwise!==!1?a:u,c=h[0],l=h[1],p=h[2],g=6*f,d=t||new(n(e))(g),y=0,v=0;y<g;y+=6,v+=4){var w=y+s;d[w+0]=v+0,d[w+1]=v+1,d[w+2]=v+2,d[w+3]=v+c,d[w+4]=v+l,d[w+5]=v+p}return d}},function(t,r,e){function n(t){c.call(this),\\\"string\\\"==typeof t&&(t={text:t}),this._opt=f({},t),t&&this.update(t)}var i=e(21),o=e(19),a=e(32),u=e(36),f=e(6),s=e(35),h=e(34),c=THREE.BufferGeometry;t.exports=function(t){return new n(t)},o(n,c),n.prototype.update=function(t){if(\\\"string\\\"==typeof t&&(t={text:t}),t=f({},this._opt,t),!t.font)throw new TypeError(\\\"must specify a { font } in options\\\");this.layout=i(t);var r=t.flipY!==!1,e=t.font,n=e.common.scaleW,o=e.common.scaleH,h=this.layout.glyphs.filter(function(t){var r=t.data;return r.width*r.height>0});this.visibleGlyphs=h;var c=s.positions(h),l=s.uvs(h,n,o,r),p=a({clockwise:!0,type:\\\"uint16\\\",count:h.length});if(u.index(this,p,1,\\\"uint16\\\"),u.attr(this,\\\"position\\\",c,2),u.attr(this,\\\"uv\\\",l,2),!t.multipage&&\\\"page\\\"in this.attributes)this.removeAttribute(\\\"page\\\");else if(t.multipage){var g=s.pages(h);u.attr(this,\\\"page\\\",g,1)}},n.prototype.computeBoundingSphere=function(){null===this.boundingSphere&&(this.boundingSphere=new THREE.Sphere);var t=this.attributes.position.array,r=this.attributes.position.itemSize;return!t||!r||t.length<2?(this.boundingSphere.radius=0,void this.boundingSphere.center.set(0,0,0)):(h.computeSphere(t,this.boundingSphere),void(isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The \\\"position\\\" attribute is likely to have NaN values.')))},n.prototype.computeBoundingBox=function(){null===this.boundingBox&&(this.boundingBox=new THREE.Box3);var t=this.boundingBox,r=this.attributes.position.array,e=this.attributes.position.itemSize;return!r||!e||r.length<2?void t.makeEmpty():void h.computeBox(r,t)}},function(t,r){function e(t){var r=t.length/n;i.min[0]=t[0],i.min[1]=t[1],i.max[0]=t[0],i.max[1]=t[1];for(var e=0;e<r;e++){var o=t[e*n+0],a=t[e*n+1];i.min[0]=Math.min(o,i.min[0]),i.min[1]=Math.min(a,i.min[1]),i.max[0]=Math.max(o,i.max[0]),i.max[1]=Math.max(a,i.max[1])}}var n=2,i={min:[0,0],max:[0,0]};t.exports.computeBox=function(t,r){e(t),r.min.set(i.min[0],i.min[1],0),r.max.set(i.max[0],i.max[1],0)},t.exports.computeSphere=function(t,r){e(t);var n=i.min[0],o=i.min[1],a=i.max[0],u=i.max[1],f=a-n,s=u-o,h=Math.sqrt(f*f+s*s);r.center.set(n+f/2,o+s/2,0),r.radius=h/2}},function(t,r){t.exports.pages=function e(t){var e=new Float32Array(4*t.length*1),r=0;return t.forEach(function(t){var n=t.data.page||0;e[r++]=n,e[r++]=n,e[r++]=n,e[r++]=n}),e},t.exports.uvs=function n(t,r,e,i){var n=new Float32Array(4*t.length*2),o=0;return t.forEach(function(t){var a=t.data,u=a.x+a.width,f=a.y+a.height,s=a.x/r,h=a.y/e,c=u/r,l=f/e;i&&(h=(e-a.y)/e,l=(e-f)/e),n[o++]=s,n[o++]=h,n[o++]=s,n[o++]=l,n[o++]=c,n[o++]=l,n[o++]=c,n[o++]=h}),n},t.exports.positions=function i(t){var i=new Float32Array(4*t.length*2),r=0;return t.forEach(function(t){var e=t.data,n=t.position[0]+e.xoffset,o=t.position[1]+e.yoffset,a=e.width,u=e.height;i[r++]=n,i[r++]=o,i[r++]=n,i[r++]=o+u,i[r++]=n+a,i[r++]=o+u,i[r++]=n+a,i[r++]=o}),i}},function(t,r,e){function n(t,r,e,n){\\\"number\\\"!=typeof e&&(e=1),\\\"string\\\"!=typeof n&&(n=\\\"uint16\\\");var i=!t.index&&\\\"function\\\"!=typeof t.setIndex,a=i?t.getAttribute(\\\"index\\\"):t.index,u=o(a,r,e,n);u&&(i?t.addAttribute(\\\"index\\\",u):t.index=u)}function i(t,r,e,n,i){if(\\\"number\\\"!=typeof n&&(n=3),\\\"string\\\"!=typeof i&&(i=\\\"float32\\\"),Array.isArray(e)&&Array.isArray(e[0])&&e[0].length!==n)throw new Error(\\\"Nested vertex array has unexpected size; expected \\\"+n+\\\" but found \\\"+e[0].length);var a=t.getAttribute(r),u=o(a,e,n,i);u&&t.addAttribute(r,u)}function o(t,r,e,n){return r=r||[],!t||a(t,r,e)?(r=u(r,n),t=new THREE.BufferAttribute(r,e),t.needsUpdate=!0,t):(u(r,t.array),t.needsUpdate=!0,null)}function a(t,r,e){if(t.itemSize!==e)return!0;if(!t.array)return!0;var n=t.array.length;return Array.isArray(r)&&Array.isArray(r[0])?n!==r.length*e:n!==r.length}var u=e(15);t.exports.attr=i,t.exports.index=n},function(t,r){function e(t){return t.replace(/^\\\\s*|\\\\s*$/g,\\\"\\\")}r=t.exports=e,r.left=function(t){return t.replace(/^\\\\s*/,\\\"\\\")},r.right=function(t){return t.replace(/\\\\s*$/,\\\"\\\")}},function(t,r){function e(t,r,e,n){var i=t.indexOf(r,e);return i===-1||i>n?n:i}function n(t){return s.test(t)}function i(t,r,e,n,i){for(var o=[],a=e,f=e;f<n&&f<r.length;f++){var s=r.charAt(f),h=u.test(s);if(h||f===n-1){var c=h?f:f+1,l=t(r,a,c,i);o.push(l),a=f+1}}return o}function o(t,r,i,o,a,u){var s=[],h=a;for(\\\"nowrap\\\"===u&&(h=Number.MAX_VALUE);i<o&&i<r.length;){for(var c=e(r,f,i,o);i<c&&n(r.charAt(i));)i++;var l=t(r,i,c,h),p=i+(l.end-l.start),g=p+f.length;if(p<c){for(;p>i&&!n(r.charAt(p));)p--;if(p===i)g>i+f.length&&g--,p=g;else for(g=p;p>i&&n(r.charAt(p-f.length));)p--}if(p>=i){var d=t(r,i,p,h);s.push(d)}i=g}return s}function a(t,r,e,n){var i=Math.min(n,e-r);return{start:r,end:r+i}}var u=/\\\\n/,f=\\\"\\\\n\\\",s=/\\\\s/;t.exports=function(r,e){var n=t.exports.lines(r,e);return n.map(function(t){return r.substring(t.start,t.end)}).join(\\\"\\\\n\\\")},t.exports.lines=function(t,r){if(r=r||{},0===r.width&&\\\"nowrap\\\"!==r.mode)return[];t=t||\\\"\\\";var e=\\\"number\\\"==typeof r.width?r.width:Number.MAX_VALUE,n=Math.max(0,r.start||0),u=\\\"number\\\"==typeof r.end?r.end:t.length,f=r.mode,s=r.measure||a;return\\\"pre\\\"===f?i(s,t,n,u,e):o(s,t,n,u,e,f)}},function(t,r,e){\\\"use strict\\\";function n(t,r){for(var e=0;e<t.length;e++)r(t[e])}function i(t){for(var r in t)if(t.hasOwnProperty(r))return!1;return!0}function o(t,r,e){var n=t;return c(r)?(e=r,\\\"string\\\"==typeof t&&(n={uri:t})):n=p(r,{uri:t}),n.callback=e,n}function a(t,r,e){return r=o(t,r,e),u(r)}function u(t){function r(){4===s.readyState&&o()}function e(){var t=void 0;if(s.response?t=s.response:\\\"text\\\"!==s.responseType&&s.responseType||(t=s.responseText||s.responseXML),b)try{t=JSON.parse(t)}catch(r){}return t}function n(t){clearTimeout(g),t instanceof Error||(t=new Error(\\\"\\\"+(t||\\\"Unknown XMLHttpRequest Error\\\"))),t.statusCode=0,u(t,f)}function o(){if(!p){var r;clearTimeout(g),r=t.useXDR&&void 0===s.status?200:1223===s.status?204:s.status;var n=f,i=null;0!==r?(n={body:e(),statusCode:r,method:y,headers:{},url:d,rawRequest:s},s.getAllResponseHeaders&&(n.headers=l(s.getAllResponseHeaders()))):i=new Error(\\\"Internal XMLHttpRequest Error\\\"),u(i,n,n.body)}}var u=t.callback;if(\\\"undefined\\\"==typeof u)throw new Error(\\\"callback argument missing\\\");u=h(u);var f={body:void 0,headers:{},statusCode:0,method:y,url:d,rawRequest:s},s=t.xhr||null;s||(s=t.cors||t.useXDR?new a.XDomainRequest:new a.XMLHttpRequest);var c,p,g,d=s.url=t.uri||t.url,y=s.method=t.method||\\\"GET\\\",v=t.body||t.data||null,w=s.headers=t.headers||{},m=!!t.sync,b=!1;if(\\\"json\\\"in t&&(b=!0,w.accept||w.Accept||(w.Accept=\\\"application/json\\\"),\\\"GET\\\"!==y&&\\\"HEAD\\\"!==y&&(w[\\\"content-type\\\"]||w[\\\"Content-Type\\\"]||(w[\\\"Content-Type\\\"]=\\\"application/json\\\"),v=JSON.stringify(t.json))),s.onreadystatechange=r,s.onload=o,s.onerror=n,s.onprogress=function(){},s.ontimeout=n,s.open(y,d,!m,t.username,t.password),m||(s.withCredentials=!!t.withCredentials),!m&&t.timeout>0&&(g=setTimeout(function(){p=!0,s.abort(\\\"timeout\\\");var t=new Error(\\\"XMLHttpRequest timeout\\\");t.code=\\\"ETIMEDOUT\\\",n(t)},t.timeout)),s.setRequestHeader)for(c in w)w.hasOwnProperty(c)&&s.setRequestHeader(c,w[c]);else if(t.headers&&!i(t.headers))throw new Error(\\\"Headers cannot be set on an XDomainRequest object\\\");return\\\"responseType\\\"in t&&(s.responseType=t.responseType),\\\"beforeSend\\\"in t&&\\\"function\\\"==typeof t.beforeSend&&t.beforeSend(s),s.send(v),s}function f(){}var s=e(17),h=e(26),c=e(5),l=e(31),p=e(2);t.exports=a,a.XMLHttpRequest=s.XMLHttpRequest||f,a.XDomainRequest=\\\"withCredentials\\\"in new a.XMLHttpRequest?a.XMLHttpRequest:s.XDomainRequest,n([\\\"get\\\",\\\"put\\\",\\\"post\\\",\\\"patch\\\",\\\"head\\\",\\\"delete\\\"],function(t){a[\\\"delete\\\"===t?\\\"del\\\":t]=function(r,e,n){return e=o(r,e,n),e.method=t.toUpperCase(),u(e)}})},function(t,r){t.exports=function(){return\\\"undefined\\\"!=typeof window.DOMParser?function(t){var r=new window.DOMParser;return r.parseFromString(t,\\\"application/xml\\\")}:\\\"undefined\\\"!=typeof window.ActiveXObject&&new window.ActiveXObject(\\\"Microsoft.XMLDOM\\\")?function(t){var r=new window.ActiveXObject(\\\"Microsoft.XMLDOM\\\");return r.async=\\\"false\\\",r.loadXML(t),r}:function(t){var r=document.createElement(\\\"div\\\");return r.innerHTML=t,r}}()}]);\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/raw-loader!./~/aframe-bmfont-text-component/dist/aframe-bmfont-text-component.min.js\n// module id = 642\n// module chunks = 1","module.exports = \"(function(f){if(typeof exports===\\\"object\\\"&&typeof module!==\\\"undefined\\\"){module.exports=f()}else if(typeof define===\\\"function\\\"&&define.amd){define([],f)}else{var g;if(typeof window!==\\\"undefined\\\"){g=window}else if(typeof global!==\\\"undefined\\\"){g=global}else if(typeof self!==\\\"undefined\\\"){g=self}else{g=this}g.AFRAME = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\\\"function\\\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\\\"Cannot find module '\\\"+o+\\\"'\\\");throw f.code=\\\"MODULE_NOT_FOUND\\\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\\\"function\\\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){\\n\\\"use strict\\\";module.exports={createLink:function(e,t){var a=document.head||document.getElementsByTagName(\\\"head\\\")[0],n=document.createElement(\\\"link\\\");n.href=e,n.rel=\\\"stylesheet\\\";for(var d in t)if(t.hasOwnProperty(d)){var r=t[d];n.setAttribute(\\\"data-\\\"+d,r)}a.appendChild(n)},createStyle:function(e,t){var a=document.head||document.getElementsByTagName(\\\"head\\\")[0],n=document.createElement(\\\"style\\\");n.type=\\\"text/css\\\";for(var d in t)if(t.hasOwnProperty(d)){var r=t[d];n.setAttribute(\\\"data-\\\"+d,r)}n.sheet?(n.innerHTML=e,n.sheet.cssText=e,a.appendChild(n)):n.styleSheet?(a.appendChild(n),n.styleSheet.cssText=e):(n.appendChild(document.createTextNode(e)),a.appendChild(n))}};\\n},{}],2:[function(_dereq_,module,exports){\\nfunction runTimeout(e){if(cachedSetTimeout===setTimeout)return setTimeout(e,0);try{return cachedSetTimeout(e,0)}catch(r){try{return cachedSetTimeout.call(null,e,0)}catch(r){return cachedSetTimeout.call(this,e,0)}}}function runClearTimeout(e){if(cachedClearTimeout===clearTimeout)return clearTimeout(e);try{return cachedClearTimeout(e)}catch(r){try{return cachedClearTimeout.call(null,e)}catch(r){return cachedClearTimeout.call(this,e)}}}function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=runTimeout(cleanUpNextTick);draining=!0;for(var r=queue.length;r;){for(currentQueue=queue,queue=[];++queueIndex<r;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,r=queue.length}currentQueue=null,draining=!1,runClearTimeout(e)}}function Item(e,r){this.fun=e,this.array=r}function noop(){}var process=module.exports={},cachedSetTimeout,cachedClearTimeout;!function(){try{cachedSetTimeout=setTimeout}catch(e){cachedSetTimeout=function(){throw new Error(\\\"setTimeout is not defined\\\")}}try{cachedClearTimeout=clearTimeout}catch(e){cachedClearTimeout=function(){throw new Error(\\\"clearTimeout is not defined\\\")}}}();var queue=[],draining=!1,currentQueue,queueIndex=-1;process.nextTick=function(e){var r=new Array(arguments.length-1);if(arguments.length>1)for(var u=1;u<arguments.length;u++)r[u-1]=arguments[u];queue.push(new Item(e,r)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title=\\\"browser\\\",process.browser=!0,process.env={},process.argv=[],process.version=\\\"\\\",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(e){throw new Error(\\\"process.binding is not supported\\\")},process.cwd=function(){return\\\"/\\\"},process.chdir=function(e){throw new Error(\\\"process.chdir is not supported\\\")},process.umask=function(){return 0};\\n},{}],3:[function(_dereq_,module,exports){\\nfunction useColors(){return\\\"WebkitAppearance\\\"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\\\\/(\\\\d+)/)&&parseInt(RegExp.$1,10)>=31}function formatArgs(){var o=arguments,e=this.useColors;if(o[0]=(e?\\\"%c\\\":\\\"\\\")+this.namespace+(e?\\\" %c\\\":\\\" \\\")+o[0]+(e?\\\"%c \\\":\\\" \\\")+\\\"+\\\"+exports.humanize(this.diff),!e)return o;var r=\\\"color: \\\"+this.color;o=[o[0],r,\\\"color: inherit\\\"].concat(Array.prototype.slice.call(o,1));var t=0,s=0;return o[0].replace(/%[a-z%]/g,function(o){\\\"%%\\\"!==o&&(t++,\\\"%c\\\"===o&&(s=t))}),o.splice(s,0,r),o}function log(){return\\\"object\\\"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function save(o){try{null==o?exports.storage.removeItem(\\\"debug\\\"):exports.storage.debug=o}catch(o){}}function load(){var o;try{o=exports.storage.debug}catch(o){}return o}function localstorage(){try{return window.localStorage}catch(o){}}exports=module.exports=_dereq_(\\\"./debug\\\"),exports.log=log,exports.formatArgs=formatArgs,exports.save=save,exports.load=load,exports.useColors=useColors,exports.storage=\\\"undefined\\\"!=typeof chrome&&\\\"undefined\\\"!=typeof chrome.storage?chrome.storage.local:localstorage(),exports.colors=[\\\"lightseagreen\\\",\\\"forestgreen\\\",\\\"goldenrod\\\",\\\"dodgerblue\\\",\\\"darkorchid\\\",\\\"crimson\\\"],exports.formatters.j=function(o){return JSON.stringify(o)},exports.enable(load());\\n},{\\\"./debug\\\":4}],4:[function(_dereq_,module,exports){\\nfunction selectColor(){return exports.colors[prevColor++%exports.colors.length]}function debug(e){function r(){}function o(){var e=o,r=+new Date,s=r-(prevTime||r);e.diff=s,e.prev=prevTime,e.curr=r,prevTime=r,null==e.useColors&&(e.useColors=exports.useColors()),null==e.color&&e.useColors&&(e.color=selectColor());var t=Array.prototype.slice.call(arguments);t[0]=exports.coerce(t[0]),\\\"string\\\"!=typeof t[0]&&(t=[\\\"%o\\\"].concat(t));var n=0;t[0]=t[0].replace(/%([a-z%])/g,function(r,o){if(\\\"%%\\\"===r)return r;n++;var s=exports.formatters[o];if(\\\"function\\\"==typeof s){var p=t[n];r=s.call(e,p),t.splice(n,1),n--}return r}),\\\"function\\\"==typeof exports.formatArgs&&(t=exports.formatArgs.apply(e,t));var p=o.log||exports.log||console.log.bind(console);p.apply(e,t)}r.enabled=!1,o.enabled=!0;var s=exports.enabled(e)?o:r;return s.namespace=e,s}function enable(e){exports.save(e);for(var r=(e||\\\"\\\").split(/[\\\\s,]+/),o=r.length,s=0;s<o;s++)r[s]&&(e=r[s].replace(/\\\\*/g,\\\".*?\\\"),\\\"-\\\"===e[0]?exports.skips.push(new RegExp(\\\"^\\\"+e.substr(1)+\\\"$\\\")):exports.names.push(new RegExp(\\\"^\\\"+e+\\\"$\\\")))}function disable(){exports.enable(\\\"\\\")}function enabled(e){var r,o;for(r=0,o=exports.skips.length;r<o;r++)if(exports.skips[r].test(e))return!1;for(r=0,o=exports.names.length;r<o;r++)if(exports.names[r].test(e))return!0;return!1}function coerce(e){return e instanceof Error?e.stack||e.message:e}exports=module.exports=debug,exports.coerce=coerce,exports.disable=disable,exports.enable=enable,exports.enabled=enabled,exports.humanize=_dereq_(\\\"ms\\\"),exports.names=[],exports.skips=[],exports.formatters={};var prevColor=0,prevTime;\\n},{\\\"ms\\\":5}],5:[function(_dereq_,module,exports){\\nfunction parse(e){if(e=\\\"\\\"+e,!(e.length>1e4)){var a=/^((?:\\\\d+)?\\\\.?\\\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(a){var r=parseFloat(a[1]),c=(a[2]||\\\"ms\\\").toLowerCase();switch(c){case\\\"years\\\":case\\\"year\\\":case\\\"yrs\\\":case\\\"yr\\\":case\\\"y\\\":return r*y;case\\\"days\\\":case\\\"day\\\":case\\\"d\\\":return r*d;case\\\"hours\\\":case\\\"hour\\\":case\\\"hrs\\\":case\\\"hr\\\":case\\\"h\\\":return r*h;case\\\"minutes\\\":case\\\"minute\\\":case\\\"mins\\\":case\\\"min\\\":case\\\"m\\\":return r*m;case\\\"seconds\\\":case\\\"second\\\":case\\\"secs\\\":case\\\"sec\\\":case\\\"s\\\":return r*s;case\\\"milliseconds\\\":case\\\"millisecond\\\":case\\\"msecs\\\":case\\\"msec\\\":case\\\"ms\\\":return r}}}}function short(e){return e>=d?Math.round(e/d)+\\\"d\\\":e>=h?Math.round(e/h)+\\\"h\\\":e>=m?Math.round(e/m)+\\\"m\\\":e>=s?Math.round(e/s)+\\\"s\\\":e+\\\"ms\\\"}function long(e){return plural(e,d,\\\"day\\\")||plural(e,h,\\\"hour\\\")||plural(e,m,\\\"minute\\\")||plural(e,s,\\\"second\\\")||e+\\\" ms\\\"}function plural(s,e,a){if(!(s<e))return s<1.5*e?Math.floor(s/e)+\\\" \\\"+a:Math.ceil(s/e)+\\\" \\\"+a+\\\"s\\\"}var s=1e3,m=60*s,h=60*m,d=24*h,y=365.25*d;module.exports=function(s,e){return e=e||{},\\\"string\\\"==typeof s?parse(s):e.long?long(s):short(s)};\\n},{}],6:[function(_dereq_,module,exports){\\n\\\"use strict\\\";function toObject(r){if(null===r||void 0===r)throw new TypeError(\\\"Sources cannot be null or undefined\\\");return Object(r)}function assignKey(r,e,n){var t=e[n];if(void 0!==t&&null!==t){if(hasOwnProperty.call(r,n)&&(void 0===r[n]||null===r[n]))throw new TypeError(\\\"Cannot convert undefined or null to object (\\\"+n+\\\")\\\");hasOwnProperty.call(r,n)&&isObj(t)?r[n]=assign(Object(r[n]),e[n]):r[n]=t}}function assign(r,e){if(r===e)return r;e=Object(e);for(var n in e)hasOwnProperty.call(e,n)&&assignKey(r,e,n);if(Object.getOwnPropertySymbols)for(var t=Object.getOwnPropertySymbols(e),o=0;o<t.length;o++)propIsEnumerable.call(e,t[o])&&assignKey(r,e,t[o]);return r}var isObj=_dereq_(\\\"is-obj\\\"),hasOwnProperty=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;module.exports=function(r){r=toObject(r);for(var e=1;e<arguments.length;e++)assign(r,arguments[e]);return r};\\n},{\\\"is-obj\\\":7}],7:[function(_dereq_,module,exports){\\n\\\"use strict\\\";module.exports=function(t){var e=typeof t;return null!==t&&(\\\"object\\\"===e||\\\"function\\\"===e)};\\n},{}],8:[function(_dereq_,module,exports){\\n!function(t,r,n,a){\\\"use strict\\\";function l(e,t){for(var r=0,n=e.length;r<n;r++)m(e[r],t)}function i(e){for(var t,r=0,n=e.length;r<n;r++)t=e[r],y(t,H[u(t)])}function o(e){return function(t){ae(t)&&(m(t,e),l(t.querySelectorAll(x),e))}}function u(e){var t=oe.call(e,\\\"is\\\"),r=e.nodeName.toUpperCase(),n=G.call(U,t?k+t.toUpperCase():_+r);return t&&-1<n&&!c(r,t)?-1:n}function c(e,t){return-1<x.indexOf(e+'[is=\\\"'+t+'\\\"]')}function s(e){var t=e.currentTarget,r=e.attrChange,n=e.attrName,a=e.target;me&&(!a||a===t)&&t.attributeChangedCallback&&\\\"style\\\"!==n&&e.prevValue!==e.newValue&&t.attributeChangedCallback(n,r===e[F]?null:e.prevValue,r===e[I]?null:e.newValue)}function d(e){var t=o(e);return function(e){g.push(t,e.target)}}function f(e){be&&(be=!1,e.currentTarget.removeEventListener(P,f)),l((e.target||r).querySelectorAll(x),e.detail===T?T:L),ne&&p()}function h(e,t){var r=this;ue.call(r,e,t),C.call(r,{target:r})}function v(e,t){ee(e,t),O?O.observe(e,de):(pe&&(e.setAttribute=h,e[w]=E(e),e.addEventListener(R,C)),e.addEventListener(D,s)),e.createdCallback&&me&&(e.created=!0,e.createdCallback(),e.created=!1)}function p(){for(var e,t=0,r=le.length;t<r;t++)e=le[t],Z.contains(e)||(r--,le.splice(t--,1),m(e,T))}function b(e){throw new Error(\\\"A \\\"+e+\\\" type is already registered\\\")}function m(e,t){var r,n=u(e);-1<n&&(N(e,H[n]),n=0,t!==L||e[L]?t===T&&!e[T]&&(e[L]=!1,e[T]=!0,n=1):(e[T]=!1,e[L]=!0,n=1,ne&&G.call(le,e)<0&&le.push(e)),n&&(r=e[t+\\\"Callback\\\"])&&r.call(e))}if(!(a in r)){var g,C,A,E,O,N,y,w=\\\"__\\\"+a+(1e5*Math.random()>>0),L=\\\"attached\\\",T=\\\"detached\\\",M=\\\"extends\\\",F=\\\"ADDITION\\\",V=\\\"MODIFICATION\\\",I=\\\"REMOVAL\\\",D=\\\"DOMAttrModified\\\",P=\\\"DOMContentLoaded\\\",R=\\\"DOMSubtreeModified\\\",_=\\\"<\\\",k=\\\"=\\\",q=/^[A-Z][A-Z0-9]*(?:-[A-Z0-9]+)+$/,S=[\\\"ANNOTATION-XML\\\",\\\"COLOR-PROFILE\\\",\\\"FONT-FACE\\\",\\\"FONT-FACE-SRC\\\",\\\"FONT-FACE-URI\\\",\\\"FONT-FACE-FORMAT\\\",\\\"FONT-FACE-NAME\\\",\\\"MISSING-GLYPH\\\"],U=[],H=[],x=\\\"\\\",Z=r.documentElement,G=U.indexOf||function(e){for(var t=this.length;t--&&this[t]!==e;);return t},j=n.prototype,z=j.hasOwnProperty,K=j.isPrototypeOf,W=n.defineProperty,X=n.getOwnPropertyDescriptor,Y=n.getOwnPropertyNames,$=n.getPrototypeOf,B=n.setPrototypeOf,J=!!n.__proto__,Q=n.create||function e(t){return t?(e.prototype=t,new e):this},ee=B||(J?function(e,t){return e.__proto__=t,e}:Y&&X?function(){function e(e,t){for(var r,n=Y(t),a=0,l=n.length;a<l;a++)r=n[a],z.call(e,r)||W(e,r,X(t,r))}return function(t,r){do e(t,r);while((r=$(r))&&!K.call(r,t));return t}}():function(e,t){for(var r in t)e[r]=t[r];return e}),te=t.MutationObserver||t.WebKitMutationObserver,re=(t.HTMLElement||t.Element||t.Node).prototype,ne=!K.call(re,Z),ae=ne?function(e){return 1===e.nodeType}:function(e){return K.call(re,e)},le=ne&&[],ie=re.cloneNode,oe=re.getAttribute,ue=re.setAttribute,ce=re.removeAttribute,se=r.createElement,de=te&&{attributes:!0,characterData:!0,attributeOldValue:!0},fe=te||function(e){pe=!1,Z.removeEventListener(D,fe)},he=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,10)},ve=!1,pe=!0,be=!0,me=!0;B||J?(N=function(e,t){K.call(t,e)||v(e,t)},y=v):(N=function(e,t){e[w]||(e[w]=n(!0),v(e,t))},y=N),ne?(pe=!1,function(){var t=X(re,\\\"addEventListener\\\"),r=t.value,n=function(e){var t=new CustomEvent(D,{bubbles:!0});t.attrName=e,t.prevValue=oe.call(this,e),t.newValue=null,t[I]=t.attrChange=2,ce.call(this,e),this.dispatchEvent(t)},a=function(t,r){var n=this.hasAttribute(t),a=n&&oe.call(this,t);e=new CustomEvent(D,{bubbles:!0}),ue.call(this,t,r),e.attrName=t,e.prevValue=n?a:null,e.newValue=r,n?e[V]=e.attrChange=1:e[F]=e.attrChange=0,this.dispatchEvent(e)},l=function(e){var t,r=e.currentTarget,n=r[w],a=e.propertyName;n.hasOwnProperty(a)&&(n=n[a],t=new CustomEvent(D,{bubbles:!0}),t.attrName=n.name,t.prevValue=n.value||null,t.newValue=n.value=r[a]||null,null==t.prevValue?t[F]=t.attrChange=0:t[V]=t.attrChange=1,r.dispatchEvent(t))};t.value=function(e,t,i){e===D&&this.attributeChangedCallback&&this.setAttribute!==a&&(this[w]={className:{name:\\\"class\\\",value:this.className}},this.setAttribute=a,this.removeAttribute=n,r.call(this,\\\"propertychange\\\",l)),r.call(this,e,t,i)},W(re,\\\"addEventListener\\\",t)}()):te||(Z.addEventListener(D,fe),Z.setAttribute(w,1),Z.removeAttribute(w),pe&&(C=function(e){var t,r,n,a=this;if(a===e.target){t=a[w],a[w]=r=E(a);for(n in r){if(!(n in t))return A(0,a,n,t[n],r[n],F);if(r[n]!==t[n])return A(1,a,n,t[n],r[n],V)}for(n in t)if(!(n in r))return A(2,a,n,t[n],r[n],I)}},A=function(e,t,r,n,a,l){var i={attrChange:e,currentTarget:t,attrName:r,prevValue:n,newValue:a};i[l]=e,s(i)},E=function(e){for(var t,r,n={},a=e.attributes,l=0,i=a.length;l<i;l++)t=a[l],r=t.name,\\\"setAttribute\\\"!==r&&(n[r]=t.value);return n})),r[a]=function(e,t){if(n=e.toUpperCase(),ve||(ve=!0,te?(O=function(e,t){function r(e,t){for(var r=0,n=e.length;r<n;t(e[r++]));}return new te(function(n){for(var a,l,i,o=0,u=n.length;o<u;o++)a=n[o],\\\"childList\\\"===a.type?(r(a.addedNodes,e),r(a.removedNodes,t)):(l=a.target,me&&l.attributeChangedCallback&&\\\"style\\\"!==a.attributeName&&(i=oe.call(l,a.attributeName),i!==a.oldValue&&l.attributeChangedCallback(a.attributeName,a.oldValue,i)))})}(o(L),o(T)),O.observe(r,{childList:!0,subtree:!0})):(g=[],he(function e(){for(;g.length;)g.shift().call(null,g.shift());he(e)}),r.addEventListener(\\\"DOMNodeInserted\\\",d(L)),r.addEventListener(\\\"DOMNodeRemoved\\\",d(T))),r.addEventListener(P,f),r.addEventListener(\\\"readystatechange\\\",f),r.createElement=function(e,t){var n=se.apply(r,arguments),a=\\\"\\\"+e,l=G.call(U,(t?k:_)+(t||a).toUpperCase()),i=-1<l;return t&&(n.setAttribute(\\\"is\\\",t=t.toLowerCase()),i&&(i=c(a.toUpperCase(),t))),me=!r.createElement.innerHTMLHelper,i&&y(n,H[l]),n},re.cloneNode=function(e){var t=ie.call(this,!!e),r=u(t);return-1<r&&y(t,H[r]),e&&i(t.querySelectorAll(x)),t}),-2<G.call(U,k+n)+G.call(U,_+n)&&b(e),!q.test(n)||-1<G.call(S,n))throw new Error(\\\"The type \\\"+e+\\\" is invalid\\\");var n,a,s=function(){return v?r.createElement(p,n):r.createElement(p)},h=t||j,v=z.call(h,M),p=v?t[M].toUpperCase():n;return v&&-1<G.call(U,_+p)&&b(p),a=U.push((v?k:_)+n)-1,x=x.concat(x.length?\\\",\\\":\\\"\\\",v?p+'[is=\\\"'+e.toLowerCase()+'\\\"]':p),s.prototype=H[a]=z.call(h,\\\"prototype\\\")?h.prototype:Q(re),l(r.querySelectorAll(x),L),s}}}(window,document,Object,\\\"registerElement\\\");\\n},{}],9:[function(_dereq_,module,exports){\\n\\\"use strict\\\";function toObject(e){if(null===e||void 0===e)throw new TypeError(\\\"Object.assign cannot be called with null or undefined\\\");return Object(e)}var hasOwnProperty=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;module.exports=Object.assign||function(e,r){for(var t,o,n=toObject(e),l=1;l<arguments.length;l++){t=Object(arguments[l]);for(var c in t)hasOwnProperty.call(t,c)&&(n[c]=t[c]);if(Object.getOwnPropertySymbols){o=Object.getOwnPropertySymbols(t);for(var p=0;p<o.length;p++)propIsEnumerable.call(t,o[p])&&(n[o[p]]=t[o[p]])}}return n};\\n},{}],10:[function(_dereq_,module,exports){\\n(function (global){\\nvar performance=global.performance||{},present=function(){for(var e=[\\\"now\\\",\\\"webkitNow\\\",\\\"msNow\\\",\\\"mozNow\\\",\\\"oNow\\\"];e.length;){var n=e.shift();if(n in performance)return performance[n].bind(performance)}var r=Date.now||function(){return(new Date).getTime()},o=(performance.timing||{}).navigationStart||r();return function(){return r()-o}}();present.performanceNow=performance.now,present.noConflict=function(){performance.now=present.performanceNow},present.conflict=function(){performance.now=present},present.conflict(),module.exports=present;\\n}).call(this,typeof global !== \\\"undefined\\\" ? global : typeof self !== \\\"undefined\\\" ? self : typeof window !== \\\"undefined\\\" ? window : {})\\n\\n},{}],11:[function(_dereq_,module,exports){\\n!function(t){function e(t,e){return function(){t.apply(e,arguments)}}function n(t){if(\\\"object\\\"!=typeof this)throw new TypeError(\\\"Promises must be constructed via new\\\");if(\\\"function\\\"!=typeof t)throw new TypeError(\\\"not a function\\\");this._state=null,this._value=null,this._deferreds=[],f(t,e(r,this),e(i,this))}function o(t){var e=this;return null===this._state?void this._deferreds.push(t):void l(function(){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return void(e._state?t.resolve:t.reject)(e._value);var o;try{o=n(e._value)}catch(e){return void t.reject(e)}t.resolve(o)})}function r(t){try{if(t===this)throw new TypeError(\\\"A promise cannot be resolved with itself.\\\");if(t&&(\\\"object\\\"==typeof t||\\\"function\\\"==typeof t)){var n=t.then;if(\\\"function\\\"==typeof n)return void f(e(n,t),e(r,this),e(i,this))}this._state=!0,this._value=t,u.call(this)}catch(t){i.call(this,t)}}function i(t){this._state=!1,this._value=t,u.call(this)}function u(){for(var t=0,e=this._deferreds.length;t<e;t++)o.call(this,this._deferreds[t]);this._deferreds=null}function c(t,e,n,o){this.onFulfilled=\\\"function\\\"==typeof t?t:null,this.onRejected=\\\"function\\\"==typeof e?e:null,this.resolve=n,this.reject=o}function f(t,e,n){var o=!1;try{t(function(t){o||(o=!0,e(t))},function(t){o||(o=!0,n(t))})}catch(t){if(o)return;o=!0,n(t)}}var s=setTimeout,l=\\\"function\\\"==typeof setImmediate&&setImmediate||function(t){s(t,1)},h=Array.isArray||function(t){return\\\"[object Array]\\\"===Object.prototype.toString.call(t)};n.prototype.catch=function(t){return this.then(null,t)},n.prototype.then=function(t,e){var r=this;return new n(function(n,i){o.call(r,new c(t,e,n,i))})},n.all=function(){var t=Array.prototype.slice.call(1===arguments.length&&h(arguments[0])?arguments[0]:arguments);return new n(function(e,n){function o(i,u){try{if(u&&(\\\"object\\\"==typeof u||\\\"function\\\"==typeof u)){var c=u.then;if(\\\"function\\\"==typeof c)return void c.call(u,function(t){o(i,t)},n)}t[i]=u,0===--r&&e(t)}catch(t){n(t)}}if(0===t.length)return e([]);for(var r=t.length,i=0;i<t.length;i++)o(i,t[i])})},n.resolve=function(t){return t&&\\\"object\\\"==typeof t&&t.constructor===n?t:new n(function(e){e(t)})},n.reject=function(t){return new n(function(e,n){n(t)})},n.race=function(t){return new n(function(e,n){for(var o=0,r=t.length;o<r;o++)t[o].then(e,n)})},n._setImmediateFn=function(t){l=t},\\\"undefined\\\"!=typeof module&&module.exports?module.exports=n:t.Promise||(t.Promise=n)}(this);\\n},{}],12:[function(_dereq_,module,exports){\\nfunction parse(r){var n=function(r){return r.trim()},e={};return getKeyValueChunks(r).map(n).filter(Boolean).forEach(function(r){var n=r.indexOf(\\\":\\\"),t=r.substr(0,n).trim(),i=r.substr(n+1).trim();e[t]=i}),e}function getKeyValueChunks(r){for(var n,e=[],t=0,i=\\\";\\\",u=/url\\\\([^\\\\)]+$/,s=\\\"\\\";t<r.length;)n=r.indexOf(i,t),n===-1&&(n=r.length),s+=r.substring(t,n),u.test(s)?(s+=\\\";\\\",t=n+1):(e.push(s),s=\\\"\\\",t=n+1);return e}function stringify(r){return Object.keys(r).map(function(n){return n+\\\":\\\"+r[n]}).join(\\\";\\\")}function normalize(r){return stringify(parse(r))}module.exports.parse=parse,module.exports.stringify=stringify,module.exports.normalize=normalize;\\n},{}],13:[function(_dereq_,module,exports){\\n!function(t,e){\\\"object\\\"==typeof exports&&\\\"undefined\\\"!=typeof module?e(exports):\\\"function\\\"==typeof define&&define.amd?define([\\\"exports\\\"],e):e(t.THREE=t.THREE||{})}(this,function(t){\\\"use strict\\\";function e(){}function i(t,e){this.x=t||0,this.y=e||0}function n(t,e,a,o,s,c,h,l,u,p){Object.defineProperty(this,\\\"id\\\",{value:r()}),this.uuid=Fo.generateUUID(),this.name=\\\"\\\",this.sourceFile=\\\"\\\",this.image=void 0!==t?t:n.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==e?e:n.DEFAULT_MAPPING,this.wrapS=void 0!==a?a:Ra,this.wrapT=void 0!==o?o:Ra,this.magFilter=void 0!==s?s:Da,this.minFilter=void 0!==c?c:Fa,this.anisotropy=void 0!==u?u:1,this.format=void 0!==h?h:$a,this.type=void 0!==l?l:za,this.offset=new i(0,0),this.repeat=new i(1,1),this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==p?p:Ao,this.version=0,this.onUpdate=null}function r(){return Bo++}function a(t,e,i,n){this.x=t||0,this.y=e||0,this.z=i||0,this.w=void 0!==n?n:1}function o(t,e,i){this.uuid=Fo.generateUUID(),this.width=t,this.height=e,this.scissor=new a(0,0,t,e),this.scissorTest=!1,this.viewport=new a(0,0,t,e),i=i||{},void 0===i.minFilter&&(i.minFilter=Da),this.texture=new n((void 0),(void 0),i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.depthBuffer=void 0===i.depthBuffer||i.depthBuffer,this.stencilBuffer=void 0===i.stencilBuffer||i.stencilBuffer,this.depthTexture=void 0!==i.depthTexture?i.depthTexture:null}function s(t,e,i){o.call(this,t,e,i),this.activeCubeFace=0,this.activeMipMapLevel=0}function c(t,e,i,n){this._x=t||0,this._y=e||0,this._z=i||0,this._w=void 0!==n?n:1}function h(t,e,i){this.x=t||0,this.y=e||0,this.z=i||0}function l(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),arguments.length>0&&console.error(\\\"THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.\\\")}function u(t,e,i,r,a,o,s,c,h,l){t=void 0!==t?t:[],e=void 0!==e?e:_a,n.call(this,t,e,i,r,a,o,s,c,h,l),this.flipY=!1}function p(){this.seq=[],this.map={}}function d(t,e,i){var n=t[0];if(n<=0||n>0)return t;var r=e*i,a=Ho[r];if(void 0===a&&(a=new Float32Array(r),Ho[r]=a),0!==e){n.toArray(a,0);for(var o=1,s=0;o!==e;++o)s+=i,t[o].toArray(a,s)}return a}function f(t,e){var i=Vo[e];void 0===i&&(i=new Int32Array(e),Vo[e]=i);for(var n=0;n!==e;++n)i[n]=t.allocTextureUnit();return i}function m(t,e){t.uniform1f(this.addr,e)}function v(t,e){t.uniform1i(this.addr,e)}function g(t,e){void 0===e.x?t.uniform2fv(this.addr,e):t.uniform2f(this.addr,e.x,e.y)}function y(t,e){void 0!==e.x?t.uniform3f(this.addr,e.x,e.y,e.z):void 0!==e.r?t.uniform3f(this.addr,e.r,e.g,e.b):t.uniform3fv(this.addr,e)}function x(t,e){void 0===e.x?t.uniform4fv(this.addr,e):t.uniform4f(this.addr,e.x,e.y,e.z,e.w)}function _(t,e){t.uniformMatrix2fv(this.addr,!1,e.elements||e)}function b(t,e){t.uniformMatrix3fv(this.addr,!1,e.elements||e)}function w(t,e){t.uniformMatrix4fv(this.addr,!1,e.elements||e)}function M(t,e,i){var n=i.allocTextureUnit();t.uniform1i(this.addr,n),i.setTexture2D(e||zo,n)}function E(t,e,i){var n=i.allocTextureUnit();t.uniform1i(this.addr,n),i.setTextureCube(e||Go,n)}function T(t,e){t.uniform2iv(this.addr,e)}function S(t,e){t.uniform3iv(this.addr,e)}function A(t,e){t.uniform4iv(this.addr,e)}function L(t){switch(t){case 5126:return m;case 35664:return g;case 35665:return y;case 35666:return x;case 35674:return _;case 35675:return b;case 35676:return w;case 35678:return M;case 35680:return E;case 5124:case 35670:return v;case 35667:case 35671:return T;case 35668:case 35672:return S;case 35669:case 35673:return A}}function R(t,e){t.uniform1fv(this.addr,e)}function P(t,e){t.uniform1iv(this.addr,e)}function C(t,e){t.uniform2fv(this.addr,d(e,this.size,2))}function I(t,e){t.uniform3fv(this.addr,d(e,this.size,3))}function U(t,e){t.uniform4fv(this.addr,d(e,this.size,4))}function N(t,e){t.uniformMatrix2fv(this.addr,!1,d(e,this.size,4))}function D(t,e){t.uniformMatrix3fv(this.addr,!1,d(e,this.size,9))}function O(t,e){t.uniformMatrix4fv(this.addr,!1,d(e,this.size,16))}function F(t,e,i){var n=e.length,r=f(i,n);t.uniform1iv(this.addr,r);for(var a=0;a!==n;++a)i.setTexture2D(e[a]||zo,r[a])}function B(t,e,i){var n=e.length,r=f(i,n);t.uniform1iv(this.addr,r);for(var a=0;a!==n;++a)i.setTextureCube(e[a]||Go,r[a])}function z(t){switch(t){case 5126:return R;case 35664:return C;case 35665:return I;case 35666:return U;case 35674:return N;case 35675:return D;case 35676:return O;case 35678:return F;case 35680:return B;case 5124:case 35670:return P;case 35667:case 35671:return T;case 35668:case 35672:return S;case 35669:case 35673:return A}}function G(t,e,i){this.id=t,this.addr=i,this.setValue=L(e.type)}function H(t,e,i){this.id=t,this.addr=i,this.size=e.size,this.setValue=z(e.type)}function V(t){this.id=t,p.call(this)}function k(t,e){t.seq.push(e),t.map[e.id]=e}function j(t,e,i){var n=t.name,r=n.length;for(ko.lastIndex=0;;){var a=ko.exec(n),o=ko.lastIndex,s=a[1],c=\\\"]\\\"===a[2],h=a[3];if(c&&(s=0|s),void 0===h||\\\"[\\\"===h&&o+2===r){k(i,void 0===h?new G(s,t,e):new H(s,t,e));break}var l=i.map,u=l[s];void 0===u&&(u=new V(s),k(i,u)),i=u}}function W(t,e,i){p.call(this),this.renderer=i;for(var n=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),r=0;r!==n;++r){var a=t.getActiveUniform(e,r),o=a.name,s=t.getUniformLocation(e,o);j(a,s,this)}}function X(t,e,i){return void 0===e&&void 0===i?this.set(t):this.setRGB(t,e,i)}function Y(t,e){this.min=void 0!==t?t:new i((+(1/0)),(+(1/0))),this.max=void 0!==e?e:new i((-(1/0)),(-(1/0)))}function q(t,e){function n(){var t=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]),e=new Uint16Array([0,1,2,0,2,3]);a=f.createBuffer(),o=f.createBuffer(),f.bindBuffer(f.ARRAY_BUFFER,a),f.bufferData(f.ARRAY_BUFFER,t,f.STATIC_DRAW),f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,o),f.bufferData(f.ELEMENT_ARRAY_BUFFER,e,f.STATIC_DRAW),p=f.createTexture(),d=f.createTexture(),m.bindTexture(f.TEXTURE_2D,p),f.texImage2D(f.TEXTURE_2D,0,f.RGB,16,16,0,f.RGB,f.UNSIGNED_BYTE,null),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,f.NEAREST),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,f.NEAREST),m.bindTexture(f.TEXTURE_2D,d),f.texImage2D(f.TEXTURE_2D,0,f.RGBA,16,16,0,f.RGBA,f.UNSIGNED_BYTE,null),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,f.NEAREST),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,f.NEAREST),s={vertexShader:[\\\"uniform lowp int renderType;\\\",\\\"uniform vec3 screenPosition;\\\",\\\"uniform vec2 scale;\\\",\\\"uniform float rotation;\\\",\\\"uniform sampler2D occlusionMap;\\\",\\\"attribute vec2 position;\\\",\\\"attribute vec2 uv;\\\",\\\"varying vec2 vUV;\\\",\\\"varying float vVisibility;\\\",\\\"void main() {\\\",\\\"vUV = uv;\\\",\\\"vec2 pos = position;\\\",\\\"if ( renderType == 2 ) {\\\",\\\"vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );\\\",\\\"visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );\\\",\\\"visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );\\\",\\\"visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );\\\",\\\"visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );\\\",\\\"visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );\\\",\\\"visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );\\\",\\\"visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );\\\",\\\"visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );\\\",\\\"vVisibility =        visibility.r / 9.0;\\\",\\\"vVisibility *= 1.0 - visibility.g / 9.0;\\\",\\\"vVisibility *=       visibility.b / 9.0;\\\",\\\"vVisibility *= 1.0 - visibility.a / 9.0;\\\",\\\"pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;\\\",\\\"pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;\\\",\\\"}\\\",\\\"gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );\\\",\\\"}\\\"].join(\\\"\\\\n\\\"),fragmentShader:[\\\"uniform lowp int renderType;\\\",\\\"uniform sampler2D map;\\\",\\\"uniform float opacity;\\\",\\\"uniform vec3 color;\\\",\\\"varying vec2 vUV;\\\",\\\"varying float vVisibility;\\\",\\\"void main() {\\\",\\\"if ( renderType == 0 ) {\\\",\\\"gl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );\\\",\\\"} else if ( renderType == 1 ) {\\\",\\\"gl_FragColor = texture2D( map, vUV );\\\",\\\"} else {\\\",\\\"vec4 texture = texture2D( map, vUV );\\\",\\\"texture.a *= opacity * vVisibility;\\\",\\\"gl_FragColor = texture;\\\",\\\"gl_FragColor.rgb *= color;\\\",\\\"}\\\",\\\"}\\\"].join(\\\"\\\\n\\\")},c=r(s),l={vertex:f.getAttribLocation(c,\\\"position\\\"),uv:f.getAttribLocation(c,\\\"uv\\\")},u={renderType:f.getUniformLocation(c,\\\"renderType\\\"),map:f.getUniformLocation(c,\\\"map\\\"),occlusionMap:f.getUniformLocation(c,\\\"occlusionMap\\\"),opacity:f.getUniformLocation(c,\\\"opacity\\\"),color:f.getUniformLocation(c,\\\"color\\\"),scale:f.getUniformLocation(c,\\\"scale\\\"),rotation:f.getUniformLocation(c,\\\"rotation\\\"),screenPosition:f.getUniformLocation(c,\\\"screenPosition\\\")}}function r(e){var i=f.createProgram(),n=f.createShader(f.FRAGMENT_SHADER),r=f.createShader(f.VERTEX_SHADER),a=\\\"precision \\\"+t.getPrecision()+\\\" float;\\\\n\\\";return f.shaderSource(n,a+e.fragmentShader),f.shaderSource(r,a+e.vertexShader),f.compileShader(n),f.compileShader(r),f.attachShader(i,n),f.attachShader(i,r),f.linkProgram(i),i}var a,o,s,c,l,u,p,d,f=t.context,m=t.state;this.render=function(r,s,v){if(0!==e.length){var g=new h,y=v.w/v.z,x=.5*v.z,_=.5*v.w,b=16/v.w,w=new i(b*y,b),M=new h(1,1,0),E=new i(1,1),T=new Y;T.min.set(v.x,v.y),T.max.set(v.x+(v.z-16),v.y+(v.w-16)),void 0===c&&n(),f.useProgram(c),m.initAttributes(),m.enableAttribute(l.vertex),m.enableAttribute(l.uv),m.disableUnusedAttributes(),f.uniform1i(u.occlusionMap,0),f.uniform1i(u.map,1),f.bindBuffer(f.ARRAY_BUFFER,a),f.vertexAttribPointer(l.vertex,2,f.FLOAT,!1,16,0),f.vertexAttribPointer(l.uv,2,f.FLOAT,!1,16,8),f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,o),m.disable(f.CULL_FACE),m.setDepthWrite(!1);for(var S=0,A=e.length;S<A;S++){b=16/v.w,w.set(b*y,b);var L=e[S];if(g.set(L.matrixWorld.elements[12],L.matrixWorld.elements[13],L.matrixWorld.elements[14]),g.applyMatrix4(s.matrixWorldInverse),g.applyProjection(s.projectionMatrix),M.copy(g),E.x=v.x+M.x*x+x-8,E.y=v.y+M.y*_+_-8,T.containsPoint(E)===!0){m.activeTexture(f.TEXTURE0),m.bindTexture(f.TEXTURE_2D,null),m.activeTexture(f.TEXTURE1),m.bindTexture(f.TEXTURE_2D,p),f.copyTexImage2D(f.TEXTURE_2D,0,f.RGB,E.x,E.y,16,16,0),f.uniform1i(u.renderType,0),f.uniform2f(u.scale,w.x,w.y),f.uniform3f(u.screenPosition,M.x,M.y,M.z),m.disable(f.BLEND),m.enable(f.DEPTH_TEST),f.drawElements(f.TRIANGLES,6,f.UNSIGNED_SHORT,0),m.activeTexture(f.TEXTURE0),m.bindTexture(f.TEXTURE_2D,d),f.copyTexImage2D(f.TEXTURE_2D,0,f.RGBA,E.x,E.y,16,16,0),f.uniform1i(u.renderType,1),m.disable(f.DEPTH_TEST),m.activeTexture(f.TEXTURE1),m.bindTexture(f.TEXTURE_2D,p),f.drawElements(f.TRIANGLES,6,f.UNSIGNED_SHORT,0),L.positionScreen.copy(M),L.customUpdateCallback?L.customUpdateCallback(L):L.updateLensFlares(),f.uniform1i(u.renderType,2),m.enable(f.BLEND);for(var R=0,P=L.lensFlares.length;R<P;R++){var C=L.lensFlares[R];C.opacity>.001&&C.scale>.001&&(M.x=C.x,M.y=C.y,M.z=C.z,b=C.size*C.scale/v.w,w.x=b*y,w.y=b,f.uniform3f(u.screenPosition,M.x,M.y,M.z),f.uniform2f(u.scale,w.x,w.y),f.uniform1f(u.rotation,C.rotation),f.uniform1f(u.opacity,C.opacity),f.uniform3f(u.color,C.color.r,C.color.g,C.color.b),m.setBlending(C.blending,C.blendEquation,C.blendSrc,C.blendDst),t.setTexture2D(C.texture,1),f.drawElements(f.TRIANGLES,6,f.UNSIGNED_SHORT,0))}}}m.enable(f.CULL_FACE),m.enable(f.DEPTH_TEST),m.setDepthWrite(!0),t.resetGLState()}}}function Z(t,e){function i(){var t=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),e=new Uint16Array([0,1,2,0,2,3]);o=f.createBuffer(),s=f.createBuffer(),f.bindBuffer(f.ARRAY_BUFFER,o),f.bufferData(f.ARRAY_BUFFER,t,f.STATIC_DRAW),f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,s),f.bufferData(f.ELEMENT_ARRAY_BUFFER,e,f.STATIC_DRAW),l=r(),u={position:f.getAttribLocation(l,\\\"position\\\"),uv:f.getAttribLocation(l,\\\"uv\\\")},p={uvOffset:f.getUniformLocation(l,\\\"uvOffset\\\"),uvScale:f.getUniformLocation(l,\\\"uvScale\\\"),rotation:f.getUniformLocation(l,\\\"rotation\\\"),scale:f.getUniformLocation(l,\\\"scale\\\"),color:f.getUniformLocation(l,\\\"color\\\"),map:f.getUniformLocation(l,\\\"map\\\"),opacity:f.getUniformLocation(l,\\\"opacity\\\"),modelViewMatrix:f.getUniformLocation(l,\\\"modelViewMatrix\\\"),projectionMatrix:f.getUniformLocation(l,\\\"projectionMatrix\\\"),fogType:f.getUniformLocation(l,\\\"fogType\\\"),fogDensity:f.getUniformLocation(l,\\\"fogDensity\\\"),fogNear:f.getUniformLocation(l,\\\"fogNear\\\"),fogFar:f.getUniformLocation(l,\\\"fogFar\\\"),fogColor:f.getUniformLocation(l,\\\"fogColor\\\"),alphaTest:f.getUniformLocation(l,\\\"alphaTest\\\")};var i=document.createElementNS(\\\"http://www.w3.org/1999/xhtml\\\",\\\"canvas\\\");i.width=8,i.height=8;var a=i.getContext(\\\"2d\\\");a.fillStyle=\\\"white\\\",a.fillRect(0,0,8,8),d=new n(i),d.needsUpdate=!0}function r(){var e=f.createProgram(),i=f.createShader(f.VERTEX_SHADER),n=f.createShader(f.FRAGMENT_SHADER);return f.shaderSource(i,[\\\"precision \\\"+t.getPrecision()+\\\" float;\\\",\\\"uniform mat4 modelViewMatrix;\\\",\\\"uniform mat4 projectionMatrix;\\\",\\\"uniform float rotation;\\\",\\\"uniform vec2 scale;\\\",\\\"uniform vec2 uvOffset;\\\",\\\"uniform vec2 uvScale;\\\",\\\"attribute vec2 position;\\\",\\\"attribute vec2 uv;\\\",\\\"varying vec2 vUV;\\\",\\\"void main() {\\\",\\\"vUV = uvOffset + uv * uvScale;\\\",\\\"vec2 alignedPosition = position * scale;\\\",\\\"vec2 rotatedPosition;\\\",\\\"rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\\\",\\\"rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\\\",\\\"vec4 finalPosition;\\\",\\\"finalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\\\",\\\"finalPosition.xy += rotatedPosition;\\\",\\\"finalPosition = projectionMatrix * finalPosition;\\\",\\\"gl_Position = finalPosition;\\\",\\\"}\\\"].join(\\\"\\\\n\\\")),f.shaderSource(n,[\\\"precision \\\"+t.getPrecision()+\\\" float;\\\",\\\"uniform vec3 color;\\\",\\\"uniform sampler2D map;\\\",\\\"uniform float opacity;\\\",\\\"uniform int fogType;\\\",\\\"uniform vec3 fogColor;\\\",\\\"uniform float fogDensity;\\\",\\\"uniform float fogNear;\\\",\\\"uniform float fogFar;\\\",\\\"uniform float alphaTest;\\\",\\\"varying vec2 vUV;\\\",\\\"void main() {\\\",\\\"vec4 texture = texture2D( map, vUV );\\\",\\\"if ( texture.a < alphaTest ) discard;\\\",\\\"gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );\\\",\\\"if ( fogType > 0 ) {\\\",\\\"float depth = gl_FragCoord.z / gl_FragCoord.w;\\\",\\\"float fogFactor = 0.0;\\\",\\\"if ( fogType == 1 ) {\\\",\\\"fogFactor = smoothstep( fogNear, fogFar, depth );\\\",\\\"} else {\\\",\\\"const float LOG2 = 1.442695;\\\",\\\"fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );\\\",\\\"fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );\\\",\\\"}\\\",\\\"gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\\\",\\\"}\\\",\\\"}\\\"].join(\\\"\\\\n\\\")),f.compileShader(i),f.compileShader(n),f.attachShader(e,i),f.attachShader(e,n),f.linkProgram(e),e}function a(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:e.id-t.id}var o,s,l,u,p,d,f=t.context,m=t.state,v=new h,g=new c,y=new h;this.render=function(n,r){if(0!==e.length){void 0===l&&i(),f.useProgram(l),m.initAttributes(),m.enableAttribute(u.position),m.enableAttribute(u.uv),m.disableUnusedAttributes(),m.disable(f.CULL_FACE),m.enable(f.BLEND),f.bindBuffer(f.ARRAY_BUFFER,o),f.vertexAttribPointer(u.position,2,f.FLOAT,!1,16,0),f.vertexAttribPointer(u.uv,2,f.FLOAT,!1,16,8),f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,s),f.uniformMatrix4fv(p.projectionMatrix,!1,r.projectionMatrix.elements),m.activeTexture(f.TEXTURE0),f.uniform1i(p.map,0);var c=0,h=0,x=n.fog;x?(f.uniform3f(p.fogColor,x.color.r,x.color.g,x.color.b),x&&x.isFog?(f.uniform1f(p.fogNear,x.near),f.uniform1f(p.fogFar,x.far),f.uniform1i(p.fogType,1),c=1,h=1):x&&x.isFogExp2&&(f.uniform1f(p.fogDensity,x.density),f.uniform1i(p.fogType,2),c=2,h=2)):(f.uniform1i(p.fogType,0),c=0,h=0);for(var _=0,b=e.length;_<b;_++){var w=e[_];w.modelViewMatrix.multiplyMatrices(r.matrixWorldInverse,w.matrixWorld),w.z=-w.modelViewMatrix.elements[14]}e.sort(a);for(var M=[],_=0,b=e.length;_<b;_++){var w=e[_],E=w.material;if(E.visible!==!1){f.uniform1f(p.alphaTest,E.alphaTest),f.uniformMatrix4fv(p.modelViewMatrix,!1,w.modelViewMatrix.elements),w.matrixWorld.decompose(v,g,y),M[0]=y.x,M[1]=y.y;var T=0;n.fog&&E.fog&&(T=h),c!==T&&(f.uniform1i(p.fogType,T),c=T),null!==E.map?(f.uniform2f(p.uvOffset,E.map.offset.x,E.map.offset.y),f.uniform2f(p.uvScale,E.map.repeat.x,E.map.repeat.y)):(f.uniform2f(p.uvOffset,0,0),f.uniform2f(p.uvScale,1,1)),f.uniform1f(p.opacity,E.opacity),f.uniform3f(p.color,E.color.r,E.color.g,E.color.b),f.uniform1f(p.rotation,E.rotation),f.uniform2fv(p.scale,M),m.setBlending(E.blending,E.blendEquation,E.blendSrc,E.blendDst),m.setDepthTest(E.depthTest),m.setDepthWrite(E.depthWrite),E.map?t.setTexture2D(E.map,0):t.setTexture2D(d,0),f.drawElements(f.TRIANGLES,6,f.UNSIGNED_SHORT,0)}}m.enable(f.CULL_FACE),t.resetGLState()}}}function J(){Object.defineProperty(this,\\\"id\\\",{value:Q()}),this.uuid=Fo.generateUUID(),this.name=\\\"\\\",this.type=\\\"Material\\\",this.fog=!0,this.lights=!0,this.blending=Dr,this.side=Sr,this.shading=Pr,this.vertexColors=Cr,this.opacity=1,this.transparent=!1,this.blendSrc=Jr,this.blendDst=Qr,this.blendEquation=Hr,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=oa,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.alphaTest=0,this.premultipliedAlpha=!1,this.overdraw=0,this.visible=!0,this._needsUpdate=!0}function Q(){return Xc++}function K(t){J.call(this),this.type=\\\"ShaderMaterial\\\",this.defines={},this.uniforms={},this.vertexShader=\\\"void main() {\\\\n\\\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\\\n}\\\",this.fragmentShader=\\\"void main() {\\\\n\\\\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\\\\n}\\\",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,void 0!==t&&(void 0!==t.attributes&&console.error(\\\"THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead.\\\"),this.setValues(t))}function $(t){J.call(this),this.type=\\\"MeshDepthMaterial\\\",this.depthPacking=Do,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(t)}function tt(t,e){this.min=void 0!==t?t:new h((+(1/0)),(+(1/0)),(+(1/0))),this.max=void 0!==e?e:new h((-(1/0)),(-(1/0)),(-(1/0)))}function et(t,e){this.center=void 0!==t?t:new h,this.radius=void 0!==e?e:0}function it(){this.elements=new Float32Array([1,0,0,0,1,0,0,0,1]),arguments.length>0&&console.error(\\\"THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.\\\")}function nt(t,e){this.normal=void 0!==t?t:new h(1,0,0),this.constant=void 0!==e?e:0}function rt(t,e,i,n,r,a){this.planes=[void 0!==t?t:new nt,void 0!==e?e:new nt,void 0!==i?i:new nt,void 0!==n?n:new nt,void 0!==r?r:new nt,void 0!==a?a:new nt]}function at(t,e,n,r){function s(e,i,n,r){var a=e.geometry,o=null,s=E,c=e.customDepthMaterial;if(n&&(s=T,c=e.customDistanceMaterial),c)o=c;else{var h=!1;i.morphTargets&&(a&&a.isBufferGeometry?h=a.morphAttributes&&a.morphAttributes.position&&a.morphAttributes.position.length>0:a&&a.isGeometry&&(h=a.morphTargets&&a.morphTargets.length>0));var l=e.isSkinnedMesh&&i.skinning,u=0;h&&(u|=b),l&&(u|=w),o=s[u]}if(t.localClippingEnabled&&i.clipShadows===!0&&0!==i.clippingPlanes.length){var p=o.uuid,d=i.uuid,f=S[p];void 0===f&&(f={},S[p]=f);var m=f[d];void 0===m&&(m=o.clone(),f[d]=m),o=m}o.visible=i.visible,o.wireframe=i.wireframe;var v=i.side;return B.renderSingleSided&&v==Lr&&(v=Sr),B.renderReverseSided&&(v===Sr?v=Ar:v===Ar&&(v=Sr)),o.side=v,o.clipShadows=i.clipShadows,o.clippingPlanes=i.clippingPlanes,o.wireframeLinewidth=i.wireframeLinewidth,o.linewidth=i.linewidth,n&&void 0!==o.uniforms.lightPos&&o.uniforms.lightPos.value.copy(r),o}function c(t,e,i){if(t.visible!==!1){var n=0!==(t.layers.mask&e.layers.mask);if(n&&(t.isMesh||t.isLine||t.isPoints)&&t.castShadow&&(t.frustumCulled===!1||d.intersectsObject(t)===!0)){var r=t.material;r.visible===!0&&(t.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,t.matrixWorld),_.push(t))}for(var a=t.children,o=0,s=a.length;o<s;o++)c(a[o],e,i)}}var u=t.context,p=t.state,d=new rt,f=new l,m=e.shadows,v=new i,g=new i(r.maxTextureSize,r.maxTextureSize),y=new h,x=new h,_=[],b=1,w=2,M=(b|w)+1,E=new Array(M),T=new Array(M),S={},A=[new h(1,0,0),new h((-1),0,0),new h(0,0,1),new h(0,0,(-1)),new h(0,1,0),new h(0,(-1),0)],L=[new h(0,1,0),new h(0,1,0),new h(0,1,0),new h(0,1,0),new h(0,0,1),new h(0,0,(-1))],R=[new a,new a,new a,new a,new a,new a],P=new $;P.depthPacking=Oo,P.clipping=!0;for(var C=Wc.distanceRGBA,I=jo.clone(C.uniforms),U=0;U!==M;++U){var N=0!==(U&b),D=0!==(U&w),O=P.clone();O.morphTargets=N,O.skinning=D,E[U]=O;var F=new K({defines:{USE_SHADOWMAP:\\\"\\\"},uniforms:I,vertexShader:C.vertexShader,fragmentShader:C.fragmentShader,morphTargets:N,skinning:D,clipping:!0});T[U]=F}var B=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Er,this.renderReverseSided=!0,this.renderSingleSided=!0,this.render=function(e,i){if(B.enabled!==!1&&(B.autoUpdate!==!1||B.needsUpdate!==!1)&&0!==m.length){p.clearColor(1,1,1,1),p.disable(u.BLEND),p.setDepthTest(!0),p.setScissorTest(!1);for(var r,a,h=0,l=m.length;h<l;h++){var b=m[h],w=b.shadow;if(void 0!==w){var M=w.camera;if(v.copy(w.mapSize),v.min(g),b&&b.isPointLight){r=6,a=!0;var E=v.x,T=v.y;R[0].set(2*E,T,E,T),R[1].set(0,T,E,T),R[2].set(3*E,T,E,T),R[3].set(E,T,E,T),R[4].set(3*E,0,E,T),R[5].set(E,0,E,T),v.x*=4,v.y*=2}else r=1,a=!1;if(null===w.map){var S={minFilter:Ia,magFilter:Ia,format:$a};w.map=new o(v.x,v.y,S),M.updateProjectionMatrix()}w&&w.isSpotLightShadow&&w.update(b);var P=w.map,C=w.matrix;x.setFromMatrixPosition(b.matrixWorld),M.position.copy(x),t.setRenderTarget(P),t.clear();for(var I=0;I<r;I++){if(a){y.copy(M.position),y.add(A[I]),M.up.copy(L[I]),M.lookAt(y);var U=R[I];p.viewport(U)}else y.setFromMatrixPosition(b.target.matrixWorld),M.lookAt(y);M.updateMatrixWorld(),M.matrixWorldInverse.getInverse(M.matrixWorld),C.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),C.multiply(M.projectionMatrix),C.multiply(M.matrixWorldInverse),f.multiplyMatrices(M.projectionMatrix,M.matrixWorldInverse),d.setFromMatrix(f),_.length=0,c(e,i,M);for(var N=0,D=_.length;N<D;N++){var O=_[N],F=n.update(O),z=O.material;if(z&&z.isMultiMaterial)for(var G=F.groups,H=z.materials,V=0,k=G.length;V<k;V++){var j=G[V],W=H[j.materialIndex];if(W.visible===!0){var X=s(O,W,a,x);t.renderBufferDirect(M,null,F,X,O,j)}}else{var X=s(O,z,a,x);t.renderBufferDirect(M,null,F,X,O,null)}}}}else console.warn(\\\"THREE.WebGLShadowMap:\\\",b,\\\"has no shadow.\\\")}var Y=t.getClearColor(),q=t.getClearAlpha();t.setClearColor(Y,q),B.needsUpdate=!1}}}function ot(t,e){this.origin=void 0!==t?t:new h,this.direction=void 0!==e?e:new h}function st(t,e,i,n){this._x=t||0,this._y=e||0,this._z=i||0,this._order=n||st.DefaultOrder}function ct(){this.mask=1}function ht(){function t(){r.setFromEuler(n,!1)}function e(){n.setFromQuaternion(r,void 0,!1)}Object.defineProperty(this,\\\"id\\\",{value:lt()}),this.uuid=Fo.generateUUID(),this.name=\\\"\\\",this.type=\\\"Object3D\\\",this.parent=null,this.children=[],this.up=ht.DefaultUp.clone();var i=new h,n=new st,r=new c,a=new h(1,1,1);n.onChange(t),r.onChange(e),Object.defineProperties(this,{position:{enumerable:!0,value:i},rotation:{enumerable:!0,value:n},quaternion:{enumerable:!0,value:r},scale:{enumerable:!0,value:a},modelViewMatrix:{value:new l},normalMatrix:{value:new it}}),this.matrix=new l,this.matrixWorld=new l,this.matrixAutoUpdate=ht.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new ct,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={},this.onBeforeRender=function(){},this.onAfterRender=function(){}}function lt(){return Yc++}function ut(t,e){this.start=void 0!==t?t:new h,this.end=void 0!==e?e:new h}function pt(t,e,i){this.a=void 0!==t?t:new h,this.b=void 0!==e?e:new h,this.c=void 0!==i?i:new h}function dt(t,e,i,n,r,a){this.a=t,this.b=e,this.c=i,this.normal=n&&n.isVector3?n:new h,this.vertexNormals=Array.isArray(n)?n:[],this.color=r&&r.isColor?r:new X,this.vertexColors=Array.isArray(r)?r:[],this.materialIndex=void 0!==a?a:0}function ft(t){J.call(this),this.type=\\\"MeshBasicMaterial\\\",this.color=new X(16777215),this.map=null,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ua,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap=\\\"round\\\",this.wireframeLinejoin=\\\"round\\\",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(t)}function mt(t,e,i){if(Array.isArray(t))throw new TypeError(\\\"THREE.BufferAttribute: array should be a Typed Array.\\\");this.uuid=Fo.generateUUID(),this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=i===!0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function vt(t,e){return new mt(new Int8Array(t),e)}function gt(t,e){return new mt(new Uint8Array(t),e)}function yt(t,e){return new mt(new Uint8ClampedArray(t),e)}function xt(t,e){return new mt(new Int16Array(t),e)}function _t(t,e){return new mt(new Uint16Array(t),e)}function bt(t,e){return new mt(new Int32Array(t),e)}function wt(t,e){return new mt(new Uint32Array(t),e)}function Mt(t,e){return new mt(new Float32Array(t),e)}function Et(t,e){return new mt(new Float64Array(t),e)}function Tt(t,e){return console.warn(\\\"THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead.\\\"),new mt(t,e).setDynamic(!0)}function St(){Object.defineProperty(this,\\\"id\\\",{value:At()}),this.uuid=Fo.generateUUID(),this.name=\\\"\\\",this.type=\\\"Geometry\\\",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function At(){return qc++}function Lt(){Object.defineProperty(this,\\\"id\\\",{value:At()}),this.uuid=Fo.generateUUID(),this.name=\\\"\\\",this.type=\\\"DirectGeometry\\\",this.indices=[],this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function Rt(){Object.defineProperty(this,\\\"id\\\",{value:At()}),this.uuid=Fo.generateUUID(),this.name=\\\"\\\",this.type=\\\"BufferGeometry\\\",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0}}function Pt(t,e){ht.call(this),this.type=\\\"Mesh\\\",this.geometry=void 0!==t?t:new Rt,this.material=void 0!==e?e:new ft({color:16777215*Math.random()}),this.drawMode=Eo,this.updateMorphTargets()}function Ct(t,e,i,n,r,a){function o(t,e,i){var n=0;return n+=(t+1)*(e+1)*2,n+=(t+1)*(i+1)*2,n+=(i+1)*(e+1)*2}function s(t,e,i){var n=0;return n+=t*e*2,n+=t*i*2,n+=i*e*2,6*n}function c(t,e,i,n,r,a,o,s,c,u,p){for(var w=a/c,M=o/u,E=a/2,T=o/2,S=s/2,A=c+1,L=u+1,R=0,P=0,C=new h,I=0;I<L;I++)for(var U=I*M-T,N=0;N<A;N++){var D=N*w-E;C[t]=D*n,C[e]=U*r,C[i]=S,f[g]=C.x,f[g+1]=C.y,f[g+2]=C.z,C[t]=0,C[e]=0,C[i]=s>0?1:-1,m[g]=C.x,m[g+1]=C.y,m[g+2]=C.z,v[y]=N/c,v[y+1]=1-I/u,g+=3,y+=2,R+=1}for(I=0;I<u;I++)for(N=0;N<c;N++){var O=_+N+A*I,F=_+N+A*(I+1),B=_+(N+1)+A*(I+1),z=_+(N+1)+A*I;d[x]=O,d[x+1]=F,d[x+2]=z,d[x+3]=F,d[x+4]=B,d[x+5]=z,x+=6,P+=6}l.addGroup(b,P,p),b+=P,_+=R}Rt.call(this),this.type=\\\"BoxBufferGeometry\\\",this.parameters={width:t,height:e,depth:i,widthSegments:n,heightSegments:r,depthSegments:a};var l=this;n=Math.floor(n)||1,r=Math.floor(r)||1,a=Math.floor(a)||1;var u=o(n,r,a),p=s(n,r,a),d=new(p>65535?Uint32Array:Uint16Array)(p),f=new Float32Array(3*u),m=new Float32Array(3*u),v=new Float32Array(2*u),g=0,y=0,x=0,_=0,b=0;c(\\\"z\\\",\\\"y\\\",\\\"x\\\",-1,-1,i,e,t,a,r,0),c(\\\"z\\\",\\\"y\\\",\\\"x\\\",1,-1,i,e,-t,a,r,1),c(\\\"x\\\",\\\"z\\\",\\\"y\\\",1,1,t,i,e,n,a,2),c(\\\"x\\\",\\\"z\\\",\\\"y\\\",1,-1,t,i,-e,n,a,3),c(\\\"x\\\",\\\"y\\\",\\\"z\\\",1,-1,t,e,i,n,r,4),c(\\\"x\\\",\\\"y\\\",\\\"z\\\",-1,-1,t,e,-i,n,r,5),this.setIndex(new mt(d,1)),this.addAttribute(\\\"position\\\",new mt(f,3)),this.addAttribute(\\\"normal\\\",new mt(m,3)),this.addAttribute(\\\"uv\\\",new mt(v,2))}function It(t,e,i,n){Rt.call(this),this.type=\\\"PlaneBufferGeometry\\\",this.parameters={width:t,height:e,widthSegments:i,heightSegments:n};for(var r=t/2,a=e/2,o=Math.floor(i)||1,s=Math.floor(n)||1,c=o+1,h=s+1,l=t/o,u=e/s,p=new Float32Array(c*h*3),d=new Float32Array(c*h*3),f=new Float32Array(c*h*2),m=0,v=0,g=0;g<h;g++)for(var y=g*u-a,x=0;x<c;x++){var _=x*l-r;p[m]=_,p[m+1]=-y,d[m+2]=1,f[v]=x/o,f[v+1]=1-g/s,m+=3,v+=2}m=0;for(var b=new(p.length/3>65535?Uint32Array:Uint16Array)(o*s*6),g=0;g<s;g++)for(var x=0;x<o;x++){var w=x+c*g,M=x+c*(g+1),E=x+1+c*(g+1),T=x+1+c*g;b[m]=w,b[m+1]=M,b[m+2]=T,b[m+3]=M,b[m+4]=E,b[m+5]=T,m+=6}this.setIndex(new mt(b,1)),this.addAttribute(\\\"position\\\",new mt(p,3)),this.addAttribute(\\\"normal\\\",new mt(d,3)),this.addAttribute(\\\"uv\\\",new mt(f,2))}function Ut(){ht.call(this),this.type=\\\"Camera\\\",this.matrixWorldInverse=new l,this.projectionMatrix=new l}function Nt(t,e,i,n){Ut.call(this),this.type=\\\"PerspectiveCamera\\\",this.fov=void 0!==t?t:50,this.zoom=1,this.near=void 0!==i?i:.1,this.far=void 0!==n?n:2e3,this.focus=10,this.aspect=void 0!==e?e:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function Dt(t,e,i,n,r,a){Ut.call(this),this.type=\\\"OrthographicCamera\\\",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=i,this.bottom=n,this.near=void 0!==r?r:.1,this.far=void 0!==a?a:2e3,this.updateProjectionMatrix()}function Ot(t,e,i){function n(t){s=t}function r(i){i.array instanceof Uint32Array&&e.get(\\\"OES_element_index_uint\\\")?(c=t.UNSIGNED_INT,h=4):(c=t.UNSIGNED_SHORT,h=2)}function a(e,n){t.drawElements(s,n,c,e*h),i.calls++,i.vertices+=n,s===t.TRIANGLES&&(i.faces+=n/3)}function o(n,r,a){var o=e.get(\\\"ANGLE_instanced_arrays\\\");return null===o?void console.error(\\\"THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.\\\"):(o.drawElementsInstancedANGLE(s,a,c,r*h,n.maxInstancedCount),i.calls++,i.vertices+=a*n.maxInstancedCount,void(s===t.TRIANGLES&&(i.faces+=n.maxInstancedCount*a/3)))}var s,c,h;return{setMode:n,setIndex:r,render:a,renderInstances:o}}function Ft(t,e,i){function n(t){o=t}function r(e,n){t.drawArrays(o,e,n),i.calls++,i.vertices+=n,o===t.TRIANGLES&&(i.faces+=n/3)}function a(n){var r=e.get(\\\"ANGLE_instanced_arrays\\\");if(null===r)return void console.error(\\\"THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.\\\");var a=n.attributes.position,s=0;a&&a.isInterleavedBufferAttribute?(s=a.data.count,r.drawArraysInstancedANGLE(o,0,s,n.maxInstancedCount)):(s=a.count,r.drawArraysInstancedANGLE(o,0,s,n.maxInstancedCount)),i.calls++,i.vertices+=s*n.maxInstancedCount,o===t.TRIANGLES&&(i.faces+=n.maxInstancedCount*s/3)}var o;return{setMode:n,render:r,renderInstances:a}}function Bt(){var t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];var n;switch(e.type){case\\\"DirectionalLight\\\":n={direction:new h,color:new X,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new i};break;case\\\"SpotLight\\\":n={position:new h,direction:new h,color:new X,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new i};break;case\\\"PointLight\\\":n={position:new h,color:new X,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new i\\n};break;case\\\"HemisphereLight\\\":n={direction:new h,skyColor:new X,groundColor:new X}}return t[e.id]=n,n}}}function zt(t){for(var e=t.split(\\\"\\\\n\\\"),i=0;i<e.length;i++)e[i]=i+1+\\\": \\\"+e[i];return e.join(\\\"\\\\n\\\")}function Gt(t,e,i){var n=t.createShader(e);return t.shaderSource(n,i),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS)===!1&&console.error(\\\"THREE.WebGLShader: Shader couldn't compile.\\\"),\\\"\\\"!==t.getShaderInfoLog(n)&&console.warn(\\\"THREE.WebGLShader: gl.getShaderInfoLog()\\\",e===t.VERTEX_SHADER?\\\"vertex\\\":\\\"fragment\\\",t.getShaderInfoLog(n),zt(i)),n}function Ht(t){switch(t){case Ao:return[\\\"Linear\\\",\\\"( value )\\\"];case Lo:return[\\\"sRGB\\\",\\\"( value )\\\"];case Po:return[\\\"RGBE\\\",\\\"( value )\\\"];case Io:return[\\\"RGBM\\\",\\\"( value, 7.0 )\\\"];case Uo:return[\\\"RGBM\\\",\\\"( value, 16.0 )\\\"];case No:return[\\\"RGBD\\\",\\\"( value, 256.0 )\\\"];case Ro:return[\\\"Gamma\\\",\\\"( value, float( GAMMA_FACTOR ) )\\\"];default:throw new Error(\\\"unsupported encoding: \\\"+t)}}function Vt(t,e){var i=Ht(e);return\\\"vec4 \\\"+t+\\\"( vec4 value ) { return \\\"+i[0]+\\\"ToLinear\\\"+i[1]+\\\"; }\\\"}function kt(t,e){var i=Ht(e);return\\\"vec4 \\\"+t+\\\"( vec4 value ) { return LinearTo\\\"+i[0]+i[1]+\\\"; }\\\"}function jt(t,e){var i;switch(e){case ma:i=\\\"Linear\\\";break;case va:i=\\\"Reinhard\\\";break;case ga:i=\\\"Uncharted2\\\";break;case ya:i=\\\"OptimizedCineon\\\";break;default:throw new Error(\\\"unsupported toneMapping: \\\"+e)}return\\\"vec3 \\\"+t+\\\"( vec3 color ) { return \\\"+i+\\\"ToneMapping( color ); }\\\"}function Wt(t,e,i){t=t||{};var n=[t.derivatives||e.envMapCubeUV||e.bumpMap||e.normalMap||e.flatShading?\\\"#extension GL_OES_standard_derivatives : enable\\\":\\\"\\\",(t.fragDepth||e.logarithmicDepthBuffer)&&i.get(\\\"EXT_frag_depth\\\")?\\\"#extension GL_EXT_frag_depth : enable\\\":\\\"\\\",t.drawBuffers&&i.get(\\\"WEBGL_draw_buffers\\\")?\\\"#extension GL_EXT_draw_buffers : require\\\":\\\"\\\",(t.shaderTextureLOD||e.envMap)&&i.get(\\\"EXT_shader_texture_lod\\\")?\\\"#extension GL_EXT_shader_texture_lod : enable\\\":\\\"\\\"];return n.filter(qt).join(\\\"\\\\n\\\")}function Xt(t){var e=[];for(var i in t){var n=t[i];n!==!1&&e.push(\\\"#define \\\"+i+\\\" \\\"+n)}return e.join(\\\"\\\\n\\\")}function Yt(t,e,i){for(var n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),a=0;a<r;a++){var o=t.getActiveAttrib(e,a),s=o.name;n[s]=t.getAttribLocation(e,s)}return n}function qt(t){return\\\"\\\"!==t}function Zt(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights)}function Jt(t){function e(t,e){var i=Vc[e];if(void 0===i)throw new Error(\\\"Can not resolve #include <\\\"+e+\\\">\\\");return Jt(i)}var i=/#include +<([\\\\w\\\\d.]+)>/g;return t.replace(i,e)}function Qt(t){function e(t,e,i,n){for(var r=\\\"\\\",a=parseInt(e);a<parseInt(i);a++)r+=n.replace(/\\\\[ i \\\\]/g,\\\"[ \\\"+a+\\\" ]\\\");return r}var i=/for \\\\( int i \\\\= (\\\\d+)\\\\; i < (\\\\d+)\\\\; i \\\\+\\\\+ \\\\) \\\\{([\\\\s\\\\S]+?)(?=\\\\})\\\\}/g;return t.replace(i,e)}function Kt(t,e,i,n){var r=t.context,a=i.extensions,o=i.defines,s=i.__webglShader.vertexShader,c=i.__webglShader.fragmentShader,h=\\\"SHADOWMAP_TYPE_BASIC\\\";n.shadowMapType===Er?h=\\\"SHADOWMAP_TYPE_PCF\\\":n.shadowMapType===Tr&&(h=\\\"SHADOWMAP_TYPE_PCF_SOFT\\\");var l=\\\"ENVMAP_TYPE_CUBE\\\",u=\\\"ENVMAP_MODE_REFLECTION\\\",p=\\\"ENVMAP_BLENDING_MULTIPLY\\\";if(n.envMap){switch(i.envMap.mapping){case _a:case ba:l=\\\"ENVMAP_TYPE_CUBE\\\";break;case Ta:case Sa:l=\\\"ENVMAP_TYPE_CUBE_UV\\\";break;case wa:case Ma:l=\\\"ENVMAP_TYPE_EQUIREC\\\";break;case Ea:l=\\\"ENVMAP_TYPE_SPHERE\\\"}switch(i.envMap.mapping){case ba:case Ma:u=\\\"ENVMAP_MODE_REFRACTION\\\"}switch(i.combine){case ua:p=\\\"ENVMAP_BLENDING_MULTIPLY\\\";break;case pa:p=\\\"ENVMAP_BLENDING_MIX\\\";break;case da:p=\\\"ENVMAP_BLENDING_ADD\\\"}}var d,f,m=t.gammaFactor>0?t.gammaFactor:1,v=Wt(a,n,t.extensions),g=Xt(o),y=r.createProgram();i.isRawShaderMaterial?(d=[g,\\\"\\\\n\\\"].filter(qt).join(\\\"\\\\n\\\"),f=[v,g,\\\"\\\\n\\\"].filter(qt).join(\\\"\\\\n\\\")):(d=[\\\"precision \\\"+n.precision+\\\" float;\\\",\\\"precision \\\"+n.precision+\\\" int;\\\",\\\"#define SHADER_NAME \\\"+i.__webglShader.name,g,n.supportsVertexTextures?\\\"#define VERTEX_TEXTURES\\\":\\\"\\\",\\\"#define GAMMA_FACTOR \\\"+m,\\\"#define MAX_BONES \\\"+n.maxBones,n.map?\\\"#define USE_MAP\\\":\\\"\\\",n.envMap?\\\"#define USE_ENVMAP\\\":\\\"\\\",n.envMap?\\\"#define \\\"+u:\\\"\\\",n.lightMap?\\\"#define USE_LIGHTMAP\\\":\\\"\\\",n.aoMap?\\\"#define USE_AOMAP\\\":\\\"\\\",n.emissiveMap?\\\"#define USE_EMISSIVEMAP\\\":\\\"\\\",n.bumpMap?\\\"#define USE_BUMPMAP\\\":\\\"\\\",n.normalMap?\\\"#define USE_NORMALMAP\\\":\\\"\\\",n.displacementMap&&n.supportsVertexTextures?\\\"#define USE_DISPLACEMENTMAP\\\":\\\"\\\",n.specularMap?\\\"#define USE_SPECULARMAP\\\":\\\"\\\",n.roughnessMap?\\\"#define USE_ROUGHNESSMAP\\\":\\\"\\\",n.metalnessMap?\\\"#define USE_METALNESSMAP\\\":\\\"\\\",n.alphaMap?\\\"#define USE_ALPHAMAP\\\":\\\"\\\",n.vertexColors?\\\"#define USE_COLOR\\\":\\\"\\\",n.flatShading?\\\"#define FLAT_SHADED\\\":\\\"\\\",n.skinning?\\\"#define USE_SKINNING\\\":\\\"\\\",n.useVertexTexture?\\\"#define BONE_TEXTURE\\\":\\\"\\\",n.morphTargets?\\\"#define USE_MORPHTARGETS\\\":\\\"\\\",n.morphNormals&&n.flatShading===!1?\\\"#define USE_MORPHNORMALS\\\":\\\"\\\",n.doubleSided?\\\"#define DOUBLE_SIDED\\\":\\\"\\\",n.flipSided?\\\"#define FLIP_SIDED\\\":\\\"\\\",\\\"#define NUM_CLIPPING_PLANES \\\"+n.numClippingPlanes,n.shadowMapEnabled?\\\"#define USE_SHADOWMAP\\\":\\\"\\\",n.shadowMapEnabled?\\\"#define \\\"+h:\\\"\\\",n.sizeAttenuation?\\\"#define USE_SIZEATTENUATION\\\":\\\"\\\",n.logarithmicDepthBuffer?\\\"#define USE_LOGDEPTHBUF\\\":\\\"\\\",n.logarithmicDepthBuffer&&t.extensions.get(\\\"EXT_frag_depth\\\")?\\\"#define USE_LOGDEPTHBUF_EXT\\\":\\\"\\\",\\\"uniform mat4 modelMatrix;\\\",\\\"uniform mat4 modelViewMatrix;\\\",\\\"uniform mat4 projectionMatrix;\\\",\\\"uniform mat4 viewMatrix;\\\",\\\"uniform mat3 normalMatrix;\\\",\\\"uniform vec3 cameraPosition;\\\",\\\"attribute vec3 position;\\\",\\\"attribute vec3 normal;\\\",\\\"attribute vec2 uv;\\\",\\\"#ifdef USE_COLOR\\\",\\\"\\\\tattribute vec3 color;\\\",\\\"#endif\\\",\\\"#ifdef USE_MORPHTARGETS\\\",\\\"\\\\tattribute vec3 morphTarget0;\\\",\\\"\\\\tattribute vec3 morphTarget1;\\\",\\\"\\\\tattribute vec3 morphTarget2;\\\",\\\"\\\\tattribute vec3 morphTarget3;\\\",\\\"\\\\t#ifdef USE_MORPHNORMALS\\\",\\\"\\\\t\\\\tattribute vec3 morphNormal0;\\\",\\\"\\\\t\\\\tattribute vec3 morphNormal1;\\\",\\\"\\\\t\\\\tattribute vec3 morphNormal2;\\\",\\\"\\\\t\\\\tattribute vec3 morphNormal3;\\\",\\\"\\\\t#else\\\",\\\"\\\\t\\\\tattribute vec3 morphTarget4;\\\",\\\"\\\\t\\\\tattribute vec3 morphTarget5;\\\",\\\"\\\\t\\\\tattribute vec3 morphTarget6;\\\",\\\"\\\\t\\\\tattribute vec3 morphTarget7;\\\",\\\"\\\\t#endif\\\",\\\"#endif\\\",\\\"#ifdef USE_SKINNING\\\",\\\"\\\\tattribute vec4 skinIndex;\\\",\\\"\\\\tattribute vec4 skinWeight;\\\",\\\"#endif\\\",\\\"\\\\n\\\"].filter(qt).join(\\\"\\\\n\\\"),f=[v,\\\"precision \\\"+n.precision+\\\" float;\\\",\\\"precision \\\"+n.precision+\\\" int;\\\",\\\"#define SHADER_NAME \\\"+i.__webglShader.name,g,n.alphaTest?\\\"#define ALPHATEST \\\"+n.alphaTest:\\\"\\\",\\\"#define GAMMA_FACTOR \\\"+m,n.useFog&&n.fog?\\\"#define USE_FOG\\\":\\\"\\\",n.useFog&&n.fogExp?\\\"#define FOG_EXP2\\\":\\\"\\\",n.map?\\\"#define USE_MAP\\\":\\\"\\\",n.envMap?\\\"#define USE_ENVMAP\\\":\\\"\\\",n.envMap?\\\"#define \\\"+l:\\\"\\\",n.envMap?\\\"#define \\\"+u:\\\"\\\",n.envMap?\\\"#define \\\"+p:\\\"\\\",n.lightMap?\\\"#define USE_LIGHTMAP\\\":\\\"\\\",n.aoMap?\\\"#define USE_AOMAP\\\":\\\"\\\",n.emissiveMap?\\\"#define USE_EMISSIVEMAP\\\":\\\"\\\",n.bumpMap?\\\"#define USE_BUMPMAP\\\":\\\"\\\",n.normalMap?\\\"#define USE_NORMALMAP\\\":\\\"\\\",n.specularMap?\\\"#define USE_SPECULARMAP\\\":\\\"\\\",n.roughnessMap?\\\"#define USE_ROUGHNESSMAP\\\":\\\"\\\",n.metalnessMap?\\\"#define USE_METALNESSMAP\\\":\\\"\\\",n.alphaMap?\\\"#define USE_ALPHAMAP\\\":\\\"\\\",n.vertexColors?\\\"#define USE_COLOR\\\":\\\"\\\",n.flatShading?\\\"#define FLAT_SHADED\\\":\\\"\\\",n.doubleSided?\\\"#define DOUBLE_SIDED\\\":\\\"\\\",n.flipSided?\\\"#define FLIP_SIDED\\\":\\\"\\\",\\\"#define NUM_CLIPPING_PLANES \\\"+n.numClippingPlanes,\\\"#define UNION_CLIPPING_PLANES \\\"+(n.numClippingPlanes-n.numClipIntersection),n.shadowMapEnabled?\\\"#define USE_SHADOWMAP\\\":\\\"\\\",n.shadowMapEnabled?\\\"#define \\\"+h:\\\"\\\",n.premultipliedAlpha?\\\"#define PREMULTIPLIED_ALPHA\\\":\\\"\\\",n.physicallyCorrectLights?\\\"#define PHYSICALLY_CORRECT_LIGHTS\\\":\\\"\\\",n.logarithmicDepthBuffer?\\\"#define USE_LOGDEPTHBUF\\\":\\\"\\\",n.logarithmicDepthBuffer&&t.extensions.get(\\\"EXT_frag_depth\\\")?\\\"#define USE_LOGDEPTHBUF_EXT\\\":\\\"\\\",n.envMap&&t.extensions.get(\\\"EXT_shader_texture_lod\\\")?\\\"#define TEXTURE_LOD_EXT\\\":\\\"\\\",\\\"uniform mat4 viewMatrix;\\\",\\\"uniform vec3 cameraPosition;\\\",n.toneMapping!==fa?\\\"#define TONE_MAPPING\\\":\\\"\\\",n.toneMapping!==fa?Vc.tonemapping_pars_fragment:\\\"\\\",n.toneMapping!==fa?jt(\\\"toneMapping\\\",n.toneMapping):\\\"\\\",n.outputEncoding||n.mapEncoding||n.envMapEncoding||n.emissiveMapEncoding?Vc.encodings_pars_fragment:\\\"\\\",n.mapEncoding?Vt(\\\"mapTexelToLinear\\\",n.mapEncoding):\\\"\\\",n.envMapEncoding?Vt(\\\"envMapTexelToLinear\\\",n.envMapEncoding):\\\"\\\",n.emissiveMapEncoding?Vt(\\\"emissiveMapTexelToLinear\\\",n.emissiveMapEncoding):\\\"\\\",n.outputEncoding?kt(\\\"linearToOutputTexel\\\",n.outputEncoding):\\\"\\\",n.depthPacking?\\\"#define DEPTH_PACKING \\\"+i.depthPacking:\\\"\\\",\\\"\\\\n\\\"].filter(qt).join(\\\"\\\\n\\\")),s=Jt(s,n),s=Zt(s,n),c=Jt(c,n),c=Zt(c,n),i.isShaderMaterial||(s=Qt(s),c=Qt(c));var x=d+s,_=f+c,b=Gt(r,r.VERTEX_SHADER,x),w=Gt(r,r.FRAGMENT_SHADER,_);r.attachShader(y,b),r.attachShader(y,w),void 0!==i.index0AttributeName?r.bindAttribLocation(y,0,i.index0AttributeName):n.morphTargets===!0&&r.bindAttribLocation(y,0,\\\"position\\\"),r.linkProgram(y);var M=r.getProgramInfoLog(y),E=r.getShaderInfoLog(b),T=r.getShaderInfoLog(w),S=!0,A=!0;r.getProgramParameter(y,r.LINK_STATUS)===!1?(S=!1,console.error(\\\"THREE.WebGLProgram: shader error: \\\",r.getError(),\\\"gl.VALIDATE_STATUS\\\",r.getProgramParameter(y,r.VALIDATE_STATUS),\\\"gl.getProgramInfoLog\\\",M,E,T)):\\\"\\\"!==M?console.warn(\\\"THREE.WebGLProgram: gl.getProgramInfoLog()\\\",M):\\\"\\\"!==E&&\\\"\\\"!==T||(A=!1),A&&(this.diagnostics={runnable:S,material:i,programLog:M,vertexShader:{log:E,prefix:d},fragmentShader:{log:T,prefix:f}}),r.deleteShader(b),r.deleteShader(w);var L;this.getUniforms=function(){return void 0===L&&(L=new W(r,y,t)),L};var R;return this.getAttributes=function(){return void 0===R&&(R=Yt(r,y)),R},this.destroy=function(){r.deleteProgram(y),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn(\\\"THREE.WebGLProgram: .uniforms is now .getUniforms().\\\"),this.getUniforms()}},attributes:{get:function(){return console.warn(\\\"THREE.WebGLProgram: .attributes is now .getAttributes().\\\"),this.getAttributes()}}}),this.id=Zc++,this.code=e,this.usedTimes=1,this.program=y,this.vertexShader=b,this.fragmentShader=w,this}function $t(t,e){function i(t){if(e.floatVertexTextures&&t&&t.skeleton&&t.skeleton.useVertexTexture)return 1024;var i=e.maxVertexUniforms,n=Math.floor((i-20)/4),r=n;return void 0!==t&&t&&t.isSkinnedMesh&&(r=Math.min(t.skeleton.bones.length,r),r<t.skeleton.bones.length&&console.warn(\\\"WebGLRenderer: too many bones - \\\"+t.skeleton.bones.length+\\\", this GPU supports just \\\"+r+\\\" (try OpenGL instead of ANGLE)\\\")),r}function n(t,e){var i;return t?t&&t.isTexture?i=t.encoding:t&&t.isWebGLRenderTarget&&(console.warn(\\\"THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead.\\\"),i=t.texture.encoding):i=Ao,i===Ao&&e&&(i=Ro),i}var r=[],a={MeshDepthMaterial:\\\"depth\\\",MeshNormalMaterial:\\\"normal\\\",MeshBasicMaterial:\\\"basic\\\",MeshLambertMaterial:\\\"lambert\\\",MeshPhongMaterial:\\\"phong\\\",MeshStandardMaterial:\\\"physical\\\",MeshPhysicalMaterial:\\\"physical\\\",LineBasicMaterial:\\\"basic\\\",LineDashedMaterial:\\\"dashed\\\",PointsMaterial:\\\"points\\\"},o=[\\\"precision\\\",\\\"supportsVertexTextures\\\",\\\"map\\\",\\\"mapEncoding\\\",\\\"envMap\\\",\\\"envMapMode\\\",\\\"envMapEncoding\\\",\\\"lightMap\\\",\\\"aoMap\\\",\\\"emissiveMap\\\",\\\"emissiveMapEncoding\\\",\\\"bumpMap\\\",\\\"normalMap\\\",\\\"displacementMap\\\",\\\"specularMap\\\",\\\"roughnessMap\\\",\\\"metalnessMap\\\",\\\"alphaMap\\\",\\\"combine\\\",\\\"vertexColors\\\",\\\"fog\\\",\\\"useFog\\\",\\\"fogExp\\\",\\\"flatShading\\\",\\\"sizeAttenuation\\\",\\\"logarithmicDepthBuffer\\\",\\\"skinning\\\",\\\"maxBones\\\",\\\"useVertexTexture\\\",\\\"morphTargets\\\",\\\"morphNormals\\\",\\\"maxMorphTargets\\\",\\\"maxMorphNormals\\\",\\\"premultipliedAlpha\\\",\\\"numDirLights\\\",\\\"numPointLights\\\",\\\"numSpotLights\\\",\\\"numHemiLights\\\",\\\"shadowMapEnabled\\\",\\\"shadowMapType\\\",\\\"toneMapping\\\",\\\"physicallyCorrectLights\\\",\\\"alphaTest\\\",\\\"doubleSided\\\",\\\"flipSided\\\",\\\"numClippingPlanes\\\",\\\"numClipIntersection\\\",\\\"depthPacking\\\"];this.getParameters=function(r,o,s,c,h,l){var u=a[r.type],p=i(l),d=t.getPrecision();null!==r.precision&&(d=e.getMaxPrecision(r.precision),d!==r.precision&&console.warn(\\\"THREE.WebGLProgram.getParameters:\\\",r.precision,\\\"not supported, using\\\",d,\\\"instead.\\\"));var f=t.getCurrentRenderTarget(),m={shaderID:u,precision:d,supportsVertexTextures:e.vertexTextures,outputEncoding:n(f?f.texture:null,t.gammaOutput),map:!!r.map,mapEncoding:n(r.map,t.gammaInput),envMap:!!r.envMap,envMapMode:r.envMap&&r.envMap.mapping,envMapEncoding:n(r.envMap,t.gammaInput),envMapCubeUV:!!r.envMap&&(r.envMap.mapping===Ta||r.envMap.mapping===Sa),lightMap:!!r.lightMap,aoMap:!!r.aoMap,emissiveMap:!!r.emissiveMap,emissiveMapEncoding:n(r.emissiveMap,t.gammaInput),bumpMap:!!r.bumpMap,normalMap:!!r.normalMap,displacementMap:!!r.displacementMap,roughnessMap:!!r.roughnessMap,metalnessMap:!!r.metalnessMap,specularMap:!!r.specularMap,alphaMap:!!r.alphaMap,combine:r.combine,vertexColors:r.vertexColors,fog:!!s,useFog:r.fog,fogExp:s&&s.isFogExp2,flatShading:r.shading===Rr,sizeAttenuation:r.sizeAttenuation,logarithmicDepthBuffer:e.logarithmicDepthBuffer,skinning:r.skinning,maxBones:p,useVertexTexture:e.floatVertexTextures&&l&&l.skeleton&&l.skeleton.useVertexTexture,morphTargets:r.morphTargets,morphNormals:r.morphNormals,maxMorphTargets:t.maxMorphTargets,maxMorphNormals:t.maxMorphNormals,numDirLights:o.directional.length,numPointLights:o.point.length,numSpotLights:o.spot.length,numHemiLights:o.hemi.length,numClippingPlanes:c,numClipIntersection:h,shadowMapEnabled:t.shadowMap.enabled&&l.receiveShadow&&o.shadows.length>0,shadowMapType:t.shadowMap.type,toneMapping:t.toneMapping,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:r.premultipliedAlpha,alphaTest:r.alphaTest,doubleSided:r.side===Lr,flipSided:r.side===Ar,depthPacking:void 0!==r.depthPacking&&r.depthPacking};return m},this.getProgramCode=function(t,e){var i=[];if(e.shaderID?i.push(e.shaderID):(i.push(t.fragmentShader),i.push(t.vertexShader)),void 0!==t.defines)for(var n in t.defines)i.push(n),i.push(t.defines[n]);for(var r=0;r<o.length;r++)i.push(e[o[r]]);return i.join()},this.acquireProgram=function(e,i,n){for(var a,o=0,s=r.length;o<s;o++){var c=r[o];if(c.code===n){a=c,++a.usedTimes;break}}return void 0===a&&(a=new Kt(t,n,e,i),r.push(a)),a},this.releaseProgram=function(t){if(0===--t.usedTimes){var e=r.indexOf(t);r[e]=r[r.length-1],r.pop(),t.destroy()}},this.programs=r}function te(t,e,i){function n(t){var r=t.target,s=c[r.id];null!==s.index&&a(s.index),o(s.attributes),r.removeEventListener(\\\"dispose\\\",n),delete c[r.id];var h=e.get(r);h.wireframe&&a(h.wireframe),e.delete(r);var l=e.get(s);l.wireframe&&a(l.wireframe),e.delete(s),i.memory.geometries--}function r(t){return t.isInterleavedBufferAttribute?e.get(t.data).__webglBuffer:e.get(t).__webglBuffer}function a(e){var i=r(e);void 0!==i&&(t.deleteBuffer(i),s(e))}function o(t){for(var e in t)a(t[e])}function s(t){t.isInterleavedBufferAttribute?e.delete(t.data):e.delete(t)}var c={};return{get:function(t){var e=t.geometry;if(void 0!==c[e.id])return c[e.id];e.addEventListener(\\\"dispose\\\",n);var r;return e.isBufferGeometry?r=e:e.isGeometry&&(void 0===e._bufferGeometry&&(e._bufferGeometry=(new Rt).setFromObject(t)),r=e._bufferGeometry),c[e.id]=r,i.memory.geometries++,r}}}function ee(t,e,i){function n(e){var i=h.get(e);e.geometry.isGeometry&&i.updateFromObject(e);var n=i.index,a=i.attributes;null!==n&&r(n,t.ELEMENT_ARRAY_BUFFER);for(var o in a)r(a[o],t.ARRAY_BUFFER);var s=i.morphAttributes;for(var o in s)for(var c=s[o],l=0,u=c.length;l<u;l++)r(c[l],t.ARRAY_BUFFER);return i}function r(t,i){var n=t.isInterleavedBufferAttribute?t.data:t,r=e.get(n);void 0===r.__webglBuffer?a(r,n,i):r.version!==n.version&&o(r,n,i)}function a(e,i,n){e.__webglBuffer=t.createBuffer(),t.bindBuffer(n,e.__webglBuffer);var r=i.dynamic?t.DYNAMIC_DRAW:t.STATIC_DRAW;t.bufferData(n,i.array,r),e.version=i.version}function o(e,i,n){t.bindBuffer(n,e.__webglBuffer),i.dynamic===!1?t.bufferData(n,i.array,t.STATIC_DRAW):i.updateRange.count===-1?t.bufferSubData(n,0,i.array):0===i.updateRange.count?console.error(\\\"THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually.\\\"):(t.bufferSubData(n,i.updateRange.offset*i.array.BYTES_PER_ELEMENT,i.array.subarray(i.updateRange.offset,i.updateRange.offset+i.updateRange.count)),i.updateRange.count=0),e.version=i.version}function s(t){return t.isInterleavedBufferAttribute?e.get(t.data).__webglBuffer:e.get(t).__webglBuffer}function c(i){var n=e.get(i);if(void 0!==n.wireframe)return n.wireframe;var a=[],o=i.index,s=i.attributes,c=s.position;if(null!==o)for(var h=o.array,l=0,u=h.length;l<u;l+=3){var p=h[l+0],d=h[l+1],f=h[l+2];a.push(p,d,d,f,f,p)}else for(var h=s.position.array,l=0,u=h.length/3-1;l<u;l+=3){var p=l+0,d=l+1,f=l+2;a.push(p,d,d,f,f,p)}var m=c.count>65535?Uint32Array:Uint16Array,v=new mt(new m(a),1);return r(v,t.ELEMENT_ARRAY_BUFFER),n.wireframe=v,v}var h=new te(t,e,i);return{getAttributeBuffer:s,getWireframeAttribute:c,update:n}}function ie(t,e,i,n,r,a,o){function s(t,e){if(t.width>e||t.height>e){var i=e/Math.max(t.width,t.height),n=document.createElementNS(\\\"http://www.w3.org/1999/xhtml\\\",\\\"canvas\\\");n.width=Math.floor(t.width*i),n.height=Math.floor(t.height*i);var r=n.getContext(\\\"2d\\\");return r.drawImage(t,0,0,t.width,t.height,0,0,n.width,n.height),console.warn(\\\"THREE.WebGLRenderer: image is too big (\\\"+t.width+\\\"x\\\"+t.height+\\\"). Resized to \\\"+n.width+\\\"x\\\"+n.height,t),n}return t}function c(t){return Fo.isPowerOfTwo(t.width)&&Fo.isPowerOfTwo(t.height)}function h(t){if(t instanceof HTMLImageElement||t instanceof HTMLCanvasElement){var e=document.createElementNS(\\\"http://www.w3.org/1999/xhtml\\\",\\\"canvas\\\");e.width=Fo.nearestPowerOfTwo(t.width),e.height=Fo.nearestPowerOfTwo(t.height);var i=e.getContext(\\\"2d\\\");return i.drawImage(t,0,0,e.width,e.height),console.warn(\\\"THREE.WebGLRenderer: image is not power of two (\\\"+t.width+\\\"x\\\"+t.height+\\\"). Resized to \\\"+e.width+\\\"x\\\"+e.height,t),e}return t}function l(t){return t.wrapS!==Ra||t.wrapT!==Ra||t.minFilter!==Ia&&t.minFilter!==Da}function u(e){return e===Ia||e===Ua||e===Na?t.NEAREST:t.LINEAR}function p(t){var e=t.target;e.removeEventListener(\\\"dispose\\\",p),f(e),A.textures--}function d(t){var e=t.target;e.removeEventListener(\\\"dispose\\\",d),m(e),A.textures--}function f(e){var i=n.get(e);if(e.image&&i.__image__webglTextureCube)t.deleteTexture(i.__image__webglTextureCube);else{if(void 0===i.__webglInit)return;t.deleteTexture(i.__webglTexture)}n.delete(e)}function m(e){var i=n.get(e),r=n.get(e.texture);if(e){if(void 0!==r.__webglTexture&&t.deleteTexture(r.__webglTexture),e.depthTexture&&e.depthTexture.dispose(),e&&e.isWebGLRenderTargetCube)for(var a=0;a<6;a++)t.deleteFramebuffer(i.__webglFramebuffer[a]),i.__webglDepthbuffer&&t.deleteRenderbuffer(i.__webglDepthbuffer[a]);else t.deleteFramebuffer(i.__webglFramebuffer),i.__webglDepthbuffer&&t.deleteRenderbuffer(i.__webglDepthbuffer);n.delete(e.texture),n.delete(e)}}function v(e,r){var a=n.get(e);if(e.version>0&&a.__version!==e.version){var o=e.image;if(void 0===o)console.warn(\\\"THREE.WebGLRenderer: Texture marked for update but image is undefined\\\",e);else{if(o.complete!==!1)return void _(a,e,r);console.warn(\\\"THREE.WebGLRenderer: Texture marked for update but image is incomplete\\\",e)}}i.activeTexture(t.TEXTURE0+r),i.bindTexture(t.TEXTURE_2D,a.__webglTexture)}function g(e,o){var h=n.get(e);if(6===e.image.length)if(e.version>0&&h.__version!==e.version){h.__image__webglTextureCube||(e.addEventListener(\\\"dispose\\\",p),h.__image__webglTextureCube=t.createTexture(),A.textures++),i.activeTexture(t.TEXTURE0+o),i.bindTexture(t.TEXTURE_CUBE_MAP,h.__image__webglTextureCube),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e.flipY);for(var l=e&&e.isCompressedTexture,u=e.image[0]&&e.image[0].isDataTexture,d=[],f=0;f<6;f++)l||u?d[f]=u?e.image[f].image:e.image[f]:d[f]=s(e.image[f],r.maxCubemapSize);var m=d[0],v=c(m),g=a(e.format),y=a(e.type);x(t.TEXTURE_CUBE_MAP,e,v);for(var f=0;f<6;f++)if(l)for(var _,b=d[f].mipmaps,w=0,M=b.length;w<M;w++)_=b[w],e.format!==$a&&e.format!==Ka?i.getCompressedTextureFormats().indexOf(g)>-1?i.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+f,w,g,_.width,_.height,0,_.data):console.warn(\\\"THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()\\\"):i.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+f,w,g,_.width,_.height,0,g,y,_.data);else u?i.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+f,0,g,d[f].width,d[f].height,0,g,y,d[f].data):i.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+f,0,g,g,y,d[f]);e.generateMipmaps&&v&&t.generateMipmap(t.TEXTURE_CUBE_MAP),h.__version=e.version,e.onUpdate&&e.onUpdate(e)}else i.activeTexture(t.TEXTURE0+o),i.bindTexture(t.TEXTURE_CUBE_MAP,h.__image__webglTextureCube)}function y(e,r){i.activeTexture(t.TEXTURE0+r),i.bindTexture(t.TEXTURE_CUBE_MAP,n.get(e).__webglTexture)}function x(i,o,s){var c;if(s?(t.texParameteri(i,t.TEXTURE_WRAP_S,a(o.wrapS)),t.texParameteri(i,t.TEXTURE_WRAP_T,a(o.wrapT)),t.texParameteri(i,t.TEXTURE_MAG_FILTER,a(o.magFilter)),t.texParameteri(i,t.TEXTURE_MIN_FILTER,a(o.minFilter))):(t.texParameteri(i,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(i,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),o.wrapS===Ra&&o.wrapT===Ra||console.warn(\\\"THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.\\\",o),t.texParameteri(i,t.TEXTURE_MAG_FILTER,u(o.magFilter)),t.texParameteri(i,t.TEXTURE_MIN_FILTER,u(o.minFilter)),o.minFilter!==Ia&&o.minFilter!==Da&&console.warn(\\\"THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.\\\",o)),c=e.get(\\\"EXT_texture_filter_anisotropic\\\")){if(o.type===Wa&&null===e.get(\\\"OES_texture_float_linear\\\"))return;if(o.type===Xa&&null===e.get(\\\"OES_texture_half_float_linear\\\"))return;(o.anisotropy>1||n.get(o).__currentAnisotropy)&&(t.texParameterf(i,c.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,r.getMaxAnisotropy())),n.get(o).__currentAnisotropy=o.anisotropy)}}function _(e,n,o){void 0===e.__webglInit&&(e.__webglInit=!0,n.addEventListener(\\\"dispose\\\",p),e.__webglTexture=t.createTexture(),A.textures++),i.activeTexture(t.TEXTURE0+o),i.bindTexture(t.TEXTURE_2D,e.__webglTexture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,n.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,n.unpackAlignment);var u=s(n.image,r.maxTextureSize);l(n)&&c(u)===!1&&(u=h(u));var d=c(u),f=a(n.format),m=a(n.type);x(t.TEXTURE_2D,n,d);var v,g=n.mipmaps;if(n&&n.isDepthTexture){var y=t.DEPTH_COMPONENT;if(n.type===Wa){if(!L)throw new Error(\\\"Float Depth Texture only supported in WebGL2.0\\\");y=t.DEPTH_COMPONENT32F}else L&&(y=t.DEPTH_COMPONENT16);n.format===ro&&(y=t.DEPTH_STENCIL),i.texImage2D(t.TEXTURE_2D,0,y,u.width,u.height,0,f,m,null)}else if(n&&n.isDataTexture)if(g.length>0&&d){for(var _=0,b=g.length;_<b;_++)v=g[_],i.texImage2D(t.TEXTURE_2D,_,f,v.width,v.height,0,f,m,v.data);n.generateMipmaps=!1}else i.texImage2D(t.TEXTURE_2D,0,f,u.width,u.height,0,f,m,u.data);else if(n&&n.isCompressedTexture)for(var _=0,b=g.length;_<b;_++)v=g[_],n.format!==$a&&n.format!==Ka?i.getCompressedTextureFormats().indexOf(f)>-1?i.compressedTexImage2D(t.TEXTURE_2D,_,f,v.width,v.height,0,v.data):console.warn(\\\"THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()\\\"):i.texImage2D(t.TEXTURE_2D,_,f,v.width,v.height,0,f,m,v.data);else if(g.length>0&&d){for(var _=0,b=g.length;_<b;_++)v=g[_],i.texImage2D(t.TEXTURE_2D,_,f,f,m,v);n.generateMipmaps=!1}else i.texImage2D(t.TEXTURE_2D,0,f,f,m,u);n.generateMipmaps&&d&&t.generateMipmap(t.TEXTURE_2D),e.__version=n.version,n.onUpdate&&n.onUpdate(n)}function b(e,r,o,s){var c=a(r.texture.format),h=a(r.texture.type);i.texImage2D(s,0,c,r.width,r.height,0,c,h,null),t.bindFramebuffer(t.FRAMEBUFFER,e),t.framebufferTexture2D(t.FRAMEBUFFER,o,s,n.get(r.texture).__webglTexture,0),t.bindFramebuffer(t.FRAMEBUFFER,null)}function w(e,i){t.bindRenderbuffer(t.RENDERBUFFER,e),i.depthBuffer&&!i.stencilBuffer?(t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,i.width,i.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e)):i.depthBuffer&&i.stencilBuffer?(t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,i.width,i.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,e)):t.renderbufferStorage(t.RENDERBUFFER,t.RGBA4,i.width,i.height),t.bindRenderbuffer(t.RENDERBUFFER,null)}function M(e,i){var r=i&&i.isWebGLRenderTargetCube;if(r)throw new Error(\\\"Depth Texture with cube render targets is not supported!\\\");if(t.bindFramebuffer(t.FRAMEBUFFER,e),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error(\\\"renderTarget.depthTexture must be an instance of THREE.DepthTexture\\\");n.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),v(i.depthTexture,0);var a=n.get(i.depthTexture).__webglTexture;if(i.depthTexture.format===no)t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,a,0);else{if(i.depthTexture.format!==ro)throw new Error(\\\"Unknown depthTexture format\\\");t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,a,0)}}function E(e){var i=n.get(e),r=e&&e.isWebGLRenderTargetCube;if(e.depthTexture){if(r)throw new Error(\\\"target.depthTexture not supported in Cube render targets\\\");M(i.__webglFramebuffer,e)}else if(r){i.__webglDepthbuffer=[];for(var a=0;a<6;a++)t.bindFramebuffer(t.FRAMEBUFFER,i.__webglFramebuffer[a]),i.__webglDepthbuffer[a]=t.createRenderbuffer(),w(i.__webglDepthbuffer[a],e)}else t.bindFramebuffer(t.FRAMEBUFFER,i.__webglFramebuffer),i.__webglDepthbuffer=t.createRenderbuffer(),w(i.__webglDepthbuffer,e);t.bindFramebuffer(t.FRAMEBUFFER,null)}function T(e){var r=n.get(e),a=n.get(e.texture);e.addEventListener(\\\"dispose\\\",d),a.__webglTexture=t.createTexture(),A.textures++;var o=e&&e.isWebGLRenderTargetCube,s=c(e);if(o){r.__webglFramebuffer=[];for(var h=0;h<6;h++)r.__webglFramebuffer[h]=t.createFramebuffer()}else r.__webglFramebuffer=t.createFramebuffer();if(o){i.bindTexture(t.TEXTURE_CUBE_MAP,a.__webglTexture),x(t.TEXTURE_CUBE_MAP,e.texture,s);for(var h=0;h<6;h++)b(r.__webglFramebuffer[h],e,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+h);e.texture.generateMipmaps&&s&&t.generateMipmap(t.TEXTURE_CUBE_MAP),i.bindTexture(t.TEXTURE_CUBE_MAP,null)}else i.bindTexture(t.TEXTURE_2D,a.__webglTexture),x(t.TEXTURE_2D,e.texture,s),b(r.__webglFramebuffer,e,t.COLOR_ATTACHMENT0,t.TEXTURE_2D),e.texture.generateMipmaps&&s&&t.generateMipmap(t.TEXTURE_2D),i.bindTexture(t.TEXTURE_2D,null);e.depthBuffer&&E(e)}function S(e){var r=e.texture;if(r.generateMipmaps&&c(e)&&r.minFilter!==Ia&&r.minFilter!==Da){var a=e&&e.isWebGLRenderTargetCube?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,o=n.get(r).__webglTexture;i.bindTexture(a,o),t.generateMipmap(a),i.bindTexture(a,null)}}var A=o.memory,L=\\\"undefined\\\"!=typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext;this.setTexture2D=v,this.setTextureCube=g,this.setTextureCubeDynamic=y,this.setupRenderTarget=T,this.updateRenderTargetMipmap=S}function ne(){var t={};return{get:function(e){var i=e.uuid,n=t[i];return void 0===n&&(n={},t[i]=n),n},delete:function(e){delete t[e.uuid]},clear:function(){t={}}}}function re(t,e,i){function n(){var e=!1,i=new a,n=null,r=new a;return{setMask:function(i){n===i||e||(t.colorMask(i,i,i,i),n=i)},setLocked:function(t){e=t},setClear:function(e,n,a,o){i.set(e,n,a,o),r.equals(i)===!1&&(t.clearColor(e,n,a,o),r.copy(i))},reset:function(){e=!1,n=null,r.set(0,0,0,1)}}}function r(){var e=!1,i=null,n=null,r=null;return{setTest:function(e){e?d(t.DEPTH_TEST):f(t.DEPTH_TEST)},setMask:function(n){i===n||e||(t.depthMask(n),i=n)},setFunc:function(e){if(n!==e){if(e)switch(e){case na:t.depthFunc(t.NEVER);break;case ra:t.depthFunc(t.ALWAYS);break;case aa:t.depthFunc(t.LESS);break;case oa:t.depthFunc(t.LEQUAL);break;case sa:t.depthFunc(t.EQUAL);break;case ca:t.depthFunc(t.GEQUAL);break;case ha:t.depthFunc(t.GREATER);break;case la:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}else t.depthFunc(t.LEQUAL);n=e}},setLocked:function(t){e=t},setClear:function(e){r!==e&&(t.clearDepth(e),r=e)},reset:function(){e=!1,i=null,n=null,r=null}}}function o(){var e=!1,i=null,n=null,r=null,a=null,o=null,s=null,c=null,h=null;return{setTest:function(e){e?d(t.STENCIL_TEST):f(t.STENCIL_TEST)},setMask:function(n){i===n||e||(t.stencilMask(n),i=n)},setFunc:function(e,i,o){n===e&&r===i&&a===o||(t.stencilFunc(e,i,o),n=e,r=i,a=o)},setOp:function(e,i,n){o===e&&s===i&&c===n||(t.stencilOp(e,i,n),o=e,s=i,c=n)},setLocked:function(t){e=t},setClear:function(e){h!==e&&(t.clearStencil(e),h=e)},reset:function(){e=!1,i=null,n=null,r=null,a=null,o=null,s=null,c=null,h=null}}}function s(e,i,n){var r=new Uint8Array(4),a=t.createTexture();t.bindTexture(e,a),t.texParameteri(e,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(e,t.TEXTURE_MAG_FILTER,t.NEAREST);for(var o=0;o<n;o++)t.texImage2D(i+o,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,r);return a}function c(){D(0,0,0,1),O(1),F(0),d(t.DEPTH_TEST),_(oa),T(!1),S(yr),d(t.CULL_FACE),d(t.BLEND),v(Dr)}function h(){for(var t=0,e=W.length;t<e;t++)W[t]=0}function l(i){if(W[i]=1,0===X[i]&&(t.enableVertexAttribArray(i),X[i]=1),0!==Y[i]){var n=e.get(\\\"ANGLE_instanced_arrays\\\");n.vertexAttribDivisorANGLE(i,0),Y[i]=0}}function u(e,i,n){W[e]=1,0===X[e]&&(t.enableVertexAttribArray(e),X[e]=1),Y[e]!==i&&(n.vertexAttribDivisorANGLE(e,i),Y[e]=i)}function p(){for(var e=0,i=X.length;e!==i;++e)X[e]!==W[e]&&(t.disableVertexAttribArray(e),X[e]=0)}function d(e){q[e]!==!0&&(t.enable(e),q[e]=!0)}function f(e){q[e]!==!1&&(t.disable(e),q[e]=!1)}function m(){if(null===Z&&(Z=[],e.get(\\\"WEBGL_compressed_texture_pvrtc\\\")||e.get(\\\"WEBGL_compressed_texture_s3tc\\\")||e.get(\\\"WEBGL_compressed_texture_etc1\\\")))for(var i=t.getParameter(t.COMPRESSED_TEXTURE_FORMATS),n=0;n<i.length;n++)Z.push(i[n]);return Z}function v(e,n,r,a,o,s,c,h){e!==Nr?d(t.BLEND):f(t.BLEND),e===J&&h===nt||(e===Or?h?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE,t.ONE,t.ONE)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.SRC_ALPHA,t.ONE)):e===Fr?h?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ZERO,t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ONE_MINUS_SRC_ALPHA)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ZERO,t.ONE_MINUS_SRC_COLOR)):e===Br?h?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ZERO,t.SRC_COLOR)):h?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA)):(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA)),J=e,nt=h),e===zr?(o=o||n,s=s||r,c=c||a,n===Q&&o===tt||(t.blendEquationSeparate(i(n),i(o)),Q=n,tt=o),r===K&&a===$&&s===et&&c===it||(t.blendFuncSeparate(i(r),i(a),i(s),i(c)),K=r,$=a,et=s,it=c)):(Q=null,K=null,$=null,tt=null,et=null,it=null)}function g(t){H.setMask(t)}function y(t){V.setTest(t)}function x(t){V.setMask(t)}function _(t){V.setFunc(t)}function b(t){k.setTest(t)}function w(t){k.setMask(t)}function M(t,e,i){k.setFunc(t,e,i)}function E(t,e,i){k.setOp(t,e,i)}function T(e){rt!==e&&(e?t.frontFace(t.CW):t.frontFace(t.CCW),rt=e)}function S(e){e!==gr?(d(t.CULL_FACE),e!==at&&(e===yr?t.cullFace(t.BACK):e===xr?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):f(t.CULL_FACE),at=e}function A(e){e!==ot&&(t.lineWidth(e),ot=e)}function L(e,i,n){e?(d(t.POLYGON_OFFSET_FILL),st===i&&ct===n||(t.polygonOffset(i,n),st=i,ct=n)):f(t.POLYGON_OFFSET_FILL)}function R(){return ht}function P(e){ht=e,e?d(t.SCISSOR_TEST):f(t.SCISSOR_TEST)}function C(e){void 0===e&&(e=t.TEXTURE0+lt-1),ut!==e&&(t.activeTexture(e),ut=e)}function I(e,i){null===ut&&C();var n=pt[ut];void 0===n&&(n={type:void 0,texture:void 0},pt[ut]=n),n.type===e&&n.texture===i||(t.bindTexture(e,i||mt[e]),n.type=e,n.texture=i)}function U(){try{t.compressedTexImage2D.apply(t,arguments)}catch(t){console.error(t)}}function N(){try{t.texImage2D.apply(t,arguments)}catch(t){console.error(t)}}function D(t,e,i,n){H.setClear(t,e,i,n)}function O(t){V.setClear(t)}function F(t){k.setClear(t)}function B(e){dt.equals(e)===!1&&(t.scissor(e.x,e.y,e.z,e.w),dt.copy(e))}function z(e){ft.equals(e)===!1&&(t.viewport(e.x,e.y,e.z,e.w),ft.copy(e))}function G(){for(var e=0;e<X.length;e++)1===X[e]&&(t.disableVertexAttribArray(e),\\nX[e]=0);q={},Z=null,ut=null,pt={},J=null,rt=null,at=null,H.reset(),V.reset(),k.reset()}var H=new n,V=new r,k=new o,j=t.getParameter(t.MAX_VERTEX_ATTRIBS),W=new Uint8Array(j),X=new Uint8Array(j),Y=new Uint8Array(j),q={},Z=null,J=null,Q=null,K=null,$=null,tt=null,et=null,it=null,nt=!1,rt=null,at=null,ot=null,st=null,ct=null,ht=null,lt=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),ut=null,pt={},dt=new a,ft=new a,mt={};return mt[t.TEXTURE_2D]=s(t.TEXTURE_2D,t.TEXTURE_2D,1),mt[t.TEXTURE_CUBE_MAP]=s(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),{buffers:{color:H,depth:V,stencil:k},init:c,initAttributes:h,enableAttribute:l,enableAttributeAndDivisor:u,disableUnusedAttributes:p,enable:d,disable:f,getCompressedTextureFormats:m,setBlending:v,setColorWrite:g,setDepthTest:y,setDepthWrite:x,setDepthFunc:_,setStencilTest:b,setStencilWrite:w,setStencilFunc:M,setStencilOp:E,setFlipSided:T,setCullFace:S,setLineWidth:A,setPolygonOffset:L,getScissorTest:R,setScissorTest:P,activeTexture:C,bindTexture:I,compressedTexImage2D:U,texImage2D:N,clearColor:D,clearDepth:O,clearStencil:F,scissor:B,viewport:z,reset:G}}function ae(t,e,i){function n(){if(void 0!==a)return a;var i=e.get(\\\"EXT_texture_filter_anisotropic\\\");return a=null!==i?t.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}function r(e){if(\\\"highp\\\"===e){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return\\\"highp\\\";e=\\\"mediump\\\"}return\\\"mediump\\\"===e&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?\\\"mediump\\\":\\\"lowp\\\"}var a,o=void 0!==i.precision?i.precision:\\\"highp\\\",s=r(o);s!==o&&(console.warn(\\\"THREE.WebGLRenderer:\\\",o,\\\"not supported, using\\\",s,\\\"instead.\\\"),o=s);var c=i.logarithmicDepthBuffer===!0&&!!e.get(\\\"EXT_frag_depth\\\"),h=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),l=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),u=t.getParameter(t.MAX_TEXTURE_SIZE),p=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),d=t.getParameter(t.MAX_VERTEX_ATTRIBS),f=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),m=t.getParameter(t.MAX_VARYING_VECTORS),v=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),g=l>0,y=!!e.get(\\\"OES_texture_float\\\"),x=g&&y;return{getMaxAnisotropy:n,getMaxPrecision:r,precision:o,logarithmicDepthBuffer:c,maxTextures:h,maxVertexTextures:l,maxTextureSize:u,maxCubemapSize:p,maxAttributes:d,maxVertexUniforms:f,maxVaryings:m,maxFragmentUniforms:v,vertexTextures:g,floatFragmentTextures:y,floatVertexTextures:x}}function oe(t){var e={};return{get:function(i){if(void 0!==e[i])return e[i];var n;switch(i){case\\\"WEBGL_depth_texture\\\":n=t.getExtension(\\\"WEBGL_depth_texture\\\")||t.getExtension(\\\"MOZ_WEBGL_depth_texture\\\")||t.getExtension(\\\"WEBKIT_WEBGL_depth_texture\\\");break;case\\\"EXT_texture_filter_anisotropic\\\":n=t.getExtension(\\\"EXT_texture_filter_anisotropic\\\")||t.getExtension(\\\"MOZ_EXT_texture_filter_anisotropic\\\")||t.getExtension(\\\"WEBKIT_EXT_texture_filter_anisotropic\\\");break;case\\\"WEBGL_compressed_texture_s3tc\\\":n=t.getExtension(\\\"WEBGL_compressed_texture_s3tc\\\")||t.getExtension(\\\"MOZ_WEBGL_compressed_texture_s3tc\\\")||t.getExtension(\\\"WEBKIT_WEBGL_compressed_texture_s3tc\\\");break;case\\\"WEBGL_compressed_texture_pvrtc\\\":n=t.getExtension(\\\"WEBGL_compressed_texture_pvrtc\\\")||t.getExtension(\\\"WEBKIT_WEBGL_compressed_texture_pvrtc\\\");break;case\\\"WEBGL_compressed_texture_etc1\\\":n=t.getExtension(\\\"WEBGL_compressed_texture_etc1\\\");break;default:n=t.getExtension(i)}return null===n&&console.warn(\\\"THREE.WebGLRenderer: \\\"+i+\\\" extension not supported.\\\"),e[i]=n,n}}}function se(){function t(){h.value!==n&&(h.value=n,h.needsUpdate=r>0),i.numPlanes=r,i.numIntersection=0}function e(t,e,n,r){var a=null!==t?t.length:0,o=null;if(0!==a){if(o=h.value,r!==!0||null===o){var l=n+4*a,u=e.matrixWorldInverse;c.getNormalMatrix(u),(null===o||o.length<l)&&(o=new Float32Array(l));for(var p=0,d=n;p!==a;++p,d+=4)s.copy(t[p]).applyMatrix4(u,c),s.normal.toArray(o,d),o[d+3]=s.constant}h.value=o,h.needsUpdate=!0}return i.numPlanes=a,o}var i=this,n=null,r=0,a=!1,o=!1,s=new nt,c=new it,h={value:null,needsUpdate:!1};this.uniform=h,this.numPlanes=0,this.numIntersection=0,this.init=function(t,i,o){var s=0!==t.length||i||0!==r||a;return a=i,n=e(t,o,0),r=t.length,s},this.beginShadows=function(){o=!0,e(null)},this.endShadows=function(){o=!1,t()},this.setState=function(i,s,c,l,u,p){if(!a||null===i||0===i.length||o&&!c)o?e(null):t();else{var d=o?0:r,f=4*d,m=u.clippingState||null;h.value=m,m=e(i,l,f,p);for(var v=0;v!==f;++v)m[v]=n[v];u.clippingState=m,this.numIntersection=s?this.numPlanes:0,this.numPlanes+=d}}}function ce(t){function e(){return null===ut?Tt:1}function i(t,e,i,n){Y===!0&&(t*=n,e*=n,i*=n),Qt.clearColor(t,e,i,n)}function n(){Qt.init(),Qt.scissor(gt.copy(St).multiplyScalar(Tt)),Qt.viewport(xt.copy(Lt).multiplyScalar(Tt)),i(bt.r,bt.g,bt.b,wt)}function r(){lt=null,vt=null,mt=\\\"\\\",dt=-1,Qt.reset()}function o(t){t.preventDefault(),r(),n(),Kt.clear()}function s(t){var e=t.target;e.removeEventListener(\\\"dispose\\\",s),c(e)}function c(t){u(t),Kt.delete(t)}function u(t){var e=Kt.get(t).program;t.program=void 0,void 0!==e&&he.releaseProgram(e)}function p(t,e,i,n){var r;if(i&&i.isInstancedBufferGeometry&&(r=Zt.get(\\\"ANGLE_instanced_arrays\\\"),null===r))return void console.error(\\\"THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.\\\");void 0===n&&(n=0),Qt.initAttributes();var a=i.attributes,o=e.getAttributes(),s=t.defaultAttributeValues;for(var c in o){var h=o[c];if(h>=0){var l=a[c];if(void 0!==l){var u=Yt.FLOAT,p=l.array,d=l.normalized;p instanceof Float32Array?u=Yt.FLOAT:p instanceof Float64Array?console.warn(\\\"Unsupported data buffer format: Float64Array\\\"):p instanceof Uint16Array?u=Yt.UNSIGNED_SHORT:p instanceof Int16Array?u=Yt.SHORT:p instanceof Uint32Array?u=Yt.UNSIGNED_INT:p instanceof Int32Array?u=Yt.INT:p instanceof Int8Array?u=Yt.BYTE:p instanceof Uint8Array&&(u=Yt.UNSIGNED_BYTE);var f=l.itemSize,m=ce.getAttributeBuffer(l);if(l.isInterleavedBufferAttribute){var v=l.data,g=v.stride,y=l.offset;v&&v.isInstancedInterleavedBuffer?(Qt.enableAttributeAndDivisor(h,v.meshPerAttribute,r),void 0===i.maxInstancedCount&&(i.maxInstancedCount=v.meshPerAttribute*v.count)):Qt.enableAttribute(h),Yt.bindBuffer(Yt.ARRAY_BUFFER,m),Yt.vertexAttribPointer(h,f,u,d,g*v.array.BYTES_PER_ELEMENT,(n*g+y)*v.array.BYTES_PER_ELEMENT)}else l.isInstancedBufferAttribute?(Qt.enableAttributeAndDivisor(h,l.meshPerAttribute,r),void 0===i.maxInstancedCount&&(i.maxInstancedCount=l.meshPerAttribute*l.count)):Qt.enableAttribute(h),Yt.bindBuffer(Yt.ARRAY_BUFFER,m),Yt.vertexAttribPointer(h,f,u,d,0,n*f*l.array.BYTES_PER_ELEMENT)}else if(void 0!==s){var x=s[c];if(void 0!==x)switch(x.length){case 2:Yt.vertexAttrib2fv(h,x);break;case 3:Yt.vertexAttrib3fv(h,x);break;case 4:Yt.vertexAttrib4fv(h,x);break;default:Yt.vertexAttrib1fv(h,x)}}}}Qt.disableUnusedAttributes()}function d(t,e){return Math.abs(e[0])-Math.abs(t[0])}function f(t,e){return t.object.renderOrder!==e.object.renderOrder?t.object.renderOrder-e.object.renderOrder:t.material.program&&e.material.program&&t.material.program!==e.material.program?t.material.program.id-e.material.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function m(t,e){return t.object.renderOrder!==e.object.renderOrder?t.object.renderOrder-e.object.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function v(t,e,i,n,r){var a,o;i.transparent?(a=it,o=++nt):(a=$,o=++tt);var s=a[o];void 0!==s?(s.id=t.id,s.object=t,s.geometry=e,s.material=i,s.z=jt.z,s.group=r):(s={id:t.id,object:t,geometry:e,material:i,z:jt.z,group:r},a.push(s))}function g(t){var e=t.geometry;return null===e.boundingSphere&&e.computeBoundingSphere(),Vt.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),x(Vt)}function y(t){return Vt.center.set(0,0,0),Vt.radius=.7071067811865476,Vt.applyMatrix4(t.matrixWorld),x(Vt)}function x(t){if(!Ut.intersectsSphere(t))return!1;var e=zt.numPlanes;if(0===e)return!0;var i=ht.clippingPlanes,n=t.center,r=-t.radius,a=0;do if(i[a].distanceToPoint(n)<r)return!1;while(++a!==e);return!0}function _(t,e){if(t.visible!==!1){var i=0!==(t.layers.mask&e.layers.mask);if(i)if(t.isLight)Q.push(t);else if(t.isSprite)t.frustumCulled!==!1&&y(t)!==!0||st.push(t);else if(t.isLensFlare)ct.push(t);else if(t.isImmediateRenderObject)ht.sortObjects===!0&&(jt.setFromMatrixPosition(t.matrixWorld),jt.applyProjection(kt)),v(t,null,t.material,jt.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.update(),t.frustumCulled===!1||g(t)===!0)){var n=t.material;if(n.visible===!0){ht.sortObjects===!0&&(jt.setFromMatrixPosition(t.matrixWorld),jt.applyProjection(kt));var r=ce.update(t);if(n.isMultiMaterial)for(var a=r.groups,o=n.materials,s=0,c=a.length;s<c;s++){var h=a[s],l=o[h.materialIndex];l.visible===!0&&v(t,r,l,jt.z,h)}else v(t,r,n,jt.z,null)}}for(var u=t.children,s=0,c=u.length;s<c;s++)_(u[s],e)}}function b(t,e,i,n){for(var r=0,a=t.length;r<a;r++){var o=t[r],s=o.object,c=o.geometry,h=void 0===n?o.material:n,l=o.group;if(s.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,s.matrixWorld),s.normalMatrix.getNormalMatrix(s.modelViewMatrix),s.onBeforeRender(ht,e,i,c,h,l),s.isImmediateRenderObject){M(h);var u=E(i,e.fog,h,s);mt=\\\"\\\",s.render(function(t){ht.renderBufferImmediate(t,u,h)})}else ht.renderBufferDirect(i,e.fog,c,h,s,l);s.onAfterRender(ht,e,i,c,h,l)}}function w(t,e,i){var n=Kt.get(t),r=he.getParameters(t,Wt,e,zt.numPlanes,zt.numIntersection,i),a=he.getProgramCode(t,r),o=n.program,c=!0;if(void 0===o)t.addEventListener(\\\"dispose\\\",s);else if(o.code!==a)u(t);else{if(void 0!==r.shaderID)return;c=!1}if(c){if(r.shaderID){var h=Wc[r.shaderID];n.__webglShader={name:t.type,uniforms:jo.clone(h.uniforms),vertexShader:h.vertexShader,fragmentShader:h.fragmentShader}}else n.__webglShader={name:t.type,uniforms:t.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader};t.__webglShader=n.__webglShader,o=he.acquireProgram(t,r,a),n.program=o,t.program=o}var l=o.getAttributes();if(t.morphTargets){t.numSupportedMorphTargets=0;for(var p=0;p<ht.maxMorphTargets;p++)l[\\\"morphTarget\\\"+p]>=0&&t.numSupportedMorphTargets++}if(t.morphNormals){t.numSupportedMorphNormals=0;for(var p=0;p<ht.maxMorphNormals;p++)l[\\\"morphNormal\\\"+p]>=0&&t.numSupportedMorphNormals++}var d=n.__webglShader.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&&t.clipping!==!0||(n.numClippingPlanes=zt.numPlanes,n.numIntersection=zt.numIntersection,d.clippingPlanes=zt.uniform),n.fog=e,n.lightsHash=Wt.hash,t.lights&&(d.ambientLightColor.value=Wt.ambient,d.directionalLights.value=Wt.directional,d.spotLights.value=Wt.spot,d.pointLights.value=Wt.point,d.hemisphereLights.value=Wt.hemi,d.directionalShadowMap.value=Wt.directionalShadowMap,d.directionalShadowMatrix.value=Wt.directionalShadowMatrix,d.spotShadowMap.value=Wt.spotShadowMap,d.spotShadowMatrix.value=Wt.spotShadowMatrix,d.pointShadowMap.value=Wt.pointShadowMap,d.pointShadowMatrix.value=Wt.pointShadowMatrix);var f=n.program.getUniforms(),m=W.seqWithValue(f.seq,d);n.uniformsList=m}function M(t){t.side===Lr?Qt.disable(Yt.CULL_FACE):Qt.enable(Yt.CULL_FACE),Qt.setFlipSided(t.side===Ar),t.transparent===!0?Qt.setBlending(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha):Qt.setBlending(Nr),Qt.setDepthFunc(t.depthFunc),Qt.setDepthTest(t.depthTest),Qt.setDepthWrite(t.depthWrite),Qt.setColorWrite(t.colorWrite),Qt.setPolygonOffset(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)}function E(t,e,i,n){_t=0;var r=Kt.get(i);if(Gt&&(Ht||t!==vt)){var a=t===vt&&i.id===dt;zt.setState(i.clippingPlanes,i.clipIntersection,i.clipShadows,t,r,a)}i.needsUpdate===!1&&(void 0===r.program?i.needsUpdate=!0:i.fog&&r.fog!==e?i.needsUpdate=!0:i.lights&&r.lightsHash!==Wt.hash?i.needsUpdate=!0:void 0===r.numClippingPlanes||r.numClippingPlanes===zt.numPlanes&&r.numIntersection===zt.numIntersection||(i.needsUpdate=!0)),i.needsUpdate&&(w(i,e,n),i.needsUpdate=!1);var o=!1,s=!1,c=!1,h=r.program,l=h.getUniforms(),u=r.__webglShader.uniforms;if(h.id!==lt&&(Yt.useProgram(h.program),lt=h.id,o=!0,s=!0,c=!0),i.id!==dt&&(dt=i.id,s=!0),o||t!==vt){if(l.set(Yt,t,\\\"projectionMatrix\\\"),Jt.logarithmicDepthBuffer&&l.setValue(Yt,\\\"logDepthBufFC\\\",2/(Math.log(t.far+1)/Math.LN2)),t!==vt&&(vt=t,s=!0,c=!0),i.isShaderMaterial||i.isMeshPhongMaterial||i.isMeshStandardMaterial||i.envMap){var p=l.map.cameraPosition;void 0!==p&&p.setValue(Yt,jt.setFromMatrixPosition(t.matrixWorld))}(i.isMeshPhongMaterial||i.isMeshLambertMaterial||i.isMeshBasicMaterial||i.isMeshStandardMaterial||i.isShaderMaterial||i.skinning)&&l.setValue(Yt,\\\"viewMatrix\\\",t.matrixWorldInverse),l.set(Yt,ht,\\\"toneMappingExposure\\\"),l.set(Yt,ht,\\\"toneMappingWhitePoint\\\")}if(i.skinning){l.setOptional(Yt,n,\\\"bindMatrix\\\"),l.setOptional(Yt,n,\\\"bindMatrixInverse\\\");var d=n.skeleton;d&&(Jt.floatVertexTextures&&d.useVertexTexture?(l.set(Yt,d,\\\"boneTexture\\\"),l.set(Yt,d,\\\"boneTextureWidth\\\"),l.set(Yt,d,\\\"boneTextureHeight\\\")):l.setOptional(Yt,d,\\\"boneMatrices\\\"))}return s&&(i.lights&&N(u,c),e&&i.fog&&R(u,e),(i.isMeshBasicMaterial||i.isMeshLambertMaterial||i.isMeshPhongMaterial||i.isMeshStandardMaterial||i.isMeshDepthMaterial)&&T(u,i),i.isLineBasicMaterial?S(u,i):i.isLineDashedMaterial?(S(u,i),A(u,i)):i.isPointsMaterial?L(u,i):i.isMeshLambertMaterial?P(u,i):i.isMeshPhongMaterial?C(u,i):i.isMeshPhysicalMaterial?U(u,i):i.isMeshStandardMaterial?I(u,i):i.isMeshDepthMaterial?i.displacementMap&&(u.displacementMap.value=i.displacementMap,u.displacementScale.value=i.displacementScale,u.displacementBias.value=i.displacementBias):i.isMeshNormalMaterial&&(u.opacity.value=i.opacity),W.upload(Yt,r.uniformsList,u,ht)),l.set(Yt,n,\\\"modelViewMatrix\\\"),l.set(Yt,n,\\\"normalMatrix\\\"),l.setValue(Yt,\\\"modelMatrix\\\",n.matrixWorld),h}function T(t,e){t.opacity.value=e.opacity,t.diffuse.value=e.color,e.emissive&&t.emissive.value.copy(e.emissive).multiplyScalar(e.emissiveIntensity),t.map.value=e.map,t.specularMap.value=e.specularMap,t.alphaMap.value=e.alphaMap,e.aoMap&&(t.aoMap.value=e.aoMap,t.aoMapIntensity.value=e.aoMapIntensity);var i;if(e.map?i=e.map:e.specularMap?i=e.specularMap:e.displacementMap?i=e.displacementMap:e.normalMap?i=e.normalMap:e.bumpMap?i=e.bumpMap:e.roughnessMap?i=e.roughnessMap:e.metalnessMap?i=e.metalnessMap:e.alphaMap?i=e.alphaMap:e.emissiveMap&&(i=e.emissiveMap),void 0!==i){i.isWebGLRenderTarget&&(i=i.texture);var n=i.offset,r=i.repeat;t.offsetRepeat.value.set(n.x,n.y,r.x,r.y)}t.envMap.value=e.envMap,t.flipEnvMap.value=e.envMap&&e.envMap.isCubeTexture?-1:1,t.reflectivity.value=e.reflectivity,t.refractionRatio.value=e.refractionRatio}function S(t,e){t.diffuse.value=e.color,t.opacity.value=e.opacity}function A(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}function L(t,e){if(t.diffuse.value=e.color,t.opacity.value=e.opacity,t.size.value=e.size*Tt,t.scale.value=.5*Et,t.map.value=e.map,null!==e.map){var i=e.map.offset,n=e.map.repeat;t.offsetRepeat.value.set(i.x,i.y,n.x,n.y)}}function R(t,e){t.fogColor.value=e.color,e.isFog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e.isFogExp2&&(t.fogDensity.value=e.density)}function P(t,e){e.lightMap&&(t.lightMap.value=e.lightMap,t.lightMapIntensity.value=e.lightMapIntensity),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap)}function C(t,e){t.specular.value=e.specular,t.shininess.value=Math.max(e.shininess,1e-4),e.lightMap&&(t.lightMap.value=e.lightMap,t.lightMapIntensity.value=e.lightMapIntensity),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale)),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function I(t,e){t.roughness.value=e.roughness,t.metalness.value=e.metalness,e.roughnessMap&&(t.roughnessMap.value=e.roughnessMap),e.metalnessMap&&(t.metalnessMap.value=e.metalnessMap),e.lightMap&&(t.lightMap.value=e.lightMap,t.lightMapIntensity.value=e.lightMapIntensity),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale)),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),e.envMap&&(t.envMapIntensity.value=e.envMapIntensity)}function U(t,e){t.clearCoat.value=e.clearCoat,t.clearCoatRoughness.value=e.clearCoatRoughness,I(t,e)}function N(t,e){t.ambientLightColor.needsUpdate=e,t.directionalLights.needsUpdate=e,t.pointLights.needsUpdate=e,t.spotLights.needsUpdate=e,t.hemisphereLights.needsUpdate=e}function D(t){for(var e=0,i=0,n=t.length;i<n;i++){var r=t[i];r.castShadow&&(Wt.shadows[e++]=r)}Wt.shadows.length=e}function O(t,e){var i,n,r,a,o,s,c,h=0,u=0,p=0,d=e.matrixWorldInverse,f=0,m=0,v=0,g=0;for(i=0,n=t.length;i<n;i++)if(r=t[i],a=r.color,o=r.intensity,s=r.distance,c=r.shadow&&r.shadow.map?r.shadow.map.texture:null,r.isAmbientLight)h+=a.r*o,u+=a.g*o,p+=a.b*o;else if(r.isDirectionalLight){var y=le.get(r);y.color.copy(r.color).multiplyScalar(r.intensity),y.direction.setFromMatrixPosition(r.matrixWorld),jt.setFromMatrixPosition(r.target.matrixWorld),y.direction.sub(jt),y.direction.transformDirection(d),y.shadow=r.castShadow,r.castShadow&&(y.shadowBias=r.shadow.bias,y.shadowRadius=r.shadow.radius,y.shadowMapSize=r.shadow.mapSize),Wt.directionalShadowMap[f]=c,Wt.directionalShadowMatrix[f]=r.shadow.matrix,Wt.directional[f++]=y}else if(r.isSpotLight){var y=le.get(r);y.position.setFromMatrixPosition(r.matrixWorld),y.position.applyMatrix4(d),y.color.copy(a).multiplyScalar(o),y.distance=s,y.direction.setFromMatrixPosition(r.matrixWorld),jt.setFromMatrixPosition(r.target.matrixWorld),y.direction.sub(jt),y.direction.transformDirection(d),y.coneCos=Math.cos(r.angle),y.penumbraCos=Math.cos(r.angle*(1-r.penumbra)),y.decay=0===r.distance?0:r.decay,y.shadow=r.castShadow,r.castShadow&&(y.shadowBias=r.shadow.bias,y.shadowRadius=r.shadow.radius,y.shadowMapSize=r.shadow.mapSize),Wt.spotShadowMap[v]=c,Wt.spotShadowMatrix[v]=r.shadow.matrix,Wt.spot[v++]=y}else if(r.isPointLight){var y=le.get(r);y.position.setFromMatrixPosition(r.matrixWorld),y.position.applyMatrix4(d),y.color.copy(r.color).multiplyScalar(r.intensity),y.distance=r.distance,y.decay=0===r.distance?0:r.decay,y.shadow=r.castShadow,r.castShadow&&(y.shadowBias=r.shadow.bias,y.shadowRadius=r.shadow.radius,y.shadowMapSize=r.shadow.mapSize),Wt.pointShadowMap[m]=c,void 0===Wt.pointShadowMatrix[m]&&(Wt.pointShadowMatrix[m]=new l),jt.setFromMatrixPosition(r.matrixWorld).negate(),Wt.pointShadowMatrix[m].identity().setPosition(jt),Wt.point[m++]=y}else if(r.isHemisphereLight){var y=le.get(r);y.direction.setFromMatrixPosition(r.matrixWorld),y.direction.transformDirection(d),y.direction.normalize(),y.skyColor.copy(r.color).multiplyScalar(o),y.groundColor.copy(r.groundColor).multiplyScalar(o),Wt.hemi[g++]=y}Wt.ambient[0]=h,Wt.ambient[1]=u,Wt.ambient[2]=p,Wt.directional.length=f,Wt.spot.length=v,Wt.point.length=m,Wt.hemi.length=g,Wt.hash=f+\\\",\\\"+m+\\\",\\\"+v+\\\",\\\"+g+\\\",\\\"+Wt.shadows.length}function F(){var t=_t;return t>=Jt.maxTextures&&console.warn(\\\"WebGLRenderer: trying to use \\\"+t+\\\" texture units while this GPU supports only \\\"+Jt.maxTextures),_t+=1,t}function B(t){var e;if(t===La)return Yt.REPEAT;if(t===Ra)return Yt.CLAMP_TO_EDGE;if(t===Pa)return Yt.MIRRORED_REPEAT;if(t===Ia)return Yt.NEAREST;if(t===Ua)return Yt.NEAREST_MIPMAP_NEAREST;if(t===Na)return Yt.NEAREST_MIPMAP_LINEAR;if(t===Da)return Yt.LINEAR;if(t===Oa)return Yt.LINEAR_MIPMAP_NEAREST;if(t===Fa)return Yt.LINEAR_MIPMAP_LINEAR;if(t===za)return Yt.UNSIGNED_BYTE;if(t===Ya)return Yt.UNSIGNED_SHORT_4_4_4_4;if(t===qa)return Yt.UNSIGNED_SHORT_5_5_5_1;if(t===Za)return Yt.UNSIGNED_SHORT_5_6_5;if(t===Ga)return Yt.BYTE;if(t===Ha)return Yt.SHORT;if(t===Va)return Yt.UNSIGNED_SHORT;if(t===ka)return Yt.INT;if(t===ja)return Yt.UNSIGNED_INT;if(t===Wa)return Yt.FLOAT;if(t===Xa&&(e=Zt.get(\\\"OES_texture_half_float\\\"),null!==e))return e.HALF_FLOAT_OES;if(t===Qa)return Yt.ALPHA;if(t===Ka)return Yt.RGB;if(t===$a)return Yt.RGBA;if(t===to)return Yt.LUMINANCE;if(t===eo)return Yt.LUMINANCE_ALPHA;if(t===no)return Yt.DEPTH_COMPONENT;if(t===ro)return Yt.DEPTH_STENCIL;if(t===Hr)return Yt.FUNC_ADD;if(t===Vr)return Yt.FUNC_SUBTRACT;if(t===kr)return Yt.FUNC_REVERSE_SUBTRACT;if(t===Xr)return Yt.ZERO;if(t===Yr)return Yt.ONE;if(t===qr)return Yt.SRC_COLOR;if(t===Zr)return Yt.ONE_MINUS_SRC_COLOR;if(t===Jr)return Yt.SRC_ALPHA;if(t===Qr)return Yt.ONE_MINUS_SRC_ALPHA;if(t===Kr)return Yt.DST_ALPHA;if(t===$r)return Yt.ONE_MINUS_DST_ALPHA;if(t===ta)return Yt.DST_COLOR;if(t===ea)return Yt.ONE_MINUS_DST_COLOR;if(t===ia)return Yt.SRC_ALPHA_SATURATE;if((t===ao||t===oo||t===so||t===co)&&(e=Zt.get(\\\"WEBGL_compressed_texture_s3tc\\\"),null!==e)){if(t===ao)return e.COMPRESSED_RGB_S3TC_DXT1_EXT;if(t===oo)return e.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(t===so)return e.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(t===co)return e.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((t===ho||t===lo||t===uo||t===po)&&(e=Zt.get(\\\"WEBGL_compressed_texture_pvrtc\\\"),null!==e)){if(t===ho)return e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(t===lo)return e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(t===uo)return e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(t===po)return e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(t===fo&&(e=Zt.get(\\\"WEBGL_compressed_texture_etc1\\\"),null!==e))return e.COMPRESSED_RGB_ETC1_WEBGL;if((t===jr||t===Wr)&&(e=Zt.get(\\\"EXT_blend_minmax\\\"),null!==e)){if(t===jr)return e.MIN_EXT;if(t===Wr)return e.MAX_EXT}return t===Ja&&(e=Zt.get(\\\"WEBGL_depth_texture\\\"),null!==e)?e.UNSIGNED_INT_24_8_WEBGL:0}console.log(\\\"THREE.WebGLRenderer\\\",mr),t=t||{};var z=void 0!==t.canvas?t.canvas:document.createElementNS(\\\"http://www.w3.org/1999/xhtml\\\",\\\"canvas\\\"),G=void 0!==t.context?t.context:null,H=void 0!==t.alpha&&t.alpha,V=void 0===t.depth||t.depth,k=void 0===t.stencil||t.stencil,j=void 0!==t.antialias&&t.antialias,Y=void 0===t.premultipliedAlpha||t.premultipliedAlpha,J=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,Q=[],$=[],tt=-1,it=[],nt=-1,ot=new Float32Array(8),st=[],ct=[];this.domElement=z,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=ma,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var ht=this,lt=null,ut=null,pt=null,dt=-1,mt=\\\"\\\",vt=null,gt=new a,yt=null,xt=new a,_t=0,bt=new X(0),wt=0,Mt=z.width,Et=z.height,Tt=1,St=new a(0,0,Mt,Et),At=!1,Lt=new a(0,0,Mt,Et),Ut=new rt,zt=new se,Gt=!1,Ht=!1,Vt=new et,kt=new l,jt=new h,Wt={hash:\\\"\\\",ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],shadows:[]},Xt={calls:0,vertices:0,faces:0,points:0};this.info={render:Xt,memory:{geometries:0,textures:0},programs:null};var Yt;try{var qt={alpha:H,depth:V,stencil:k,antialias:j,premultipliedAlpha:Y,preserveDrawingBuffer:J};if(Yt=G||z.getContext(\\\"webgl\\\",qt)||z.getContext(\\\"experimental-webgl\\\",qt),null===Yt)throw null!==z.getContext(\\\"webgl\\\")?\\\"Error creating WebGL context with your selected attributes.\\\":\\\"Error creating WebGL context.\\\";void 0===Yt.getShaderPrecisionFormat&&(Yt.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}}),z.addEventListener(\\\"webglcontextlost\\\",o,!1)}catch(t){console.error(\\\"THREE.WebGLRenderer: \\\"+t)}var Zt=new oe(Yt);Zt.get(\\\"WEBGL_depth_texture\\\"),Zt.get(\\\"OES_texture_float\\\"),Zt.get(\\\"OES_texture_float_linear\\\"),Zt.get(\\\"OES_texture_half_float\\\"),Zt.get(\\\"OES_texture_half_float_linear\\\"),Zt.get(\\\"OES_standard_derivatives\\\"),Zt.get(\\\"ANGLE_instanced_arrays\\\"),Zt.get(\\\"OES_element_index_uint\\\")&&(Rt.MaxIndex=4294967296);var Jt=new ae(Yt,Zt,t),Qt=new re(Yt,Zt,B),Kt=new ne,te=new ie(Yt,Zt,Qt,Kt,Jt,B,this.info),ce=new ee(Yt,Kt,this.info),he=new $t(this,Jt),le=new Bt;this.info.programs=he.programs;var ue=new Ft(Yt,Zt,Xt),pe=new Ot(Yt,Zt,Xt),de=new Dt((-1),1,1,(-1),0,1),fe=new Nt,me=new Pt(new It(2,2),new ft({depthTest:!1,depthWrite:!1,fog:!1})),ve=Wc.cube,ge=new Pt(new Ct(5,5,5),new K({uniforms:ve.uniforms,vertexShader:ve.vertexShader,fragmentShader:ve.fragmentShader,side:Ar,depthTest:!1,depthWrite:!1,fog:!1}));n(),this.context=Yt,this.capabilities=Jt,this.extensions=Zt,this.properties=Kt,this.state=Qt;var ye=new at(this,Wt,ce,Jt);this.shadowMap=ye;var xe=new Z(this,st),_e=new q(this,ct);this.getContext=function(){return Yt},this.getContextAttributes=function(){return Yt.getContextAttributes()},this.forceContextLoss=function(){Zt.get(\\\"WEBGL_lose_context\\\").loseContext()},this.getMaxAnisotropy=function(){return Jt.getMaxAnisotropy()},this.getPrecision=function(){return Jt.precision},this.getPixelRatio=function(){return Tt},this.setPixelRatio=function(t){void 0!==t&&(Tt=t,this.setSize(Lt.z,Lt.w,!1))},this.getSize=function(){return{width:Mt,height:Et}},this.setSize=function(t,e,i){Mt=t,Et=e,z.width=t*Tt,z.height=e*Tt,i!==!1&&(z.style.width=t+\\\"px\\\",z.style.height=e+\\\"px\\\"),this.setViewport(0,0,t,e)},this.setViewport=function(t,e,i,n){Qt.viewport(Lt.set(t,e,i,n))},this.setScissor=function(t,e,i,n){Qt.scissor(St.set(t,e,i,n))},this.setScissorTest=function(t){Qt.setScissorTest(At=t)},this.getClearColor=function(){return bt},this.setClearColor=function(t,e){bt.set(t),wt=void 0!==e?e:1,i(bt.r,bt.g,bt.b,wt)},this.getClearAlpha=function(){return wt},this.setClearAlpha=function(t){wt=t,i(bt.r,bt.g,bt.b,wt)},this.clear=function(t,e,i){var n=0;(void 0===t||t)&&(n|=Yt.COLOR_BUFFER_BIT),(void 0===e||e)&&(n|=Yt.DEPTH_BUFFER_BIT),(void 0===i||i)&&(n|=Yt.STENCIL_BUFFER_BIT),Yt.clear(n)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.clearTarget=function(t,e,i,n){this.setRenderTarget(t),this.clear(e,i,n)},this.resetGLState=r,this.dispose=function(){it=[],nt=-1,$=[],tt=-1,z.removeEventListener(\\\"webglcontextlost\\\",o,!1)},this.renderBufferImmediate=function(t,e,i){Qt.initAttributes();var n=Kt.get(t);t.hasPositions&&!n.position&&(n.position=Yt.createBuffer()),t.hasNormals&&!n.normal&&(n.normal=Yt.createBuffer()),t.hasUvs&&!n.uv&&(n.uv=Yt.createBuffer()),t.hasColors&&!n.color&&(n.color=Yt.createBuffer());var r=e.getAttributes();if(t.hasPositions&&(Yt.bindBuffer(Yt.ARRAY_BUFFER,n.position),Yt.bufferData(Yt.ARRAY_BUFFER,t.positionArray,Yt.DYNAMIC_DRAW),Qt.enableAttribute(r.position),Yt.vertexAttribPointer(r.position,3,Yt.FLOAT,!1,0,0)),t.hasNormals){if(Yt.bindBuffer(Yt.ARRAY_BUFFER,n.normal),!i.isMeshPhongMaterial&&!i.isMeshStandardMaterial&&i.shading===Rr)for(var a=0,o=3*t.count;a<o;a+=9){var s=t.normalArray,c=(s[a+0]+s[a+3]+s[a+6])/3,h=(s[a+1]+s[a+4]+s[a+7])/3,l=(s[a+2]+s[a+5]+s[a+8])/3;s[a+0]=c,s[a+1]=h,s[a+2]=l,s[a+3]=c,s[a+4]=h,s[a+5]=l,s[a+6]=c,s[a+7]=h,s[a+8]=l}Yt.bufferData(Yt.ARRAY_BUFFER,t.normalArray,Yt.DYNAMIC_DRAW),Qt.enableAttribute(r.normal),Yt.vertexAttribPointer(r.normal,3,Yt.FLOAT,!1,0,0)}t.hasUvs&&i.map&&(Yt.bindBuffer(Yt.ARRAY_BUFFER,n.uv),Yt.bufferData(Yt.ARRAY_BUFFER,t.uvArray,Yt.DYNAMIC_DRAW),Qt.enableAttribute(r.uv),Yt.vertexAttribPointer(r.uv,2,Yt.FLOAT,!1,0,0)),t.hasColors&&i.vertexColors!==Cr&&(Yt.bindBuffer(Yt.ARRAY_BUFFER,n.color),Yt.bufferData(Yt.ARRAY_BUFFER,t.colorArray,Yt.DYNAMIC_DRAW),Qt.enableAttribute(r.color),Yt.vertexAttribPointer(r.color,3,Yt.FLOAT,!1,0,0)),Qt.disableUnusedAttributes(),Yt.drawArrays(Yt.TRIANGLES,0,t.count),t.count=0},this.renderBufferDirect=function(t,i,n,r,a,o){M(r);var s=E(t,i,r,a),c=!1,h=n.id+\\\"_\\\"+s.id+\\\"_\\\"+r.wireframe;h!==mt&&(mt=h,c=!0);var l=a.morphTargetInfluences;if(void 0!==l){for(var u=[],f=0,m=l.length;f<m;f++){var v=l[f];u.push([v,f])}u.sort(d),u.length>8&&(u.length=8);for(var g=n.morphAttributes,f=0,m=u.length;f<m;f++){var v=u[f];if(ot[f]=v[0],0!==v[0]){var y=v[1];r.morphTargets===!0&&g.position&&n.addAttribute(\\\"morphTarget\\\"+f,g.position[y]),r.morphNormals===!0&&g.normal&&n.addAttribute(\\\"morphNormal\\\"+f,g.normal[y])}else r.morphTargets===!0&&n.removeAttribute(\\\"morphTarget\\\"+f),r.morphNormals===!0&&n.removeAttribute(\\\"morphNormal\\\"+f)}for(var f=u.length,x=ot.length;f<x;f++)ot[f]=0;s.getUniforms().setValue(Yt,\\\"morphTargetInfluences\\\",ot),c=!0}var y=n.index,_=n.attributes.position,b=1;r.wireframe===!0&&(y=ce.getWireframeAttribute(n),b=2);var w;null!==y?(w=pe,w.setIndex(y)):w=ue,c&&(p(r,s,n),null!==y&&Yt.bindBuffer(Yt.ELEMENT_ARRAY_BUFFER,ce.getAttributeBuffer(y)));var T=0;null!==y?T=y.count:void 0!==_&&(T=_.count);var S=n.drawRange.start*b,A=n.drawRange.count*b,L=null!==o?o.start*b:0,R=null!==o?o.count*b:1/0,P=Math.max(S,L),C=Math.min(T,S+A,L+R)-1,I=Math.max(0,C-P+1);if(0!==I){if(a.isMesh)if(r.wireframe===!0)Qt.setLineWidth(r.wireframeLinewidth*e()),w.setMode(Yt.LINES);else switch(a.drawMode){case Eo:w.setMode(Yt.TRIANGLES);break;case To:w.setMode(Yt.TRIANGLE_STRIP);break;case So:w.setMode(Yt.TRIANGLE_FAN)}else if(a.isLine){var U=r.linewidth;void 0===U&&(U=1),Qt.setLineWidth(U*e()),a.isLineSegments?w.setMode(Yt.LINES):w.setMode(Yt.LINE_STRIP)}else a.isPoints&&w.setMode(Yt.POINTS);n&&n.isInstancedBufferGeometry?n.maxInstancedCount>0&&w.renderInstances(n,P,I):w.render(P,I)}},this.render=function(t,e,n,r){if(void 0!==e&&e.isCamera!==!0)return void console.error(\\\"THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.\\\");mt=\\\"\\\",dt=-1,vt=null,t.autoUpdate===!0&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),e.matrixWorldInverse.getInverse(e.matrixWorld),kt.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),Ut.setFromMatrix(kt),Q.length=0,tt=-1,nt=-1,st.length=0,ct.length=0,Ht=this.localClippingEnabled,Gt=zt.init(this.clippingPlanes,Ht,e),_(t,e),$.length=tt+1,it.length=nt+1,ht.sortObjects===!0&&($.sort(f),it.sort(m)),Gt&&zt.beginShadows(),D(Q),ye.render(t,e),O(Q,e),Gt&&zt.endShadows(),Xt.calls=0,Xt.vertices=0,Xt.faces=0,Xt.points=0,void 0===n&&(n=null),this.setRenderTarget(n);var a=t.background;if(null===a?i(bt.r,bt.g,bt.b,wt):a&&a.isColor&&(i(a.r,a.g,a.b,1),r=!0),(this.autoClear||r)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil),a&&a.isCubeTexture?(fe.projectionMatrix.copy(e.projectionMatrix),fe.matrixWorld.extractRotation(e.matrixWorld),fe.matrixWorldInverse.getInverse(fe.matrixWorld),ge.material.uniforms.tCube.value=a,ge.modelViewMatrix.multiplyMatrices(fe.matrixWorldInverse,ge.matrixWorld),ce.update(ge),ht.renderBufferDirect(fe,null,ge.geometry,ge.material,ge,null)):a&&a.isTexture&&(me.material.map=a,ce.update(me),ht.renderBufferDirect(de,null,me.geometry,me.material,me,null)),t.overrideMaterial){var o=t.overrideMaterial;b($,t,e,o),b(it,t,e,o)}else Qt.setBlending(Nr),b($,t,e),b(it,t,e);xe.render(t,e),_e.render(t,e,xt),n&&te.updateRenderTargetMipmap(n),Qt.setDepthTest(!0),Qt.setDepthWrite(!0),Qt.setColorWrite(!0)},this.setFaceCulling=function(t,e){Qt.setCullFace(t),Qt.setFlipSided(e===br)},this.allocTextureUnit=F,this.setTexture2D=function(){var t=!1;return function(e,i){e&&e.isWebGLRenderTarget&&(t||(console.warn(\\\"THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead.\\\"),t=!0),e=e.texture),te.setTexture2D(e,i)}}(),this.setTexture=function(){var t=!1;return function(e,i){t||(console.warn(\\\"THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead.\\\"),t=!0),te.setTexture2D(e,i)}}(),this.setTextureCube=function(){var t=!1;return function(e,i){e&&e.isWebGLRenderTargetCube&&(t||(console.warn(\\\"THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead.\\\"),t=!0),e=e.texture),e&&e.isCubeTexture||Array.isArray(e.image)&&6===e.image.length?te.setTextureCube(e,i):te.setTextureCubeDynamic(e,i)}}(),\\nthis.getCurrentRenderTarget=function(){return ut},this.setRenderTarget=function(t){ut=t,t&&void 0===Kt.get(t).__webglFramebuffer&&te.setupRenderTarget(t);var e,i=t&&t.isWebGLRenderTargetCube;if(t){var n=Kt.get(t);e=i?n.__webglFramebuffer[t.activeCubeFace]:n.__webglFramebuffer,gt.copy(t.scissor),yt=t.scissorTest,xt.copy(t.viewport)}else e=null,gt.copy(St).multiplyScalar(Tt),yt=At,xt.copy(Lt).multiplyScalar(Tt);if(pt!==e&&(Yt.bindFramebuffer(Yt.FRAMEBUFFER,e),pt=e),Qt.scissor(gt),Qt.setScissorTest(yt),Qt.viewport(xt),i){var r=Kt.get(t.texture);Yt.framebufferTexture2D(Yt.FRAMEBUFFER,Yt.COLOR_ATTACHMENT0,Yt.TEXTURE_CUBE_MAP_POSITIVE_X+t.activeCubeFace,r.__webglTexture,t.activeMipMapLevel)}},this.readRenderTargetPixels=function(t,e,i,n,r,a){if((t&&t.isWebGLRenderTarget)===!1)return void console.error(\\\"THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.\\\");var o=Kt.get(t).__webglFramebuffer;if(o){var s=!1;o!==pt&&(Yt.bindFramebuffer(Yt.FRAMEBUFFER,o),s=!0);try{var c=t.texture,h=c.format,l=c.type;if(h!==$a&&B(h)!==Yt.getParameter(Yt.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error(\\\"THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.\\\");if(!(l===za||B(l)===Yt.getParameter(Yt.IMPLEMENTATION_COLOR_READ_TYPE)||l===Wa&&(Zt.get(\\\"OES_texture_float\\\")||Zt.get(\\\"WEBGL_color_buffer_float\\\"))||l===Xa&&Zt.get(\\\"EXT_color_buffer_half_float\\\")))return void console.error(\\\"THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.\\\");Yt.checkFramebufferStatus(Yt.FRAMEBUFFER)===Yt.FRAMEBUFFER_COMPLETE?e>=0&&e<=t.width-n&&i>=0&&i<=t.height-r&&Yt.readPixels(e,i,n,r,B(h),B(l),a):console.error(\\\"THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.\\\")}finally{s&&Yt.bindFramebuffer(Yt.FRAMEBUFFER,pt)}}}}function he(t,e){this.name=\\\"\\\",this.color=new X(t),this.density=void 0!==e?e:25e-5}function le(t,e,i){this.name=\\\"\\\",this.color=new X(t),this.near=void 0!==e?e:1,this.far=void 0!==i?i:1e3}function ue(){ht.call(this),this.type=\\\"Scene\\\",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}function pe(t,e,i,n,r){ht.call(this),this.lensFlares=[],this.positionScreen=new h,this.customUpdateCallback=void 0,void 0!==t&&this.add(t,e,i,n,r)}function de(t){J.call(this),this.type=\\\"SpriteMaterial\\\",this.color=new X(16777215),this.map=null,this.rotation=0,this.fog=!1,this.lights=!1,this.setValues(t)}function fe(t){ht.call(this),this.type=\\\"Sprite\\\",this.material=void 0!==t?t:new de}function me(){ht.call(this),this.type=\\\"LOD\\\",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function ve(t,e,i,r,a,o,s,c,h,l,u,p){n.call(this,null,o,s,c,h,l,r,a,u,p),this.image={data:t,width:e,height:i},this.magFilter=void 0!==h?h:Ia,this.minFilter=void 0!==l?l:Ia,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function ge(t,e,i){if(this.useVertexTexture=void 0===i||i,this.identityMatrix=new l,t=t||[],this.bones=t.slice(0),this.useVertexTexture){var n=Math.sqrt(4*this.bones.length);n=Fo.nextPowerOfTwo(Math.ceil(n)),n=Math.max(n,4),this.boneTextureWidth=n,this.boneTextureHeight=n,this.boneMatrices=new Float32Array(this.boneTextureWidth*this.boneTextureHeight*4),this.boneTexture=new ve(this.boneMatrices,this.boneTextureWidth,this.boneTextureHeight,$a,Wa)}else this.boneMatrices=new Float32Array(16*this.bones.length);if(void 0===e)this.calculateInverses();else if(this.bones.length===e.length)this.boneInverses=e.slice(0);else{console.warn(\\\"THREE.Skeleton bonInverses is the wrong length.\\\"),this.boneInverses=[];for(var r=0,a=this.bones.length;r<a;r++)this.boneInverses.push(new l)}}function ye(t){ht.call(this),this.type=\\\"Bone\\\",this.skin=t}function xe(t,e,i){Pt.call(this,t,e),this.type=\\\"SkinnedMesh\\\",this.bindMode=\\\"attached\\\",this.bindMatrix=new l,this.bindMatrixInverse=new l;var n=[];if(this.geometry&&void 0!==this.geometry.bones){for(var r,a,o=0,s=this.geometry.bones.length;o<s;++o)a=this.geometry.bones[o],r=new ye(this),n.push(r),r.name=a.name,r.position.fromArray(a.pos),r.quaternion.fromArray(a.rotq),void 0!==a.scl&&r.scale.fromArray(a.scl);for(var o=0,s=this.geometry.bones.length;o<s;++o)a=this.geometry.bones[o],a.parent!==-1&&null!==a.parent&&void 0!==n[a.parent]?n[a.parent].add(n[o]):this.add(n[o])}this.normalizeSkinWeights(),this.updateMatrixWorld(!0),this.bind(new ge(n,(void 0),i),this.matrixWorld)}function _e(t){J.call(this),this.type=\\\"LineBasicMaterial\\\",this.color=new X(16777215),this.linewidth=1,this.linecap=\\\"round\\\",this.linejoin=\\\"round\\\",this.lights=!1,this.setValues(t)}function be(t,e,i){return 1===i?(console.warn(\\\"THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead.\\\"),new we(t,e)):(ht.call(this),this.type=\\\"Line\\\",this.geometry=void 0!==t?t:new Rt,void(this.material=void 0!==e?e:new _e({color:16777215*Math.random()})))}function we(t,e){be.call(this,t,e),this.type=\\\"LineSegments\\\"}function Me(t){J.call(this),this.type=\\\"PointsMaterial\\\",this.color=new X(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.lights=!1,this.setValues(t)}function Ee(t,e){ht.call(this),this.type=\\\"Points\\\",this.geometry=void 0!==t?t:new Rt,this.material=void 0!==e?e:new Me({color:16777215*Math.random()})}function Te(){ht.call(this),this.type=\\\"Group\\\"}function Se(t,e,i,r,a,o,s,c,h){function l(){requestAnimationFrame(l),t.readyState>=t.HAVE_CURRENT_DATA&&(u.needsUpdate=!0)}n.call(this,t,e,i,r,a,o,s,c,h),this.generateMipmaps=!1;var u=this;l()}function Ae(t,e,i,r,a,o,s,c,h,l,u,p){n.call(this,null,o,s,c,h,l,r,a,u,p),this.image={width:e,height:i},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}function Le(t,e,i,r,a,o,s,c,h){n.call(this,t,e,i,r,a,o,s,c,h),this.needsUpdate=!0}function Re(t,e,i,r,a,o,s,c,h,l){if(l=void 0!==l?l:no,l!==no&&l!==ro)throw new Error(\\\"DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat\\\");n.call(this,null,r,a,o,s,c,l,i,h),this.image={width:t,height:e},this.type=void 0!==i?i:Va,this.magFilter=void 0!==s?s:Ia,this.minFilter=void 0!==c?c:Ia,this.flipY=!1,this.generateMipmaps=!1}function Pe(t){function e(t,e){return t-e}Rt.call(this);var i=[0,0],n={},r=[\\\"a\\\",\\\"b\\\",\\\"c\\\"];if(t&&t.isGeometry){for(var a=t.vertices,o=t.faces,s=0,c=new Uint32Array(6*o.length),h=0,l=o.length;h<l;h++)for(var u=o[h],p=0;p<3;p++){i[0]=u[r[p]],i[1]=u[r[(p+1)%3]],i.sort(e);var d=i.toString();void 0===n[d]&&(c[2*s]=i[0],c[2*s+1]=i[1],n[d]=!0,s++)}for(var f=new Float32Array(2*s*3),h=0,l=s;h<l;h++)for(var p=0;p<2;p++){var m=a[c[2*h+p]],v=6*h+3*p;f[v+0]=m.x,f[v+1]=m.y,f[v+2]=m.z}this.addAttribute(\\\"position\\\",new mt(f,3))}else if(t&&t.isBufferGeometry)if(null!==t.index){var g=t.index.array,a=t.attributes.position,y=t.groups,s=0;0===y.length&&t.addGroup(0,g.length);for(var c=new Uint32Array(2*g.length),x=0,_=y.length;x<_;++x)for(var b=y[x],w=b.start,M=b.count,h=w,E=w+M;h<E;h+=3)for(var p=0;p<3;p++){i[0]=g[h+p],i[1]=g[h+(p+1)%3],i.sort(e);var d=i.toString();void 0===n[d]&&(c[2*s]=i[0],c[2*s+1]=i[1],n[d]=!0,s++)}for(var f=new Float32Array(2*s*3),h=0,l=s;h<l;h++)for(var p=0;p<2;p++){var v=6*h+3*p,T=c[2*h+p];f[v+0]=a.getX(T),f[v+1]=a.getY(T),f[v+2]=a.getZ(T)}this.addAttribute(\\\"position\\\",new mt(f,3))}else{for(var a=t.attributes.position.array,s=a.length/3,S=s/3,f=new Float32Array(2*s*3),h=0,l=S;h<l;h++)for(var p=0;p<3;p++){var v=18*h+6*p,A=9*h+3*p;f[v+0]=a[A],f[v+1]=a[A+1],f[v+2]=a[A+2];var T=9*h+3*((p+1)%3);f[v+3]=a[T],f[v+4]=a[T+1],f[v+5]=a[T+2]}this.addAttribute(\\\"position\\\",new mt(f,3))}}function Ce(t,e,i){Rt.call(this),this.type=\\\"ParametricBufferGeometry\\\",this.parameters={func:t,slices:e,stacks:i};var n,r,a,o,s,c=[],h=[],l=e+1;for(n=0;n<=i;n++)for(s=n/i,r=0;r<=e;r++)o=r/e,a=t(o,s),c.push(a.x,a.y,a.z),h.push(o,s);var u,p,d,f,m=[];for(n=0;n<i;n++)for(r=0;r<e;r++)u=n*l+r,p=n*l+r+1,d=(n+1)*l+r+1,f=(n+1)*l+r,m.push(u,p,f),m.push(p,d,f);this.setIndex((m.length>65535?wt:_t)(m,1)),this.addAttribute(\\\"position\\\",Mt(c,3)),this.addAttribute(\\\"uv\\\",Mt(h,2)),this.computeVertexNormals()}function Ie(t,e,i){St.call(this),this.type=\\\"ParametricGeometry\\\",this.parameters={func:t,slices:e,stacks:i},this.fromBufferGeometry(new Ce(t,e,i)),this.mergeVertices()}function Ue(t,e,n,r){function a(t){for(var i=new h,n=new h,r=new h,a=0;a<e.length;a+=3)p(e[a+0],i),p(e[a+1],n),p(e[a+2],r),o(i,n,r,t)}function o(t,e,i,n){var r,a,o=Math.pow(2,n),s=[];for(r=0;r<=o;r++){s[r]=[];var c=t.clone().lerp(i,r/o),h=e.clone().lerp(i,r/o),l=o-r;for(a=0;a<=l;a++)0===a&&r===o?s[r][a]=c:s[r][a]=c.clone().lerp(h,a/l)}for(r=0;r<o;r++)for(a=0;a<2*(o-r)-1;a++){var p=Math.floor(a/2);a%2===0?(u(s[r][p+1]),u(s[r+1][p]),u(s[r][p])):(u(s[r][p+1]),u(s[r+1][p+1]),u(s[r+1][p]))}}function s(t){for(var e=new h,i=0;i<g.length;i+=3)e.x=g[i+0],e.y=g[i+1],e.z=g[i+2],e.normalize().multiplyScalar(t),g[i+0]=e.x,g[i+1]=e.y,g[i+2]=e.z}function c(){for(var t=new h,e=0;e<g.length;e+=3){t.x=g[e+0],t.y=g[e+1],t.z=g[e+2];var i=m(t)/2/Math.PI+.5,n=v(t)/Math.PI+.5;y.push(i,1-n)}d(),l()}function l(){for(var t=0;t<y.length;t+=6){var e=y[t+0],i=y[t+2],n=y[t+4],r=Math.max(e,i,n),a=Math.min(e,i,n);r>.9&&a<.1&&(e<.2&&(y[t+0]+=1),i<.2&&(y[t+2]+=1),n<.2&&(y[t+4]+=1))}}function u(t){g.push(t.x,t.y,t.z)}function p(e,i){var n=3*e;i.x=t[n+0],i.y=t[n+1],i.z=t[n+2]}function d(){for(var t=new h,e=new h,n=new h,r=new h,a=new i,o=new i,s=new i,c=0,l=0;c<g.length;c+=9,l+=6){t.set(g[c+0],g[c+1],g[c+2]),e.set(g[c+3],g[c+4],g[c+5]),n.set(g[c+6],g[c+7],g[c+8]),a.set(y[l+0],y[l+1]),o.set(y[l+2],y[l+3]),s.set(y[l+4],y[l+5]),r.copy(t).add(e).add(n).divideScalar(3);var u=m(r);f(a,l+0,t,u),f(o,l+2,e,u),f(s,l+4,n,u)}}function f(t,e,i,n){n<0&&1===t.x&&(y[e]=t.x-1),0===i.x&&0===i.z&&(y[e]=n/2/Math.PI+.5)}function m(t){return Math.atan2(t.z,-t.x)}function v(t){return Math.atan2(-t.y,Math.sqrt(t.x*t.x+t.z*t.z))}Rt.call(this),this.type=\\\"PolyhedronBufferGeometry\\\",this.parameters={vertices:t,indices:e,radius:n,detail:r},n=n||1,r=r||0;var g=[],y=[];a(r),s(n),c(),this.addAttribute(\\\"position\\\",Mt(g,3)),this.addAttribute(\\\"normal\\\",Mt(g.slice(),3)),this.addAttribute(\\\"uv\\\",Mt(y,2)),this.normalizeNormals(),this.boundingSphere=new et(new h,n)}function Ne(t,e){var i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],n=[2,1,0,0,3,2,1,3,0,2,3,1];Ue.call(this,i,n,t,e),this.type=\\\"TetrahedronBufferGeometry\\\",this.parameters={radius:t,detail:e}}function De(t,e){St.call(this),this.type=\\\"TetrahedronGeometry\\\",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Ne(t,e)),this.mergeVertices()}function Oe(t,e){var i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],n=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];Ue.call(this,i,n,t,e),this.type=\\\"OctahedronBufferGeometry\\\",this.parameters={radius:t,detail:e}}function Fe(t,e){St.call(this),this.type=\\\"OctahedronGeometry\\\",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Oe(t,e)),this.mergeVertices()}function Be(t,e){var i=(1+Math.sqrt(5))/2,n=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],r=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];Ue.call(this,n,r,t,e),this.type=\\\"IcosahedronBufferGeometry\\\",this.parameters={radius:t,detail:e}}function ze(t,e){St.call(this),this.type=\\\"IcosahedronGeometry\\\",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Be(t,e)),this.mergeVertices()}function Ge(t,e){var i=(1+Math.sqrt(5))/2,n=1/i,r=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-n,-i,0,-n,i,0,n,-i,0,n,i,-n,-i,0,-n,i,0,n,-i,0,n,i,0,-i,0,-n,i,0,-n,-i,0,n,i,0,n],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];Ue.call(this,r,a,t,e),this.type=\\\"DodecahedronBufferGeometry\\\",this.parameters={radius:t,detail:e}}function He(t,e){St.call(this),this.type=\\\"DodecahedronGeometry\\\",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Ge(t,e)),this.mergeVertices()}function Ve(t,e,i,n){St.call(this),this.type=\\\"PolyhedronGeometry\\\",this.parameters={vertices:t,indices:e,radius:i,detail:n},this.fromBufferGeometry(new Ue(t,e,i,n)),this.mergeVertices()}function ke(t,e,n,r,a){function o(){for(p=0;p<e;p++)s(p);s(a===!1?e:0),l(),c()}function s(i){var a=t.getPointAt(i/e),o=u.normals[i],s=u.binormals[i];for(d=0;d<=r;d++){var c=d/r*Math.PI*2,h=Math.sin(c),l=-Math.cos(c);m.x=l*o.x+h*s.x,m.y=l*o.y+h*s.y,m.z=l*o.z+h*s.z,m.normalize(),y.push(m.x,m.y,m.z),f.x=a.x+n*m.x,f.y=a.y+n*m.y,f.z=a.z+n*m.z,g.push(f.x,f.y,f.z)}}function c(){for(d=1;d<=e;d++)for(p=1;p<=r;p++){var t=(r+1)*(d-1)+(p-1),i=(r+1)*d+(p-1),n=(r+1)*d+p,a=(r+1)*(d-1)+p;_.push(t,i,a),_.push(i,n,a)}}function l(){for(p=0;p<=e;p++)for(d=0;d<=r;d++)v.x=p/e,v.y=d/r,x.push(v.x,v.y)}Rt.call(this),this.type=\\\"TubeBufferGeometry\\\",this.parameters={path:t,tubularSegments:e,radius:n,radialSegments:r,closed:a},e=e||64,n=n||1,r=r||8,a=a||!1;var u=t.computeFrenetFrames(e,a);this.tangents=u.tangents,this.normals=u.normals,this.binormals=u.binormals;var p,d,f=new h,m=new h,v=new i,g=[],y=[],x=[],_=[];o(),this.setIndex((_.length>65535?wt:_t)(_,1)),this.addAttribute(\\\"position\\\",Mt(g,3)),this.addAttribute(\\\"normal\\\",Mt(y,3)),this.addAttribute(\\\"uv\\\",Mt(x,2))}function je(t,e,i,n,r,a){St.call(this),this.type=\\\"TubeGeometry\\\",this.parameters={path:t,tubularSegments:e,radius:i,radialSegments:n,closed:r},void 0!==a&&console.warn(\\\"THREE.TubeGeometry: taper has been removed.\\\");var o=new ke(t,e,i,n,r);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals,this.fromBufferGeometry(o),this.mergeVertices()}function We(t,e,n,r,a,o){function s(t,e,i,n,r){var a=Math.cos(t),o=Math.sin(t),s=i/e*t,c=Math.cos(s);r.x=n*(2+c)*.5*a,r.y=n*(2+c)*o*.5,r.z=n*Math.sin(s)*.5}Rt.call(this),this.type=\\\"TorusKnotBufferGeometry\\\",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:r,p:a,q:o},t=t||100,e=e||40,n=Math.floor(n)||64,r=Math.floor(r)||8,a=a||2,o=o||3;var c,l,u=(r+1)*(n+1),p=r*n*2*3,d=new mt(new(p>65535?Uint32Array:Uint16Array)(p),1),f=new mt(new Float32Array(3*u),3),m=new mt(new Float32Array(3*u),3),v=new mt(new Float32Array(2*u),2),g=0,y=0,x=new h,_=new h,b=new i,w=new h,M=new h,E=new h,T=new h,S=new h;for(c=0;c<=n;++c){var A=c/n*a*Math.PI*2;for(s(A,a,o,t,w),s(A+.01,a,o,t,M),T.subVectors(M,w),S.addVectors(M,w),E.crossVectors(T,S),S.crossVectors(E,T),E.normalize(),S.normalize(),l=0;l<=r;++l){var L=l/r*Math.PI*2,R=-e*Math.cos(L),P=e*Math.sin(L);x.x=w.x+(R*S.x+P*E.x),x.y=w.y+(R*S.y+P*E.y),x.z=w.z+(R*S.z+P*E.z),f.setXYZ(g,x.x,x.y,x.z),_.subVectors(x,w).normalize(),m.setXYZ(g,_.x,_.y,_.z),b.x=c/n,b.y=l/r,v.setXY(g,b.x,b.y),g++}}for(l=1;l<=n;l++)for(c=1;c<=r;c++){var C=(r+1)*(l-1)+(c-1),I=(r+1)*l+(c-1),U=(r+1)*l+c,N=(r+1)*(l-1)+c;d.setX(y,C),y++,d.setX(y,I),y++,d.setX(y,N),y++,d.setX(y,I),y++,d.setX(y,U),y++,d.setX(y,N),y++}this.setIndex(d),this.addAttribute(\\\"position\\\",f),this.addAttribute(\\\"normal\\\",m),this.addAttribute(\\\"uv\\\",v)}function Xe(t,e,i,n,r,a,o){St.call(this),this.type=\\\"TorusKnotGeometry\\\",this.parameters={radius:t,tube:e,tubularSegments:i,radialSegments:n,p:r,q:a},void 0!==o&&console.warn(\\\"THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead.\\\"),this.fromBufferGeometry(new We(t,e,i,n,r,a)),this.mergeVertices()}function Ye(t,e,i,n,r){Rt.call(this),this.type=\\\"TorusBufferGeometry\\\",this.parameters={radius:t,tube:e,radialSegments:i,tubularSegments:n,arc:r},t=t||100,e=e||40,i=Math.floor(i)||8,n=Math.floor(n)||6,r=r||2*Math.PI;var a,o,s=(i+1)*(n+1),c=i*n*2*3,l=new(c>65535?Uint32Array:Uint16Array)(c),u=new Float32Array(3*s),p=new Float32Array(3*s),d=new Float32Array(2*s),f=0,m=0,v=0,g=new h,y=new h,x=new h;for(a=0;a<=i;a++)for(o=0;o<=n;o++){var _=o/n*r,b=a/i*Math.PI*2;y.x=(t+e*Math.cos(b))*Math.cos(_),y.y=(t+e*Math.cos(b))*Math.sin(_),y.z=e*Math.sin(b),u[f]=y.x,u[f+1]=y.y,u[f+2]=y.z,g.x=t*Math.cos(_),g.y=t*Math.sin(_),x.subVectors(y,g).normalize(),p[f]=x.x,p[f+1]=x.y,p[f+2]=x.z,d[m]=o/n,d[m+1]=a/i,f+=3,m+=2}for(a=1;a<=i;a++)for(o=1;o<=n;o++){var w=(n+1)*a+o-1,M=(n+1)*(a-1)+o-1,E=(n+1)*(a-1)+o,T=(n+1)*a+o;l[v]=w,l[v+1]=M,l[v+2]=T,l[v+3]=M,l[v+4]=E,l[v+5]=T,v+=6}this.setIndex(new mt(l,1)),this.addAttribute(\\\"position\\\",new mt(u,3)),this.addAttribute(\\\"normal\\\",new mt(p,3)),this.addAttribute(\\\"uv\\\",new mt(d,2))}function qe(t,e,i,n,r){St.call(this),this.type=\\\"TorusGeometry\\\",this.parameters={radius:t,tube:e,radialSegments:i,tubularSegments:n,arc:r},this.fromBufferGeometry(new Ye(t,e,i,n,r))}function Ze(t,e){return\\\"undefined\\\"==typeof t?void(t=[]):(St.call(this),this.type=\\\"ExtrudeGeometry\\\",t=Array.isArray(t)?t:[t],this.addShapeList(t,e),void this.computeFaceNormals())}function Je(t,e){e=e||{};var i=e.font;if((i&&i.isFont)===!1)return console.error(\\\"THREE.TextGeometry: font parameter is not an instance of THREE.Font.\\\"),new St;var n=i.generateShapes(t,e.size,e.curveSegments);e.amount=void 0!==e.height?e.height:50,void 0===e.bevelThickness&&(e.bevelThickness=10),void 0===e.bevelSize&&(e.bevelSize=8),void 0===e.bevelEnabled&&(e.bevelEnabled=!1),Ze.call(this,n,e),this.type=\\\"TextGeometry\\\"}function Qe(t,e,i,n,r,a,o){Rt.call(this),this.type=\\\"SphereBufferGeometry\\\",this.parameters={radius:t,widthSegments:e,heightSegments:i,phiStart:n,phiLength:r,thetaStart:a,thetaLength:o},t=t||50,e=Math.max(3,Math.floor(e)||8),i=Math.max(2,Math.floor(i)||6),n=void 0!==n?n:0,r=void 0!==r?r:2*Math.PI,a=void 0!==a?a:0,o=void 0!==o?o:Math.PI;for(var s=a+o,c=(e+1)*(i+1),l=new mt(new Float32Array(3*c),3),u=new mt(new Float32Array(3*c),3),p=new mt(new Float32Array(2*c),2),d=0,f=[],m=new h,v=0;v<=i;v++){for(var g=[],y=v/i,x=0;x<=e;x++){var _=x/e,b=-t*Math.cos(n+_*r)*Math.sin(a+y*o),w=t*Math.cos(a+y*o),M=t*Math.sin(n+_*r)*Math.sin(a+y*o);m.set(b,w,M).normalize(),l.setXYZ(d,b,w,M),u.setXYZ(d,m.x,m.y,m.z),p.setXY(d,_,1-y),g.push(d),d++}f.push(g)}for(var E=[],v=0;v<i;v++)for(var x=0;x<e;x++){var T=f[v][x+1],S=f[v][x],A=f[v+1][x],L=f[v+1][x+1];(0!==v||a>0)&&E.push(T,S,L),(v!==i-1||s<Math.PI)&&E.push(S,A,L)}this.setIndex(new(l.count>65535?wt:_t)(E,1)),this.addAttribute(\\\"position\\\",l),this.addAttribute(\\\"normal\\\",u),this.addAttribute(\\\"uv\\\",p),this.boundingSphere=new et(new h,t)}function Ke(t,e,i,n,r,a,o){St.call(this),this.type=\\\"SphereGeometry\\\",this.parameters={radius:t,widthSegments:e,heightSegments:i,phiStart:n,phiLength:r,thetaStart:a,thetaLength:o},this.fromBufferGeometry(new Qe(t,e,i,n,r,a,o))}function $e(t,e,n,r,a,o){Rt.call(this),this.type=\\\"RingBufferGeometry\\\",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:r,thetaStart:a,thetaLength:o},t=t||20,e=e||50,a=void 0!==a?a:0,o=void 0!==o?o:2*Math.PI,n=void 0!==n?Math.max(3,n):8,r=void 0!==r?Math.max(1,r):1;var s,c,l,u=(n+1)*(r+1),p=n*r*2*3,d=new mt(new(p>65535?Uint32Array:Uint16Array)(p),1),f=new mt(new Float32Array(3*u),3),m=new mt(new Float32Array(3*u),3),v=new mt(new Float32Array(2*u),2),g=0,y=0,x=t,_=(e-t)/r,b=new h,w=new i;for(c=0;c<=r;c++){for(l=0;l<=n;l++)s=a+l/n*o,b.x=x*Math.cos(s),b.y=x*Math.sin(s),f.setXYZ(g,b.x,b.y,b.z),m.setXYZ(g,0,0,1),w.x=(b.x/e+1)/2,w.y=(b.y/e+1)/2,v.setXY(g,w.x,w.y),g++;x+=_}for(c=0;c<r;c++){var M=c*(n+1);for(l=0;l<n;l++){s=l+M;var E=s,T=s+n+1,S=s+n+2,A=s+1;d.setX(y,E),y++,d.setX(y,T),y++,d.setX(y,S),y++,d.setX(y,E),y++,d.setX(y,S),y++,d.setX(y,A),y++}}this.setIndex(d),this.addAttribute(\\\"position\\\",f),this.addAttribute(\\\"normal\\\",m),this.addAttribute(\\\"uv\\\",v)}function ti(t,e,i,n,r,a){St.call(this),this.type=\\\"RingGeometry\\\",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:i,phiSegments:n,thetaStart:r,thetaLength:a},this.fromBufferGeometry(new $e(t,e,i,n,r,a))}function ei(t,e,i,n){St.call(this),this.type=\\\"PlaneGeometry\\\",this.parameters={width:t,height:e,widthSegments:i,heightSegments:n},this.fromBufferGeometry(new It(t,e,i,n))}function ii(t,e,n,r){Rt.call(this),this.type=\\\"LatheBufferGeometry\\\",this.parameters={points:t,segments:e,phiStart:n,phiLength:r},e=Math.floor(e)||12,n=n||0,r=r||2*Math.PI,r=Fo.clamp(r,0,2*Math.PI);var a,o,s,c=(e+1)*t.length,l=e*t.length*2*3,u=new mt(new(l>65535?Uint32Array:Uint16Array)(l),1),p=new mt(new Float32Array(3*c),3),d=new mt(new Float32Array(2*c),2),f=0,m=0,v=1/e,g=new h,y=new i;for(o=0;o<=e;o++){var x=n+o*v*r,_=Math.sin(x),b=Math.cos(x);for(s=0;s<=t.length-1;s++)g.x=t[s].x*_,g.y=t[s].y,g.z=t[s].x*b,p.setXYZ(f,g.x,g.y,g.z),y.x=o/e,y.y=s/(t.length-1),d.setXY(f,y.x,y.y),f++}for(o=0;o<e;o++)for(s=0;s<t.length-1;s++){a=s+o*t.length;var w=a,M=a+t.length,E=a+t.length+1,T=a+1;u.setX(m,w),m++,u.setX(m,M),m++,u.setX(m,T),m++,u.setX(m,M),m++,u.setX(m,E),m++,u.setX(m,T),m++}if(this.setIndex(u),this.addAttribute(\\\"position\\\",p),this.addAttribute(\\\"uv\\\",d),this.computeVertexNormals(),r===2*Math.PI){var S=this.attributes.normal.array,A=new h,L=new h,R=new h;for(a=e*t.length*3,o=0,s=0;o<t.length;o++,s+=3)A.x=S[s+0],A.y=S[s+1],A.z=S[s+2],L.x=S[a+s+0],L.y=S[a+s+1],L.z=S[a+s+2],R.addVectors(A,L).normalize(),S[s+0]=S[a+s+0]=R.x,S[s+1]=S[a+s+1]=R.y,S[s+2]=S[a+s+2]=R.z}}function ni(t,e,i,n){St.call(this),this.type=\\\"LatheGeometry\\\",this.parameters={points:t,segments:e,phiStart:i,phiLength:n},this.fromBufferGeometry(new ii(t,e,i,n)),this.mergeVertices()}function ri(t,e){St.call(this),this.type=\\\"ShapeGeometry\\\",Array.isArray(t)===!1&&(t=[t]),this.addShapeList(t,e),this.computeFaceNormals()}function ai(t,e){function i(t,e){return t-e}Rt.call(this),e=void 0!==e?e:1;var n,r=Math.cos(Fo.DEG2RAD*e),a=[0,0],o={},s=[\\\"a\\\",\\\"b\\\",\\\"c\\\"];t&&t.isBufferGeometry?(n=new St,n.fromBufferGeometry(t)):n=t.clone(),n.mergeVertices(),n.computeFaceNormals();for(var c=n.vertices,h=n.faces,l=0,u=h.length;l<u;l++)for(var p=h[l],d=0;d<3;d++){a[0]=p[s[d]],a[1]=p[s[(d+1)%3]],a.sort(i);var f=a.toString();void 0===o[f]?o[f]={vert1:a[0],vert2:a[1],face1:l,face2:void 0}:o[f].face2=l}var m=[];for(var f in o){var v=o[f];if(void 0===v.face2||h[v.face1].normal.dot(h[v.face2].normal)<=r){var g=c[v.vert1];m.push(g.x),m.push(g.y),m.push(g.z),g=c[v.vert2],m.push(g.x),m.push(g.y),m.push(g.z)}}this.addAttribute(\\\"position\\\",new mt(new Float32Array(m),3))}function oi(t,e,n,r,a,o,s,c){function l(){var t=(r+1)*(a+1);return o===!1&&(t+=(r+1)*m+r*m),t}function u(){var t=r*a*2*3;return o===!1&&(t+=r*m*3),t}function p(){var i,o,l=new h,u=new h,p=0,d=(e-t)/n;for(o=0;o<=a;o++){var m=[],v=o/a,g=v*(e-t)+t;for(i=0;i<=r;i++){var A=i/r,L=A*c+s,R=Math.sin(L),P=Math.cos(L);u.x=g*R,u.y=-v*n+T,u.z=g*P,x.setXYZ(w,u.x,u.y,u.z),l.set(R,d,P).normalize(),_.setXYZ(w,l.x,l.y,l.z),b.setXY(w,A,1-v),m.push(w),w++}E.push(m)}for(i=0;i<r;i++)for(o=0;o<a;o++){var C=E[o][i],I=E[o+1][i],U=E[o+1][i+1],N=E[o][i+1];y.setX(M,C),M++,y.setX(M,I),M++,y.setX(M,N),M++,y.setX(M,I),M++,y.setX(M,U),M++,y.setX(M,N),M++,p+=6}f.addGroup(S,p,0),S+=p}function d(n){var a,o,l,u=new i,p=new h,d=0,m=n===!0?t:e,v=n===!0?1:-1;for(o=w,a=1;a<=r;a++)x.setXYZ(w,0,T*v,0),_.setXYZ(w,0,v,0),u.x=.5,u.y=.5,b.setXY(w,u.x,u.y),w++;for(l=w,a=0;a<=r;a++){var g=a/r,E=g*c+s,A=Math.cos(E),L=Math.sin(E);p.x=m*L,p.y=T*v,p.z=m*A,x.setXYZ(w,p.x,p.y,p.z),_.setXYZ(w,0,v,0),u.x=.5*A+.5,u.y=.5*L*v+.5,b.setXY(w,u.x,u.y),w++}for(a=0;a<r;a++){var R=o+a,P=l+a;n===!0?(y.setX(M,P),M++,y.setX(M,P+1),M++,y.setX(M,R),M++):(y.setX(M,P+1),M++,y.setX(M,P),M++,y.setX(M,R),M++),d+=3}f.addGroup(S,d,n===!0?1:2),S+=d}Rt.call(this),this.type=\\\"CylinderBufferGeometry\\\",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:r,heightSegments:a,openEnded:o,thetaStart:s,thetaLength:c};var f=this;t=void 0!==t?t:20,e=void 0!==e?e:20,n=void 0!==n?n:100,r=Math.floor(r)||8,a=Math.floor(a)||1,o=void 0!==o&&o,s=void 0!==s?s:0,c=void 0!==c?c:2*Math.PI;var m=0;o===!1&&(t>0&&m++,e>0&&m++);var v=l(),g=u(),y=new mt(new(g>65535?Uint32Array:Uint16Array)(g),1),x=new mt(new Float32Array(3*v),3),_=new mt(new Float32Array(3*v),3),b=new mt(new Float32Array(2*v),2),w=0,M=0,E=[],T=n/2,S=0;p(),o===!1&&(t>0&&d(!0),e>0&&d(!1)),this.setIndex(y),this.addAttribute(\\\"position\\\",x),this.addAttribute(\\\"normal\\\",_),this.addAttribute(\\\"uv\\\",b)}function si(t,e,i,n,r,a,o,s){St.call(this),this.type=\\\"CylinderGeometry\\\",this.parameters={radiusTop:t,radiusBottom:e,height:i,radialSegments:n,heightSegments:r,openEnded:a,thetaStart:o,thetaLength:s},this.fromBufferGeometry(new oi(t,e,i,n,r,a,o,s)),this.mergeVertices()}function ci(t,e,i,n,r,a,o){si.call(this,0,t,e,i,n,r,a,o),this.type=\\\"ConeGeometry\\\",this.parameters={radius:t,height:e,radialSegments:i,heightSegments:n,openEnded:r,thetaStart:a,thetaLength:o}}function hi(t,e,i,n,r,a,o){oi.call(this,0,t,e,i,n,r,a,o),this.type=\\\"ConeBufferGeometry\\\",this.parameters={radius:t,height:e,radialSegments:i,heightSegments:n,openEnded:r,thetaStart:a,thetaLength:o}}function li(t,e,i,n){Rt.call(this),this.type=\\\"CircleBufferGeometry\\\",this.parameters={radius:t,segments:e,thetaStart:i,thetaLength:n},t=t||50,e=void 0!==e?Math.max(3,e):8,i=void 0!==i?i:0,n=void 0!==n?n:2*Math.PI;var r=e+2,a=new Float32Array(3*r),o=new Float32Array(3*r),s=new Float32Array(2*r);o[2]=1,s[0]=.5,s[1]=.5;for(var c=0,l=3,u=2;c<=e;c++,l+=3,u+=2){var p=i+c/e*n;a[l]=t*Math.cos(p),a[l+1]=t*Math.sin(p),o[l+2]=1,s[u]=(a[l]/t+1)/2,s[u+1]=(a[l+1]/t+1)/2}for(var d=[],l=1;l<=e;l++)d.push(l,l+1,0);this.setIndex(new mt(new Uint16Array(d),1)),this.addAttribute(\\\"position\\\",new mt(a,3)),this.addAttribute(\\\"normal\\\",new mt(o,3)),this.addAttribute(\\\"uv\\\",new mt(s,2)),this.boundingSphere=new et(new h,t)}function ui(t,e,i,n){St.call(this),this.type=\\\"CircleGeometry\\\",this.parameters={radius:t,segments:e,thetaStart:i,thetaLength:n},this.fromBufferGeometry(new li(t,e,i,n))}function pi(t,e,i,n,r,a){St.call(this),this.type=\\\"BoxGeometry\\\",this.parameters={width:t,height:e,depth:i,widthSegments:n,heightSegments:r,depthSegments:a},this.fromBufferGeometry(new Ct(t,e,i,n,r,a)),this.mergeVertices()}function di(){K.call(this,{uniforms:jo.merge([jc.lights,{opacity:{value:1}}]),vertexShader:Vc.shadow_vert,fragmentShader:Vc.shadow_frag}),this.lights=!0,this.transparent=!0,Object.defineProperties(this,{opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(t){this.uniforms.opacity.value=t}}})}function fi(t){K.call(this,t),this.type=\\\"RawShaderMaterial\\\"}function mi(t){this.uuid=Fo.generateUUID(),this.type=\\\"MultiMaterial\\\",this.materials=t instanceof Array?t:[],this.visible=!0}function vi(t){J.call(this),this.defines={STANDARD:\\\"\\\"},this.type=\\\"MeshStandardMaterial\\\",this.color=new X(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new X(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new i(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap=\\\"round\\\",this.wireframeLinejoin=\\\"round\\\",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function gi(t){vi.call(this),this.defines={PHYSICAL:\\\"\\\"},this.type=\\\"MeshPhysicalMaterial\\\",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(t)}function yi(t){J.call(this),this.type=\\\"MeshPhongMaterial\\\",this.color=new X(16777215),this.specular=new X(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new X(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new i(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ua,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap=\\\"round\\\",this.wireframeLinejoin=\\\"round\\\",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function xi(t){J.call(this,t),this.type=\\\"MeshNormalMaterial\\\",this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.morphTargets=!1,this.setValues(t)}function _i(t){J.call(this),this.type=\\\"MeshLambertMaterial\\\",this.color=new X(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new X(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ua,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap=\\\"round\\\",this.wireframeLinejoin=\\\"round\\\",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function bi(t){J.call(this),this.type=\\\"LineDashedMaterial\\\",this.color=new X(16777215),this.linewidth=1,this.scale=1,this.dashSize=3,this.gapSize=1,this.lights=!1,this.setValues(t)}function wi(t,e,i){var n=this,r=!1,a=0,o=0;this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=i,this.itemStart=function(t){o++,r===!1&&void 0!==n.onStart&&n.onStart(t,a,o),r=!0},this.itemEnd=function(t){a++,void 0!==n.onProgress&&n.onProgress(t,a,o),a===o&&(r=!1,void 0!==n.onLoad&&n.onLoad())},this.itemError=function(t){void 0!==n.onError&&n.onError(t)}}function Mi(t){this.manager=void 0!==t?t:th}function Ei(t){this.manager=void 0!==t?t:th,this._parser=null}function Ti(t){this.manager=void 0!==t?t:th,this._parser=null}function Si(t){this.manager=void 0!==t?t:th}function Ai(t){this.manager=void 0!==t?t:th}function Li(t){this.manager=void 0!==t?t:th}function Ri(t,e){ht.call(this),this.type=\\\"Light\\\",this.color=new X(t),this.intensity=void 0!==e?e:1,this.receiveShadow=void 0}function Pi(t,e,i){Ri.call(this,t,i),this.type=\\\"HemisphereLight\\\",this.castShadow=void 0,this.position.copy(ht.DefaultUp),this.updateMatrix(),this.groundColor=new X(e)}function Ci(t){this.camera=t,this.bias=0,this.radius=1,this.mapSize=new i(512,512),this.map=null,this.matrix=new l}function Ii(){Ci.call(this,new Nt(50,1,.5,500))}function Ui(t,e,i,n,r,a){Ri.call(this,t,e),this.type=\\\"SpotLight\\\",this.position.copy(ht.DefaultUp),this.updateMatrix(),this.target=new ht,Object.defineProperty(this,\\\"power\\\",{get:function(){return this.intensity*Math.PI},set:function(t){this.intensity=t/Math.PI}}),this.distance=void 0!==i?i:0,this.angle=void 0!==n?n:Math.PI/3,this.penumbra=void 0!==r?r:0,this.decay=void 0!==a?a:1,this.shadow=new Ii}function Ni(t,e,i,n){Ri.call(this,t,e),this.type=\\\"PointLight\\\",Object.defineProperty(this,\\\"power\\\",{get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)}}),this.distance=void 0!==i?i:0,this.decay=void 0!==n?n:1,this.shadow=new Ci(new Nt(90,1,.5,500))}function Di(t){Ci.call(this,new Dt((-5),5,5,(-5),.5,500))}function Oi(t,e){Ri.call(this,t,e),this.type=\\\"DirectionalLight\\\",this.position.copy(ht.DefaultUp),this.updateMatrix(),this.target=new ht,this.shadow=new Di}function Fi(t,e){Ri.call(this,t,e),this.type=\\\"AmbientLight\\\",this.castShadow=void 0}function Bi(t,e,i,n){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==n?n:new e.constructor(i),this.sampleValues=e,this.valueSize=i}function zi(t,e,i,n){Bi.call(this,t,e,i,n),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function Gi(t,e,i,n){Bi.call(this,t,e,i,n)}function Hi(t,e,i,n){Bi.call(this,t,e,i,n)}function Vi(t,e,i,n){if(void 0===t)throw new Error(\\\"track name is undefined\\\");if(void 0===e||0===e.length)throw new Error(\\\"no keyframes in track named \\\"+t);this.name=t,this.times=ih.convertArray(e,this.TimeBufferType),this.values=ih.convertArray(i,this.ValueBufferType),this.setInterpolation(n||this.DefaultInterpolation),this.validate(),this.optimize()}function ki(t,e,i,n){Vi.call(this,t,e,i,n)}function ji(t,e,i,n){Bi.call(this,t,e,i,n)}function Wi(t,e,i,n){Vi.call(this,t,e,i,n)}function Xi(t,e,i,n){Vi.call(this,t,e,i,n)}function Yi(t,e,i,n){Vi.call(this,t,e,i,n)}function qi(t,e,i){Vi.call(this,t,e,i)}function Zi(t,e,i,n){Vi.call(this,t,e,i,n)}function Ji(t,e,i,n){Vi.apply(this,arguments)}function Qi(t,e,i){this.name=t,this.tracks=i,this.duration=void 0!==e?e:-1,\\nthis.uuid=Fo.generateUUID(),this.duration<0&&this.resetDuration(),this.optimize()}function Ki(t){this.manager=void 0!==t?t:th,this.textures={}}function $i(t){this.manager=void 0!==t?t:th}function tn(){this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){}}function en(t){\\\"boolean\\\"==typeof t&&(console.warn(\\\"THREE.JSONLoader: showStatus parameter has been removed from constructor.\\\"),t=void 0),this.manager=void 0!==t?t:th,this.withCredentials=!1}function nn(t){this.manager=void 0!==t?t:th,this.texturePath=\\\"\\\"}function rn(){}function an(t,e){this.v1=t,this.v2=e}function on(){this.curves=[],this.autoClose=!1}function sn(t,e,i,n,r,a,o,s){this.aX=t,this.aY=e,this.xRadius=i,this.yRadius=n,this.aStartAngle=r,this.aEndAngle=a,this.aClockwise=o,this.aRotation=s||0}function cn(t){this.points=void 0===t?[]:t}function hn(t,e,i,n){this.v0=t,this.v1=e,this.v2=i,this.v3=n}function ln(t,e,i){this.v0=t,this.v1=e,this.v2=i}function un(){pn.apply(this,arguments),this.holes=[]}function pn(t){on.call(this),this.currentPoint=new i,t&&this.fromPoints(t)}function dn(){this.subPaths=[],this.currentPath=null}function fn(t){this.data=t}function mn(t){this.manager=void 0!==t?t:th}function vn(){return void 0===oh&&(oh=new(window.AudioContext||window.webkitAudioContext)),oh}function gn(t){this.manager=void 0!==t?t:th}function yn(){this.type=\\\"StereoCamera\\\",this.aspect=1,this.eyeSep=.064,this.cameraL=new Nt,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Nt,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}function xn(t,e,i){ht.call(this),this.type=\\\"CubeCamera\\\";var n=90,r=1,a=new Nt(n,r,t,e);a.up.set(0,-1,0),a.lookAt(new h(1,0,0)),this.add(a);var o=new Nt(n,r,t,e);o.up.set(0,-1,0),o.lookAt(new h((-1),0,0)),this.add(o);var c=new Nt(n,r,t,e);c.up.set(0,0,1),c.lookAt(new h(0,1,0)),this.add(c);var l=new Nt(n,r,t,e);l.up.set(0,0,-1),l.lookAt(new h(0,(-1),0)),this.add(l);var u=new Nt(n,r,t,e);u.up.set(0,-1,0),u.lookAt(new h(0,0,1)),this.add(u);var p=new Nt(n,r,t,e);p.up.set(0,-1,0),p.lookAt(new h(0,0,(-1))),this.add(p);var d={format:Ka,magFilter:Da,minFilter:Da};this.renderTarget=new s(i,i,d),this.updateCubeMap=function(t,e){null===this.parent&&this.updateMatrixWorld();var i=this.renderTarget,n=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,i.activeCubeFace=0,t.render(e,a,i),i.activeCubeFace=1,t.render(e,o,i),i.activeCubeFace=2,t.render(e,c,i),i.activeCubeFace=3,t.render(e,l,i),i.activeCubeFace=4,t.render(e,u,i),i.texture.generateMipmaps=n,i.activeCubeFace=5,t.render(e,p,i),t.setRenderTarget(null)}}function _n(){ht.call(this),this.type=\\\"AudioListener\\\",this.context=vn(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null}function bn(t){ht.call(this),this.type=\\\"Audio\\\",this.context=t.context,this.source=this.context.createBufferSource(),this.source.onended=this.onEnded.bind(this),this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.startTime=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType=\\\"empty\\\",this.filters=[]}function wn(t){bn.call(this,t),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}function Mn(t,e){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=void 0!==e?e:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}function En(t,e,i){this.binding=t,this.valueSize=i;var n,r=Float64Array;switch(e){case\\\"quaternion\\\":n=this._slerp;break;case\\\"string\\\":case\\\"bool\\\":r=Array,n=this._select;break;default:n=this._lerp}this.buffer=new r(4*i),this._mixBufferRegion=n,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}function Tn(t,e,i){this.path=e,this.parsedPath=i||Tn.parseTrackName(e),this.node=Tn.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t}function Sn(t){this.uuid=Fo.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var i=0,n=arguments.length;i!==n;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var r=this;this.stats={objects:{get total(){return r._objects.length},get inUse(){return this.total-r.nCachedObjects_}},get bindingsPerObject(){return r._bindings.length}}}function An(t,e,i){this._mixer=t,this._clip=e,this._localRoot=i||null;for(var n=e.tracks,r=n.length,a=new Array(r),o={endingStart:bo,endingEnd:bo},s=0;s!==r;++s){var c=n[s].createInterpolant(null);a[s]=c,c.settings=o}this._interpolantSettings=o,this._interpolants=a,this._propertyBindings=new Array(r),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=vo,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function Ln(t){this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function Rn(t){\\\"string\\\"==typeof t&&(console.warn(\\\"THREE.Uniform: Type parameter is no longer needed.\\\"),t=arguments[1]),this.value=t}function Pn(){Rt.call(this),this.type=\\\"InstancedBufferGeometry\\\",this.maxInstancedCount=void 0}function Cn(t,e,i,n){this.uuid=Fo.generateUUID(),this.data=t,this.itemSize=e,this.offset=i,this.normalized=n===!0}function In(t,e){this.uuid=Fo.generateUUID(),this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function Un(t,e,i){In.call(this,t,e),this.meshPerAttribute=i||1}function Nn(t,e,i){mt.call(this,t,e),this.meshPerAttribute=i||1}function Dn(t,e,i,n){this.ray=new ot(t,e),this.near=i||0,this.far=n||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn(\\\"THREE.Raycaster: params.PointCloud has been renamed to params.Points.\\\"),this.Points}}})}function On(t,e){return t.distance-e.distance}function Fn(t,e,i,n){if(t.visible!==!1&&(t.raycast(e,i),n===!0))for(var r=t.children,a=0,o=r.length;a<o;a++)Fn(r[a],e,i,!0)}function Bn(t){this.autoStart=void 0===t||t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}function zn(t){function e(t,e,i,n,r,a,o){var s=.5*(i-t),c=.5*(n-e);return(2*(e-i)+s+c)*o+(-3*(e-i)-2*s-c)*a+s*r+e}this.points=t;var i,n,r,a,o,s,c,l,u,p=[],d={x:0,y:0,z:0};this.initFromArray=function(t){this.points=[];for(var e=0;e<t.length;e++)this.points[e]={x:t[e][0],y:t[e][1],z:t[e][2]}},this.getPoint=function(t){return i=(this.points.length-1)*t,n=Math.floor(i),r=i-n,p[0]=0===n?n:n-1,p[1]=n,p[2]=n>this.points.length-2?this.points.length-1:n+1,p[3]=n>this.points.length-3?this.points.length-1:n+2,s=this.points[p[0]],c=this.points[p[1]],l=this.points[p[2]],u=this.points[p[3]],a=r*r,o=r*a,d.x=e(s.x,c.x,l.x,u.x,r,a,o),d.y=e(s.y,c.y,l.y,u.y,r,a,o),d.z=e(s.z,c.z,l.z,u.z,r,a,o),d},this.getControlPointsArray=function(){var t,e,i=this.points.length,n=[];for(t=0;t<i;t++)e=this.points[t],n[t]=[e.x,e.y,e.z];return n},this.getLength=function(t){var e,i,n,r,a=0,o=0,s=0,c=new h,l=new h,u=[],p=0;for(u[0]=0,t||(t=100),n=this.points.length*t,c.copy(this.points[0]),e=1;e<n;e++)i=e/n,r=this.getPoint(i),l.copy(r),p+=l.distanceTo(c),c.copy(r),a=(this.points.length-1)*i,o=Math.floor(a),o!==s&&(u[o]=p,s=o);return u[u.length]=p,{chunks:u,total:p}},this.reparametrizeByArcLength=function(t){var e,i,n,r,a,o,s,c,l=[],u=new h,p=this.getLength();for(l.push(u.copy(this.points[0]).clone()),e=1;e<this.points.length;e++){for(o=p.chunks[e]-p.chunks[e-1],s=Math.ceil(t*o/p.total),r=(e-1)/(this.points.length-1),a=e/(this.points.length-1),i=1;i<s-1;i++)n=r+i*(1/s)*(a-r),c=this.getPoint(n),l.push(u.copy(c).clone());l.push(u.copy(this.points[e]).clone())}this.points=l}}function Gn(t,e,i){return this.radius=void 0!==t?t:1,this.phi=void 0!==e?e:0,this.theta=void 0!==i?i:0,this}function Hn(t,e){Pt.call(this,t,e),this.animationsMap={},this.animationsList=[];var i=this.geometry.morphTargets.length,n=\\\"__default\\\",r=0,a=i-1,o=i/1;this.createAnimation(n,r,a,o),this.setAnimationWeight(n,1)}function Vn(t){ht.call(this),this.material=t,this.render=function(t){}}function kn(t,e,i,n){this.object=t,this.size=void 0!==e?e:1;var r=void 0!==i?i:16711680,a=void 0!==n?n:1,o=0,s=this.object.geometry;s&&s.isGeometry?o=3*s.faces.length:s&&s.isBufferGeometry&&(o=s.attributes.normal.count);var c=new Rt,h=new Mt(2*o*3,3);c.addAttribute(\\\"position\\\",h),we.call(this,c,new _e({color:r,linewidth:a})),this.matrixAutoUpdate=!1,this.update()}function jn(t){ht.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1;for(var e=new Rt,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],n=0,r=1,a=32;n<a;n++,r++){var o=n/a*Math.PI*2,s=r/a*Math.PI*2;i.push(Math.cos(o),Math.sin(o),1,Math.cos(s),Math.sin(s),1)}e.addAttribute(\\\"position\\\",new Mt(i,3));var c=new _e({fog:!1});this.cone=new we(e,c),this.add(this.cone),this.update()}function Wn(t){this.bones=this.getBoneList(t);for(var e=new St,i=0;i<this.bones.length;i++){var n=this.bones[i];n.parent&&n.parent.isBone&&(e.vertices.push(new h),e.vertices.push(new h),e.colors.push(new X(0,0,1)),e.colors.push(new X(0,1,0)))}e.dynamic=!0;var r=new _e({vertexColors:Ur,depthTest:!1,depthWrite:!1,transparent:!0});we.call(this,e,r),this.root=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function Xn(t,e){this.light=t,this.light.updateMatrixWorld();var i=new Qe(e,4,2),n=new ft({wireframe:!0,fog:!1});n.color.copy(this.light.color).multiplyScalar(this.light.intensity),Pt.call(this,i,n),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1}function Yn(t,e){ht.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.colors=[new X,new X];var i=new Ke(e,4,2);i.rotateX(-Math.PI/2);for(var n=0,r=8;n<r;n++)i.faces[n].color=this.colors[n<4?0:1];var a=new ft({vertexColors:Ir,wireframe:!0});this.lightSphere=new Pt(i,a),this.add(this.lightSphere),this.update()}function qn(t,e,i,n){e=e||1,i=new X(void 0!==i?i:4473924),n=new X(void 0!==n?n:8947848);for(var r=e/2,a=2*t/e,o=[],s=[],c=0,h=0,l=-t;c<=e;c++,l+=a){o.push(-t,0,l,t,0,l),o.push(l,0,-t,l,0,t);var u=c===r?i:n;u.toArray(s,h),h+=3,u.toArray(s,h),h+=3,u.toArray(s,h),h+=3,u.toArray(s,h),h+=3}var p=new Rt;p.addAttribute(\\\"position\\\",new Mt(o,3)),p.addAttribute(\\\"color\\\",new Mt(s,3));var d=new _e({vertexColors:Ur});we.call(this,p,d)}function Zn(t,e,i,n){this.object=t,this.size=void 0!==e?e:1;var r=void 0!==i?i:16776960,a=void 0!==n?n:1,o=0,s=this.object.geometry;s&&s.isGeometry?o=s.faces.length:console.warn(\\\"THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.\\\");var c=new Rt,h=new Mt(2*o*3,3);c.addAttribute(\\\"position\\\",h),we.call(this,c,new _e({color:r,linewidth:a})),this.matrixAutoUpdate=!1,this.update()}function Jn(t,e){ht.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,void 0===e&&(e=1);var i=new Rt;i.addAttribute(\\\"position\\\",new Mt([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));var n=new _e({fog:!1});this.add(new be(i,n)),i=new Rt,i.addAttribute(\\\"position\\\",new Mt([0,0,0,0,0,1],3)),this.add(new be(i,n)),this.update()}function Qn(t){function e(t,e,n){i(t,n),i(e,n)}function i(t,e){n.vertices.push(new h),n.colors.push(new X(e)),void 0===a[t]&&(a[t]=[]),a[t].push(n.vertices.length-1)}var n=new St,r=new _e({color:16777215,vertexColors:Ir}),a={},o=16755200,s=16711680,c=43775,l=16777215,u=3355443;e(\\\"n1\\\",\\\"n2\\\",o),e(\\\"n2\\\",\\\"n4\\\",o),e(\\\"n4\\\",\\\"n3\\\",o),e(\\\"n3\\\",\\\"n1\\\",o),e(\\\"f1\\\",\\\"f2\\\",o),e(\\\"f2\\\",\\\"f4\\\",o),e(\\\"f4\\\",\\\"f3\\\",o),e(\\\"f3\\\",\\\"f1\\\",o),e(\\\"n1\\\",\\\"f1\\\",o),e(\\\"n2\\\",\\\"f2\\\",o),e(\\\"n3\\\",\\\"f3\\\",o),e(\\\"n4\\\",\\\"f4\\\",o),e(\\\"p\\\",\\\"n1\\\",s),e(\\\"p\\\",\\\"n2\\\",s),e(\\\"p\\\",\\\"n3\\\",s),e(\\\"p\\\",\\\"n4\\\",s),e(\\\"u1\\\",\\\"u2\\\",c),e(\\\"u2\\\",\\\"u3\\\",c),e(\\\"u3\\\",\\\"u1\\\",c),e(\\\"c\\\",\\\"t\\\",l),e(\\\"p\\\",\\\"c\\\",u),e(\\\"cn1\\\",\\\"cn2\\\",u),e(\\\"cn3\\\",\\\"cn4\\\",u),e(\\\"cf1\\\",\\\"cf2\\\",u),e(\\\"cf3\\\",\\\"cf4\\\",u),we.call(this,n,r),this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update()}function Kn(t,e){var i=void 0!==e?e:8947848;this.object=t,this.box=new tt,Pt.call(this,new pi(1,1,1),new ft({color:i,wireframe:!0}))}function $n(t,e){void 0===e&&(e=16776960);var i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),n=new Float32Array(24),r=new Rt;r.setIndex(new mt(i,1)),r.addAttribute(\\\"position\\\",new mt(n,3)),we.call(this,r,new _e({color:e})),void 0!==t&&this.update(t)}function tr(t,e,i,n,r,a){ht.call(this),void 0===n&&(n=16776960),void 0===i&&(i=1),void 0===r&&(r=.2*i),void 0===a&&(a=.2*r),this.position.copy(e),this.line=new be(sh,new _e({color:n})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Pt(ch,new ft({color:n})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(i,r,a)}function er(t){t=t||1;var e=new Float32Array([0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t]),i=new Float32Array([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1]),n=new Rt;n.addAttribute(\\\"position\\\",new mt(e,3)),n.addAttribute(\\\"color\\\",new mt(i,3));var r=new _e({vertexColors:Ur});we.call(this,n,r)}function ir(t){console.warn(\\\"THREE.ClosedSplineCurve3 has been deprecated. Please use THREE.CatmullRomCurve3.\\\"),hh.call(this,t),this.type=\\\"catmullrom\\\",this.closed=!0}function nr(t,e,i,n,r,a){sn.call(this,t,e,i,i,n,r,a)}function rr(t,e,i,n,r,a,o){return console.warn(\\\"THREE.Face4 has been removed. A THREE.Face3 will be created instead.\\\"),new dt(t,e,i,r,a,o)}function ar(t,e){return console.warn(\\\"THREE.PointCloud has been renamed to THREE.Points.\\\"),new Ee(t,e)}function or(t,e){return console.warn(\\\"THREE.ParticleSystem has been renamed to THREE.Points.\\\"),new Ee(t,e)}function sr(t){return console.warn(\\\"THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.\\\"),new Me(t)}function cr(t){return console.warn(\\\"THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.\\\"),new Me(t)}function hr(t){return console.warn(\\\"THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.\\\"),new Me(t)}function lr(t,e,i){return console.warn(\\\"THREE.Vertex has been removed. Use THREE.Vector3 instead.\\\"),new h(t,e,i)}function ur(t,e){return console.warn(\\\"THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead.\\\"),new we(new ai(t.geometry),new _e({color:void 0!==e?e:16777215}))}function pr(t,e){return console.warn(\\\"THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead.\\\"),new we(new Pe(t.geometry),new _e({color:void 0!==e?e:16777215}))}function dr(){console.error(\\\"THREE.Projector has been moved to /examples/js/renderers/Projector.js.\\\"),this.projectVector=function(t,e){console.warn(\\\"THREE.Projector: .projectVector() is now vector.project().\\\"),t.project(e)},this.unprojectVector=function(t,e){console.warn(\\\"THREE.Projector: .unprojectVector() is now vector.unproject().\\\"),t.unproject(e)},this.pickingRay=function(t,e){console.error(\\\"THREE.Projector: .pickingRay() is now raycaster.setFromCamera().\\\")}}function fr(){console.error(\\\"THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js\\\"),this.domElement=document.createElementNS(\\\"http://www.w3.org/1999/xhtml\\\",\\\"canvas\\\"),this.clear=function(){},this.render=function(){},this.setClearColor=function(){},this.setSize=function(){}}void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Math.sign&&(Math.sign=function(t){return t<0?-1:t>0?1:+t}),void 0===Function.prototype.name&&Object.defineProperty(Function.prototype,\\\"name\\\",{get:function(){return this.toString().match(/^\\\\s*function\\\\s*(\\\\S*)\\\\s*\\\\(/)[1]}}),void 0===Object.assign&&!function(){Object.assign=function(t){if(void 0===t||null===t)throw new TypeError(\\\"Cannot convert undefined or null to object\\\");for(var e=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(void 0!==n&&null!==n)for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}}(),Object.assign(e.prototype,{addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var i=this._listeners;void 0===i[t]&&(i[t]=[]),i[t].indexOf(e)===-1&&i[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var i=this._listeners;return void 0!==i[t]&&i[t].indexOf(e)!==-1},removeEventListener:function(t,e){if(void 0!==this._listeners){var i=this._listeners,n=i[t];if(void 0!==n){var r=n.indexOf(e);r!==-1&&n.splice(r,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var e=this._listeners,i=e[t.type];if(void 0!==i){t.target=this;var n=[],r=0,a=i.length;for(r=0;r<a;r++)n[r]=i[r];for(r=0;r<a;r++)n[r].call(this,t)}}}});var mr=\\\"82\\\",vr={LEFT:0,MIDDLE:1,RIGHT:2},gr=0,yr=1,xr=2,_r=3,br=0,wr=1,Mr=0,Er=1,Tr=2,Sr=0,Ar=1,Lr=2,Rr=1,Pr=2,Cr=0,Ir=1,Ur=2,Nr=0,Dr=1,Or=2,Fr=3,Br=4,zr=5,Gr={NoBlending:Nr,NormalBlending:Dr,AdditiveBlending:Or,SubtractiveBlending:Fr,MultiplyBlending:Br,CustomBlending:zr},Hr=100,Vr=101,kr=102,jr=103,Wr=104,Xr=200,Yr=201,qr=202,Zr=203,Jr=204,Qr=205,Kr=206,$r=207,ta=208,ea=209,ia=210,na=0,ra=1,aa=2,oa=3,sa=4,ca=5,ha=6,la=7,ua=0,pa=1,da=2,fa=0,ma=1,va=2,ga=3,ya=4,xa=300,_a=301,ba=302,wa=303,Ma=304,Ea=305,Ta=306,Sa=307,Aa={UVMapping:xa,CubeReflectionMapping:_a,CubeRefractionMapping:ba,EquirectangularReflectionMapping:wa,EquirectangularRefractionMapping:Ma,SphericalReflectionMapping:Ea,CubeUVReflectionMapping:Ta,CubeUVRefractionMapping:Sa},La=1e3,Ra=1001,Pa=1002,Ca={RepeatWrapping:La,ClampToEdgeWrapping:Ra,MirroredRepeatWrapping:Pa},Ia=1003,Ua=1004,Na=1005,Da=1006,Oa=1007,Fa=1008,Ba={NearestFilter:Ia,NearestMipMapNearestFilter:Ua,NearestMipMapLinearFilter:Na,LinearFilter:Da,LinearMipMapNearestFilter:Oa,LinearMipMapLinearFilter:Fa},za=1009,Ga=1010,Ha=1011,Va=1012,ka=1013,ja=1014,Wa=1015,Xa=1016,Ya=1017,qa=1018,Za=1019,Ja=1020,Qa=1021,Ka=1022,$a=1023,to=1024,eo=1025,io=$a,no=1026,ro=1027,ao=2001,oo=2002,so=2003,co=2004,ho=2100,lo=2101,uo=2102,po=2103,fo=2151,mo=2200,vo=2201,go=2202,yo=2300,xo=2301,_o=2302,bo=2400,wo=2401,Mo=2402,Eo=0,To=1,So=2,Ao=3e3,Lo=3001,Ro=3007,Po=3002,Co=3003,Io=3004,Uo=3005,No=3006,Do=3200,Oo=3201,Fo={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var t,e=\\\"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\\\".split(\\\"\\\"),i=new Array(36),n=0;return function(){for(var r=0;r<36;r++)8===r||13===r||18===r||23===r?i[r]=\\\"-\\\":14===r?i[r]=\\\"4\\\":(n<=2&&(n=33554432+16777216*Math.random()|0),t=15&n,n>>=4,i[r]=e[19===r?3&t|8:t]);return i.join(\\\"\\\")}}(),clamp:function(t,e,i){return Math.max(e,Math.min(i,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,i,n,r){return n+(t-e)*(r-n)/(i-e)},lerp:function(t,e,i){return(1-i)*t+i*e},smoothstep:function(t,e,i){return t<=e?0:t>=i?1:(t=(t-e)/(i-e),t*t*(3-2*t))},smootherstep:function(t,e,i){return t<=e?0:t>=i?1:(t=(t-e)/(i-e),t*t*t*(t*(6*t-15)+10))},random16:function(){return console.warn(\\\"THREE.Math.random16() has been deprecated. Use Math.random() instead.\\\"),Math.random()},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(t){return t*Fo.DEG2RAD},radToDeg:function(t){return t*Fo.RAD2DEG},isPowerOfTwo:function(t){return 0===(t&t-1)&&0!==t},nearestPowerOfTwo:function(t){return Math.pow(2,Math.round(Math.log(t)/Math.LN2))},nextPowerOfTwo:function(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t++,t}};i.prototype={constructor:i,isVector2:!0,get width(){return this.x},set width(t){this.x=t},get height(){return this.y},set height(t){this.y=t},set:function(t,e){return this.x=t,this.y=e,this},setScalar:function(t){return this.x=t,this.y=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error(\\\"index is out of range: \\\"+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error(\\\"index is out of range: \\\"+t)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,e){return void 0!==e?(console.warn(\\\"THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.\\\"),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)},addScalar:function(t){return this.x+=t,this.y+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this},sub:function(t,e){return void 0!==e?(console.warn(\\\"THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.\\\"),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)},subScalar:function(t){return this.x-=t,this.y-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return isFinite(t)?(this.x*=t,this.y*=t):(this.x=0,this.y=0),this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this},clampScalar:function(){var t,e;return function(n,r){return void 0===t&&(t=new i,e=new i),t.set(n,n),e.set(r,r),this.clamp(t,e)}}(),clampLength:function(t,e){var i=this.length();return this.multiplyScalar(Math.max(t,Math.min(e,i))/i)},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length())},angle:function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,i=this.y-t.y;return e*e+i*i},distanceToManhattan:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},lerpVectors:function(t,e,i){return this.subVectors(e,t).multiplyScalar(i).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t},fromAttribute:function(t,e,i){return void 0===i&&(i=0),e=e*t.itemSize+i,this.x=t.array[e],this.y=t.array[e+1],this},rotateAround:function(t,e){var i=Math.cos(e),n=Math.sin(e),r=this.x-t.x,a=this.y-t.y;return this.x=r*i-a*n+t.x,this.y=r*n+a*i+t.y,this}},n.DEFAULT_IMAGE=void 0,n.DEFAULT_MAPPING=xa,n.prototype={constructor:n,isTexture:!0,set needsUpdate(t){t===!0&&this.version++},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){function e(t){var e;return void 0!==t.toDataURL?e=t:(e=document.createElementNS(\\\"http://www.w3.org/1999/xhtml\\\",\\\"canvas\\\"),e.width=t.width,e.height=t.height,e.getContext(\\\"2d\\\").drawImage(t,0,0,t.width,t.height)),e.width>2048||e.height>2048?e.toDataURL(\\\"image/jpeg\\\",.6):e.toDataURL(\\\"image/png\\\")}if(void 0!==t.textures[this.uuid])return t.textures[this.uuid];var i={metadata:{version:4.4,type:\\\"Texture\\\",generator:\\\"Texture.toJSON\\\"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(void 0!==this.image){var n=this.image;void 0===n.uuid&&(n.uuid=Fo.generateUUID()),void 0===t.images[n.uuid]&&(t.images[n.uuid]={uuid:n.uuid,url:e(n)}),i.image=n.uuid}return t.textures[this.uuid]=i,i},dispose:function(){this.dispatchEvent({type:\\\"dispose\\\"})},transformUv:function(t){if(this.mapping===xa){if(t.multiply(this.repeat),t.add(this.offset),t.x<0||t.x>1)switch(this.wrapS){case La:t.x=t.x-Math.floor(t.x);break;case Ra:t.x=t.x<0?0:1;break;case Pa:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case La:t.y=t.y-Math.floor(t.y);break;case Ra:t.y=t.y<0?0:1;break;case Pa:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}this.flipY&&(t.y=1-t.y)}}},Object.assign(n.prototype,e.prototype);var Bo=0;a.prototype={constructor:a,isVector4:!0,set:function(t,e,i,n){return this.x=t,this.y=e,this.z=i,this.w=n,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setW:function(t){return this.w=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error(\\\"index is out of range: \\\"+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error(\\\"index is out of range: \\\"+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this},add:function(t,e){return void 0!==e?(console.warn(\\\"THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead.\\\"),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this},sub:function(t,e){return void 0!==e?(console.warn(\\\"THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.\\\"),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this},multiplyScalar:function(t){return isFinite(t)?(this.x*=t,this.y*=t,this.z*=t,this.w*=t):(this.x=0,this.y=0,this.z=0,this.w=0),this},applyMatrix4:function(t){var e=this.x,i=this.y,n=this.z,r=this.w,a=t.elements;return this.x=a[0]*e+a[4]*i+a[8]*n+a[12]*r,this.y=a[1]*e+a[5]*i+a[9]*n+a[13]*r,this.z=a[2]*e+a[6]*i+a[10]*n+a[14]*r,this.w=a[3]*e+a[7]*i+a[11]*n+a[15]*r,this},divideScalar:function(t){return this.multiplyScalar(1/t)},setAxisAngleFromQuaternion:function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this},setAxisAngleFromRotationMatrix:function(t){var e,i,n,r,a=.01,o=.1,s=t.elements,c=s[0],h=s[4],l=s[8],u=s[1],p=s[5],d=s[9],f=s[2],m=s[6],v=s[10];if(Math.abs(h-u)<a&&Math.abs(l-f)<a&&Math.abs(d-m)<a){if(Math.abs(h+u)<o&&Math.abs(l+f)<o&&Math.abs(d+m)<o&&Math.abs(c+p+v-3)<o)return this.set(1,0,0,0),this;e=Math.PI;var g=(c+1)/2,y=(p+1)/2,x=(v+1)/2,_=(h+u)/4,b=(l+f)/4,w=(d+m)/4;return g>y&&g>x?g<a?(i=0,n=.707106781,r=.707106781):(i=Math.sqrt(g),n=_/i,r=b/i):y>x?y<a?(i=.707106781,n=0,r=.707106781):(n=Math.sqrt(y),i=_/n,r=w/n):x<a?(i=.707106781,n=.707106781,r=0):(r=Math.sqrt(x),i=b/r,n=w/r),this.set(i,n,r,e),this}var M=Math.sqrt((m-d)*(m-d)+(l-f)*(l-f)+(u-h)*(u-h));return Math.abs(M)<.001&&(M=1),this.x=(m-d)/M,this.y=(l-f)/M,this.z=(u-h)/M,this.w=Math.acos((c+p+v-1)/2),this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this},clampScalar:function(){var t,e;return function(i,n){return void 0===t&&(t=new a,e=new a),t.set(i,i,i,i),e.set(n,n,n,n),this.clamp(t,e)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length())},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this},lerpVectors:function(t,e,i){return this.subVectors(e,t).multiplyScalar(i).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t},fromAttribute:function(t,e,i){return void 0===i&&(i=0),e=e*t.itemSize+i,this.x=t.array[e],this.y=t.array[e+1],this.z=t.array[e+2],this.w=t.array[e+3],this}},Object.assign(o.prototype,e.prototype,{isWebGLRenderTarget:!0,setSize:function(t,e){this.width===t&&this.height===e||(this.width=t,this.height=e,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this},dispose:function(){this.dispatchEvent({type:\\\"dispose\\\"})}}),s.prototype=Object.create(o.prototype),s.prototype.constructor=s,s.prototype.isWebGLRenderTargetCube=!0,c.prototype={constructor:c,get x(){return this._x;\\n},set x(t){this._x=t,this.onChangeCallback()},get y(){return this._y},set y(t){this._y=t,this.onChangeCallback()},get z(){return this._z},set z(t){this._z=t,this.onChangeCallback()},get w(){return this._w},set w(t){this._w=t,this.onChangeCallback()},set:function(t,e,i,n){return this._x=t,this._y=e,this._z=i,this._w=n,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this.onChangeCallback(),this},setFromEuler:function(t,e){if((t&&t.isEuler)===!1)throw new Error(\\\"THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.\\\");var i=Math.cos(t._x/2),n=Math.cos(t._y/2),r=Math.cos(t._z/2),a=Math.sin(t._x/2),o=Math.sin(t._y/2),s=Math.sin(t._z/2),c=t.order;return\\\"XYZ\\\"===c?(this._x=a*n*r+i*o*s,this._y=i*o*r-a*n*s,this._z=i*n*s+a*o*r,this._w=i*n*r-a*o*s):\\\"YXZ\\\"===c?(this._x=a*n*r+i*o*s,this._y=i*o*r-a*n*s,this._z=i*n*s-a*o*r,this._w=i*n*r+a*o*s):\\\"ZXY\\\"===c?(this._x=a*n*r-i*o*s,this._y=i*o*r+a*n*s,this._z=i*n*s+a*o*r,this._w=i*n*r-a*o*s):\\\"ZYX\\\"===c?(this._x=a*n*r-i*o*s,this._y=i*o*r+a*n*s,this._z=i*n*s-a*o*r,this._w=i*n*r+a*o*s):\\\"YZX\\\"===c?(this._x=a*n*r+i*o*s,this._y=i*o*r+a*n*s,this._z=i*n*s-a*o*r,this._w=i*n*r-a*o*s):\\\"XZY\\\"===c&&(this._x=a*n*r-i*o*s,this._y=i*o*r-a*n*s,this._z=i*n*s+a*o*r,this._w=i*n*r+a*o*s),e!==!1&&this.onChangeCallback(),this},setFromAxisAngle:function(t,e){var i=e/2,n=Math.sin(i);return this._x=t.x*n,this._y=t.y*n,this._z=t.z*n,this._w=Math.cos(i),this.onChangeCallback(),this},setFromRotationMatrix:function(t){var e,i=t.elements,n=i[0],r=i[4],a=i[8],o=i[1],s=i[5],c=i[9],h=i[2],l=i[6],u=i[10],p=n+s+u;return p>0?(e=.5/Math.sqrt(p+1),this._w=.25/e,this._x=(l-c)*e,this._y=(a-h)*e,this._z=(o-r)*e):n>s&&n>u?(e=2*Math.sqrt(1+n-s-u),this._w=(l-c)/e,this._x=.25*e,this._y=(r+o)/e,this._z=(a+h)/e):s>u?(e=2*Math.sqrt(1+s-n-u),this._w=(a-h)/e,this._x=(r+o)/e,this._y=.25*e,this._z=(c+l)/e):(e=2*Math.sqrt(1+u-n-s),this._w=(o-r)/e,this._x=(a+h)/e,this._y=(c+l)/e,this._z=.25*e),this.onChangeCallback(),this},setFromUnitVectors:function(){var t,e,i=1e-6;return function(n,r){return void 0===t&&(t=new h),e=n.dot(r)+1,e<i?(e=0,Math.abs(n.x)>Math.abs(n.z)?t.set(-n.y,n.x,0):t.set(0,-n.z,n.y)):t.crossVectors(n,r),this._x=t.x,this._y=t.y,this._z=t.z,this._w=e,this.normalize()}}(),inverse:function(){return this.conjugate().normalize()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this.onChangeCallback(),this},multiply:function(t,e){return void 0!==e?(console.warn(\\\"THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.\\\"),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)},premultiply:function(t){return this.multiplyQuaternions(t,this)},multiplyQuaternions:function(t,e){var i=t._x,n=t._y,r=t._z,a=t._w,o=e._x,s=e._y,c=e._z,h=e._w;return this._x=i*h+a*o+n*c-r*s,this._y=n*h+a*s+r*o-i*c,this._z=r*h+a*c+i*s-n*o,this._w=a*h-i*o-n*s-r*c,this.onChangeCallback(),this},slerp:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var i=this._x,n=this._y,r=this._z,a=this._w,o=a*t._w+i*t._x+n*t._y+r*t._z;if(o<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,o=-o):this.copy(t),o>=1)return this._w=a,this._x=i,this._y=n,this._z=r,this;var s=Math.sqrt(1-o*o);if(Math.abs(s)<.001)return this._w=.5*(a+this._w),this._x=.5*(i+this._x),this._y=.5*(n+this._y),this._z=.5*(r+this._z),this;var c=Math.atan2(s,o),h=Math.sin((1-e)*c)/s,l=Math.sin(e*c)/s;return this._w=a*h+this._w*l,this._x=i*h+this._x*l,this._y=n*h+this._y*l,this._z=r*h+this._z*l,this.onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}},Object.assign(c,{slerp:function(t,e,i,n){return i.copy(t).slerp(e,n)},slerpFlat:function(t,e,i,n,r,a,o){var s=i[n+0],c=i[n+1],h=i[n+2],l=i[n+3],u=r[a+0],p=r[a+1],d=r[a+2],f=r[a+3];if(l!==f||s!==u||c!==p||h!==d){var m=1-o,v=s*u+c*p+h*d+l*f,g=v>=0?1:-1,y=1-v*v;if(y>Number.EPSILON){var x=Math.sqrt(y),_=Math.atan2(x,v*g);m=Math.sin(m*_)/x,o=Math.sin(o*_)/x}var b=o*g;if(s=s*m+u*b,c=c*m+p*b,h=h*m+d*b,l=l*m+f*b,m===1-o){var w=1/Math.sqrt(s*s+c*c+h*h+l*l);s*=w,c*=w,h*=w,l*=w}}t[e]=s,t[e+1]=c,t[e+2]=h,t[e+3]=l}}),h.prototype={constructor:h,isVector3:!0,set:function(t,e,i){return this.x=t,this.y=e,this.z=i,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error(\\\"index is out of range: \\\"+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error(\\\"index is out of range: \\\"+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,e){return void 0!==e?(console.warn(\\\"THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.\\\"),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this},sub:function(t,e){return void 0!==e?(console.warn(\\\"THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.\\\"),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},multiply:function(t,e){return void 0!==e?(console.warn(\\\"THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.\\\"),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return isFinite(t)?(this.x*=t,this.y*=t,this.z*=t):(this.x=0,this.y=0,this.z=0),this},multiplyVectors:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},applyEuler:function(){var t;return function(e){return(e&&e.isEuler)===!1&&console.error(\\\"THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.\\\"),void 0===t&&(t=new c),this.applyQuaternion(t.setFromEuler(e))}}(),applyAxisAngle:function(){var t;return function(e,i){return void 0===t&&(t=new c),this.applyQuaternion(t.setFromAxisAngle(e,i))}}(),applyMatrix3:function(t){var e=this.x,i=this.y,n=this.z,r=t.elements;return this.x=r[0]*e+r[3]*i+r[6]*n,this.y=r[1]*e+r[4]*i+r[7]*n,this.z=r[2]*e+r[5]*i+r[8]*n,this},applyMatrix4:function(t){var e=this.x,i=this.y,n=this.z,r=t.elements;return this.x=r[0]*e+r[4]*i+r[8]*n+r[12],this.y=r[1]*e+r[5]*i+r[9]*n+r[13],this.z=r[2]*e+r[6]*i+r[10]*n+r[14],this},applyProjection:function(t){var e=this.x,i=this.y,n=this.z,r=t.elements,a=1/(r[3]*e+r[7]*i+r[11]*n+r[15]);return this.x=(r[0]*e+r[4]*i+r[8]*n+r[12])*a,this.y=(r[1]*e+r[5]*i+r[9]*n+r[13])*a,this.z=(r[2]*e+r[6]*i+r[10]*n+r[14])*a,this},applyQuaternion:function(t){var e=this.x,i=this.y,n=this.z,r=t.x,a=t.y,o=t.z,s=t.w,c=s*e+a*n-o*i,h=s*i+o*e-r*n,l=s*n+r*i-a*e,u=-r*e-a*i-o*n;return this.x=c*s+u*-r+h*-o-l*-a,this.y=h*s+u*-a+l*-r-c*-o,this.z=l*s+u*-o+c*-a-h*-r,this},project:function(){var t;return function(e){return void 0===t&&(t=new l),t.multiplyMatrices(e.projectionMatrix,t.getInverse(e.matrixWorld)),this.applyProjection(t)}}(),unproject:function(){var t;return function(e){return void 0===t&&(t=new l),t.multiplyMatrices(e.matrixWorld,t.getInverse(e.projectionMatrix)),this.applyProjection(t)}}(),transformDirection:function(t){var e=this.x,i=this.y,n=this.z,r=t.elements;return this.x=r[0]*e+r[4]*i+r[8]*n,this.y=r[1]*e+r[5]*i+r[9]*n,this.z=r[2]*e+r[6]*i+r[10]*n,this.normalize()},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this},clampScalar:function(){var t,e;return function(i,n){return void 0===t&&(t=new h,e=new h),t.set(i,i,i),e.set(n,n,n),this.clamp(t,e)}}(),clampLength:function(t,e){var i=this.length();return this.multiplyScalar(Math.max(t,Math.min(e,i))/i)},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this},lerpVectors:function(t,e,i){return this.subVectors(e,t).multiplyScalar(i).add(t)},cross:function(t,e){if(void 0!==e)return console.warn(\\\"THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.\\\"),this.crossVectors(t,e);var i=this.x,n=this.y,r=this.z;return this.x=n*t.z-r*t.y,this.y=r*t.x-i*t.z,this.z=i*t.y-n*t.x,this},crossVectors:function(t,e){var i=t.x,n=t.y,r=t.z,a=e.x,o=e.y,s=e.z;return this.x=n*s-r*o,this.y=r*a-i*s,this.z=i*o-n*a,this},projectOnVector:function(t){var e=t.dot(this)/t.lengthSq();return this.copy(t).multiplyScalar(e)},projectOnPlane:function(){var t;return function(e){return void 0===t&&(t=new h),t.copy(this).projectOnVector(e),this.sub(t)}}(),reflect:function(){var t;return function(e){return void 0===t&&(t=new h),this.sub(t.copy(e).multiplyScalar(2*this.dot(e)))}}(),angleTo:function(t){var e=this.dot(t)/Math.sqrt(this.lengthSq()*t.lengthSq());return Math.acos(Fo.clamp(e,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,i=this.y-t.y,n=this.z-t.z;return e*e+i*i+n*n},distanceToManhattan:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)},setFromSpherical:function(t){var e=Math.sin(t.phi)*t.radius;return this.x=e*Math.sin(t.theta),this.y=Math.cos(t.phi)*t.radius,this.z=e*Math.cos(t.theta),this},setFromMatrixPosition:function(t){return this.setFromMatrixColumn(t,3)},setFromMatrixScale:function(t){var e=this.setFromMatrixColumn(t,0).length(),i=this.setFromMatrixColumn(t,1).length(),n=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=i,this.z=n,this},setFromMatrixColumn:function(t,e){if(\\\"number\\\"==typeof t){console.warn(\\\"THREE.Vector3: setFromMatrixColumn now expects ( matrix, index ).\\\");var i=t;t=e,e=i}return this.fromArray(t.elements,4*e)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},fromAttribute:function(t,e,i){return void 0===i&&(i=0),e=e*t.itemSize+i,this.x=t.array[e],this.y=t.array[e+1],this.z=t.array[e+2],this}},l.prototype={constructor:l,isMatrix4:!0,set:function(t,e,i,n,r,a,o,s,c,h,l,u,p,d,f,m){var v=this.elements;return v[0]=t,v[4]=e,v[8]=i,v[12]=n,v[1]=r,v[5]=a,v[9]=o,v[13]=s,v[2]=c,v[6]=h,v[10]=l,v[14]=u,v[3]=p,v[7]=d,v[11]=f,v[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new l).fromArray(this.elements)},copy:function(t){return this.elements.set(t.elements),this},copyPosition:function(t){var e=this.elements,i=t.elements;return e[12]=i[12],e[13]=i[13],e[14]=i[14],this},extractBasis:function(t,e,i){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this},makeBasis:function(t,e,i){return this.set(t.x,e.x,i.x,0,t.y,e.y,i.y,0,t.z,e.z,i.z,0,0,0,0,1),this},extractRotation:function(){var t;return function(e){void 0===t&&(t=new h);var i=this.elements,n=e.elements,r=1/t.setFromMatrixColumn(e,0).length(),a=1/t.setFromMatrixColumn(e,1).length(),o=1/t.setFromMatrixColumn(e,2).length();return i[0]=n[0]*r,i[1]=n[1]*r,i[2]=n[2]*r,i[4]=n[4]*a,i[5]=n[5]*a,i[6]=n[6]*a,i[8]=n[8]*o,i[9]=n[9]*o,i[10]=n[10]*o,this}}(),makeRotationFromEuler:function(t){(t&&t.isEuler)===!1&&console.error(\\\"THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.\\\");var e=this.elements,i=t.x,n=t.y,r=t.z,a=Math.cos(i),o=Math.sin(i),s=Math.cos(n),c=Math.sin(n),h=Math.cos(r),l=Math.sin(r);if(\\\"XYZ\\\"===t.order){var u=a*h,p=a*l,d=o*h,f=o*l;e[0]=s*h,e[4]=-s*l,e[8]=c,e[1]=p+d*c,e[5]=u-f*c,e[9]=-o*s,e[2]=f-u*c,e[6]=d+p*c,e[10]=a*s}else if(\\\"YXZ\\\"===t.order){var m=s*h,v=s*l,g=c*h,y=c*l;e[0]=m+y*o,e[4]=g*o-v,e[8]=a*c,e[1]=a*l,e[5]=a*h,e[9]=-o,e[2]=v*o-g,e[6]=y+m*o,e[10]=a*s}else if(\\\"ZXY\\\"===t.order){var m=s*h,v=s*l,g=c*h,y=c*l;e[0]=m-y*o,e[4]=-a*l,e[8]=g+v*o,e[1]=v+g*o,e[5]=a*h,e[9]=y-m*o,e[2]=-a*c,e[6]=o,e[10]=a*s}else if(\\\"ZYX\\\"===t.order){var u=a*h,p=a*l,d=o*h,f=o*l;e[0]=s*h,e[4]=d*c-p,e[8]=u*c+f,e[1]=s*l,e[5]=f*c+u,e[9]=p*c-d,e[2]=-c,e[6]=o*s,e[10]=a*s}else if(\\\"YZX\\\"===t.order){var x=a*s,_=a*c,b=o*s,w=o*c;e[0]=s*h,e[4]=w-x*l,e[8]=b*l+_,e[1]=l,e[5]=a*h,e[9]=-o*h,e[2]=-c*h,e[6]=_*l+b,e[10]=x-w*l}else if(\\\"XZY\\\"===t.order){var x=a*s,_=a*c,b=o*s,w=o*c;e[0]=s*h,e[4]=-l,e[8]=c*h,e[1]=x*l+w,e[5]=a*h,e[9]=_*l-b,e[2]=b*l-_,e[6]=o*h,e[10]=w*l+x}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},makeRotationFromQuaternion:function(t){var e=this.elements,i=t.x,n=t.y,r=t.z,a=t.w,o=i+i,s=n+n,c=r+r,h=i*o,l=i*s,u=i*c,p=n*s,d=n*c,f=r*c,m=a*o,v=a*s,g=a*c;return e[0]=1-(p+f),e[4]=l-g,e[8]=u+v,e[1]=l+g,e[5]=1-(h+f),e[9]=d-m,e[2]=u-v,e[6]=d+m,e[10]=1-(h+p),e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},lookAt:function(){var t,e,i;return function(n,r,a){void 0===t&&(t=new h,e=new h,i=new h);var o=this.elements;return i.subVectors(n,r).normalize(),0===i.lengthSq()&&(i.z=1),t.crossVectors(a,i).normalize(),0===t.lengthSq()&&(i.z+=1e-4,t.crossVectors(a,i).normalize()),e.crossVectors(i,t),o[0]=t.x,o[4]=e.x,o[8]=i.x,o[1]=t.y,o[5]=e.y,o[9]=i.y,o[2]=t.z,o[6]=e.z,o[10]=i.z,this}}(),multiply:function(t,e){return void 0!==e?(console.warn(\\\"THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.\\\"),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var i=t.elements,n=e.elements,r=this.elements,a=i[0],o=i[4],s=i[8],c=i[12],h=i[1],l=i[5],u=i[9],p=i[13],d=i[2],f=i[6],m=i[10],v=i[14],g=i[3],y=i[7],x=i[11],_=i[15],b=n[0],w=n[4],M=n[8],E=n[12],T=n[1],S=n[5],A=n[9],L=n[13],R=n[2],P=n[6],C=n[10],I=n[14],U=n[3],N=n[7],D=n[11],O=n[15];return r[0]=a*b+o*T+s*R+c*U,r[4]=a*w+o*S+s*P+c*N,r[8]=a*M+o*A+s*C+c*D,r[12]=a*E+o*L+s*I+c*O,r[1]=h*b+l*T+u*R+p*U,r[5]=h*w+l*S+u*P+p*N,r[9]=h*M+l*A+u*C+p*D,r[13]=h*E+l*L+u*I+p*O,r[2]=d*b+f*T+m*R+v*U,r[6]=d*w+f*S+m*P+v*N,r[10]=d*M+f*A+m*C+v*D,r[14]=d*E+f*L+m*I+v*O,r[3]=g*b+y*T+x*R+_*U,r[7]=g*w+y*S+x*P+_*N,r[11]=g*M+y*A+x*C+_*D,r[15]=g*E+y*L+x*I+_*O,this},multiplyToArray:function(t,e,i){var n=this.elements;return this.multiplyMatrices(t,e),i[0]=n[0],i[1]=n[1],i[2]=n[2],i[3]=n[3],i[4]=n[4],i[5]=n[5],i[6]=n[6],i[7]=n[7],i[8]=n[8],i[9]=n[9],i[10]=n[10],i[11]=n[11],i[12]=n[12],i[13]=n[13],i[14]=n[14],i[15]=n[15],this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this},applyToVector3Array:function(){var t;return function(e,i,n){void 0===t&&(t=new h),void 0===i&&(i=0),void 0===n&&(n=e.length);for(var r=0,a=i;r<n;r+=3,a+=3)t.fromArray(e,a),t.applyMatrix4(this),t.toArray(e,a);return e}}(),applyToBuffer:function(){var t;return function(e,i,n){void 0===t&&(t=new h),void 0===i&&(i=0),void 0===n&&(n=e.length/e.itemSize);for(var r=0,a=i;r<n;r++,a++)t.x=e.getX(a),t.y=e.getY(a),t.z=e.getZ(a),t.applyMatrix4(this),e.setXYZ(a,t.x,t.y,t.z);return e}}(),determinant:function(){var t=this.elements,e=t[0],i=t[4],n=t[8],r=t[12],a=t[1],o=t[5],s=t[9],c=t[13],h=t[2],l=t[6],u=t[10],p=t[14],d=t[3],f=t[7],m=t[11],v=t[15];return d*(+r*s*l-n*c*l-r*o*u+i*c*u+n*o*p-i*s*p)+f*(+e*s*p-e*c*u+r*a*u-n*a*p+n*c*h-r*s*h)+m*(+e*c*l-e*o*p-r*a*l+i*a*p+r*o*h-i*c*h)+v*(-n*o*h-e*s*l+e*o*u+n*a*l-i*a*u+i*s*h)},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},flattenToArrayOffset:function(t,e){return console.warn(\\\"THREE.Matrix3: .flattenToArrayOffset is deprecated - just use .toArray instead.\\\"),this.toArray(t,e)},getPosition:function(){var t;return function(){return void 0===t&&(t=new h),console.warn(\\\"THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.\\\"),t.setFromMatrixColumn(this,3)}}(),setPosition:function(t){var e=this.elements;return e[12]=t.x,e[13]=t.y,e[14]=t.z,this},getInverse:function(t,e){var i=this.elements,n=t.elements,r=n[0],a=n[1],o=n[2],s=n[3],c=n[4],h=n[5],l=n[6],u=n[7],p=n[8],d=n[9],f=n[10],m=n[11],v=n[12],g=n[13],y=n[14],x=n[15],_=d*y*u-g*f*u+g*l*m-h*y*m-d*l*x+h*f*x,b=v*f*u-p*y*u-v*l*m+c*y*m+p*l*x-c*f*x,w=p*g*u-v*d*u+v*h*m-c*g*m-p*h*x+c*d*x,M=v*d*l-p*g*l-v*h*f+c*g*f+p*h*y-c*d*y,E=r*_+a*b+o*w+s*M;if(0===E){var T=\\\"THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0\\\";if(e===!0)throw new Error(T);return console.warn(T),this.identity()}var S=1/E;return i[0]=_*S,i[1]=(g*f*s-d*y*s-g*o*m+a*y*m+d*o*x-a*f*x)*S,i[2]=(h*y*s-g*l*s+g*o*u-a*y*u-h*o*x+a*l*x)*S,i[3]=(d*l*s-h*f*s-d*o*u+a*f*u+h*o*m-a*l*m)*S,i[4]=b*S,i[5]=(p*y*s-v*f*s+v*o*m-r*y*m-p*o*x+r*f*x)*S,i[6]=(v*l*s-c*y*s-v*o*u+r*y*u+c*o*x-r*l*x)*S,i[7]=(c*f*s-p*l*s+p*o*u-r*f*u-c*o*m+r*l*m)*S,i[8]=w*S,i[9]=(v*d*s-p*g*s-v*a*m+r*g*m+p*a*x-r*d*x)*S,i[10]=(c*g*s-v*h*s+v*a*u-r*g*u-c*a*x+r*h*x)*S,i[11]=(p*h*s-c*d*s-p*a*u+r*d*u+c*a*m-r*h*m)*S,i[12]=M*S,i[13]=(p*g*o-v*d*o+v*a*f-r*g*f-p*a*y+r*d*y)*S,i[14]=(v*h*o-c*g*o-v*a*l+r*g*l+c*a*y-r*h*y)*S,i[15]=(c*d*o-p*h*o+p*a*l-r*d*l-c*a*f+r*h*f)*S,this},scale:function(t){var e=this.elements,i=t.x,n=t.y,r=t.z;return e[0]*=i,e[4]*=n,e[8]*=r,e[1]*=i,e[5]*=n,e[9]*=r,e[2]*=i,e[6]*=n,e[10]*=r,e[3]*=i,e[7]*=n,e[11]*=r,this},getMaxScaleOnAxis:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],n=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,i,n))},makeTranslation:function(t,e,i){return this.set(1,0,0,t,0,1,0,e,0,0,1,i,0,0,0,1),this},makeRotationX:function(t){var e=Math.cos(t),i=Math.sin(t);return this.set(1,0,0,0,0,e,-i,0,0,i,e,0,0,0,0,1),this},makeRotationY:function(t){var e=Math.cos(t),i=Math.sin(t);return this.set(e,0,i,0,0,1,0,0,-i,0,e,0,0,0,0,1),this},makeRotationZ:function(t){var e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,0,i,e,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,e){var i=Math.cos(e),n=Math.sin(e),r=1-i,a=t.x,o=t.y,s=t.z,c=r*a,h=r*o;return this.set(c*a+i,c*o-n*s,c*s+n*o,0,c*o+n*s,h*o+i,h*s-n*a,0,c*s-n*o,h*s+n*a,r*s*s+i,0,0,0,0,1),this},makeScale:function(t,e,i){return this.set(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1),this},compose:function(t,e,i){return this.makeRotationFromQuaternion(e),this.scale(i),this.setPosition(t),this},decompose:function(){var t,e;return function(i,n,r){void 0===t&&(t=new h,e=new l);var a=this.elements,o=t.set(a[0],a[1],a[2]).length(),s=t.set(a[4],a[5],a[6]).length(),c=t.set(a[8],a[9],a[10]).length(),u=this.determinant();u<0&&(o=-o),i.x=a[12],i.y=a[13],i.z=a[14],e.elements.set(this.elements);var p=1/o,d=1/s,f=1/c;return e.elements[0]*=p,e.elements[1]*=p,e.elements[2]*=p,e.elements[4]*=d,e.elements[5]*=d,e.elements[6]*=d,e.elements[8]*=f,e.elements[9]*=f,e.elements[10]*=f,n.setFromRotationMatrix(e),r.x=o,r.y=s,r.z=c,this}}(),makeFrustum:function(t,e,i,n,r,a){var o=this.elements,s=2*r/(e-t),c=2*r/(n-i),h=(e+t)/(e-t),l=(n+i)/(n-i),u=-(a+r)/(a-r),p=-2*a*r/(a-r);return o[0]=s,o[4]=0,o[8]=h,o[12]=0,o[1]=0,o[5]=c,o[9]=l,o[13]=0,o[2]=0,o[6]=0,o[10]=u,o[14]=p,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this},makePerspective:function(t,e,i,n){var r=i*Math.tan(Fo.DEG2RAD*t*.5),a=-r,o=a*e,s=r*e;return this.makeFrustum(o,s,a,r,i,n)},makeOrthographic:function(t,e,i,n,r,a){var o=this.elements,s=1/(e-t),c=1/(i-n),h=1/(a-r),l=(e+t)*s,u=(i+n)*c,p=(a+r)*h;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-l,o[1]=0,o[5]=2*c,o[9]=0,o[13]=-u,o[2]=0,o[6]=0,o[10]=-2*h,o[14]=-p,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this},equals:function(t){for(var e=this.elements,i=t.elements,n=0;n<16;n++)if(e[n]!==i[n])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var i=0;i<16;i++)this.elements[i]=t[i+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t[e+9]=i[9],t[e+10]=i[10],t[e+11]=i[11],t[e+12]=i[12],t[e+13]=i[13],t[e+14]=i[14],t[e+15]=i[15],t}},u.prototype=Object.create(n.prototype),u.prototype.constructor=u,u.prototype.isCubeTexture=!0,Object.defineProperty(u.prototype,\\\"images\\\",{get:function(){return this.image},set:function(t){this.image=t}});var zo=new n,Go=new u,Ho=[],Vo=[];V.prototype.setValue=function(t,e){for(var i=this.seq,n=0,r=i.length;n!==r;++n){var a=i[n];a.setValue(t,e[a.id])}};var ko=/([\\\\w\\\\d_]+)(\\\\])?(\\\\[|\\\\.)?/g;W.prototype.setValue=function(t,e,i){var n=this.map[e];void 0!==n&&n.setValue(t,i,this.renderer)},W.prototype.set=function(t,e,i){var n=this.map[i];void 0!==n&&n.setValue(t,e[i],this.renderer)},W.prototype.setOptional=function(t,e,i){var n=e[i];void 0!==n&&this.setValue(t,i,n)},W.upload=function(t,e,i,n){for(var r=0,a=e.length;r!==a;++r){var o=e[r],s=i[o.id];s.needsUpdate!==!1&&o.setValue(t,s.value,n)}},W.seqWithValue=function(t,e){for(var i=[],n=0,r=t.length;n!==r;++n){var a=t[n];a.id in e&&i.push(a)}return i};var jo={merge:function(t){for(var e={},i=0;i<t.length;i++){var n=this.clone(t[i]);for(var r in n)e[r]=n[r]}return e},clone:function(t){var e={};for(var i in t){e[i]={};for(var n in t[i]){var r=t[i][n];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture)?e[i][n]=r.clone():Array.isArray(r)?e[i][n]=r.slice():e[i][n]=r}}return e}},Wo=\\\"#ifdef USE_ALPHAMAP\\\\n\\\\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\\\\n#endif\\\\n\\\",Xo=\\\"#ifdef USE_ALPHAMAP\\\\n\\\\tuniform sampler2D alphaMap;\\\\n#endif\\\\n\\\",Yo=\\\"#ifdef ALPHATEST\\\\n\\\\tif ( diffuseColor.a < ALPHATEST ) discard;\\\\n#endif\\\\n\\\",qo=\\\"#ifdef USE_AOMAP\\\\n\\\\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\\\\n\\\\treflectedLight.indirectDiffuse *= ambientOcclusion;\\\\n\\\\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\\\\n\\\\t\\\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\\\n\\\\t\\\\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\\\\n\\\\t#endif\\\\n#endif\\\\n\\\",Zo=\\\"#ifdef USE_AOMAP\\\\n\\\\tuniform sampler2D aoMap;\\\\n\\\\tuniform float aoMapIntensity;\\\\n#endif\\\",Jo=\\\"\\\\nvec3 transformed = vec3( position );\\\\n\\\",Qo=\\\"\\\\nvec3 objectNormal = vec3( normal );\\\\n\\\",Ko=\\\"bool testLightInRange( const in float lightDistance, const in float cutoffDistance ) {\\\\n\\\\treturn any( bvec2( cutoffDistance == 0.0, lightDistance < cutoffDistance ) );\\\\n}\\\\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\\\\n\\\\t\\\\tif( decayExponent > 0.0 ) {\\\\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\\\\n\\\\t\\\\t\\\\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\\\\n\\\\t\\\\t\\\\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\\\\n\\\\t\\\\t\\\\treturn distanceFalloff * maxDistanceCutoffFactor;\\\\n#else\\\\n\\\\t\\\\t\\\\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\\\\n#endif\\\\n\\\\t\\\\t}\\\\n\\\\t\\\\treturn 1.0;\\\\n}\\\\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\\\\n\\\\treturn RECIPROCAL_PI * diffuseColor;\\\\n}\\\\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\\\\n\\\\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\\\\n\\\\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\\\\n}\\\\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\\\\n\\\\tfloat a2 = pow2( alpha );\\\\n\\\\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\\\n\\\\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\\\n\\\\treturn 1.0 / ( gl * gv );\\\\n}\\\\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\\\\n\\\\tfloat a2 = pow2( alpha );\\\\n\\\\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\\\n\\\\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\\\n\\\\treturn 0.5 / max( gv + gl, EPSILON );\\\\n}\\\\nfloat D_GGX( const in float alpha, const in float dotNH ) {\\\\n\\\\tfloat a2 = pow2( alpha );\\\\n\\\\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\\\\n\\\\treturn RECIPROCAL_PI * a2 / pow2( denom );\\\\n}\\\\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\\\\n\\\\tfloat alpha = pow2( roughness );\\\\n\\\\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\\\\n\\\\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\\\\n\\\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\\\n\\\\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\\\\n\\\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\\\n\\\\tvec3 F = F_Schlick( specularColor, dotLH );\\\\n\\\\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\\\\n\\\\tfloat D = D_GGX( alpha, dotNH );\\\\n\\\\treturn F * ( G * D );\\\\n}\\\\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\\\\n\\\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\\\n\\\\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\\\\n\\\\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\\\\n\\\\tvec4 r = roughness * c0 + c1;\\\\n\\\\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\\\\n\\\\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\\\\n\\\\treturn specularColor * AB.x + AB.y;\\\\n}\\\\nfloat G_BlinnPhong_Implicit( ) {\\\\n\\\\treturn 0.25;\\\\n}\\\\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\\\\n\\\\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\\\\n}\\\\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\\\\n\\\\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\\\\n\\\\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\\\\n\\\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\\\n\\\\tvec3 F = F_Schlick( specularColor, dotLH );\\\\n\\\\tfloat G = G_BlinnPhong_Implicit( );\\\\n\\\\tfloat D = D_BlinnPhong( shininess, dotNH );\\\\n\\\\treturn F * ( G * D );\\\\n}\\\\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\\\\n\\\\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\\\\n}\\\\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\\\\n\\\\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\\\\n}\\\\n\\\",$o=\\\"#ifdef USE_BUMPMAP\\\\n\\\\tuniform sampler2D bumpMap;\\\\n\\\\tuniform float bumpScale;\\\\n\\\\tvec2 dHdxy_fwd() {\\\\n\\\\t\\\\tvec2 dSTdx = dFdx( vUv );\\\\n\\\\t\\\\tvec2 dSTdy = dFdy( vUv );\\\\n\\\\t\\\\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\\\\n\\\\t\\\\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\\\\n\\\\t\\\\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\\\\n\\\\t\\\\treturn vec2( dBx, dBy );\\\\n\\\\t}\\\\n\\\\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\\\\n\\\\t\\\\tvec3 vSigmaX = dFdx( surf_pos );\\\\n\\\\t\\\\tvec3 vSigmaY = dFdy( surf_pos );\\\\n\\\\t\\\\tvec3 vN = surf_norm;\\\\n\\\\t\\\\tvec3 R1 = cross( vSigmaY, vN );\\\\n\\\\t\\\\tvec3 R2 = cross( vN, vSigmaX );\\\\n\\\\t\\\\tfloat fDet = dot( vSigmaX, R1 );\\\\n\\\\t\\\\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\\\\n\\\\t\\\\treturn normalize( abs( fDet ) * surf_norm - vGrad );\\\\n\\\\t}\\\\n#endif\\\\n\\\",ts=\\\"#if NUM_CLIPPING_PLANES > 0\\\\n\\\\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; ++ i ) {\\\\n\\\\t\\\\tvec4 plane = clippingPlanes[ i ];\\\\n\\\\t\\\\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\\\\n\\\\t}\\\\n\\\\t\\\\t\\\\n\\\\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\\\\n\\\\t\\\\tbool clipped = true;\\\\n\\\\t\\\\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; ++ i ) {\\\\n\\\\t\\\\t\\\\tvec4 plane = clippingPlanes[ i ];\\\\n\\\\t\\\\t\\\\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\\\\n\\\\t\\\\t}\\\\n\\\\t\\\\tif ( clipped ) discard;\\\\n\\\\t\\\\n\\\\t#endif\\\\n#endif\\\\n\\\",es=\\\"#if NUM_CLIPPING_PLANES > 0\\\\n\\\\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\\\\n\\\\t\\\\tvarying vec3 vViewPosition;\\\\n\\\\t#endif\\\\n\\\\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\\\\n#endif\\\\n\\\",is=\\\"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\\\\n\\\\tvarying vec3 vViewPosition;\\\\n#endif\\\\n\\\",ns=\\\"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\\\\n\\\\tvViewPosition = - mvPosition.xyz;\\\\n#endif\\\\n\\\",rs=\\\"#ifdef USE_COLOR\\\\n\\\\tdiffuseColor.rgb *= vColor;\\\\n#endif\\\",as=\\\"#ifdef USE_COLOR\\\\n\\\\tvarying vec3 vColor;\\\\n#endif\\\\n\\\",os=\\\"#ifdef USE_COLOR\\\\n\\\\tvarying vec3 vColor;\\\\n#endif\\\",ss=\\\"#ifdef USE_COLOR\\\\n\\\\tvColor.xyz = color.xyz;\\\\n#endif\\\",cs=\\\"#define PI 3.14159265359\\\\n#define PI2 6.28318530718\\\\n#define RECIPROCAL_PI 0.31830988618\\\\n#define RECIPROCAL_PI2 0.15915494\\\\n#define LOG2 1.442695\\\\n#define EPSILON 1e-6\\\\n#define saturate(a) clamp( a, 0.0, 1.0 )\\\\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\\\\nfloat pow2( const in float x ) { return x*x; }\\\\nfloat pow3( const in float x ) { return x*x*x; }\\\\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\\\\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\\\\nhighp float rand( const in vec2 uv ) {\\\\n\\\\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\\\\n\\\\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\\\\n\\\\treturn fract(sin(sn) * c);\\\\n}\\\\nstruct IncidentLight {\\\\n\\\\tvec3 color;\\\\n\\\\tvec3 direction;\\\\n\\\\tbool visible;\\\\n};\\\\nstruct ReflectedLight {\\\\n\\\\tvec3 directDiffuse;\\\\n\\\\tvec3 directSpecular;\\\\n\\\\tvec3 indirectDiffuse;\\\\n\\\\tvec3 indirectSpecular;\\\\n};\\\\nstruct GeometricContext {\\\\n\\\\tvec3 position;\\\\n\\\\tvec3 normal;\\\\n\\\\tvec3 viewDir;\\\\n};\\\\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\\\\n\\\\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\\\\n}\\\\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\\\\n\\\\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\\\\n}\\\\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\\\n\\\\tfloat distance = dot( planeNormal, point - pointOnPlane );\\\\n\\\\treturn - distance * planeNormal + point;\\\\n}\\\\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\\\n\\\\treturn sign( dot( point - pointOnPlane, planeNormal ) );\\\\n}\\\\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\\\\n\\\\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\\\\n}\\\\n\\\",hs=\\\"#ifdef ENVMAP_TYPE_CUBE_UV\\\\n#define cubeUV_textureSize (1024.0)\\\\nint getFaceFromDirection(vec3 direction) {\\\\n\\\\tvec3 absDirection = abs(direction);\\\\n\\\\tint face = -1;\\\\n\\\\tif( absDirection.x > absDirection.z ) {\\\\n\\\\t\\\\tif(absDirection.x > absDirection.y )\\\\n\\\\t\\\\t\\\\tface = direction.x > 0.0 ? 0 : 3;\\\\n\\\\t\\\\telse\\\\n\\\\t\\\\t\\\\tface = direction.y > 0.0 ? 1 : 4;\\\\n\\\\t}\\\\n\\\\telse {\\\\n\\\\t\\\\tif(absDirection.z > absDirection.y )\\\\n\\\\t\\\\t\\\\tface = direction.z > 0.0 ? 2 : 5;\\\\n\\\\t\\\\telse\\\\n\\\\t\\\\t\\\\tface = direction.y > 0.0 ? 1 : 4;\\\\n\\\\t}\\\\n\\\\treturn face;\\\\n}\\\\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\\\\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\\\\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\\\\n\\\\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\\\\n\\\\tfloat dxRoughness = dFdx(roughness);\\\\n\\\\tfloat dyRoughness = dFdy(roughness);\\\\n\\\\tvec3 dx = dFdx( vec * scale * dxRoughness );\\\\n\\\\tvec3 dy = dFdy( vec * scale * dyRoughness );\\\\n\\\\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\\\\n\\\\td = clamp(d, 1.0, cubeUV_rangeClamp);\\\\n\\\\tfloat mipLevel = 0.5 * log2(d);\\\\n\\\\treturn vec2(floor(mipLevel), fract(mipLevel));\\\\n}\\\\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\\\\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\\\\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\\\\n\\\\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\\\\n\\\\tfloat a = 16.0 * cubeUV_rcpTextureSize;\\\\n\\\\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\\\\n\\\\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\\\\n\\\\tfloat powScale = exp2_packed.x * exp2_packed.y;\\\\n\\\\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\\\\n\\\\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\\\\n\\\\tbool bRes = mipLevel == 0.0;\\\\n\\\\tscale =  bRes && (scale < a) ? a : scale;\\\\n\\\\tvec3 r;\\\\n\\\\tvec2 offset;\\\\n\\\\tint face = getFaceFromDirection(direction);\\\\n\\\\tfloat rcpPowScale = 1.0 / powScale;\\\\n\\\\tif( face == 0) {\\\\n\\\\t\\\\tr = vec3(direction.x, -direction.z, direction.y);\\\\n\\\\t\\\\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\\\\n\\\\t\\\\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\\\\n\\\\t}\\\\n\\\\telse if( face == 1) {\\\\n\\\\t\\\\tr = vec3(direction.y, direction.x, direction.z);\\\\n\\\\t\\\\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\\\\n\\\\t\\\\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\\\\n\\\\t}\\\\n\\\\telse if( face == 2) {\\\\n\\\\t\\\\tr = vec3(direction.z, direction.x, direction.y);\\\\n\\\\t\\\\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\\\\n\\\\t\\\\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\\\\n\\\\t}\\\\n\\\\telse if( face == 3) {\\\\n\\\\t\\\\tr = vec3(direction.x, direction.z, direction.y);\\\\n\\\\t\\\\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\\\\n\\\\t\\\\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\\\\n\\\\t}\\\\n\\\\telse if( face == 4) {\\\\n\\\\t\\\\tr = vec3(direction.y, direction.x, -direction.z);\\\\n\\\\t\\\\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\\\\n\\\\t\\\\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\\\\n\\\\t}\\\\n\\\\telse {\\\\n\\\\t\\\\tr = vec3(direction.z, -direction.x, direction.y);\\\\n\\\\t\\\\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\\\\n\\\\t\\\\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\\\\n\\\\t}\\\\n\\\\tr = normalize(r);\\\\n\\\\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\\\\n\\\\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\\\\n\\\\tvec2 base = offset + vec2( texelOffset );\\\\n\\\\treturn base + s * ( scale - 2.0 * texelOffset );\\\\n}\\\\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\\\\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\\\\n\\\\tfloat roughnessVal = roughness* cubeUV_maxLods3;\\\\n\\\\tfloat r1 = floor(roughnessVal);\\\\n\\\\tfloat r2 = r1 + 1.0;\\\\n\\\\tfloat t = fract(roughnessVal);\\\\n\\\\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\\\\n\\\\tfloat s = mipInfo.y;\\\\n\\\\tfloat level0 = mipInfo.x;\\\\n\\\\tfloat level1 = level0 + 1.0;\\\\n\\\\tlevel1 = level1 > 5.0 ? 5.0 : level1;\\\\n\\\\tlevel0 += min( floor( s + 0.5 ), 5.0 );\\\\n\\\\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\\\\n\\\\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\\\\n\\\\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\\\\n\\\\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\\\\n\\\\tvec4 result = mix(color10, color20, t);\\\\n\\\\treturn vec4(result.rgb, 1.0);\\\\n}\\\\n#endif\\\\n\\\",ls=\\\"#ifdef FLIP_SIDED\\\\n\\\\tobjectNormal = -objectNormal;\\\\n#endif\\\\nvec3 transformedNormal = normalMatrix * objectNormal;\\\\n\\\",us=\\\"#ifdef USE_DISPLACEMENTMAP\\\\n\\\\tuniform sampler2D displacementMap;\\\\n\\\\tuniform float displacementScale;\\\\n\\\\tuniform float displacementBias;\\\\n#endif\\\\n\\\",ps=\\\"#ifdef USE_DISPLACEMENTMAP\\\\n\\\\ttransformed += normal * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\\\\n#endif\\\\n\\\",ds=\\\"#ifdef USE_EMISSIVEMAP\\\\n\\\\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\\\\n\\\\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\\\\n\\\\ttotalEmissiveRadiance *= emissiveColor.rgb;\\\\n#endif\\\\n\\\",fs=\\\"#ifdef USE_EMISSIVEMAP\\\\n\\\\tuniform sampler2D emissiveMap;\\\\n#endif\\\\n\\\",ms=\\\"  gl_FragColor = linearToOutputTexel( gl_FragColor );\\\\n\\\",vs=\\\"\\\\nvec4 LinearToLinear( in vec4 value ) {\\\\n  return value;\\\\n}\\\\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\\\\n  return vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\\\\n}\\\\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\\\\n  return vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\\\\n}\\\\nvec4 sRGBToLinear( in vec4 value ) {\\\\n  return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\\\\n}\\\\nvec4 LinearTosRGB( in vec4 value ) {\\\\n  return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\\\\n}\\\\nvec4 RGBEToLinear( in vec4 value ) {\\\\n  return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\\\\n}\\\\nvec4 LinearToRGBE( in vec4 value ) {\\\\n  float maxComponent = max( max( value.r, value.g ), value.b );\\\\n  float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\\\\n  return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\\\\n}\\\\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\\\\n  return vec4( value.xyz * value.w * maxRange, 1.0 );\\\\n}\\\\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\\\\n  float maxRGB = max( value.x, max( value.g, value.b ) );\\\\n  float M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\\\\n  M            = ceil( M * 255.0 ) / 255.0;\\\\n  return vec4( value.rgb / ( M * maxRange ), M );\\\\n}\\\\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\\\\n    return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\\\\n}\\\\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\\\\n    float maxRGB = max( value.x, max( value.g, value.b ) );\\\\n    float D      = max( maxRange / maxRGB, 1.0 );\\\\n    D            = min( floor( D ) / 255.0, 1.0 );\\\\n    return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\\\\n}\\\\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\\\\nvec4 LinearToLogLuv( in vec4 value )  {\\\\n  vec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\\\\n  Xp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\\\\n  vec4 vResult;\\\\n  vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\\\\n  float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\\\\n  vResult.w = fract(Le);\\\\n  vResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\\\\n  return vResult;\\\\n}\\\\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\\\\nvec4 LogLuvToLinear( in vec4 value ) {\\\\n  float Le = value.z * 255.0 + value.w;\\\\n  vec3 Xp_Y_XYZp;\\\\n  Xp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\\\\n  Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\\\\n  Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\\\\n  vec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\\\\n  return vec4( max(vRGB, 0.0), 1.0 );\\\\n}\\\\n\\\",gs=\\\"#ifdef USE_ENVMAP\\\\n\\\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\\\n\\\\t\\\\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\\\\n\\\\t\\\\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\\\\n\\\\t\\\\t#ifdef ENVMAP_MODE_REFLECTION\\\\n\\\\t\\\\t\\\\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\\\\n\\\\t\\\\t#else\\\\n\\\\t\\\\t\\\\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\\\\n\\\\t\\\\t#endif\\\\n\\\\t#else\\\\n\\\\t\\\\tvec3 reflectVec = vReflect;\\\\n\\\\t#endif\\\\n\\\\t#ifdef ENVMAP_TYPE_CUBE\\\\n\\\\t\\\\tvec4 envColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\\\\n\\\\t#elif defined( ENVMAP_TYPE_EQUIREC )\\\\n\\\\t\\\\tvec2 sampleUV;\\\\n\\\\t\\\\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\\\\n\\\\t\\\\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\\\\n\\\\t\\\\tvec4 envColor = texture2D( envMap, sampleUV );\\\\n\\\\t#elif defined( ENVMAP_TYPE_SPHERE )\\\\n\\\\t\\\\tvec3 reflectView = flipNormal * normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\\\\n\\\\t\\\\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\\\\n\\\\t#else\\\\n\\\\t\\\\tvec4 envColor = vec4( 0.0 );\\\\n\\\\t#endif\\\\n\\\\tenvColor = envMapTexelToLinear( envColor );\\\\n\\\\t#ifdef ENVMAP_BLENDING_MULTIPLY\\\\n\\\\t\\\\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\\\\n\\\\t#elif defined( ENVMAP_BLENDING_MIX )\\\\n\\\\t\\\\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\\\\n\\\\t#elif defined( ENVMAP_BLENDING_ADD )\\\\n\\\\t\\\\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\\\\n\\\\t#endif\\\\n#endif\\\\n\\\",ys=\\\"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\\\\n\\\\tuniform float reflectivity;\\\\n\\\\tuniform float envMapIntenstiy;\\\\n#endif\\\\n#ifdef USE_ENVMAP\\\\n\\\\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\\\\n\\\\t\\\\tvarying vec3 vWorldPosition;\\\\n\\\\t#endif\\\\n\\\\t#ifdef ENVMAP_TYPE_CUBE\\\\n\\\\t\\\\tuniform samplerCube envMap;\\\\n\\\\t#else\\\\n\\\\t\\\\tuniform sampler2D envMap;\\\\n\\\\t#endif\\\\n\\\\tuniform float flipEnvMap;\\\\n\\\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\\\\n\\\\t\\\\tuniform float refractionRatio;\\\\n\\\\t#else\\\\n\\\\t\\\\tvarying vec3 vReflect;\\\\n\\\\t#endif\\\\n#endif\\\\n\\\",xs=\\\"#ifdef USE_ENVMAP\\\\n\\\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\\\n\\\\t\\\\tvarying vec3 vWorldPosition;\\\\n\\\\t#else\\\\n\\\\t\\\\tvarying vec3 vReflect;\\\\n\\\\t\\\\tuniform float refractionRatio;\\\\n\\\\t#endif\\\\n#endif\\\\n\\\",_s=\\\"#ifdef USE_ENVMAP\\\\n\\\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\\\n\\\\t\\\\tvWorldPosition = worldPosition.xyz;\\\\n\\\\t#else\\\\n\\\\t\\\\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\\\\n\\\\t\\\\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\\\n\\\\t\\\\t#ifdef ENVMAP_MODE_REFLECTION\\\\n\\\\t\\\\t\\\\tvReflect = reflect( cameraToVertex, worldNormal );\\\\n\\\\t\\\\t#else\\\\n\\\\t\\\\t\\\\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\\\\n\\\\t\\\\t#endif\\\\n\\\\t#endif\\\\n#endif\\\\n\\\",bs=\\\"#ifdef USE_FOG\\\\n\\\\t#ifdef USE_LOGDEPTHBUF_EXT\\\\n\\\\t\\\\tfloat depth = gl_FragDepthEXT / gl_FragCoord.w;\\\\n\\\\t#else\\\\n\\\\t\\\\tfloat depth = gl_FragCoord.z / gl_FragCoord.w;\\\\n\\\\t#endif\\\\n\\\\t#ifdef FOG_EXP2\\\\n\\\\t\\\\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * depth * depth * LOG2 ) );\\\\n\\\\t#else\\\\n\\\\t\\\\tfloat fogFactor = smoothstep( fogNear, fogFar, depth );\\\\n\\\\t#endif\\\\n\\\\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\\\\n#endif\\\\n\\\",ws=\\\"#ifdef USE_FOG\\\\n\\\\tuniform vec3 fogColor;\\\\n\\\\t#ifdef FOG_EXP2\\\\n\\\\t\\\\tuniform float fogDensity;\\\\n\\\\t#else\\\\n\\\\t\\\\tuniform float fogNear;\\\\n\\\\t\\\\tuniform float fogFar;\\\\n\\\\t#endif\\\\n#endif\\\",Ms=\\\"#ifdef USE_LIGHTMAP\\\\n\\\\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\\\\n#endif\\\\n\\\",Es=\\\"#ifdef USE_LIGHTMAP\\\\n\\\\tuniform sampler2D lightMap;\\\\n\\\\tuniform float lightMapIntensity;\\\\n#endif\\\",Ts=\\\"vec3 diffuse = vec3( 1.0 );\\\\nGeometricContext geometry;\\\\ngeometry.position = mvPosition.xyz;\\\\ngeometry.normal = normalize( transformedNormal );\\\\ngeometry.viewDir = normalize( -mvPosition.xyz );\\\\nGeometricContext backGeometry;\\\\nbackGeometry.position = geometry.position;\\\\nbackGeometry.normal = -geometry.normal;\\\\nbackGeometry.viewDir = geometry.viewDir;\\\\nvLightFront = vec3( 0.0 );\\\\n#ifdef DOUBLE_SIDED\\\\n\\\\tvLightBack = vec3( 0.0 );\\\\n#endif\\\\nIncidentLight directLight;\\\\nfloat dotNL;\\\\nvec3 directLightColor_Diffuse;\\\\n#if NUM_POINT_LIGHTS > 0\\\\n\\\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\\\n\\\\t\\\\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\\\\n\\\\t\\\\tdotNL = dot( geometry.normal, directLight.direction );\\\\n\\\\t\\\\tdirectLightColor_Diffuse = PI * directLight.color;\\\\n\\\\t\\\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\\\n\\\\t\\\\t#ifdef DOUBLE_SIDED\\\\n\\\\t\\\\t\\\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\\\n\\\\t\\\\t#endif\\\\n\\\\t}\\\\n#endif\\\\n#if NUM_SPOT_LIGHTS > 0\\\\n\\\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\\\n\\\\t\\\\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\\\\n\\\\t\\\\tdotNL = dot( geometry.normal, directLight.direction );\\\\n\\\\t\\\\tdirectLightColor_Diffuse = PI * directLight.color;\\\\n\\\\t\\\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\\\n\\\\t\\\\t#ifdef DOUBLE_SIDED\\\\n\\\\t\\\\t\\\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\\\n\\\\t\\\\t#endif\\\\n\\\\t}\\\\n#endif\\\\n#if NUM_DIR_LIGHTS > 0\\\\n\\\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\\\n\\\\t\\\\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\\\\n\\\\t\\\\tdotNL = dot( geometry.normal, directLight.direction );\\\\n\\\\t\\\\tdirectLightColor_Diffuse = PI * directLight.color;\\\\n\\\\t\\\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\\\n\\\\t\\\\t#ifdef DOUBLE_SIDED\\\\n\\\\t\\\\t\\\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\\\n\\\\t\\\\t#endif\\\\n\\\\t}\\\\n#endif\\\\n#if NUM_HEMI_LIGHTS > 0\\\\n\\\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\\\n\\\\t\\\\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\\\n\\\\t\\\\t#ifdef DOUBLE_SIDED\\\\n\\\\t\\\\t\\\\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\\\\n\\\\t\\\\t#endif\\\\n\\\\t}\\\\n#endif\\\\n\\\",Ss=\\\"uniform vec3 ambientLightColor;\\\\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\\\\n\\\\tvec3 irradiance = ambientLightColor;\\\\n\\\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\\\n\\\\t\\\\tirradiance *= PI;\\\\n\\\\t#endif\\\\n\\\\treturn irradiance;\\\\n}\\\\n#if NUM_DIR_LIGHTS > 0\\\\n\\\\tstruct DirectionalLight {\\\\n\\\\t\\\\tvec3 direction;\\\\n\\\\t\\\\tvec3 color;\\\\n\\\\t\\\\tint shadow;\\\\n\\\\t\\\\tfloat shadowBias;\\\\n\\\\t\\\\tfloat shadowRadius;\\\\n\\\\t\\\\tvec2 shadowMapSize;\\\\n\\\\t};\\\\n\\\\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\\\\n\\\\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\\\n\\\\t\\\\tdirectLight.color = directionalLight.color;\\\\n\\\\t\\\\tdirectLight.direction = directionalLight.direction;\\\\n\\\\t\\\\tdirectLight.visible = true;\\\\n\\\\t}\\\\n#endif\\\\n#if NUM_POINT_LIGHTS > 0\\\\n\\\\tstruct PointLight {\\\\n\\\\t\\\\tvec3 position;\\\\n\\\\t\\\\tvec3 color;\\\\n\\\\t\\\\tfloat distance;\\\\n\\\\t\\\\tfloat decay;\\\\n\\\\t\\\\tint shadow;\\\\n\\\\t\\\\tfloat shadowBias;\\\\n\\\\t\\\\tfloat shadowRadius;\\\\n\\\\t\\\\tvec2 shadowMapSize;\\\\n\\\\t};\\\\n\\\\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\\\\n\\\\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\\\n\\\\t\\\\tvec3 lVector = pointLight.position - geometry.position;\\\\n\\\\t\\\\tdirectLight.direction = normalize( lVector );\\\\n\\\\t\\\\tfloat lightDistance = length( lVector );\\\\n\\\\t\\\\tif ( testLightInRange( lightDistance, pointLight.distance ) ) {\\\\n\\\\t\\\\t\\\\tdirectLight.color = pointLight.color;\\\\n\\\\t\\\\t\\\\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\\\\n\\\\t\\\\t\\\\tdirectLight.visible = true;\\\\n\\\\t\\\\t} else {\\\\n\\\\t\\\\t\\\\tdirectLight.color = vec3( 0.0 );\\\\n\\\\t\\\\t\\\\tdirectLight.visible = false;\\\\n\\\\t\\\\t}\\\\n\\\\t}\\\\n#endif\\\\n#if NUM_SPOT_LIGHTS > 0\\\\n\\\\tstruct SpotLight {\\\\n\\\\t\\\\tvec3 position;\\\\n\\\\t\\\\tvec3 direction;\\\\n\\\\t\\\\tvec3 color;\\\\n\\\\t\\\\tfloat distance;\\\\n\\\\t\\\\tfloat decay;\\\\n\\\\t\\\\tfloat coneCos;\\\\n\\\\t\\\\tfloat penumbraCos;\\\\n\\\\t\\\\tint shadow;\\\\n\\\\t\\\\tfloat shadowBias;\\\\n\\\\t\\\\tfloat shadowRadius;\\\\n\\\\t\\\\tvec2 shadowMapSize;\\\\n\\\\t};\\\\n\\\\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\\\\n\\\\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\\\\n\\\\t\\\\tvec3 lVector = spotLight.position - geometry.position;\\\\n\\\\t\\\\tdirectLight.direction = normalize( lVector );\\\\n\\\\t\\\\tfloat lightDistance = length( lVector );\\\\n\\\\t\\\\tfloat angleCos = dot( directLight.direction, spotLight.direction );\\\\n\\\\t\\\\tif ( all( bvec2( angleCos > spotLight.coneCos, testLightInRange( lightDistance, spotLight.distance ) ) ) ) {\\\\n\\\\t\\\\t\\\\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\\\\n\\\\t\\\\t\\\\tdirectLight.color = spotLight.color;\\\\n\\\\t\\\\t\\\\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\\\\n\\\\t\\\\t\\\\tdirectLight.visible = true;\\\\n\\\\t\\\\t} else {\\\\n\\\\t\\\\t\\\\tdirectLight.color = vec3( 0.0 );\\\\n\\\\t\\\\t\\\\tdirectLight.visible = false;\\\\n\\\\t\\\\t}\\\\n\\\\t}\\\\n#endif\\\\n#if NUM_HEMI_LIGHTS > 0\\\\n\\\\tstruct HemisphereLight {\\\\n\\\\t\\\\tvec3 direction;\\\\n\\\\t\\\\tvec3 skyColor;\\\\n\\\\t\\\\tvec3 groundColor;\\\\n\\\\t};\\\\n\\\\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\\\\n\\\\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\\\\n\\\\t\\\\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\\\\n\\\\t\\\\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\\\\n\\\\t\\\\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\\\\n\\\\t\\\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\\\n\\\\t\\\\t\\\\tirradiance *= PI;\\\\n\\\\t\\\\t#endif\\\\n\\\\t\\\\treturn irradiance;\\\\n\\\\t}\\\\n#endif\\\\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\\\\n\\\\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\\\\n\\\\t\\\\t#include <normal_flip>\\\\n\\\\t\\\\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\\\n\\\\t\\\\t#ifdef ENVMAP_TYPE_CUBE\\\\n\\\\t\\\\t\\\\tvec3 queryVec = flipNormal * vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\\\\n\\\\t\\\\t\\\\t#ifdef TEXTURE_LOD_EXT\\\\n\\\\t\\\\t\\\\t\\\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\\\\n\\\\t\\\\t\\\\t#else\\\\n\\\\t\\\\t\\\\t\\\\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\\\\n\\\\t\\\\t\\\\t#endif\\\\n\\\\t\\\\t\\\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\\\n\\\\t\\\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\\\n\\\\t\\\\t\\\\tvec3 queryVec = flipNormal * vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\\\\n\\\\t\\\\t\\\\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\\\\n\\\\t\\\\t#else\\\\n\\\\t\\\\t\\\\tvec4 envMapColor = vec4( 0.0 );\\\\n\\\\t\\\\t#endif\\\\n\\\\t\\\\treturn PI * envMapColor.rgb * envMapIntensity;\\\\n\\\\t}\\\\n\\\\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\\\\n\\\\t\\\\tfloat maxMIPLevelScalar = float( maxMIPLevel );\\\\n\\\\t\\\\tfloat desiredMIPLevel = maxMIPLevelScalar - 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\\\\n\\\\t\\\\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\\\\n\\\\t}\\\\n\\\\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\\\\n\\\\t\\\\t#ifdef ENVMAP_MODE_REFLECTION\\\\n\\\\t\\\\t\\\\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\\\\n\\\\t\\\\t#else\\\\n\\\\t\\\\t\\\\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\\\\n\\\\t\\\\t#endif\\\\n\\\\t\\\\t#include <normal_flip>\\\\n\\\\t\\\\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\\\\n\\\\t\\\\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\\\\n\\\\t\\\\t#ifdef ENVMAP_TYPE_CUBE\\\\n\\\\t\\\\t\\\\tvec3 queryReflectVec = flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\\\\n\\\\t\\\\t\\\\t#ifdef TEXTURE_LOD_EXT\\\\n\\\\t\\\\t\\\\t\\\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\\\\n\\\\t\\\\t\\\\t#else\\\\n\\\\t\\\\t\\\\t\\\\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\\\\n\\\\t\\\\t\\\\t#endif\\\\n\\\\t\\\\t\\\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\\\n\\\\t\\\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\\\n\\\\t\\\\t\\\\tvec3 queryReflectVec = flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\\\\n\\\\t\\\\t\\\\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\\\\n\\\\t\\\\t#elif defined( ENVMAP_TYPE_EQUIREC )\\\\n\\\\t\\\\t\\\\tvec2 sampleUV;\\\\n\\\\t\\\\t\\\\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\\\\n\\\\t\\\\t\\\\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\\\\n\\\\t\\\\t\\\\t#ifdef TEXTURE_LOD_EXT\\\\n\\\\t\\\\t\\\\t\\\\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\\\\n\\\\t\\\\t\\\\t#else\\\\n\\\\t\\\\t\\\\t\\\\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\\\\n\\\\t\\\\t\\\\t#endif\\\\n\\\\t\\\\t\\\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\\\n\\\\t\\\\t#elif defined( ENVMAP_TYPE_SPHERE )\\\\n\\\\t\\\\t\\\\tvec3 reflectView = flipNormal * normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\\\\n\\\\t\\\\t\\\\t#ifdef TEXTURE_LOD_EXT\\\\n\\\\t\\\\t\\\\t\\\\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\\\\n\\\\t\\\\t\\\\t#else\\\\n\\\\t\\\\t\\\\t\\\\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\\\\n\\\\t\\\\t\\\\t#endif\\\\n\\\\t\\\\t\\\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\\\n\\\\t\\\\t#endif\\\\n\\\\t\\\\treturn envMapColor.rgb * envMapIntensity;\\\\n\\\\t}\\\\n#endif\\\\n\\\",As=\\\"BlinnPhongMaterial material;\\\\nmaterial.diffuseColor = diffuseColor.rgb;\\\\nmaterial.specularColor = specular;\\\\nmaterial.specularShininess = shininess;\\\\nmaterial.specularStrength = specularStrength;\\\\n\\\",Ls=\\\"varying vec3 vViewPosition;\\\\n#ifndef FLAT_SHADED\\\\n\\\\tvarying vec3 vNormal;\\\\n#endif\\\\nstruct BlinnPhongMaterial {\\\\n\\\\tvec3\\\\tdiffuseColor;\\\\n\\\\tvec3\\\\tspecularColor;\\\\n\\\\tfloat\\\\tspecularShininess;\\\\n\\\\tfloat\\\\tspecularStrength;\\\\n};\\\\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\\\n\\\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\\\n\\\\tvec3 irradiance = dotNL * directLight.color;\\\\n\\\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\\\n\\\\t\\\\tirradiance *= PI;\\\\n\\\\t#endif\\\\n\\\\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\\\n\\\\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\\\\n}\\\\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\\\n\\\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\\\n}\\\\n#define RE_Direct\\\\t\\\\t\\\\t\\\\tRE_Direct_BlinnPhong\\\\n#define RE_IndirectDiffuse\\\\t\\\\tRE_IndirectDiffuse_BlinnPhong\\\\n#define Material_LightProbeLOD( material )\\\\t(0)\\\\n\\\",Rs=\\\"PhysicalMaterial material;\\\\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\\\\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\\\\n#ifdef STANDARD\\\\n\\\\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\\\\n#else\\\\n\\\\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\\\\n\\\\tmaterial.clearCoat = saturate( clearCoat );\\\\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\\\\n#endif\\\\n\\\",Ps=\\\"struct PhysicalMaterial {\\\\n\\\\tvec3\\\\tdiffuseColor;\\\\n\\\\tfloat\\\\tspecularRoughness;\\\\n\\\\tvec3\\\\tspecularColor;\\\\n\\\\t#ifndef STANDARD\\\\n\\\\t\\\\tfloat clearCoat;\\\\n\\\\t\\\\tfloat clearCoatRoughness;\\\\n\\\\t#endif\\\\n};\\\\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\\\\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\\\\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\\\\n\\\\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\\\\n}\\\\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\\\n\\\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\\\n\\\\tvec3 irradiance = dotNL * directLight.color;\\\\n\\\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\\\n\\\\t\\\\tirradiance *= PI;\\\\n\\\\t#endif\\\\n\\\\t#ifndef STANDARD\\\\n\\\\t\\\\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\\\\n\\\\t#else\\\\n\\\\t\\\\tfloat clearCoatDHR = 0.0;\\\\n\\\\t#endif\\\\n\\\\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\\\\n\\\\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\\\n\\\\t#ifndef STANDARD\\\\n\\\\t\\\\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\\\\n\\\\t#endif\\\\n}\\\\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\\\n\\\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\\\n}\\\\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\\\n\\\\t#ifndef STANDARD\\\\n\\\\t\\\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\\\n\\\\t\\\\tfloat dotNL = dotNV;\\\\n\\\\t\\\\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\\\\n\\\\t#else\\\\n\\\\t\\\\tfloat clearCoatDHR = 0.0;\\\\n\\\\t#endif\\\\n\\\\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\\\\n\\\\t#ifndef STANDARD\\\\n\\\\t\\\\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\\\\n\\\\t#endif\\\\n}\\\\n#define RE_Direct\\\\t\\\\t\\\\t\\\\tRE_Direct_Physical\\\\n#define RE_IndirectDiffuse\\\\t\\\\tRE_IndirectDiffuse_Physical\\\\n#define RE_IndirectSpecular\\\\t\\\\tRE_IndirectSpecular_Physical\\\\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\\\\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\\\\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\\\\n\\\\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\\\\n}\\\\n\\\",Cs=\\\"\\\\nGeometricContext geometry;\\\\ngeometry.position = - vViewPosition;\\\\ngeometry.normal = normal;\\\\ngeometry.viewDir = normalize( vViewPosition );\\\\nIncidentLight directLight;\\\\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\\\\n\\\\tPointLight pointLight;\\\\n\\\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\\\n\\\\t\\\\tpointLight = pointLights[ i ];\\\\n\\\\t\\\\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\\\\n\\\\t\\\\t#ifdef USE_SHADOWMAP\\\\n\\\\t\\\\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\\\\n\\\\t\\\\t#endif\\\\n\\\\t\\\\tRE_Direct( directLight, geometry, material, reflectedLight );\\\\n\\\\t}\\\\n#endif\\\\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\\\\n\\\\tSpotLight spotLight;\\\\n\\\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\\\n\\\\t\\\\tspotLight = spotLights[ i ];\\\\n\\\\t\\\\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\\\\n\\\\t\\\\t#ifdef USE_SHADOWMAP\\\\n\\\\t\\\\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\\\n\\\\t\\\\t#endif\\\\n\\\\t\\\\tRE_Direct( directLight, geometry, material, reflectedLight );\\\\n\\\\t}\\\\n#endif\\\\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\\\\n\\\\tDirectionalLight directionalLight;\\\\n\\\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\\\n\\\\t\\\\tdirectionalLight = directionalLights[ i ];\\\\n\\\\t\\\\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\\\\n\\\\t\\\\t#ifdef USE_SHADOWMAP\\\\n\\\\t\\\\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\\\n\\\\t\\\\t#endif\\\\n\\\\t\\\\tRE_Direct( directLight, geometry, material, reflectedLight );\\\\n\\\\t}\\\\n#endif\\\\n#if defined( RE_IndirectDiffuse )\\\\n\\\\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\\\\n\\\\t#ifdef USE_LIGHTMAP\\\\n\\\\t\\\\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\\\\n\\\\t\\\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\\\n\\\\t\\\\t\\\\tlightMapIrradiance *= PI;\\\\n\\\\t\\\\t#endif\\\\n\\\\t\\\\tirradiance += lightMapIrradiance;\\\\n\\\\t#endif\\\\n\\\\t#if ( NUM_HEMI_LIGHTS > 0 )\\\\n\\\\t\\\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\\\n\\\\t\\\\t\\\\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\\\n\\\\t\\\\t}\\\\n\\\\t#endif\\\\n\\\\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\\\\n\\\\t \\\\tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\\\\n\\\\t#endif\\\\n\\\\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\\\\n#endif\\\\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\\\\n\\\\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\\\\n\\\\t#ifndef STANDARD\\\\n\\\\t\\\\tvec3 clearCoatRadiance = getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), 8 );\\\\n\\\\t#else\\\\n\\\\t\\\\tvec3 clearCoatRadiance = vec3( 0.0 );\\\\n\\\\t#endif\\\\n\\\\t\\\\t\\\\n\\\\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\\\\n#endif\\\\n\\\",Is=\\\"#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\\\\n\\\\tgl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\\\\n#endif\\\",Us=\\\"#ifdef USE_LOGDEPTHBUF\\\\n\\\\tuniform float logDepthBufFC;\\\\n\\\\t#ifdef USE_LOGDEPTHBUF_EXT\\\\n\\\\t\\\\tvarying float vFragDepth;\\\\n\\\\t#endif\\\\n#endif\\\\n\\\",Ns=\\\"#ifdef USE_LOGDEPTHBUF\\\\n\\\\t#ifdef USE_LOGDEPTHBUF_EXT\\\\n\\\\t\\\\tvarying float vFragDepth;\\\\n\\\\t#endif\\\\n\\\\tuniform float logDepthBufFC;\\\\n#endif\\\",Ds=\\\"#ifdef USE_LOGDEPTHBUF\\\\n\\\\tgl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\\\\n\\\\t#ifdef USE_LOGDEPTHBUF_EXT\\\\n\\\\t\\\\tvFragDepth = 1.0 + gl_Position.w;\\\\n\\\\t#else\\\\n\\\\t\\\\tgl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\\\\n\\\\t#endif\\\\n#endif\\\\n\\\",Os=\\\"#ifdef USE_MAP\\\\n\\\\tvec4 texelColor = texture2D( map, vUv );\\\\n\\\\ttexelColor = mapTexelToLinear( texelColor );\\\\n\\\\tdiffuseColor *= texelColor;\\\\n#endif\\\\n\\\",Fs=\\\"#ifdef USE_MAP\\\\n\\\\tuniform sampler2D map;\\\\n#endif\\\\n\\\",Bs=\\\"#ifdef USE_MAP\\\\n\\\\tvec4 mapTexel = texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\\\\n\\\\tdiffuseColor *= mapTexelToLinear( mapTexel );\\\\n#endif\\\\n\\\",zs=\\\"#ifdef USE_MAP\\\\n\\\\tuniform vec4 offsetRepeat;\\\\n\\\\tuniform sampler2D map;\\\\n#endif\\\\n\\\",Gs=\\\"float metalnessFactor = metalness;\\\\n#ifdef USE_METALNESSMAP\\\\n\\\\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\\\\n\\\\tmetalnessFactor *= texelMetalness.r;\\\\n#endif\\\\n\\\",Hs=\\\"#ifdef USE_METALNESSMAP\\\\n\\\\tuniform sampler2D metalnessMap;\\\\n#endif\\\",Vs=\\\"#ifdef USE_MORPHNORMALS\\\\n\\\\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\\\\n\\\\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\\\\n\\\\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\\\\n\\\\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\\\\n#endif\\\\n\\\",ks=\\\"#ifdef USE_MORPHTARGETS\\\\n\\\\t#ifndef USE_MORPHNORMALS\\\\n\\\\tuniform float morphTargetInfluences[ 8 ];\\\\n\\\\t#else\\\\n\\\\tuniform float morphTargetInfluences[ 4 ];\\\\n\\\\t#endif\\\\n#endif\\\",js=\\\"#ifdef USE_MORPHTARGETS\\\\n\\\\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\\\\n\\\\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\\\\n\\\\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\\\\n\\\\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\\\\n\\\\t#ifndef USE_MORPHNORMALS\\\\n\\\\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\\\\n\\\\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\\\\n\\\\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\\\\n\\\\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\\\\n\\\\t#endif\\\\n#endif\\\\n\\\",Ws=\\\"#ifdef DOUBLE_SIDED\\\\n\\\\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\\\n#else\\\\n\\\\tfloat flipNormal = 1.0;\\\\n#endif\\\\n\\\",Xs=\\\"#ifdef FLAT_SHADED\\\\n\\\\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\\\\n\\\\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\\\\n\\\\tvec3 normal = normalize( cross( fdx, fdy ) );\\\\n#else\\\\n\\\\tvec3 normal = normalize( vNormal ) * flipNormal;\\\\n#endif\\\\n#ifdef USE_NORMALMAP\\\\n\\\\tnormal = perturbNormal2Arb( -vViewPosition, normal );\\\\n#elif defined( USE_BUMPMAP )\\\\n\\\\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\\\\n#endif\\\\n\\\",Ys=\\\"#ifdef USE_NORMALMAP\\\\n\\\\tuniform sampler2D normalMap;\\\\n\\\\tuniform vec2 normalScale;\\\\n\\\\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\\\\n\\\\t\\\\tvec3 q0 = dFdx( eye_pos.xyz );\\\\n\\\\t\\\\tvec3 q1 = dFdy( eye_pos.xyz );\\\\n\\\\t\\\\tvec2 st0 = dFdx( vUv.st );\\\\n\\\\t\\\\tvec2 st1 = dFdy( vUv.st );\\\\n\\\\t\\\\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\\\\n\\\\t\\\\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\\\\n\\\\t\\\\tvec3 N = normalize( surf_norm );\\\\n\\\\t\\\\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\\\n\\\\t\\\\tmapN.xy = normalScale * mapN.xy;\\\\n\\\\t\\\\tmat3 tsn = mat3( S, T, N );\\\\n\\\\t\\\\treturn normalize( tsn * mapN );\\\\n\\\\t}\\\\n#endif\\\\n\\\",qs=\\\"vec3 packNormalToRGB( const in vec3 normal ) {\\\\n  return normalize( normal ) * 0.5 + 0.5;\\\\n}\\\\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\\\\n  return 1.0 - 2.0 * rgb.xyz;\\\\n}\\\\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\\\\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\\\\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\\\\nconst float ShiftRight8 = 1. / 256.;\\\\nvec4 packDepthToRGBA( const in float v ) {\\\\n\\\\tvec4 r = vec4( fract( v * PackFactors ), v );\\\\n\\\\tr.yzw -= r.xyz * ShiftRight8;\\\\treturn r * PackUpscale;\\\\n}\\\\nfloat unpackRGBAToDepth( const in vec4 v ) {\\\\n\\\\treturn dot( v, UnpackFactors );\\\\n}\\\\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\\\\n  return ( viewZ + near ) / ( near - far );\\\\n}\\\\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\\\\n  return linearClipZ * ( near - far ) - near;\\\\n}\\\\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\\\\n  return (( near + viewZ ) * far ) / (( far - near ) * viewZ );\\\\n}\\\\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\\\\n  return ( near * far ) / ( ( far - near ) * invClipZ - far );\\\\n}\\\\n\\\",Zs=\\\"#ifdef PREMULTIPLIED_ALPHA\\\\n\\\\tgl_FragColor.rgb *= gl_FragColor.a;\\\\n#endif\\\\n\\\",Js=\\\"#ifdef USE_SKINNING\\\\n\\\\tvec4 mvPosition = modelViewMatrix * skinned;\\\\n#else\\\\n\\\\tvec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\\\\n#endif\\\\ngl_Position = projectionMatrix * mvPosition;\\\\n\\\",Qs=\\\"float roughnessFactor = roughness;\\\\n#ifdef USE_ROUGHNESSMAP\\\\n\\\\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\\\\n\\\\troughnessFactor *= texelRoughness.r;\\\\n#endif\\\\n\\\",Ks=\\\"#ifdef USE_ROUGHNESSMAP\\\\n\\\\tuniform sampler2D roughnessMap;\\\\n#endif\\\",$s=\\\"#ifdef USE_SHADOWMAP\\\\n\\\\t#if NUM_DIR_LIGHTS > 0\\\\n\\\\t\\\\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\\\\n\\\\t\\\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\\\\n\\\\t#endif\\\\n\\\\t#if NUM_SPOT_LIGHTS > 0\\\\n\\\\t\\\\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\\\\n\\\\t\\\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\\\\n\\\\t#endif\\\\n\\\\t#if NUM_POINT_LIGHTS > 0\\\\n\\\\t\\\\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\\\\n\\\\t\\\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\\\\n\\\\t#endif\\\\n\\\\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\\\\n\\\\t\\\\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\\\\n\\\\t}\\\\n\\\\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\\\\n\\\\t\\\\tconst vec2 offset = vec2( 0.0, 1.0 );\\\\n\\\\t\\\\tvec2 texelSize = vec2( 1.0 ) / size;\\\\n\\\\t\\\\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\\\\n\\\\t\\\\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\\\\n\\\\t\\\\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\\\\n\\\\t\\\\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\\\\n\\\\t\\\\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\\\\n\\\\t\\\\tvec2 f = fract( uv * size + 0.5 );\\\\n\\\\t\\\\tfloat a = mix( lb, lt, f.y );\\\\n\\\\t\\\\tfloat b = mix( rb, rt, f.y );\\\\n\\\\t\\\\tfloat c = mix( a, b, f.x );\\\\n\\\\t\\\\treturn c;\\\\n\\\\t}\\\\n\\\\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\\\\n\\\\t\\\\tshadowCoord.xyz /= shadowCoord.w;\\\\n\\\\t\\\\tshadowCoord.z += shadowBias;\\\\n\\\\t\\\\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\\\\n\\\\t\\\\tbool inFrustum = all( inFrustumVec );\\\\n\\\\t\\\\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\\\\n\\\\t\\\\tbool frustumTest = all( frustumTestVec );\\\\n\\\\t\\\\tif ( frustumTest ) {\\\\n\\\\t\\\\t#if defined( SHADOWMAP_TYPE_PCF )\\\\n\\\\t\\\\t\\\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\\\n\\\\t\\\\t\\\\tfloat dx0 = - texelSize.x * shadowRadius;\\\\n\\\\t\\\\t\\\\tfloat dy0 = - texelSize.y * shadowRadius;\\\\n\\\\t\\\\t\\\\tfloat dx1 = + texelSize.x * shadowRadius;\\\\n\\\\t\\\\t\\\\tfloat dy1 = + texelSize.y * shadowRadius;\\\\n\\\\t\\\\t\\\\treturn (\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\\\n\\\\t\\\\t\\\\t) * ( 1.0 / 9.0 );\\\\n\\\\t\\\\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\\\\n\\\\t\\\\t\\\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\\\n\\\\t\\\\t\\\\tfloat dx0 = - texelSize.x * shadowRadius;\\\\n\\\\t\\\\t\\\\tfloat dy0 = - texelSize.y * shadowRadius;\\\\n\\\\t\\\\t\\\\tfloat dx1 = + texelSize.x * shadowRadius;\\\\n\\\\t\\\\t\\\\tfloat dy1 = + texelSize.y * shadowRadius;\\\\n\\\\t\\\\t\\\\treturn (\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\\\n\\\\t\\\\t\\\\t) * ( 1.0 / 9.0 );\\\\n\\\\t\\\\t#else\\\\n\\\\t\\\\t\\\\treturn texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\\\\n\\\\t\\\\t#endif\\\\n\\\\t\\\\t}\\\\n\\\\t\\\\treturn 1.0;\\\\n\\\\t}\\\\n\\\\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\\\\n\\\\t\\\\tvec3 absV = abs( v );\\\\n\\\\t\\\\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\\\\n\\\\t\\\\tabsV *= scaleToCube;\\\\n\\\\t\\\\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\\\\n\\\\t\\\\tvec2 planar = v.xy;\\\\n\\\\t\\\\tfloat almostATexel = 1.5 * texelSizeY;\\\\n\\\\t\\\\tfloat almostOne = 1.0 - almostATexel;\\\\n\\\\t\\\\tif ( absV.z >= almostOne ) {\\\\n\\\\t\\\\t\\\\tif ( v.z > 0.0 )\\\\n\\\\t\\\\t\\\\t\\\\tplanar.x = 4.0 - v.x;\\\\n\\\\t\\\\t} else if ( absV.x >= almostOne ) {\\\\n\\\\t\\\\t\\\\tfloat signX = sign( v.x );\\\\n\\\\t\\\\t\\\\tplanar.x = v.z * signX + 2.0 * signX;\\\\n\\\\t\\\\t} else if ( absV.y >= almostOne ) {\\\\n\\\\t\\\\t\\\\tfloat signY = sign( v.y );\\\\n\\\\t\\\\t\\\\tplanar.x = v.x + 2.0 * signY + 2.0;\\\\n\\\\t\\\\t\\\\tplanar.y = v.z * signY - 2.0;\\\\n\\\\t\\\\t}\\\\n\\\\t\\\\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\\\\n\\\\t}\\\\n\\\\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\\\\n\\\\t\\\\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\\\\n\\\\t\\\\tvec3 lightToPosition = shadowCoord.xyz;\\\\n\\\\t\\\\tvec3 bd3D = normalize( lightToPosition );\\\\n\\\\t\\\\tfloat dp = ( length( lightToPosition ) - shadowBias ) / 1000.0;\\\\n\\\\t\\\\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\\\\n\\\\t\\\\t\\\\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\\\\n\\\\t\\\\t\\\\treturn (\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\\\\n\\\\t\\\\t\\\\t) * ( 1.0 / 9.0 );\\\\n\\\\t\\\\t#else\\\\n\\\\t\\\\t\\\\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\\\\n\\\\t\\\\t#endif\\\\n\\\\t}\\\\n#endif\\\\n\\\",tc=\\\"#ifdef USE_SHADOWMAP\\\\n\\\\t#if NUM_DIR_LIGHTS > 0\\\\n\\\\t\\\\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\\\\n\\\\t\\\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\\\\n\\\\t#endif\\\\n\\\\t#if NUM_SPOT_LIGHTS > 0\\\\n\\\\t\\\\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\\\\n\\\\t\\\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\\\\n\\\\t#endif\\\\n\\\\t#if NUM_POINT_LIGHTS > 0\\\\n\\\\t\\\\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\\\\n\\\\t\\\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\\\\n\\\\t#endif\\\\n#endif\\\\n\\\",ec=\\\"#ifdef USE_SHADOWMAP\\\\n\\\\t#if NUM_DIR_LIGHTS > 0\\\\n\\\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\\\n\\\\t\\\\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\\\\n\\\\t}\\\\n\\\\t#endif\\\\n\\\\t#if NUM_SPOT_LIGHTS > 0\\\\n\\\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\\\n\\\\t\\\\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\\\\n\\\\t}\\\\n\\\\t#endif\\\\n\\\\t#if NUM_POINT_LIGHTS > 0\\\\n\\\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\\\n\\\\t\\\\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\\\\n\\\\t}\\\\n\\\\t#endif\\\\n#endif\\\\n\\\",ic=\\\"float getShadowMask() {\\\\n\\\\tfloat shadow = 1.0;\\\\n\\\\t#ifdef USE_SHADOWMAP\\\\n\\\\t#if NUM_DIR_LIGHTS > 0\\\\n\\\\tDirectionalLight directionalLight;\\\\n\\\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\\\n\\\\t\\\\tdirectionalLight = directionalLights[ i ];\\\\n\\\\t\\\\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\\\n\\\\t}\\\\n\\\\t#endif\\\\n\\\\t#if NUM_SPOT_LIGHTS > 0\\\\n\\\\tSpotLight spotLight;\\\\n\\\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\\\n\\\\t\\\\tspotLight = spotLights[ i ];\\\\n\\\\t\\\\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\\\n\\\\t}\\\\n\\\\t#endif\\\\n\\\\t#if NUM_POINT_LIGHTS > 0\\\\n\\\\tPointLight pointLight;\\\\n\\\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\\\n\\\\t\\\\tpointLight = pointLights[ i ];\\\\n\\\\t\\\\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\\\\n\\\\t}\\\\n\\\\t#endif\\\\n\\\\t#endif\\\\n\\\\treturn shadow;\\\\n}\\\\n\\\",nc=\\\"#ifdef USE_SKINNING\\\\n\\\\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\\\\n\\\\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\\\\n\\\\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\\\\n\\\\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\\\\n#endif\\\",rc=\\\"#ifdef USE_SKINNING\\\\n\\\\tuniform mat4 bindMatrix;\\\\n\\\\tuniform mat4 bindMatrixInverse;\\\\n\\\\t#ifdef BONE_TEXTURE\\\\n\\\\t\\\\tuniform sampler2D boneTexture;\\\\n\\\\t\\\\tuniform int boneTextureWidth;\\\\n\\\\t\\\\tuniform int boneTextureHeight;\\\\n\\\\t\\\\tmat4 getBoneMatrix( const in float i ) {\\\\n\\\\t\\\\t\\\\tfloat j = i * 4.0;\\\\n\\\\t\\\\t\\\\tfloat x = mod( j, float( boneTextureWidth ) );\\\\n\\\\t\\\\t\\\\tfloat y = floor( j / float( boneTextureWidth ) );\\\\n\\\\t\\\\t\\\\tfloat dx = 1.0 / float( boneTextureWidth );\\\\n\\\\t\\\\t\\\\tfloat dy = 1.0 / float( boneTextureHeight );\\\\n\\\\t\\\\t\\\\ty = dy * ( y + 0.5 );\\\\n\\\\t\\\\t\\\\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\\\\n\\\\t\\\\t\\\\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\\\\n\\\\t\\\\t\\\\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\\\\n\\\\t\\\\t\\\\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\\\\n\\\\t\\\\t\\\\tmat4 bone = mat4( v1, v2, v3, v4 );\\\\n\\\\t\\\\t\\\\treturn bone;\\\\n\\\\t\\\\t}\\\\n\\\\t#else\\\\n\\\\t\\\\tuniform mat4 boneMatrices[ MAX_BONES ];\\\\n\\\\t\\\\tmat4 getBoneMatrix( const in float i ) {\\\\n\\\\t\\\\t\\\\tmat4 bone = boneMatrices[ int(i) ];\\\\n\\\\t\\\\t\\\\treturn bone;\\\\n\\\\t\\\\t}\\\\n\\\\t#endif\\\\n#endif\\\\n\\\",ac=\\\"#ifdef USE_SKINNING\\\\n\\\\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\\\\n\\\\tvec4 skinned = vec4( 0.0 );\\\\n\\\\tskinned += boneMatX * skinVertex * skinWeight.x;\\\\n\\\\tskinned += boneMatY * skinVertex * skinWeight.y;\\\\n\\\\tskinned += boneMatZ * skinVertex * skinWeight.z;\\\\n\\\\tskinned += boneMatW * skinVertex * skinWeight.w;\\\\n\\\\tskinned  = bindMatrixInverse * skinned;\\\\n#endif\\\\n\\\",oc=\\\"#ifdef USE_SKINNING\\\\n\\\\tmat4 skinMatrix = mat4( 0.0 );\\\\n\\\\tskinMatrix += skinWeight.x * boneMatX;\\\\n\\\\tskinMatrix += skinWeight.y * boneMatY;\\\\n\\\\tskinMatrix += skinWeight.z * boneMatZ;\\\\n\\\\tskinMatrix += skinWeight.w * boneMatW;\\\\n\\\\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\\\\n\\\\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\\\\n#endif\\\\n\\\",sc=\\\"float specularStrength;\\\\n#ifdef USE_SPECULARMAP\\\\n\\\\tvec4 texelSpecular = texture2D( specularMap, vUv );\\\\n\\\\tspecularStrength = texelSpecular.r;\\\\n#else\\\\n\\\\tspecularStrength = 1.0;\\\\n#endif\\\",cc=\\\"#ifdef USE_SPECULARMAP\\\\n\\\\tuniform sampler2D specularMap;\\\\n#endif\\\",hc=\\\"#if defined( TONE_MAPPING )\\\\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\\\\n#endif\\\\n\\\",lc=\\\"#define saturate(a) clamp( a, 0.0, 1.0 )\\\\nuniform float toneMappingExposure;\\\\nuniform float toneMappingWhitePoint;\\\\nvec3 LinearToneMapping( vec3 color ) {\\\\n  return toneMappingExposure * color;\\\\n}\\\\nvec3 ReinhardToneMapping( vec3 color ) {\\\\n  color *= toneMappingExposure;\\\\n  return saturate( color / ( vec3( 1.0 ) + color ) );\\\\n}\\\\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\\\\nvec3 Uncharted2ToneMapping( vec3 color ) {\\\\n  color *= toneMappingExposure;\\\\n  return saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\\\\n}\\\\nvec3 OptimizedCineonToneMapping( vec3 color ) {\\\\n  color *= toneMappingExposure;\\\\n  color = max( vec3( 0.0 ), color - 0.004 );\\\\n  return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\\\\n}\\\\n\\\",uc=\\\"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\\\\n\\\\tvarying vec2 vUv;\\\\n#endif\\\",pc=\\\"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\\\\n\\\\tvarying vec2 vUv;\\\\n\\\\tuniform vec4 offsetRepeat;\\\\n#endif\\\\n\\\",dc=\\\"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\\\\n\\\\tvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\\\\n#endif\\\",fc=\\\"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\\\n\\\\tvarying vec2 vUv2;\\\\n#endif\\\",mc=\\\"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\\\n\\\\tattribute vec2 uv2;\\\\n\\\\tvarying vec2 vUv2;\\\\n#endif\\\",vc=\\\"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\\\n\\\\tvUv2 = uv2;\\\\n#endif\\\",gc=\\\"#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( PHYSICAL ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\\\\n\\\\t#ifdef USE_SKINNING\\\\n\\\\t\\\\tvec4 worldPosition = modelMatrix * skinned;\\\\n\\\\t#else\\\\n\\\\t\\\\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\\\\n\\\\t#endif\\\\n#endif\\\\n\\\",yc=\\\"uniform samplerCube tCube;\\\\nuniform float tFlip;\\\\nuniform float opacity;\\\\nvarying vec3 vWorldPosition;\\\\n#include <common>\\\\nvoid main() {\\\\n\\\\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\\\\n\\\\tgl_FragColor.a *= opacity;\\\\n}\\\\n\\\",xc=\\\"varying vec3 vWorldPosition;\\\\n#include <common>\\\\nvoid main() {\\\\n\\\\tvWorldPosition = transformDirection( position, modelMatrix );\\\\n\\\\t#include <begin_vertex>\\\\n\\\\t#include <project_vertex>\\\\n}\\\\n\\\",_c=\\\"#if DEPTH_PACKING == 3200\\\\n\\\\tuniform float opacity;\\\\n#endif\\\\n#include <common>\\\\n#include <packing>\\\\n#include <uv_pars_fragment>\\\\n#include <map_pars_fragment>\\\\n#include <alphamap_pars_fragment>\\\\n#include <logdepthbuf_pars_fragment>\\\\n#include <clipping_planes_pars_fragment>\\\\nvoid main() {\\\\n\\\\t#include <clipping_planes_fragment>\\\\n\\\\tvec4 diffuseColor = vec4( 1.0 );\\\\n\\\\t#if DEPTH_PACKING == 3200\\\\n\\\\t\\\\tdiffuseColor.a = opacity;\\\\n\\\\t#endif\\\\n\\\\t#include <map_fragment>\\\\n\\\\t#include <alphamap_fragment>\\\\n\\\\t#include <alphatest_fragment>\\\\n\\\\t#include <logdepthbuf_fragment>\\\\n\\\\t#if DEPTH_PACKING == 3200\\\\n\\\\t\\\\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\\\\n\\\\t#elif DEPTH_PACKING == 3201\\\\n\\\\t\\\\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\\\\n\\\\t#endif\\\\n}\\\\n\\\",bc=\\\"#include <common>\\\\n#include <uv_pars_vertex>\\\\n#include <displacementmap_pars_vertex>\\\\n#include <morphtarget_pars_vertex>\\\\n#include <skinning_pars_vertex>\\\\n#include <logdepthbuf_pars_vertex>\\\\n#include <clipping_planes_pars_vertex>\\\\nvoid main() {\\\\n\\\\t#include <uv_vertex>\\\\n\\\\t#include <skinbase_vertex>\\\\n\\\\t#include <begin_vertex>\\\\n\\\\t#include <displacementmap_vertex>\\\\n\\\\t#include <morphtarget_vertex>\\\\n\\\\t#include <skinning_vertex>\\\\n\\\\t#include <project_vertex>\\\\n\\\\t#include <logdepthbuf_vertex>\\\\n\\\\t#include <clipping_planes_vertex>\\\\n}\\\\n\\\",wc=\\\"uniform vec3 lightPos;\\\\nvarying vec4 vWorldPosition;\\\\n#include <common>\\\\n#include <packing>\\\\n#include <clipping_planes_pars_fragment>\\\\nvoid main () {\\\\n\\\\t#include <clipping_planes_fragment>\\\\n\\\\tgl_FragColor = packDepthToRGBA( length( vWorldPosition.xyz - lightPos.xyz ) / 1000.0 );\\\\n}\\\\n\\\",Mc=\\\"varying vec4 vWorldPosition;\\\\n#include <common>\\\\n#include <morphtarget_pars_vertex>\\\\n#include <skinning_pars_vertex>\\\\n#include <clipping_planes_pars_vertex>\\\\nvoid main() {\\\\n\\\\t#include <skinbase_vertex>\\\\n\\\\t#include <begin_vertex>\\\\n\\\\t#include <morphtarget_vertex>\\\\n\\\\t#include <skinning_vertex>\\\\n\\\\t#include <project_vertex>\\\\n\\\\t#include <worldpos_vertex>\\\\n\\\\t#include <clipping_planes_vertex>\\\\n\\\\tvWorldPosition = worldPosition;\\\\n}\\\\n\\\",Ec=\\\"uniform sampler2D tEquirect;\\\\nuniform float tFlip;\\\\nvarying vec3 vWorldPosition;\\\\n#include <common>\\\\nvoid main() {\\\\n\\\\tvec3 direction = normalize( vWorldPosition );\\\\n\\\\tvec2 sampleUV;\\\\n\\\\tsampleUV.y = saturate( tFlip * direction.y * -0.5 + 0.5 );\\\\n\\\\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\\\\n\\\\tgl_FragColor = texture2D( tEquirect, sampleUV );\\\\n}\\\\n\\\",Tc=\\\"varying vec3 vWorldPosition;\\\\n#include <common>\\\\nvoid main() {\\\\n\\\\tvWorldPosition = transformDirection( position, modelMatrix );\\\\n\\\\t#include <begin_vertex>\\\\n\\\\t#include <project_vertex>\\\\n}\\\\n\\\",Sc=\\\"uniform vec3 diffuse;\\\\nuniform float opacity;\\\\nuniform float dashSize;\\\\nuniform float totalSize;\\\\nvarying float vLineDistance;\\\\n#include <common>\\\\n#include <color_pars_fragment>\\\\n#include <fog_pars_fragment>\\\\n#include <logdepthbuf_pars_fragment>\\\\n#include <clipping_planes_pars_fragment>\\\\nvoid main() {\\\\n\\\\t#include <clipping_planes_fragment>\\\\n\\\\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\\\\n\\\\t\\\\tdiscard;\\\\n\\\\t}\\\\n\\\\tvec3 outgoingLight = vec3( 0.0 );\\\\n\\\\tvec4 diffuseColor = vec4( diffuse, opacity );\\\\n\\\\t#include <logdepthbuf_fragment>\\\\n\\\\t#include <color_fragment>\\\\n\\\\toutgoingLight = diffuseColor.rgb;\\\\n\\\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\\\n\\\\t#include <premultiplied_alpha_fragment>\\\\n\\\\t#include <tonemapping_fragment>\\\\n\\\\t#include <encodings_fragment>\\\\n\\\\t#include <fog_fragment>\\\\n}\\\\n\\\",Ac=\\\"uniform float scale;\\\\nattribute float lineDistance;\\\\nvarying float vLineDistance;\\\\n#include <common>\\\\n#include <color_pars_vertex>\\\\n#include <logdepthbuf_pars_vertex>\\\\n#include <clipping_planes_pars_vertex>\\\\nvoid main() {\\\\n\\\\t#include <color_vertex>\\\\n\\\\tvLineDistance = scale * lineDistance;\\\\n\\\\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\\\\n\\\\tgl_Position = projectionMatrix * mvPosition;\\\\n\\\\t#include <logdepthbuf_vertex>\\\\n\\\\t#include <clipping_planes_vertex>\\\\n}\\\\n\\\",Lc=\\\"uniform vec3 diffuse;\\\\nuniform float opacity;\\\\n#ifndef FLAT_SHADED\\\\n\\\\tvarying vec3 vNormal;\\\\n#endif\\\\n#include <common>\\\\n#include <color_pars_fragment>\\\\n#include <uv_pars_fragment>\\\\n#include <uv2_pars_fragment>\\\\n#include <map_pars_fragment>\\\\n#include <alphamap_pars_fragment>\\\\n#include <aomap_pars_fragment>\\\\n#include <envmap_pars_fragment>\\\\n#include <fog_pars_fragment>\\\\n#include <specularmap_pars_fragment>\\\\n#include <logdepthbuf_pars_fragment>\\\\n#include <clipping_planes_pars_fragment>\\\\nvoid main() {\\\\n\\\\t#include <clipping_planes_fragment>\\\\n\\\\tvec4 diffuseColor = vec4( diffuse, opacity );\\\\n\\\\t#include <logdepthbuf_fragment>\\\\n\\\\t#include <map_fragment>\\\\n\\\\t#include <color_fragment>\\\\n\\\\t#include <alphamap_fragment>\\\\n\\\\t#include <alphatest_fragment>\\\\n\\\\t#include <specularmap_fragment>\\\\n\\\\tReflectedLight reflectedLight;\\\\n\\\\treflectedLight.directDiffuse = vec3( 0.0 );\\\\n\\\\treflectedLight.directSpecular = vec3( 0.0 );\\\\n\\\\treflectedLight.indirectDiffuse = diffuseColor.rgb;\\\\n\\\\treflectedLight.indirectSpecular = vec3( 0.0 );\\\\n\\\\t#include <aomap_fragment>\\\\n\\\\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\\\\n\\\\t#include <normal_flip>\\\\n\\\\t#include <envmap_fragment>\\\\n\\\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\\\n\\\\t#include <premultiplied_alpha_fragment>\\\\n\\\\t#include <tonemapping_fragment>\\\\n\\\\t#include <encodings_fragment>\\\\n\\\\t#include <fog_fragment>\\\\n}\\\\n\\\",Rc=\\\"#include <common>\\\\n#include <uv_pars_vertex>\\\\n#include <uv2_pars_vertex>\\\\n#include <envmap_pars_vertex>\\\\n#include <color_pars_vertex>\\\\n#include <morphtarget_pars_vertex>\\\\n#include <skinning_pars_vertex>\\\\n#include <logdepthbuf_pars_vertex>\\\\n#include <clipping_planes_pars_vertex>\\\\nvoid main() {\\\\n\\\\t#include <uv_vertex>\\\\n\\\\t#include <uv2_vertex>\\\\n\\\\t#include <color_vertex>\\\\n\\\\t#include <skinbase_vertex>\\\\n\\\\t#ifdef USE_ENVMAP\\\\n\\\\t#include <beginnormal_vertex>\\\\n\\\\t#include <morphnormal_vertex>\\\\n\\\\t#include <skinnormal_vertex>\\\\n\\\\t#include <defaultnormal_vertex>\\\\n\\\\t#endif\\\\n\\\\t#include <begin_vertex>\\\\n\\\\t#include <morphtarget_vertex>\\\\n\\\\t#include <skinning_vertex>\\\\n\\\\t#include <project_vertex>\\\\n\\\\t#include <logdepthbuf_vertex>\\\\n\\\\t#include <worldpos_vertex>\\\\n\\\\t#include <clipping_planes_vertex>\\\\n\\\\t#include <envmap_vertex>\\\\n}\\\\n\\\",Pc=\\\"uniform vec3 diffuse;\\\\nuniform vec3 emissive;\\\\nuniform float opacity;\\\\nvarying vec3 vLightFront;\\\\n#ifdef DOUBLE_SIDED\\\\n\\\\tvarying vec3 vLightBack;\\\\n#endif\\\\n#include <common>\\\\n#include <packing>\\\\n#include <color_pars_fragment>\\\\n#include <uv_pars_fragment>\\\\n#include <uv2_pars_fragment>\\\\n#include <map_pars_fragment>\\\\n#include <alphamap_pars_fragment>\\\\n#include <aomap_pars_fragment>\\\\n#include <lightmap_pars_fragment>\\\\n#include <emissivemap_pars_fragment>\\\\n#include <envmap_pars_fragment>\\\\n#include <bsdfs>\\\\n#include <lights_pars>\\\\n#include <fog_pars_fragment>\\\\n#include <shadowmap_pars_fragment>\\\\n#include <shadowmask_pars_fragment>\\\\n#include <specularmap_pars_fragment>\\\\n#include <logdepthbuf_pars_fragment>\\\\n#include <clipping_planes_pars_fragment>\\\\nvoid main() {\\\\n\\\\t#include <clipping_planes_fragment>\\\\n\\\\tvec4 diffuseColor = vec4( diffuse, opacity );\\\\n\\\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\\\n\\\\tvec3 totalEmissiveRadiance = emissive;\\\\n\\\\t#include <logdepthbuf_fragment>\\\\n\\\\t#include <map_fragment>\\\\n\\\\t#include <color_fragment>\\\\n\\\\t#include <alphamap_fragment>\\\\n\\\\t#include <alphatest_fragment>\\\\n\\\\t#include <specularmap_fragment>\\\\n\\\\t#include <emissivemap_fragment>\\\\n\\\\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\\\\n\\\\t#include <lightmap_fragment>\\\\n\\\\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\\\\n\\\\t#ifdef DOUBLE_SIDED\\\\n\\\\t\\\\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\\\\n\\\\t#else\\\\n\\\\t\\\\treflectedLight.directDiffuse = vLightFront;\\\\n\\\\t#endif\\\\n\\\\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\\\\n\\\\t#include <aomap_fragment>\\\\n\\\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\\\n\\\\t#include <normal_flip>\\\\n\\\\t#include <envmap_fragment>\\\\n\\\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\\\n\\\\t#include <premultiplied_alpha_fragment>\\\\n\\\\t#include <tonemapping_fragment>\\\\n\\\\t#include <encodings_fragment>\\\\n\\\\t#include <fog_fragment>\\\\n}\\\\n\\\",Cc=\\\"#define LAMBERT\\\\nvarying vec3 vLightFront;\\\\n#ifdef DOUBLE_SIDED\\\\n\\\\tvarying vec3 vLightBack;\\\\n#endif\\\\n#include <common>\\\\n#include <uv_pars_vertex>\\\\n#include <uv2_pars_vertex>\\\\n#include <envmap_pars_vertex>\\\\n#include <bsdfs>\\\\n#include <lights_pars>\\\\n#include <color_pars_vertex>\\\\n#include <morphtarget_pars_vertex>\\\\n#include <skinning_pars_vertex>\\\\n#include <shadowmap_pars_vertex>\\\\n#include <logdepthbuf_pars_vertex>\\\\n#include <clipping_planes_pars_vertex>\\\\nvoid main() {\\\\n\\\\t#include <uv_vertex>\\\\n\\\\t#include <uv2_vertex>\\\\n\\\\t#include <color_vertex>\\\\n\\\\t#include <beginnormal_vertex>\\\\n\\\\t#include <morphnormal_vertex>\\\\n\\\\t#include <skinbase_vertex>\\\\n\\\\t#include <skinnormal_vertex>\\\\n\\\\t#include <defaultnormal_vertex>\\\\n\\\\t#include <begin_vertex>\\\\n\\\\t#include <morphtarget_vertex>\\\\n\\\\t#include <skinning_vertex>\\\\n\\\\t#include <project_vertex>\\\\n\\\\t#include <logdepthbuf_vertex>\\\\n\\\\t#include <clipping_planes_vertex>\\\\n\\\\t#include <worldpos_vertex>\\\\n\\\\t#include <envmap_vertex>\\\\n\\\\t#include <lights_lambert_vertex>\\\\n\\\\t#include <shadowmap_vertex>\\\\n}\\\\n\\\",Ic=\\\"#define PHONG\\\\nuniform vec3 diffuse;\\\\nuniform vec3 emissive;\\\\nuniform vec3 specular;\\\\nuniform float shininess;\\\\nuniform float opacity;\\\\n#include <common>\\\\n#include <packing>\\\\n#include <color_pars_fragment>\\\\n#include <uv_pars_fragment>\\\\n#include <uv2_pars_fragment>\\\\n#include <map_pars_fragment>\\\\n#include <alphamap_pars_fragment>\\\\n#include <aomap_pars_fragment>\\\\n#include <lightmap_pars_fragment>\\\\n#include <emissivemap_pars_fragment>\\\\n#include <envmap_pars_fragment>\\\\n#include <fog_pars_fragment>\\\\n#include <bsdfs>\\\\n#include <lights_pars>\\\\n#include <lights_phong_pars_fragment>\\\\n#include <shadowmap_pars_fragment>\\\\n#include <bumpmap_pars_fragment>\\\\n#include <normalmap_pars_fragment>\\\\n#include <specularmap_pars_fragment>\\\\n#include <logdepthbuf_pars_fragment>\\\\n#include <clipping_planes_pars_fragment>\\\\nvoid main() {\\\\n\\\\t#include <clipping_planes_fragment>\\\\n\\\\tvec4 diffuseColor = vec4( diffuse, opacity );\\\\n\\\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\\\n\\\\tvec3 totalEmissiveRadiance = emissive;\\\\n\\\\t#include <logdepthbuf_fragment>\\\\n\\\\t#include <map_fragment>\\\\n\\\\t#include <color_fragment>\\\\n\\\\t#include <alphamap_fragment>\\\\n\\\\t#include <alphatest_fragment>\\\\n\\\\t#include <specularmap_fragment>\\\\n\\\\t#include <normal_flip>\\\\n\\\\t#include <normal_fragment>\\\\n\\\\t#include <emissivemap_fragment>\\\\n\\\\t#include <lights_phong_fragment>\\\\n\\\\t#include <lights_template>\\\\n\\\\t#include <aomap_fragment>\\\\n\\\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\\\n\\\\t#include <envmap_fragment>\\\\n\\\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\\\n\\\\t#include <premultiplied_alpha_fragment>\\\\n\\\\t#include <tonemapping_fragment>\\\\n\\\\t#include <encodings_fragment>\\\\n\\\\t#include <fog_fragment>\\\\n}\\\\n\\\",Uc=\\\"#define PHONG\\\\nvarying vec3 vViewPosition;\\\\n#ifndef FLAT_SHADED\\\\n\\\\tvarying vec3 vNormal;\\\\n#endif\\\\n#include <common>\\\\n#include <uv_pars_vertex>\\\\n#include <uv2_pars_vertex>\\\\n#include <displacementmap_pars_vertex>\\\\n#include <envmap_pars_vertex>\\\\n#include <color_pars_vertex>\\\\n#include <morphtarget_pars_vertex>\\\\n#include <skinning_pars_vertex>\\\\n#include <shadowmap_pars_vertex>\\\\n#include <logdepthbuf_pars_vertex>\\\\n#include <clipping_planes_pars_vertex>\\\\nvoid main() {\\\\n\\\\t#include <uv_vertex>\\\\n\\\\t#include <uv2_vertex>\\\\n\\\\t#include <color_vertex>\\\\n\\\\t#include <beginnormal_vertex>\\\\n\\\\t#include <morphnormal_vertex>\\\\n\\\\t#include <skinbase_vertex>\\\\n\\\\t#include <skinnormal_vertex>\\\\n\\\\t#include <defaultnormal_vertex>\\\\n#ifndef FLAT_SHADED\\\\n\\\\tvNormal = normalize( transformedNormal );\\\\n#endif\\\\n\\\\t#include <begin_vertex>\\\\n\\\\t#include <displacementmap_vertex>\\\\n\\\\t#include <morphtarget_vertex>\\\\n\\\\t#include <skinning_vertex>\\\\n\\\\t#include <project_vertex>\\\\n\\\\t#include <logdepthbuf_vertex>\\\\n\\\\t#include <clipping_planes_vertex>\\\\n\\\\tvViewPosition = - mvPosition.xyz;\\\\n\\\\t#include <worldpos_vertex>\\\\n\\\\t#include <envmap_vertex>\\\\n\\\\t#include <shadowmap_vertex>\\\\n}\\\\n\\\",Nc=\\\"#define PHYSICAL\\\\nuniform vec3 diffuse;\\\\nuniform vec3 emissive;\\\\nuniform float roughness;\\\\nuniform float metalness;\\\\nuniform float opacity;\\\\n#ifndef STANDARD\\\\n\\\\tuniform float clearCoat;\\\\n\\\\tuniform float clearCoatRoughness;\\\\n#endif\\\\nuniform float envMapIntensity;\\\\nvarying vec3 vViewPosition;\\\\n#ifndef FLAT_SHADED\\\\n\\\\tvarying vec3 vNormal;\\\\n#endif\\\\n#include <common>\\\\n#include <packing>\\\\n#include <color_pars_fragment>\\\\n#include <uv_pars_fragment>\\\\n#include <uv2_pars_fragment>\\\\n#include <map_pars_fragment>\\\\n#include <alphamap_pars_fragment>\\\\n#include <aomap_pars_fragment>\\\\n#include <lightmap_pars_fragment>\\\\n#include <emissivemap_pars_fragment>\\\\n#include <envmap_pars_fragment>\\\\n#include <fog_pars_fragment>\\\\n#include <bsdfs>\\\\n#include <cube_uv_reflection_fragment>\\\\n#include <lights_pars>\\\\n#include <lights_physical_pars_fragment>\\\\n#include <shadowmap_pars_fragment>\\\\n#include <bumpmap_pars_fragment>\\\\n#include <normalmap_pars_fragment>\\\\n#include <roughnessmap_pars_fragment>\\\\n#include <metalnessmap_pars_fragment>\\\\n#include <logdepthbuf_pars_fragment>\\\\n#include <clipping_planes_pars_fragment>\\\\nvoid main() {\\\\n\\\\t#include <clipping_planes_fragment>\\\\n\\\\tvec4 diffuseColor = vec4( diffuse, opacity );\\\\n\\\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\\\n\\\\tvec3 totalEmissiveRadiance = emissive;\\\\n\\\\t#include <logdepthbuf_fragment>\\\\n\\\\t#include <map_fragment>\\\\n\\\\t#include <color_fragment>\\\\n\\\\t#include <alphamap_fragment>\\\\n\\\\t#include <alphatest_fragment>\\\\n\\\\t#include <specularmap_fragment>\\\\n\\\\t#include <roughnessmap_fragment>\\\\n\\\\t#include <metalnessmap_fragment>\\\\n\\\\t#include <normal_flip>\\\\n\\\\t#include <normal_fragment>\\\\n\\\\t#include <emissivemap_fragment>\\\\n\\\\t#include <lights_physical_fragment>\\\\n\\\\t#include <lights_template>\\\\n\\\\t#include <aomap_fragment>\\\\n\\\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\\\n\\\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\\\n\\\\t#include <premultiplied_alpha_fragment>\\\\n\\\\t#include <tonemapping_fragment>\\\\n\\\\t#include <encodings_fragment>\\\\n\\\\t#include <fog_fragment>\\\\n}\\\\n\\\",Dc=\\\"#define PHYSICAL\\\\nvarying vec3 vViewPosition;\\\\n#ifndef FLAT_SHADED\\\\n\\\\tvarying vec3 vNormal;\\\\n#endif\\\\n#include <common>\\\\n#include <uv_pars_vertex>\\\\n#include <uv2_pars_vertex>\\\\n#include <displacementmap_pars_vertex>\\\\n#include <color_pars_vertex>\\\\n#include <morphtarget_pars_vertex>\\\\n#include <skinning_pars_vertex>\\\\n#include <shadowmap_pars_vertex>\\\\n#include <specularmap_pars_fragment>\\\\n#include <logdepthbuf_pars_vertex>\\\\n#include <clipping_planes_pars_vertex>\\\\nvoid main() {\\\\n\\\\t#include <uv_vertex>\\\\n\\\\t#include <uv2_vertex>\\\\n\\\\t#include <color_vertex>\\\\n\\\\t#include <beginnormal_vertex>\\\\n\\\\t#include <morphnormal_vertex>\\\\n\\\\t#include <skinbase_vertex>\\\\n\\\\t#include <skinnormal_vertex>\\\\n\\\\t#include <defaultnormal_vertex>\\\\n#ifndef FLAT_SHADED\\\\n\\\\tvNormal = normalize( transformedNormal );\\\\n#endif\\\\n\\\\t#include <begin_vertex>\\\\n\\\\t#include <displacementmap_vertex>\\\\n\\\\t#include <morphtarget_vertex>\\\\n\\\\t#include <skinning_vertex>\\\\n\\\\t#include <project_vertex>\\\\n\\\\t#include <logdepthbuf_vertex>\\\\n\\\\t#include <clipping_planes_vertex>\\\\n\\\\tvViewPosition = - mvPosition.xyz;\\\\n\\\\t#include <worldpos_vertex>\\\\n\\\\t#include <shadowmap_vertex>\\\\n}\\\\n\\\",Oc=\\\"uniform float opacity;\\\\nvarying vec3 vNormal;\\\\n#include <common>\\\\n#include <packing>\\\\n#include <logdepthbuf_pars_fragment>\\\\n#include <clipping_planes_pars_fragment>\\\\nvoid main() {\\\\n\\\\t#include <clipping_planes_fragment>\\\\n\\\\tgl_FragColor = vec4( packNormalToRGB( vNormal ), opacity );\\\\n\\\\t#include <logdepthbuf_fragment>\\\\n}\\\\n\\\",Fc=\\\"varying vec3 vNormal;\\\\n#include <common>\\\\n#include <morphtarget_pars_vertex>\\\\n#include <logdepthbuf_pars_vertex>\\\\n#include <clipping_planes_pars_vertex>\\\\nvoid main() {\\\\n\\\\tvNormal = normalize( normalMatrix * normal );\\\\n\\\\t#include <begin_vertex>\\\\n\\\\t#include <morphtarget_vertex>\\\\n\\\\t#include <project_vertex>\\\\n\\\\t#include <logdepthbuf_vertex>\\\\n\\\\t#include <clipping_planes_vertex>\\\\n}\\\\n\\\",Bc=\\\"uniform vec3 diffuse;\\\\nuniform float opacity;\\\\n#include <common>\\\\n#include <packing>\\\\n#include <color_pars_fragment>\\\\n#include <map_particle_pars_fragment>\\\\n#include <fog_pars_fragment>\\\\n#include <shadowmap_pars_fragment>\\\\n#include <logdepthbuf_pars_fragment>\\\\n#include <clipping_planes_pars_fragment>\\\\nvoid main() {\\\\n\\\\t#include <clipping_planes_fragment>\\\\n\\\\tvec3 outgoingLight = vec3( 0.0 );\\\\n\\\\tvec4 diffuseColor = vec4( diffuse, opacity );\\\\n\\\\t#include <logdepthbuf_fragment>\\\\n\\\\t#include <map_particle_fragment>\\\\n\\\\t#include <color_fragment>\\\\n\\\\t#include <alphatest_fragment>\\\\n\\\\toutgoingLight = diffuseColor.rgb;\\\\n\\\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\\\n\\\\t#include <premultiplied_alpha_fragment>\\\\n\\\\t#include <tonemapping_fragment>\\\\n\\\\t#include <encodings_fragment>\\\\n\\\\t#include <fog_fragment>\\\\n}\\\\n\\\",zc=\\\"uniform float size;\\\\nuniform float scale;\\\\n#include <common>\\\\n#include <color_pars_vertex>\\\\n#include <shadowmap_pars_vertex>\\\\n#include <logdepthbuf_pars_vertex>\\\\n#include <clipping_planes_pars_vertex>\\\\nvoid main() {\\\\n\\\\t#include <color_vertex>\\\\n\\\\t#include <begin_vertex>\\\\n\\\\t#include <project_vertex>\\\\n\\\\t#ifdef USE_SIZEATTENUATION\\\\n\\\\t\\\\tgl_PointSize = size * ( scale / - mvPosition.z );\\\\n\\\\t#else\\\\n\\\\t\\\\tgl_PointSize = size;\\\\n\\\\t#endif\\\\n\\\\t#include <logdepthbuf_vertex>\\\\n\\\\t#include <clipping_planes_vertex>\\\\n\\\\t#include <worldpos_vertex>\\\\n\\\\t#include <shadowmap_vertex>\\\\n}\\\\n\\\",Gc=\\\"uniform float opacity;\\\\n#include <common>\\\\n#include <packing>\\\\n#include <bsdfs>\\\\n#include <lights_pars>\\\\n#include <shadowmap_pars_fragment>\\\\n#include <shadowmask_pars_fragment>\\\\nvoid main() {\\\\n\\\\tgl_FragColor = vec4( 0.0, 0.0, 0.0, opacity * ( 1.0  - getShadowMask() ) );\\\\n}\\\\n\\\",Hc=\\\"#include <shadowmap_pars_vertex>\\\\nvoid main() {\\\\n\\\\t#include <begin_vertex>\\\\n\\\\t#include <project_vertex>\\\\n\\\\t#include <worldpos_vertex>\\\\n\\\\t#include <shadowmap_vertex>\\\\n}\\\\n\\\",Vc={\\nalphamap_fragment:Wo,alphamap_pars_fragment:Xo,alphatest_fragment:Yo,aomap_fragment:qo,aomap_pars_fragment:Zo,begin_vertex:Jo,beginnormal_vertex:Qo,bsdfs:Ko,bumpmap_pars_fragment:$o,clipping_planes_fragment:ts,clipping_planes_pars_fragment:es,clipping_planes_pars_vertex:is,clipping_planes_vertex:ns,color_fragment:rs,color_pars_fragment:as,color_pars_vertex:os,color_vertex:ss,common:cs,cube_uv_reflection_fragment:hs,defaultnormal_vertex:ls,displacementmap_pars_vertex:us,displacementmap_vertex:ps,emissivemap_fragment:ds,emissivemap_pars_fragment:fs,encodings_fragment:ms,encodings_pars_fragment:vs,envmap_fragment:gs,envmap_pars_fragment:ys,envmap_pars_vertex:xs,envmap_vertex:_s,fog_fragment:bs,fog_pars_fragment:ws,lightmap_fragment:Ms,lightmap_pars_fragment:Es,lights_lambert_vertex:Ts,lights_pars:Ss,lights_phong_fragment:As,lights_phong_pars_fragment:Ls,lights_physical_fragment:Rs,lights_physical_pars_fragment:Ps,lights_template:Cs,logdepthbuf_fragment:Is,logdepthbuf_pars_fragment:Us,logdepthbuf_pars_vertex:Ns,logdepthbuf_vertex:Ds,map_fragment:Os,map_pars_fragment:Fs,map_particle_fragment:Bs,map_particle_pars_fragment:zs,metalnessmap_fragment:Gs,metalnessmap_pars_fragment:Hs,morphnormal_vertex:Vs,morphtarget_pars_vertex:ks,morphtarget_vertex:js,normal_flip:Ws,normal_fragment:Xs,normalmap_pars_fragment:Ys,packing:qs,premultiplied_alpha_fragment:Zs,project_vertex:Js,roughnessmap_fragment:Qs,roughnessmap_pars_fragment:Ks,shadowmap_pars_fragment:$s,shadowmap_pars_vertex:tc,shadowmap_vertex:ec,shadowmask_pars_fragment:ic,skinbase_vertex:nc,skinning_pars_vertex:rc,skinning_vertex:ac,skinnormal_vertex:oc,specularmap_fragment:sc,specularmap_pars_fragment:cc,tonemapping_fragment:hc,tonemapping_pars_fragment:lc,uv_pars_fragment:uc,uv_pars_vertex:pc,uv_vertex:dc,uv2_pars_fragment:fc,uv2_pars_vertex:mc,uv2_vertex:vc,worldpos_vertex:gc,cube_frag:yc,cube_vert:xc,depth_frag:_c,depth_vert:bc,distanceRGBA_frag:wc,distanceRGBA_vert:Mc,equirect_frag:Ec,equirect_vert:Tc,linedashed_frag:Sc,linedashed_vert:Ac,meshbasic_frag:Lc,meshbasic_vert:Rc,meshlambert_frag:Pc,meshlambert_vert:Cc,meshphong_frag:Ic,meshphong_vert:Uc,meshphysical_frag:Nc,meshphysical_vert:Dc,normal_frag:Oc,normal_vert:Fc,points_frag:Bc,points_vert:zc,shadow_frag:Gc,shadow_vert:Hc};X.prototype={constructor:X,isColor:!0,r:1,g:1,b:1,set:function(t){return t&&t.isColor?this.copy(t):\\\"number\\\"==typeof t?this.setHex(t):\\\"string\\\"==typeof t&&this.setStyle(t),this},setScalar:function(t){return this.r=t,this.g=t,this.b=t,this},setHex:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this},setRGB:function(t,e,i){return this.r=t,this.g=e,this.b=i,this},setHSL:function(){function t(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+6*(e-t)*(2/3-i):t}return function(e,i,n){if(e=Fo.euclideanModulo(e,1),i=Fo.clamp(i,0,1),n=Fo.clamp(n,0,1),0===i)this.r=this.g=this.b=n;else{var r=n<=.5?n*(1+i):n+i-n*i,a=2*n-r;this.r=t(a,r,e+1/3),this.g=t(a,r,e),this.b=t(a,r,e-1/3)}return this}}(),setStyle:function(t){function e(e){void 0!==e&&parseFloat(e)<1&&console.warn(\\\"THREE.Color: Alpha component of \\\"+t+\\\" will be ignored.\\\")}var i;if(i=/^((?:rgb|hsl)a?)\\\\(\\\\s*([^\\\\)]*)\\\\)/.exec(t)){var n,r=i[1],a=i[2];switch(r){case\\\"rgb\\\":case\\\"rgba\\\":if(n=/^(\\\\d+)\\\\s*,\\\\s*(\\\\d+)\\\\s*,\\\\s*(\\\\d+)\\\\s*(,\\\\s*([0-9]*\\\\.?[0-9]+)\\\\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(n[1],10))/255,this.g=Math.min(255,parseInt(n[2],10))/255,this.b=Math.min(255,parseInt(n[3],10))/255,e(n[5]),this;if(n=/^(\\\\d+)\\\\%\\\\s*,\\\\s*(\\\\d+)\\\\%\\\\s*,\\\\s*(\\\\d+)\\\\%\\\\s*(,\\\\s*([0-9]*\\\\.?[0-9]+)\\\\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(n[1],10))/100,this.g=Math.min(100,parseInt(n[2],10))/100,this.b=Math.min(100,parseInt(n[3],10))/100,e(n[5]),this;break;case\\\"hsl\\\":case\\\"hsla\\\":if(n=/^([0-9]*\\\\.?[0-9]+)\\\\s*,\\\\s*(\\\\d+)\\\\%\\\\s*,\\\\s*(\\\\d+)\\\\%\\\\s*(,\\\\s*([0-9]*\\\\.?[0-9]+)\\\\s*)?$/.exec(a)){var o=parseFloat(n[1])/360,s=parseInt(n[2],10)/100,c=parseInt(n[3],10)/100;return e(n[5]),this.setHSL(o,s,c)}}}else if(i=/^\\\\#([A-Fa-f0-9]+)$/.exec(t)){var h=i[1],l=h.length;if(3===l)return this.r=parseInt(h.charAt(0)+h.charAt(0),16)/255,this.g=parseInt(h.charAt(1)+h.charAt(1),16)/255,this.b=parseInt(h.charAt(2)+h.charAt(2),16)/255,this;if(6===l)return this.r=parseInt(h.charAt(0)+h.charAt(1),16)/255,this.g=parseInt(h.charAt(2)+h.charAt(3),16)/255,this.b=parseInt(h.charAt(4)+h.charAt(5),16)/255,this}if(t&&t.length>0){var h=kc[t];void 0!==h?this.setHex(h):console.warn(\\\"THREE.Color: Unknown color \\\"+t)}return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},copyGammaToLinear:function(t,e){return void 0===e&&(e=2),this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this},copyLinearToGamma:function(t,e){void 0===e&&(e=2);var i=e>0?1/e:1;return this.r=Math.pow(t.r,i),this.g=Math.pow(t.g,i),this.b=Math.pow(t.b,i),this},convertGammaToLinear:function(){var t=this.r,e=this.g,i=this.b;return this.r=t*t,this.g=e*e,this.b=i*i,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return(\\\"000000\\\"+this.getHex().toString(16)).slice(-6)},getHSL:function(t){var e,i,n=t||{h:0,s:0,l:0},r=this.r,a=this.g,o=this.b,s=Math.max(r,a,o),c=Math.min(r,a,o),h=(c+s)/2;if(c===s)e=0,i=0;else{var l=s-c;switch(i=h<=.5?l/(s+c):l/(2-s-c),s){case r:e=(a-o)/l+(a<o?6:0);break;case a:e=(o-r)/l+2;break;case o:e=(r-a)/l+4}e/=6}return n.h=e,n.s=i,n.l=h,n},getStyle:function(){return\\\"rgb(\\\"+(255*this.r|0)+\\\",\\\"+(255*this.g|0)+\\\",\\\"+(255*this.b|0)+\\\")\\\"},offsetHSL:function(t,e,i){var n=this.getHSL();return n.h+=t,n.s+=e,n.l+=i,this.setHSL(n.h,n.s,n.l),this},add:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},addColors:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this},addScalar:function(t){return this.r+=t,this.g+=t,this.b+=t,this},sub:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this},multiply:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},multiplyScalar:function(t){return this.r*=t,this.g*=t,this.b*=t,this},lerp:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this},equals:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},fromArray:function(t,e){return void 0===e&&(e=0),this.r=t[e],this.g=t[e+1],this.b=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t},toJSON:function(){return this.getHex()}};var kc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},jc={common:{diffuse:{value:new X(15658734)},opacity:{value:1},map:{value:null},offsetRepeat:{value:new a(0,0,1,1)},specularMap:{value:null},alphaMap:{value:null},envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new i(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new X(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}}},points:{diffuse:{value:new X(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},offsetRepeat:{value:new a(0,0,1,1)}}},Wc={basic:{uniforms:jo.merge([jc.common,jc.aomap,jc.fog]),vertexShader:Vc.meshbasic_vert,fragmentShader:Vc.meshbasic_frag},lambert:{uniforms:jo.merge([jc.common,jc.aomap,jc.lightmap,jc.emissivemap,jc.fog,jc.lights,{emissive:{value:new X(0)}}]),vertexShader:Vc.meshlambert_vert,fragmentShader:Vc.meshlambert_frag},phong:{uniforms:jo.merge([jc.common,jc.aomap,jc.lightmap,jc.emissivemap,jc.bumpmap,jc.normalmap,jc.displacementmap,jc.fog,jc.lights,{emissive:{value:new X(0)},specular:{value:new X(1118481)},shininess:{value:30}}]),vertexShader:Vc.meshphong_vert,fragmentShader:Vc.meshphong_frag},standard:{uniforms:jo.merge([jc.common,jc.aomap,jc.lightmap,jc.emissivemap,jc.bumpmap,jc.normalmap,jc.displacementmap,jc.roughnessmap,jc.metalnessmap,jc.fog,jc.lights,{emissive:{value:new X(0)},roughness:{value:.5},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Vc.meshphysical_vert,fragmentShader:Vc.meshphysical_frag},points:{uniforms:jo.merge([jc.points,jc.fog]),vertexShader:Vc.points_vert,fragmentShader:Vc.points_frag},dashed:{uniforms:jo.merge([jc.common,jc.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Vc.linedashed_vert,fragmentShader:Vc.linedashed_frag},depth:{uniforms:jo.merge([jc.common,jc.displacementmap]),vertexShader:Vc.depth_vert,fragmentShader:Vc.depth_frag},normal:{uniforms:{opacity:{value:1}},vertexShader:Vc.normal_vert,fragmentShader:Vc.normal_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Vc.cube_vert,fragmentShader:Vc.cube_frag},equirect:{uniforms:{tEquirect:{value:null},tFlip:{value:-1}},vertexShader:Vc.equirect_vert,fragmentShader:Vc.equirect_frag},distanceRGBA:{uniforms:{lightPos:{value:new h}},vertexShader:Vc.distanceRGBA_vert,fragmentShader:Vc.distanceRGBA_frag}};Wc.physical={uniforms:jo.merge([Wc.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:Vc.meshphysical_vert,fragmentShader:Vc.meshphysical_frag},Y.prototype={constructor:Y,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new i;return function(e,i){var n=t.copy(i).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=+(1/0),this.max.x=this.max.y=-(1/0),this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(t){var e=t||new i;return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){var e=t||new i;return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y},getParameter:function(t,e){var n=e||new i;return n.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)},clampPoint:function(t,e){var n=e||new i;return n.copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new i;return function(e){var i=t.copy(e).clamp(this.min,this.max);return i.sub(e).length()}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}},J.prototype={constructor:J,isMaterial:!0,get needsUpdate(){return this._needsUpdate},set needsUpdate(t){t===!0&&this.update(),this._needsUpdate=t},setValues:function(t){if(void 0!==t)for(var e in t){var i=t[e];if(void 0!==i){var n=this[e];void 0!==n?n&&n.isColor?n.set(i):n&&n.isVector3&&i&&i.isVector3?n.copy(i):\\\"overdraw\\\"===e?this[e]=Number(i):this[e]=i:console.warn(\\\"THREE.\\\"+this.type+\\\": '\\\"+e+\\\"' is not a property of this material.\\\")}else console.warn(\\\"THREE.Material: '\\\"+e+\\\"' parameter is undefined.\\\")}},toJSON:function(t){function e(t){var e=[];for(var i in t){var n=t[i];delete n.metadata,e.push(n)}return e}var i=void 0===t;i&&(t={textures:{},images:{}});var n={metadata:{version:4.4,type:\\\"Material\\\",generator:\\\"Material.toJSON\\\"}};if(n.uuid=this.uuid,n.type=this.type,\\\"\\\"!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(t).uuid),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(t).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(t).uuid,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(t).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(t).uuid,n.reflectivity=this.reflectivity),void 0!==this.size&&(n.size=this.size),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==Dr&&(n.blending=this.blending),this.shading!==Pr&&(n.shading=this.shading),this.side!==Sr&&(n.side=this.side),this.vertexColors!==Cr&&(n.vertexColors=this.vertexColors),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),\\\"round\\\"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),\\\"round\\\"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),n.skinning=this.skinning,n.morphTargets=this.morphTargets,i){var r=e(t.textures),a=e(t.images);r.length>0&&(n.textures=r),a.length>0&&(n.images=a)}return n},clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.lights=t.lights,this.blending=t.blending,this.side=t.side,this.shading=t.shading,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.overdraw=t.overdraw,this.visible=t.visible,this.clipShadows=t.clipShadows,this.clipIntersection=t.clipIntersection;var e=t.clippingPlanes,i=null;if(null!==e){var n=e.length;i=new Array(n);for(var r=0;r!==n;++r)i[r]=e[r].clone()}return this.clippingPlanes=i,this},update:function(){this.dispatchEvent({type:\\\"update\\\"})},dispose:function(){this.dispatchEvent({type:\\\"dispose\\\"})}},Object.assign(J.prototype,e.prototype);var Xc=0;K.prototype=Object.create(J.prototype),K.prototype.constructor=K,K.prototype.isShaderMaterial=!0,K.prototype.copy=function(t){return J.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=jo.clone(t.uniforms),this.defines=t.defines,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=t.extensions,this},K.prototype.toJSON=function(t){var e=J.prototype.toJSON.call(this,t);return e.uniforms=this.uniforms,e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e},$.prototype=Object.create(J.prototype),$.prototype.constructor=$,$.prototype.isMeshDepthMaterial=!0,$.prototype.copy=function(t){return J.prototype.copy.call(this,t),this.depthPacking=t.depthPacking,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},tt.prototype={constructor:tt,isBox3:!0,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromArray:function(t){for(var e=+(1/0),i=+(1/0),n=+(1/0),r=-(1/0),a=-(1/0),o=-(1/0),s=0,c=t.length;s<c;s+=3){var h=t[s],l=t[s+1],u=t[s+2];h<e&&(e=h),l<i&&(i=l),u<n&&(n=u),h>r&&(r=h),l>a&&(a=l),u>o&&(o=u)}this.min.set(e,i,n),this.max.set(r,a,o)},setFromPoints:function(t){this.makeEmpty();for(var e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new h;return function(e,i){var n=t.copy(i).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}}(),setFromObject:function(){var t=new h;return function(e){var i=this;return e.updateMatrixWorld(!0),this.makeEmpty(),e.traverse(function(e){var n=e.geometry;if(void 0!==n)if(n&&n.isGeometry)for(var r=n.vertices,a=0,o=r.length;a<o;a++)t.copy(r[a]),t.applyMatrix4(e.matrixWorld),i.expandByPoint(t);else if(n&&n.isBufferGeometry){var s=n.attributes.position;if(void 0!==s){var c,h,l;s&&s.isInterleavedBufferAttribute?(c=s.data.array,h=s.offset,l=s.data.stride):(c=s.array,h=0,l=3);for(var a=h,o=c.length;a<o;a+=l)t.fromArray(c,a),t.applyMatrix4(e.matrixWorld),i.expandByPoint(t)}}}),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=+(1/0),this.max.x=this.max.y=this.max.z=-(1/0),this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(t){var e=t||new h;return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){var e=t||new h;return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},getParameter:function(t,e){var i=e||new h;return i.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},intersectsSphere:function(){var t;return function(e){return void 0===t&&(t=new h),this.clampPoint(e.center,t),t.distanceToSquared(e.center)<=e.radius*e.radius}}(),intersectsPlane:function(t){var e,i;return t.normal.x>0?(e=t.normal.x*this.min.x,i=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,i=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,i+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,i+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,i+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,i+=t.normal.z*this.min.z),e<=t.constant&&i>=t.constant},clampPoint:function(t,e){var i=e||new h;return i.copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new h;return function(e){var i=t.copy(e).clamp(this.min,this.max);return i.sub(e).length()}}(),getBoundingSphere:function(){var t=new h;return function(e){var i=e||new et;return this.getCenter(i.center),i.radius=.5*this.getSize(t).length(),i}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},applyMatrix4:function(){var t=[new h,new h,new h,new h,new h,new h,new h,new h];return function(e){return this.isEmpty()?this:(t[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),t[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),t[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),t[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),t[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),t[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),t[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),t[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(t),this)}}(),translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}},et.prototype={constructor:et,set:function(t,e){return this.center.copy(t),this.radius=e,this},setFromPoints:function(){var t=new tt;return function(e,i){var n=this.center;void 0!==i?n.copy(i):t.setFromPoints(e).getCenter(n);for(var r=0,a=0,o=e.length;a<o;a++)r=Math.max(r,n.distanceToSquared(e[a]));return this.radius=Math.sqrt(r),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.center.copy(t.center),this.radius=t.radius,this},empty:function(){return this.radius<=0},containsPoint:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(t){return t.distanceTo(this.center)-this.radius},intersectsSphere:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e},intersectsBox:function(t){return t.intersectsSphere(this)},intersectsPlane:function(t){return Math.abs(this.center.dot(t.normal)-t.constant)<=this.radius},clampPoint:function(t,e){var i=this.center.distanceToSquared(t),n=e||new h;return n.copy(t),i>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n},getBoundingBox:function(t){var e=t||new tt;return e.set(this.center,this.center),e.expandByScalar(this.radius),e},applyMatrix4:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this},translate:function(t){return this.center.add(t),this},equals:function(t){return t.center.equals(this.center)&&t.radius===this.radius}},it.prototype={constructor:it,isMatrix3:!0,set:function(t,e,i,n,r,a,o,s,c){var h=this.elements;return h[0]=t,h[1]=n,h[2]=o,h[3]=e,h[4]=r,h[5]=s,h[6]=i,h[7]=a,h[8]=c,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(t){var e=t.elements;return this.set(e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8]),this},setFromMatrix4:function(t){var e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this},applyToVector3Array:function(){var t;return function(e,i,n){void 0===t&&(t=new h),void 0===i&&(i=0),void 0===n&&(n=e.length);for(var r=0,a=i;r<n;r+=3,a+=3)t.fromArray(e,a),t.applyMatrix3(this),t.toArray(e,a);return e}}(),applyToBuffer:function(){var t;return function(e,i,n){void 0===t&&(t=new h),void 0===i&&(i=0),void 0===n&&(n=e.length/e.itemSize);for(var r=0,a=i;r<n;r++,a++)t.x=e.getX(a),t.y=e.getY(a),t.z=e.getZ(a),t.applyMatrix3(this),e.setXYZ(a,t.x,t.y,t.z);return e}}(),multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this},determinant:function(){var t=this.elements,e=t[0],i=t[1],n=t[2],r=t[3],a=t[4],o=t[5],s=t[6],c=t[7],h=t[8];return e*a*h-e*o*c-i*r*h+i*o*s+n*r*c-n*a*s},getInverse:function(t,e){t&&t.isMatrix4&&console.error(\\\"THREE.Matrix3.getInverse no longer takes a Matrix4 argument.\\\");var i=t.elements,n=this.elements,r=i[0],a=i[1],o=i[2],s=i[3],c=i[4],h=i[5],l=i[6],u=i[7],p=i[8],d=p*c-h*u,f=h*l-p*s,m=u*s-c*l,v=r*d+a*f+o*m;if(0===v){var g=\\\"THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0\\\";if(e===!0)throw new Error(g);return console.warn(g),this.identity()}var y=1/v;return n[0]=d*y,n[1]=(o*u-p*a)*y,n[2]=(h*a-o*c)*y,n[3]=f*y,n[4]=(p*r-o*l)*y,n[5]=(o*s-h*r)*y,n[6]=m*y,n[7]=(a*l-u*r)*y,n[8]=(c*r-a*s)*y,this},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},flattenToArrayOffset:function(t,e){return console.warn(\\\"THREE.Matrix3: .flattenToArrayOffset is deprecated - just use .toArray instead.\\\"),this.toArray(t,e)},getNormalMatrix:function(t){return this.setFromMatrix4(t).getInverse(this).transpose()},transposeIntoArray:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this},fromArray:function(t,e){void 0===e&&(e=0);for(var i=0;i<9;i++)this.elements[i]=t[i+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t}},nt.prototype={constructor:nt,set:function(t,e){return this.normal.copy(t),this.constant=e,this},setComponents:function(t,e,i,n){return this.normal.set(t,e,i),this.constant=n,this},setFromNormalAndCoplanarPoint:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this},setFromCoplanarPoints:function(){var t=new h,e=new h;return function(i,n,r){var a=t.subVectors(r,n).cross(e.subVectors(i,n)).normalize();return this.setFromNormalAndCoplanarPoint(a,i),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this},normalize:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(t){return this.normal.dot(t)+this.constant},distanceToSphere:function(t){return this.distanceToPoint(t.center)-t.radius},projectPoint:function(t,e){return this.orthoPoint(t,e).sub(t).negate()},orthoPoint:function(t,e){var i=this.distanceToPoint(t),n=e||new h;return n.copy(this.normal).multiplyScalar(i)},intersectLine:function(){var t=new h;return function(e,i){var n=i||new h,r=e.delta(t),a=this.normal.dot(r);if(0!==a){var o=-(e.start.dot(this.normal)+this.constant)/a;if(!(o<0||o>1))return n.copy(r).multiplyScalar(o).add(e.start)}else if(0===this.distanceToPoint(e.start))return n.copy(e.start)}}(),intersectsLine:function(t){var e=this.distanceToPoint(t.start),i=this.distanceToPoint(t.end);return e<0&&i>0||i<0&&e>0},intersectsBox:function(t){return t.intersectsPlane(this)},intersectsSphere:function(t){return t.intersectsPlane(this)},coplanarPoint:function(t){var e=t||new h;return e.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var t=new h,e=new it;return function(i,n){var r=this.coplanarPoint(t).applyMatrix4(i),a=n||e.getNormalMatrix(i),o=this.normal.applyMatrix3(a).normalize();return this.constant=-r.dot(o),this}}(),translate:function(t){return this.constant=this.constant-t.dot(this.normal),this},equals:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}},rt.prototype={constructor:rt,set:function(t,e,i,n,r,a){var o=this.planes;return o[0].copy(t),o[1].copy(e),o[2].copy(i),o[3].copy(n),o[4].copy(r),o[5].copy(a),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){for(var e=this.planes,i=0;i<6;i++)e[i].copy(t.planes[i]);return this;\\n},setFromMatrix:function(t){var e=this.planes,i=t.elements,n=i[0],r=i[1],a=i[2],o=i[3],s=i[4],c=i[5],h=i[6],l=i[7],u=i[8],p=i[9],d=i[10],f=i[11],m=i[12],v=i[13],g=i[14],y=i[15];return e[0].setComponents(o-n,l-s,f-u,y-m).normalize(),e[1].setComponents(o+n,l+s,f+u,y+m).normalize(),e[2].setComponents(o+r,l+c,f+p,y+v).normalize(),e[3].setComponents(o-r,l-c,f-p,y-v).normalize(),e[4].setComponents(o-a,l-h,f-d,y-g).normalize(),e[5].setComponents(o+a,l+h,f+d,y+g).normalize(),this},intersectsObject:function(){var t=new et;return function(e){var i=e.geometry;return null===i.boundingSphere&&i.computeBoundingSphere(),t.copy(i.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(t)}}(),intersectsSprite:function(){var t=new et;return function(e){return t.center.set(0,0,0),t.radius=.7071067811865476,t.applyMatrix4(e.matrixWorld),this.intersectsSphere(t)}}(),intersectsSphere:function(t){for(var e=this.planes,i=t.center,n=-t.radius,r=0;r<6;r++){var a=e[r].distanceToPoint(i);if(a<n)return!1}return!0},intersectsBox:function(){var t=new h,e=new h;return function(i){for(var n=this.planes,r=0;r<6;r++){var a=n[r];t.x=a.normal.x>0?i.min.x:i.max.x,e.x=a.normal.x>0?i.max.x:i.min.x,t.y=a.normal.y>0?i.min.y:i.max.y,e.y=a.normal.y>0?i.max.y:i.min.y,t.z=a.normal.z>0?i.min.z:i.max.z,e.z=a.normal.z>0?i.max.z:i.min.z;var o=a.distanceToPoint(t),s=a.distanceToPoint(e);if(o<0&&s<0)return!1}return!0}}(),containsPoint:function(t){for(var e=this.planes,i=0;i<6;i++)if(e[i].distanceToPoint(t)<0)return!1;return!0}},ot.prototype={constructor:ot,set:function(t,e){return this.origin.copy(t),this.direction.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this},at:function(t,e){var i=e||new h;return i.copy(this.direction).multiplyScalar(t).add(this.origin)},lookAt:function(t){return this.direction.copy(t).sub(this.origin).normalize(),this},recast:function(){var t=new h;return function(e){return this.origin.copy(this.at(e,t)),this}}(),closestPointToPoint:function(t,e){var i=e||new h;i.subVectors(t,this.origin);var n=i.dot(this.direction);return n<0?i.copy(this.origin):i.copy(this.direction).multiplyScalar(n).add(this.origin)},distanceToPoint:function(t){return Math.sqrt(this.distanceSqToPoint(t))},distanceSqToPoint:function(){var t=new h;return function(e){var i=t.subVectors(e,this.origin).dot(this.direction);return i<0?this.origin.distanceToSquared(e):(t.copy(this.direction).multiplyScalar(i).add(this.origin),t.distanceToSquared(e))}}(),distanceSqToSegment:function(){var t=new h,e=new h,i=new h;return function(n,r,a,o){t.copy(n).add(r).multiplyScalar(.5),e.copy(r).sub(n).normalize(),i.copy(this.origin).sub(t);var s,c,h,l,u=.5*n.distanceTo(r),p=-this.direction.dot(e),d=i.dot(this.direction),f=-i.dot(e),m=i.lengthSq(),v=Math.abs(1-p*p);if(v>0)if(s=p*f-d,c=p*d-f,l=u*v,s>=0)if(c>=-l)if(c<=l){var g=1/v;s*=g,c*=g,h=s*(s+p*c+2*d)+c*(p*s+c+2*f)+m}else c=u,s=Math.max(0,-(p*c+d)),h=-s*s+c*(c+2*f)+m;else c=-u,s=Math.max(0,-(p*c+d)),h=-s*s+c*(c+2*f)+m;else c<=-l?(s=Math.max(0,-(-p*u+d)),c=s>0?-u:Math.min(Math.max(-u,-f),u),h=-s*s+c*(c+2*f)+m):c<=l?(s=0,c=Math.min(Math.max(-u,-f),u),h=c*(c+2*f)+m):(s=Math.max(0,-(p*u+d)),c=s>0?u:Math.min(Math.max(-u,-f),u),h=-s*s+c*(c+2*f)+m);else c=p>0?-u:u,s=Math.max(0,-(p*c+d)),h=-s*s+c*(c+2*f)+m;return a&&a.copy(this.direction).multiplyScalar(s).add(this.origin),o&&o.copy(e).multiplyScalar(c).add(t),h}}(),intersectSphere:function(){var t=new h;return function(e,i){t.subVectors(e.center,this.origin);var n=t.dot(this.direction),r=t.dot(t)-n*n,a=e.radius*e.radius;if(r>a)return null;var o=Math.sqrt(a-r),s=n-o,c=n+o;return s<0&&c<0?null:s<0?this.at(c,i):this.at(s,i)}}(),intersectsSphere:function(t){return this.distanceToPoint(t.center)<=t.radius},distanceToPlane:function(t){var e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;var i=-(this.origin.dot(t.normal)+t.constant)/e;return i>=0?i:null},intersectPlane:function(t,e){var i=this.distanceToPlane(t);return null===i?null:this.at(i,e)},intersectsPlane:function(t){var e=t.distanceToPoint(this.origin);if(0===e)return!0;var i=t.normal.dot(this.direction);return i*e<0},intersectBox:function(t,e){var i,n,r,a,o,s,c=1/this.direction.x,h=1/this.direction.y,l=1/this.direction.z,u=this.origin;return c>=0?(i=(t.min.x-u.x)*c,n=(t.max.x-u.x)*c):(i=(t.max.x-u.x)*c,n=(t.min.x-u.x)*c),h>=0?(r=(t.min.y-u.y)*h,a=(t.max.y-u.y)*h):(r=(t.max.y-u.y)*h,a=(t.min.y-u.y)*h),i>a||r>n?null:((r>i||i!==i)&&(i=r),(a<n||n!==n)&&(n=a),l>=0?(o=(t.min.z-u.z)*l,s=(t.max.z-u.z)*l):(o=(t.max.z-u.z)*l,s=(t.min.z-u.z)*l),i>s||o>n?null:((o>i||i!==i)&&(i=o),(s<n||n!==n)&&(n=s),n<0?null:this.at(i>=0?i:n,e)))},intersectsBox:function(){var t=new h;return function(e){return null!==this.intersectBox(e,t)}}(),intersectTriangle:function(){var t=new h,e=new h,i=new h,n=new h;return function(r,a,o,s,c){e.subVectors(a,r),i.subVectors(o,r),n.crossVectors(e,i);var h,l=this.direction.dot(n);if(l>0){if(s)return null;h=1}else{if(!(l<0))return null;h=-1,l=-l}t.subVectors(this.origin,r);var u=h*this.direction.dot(i.crossVectors(t,i));if(u<0)return null;var p=h*this.direction.dot(e.cross(t));if(p<0)return null;if(u+p>l)return null;var d=-h*t.dot(n);return d<0?null:this.at(d/l,c)}}(),applyMatrix4:function(t){return this.direction.add(this.origin).applyMatrix4(t),this.origin.applyMatrix4(t),this.direction.sub(this.origin),this.direction.normalize(),this},equals:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}},st.RotationOrders=[\\\"XYZ\\\",\\\"YZX\\\",\\\"ZXY\\\",\\\"XZY\\\",\\\"YXZ\\\",\\\"ZYX\\\"],st.DefaultOrder=\\\"XYZ\\\",st.prototype={constructor:st,isEuler:!0,get x(){return this._x},set x(t){this._x=t,this.onChangeCallback()},get y(){return this._y},set y(t){this._y=t,this.onChangeCallback()},get z(){return this._z},set z(t){this._z=t,this.onChangeCallback()},get order(){return this._order},set order(t){this._order=t,this.onChangeCallback()},set:function(t,e,i,n){return this._x=t,this._y=e,this._z=i,this._order=n||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this.onChangeCallback(),this},setFromRotationMatrix:function(t,e,i){var n=Fo.clamp,r=t.elements,a=r[0],o=r[4],s=r[8],c=r[1],h=r[5],l=r[9],u=r[2],p=r[6],d=r[10];return e=e||this._order,\\\"XYZ\\\"===e?(this._y=Math.asin(n(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-l,d),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(p,h),this._z=0)):\\\"YXZ\\\"===e?(this._x=Math.asin(-n(l,-1,1)),Math.abs(l)<.99999?(this._y=Math.atan2(s,d),this._z=Math.atan2(c,h)):(this._y=Math.atan2(-u,a),this._z=0)):\\\"ZXY\\\"===e?(this._x=Math.asin(n(p,-1,1)),Math.abs(p)<.99999?(this._y=Math.atan2(-u,d),this._z=Math.atan2(-o,h)):(this._y=0,this._z=Math.atan2(c,a))):\\\"ZYX\\\"===e?(this._y=Math.asin(-n(u,-1,1)),Math.abs(u)<.99999?(this._x=Math.atan2(p,d),this._z=Math.atan2(c,a)):(this._x=0,this._z=Math.atan2(-o,h))):\\\"YZX\\\"===e?(this._z=Math.asin(n(c,-1,1)),Math.abs(c)<.99999?(this._x=Math.atan2(-l,h),this._y=Math.atan2(-u,a)):(this._x=0,this._y=Math.atan2(s,d))):\\\"XZY\\\"===e?(this._z=Math.asin(-n(o,-1,1)),Math.abs(o)<.99999?(this._x=Math.atan2(p,h),this._y=Math.atan2(s,a)):(this._x=Math.atan2(-l,d),this._y=0)):console.warn(\\\"THREE.Euler: .setFromRotationMatrix() given unsupported order: \\\"+e),this._order=e,i!==!1&&this.onChangeCallback(),this},setFromQuaternion:function(){var t;return function(e,i,n){return void 0===t&&(t=new l),t.makeRotationFromQuaternion(e),this.setFromRotationMatrix(t,i,n)}}(),setFromVector3:function(t,e){return this.set(t.x,t.y,t.z,e||this._order)},reorder:function(){var t=new c;return function(e){return t.setFromEuler(this),this.setFromQuaternion(t,e)}}(),equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},fromArray:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t},toVector3:function(t){return t?t.set(this._x,this._y,this._z):new h(this._x,this._y,this._z)},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}},ct.prototype={constructor:ct,set:function(t){this.mask=1<<t},enable:function(t){this.mask|=1<<t},toggle:function(t){this.mask^=1<<t},disable:function(t){this.mask&=~(1<<t)},test:function(t){return 0!==(this.mask&t.mask)}},ht.DefaultUp=new h(0,1,0),ht.DefaultMatrixAutoUpdate=!0,Object.assign(ht.prototype,e.prototype,{isObject3D:!0,applyMatrix:function(t){this.matrix.multiplyMatrices(t,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:function(){var t=new c;return function(e,i){return t.setFromAxisAngle(e,i),this.quaternion.multiply(t),this}}(),rotateX:function(){var t=new h(1,0,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateY:function(){var t=new h(0,1,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateZ:function(){var t=new h(0,0,1);return function(e){return this.rotateOnAxis(t,e)}}(),translateOnAxis:function(){var t=new h;return function(e,i){return t.copy(e).applyQuaternion(this.quaternion),this.position.add(t.multiplyScalar(i)),this}}(),translateX:function(){var t=new h(1,0,0);return function(e){return this.translateOnAxis(t,e)}}(),translateY:function(){var t=new h(0,1,0);return function(e){return this.translateOnAxis(t,e)}}(),translateZ:function(){var t=new h(0,0,1);return function(e){return this.translateOnAxis(t,e)}}(),localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var t=new l;return function(e){return e.applyMatrix4(t.getInverse(this.matrixWorld))}}(),lookAt:function(){var t=new l;return function(e){t.lookAt(e,this.position,this.up),this.quaternion.setFromRotationMatrix(t)}}(),add:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error(\\\"THREE.Object3D.add: object can't be added as a child of itself.\\\",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,t.dispatchEvent({type:\\\"added\\\"}),this.children.push(t)):console.error(\\\"THREE.Object3D.add: object not an instance of THREE.Object3D.\\\",t),this)},remove:function(t){if(arguments.length>1)for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);var i=this.children.indexOf(t);i!==-1&&(t.parent=null,t.dispatchEvent({type:\\\"removed\\\"}),this.children.splice(i,1))},getObjectById:function(t){return this.getObjectByProperty(\\\"id\\\",t)},getObjectByName:function(t){return this.getObjectByProperty(\\\"name\\\",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(var i=0,n=this.children.length;i<n;i++){var r=this.children[i],a=r.getObjectByProperty(t,e);if(void 0!==a)return a}},getWorldPosition:function(t){var e=t||new h;return this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var t=new h,e=new h;return function(i){var n=i||new c;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,n,e),n}}(),getWorldRotation:function(){var t=new c;return function(e){var i=e||new st;return this.getWorldQuaternion(t),i.setFromQuaternion(t,this.rotation.order,!1)}}(),getWorldScale:function(){var t=new h,e=new c;return function(i){var n=i||new h;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,e,n),n}}(),getWorldDirection:function(){var t=new c;return function(e){var i=e||new h;return this.getWorldQuaternion(t),i.set(0,0,1).applyQuaternion(t)}}(),raycast:function(){},traverse:function(t){t(this);for(var e=this.children,i=0,n=e.length;i<n;i++)e[i].traverse(t)},traverseVisible:function(t){if(this.visible!==!1){t(this);for(var e=this.children,i=0,n=e.length;i<n;i++)e[i].traverseVisible(t)}},traverseAncestors:function(t){var e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate===!0&&this.updateMatrix(),this.matrixWorldNeedsUpdate!==!0&&t!==!0||(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var e=this.children,i=0,n=e.length;i<n;i++)e[i].updateMatrixWorld(t)},toJSON:function(t){function e(t){var e=[];for(var i in t){var n=t[i];delete n.metadata,e.push(n)}return e}var i=void 0===t||\\\"\\\"===t,n={};i&&(t={geometries:{},materials:{},textures:{},images:{}},n.metadata={version:4.4,type:\\\"Object\\\",generator:\\\"Object3D.toJSON\\\"});var r={};if(r.uuid=this.uuid,r.type=this.type,\\\"\\\"!==this.name&&(r.name=this.name),\\\"{}\\\"!==JSON.stringify(this.userData)&&(r.userData=this.userData),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),r.matrix=this.matrix.toArray(),void 0!==this.geometry&&(void 0===t.geometries[this.geometry.uuid]&&(t.geometries[this.geometry.uuid]=this.geometry.toJSON(t)),r.geometry=this.geometry.uuid),void 0!==this.material&&(void 0===t.materials[this.material.uuid]&&(t.materials[this.material.uuid]=this.material.toJSON(t)),r.material=this.material.uuid),this.children.length>0){r.children=[];for(var a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(t).object)}if(i){var o=e(t.geometries),s=e(t.materials),c=e(t.textures),h=e(t.images);o.length>0&&(n.geometries=o),s.length>0&&(n.materials=s),c.length>0&&(n.textures=c),h.length>0&&(n.images=h)}return n.object=r,n},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t,e){if(void 0===e&&(e=!0),this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),e===!0)for(var i=0;i<t.children.length;i++){var n=t.children[i];this.add(n.clone())}return this}});var Yc=0;ut.prototype={constructor:ut,set:function(t,e){return this.start.copy(t),this.end.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.start.copy(t.start),this.end.copy(t.end),this},getCenter:function(t){var e=t||new h;return e.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(t){var e=t||new h;return e.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(t,e){var i=e||new h;return this.delta(i).multiplyScalar(t).add(this.start)},closestPointToPointParameter:function(){var t=new h,e=new h;return function(i,n){t.subVectors(i,this.start),e.subVectors(this.end,this.start);var r=e.dot(e),a=e.dot(t),o=a/r;return n&&(o=Fo.clamp(o,0,1)),o}}(),closestPointToPoint:function(t,e,i){var n=this.closestPointToPointParameter(t,e),r=i||new h;return this.delta(r).multiplyScalar(n).add(this.start)},applyMatrix4:function(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this},equals:function(t){return t.start.equals(this.start)&&t.end.equals(this.end)}},pt.normal=function(){var t=new h;return function(e,i,n,r){var a=r||new h;a.subVectors(n,i),t.subVectors(e,i),a.cross(t);var o=a.lengthSq();return o>0?a.multiplyScalar(1/Math.sqrt(o)):a.set(0,0,0)}}(),pt.barycoordFromPoint=function(){var t=new h,e=new h,i=new h;return function(n,r,a,o,s){t.subVectors(o,r),e.subVectors(a,r),i.subVectors(n,r);var c=t.dot(t),l=t.dot(e),u=t.dot(i),p=e.dot(e),d=e.dot(i),f=c*p-l*l,m=s||new h;if(0===f)return m.set(-2,-1,-1);var v=1/f,g=(p*u-l*d)*v,y=(c*d-l*u)*v;return m.set(1-g-y,y,g)}}(),pt.containsPoint=function(){var t=new h;return function(e,i,n,r){var a=pt.barycoordFromPoint(e,i,n,r,t);return a.x>=0&&a.y>=0&&a.x+a.y<=1}}(),pt.prototype={constructor:pt,set:function(t,e,i){return this.a.copy(t),this.b.copy(e),this.c.copy(i),this},setFromPointsAndIndices:function(t,e,i,n){return this.a.copy(t[e]),this.b.copy(t[i]),this.c.copy(t[n]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this},area:function(){var t=new h,e=new h;return function(){return t.subVectors(this.c,this.b),e.subVectors(this.a,this.b),.5*t.cross(e).length()}}(),midpoint:function(t){var e=t||new h;return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(t){return pt.normal(this.a,this.b,this.c,t)},plane:function(t){var e=t||new nt;return e.setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(t,e){return pt.barycoordFromPoint(t,this.a,this.b,this.c,e)},containsPoint:function(t){return pt.containsPoint(t,this.a,this.b,this.c)},closestPointToPoint:function(){var t,e,i,n;return function(r,a){void 0===t&&(t=new nt,e=[new ut,new ut,new ut],i=new h,n=new h);var o=a||new h,s=1/0;if(t.setFromCoplanarPoints(this.a,this.b,this.c),t.projectPoint(r,i),this.containsPoint(i)===!0)o.copy(i);else{e[0].set(this.a,this.b),e[1].set(this.b,this.c),e[2].set(this.c,this.a);for(var c=0;c<e.length;c++){e[c].closestPointToPoint(i,!0,n);var l=i.distanceToSquared(n);l<s&&(s=l,o.copy(n))}}return o}}(),equals:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}},dt.prototype={constructor:dt,clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(var e=0,i=t.vertexNormals.length;e<i;e++)this.vertexNormals[e]=t.vertexNormals[e].clone();for(var e=0,i=t.vertexColors.length;e<i;e++)this.vertexColors[e]=t.vertexColors[e].clone();return this}},ft.prototype=Object.create(J.prototype),ft.prototype.constructor=ft,ft.prototype.isMeshBasicMaterial=!0,ft.prototype.copy=function(t){return J.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this},mt.prototype={constructor:mt,isBufferAttribute:!0,set needsUpdate(t){t===!0&&this.version++},setArray:function(t){if(Array.isArray(t))throw new TypeError(\\\"THREE.BufferAttribute: array should be a Typed Array.\\\");this.count=void 0!==t?t.length/this.itemSize:0,this.array=t},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.dynamic=t.dynamic,this},copyAt:function(t,e,i){t*=this.itemSize,i*=e.itemSize;for(var n=0,r=this.itemSize;n<r;n++)this.array[t+n]=e.array[i+n];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){for(var e=this.array,i=0,n=0,r=t.length;n<r;n++){var a=t[n];void 0===a&&(console.warn(\\\"THREE.BufferAttribute.copyColorsArray(): color is undefined\\\",n),a=new X),e[i++]=a.r,e[i++]=a.g,e[i++]=a.b}return this},copyIndicesArray:function(t){for(var e=this.array,i=0,n=0,r=t.length;n<r;n++){var a=t[n];e[i++]=a.a,e[i++]=a.b,e[i++]=a.c}return this},copyVector2sArray:function(t){for(var e=this.array,n=0,r=0,a=t.length;r<a;r++){var o=t[r];void 0===o&&(console.warn(\\\"THREE.BufferAttribute.copyVector2sArray(): vector is undefined\\\",r),o=new i),e[n++]=o.x,e[n++]=o.y}return this},copyVector3sArray:function(t){for(var e=this.array,i=0,n=0,r=t.length;n<r;n++){var a=t[n];void 0===a&&(console.warn(\\\"THREE.BufferAttribute.copyVector3sArray(): vector is undefined\\\",n),a=new h),e[i++]=a.x,e[i++]=a.y,e[i++]=a.z}return this},copyVector4sArray:function(t){for(var e=this.array,i=0,n=0,r=t.length;n<r;n++){var o=t[n];void 0===o&&(console.warn(\\\"THREE.BufferAttribute.copyVector4sArray(): vector is undefined\\\",n),o=new a),e[i++]=o.x,e[i++]=o.y,e[i++]=o.z,e[i++]=o.w}return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this},setXYZ:function(t,e,i,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=n,this},setXYZW:function(t,e,i,n,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=n,this.array[t+3]=r,this},clone:function(){return(new this.constructor).copy(this)}},Object.assign(St.prototype,e.prototype,{isGeometry:!0,applyMatrix:function(t){for(var e=(new it).getNormalMatrix(t),i=0,n=this.vertices.length;i<n;i++){var r=this.vertices[i];r.applyMatrix4(t)}for(var i=0,n=this.faces.length;i<n;i++){var a=this.faces[i];a.normal.applyMatrix3(e).normalize();for(var o=0,s=a.vertexNormals.length;o<s;o++)a.vertexNormals[o].applyMatrix3(e).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var t;return function(e){return void 0===t&&(t=new l),t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t;return function(e){return void 0===t&&(t=new l),t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t;return function(e){return void 0===t&&(t=new l),t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t;return function(e,i,n){return void 0===t&&(t=new l),t.makeTranslation(e,i,n),this.applyMatrix(t),this}}(),scale:function(){var t;return function(e,i,n){return void 0===t&&(t=new l),t.makeScale(e,i,n),this.applyMatrix(t),this}}(),lookAt:function(){var t;return function(e){void 0===t&&(t=new ht),t.lookAt(e),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),fromBufferGeometry:function(t){function e(t,e,i,r){var a=void 0!==s?[p[t].clone(),p[e].clone(),p[i].clone()]:[],o=void 0!==c?[n.colors[t].clone(),n.colors[e].clone(),n.colors[i].clone()]:[],h=new dt(t,e,i,a,o,r);n.faces.push(h),void 0!==l&&n.faceVertexUvs[0].push([d[t].clone(),d[e].clone(),d[i].clone()]),void 0!==u&&n.faceVertexUvs[1].push([f[t].clone(),f[e].clone(),f[i].clone()])}var n=this,r=null!==t.index?t.index.array:void 0,a=t.attributes,o=a.position.array,s=void 0!==a.normal?a.normal.array:void 0,c=void 0!==a.color?a.color.array:void 0,l=void 0!==a.uv?a.uv.array:void 0,u=void 0!==a.uv2?a.uv2.array:void 0;void 0!==u&&(this.faceVertexUvs[1]=[]);for(var p=[],d=[],f=[],m=0,v=0;m<o.length;m+=3,v+=2)n.vertices.push(new h(o[m],o[m+1],o[m+2])),void 0!==s&&p.push(new h(s[m],s[m+1],s[m+2])),void 0!==c&&n.colors.push(new X(c[m],c[m+1],c[m+2])),void 0!==l&&d.push(new i(l[v],l[v+1])),void 0!==u&&f.push(new i(u[v],u[v+1]));if(void 0!==r){var g=t.groups;if(g.length>0)for(var m=0;m<g.length;m++)for(var y=g[m],x=y.start,_=y.count,v=x,b=x+_;v<b;v+=3)e(r[v],r[v+1],r[v+2],y.materialIndex);else for(var m=0;m<r.length;m+=3)e(r[m],r[m+1],r[m+2])}else for(var m=0;m<o.length/3;m+=3)e(m,m+1,m+2);return this.computeFaceNormals(),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this},center:function(){this.computeBoundingBox();var t=this.boundingBox.getCenter().negate();return this.translate(t.x,t.y,t.z),t},normalize:function(){this.computeBoundingSphere();var t=this.boundingSphere.center,e=this.boundingSphere.radius,i=0===e?1:1/e,n=new l;return n.set(i,0,0,-i*t.x,0,i,0,-i*t.y,0,0,i,-i*t.z,0,0,0,1),this.applyMatrix(n),this},computeFaceNormals:function(){for(var t=new h,e=new h,i=0,n=this.faces.length;i<n;i++){var r=this.faces[i],a=this.vertices[r.a],o=this.vertices[r.b],s=this.vertices[r.c];t.subVectors(s,o),e.subVectors(a,o),t.cross(e),t.normalize(),r.normal.copy(t)}},computeVertexNormals:function(t){void 0===t&&(t=!0);var e,i,n,r,a,o;for(o=new Array(this.vertices.length),e=0,i=this.vertices.length;e<i;e++)o[e]=new h;if(t){var s,c,l,u=new h,p=new h;for(n=0,r=this.faces.length;n<r;n++)a=this.faces[n],s=this.vertices[a.a],c=this.vertices[a.b],l=this.vertices[a.c],u.subVectors(l,c),p.subVectors(s,c),u.cross(p),o[a.a].add(u),o[a.b].add(u),o[a.c].add(u)}else for(this.computeFaceNormals(),n=0,r=this.faces.length;n<r;n++)a=this.faces[n],o[a.a].add(a.normal),o[a.b].add(a.normal),o[a.c].add(a.normal);for(e=0,i=this.vertices.length;e<i;e++)o[e].normalize();for(n=0,r=this.faces.length;n<r;n++){a=this.faces[n];var d=a.vertexNormals;3===d.length?(d[0].copy(o[a.a]),d[1].copy(o[a.b]),d[2].copy(o[a.c])):(d[0]=o[a.a].clone(),d[1]=o[a.b].clone(),d[2]=o[a.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var t,e,i;for(this.computeFaceNormals(),t=0,e=this.faces.length;t<e;t++){i=this.faces[t];var n=i.vertexNormals;3===n.length?(n[0].copy(i.normal),n[1].copy(i.normal),n[2].copy(i.normal)):(n[0]=i.normal.clone(),n[1]=i.normal.clone(),n[2]=i.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var t,e,i,n,r;for(i=0,n=this.faces.length;i<n;i++)for(r=this.faces[i],r.__originalFaceNormal?r.__originalFaceNormal.copy(r.normal):r.__originalFaceNormal=r.normal.clone(),r.__originalVertexNormals||(r.__originalVertexNormals=[]),t=0,e=r.vertexNormals.length;t<e;t++)r.__originalVertexNormals[t]?r.__originalVertexNormals[t].copy(r.vertexNormals[t]):r.__originalVertexNormals[t]=r.vertexNormals[t].clone();var a=new St;for(a.faces=this.faces,t=0,e=this.morphTargets.length;t<e;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];var o,s,c=this.morphNormals[t].faceNormals,l=this.morphNormals[t].vertexNormals;for(i=0,n=this.faces.length;i<n;i++)o=new h,s={a:new h,b:new h,c:new h},c.push(o),l.push(s)}var u=this.morphNormals[t];a.vertices=this.morphTargets[t].vertices,a.computeFaceNormals(),a.computeVertexNormals();var o,s;for(i=0,n=this.faces.length;i<n;i++)r=this.faces[i],o=u.faceNormals[i],s=u.vertexNormals[i],o.copy(r.normal),s.a.copy(r.vertexNormals[0]),s.b.copy(r.vertexNormals[1]),s.c.copy(r.vertexNormals[2])}for(i=0,n=this.faces.length;i<n;i++)r=this.faces[i],r.normal=r.__originalFaceNormal,r.vertexNormals=r.__originalVertexNormals},computeTangents:function(){console.warn(\\\"THREE.Geometry: .computeTangents() has been removed.\\\")},computeLineDistances:function(){for(var t=0,e=this.vertices,i=0,n=e.length;i<n;i++)i>0&&(t+=e[i].distanceTo(e[i-1])),this.lineDistances[i]=t},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new tt),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new et),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e,i){if((t&&t.isGeometry)===!1)return void console.error(\\\"THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.\\\",t);var n,r=this.vertices.length,a=this.vertices,o=t.vertices,s=this.faces,c=t.faces,h=this.faceVertexUvs[0],l=t.faceVertexUvs[0],u=this.colors,p=t.colors;void 0===i&&(i=0),void 0!==e&&(n=(new it).getNormalMatrix(e));for(var d=0,f=o.length;d<f;d++){var m=o[d],v=m.clone();void 0!==e&&v.applyMatrix4(e),a.push(v)}for(var d=0,f=p.length;d<f;d++)u.push(p[d].clone());for(d=0,f=c.length;d<f;d++){var g,y,x,_=c[d],b=_.vertexNormals,w=_.vertexColors;g=new dt(_.a+r,_.b+r,_.c+r),g.normal.copy(_.normal),void 0!==n&&g.normal.applyMatrix3(n).normalize();for(var M=0,E=b.length;M<E;M++)y=b[M].clone(),void 0!==n&&y.applyMatrix3(n).normalize(),g.vertexNormals.push(y);g.color.copy(_.color);for(var M=0,E=w.length;M<E;M++)x=w[M],g.vertexColors.push(x.clone());g.materialIndex=_.materialIndex+i,s.push(g)}for(d=0,f=l.length;d<f;d++){var T=l[d],S=[];if(void 0!==T){for(var M=0,E=T.length;M<E;M++)S.push(T[M].clone());h.push(S)}}},mergeMesh:function(t){return(t&&t.isMesh)===!1?void console.error(\\\"THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.\\\",t):(t.matrixAutoUpdate&&t.updateMatrix(),void this.merge(t.geometry,t.matrix))},mergeVertices:function(){var t,e,i,n,r,a,o,s,c={},h=[],l=[],u=4,p=Math.pow(10,u);for(i=0,n=this.vertices.length;i<n;i++)t=this.vertices[i],e=Math.round(t.x*p)+\\\"_\\\"+Math.round(t.y*p)+\\\"_\\\"+Math.round(t.z*p),void 0===c[e]?(c[e]=i,h.push(this.vertices[i]),l[i]=h.length-1):l[i]=l[c[e]];var d=[];for(i=0,n=this.faces.length;i<n;i++){r=this.faces[i],r.a=l[r.a],r.b=l[r.b],r.c=l[r.c],a=[r.a,r.b,r.c];for(var f=-1,m=0;m<3;m++)if(a[m]===a[(m+1)%3]){f=m,d.push(i);break}}for(i=d.length-1;i>=0;i--){var v=d[i];for(this.faces.splice(v,1),o=0,s=this.faceVertexUvs.length;o<s;o++)this.faceVertexUvs[o].splice(v,1)}var g=this.vertices.length-h.length;return this.vertices=h,g},sortFacesByMaterialIndex:function(){function t(t,e){return t.materialIndex-e.materialIndex}for(var e=this.faces,i=e.length,n=0;n<i;n++)e[n]._id=n;e.sort(t);var r,a,o=this.faceVertexUvs[0],s=this.faceVertexUvs[1];o&&o.length===i&&(r=[]),s&&s.length===i&&(a=[]);for(var n=0;n<i;n++){var c=e[n]._id;r&&r.push(o[c]),a&&a.push(s[c])}r&&(this.faceVertexUvs[0]=r),a&&(this.faceVertexUvs[1]=a)},toJSON:function(){function t(t,e,i){return i?t|1<<e:t&~(1<<e)}function e(t){var e=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==p[e]?p[e]:(p[e]=u.length/3,u.push(t.x,t.y,t.z),p[e])}function i(t){var e=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==f[e]?f[e]:(f[e]=d.length,d.push(t.getHex()),f[e])}function n(t){var e=t.x.toString()+t.y.toString();return void 0!==v[e]?v[e]:(v[e]=m.length/2,m.push(t.x,t.y),v[e])}var r={metadata:{version:4.4,type:\\\"Geometry\\\",generator:\\\"Geometry.toJSON\\\"}};if(r.uuid=this.uuid,r.type=this.type,\\\"\\\"!==this.name&&(r.name=this.name),void 0!==this.parameters){var a=this.parameters;for(var o in a)void 0!==a[o]&&(r[o]=a[o]);return r}for(var s=[],c=0;c<this.vertices.length;c++){var h=this.vertices[c];s.push(h.x,h.y,h.z)}for(var l=[],u=[],p={},d=[],f={},m=[],v={},c=0;c<this.faces.length;c++){var g=this.faces[c],y=!0,x=!1,_=void 0!==this.faceVertexUvs[0][c],b=g.normal.length()>0,w=g.vertexNormals.length>0,M=1!==g.color.r||1!==g.color.g||1!==g.color.b,E=g.vertexColors.length>0,T=0;if(T=t(T,0,0),T=t(T,1,y),T=t(T,2,x),T=t(T,3,_),T=t(T,4,b),T=t(T,5,w),T=t(T,6,M),T=t(T,7,E),l.push(T),l.push(g.a,g.b,g.c),l.push(g.materialIndex),_){var S=this.faceVertexUvs[0][c];l.push(n(S[0]),n(S[1]),n(S[2]))}if(b&&l.push(e(g.normal)),w){var A=g.vertexNormals;l.push(e(A[0]),e(A[1]),e(A[2]))}if(M&&l.push(i(g.color)),E){var L=g.vertexColors;l.push(i(L[0]),i(L[1]),i(L[2]))}}return r.data={},r.data.vertices=s,r.data.normals=u,d.length>0&&(r.data.colors=d),m.length>0&&(r.data.uvs=[m]),r.data.faces=l,r},clone:function(){return(new St).copy(this)},copy:function(t){this.vertices=[],this.faces=[],this.faceVertexUvs=[[]],this.colors=[];for(var e=t.vertices,i=0,n=e.length;i<n;i++)this.vertices.push(e[i].clone());for(var r=t.colors,i=0,n=r.length;i<n;i++)this.colors.push(r[i].clone());\\nfor(var a=t.faces,i=0,n=a.length;i<n;i++)this.faces.push(a[i].clone());for(var i=0,n=t.faceVertexUvs.length;i<n;i++){var o=t.faceVertexUvs[i];void 0===this.faceVertexUvs[i]&&(this.faceVertexUvs[i]=[]);for(var s=0,c=o.length;s<c;s++){for(var h=o[s],l=[],u=0,p=h.length;u<p;u++){var d=h[u];l.push(d.clone())}this.faceVertexUvs[i].push(l)}}return this},dispose:function(){this.dispatchEvent({type:\\\"dispose\\\"})}});var qc=0;Object.assign(Lt.prototype,e.prototype,{computeBoundingBox:St.prototype.computeBoundingBox,computeBoundingSphere:St.prototype.computeBoundingSphere,computeFaceNormals:function(){console.warn(\\\"THREE.DirectGeometry: computeFaceNormals() is not a method of this type of geometry.\\\")},computeVertexNormals:function(){console.warn(\\\"THREE.DirectGeometry: computeVertexNormals() is not a method of this type of geometry.\\\")},computeGroups:function(t){for(var e,i,n=[],r=t.faces,a=0;a<r.length;a++){var o=r[a];o.materialIndex!==i&&(i=o.materialIndex,void 0!==e&&(e.count=3*a-e.start,n.push(e)),e={start:3*a,materialIndex:i})}void 0!==e&&(e.count=3*a-e.start,n.push(e)),this.groups=n},fromGeometry:function(t){var e,n=t.faces,r=t.vertices,a=t.faceVertexUvs,o=a[0]&&a[0].length>0,s=a[1]&&a[1].length>0,c=t.morphTargets,h=c.length;if(h>0){e=[];for(var l=0;l<h;l++)e[l]=[];this.morphTargets.position=e}var u,p=t.morphNormals,d=p.length;if(d>0){u=[];for(var l=0;l<d;l++)u[l]=[];this.morphTargets.normal=u}for(var f=t.skinIndices,m=t.skinWeights,v=f.length===r.length,g=m.length===r.length,l=0;l<n.length;l++){var y=n[l];this.vertices.push(r[y.a],r[y.b],r[y.c]);var x=y.vertexNormals;if(3===x.length)this.normals.push(x[0],x[1],x[2]);else{var _=y.normal;this.normals.push(_,_,_)}var b=y.vertexColors;if(3===b.length)this.colors.push(b[0],b[1],b[2]);else{var w=y.color;this.colors.push(w,w,w)}if(o===!0){var M=a[0][l];void 0!==M?this.uvs.push(M[0],M[1],M[2]):(console.warn(\\\"THREE.DirectGeometry.fromGeometry(): Undefined vertexUv \\\",l),this.uvs.push(new i,new i,new i))}if(s===!0){var M=a[1][l];void 0!==M?this.uvs2.push(M[0],M[1],M[2]):(console.warn(\\\"THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 \\\",l),this.uvs2.push(new i,new i,new i))}for(var E=0;E<h;E++){var T=c[E].vertices;e[E].push(T[y.a],T[y.b],T[y.c])}for(var E=0;E<d;E++){var S=p[E].vertexNormals[l];u[E].push(S.a,S.b,S.c)}v&&this.skinIndices.push(f[y.a],f[y.b],f[y.c]),g&&this.skinWeights.push(m[y.a],m[y.b],m[y.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:\\\"dispose\\\"})}}),Object.assign(Rt.prototype,e.prototype,{isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){this.index=t},addAttribute:function(t,e){return(e&&e.isBufferAttribute)===!1&&(e&&e.isInterleavedBufferAttribute)===!1?(console.warn(\\\"THREE.BufferGeometry: .addAttribute() now expects ( name, attribute ).\\\"),void this.addAttribute(t,new mt(arguments[1],arguments[2]))):\\\"index\\\"===t?(console.warn(\\\"THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute.\\\"),void this.setIndex(e)):(this.attributes[t]=e,this)},getAttribute:function(t){return this.attributes[t]},removeAttribute:function(t){return delete this.attributes[t],this},addGroup:function(t,e,i){this.groups.push({start:t,count:e,materialIndex:void 0!==i?i:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix:function(t){var e=this.attributes.position;void 0!==e&&(t.applyToVector3Array(e.array),e.needsUpdate=!0);var i=this.attributes.normal;if(void 0!==i){var n=(new it).getNormalMatrix(t);n.applyToVector3Array(i.array),i.needsUpdate=!0}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var t;return function(e){return void 0===t&&(t=new l),t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t;return function(e){return void 0===t&&(t=new l),t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t;return function(e){return void 0===t&&(t=new l),t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t;return function(e,i,n){return void 0===t&&(t=new l),t.makeTranslation(e,i,n),this.applyMatrix(t),this}}(),scale:function(){var t;return function(e,i,n){return void 0===t&&(t=new l),t.makeScale(e,i,n),this.applyMatrix(t),this}}(),lookAt:function(){var t;return function(e){void 0===t&&(t=new ht),t.lookAt(e),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),center:function(){this.computeBoundingBox();var t=this.boundingBox.getCenter().negate();return this.translate(t.x,t.y,t.z),t},setFromObject:function(t){var e=t.geometry;if(t&&t.isPoints||t&&t.isLine){var i=new Mt(3*e.vertices.length,3),n=new Mt(3*e.colors.length,3);if(this.addAttribute(\\\"position\\\",i.copyVector3sArray(e.vertices)),this.addAttribute(\\\"color\\\",n.copyColorsArray(e.colors)),e.lineDistances&&e.lineDistances.length===e.vertices.length){var r=new Mt(e.lineDistances.length,1);this.addAttribute(\\\"lineDistance\\\",r.copyArray(e.lineDistances))}null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone())}else t&&t.isMesh&&e&&e.isGeometry&&this.fromGeometry(e);return this},updateFromObject:function(t){var e=t.geometry;if(t&&t.isMesh){var i=e.__directGeometry;if(e.elementsNeedUpdate===!0&&(i=void 0,e.elementsNeedUpdate=!1),void 0===i)return this.fromGeometry(e);i.verticesNeedUpdate=e.verticesNeedUpdate,i.normalsNeedUpdate=e.normalsNeedUpdate,i.colorsNeedUpdate=e.colorsNeedUpdate,i.uvsNeedUpdate=e.uvsNeedUpdate,i.groupsNeedUpdate=e.groupsNeedUpdate,e.verticesNeedUpdate=!1,e.normalsNeedUpdate=!1,e.colorsNeedUpdate=!1,e.uvsNeedUpdate=!1,e.groupsNeedUpdate=!1,e=i}var n;return e.verticesNeedUpdate===!0&&(n=this.attributes.position,void 0!==n&&(n.copyVector3sArray(e.vertices),n.needsUpdate=!0),e.verticesNeedUpdate=!1),e.normalsNeedUpdate===!0&&(n=this.attributes.normal,void 0!==n&&(n.copyVector3sArray(e.normals),n.needsUpdate=!0),e.normalsNeedUpdate=!1),e.colorsNeedUpdate===!0&&(n=this.attributes.color,void 0!==n&&(n.copyColorsArray(e.colors),n.needsUpdate=!0),e.colorsNeedUpdate=!1),e.uvsNeedUpdate&&(n=this.attributes.uv,void 0!==n&&(n.copyVector2sArray(e.uvs),n.needsUpdate=!0),e.uvsNeedUpdate=!1),e.lineDistancesNeedUpdate&&(n=this.attributes.lineDistance,void 0!==n&&(n.copyArray(e.lineDistances),n.needsUpdate=!0),e.lineDistancesNeedUpdate=!1),e.groupsNeedUpdate&&(e.computeGroups(t.geometry),this.groups=e.groups,e.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=(new Lt).fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){var e=new Float32Array(3*t.vertices.length);if(this.addAttribute(\\\"position\\\",new mt(e,3).copyVector3sArray(t.vertices)),t.normals.length>0){var i=new Float32Array(3*t.normals.length);this.addAttribute(\\\"normal\\\",new mt(i,3).copyVector3sArray(t.normals))}if(t.colors.length>0){var n=new Float32Array(3*t.colors.length);this.addAttribute(\\\"color\\\",new mt(n,3).copyColorsArray(t.colors))}if(t.uvs.length>0){var r=new Float32Array(2*t.uvs.length);this.addAttribute(\\\"uv\\\",new mt(r,2).copyVector2sArray(t.uvs))}if(t.uvs2.length>0){var a=new Float32Array(2*t.uvs2.length);this.addAttribute(\\\"uv2\\\",new mt(a,2).copyVector2sArray(t.uvs2))}if(t.indices.length>0){var o=t.vertices.length>65535?Uint32Array:Uint16Array,s=new o(3*t.indices.length);this.setIndex(new mt(s,1).copyIndicesArray(t.indices))}this.groups=t.groups;for(var c in t.morphTargets){for(var h=[],l=t.morphTargets[c],u=0,p=l.length;u<p;u++){var d=l[u],f=new Mt(3*d.length,3);h.push(f.copyVector3sArray(d))}this.morphAttributes[c]=h}if(t.skinIndices.length>0){var m=new Mt(4*t.skinIndices.length,4);this.addAttribute(\\\"skinIndex\\\",m.copyVector4sArray(t.skinIndices))}if(t.skinWeights.length>0){var v=new Mt(4*t.skinWeights.length,4);this.addAttribute(\\\"skinWeight\\\",v.copyVector4sArray(t.skinWeights))}return null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new tt);var t=this.attributes.position.array;void 0!==t?this.boundingBox.setFromArray(t):this.boundingBox.makeEmpty(),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The \\\"position\\\" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){var t=new tt,e=new h;return function(){null===this.boundingSphere&&(this.boundingSphere=new et);var i=this.attributes.position;if(i){var n=i.array,r=this.boundingSphere.center;t.setFromArray(n),t.getCenter(r);for(var a=0,o=0,s=n.length;o<s;o+=3)e.fromArray(n,o),a=Math.max(a,r.distanceToSquared(e));this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The \\\"position\\\" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var t=this.index,e=this.attributes,i=this.groups;if(e.position){var n=e.position.array;if(void 0===e.normal)this.addAttribute(\\\"normal\\\",new mt(new Float32Array(n.length),3));else for(var r=e.normal.array,a=0,o=r.length;a<o;a++)r[a]=0;var s,c,l,u=e.normal.array,p=new h,d=new h,f=new h,m=new h,v=new h;if(t){var g=t.array;0===i.length&&this.addGroup(0,g.length);for(var y=0,x=i.length;y<x;++y)for(var _=i[y],b=_.start,w=_.count,a=b,o=b+w;a<o;a+=3)s=3*g[a+0],c=3*g[a+1],l=3*g[a+2],p.fromArray(n,s),d.fromArray(n,c),f.fromArray(n,l),m.subVectors(f,d),v.subVectors(p,d),m.cross(v),u[s]+=m.x,u[s+1]+=m.y,u[s+2]+=m.z,u[c]+=m.x,u[c+1]+=m.y,u[c+2]+=m.z,u[l]+=m.x,u[l+1]+=m.y,u[l+2]+=m.z}else for(var a=0,o=n.length;a<o;a+=9)p.fromArray(n,a),d.fromArray(n,a+3),f.fromArray(n,a+6),m.subVectors(f,d),v.subVectors(p,d),m.cross(v),u[a]=m.x,u[a+1]=m.y,u[a+2]=m.z,u[a+3]=m.x,u[a+4]=m.y,u[a+5]=m.z,u[a+6]=m.x,u[a+7]=m.y,u[a+8]=m.z;this.normalizeNormals(),e.normal.needsUpdate=!0}},merge:function(t,e){if((t&&t.isBufferGeometry)===!1)return void console.error(\\\"THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.\\\",t);void 0===e&&(e=0);var i=this.attributes;for(var n in i)if(void 0!==t.attributes[n])for(var r=i[n],a=r.array,o=t.attributes[n],s=o.array,c=o.itemSize,h=0,l=c*e;h<s.length;h++,l++)a[l]=s[h];return this},normalizeNormals:function(){for(var t,e,i,n,r=this.attributes.normal.array,a=0,o=r.length;a<o;a+=3)t=r[a],e=r[a+1],i=r[a+2],n=1/Math.sqrt(t*t+e*e+i*i),r[a]*=n,r[a+1]*=n,r[a+2]*=n},toNonIndexed:function(){if(null===this.index)return console.warn(\\\"THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed.\\\"),this;var t=new Rt,e=this.index.array,i=this.attributes;for(var n in i){for(var r=i[n],a=r.array,o=r.itemSize,s=new a.constructor(e.length*o),c=0,h=0,l=0,u=e.length;l<u;l++){c=e[l]*o;for(var p=0;p<o;p++)s[h++]=a[c++]}t.addAttribute(n,new mt(s,o))}return t},toJSON:function(){var t={metadata:{version:4.4,type:\\\"BufferGeometry\\\",generator:\\\"BufferGeometry.toJSON\\\"}};if(t.uuid=this.uuid,t.type=this.type,\\\"\\\"!==this.name&&(t.name=this.name),void 0!==this.parameters){var e=this.parameters;for(var i in e)void 0!==e[i]&&(t[i]=e[i]);return t}t.data={attributes:{}};var n=this.index;if(null!==n){var r=Array.prototype.slice.call(n.array);t.data.index={type:n.array.constructor.name,array:r}}var a=this.attributes;for(var i in a){var o=a[i],r=Array.prototype.slice.call(o.array);t.data.attributes[i]={itemSize:o.itemSize,type:o.array.constructor.name,array:r,normalized:o.normalized}}var s=this.groups;s.length>0&&(t.data.groups=JSON.parse(JSON.stringify(s)));var c=this.boundingSphere;return null!==c&&(t.data.boundingSphere={center:c.center.toArray(),radius:c.radius}),t},clone:function(){return(new Rt).copy(this)},copy:function(t){var e=t.index;null!==e&&this.setIndex(e.clone());var i=t.attributes;for(var n in i){var r=i[n];this.addAttribute(n,r.clone())}for(var a=t.groups,o=0,s=a.length;o<s;o++){var c=a[o];this.addGroup(c.start,c.count,c.materialIndex)}return this},dispose:function(){this.dispatchEvent({type:\\\"dispose\\\"})}}),Rt.MaxIndex=65535,Pt.prototype=Object.assign(Object.create(ht.prototype),{constructor:Pt,isMesh:!0,setDrawMode:function(t){this.drawMode=t},copy:function(t){return ht.prototype.copy.call(this,t),this.drawMode=t.drawMode,this},updateMorphTargets:function(){var t=this.geometry.morphTargets;if(void 0!==t&&t.length>0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var e=0,i=t.length;e<i;e++)this.morphTargetInfluences.push(0),this.morphTargetDictionary[t[e].name]=e}},raycast:function(){function t(t,e,i,n,r,a,o){return pt.barycoordFromPoint(t,e,i,n,y),r.multiplyScalar(y.x),a.multiplyScalar(y.y),o.multiplyScalar(y.z),r.add(a).add(o),r.clone()}function e(t,e,i,n,r,a,o){var s,c=t.material;if(s=c.side===Ar?i.intersectTriangle(a,r,n,!0,o):i.intersectTriangle(n,r,a,c.side!==Lr,o),null===s)return null;_.copy(o),_.applyMatrix4(t.matrixWorld);var h=e.ray.origin.distanceTo(_);return h<e.near||h>e.far?null:{distance:h,point:_.clone(),object:t}}function n(i,n,r,a,o,h,l,p){s.fromArray(a,3*h),c.fromArray(a,3*l),u.fromArray(a,3*p);var d=e(i,n,r,s,c,u,x);return d&&(o&&(m.fromArray(o,2*h),v.fromArray(o,2*l),g.fromArray(o,2*p),d.uv=t(x,s,c,u,m,v,g)),d.face=new dt(h,l,p,pt.normal(s,c,u)),d.faceIndex=h),d}var r=new l,a=new ot,o=new et,s=new h,c=new h,u=new h,p=new h,d=new h,f=new h,m=new i,v=new i,g=new i,y=new h,x=new h,_=new h;return function(i,h){var l=this.geometry,y=this.material,_=this.matrixWorld;if(void 0!==y&&(null===l.boundingSphere&&l.computeBoundingSphere(),o.copy(l.boundingSphere),o.applyMatrix4(_),i.ray.intersectsSphere(o)!==!1&&(r.getInverse(_),a.copy(i.ray).applyMatrix4(r),null===l.boundingBox||a.intersectsBox(l.boundingBox)!==!1))){var b,w;if(l&&l.isBufferGeometry){var M,E,T,S=l.index,A=l.attributes,L=A.position.array;if(void 0!==A.uv&&(b=A.uv.array),null!==S)for(var R=S.array,P=0,C=R.length;P<C;P+=3)M=R[P],E=R[P+1],T=R[P+2],w=n(this,i,a,L,b,M,E,T),w&&(w.faceIndex=Math.floor(P/3),h.push(w));else for(var P=0,C=L.length;P<C;P+=9)M=P/3,E=M+1,T=M+2,w=n(this,i,a,L,b,M,E,T),w&&(w.index=M,h.push(w))}else if(l&&l.isGeometry){var I,U,N,D=y&&y.isMultiMaterial,O=D===!0?y.materials:null,F=l.vertices,B=l.faces,z=l.faceVertexUvs[0];z.length>0&&(b=z);for(var G=0,H=B.length;G<H;G++){var V=B[G],k=D===!0?O[V.materialIndex]:y;if(void 0!==k){if(I=F[V.a],U=F[V.b],N=F[V.c],k.morphTargets===!0){var j=l.morphTargets,W=this.morphTargetInfluences;s.set(0,0,0),c.set(0,0,0),u.set(0,0,0);for(var X=0,Y=j.length;X<Y;X++){var q=W[X];if(0!==q){var Z=j[X].vertices;s.addScaledVector(p.subVectors(Z[V.a],I),q),c.addScaledVector(d.subVectors(Z[V.b],U),q),u.addScaledVector(f.subVectors(Z[V.c],N),q)}}s.add(I),c.add(U),u.add(N),I=s,U=c,N=u}if(w=e(this,i,a,I,U,N,x)){if(b){var J=b[G];m.copy(J[0]),v.copy(J[1]),g.copy(J[2]),w.uv=t(x,I,U,N,m,v,g)}w.face=V,w.faceIndex=G,h.push(w)}}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Ct.prototype=Object.create(Rt.prototype),Ct.prototype.constructor=Ct,It.prototype=Object.create(Rt.prototype),It.prototype.constructor=It,Ut.prototype=Object.create(ht.prototype),Ut.prototype.constructor=Ut,Ut.prototype.isCamera=!0,Ut.prototype.getWorldDirection=function(){var t=new c;return function(e){var i=e||new h;return this.getWorldQuaternion(t),i.set(0,0,-1).applyQuaternion(t)}}(),Ut.prototype.lookAt=function(){var t=new l;return function(e){t.lookAt(this.position,e,this.up),this.quaternion.setFromRotationMatrix(t)}}(),Ut.prototype.clone=function(){return(new this.constructor).copy(this)},Ut.prototype.copy=function(t){return ht.prototype.copy.call(this,t),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this},Nt.prototype=Object.assign(Object.create(Ut.prototype),{constructor:Nt,isPerspectiveCamera:!0,copy:function(t){return Ut.prototype.copy.call(this,t),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){var e=.5*this.getFilmHeight()/t;this.fov=2*Fo.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){var t=Math.tan(.5*Fo.DEG2RAD*this.fov);return.5*this.getFilmHeight()/t},getEffectiveFOV:function(){return 2*Fo.RAD2DEG*Math.atan(Math.tan(.5*Fo.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,i,n,r,a){this.aspect=t/e,this.view={fullWidth:t,fullHeight:e,offsetX:i,offsetY:n,width:r,height:a},this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null,this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=this.near,e=t*Math.tan(.5*Fo.DEG2RAD*this.fov)/this.zoom,i=2*e,n=this.aspect*i,r=-.5*n,a=this.view;if(null!==a){var o=a.fullWidth,s=a.fullHeight;r+=a.offsetX*n/o,e-=a.offsetY*i/s,n*=a.width/o,i*=a.height/s}var c=this.filmOffset;0!==c&&(r+=t*c/this.getFilmWidth()),this.projectionMatrix.makeFrustum(r,r+n,e-i,e,t,this.far)},toJSON:function(t){var e=ht.prototype.toJSON.call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}),Dt.prototype=Object.assign(Object.create(Ut.prototype),{constructor:Dt,isOrthographicCamera:!0,copy:function(t){return Ut.prototype.copy.call(this,t),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this},setViewOffset:function(t,e,i,n,r,a){this.view={fullWidth:t,fullHeight:e,offsetX:i,offsetY:n,width:r,height:a},this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null,this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,n=(this.top+this.bottom)/2,r=i-t,a=i+t,o=n+e,s=n-e;if(null!==this.view){var c=this.zoom/(this.view.width/this.view.fullWidth),h=this.zoom/(this.view.height/this.view.fullHeight),l=(this.right-this.left)/this.view.width,u=(this.top-this.bottom)/this.view.height;r+=l*(this.view.offsetX/c),a=r+l*(this.view.width/c),o-=u*(this.view.offsetY/h),s=o-u*(this.view.height/h)}this.projectionMatrix.makeOrthographic(r,a,o,s,this.near,this.far)},toJSON:function(t){var e=ht.prototype.toJSON.call(this,t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}});var Zc=0;he.prototype.isFogExp2=!0,he.prototype.clone=function(){return new he(this.color.getHex(),this.density)},he.prototype.toJSON=function(t){return{type:\\\"FogExp2\\\",color:this.color.getHex(),density:this.density}},le.prototype.isFog=!0,le.prototype.clone=function(){return new le(this.color.getHex(),this.near,this.far)},le.prototype.toJSON=function(t){return{type:\\\"Fog\\\",color:this.color.getHex(),near:this.near,far:this.far}},ue.prototype=Object.create(ht.prototype),ue.prototype.constructor=ue,ue.prototype.copy=function(t,e){return ht.prototype.copy.call(this,t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this},ue.prototype.toJSON=function(t){var e=ht.prototype.toJSON.call(this,t);return null!==this.background&&(e.object.background=this.background.toJSON(t)),null!==this.fog&&(e.object.fog=this.fog.toJSON()),e},pe.prototype=Object.assign(Object.create(ht.prototype),{constructor:pe,isLensFlare:!0,copy:function(t){ht.prototype.copy.call(this,t),this.positionScreen.copy(t.positionScreen),this.customUpdateCallback=t.customUpdateCallback;for(var e=0,i=t.lensFlares.length;e<i;e++)this.lensFlares.push(t.lensFlares[e]);return this},add:function(t,e,i,n,r,a){void 0===e&&(e=-1),void 0===i&&(i=0),void 0===a&&(a=1),void 0===r&&(r=new X(16777215)),void 0===n&&(n=Dr),i=Math.min(i,Math.max(0,i)),this.lensFlares.push({texture:t,size:e,distance:i,x:0,y:0,z:0,scale:1,rotation:0,opacity:a,color:r,blending:n})},updateLensFlares:function(){var t,e,i=this.lensFlares.length,n=2*-this.positionScreen.x,r=2*-this.positionScreen.y;for(t=0;t<i;t++)e=this.lensFlares[t],e.x=this.positionScreen.x+n*e.distance,e.y=this.positionScreen.y+r*e.distance,e.wantedRotation=e.x*Math.PI*.25,e.rotation+=.25*(e.wantedRotation-e.rotation)}}),de.prototype=Object.create(J.prototype),de.prototype.constructor=de,de.prototype.copy=function(t){return J.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.rotation=t.rotation,this},fe.prototype=Object.assign(Object.create(ht.prototype),{constructor:fe,isSprite:!0,raycast:function(){var t=new h;return function(e,i){t.setFromMatrixPosition(this.matrixWorld);var n=e.ray.distanceSqToPoint(t),r=this.scale.x*this.scale.y/4;n>r||i.push({distance:Math.sqrt(n),point:this.position,face:null,object:this})}}(),clone:function(){return new this.constructor(this.material).copy(this)}}),me.prototype=Object.assign(Object.create(ht.prototype),{constructor:me,copy:function(t){ht.prototype.copy.call(this,t,!1);for(var e=t.levels,i=0,n=e.length;i<n;i++){var r=e[i];this.addLevel(r.object.clone(),r.distance)}return this},addLevel:function(t,e){void 0===e&&(e=0),e=Math.abs(e);for(var i=this.levels,n=0;n<i.length&&!(e<i[n].distance);n++);i.splice(n,0,{distance:e,object:t}),this.add(t)},getObjectForDistance:function(t){for(var e=this.levels,i=1,n=e.length;i<n&&!(t<e[i].distance);i++);return e[i-1].object},raycast:function(){var t=new h;return function(e,i){t.setFromMatrixPosition(this.matrixWorld);var n=e.ray.origin.distanceTo(t);this.getObjectForDistance(n).raycast(e,i)}}(),update:function(){var t=new h,e=new h;return function(i){var n=this.levels;if(n.length>1){t.setFromMatrixPosition(i.matrixWorld),e.setFromMatrixPosition(this.matrixWorld);var r=t.distanceTo(e);n[0].object.visible=!0;for(var a=1,o=n.length;a<o&&r>=n[a].distance;a++)n[a-1].object.visible=!1,n[a].object.visible=!0;for(;a<o;a++)n[a].object.visible=!1}}}(),toJSON:function(t){var e=ht.prototype.toJSON.call(this,t);e.object.levels=[];for(var i=this.levels,n=0,r=i.length;n<r;n++){var a=i[n];e.object.levels.push({object:a.object.uuid,distance:a.distance})}return e}}),ve.prototype=Object.create(n.prototype),ve.prototype.constructor=ve,ve.prototype.isDataTexture=!0,Object.assign(ge.prototype,{calculateInverses:function(){this.boneInverses=[];for(var t=0,e=this.bones.length;t<e;t++){var i=new l;this.bones[t]&&i.getInverse(this.bones[t].matrixWorld),this.boneInverses.push(i)}},pose:function(){for(var t,e=0,i=this.bones.length;e<i;e++)t=this.bones[e],t&&t.matrixWorld.getInverse(this.boneInverses[e]);for(var e=0,i=this.bones.length;e<i;e++)t=this.bones[e],t&&(t.parent&&t.parent.isBone?(t.matrix.getInverse(t.parent.matrixWorld),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))},update:function(){var t=new l;return function(){for(var e=0,i=this.bones.length;e<i;e++){var n=this.bones[e]?this.bones[e].matrixWorld:this.identityMatrix;t.multiplyMatrices(n,this.boneInverses[e]),t.toArray(this.boneMatrices,16*e)}this.useVertexTexture&&(this.boneTexture.needsUpdate=!0)}}(),clone:function(){return new ge(this.bones,this.boneInverses,this.useVertexTexture)}}),ye.prototype=Object.assign(Object.create(ht.prototype),{constructor:ye,isBone:!0,copy:function(t){return ht.prototype.copy.call(this,t),this.skin=t.skin,this}}),xe.prototype=Object.assign(Object.create(Pt.prototype),{constructor:xe,isSkinnedMesh:!0,bind:function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.getInverse(e)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){if(this.geometry&&this.geometry.isGeometry)for(var t=0;t<this.geometry.skinWeights.length;t++){var e=this.geometry.skinWeights[t],i=1/e.lengthManhattan();i!==1/0?e.multiplyScalar(i):e.set(1,0,0,0)}else if(this.geometry&&this.geometry.isBufferGeometry)for(var n=new a,r=this.geometry.attributes.skinWeight,t=0;t<r.count;t++){n.x=r.getX(t),n.y=r.getY(t),n.z=r.getZ(t),n.w=r.getW(t);var i=1/n.lengthManhattan();i!==1/0?n.multiplyScalar(i):n.set(1,0,0,0),r.setXYZW(t,n.x,n.y,n.z,n.w)}},updateMatrixWorld:function(t){Pt.prototype.updateMatrixWorld.call(this,!0),\\\"attached\\\"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):\\\"detached\\\"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn(\\\"THREE.SkinnedMesh unrecognized bindMode: \\\"+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material,this.skeleton.useVertexTexture).copy(this)}}),_e.prototype=Object.create(J.prototype),_e.prototype.constructor=_e,_e.prototype.isLineBasicMaterial=!0,_e.prototype.copy=function(t){return J.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this},be.prototype=Object.assign(Object.create(ht.prototype),{constructor:be,isLine:!0,raycast:function(){var t=new l,e=new ot,i=new et;return function(n,r){var a=n.linePrecision,o=a*a,s=this.geometry,c=this.matrixWorld;if(null===s.boundingSphere&&s.computeBoundingSphere(),i.copy(s.boundingSphere),i.applyMatrix4(c),n.ray.intersectsSphere(i)!==!1){t.getInverse(c),e.copy(n.ray).applyMatrix4(t);var l=new h,u=new h,p=new h,d=new h,f=this&&this.isLineSegments?2:1;if(s&&s.isBufferGeometry){var m=s.index,v=s.attributes,g=v.position.array;if(null!==m)for(var y=m.array,x=0,_=y.length-1;x<_;x+=f){var b=y[x],w=y[x+1];l.fromArray(g,3*b),u.fromArray(g,3*w);var M=e.distanceSqToSegment(l,u,d,p);if(!(M>o)){d.applyMatrix4(this.matrixWorld);var E=n.ray.origin.distanceTo(d);E<n.near||E>n.far||r.push({distance:E,point:p.clone().applyMatrix4(this.matrixWorld),index:x,face:null,faceIndex:null,object:this})}}else for(var x=0,_=g.length/3-1;x<_;x+=f){l.fromArray(g,3*x),u.fromArray(g,3*x+3);var M=e.distanceSqToSegment(l,u,d,p);if(!(M>o)){d.applyMatrix4(this.matrixWorld);var E=n.ray.origin.distanceTo(d);E<n.near||E>n.far||r.push({distance:E,point:p.clone().applyMatrix4(this.matrixWorld),index:x,face:null,faceIndex:null,object:this})}}}else if(s&&s.isGeometry)for(var T=s.vertices,S=T.length,x=0;x<S-1;x+=f){var M=e.distanceSqToSegment(T[x],T[x+1],d,p);if(!(M>o)){d.applyMatrix4(this.matrixWorld);var E=n.ray.origin.distanceTo(d);E<n.near||E>n.far||r.push({distance:E,point:p.clone().applyMatrix4(this.matrixWorld),index:x,face:null,faceIndex:null,object:this})}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),we.prototype=Object.assign(Object.create(be.prototype),{constructor:we,isLineSegments:!0}),Me.prototype=Object.create(J.prototype),Me.prototype.constructor=Me,Me.prototype.isPointsMaterial=!0,Me.prototype.copy=function(t){return J.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this},Ee.prototype=Object.assign(Object.create(ht.prototype),{constructor:Ee,isPoints:!0,raycast:function(){var t=new l,e=new ot,i=new et;return function(n,r){function a(t,i){var a=e.distanceSqToPoint(t);if(a<p){var s=e.closestPointToPoint(t);s.applyMatrix4(c);var h=n.ray.origin.distanceTo(s);if(h<n.near||h>n.far)return;r.push({distance:h,distanceToRay:Math.sqrt(a),point:s.clone(),index:i,face:null,object:o})}}var o=this,s=this.geometry,c=this.matrixWorld,l=n.params.Points.threshold;if(null===s.boundingSphere&&s.computeBoundingSphere(),i.copy(s.boundingSphere),i.applyMatrix4(c),n.ray.intersectsSphere(i)!==!1){t.getInverse(c),e.copy(n.ray).applyMatrix4(t);var u=l/((this.scale.x+this.scale.y+this.scale.z)/3),p=u*u,d=new h;if(s&&s.isBufferGeometry){var f=s.index,m=s.attributes,v=m.position.array;if(null!==f)for(var g=f.array,y=0,x=g.length;y<x;y++){var _=g[y];d.fromArray(v,3*_),a(d,_)}else for(var y=0,b=v.length/3;y<b;y++)d.fromArray(v,3*y),a(d,y)}else for(var w=s.vertices,y=0,b=w.length;y<b;y++)a(w[y],y)}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Te.prototype=Object.assign(Object.create(ht.prototype),{constructor:Te}),Se.prototype=Object.create(n.prototype),Se.prototype.constructor=Se,Ae.prototype=Object.create(n.prototype),Ae.prototype.constructor=Ae,Ae.prototype.isCompressedTexture=!0,Le.prototype=Object.create(n.prototype),Le.prototype.constructor=Le,Re.prototype=Object.create(n.prototype),Re.prototype.constructor=Re,Re.prototype.isDepthTexture=!0,Pe.prototype=Object.create(Rt.prototype),Pe.prototype.constructor=Pe,Ce.prototype=Object.create(Rt.prototype),Ce.prototype.constructor=Ce,Ie.prototype=Object.create(St.prototype),Ie.prototype.constructor=Ie,Ue.prototype=Object.create(Rt.prototype),Ue.prototype.constructor=Ue,Ne.prototype=Object.create(Ue.prototype),Ne.prototype.constructor=Ne,De.prototype=Object.create(St.prototype),De.prototype.constructor=De,Oe.prototype=Object.create(Ue.prototype),Oe.prototype.constructor=Oe,Fe.prototype=Object.create(St.prototype),Fe.prototype.constructor=Fe,Be.prototype=Object.create(Ue.prototype),Be.prototype.constructor=Be,ze.prototype=Object.create(St.prototype),ze.prototype.constructor=ze,Ge.prototype=Object.create(Ue.prototype),Ge.prototype.constructor=Ge,He.prototype=Object.create(St.prototype),He.prototype.constructor=He,Ve.prototype=Object.create(St.prototype),Ve.prototype.constructor=Ve,ke.prototype=Object.create(Rt.prototype),ke.prototype.constructor=ke,je.prototype=Object.create(St.prototype),je.prototype.constructor=je,We.prototype=Object.create(Rt.prototype),We.prototype.constructor=We,Xe.prototype=Object.create(St.prototype),Xe.prototype.constructor=Xe,Ye.prototype=Object.create(Rt.prototype),Ye.prototype.constructor=Ye,qe.prototype=Object.create(St.prototype),qe.prototype.constructor=qe;var Jc={area:function(t){for(var e=t.length,i=0,n=e-1,r=0;r<e;n=r++)i+=t[n].x*t[r].y-t[r].x*t[n].y;return.5*i},triangulate:function(){function t(t,e,i,n,r,a){var o,s,c,h,l,u,p,d,f;if(s=t[a[e]].x,c=t[a[e]].y,h=t[a[i]].x,l=t[a[i]].y,u=t[a[n]].x,p=t[a[n]].y,(h-s)*(p-c)-(l-c)*(u-s)<=0)return!1;var m,v,g,y,x,_,b,w,M,E,T,S,A,L,R;for(m=u-h,v=p-l,g=s-u,y=c-p,x=h-s,_=l-c,o=0;o<r;o++)if(d=t[a[o]].x,f=t[a[o]].y,!(d===s&&f===c||d===h&&f===l||d===u&&f===p)&&(b=d-s,w=f-c,M=d-h,E=f-l,T=d-u,S=f-p,R=m*E-v*M,A=x*w-_*b,L=g*S-y*T,R>=-Number.EPSILON&&L>=-Number.EPSILON&&A>=-Number.EPSILON))return!1;return!0}return function(e,i){var n=e.length;if(n<3)return null;var r,a,o,s=[],c=[],h=[];if(Jc.area(e)>0)for(a=0;a<n;a++)c[a]=a;else for(a=0;a<n;a++)c[a]=n-1-a;var l=n,u=2*l;for(a=l-1;l>2;){if(u--<=0)return console.warn(\\\"THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()\\\"),i?h:s;if(r=a,l<=r&&(r=0),a=r+1,l<=a&&(a=0),o=a+1,l<=o&&(o=0),t(e,r,a,o,l,c)){var p,d,f,m,v;for(p=c[r],d=c[a],f=c[o],s.push([e[p],e[d],e[f]]),h.push([c[r],c[a],c[o]]),m=a,v=a+1;v<l;m++,v++)c[m]=c[v];l--,u=2*l}}return i?h:s}}(),triangulateShape:function(t,e){function i(t){var e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function n(t,e,i){return t.x!==e.x?t.x<e.x?t.x<=i.x&&i.x<=e.x:e.x<=i.x&&i.x<=t.x:t.y<e.y?t.y<=i.y&&i.y<=e.y:e.y<=i.y&&i.y<=t.y}function r(t,e,i,r,a){var o=e.x-t.x,s=e.y-t.y,c=r.x-i.x,h=r.y-i.y,l=t.x-i.x,u=t.y-i.y,p=s*c-o*h,d=s*l-o*u;\\nif(Math.abs(p)>Number.EPSILON){var f;if(p>0){if(d<0||d>p)return[];if(f=h*l-c*u,f<0||f>p)return[]}else{if(d>0||d<p)return[];if(f=h*l-c*u,f>0||f<p)return[]}if(0===f)return!a||0!==d&&d!==p?[t]:[];if(f===p)return!a||0!==d&&d!==p?[e]:[];if(0===d)return[i];if(d===p)return[r];var m=f/p;return[{x:t.x+m*o,y:t.y+m*s}]}if(0!==d||h*l!==c*u)return[];var v=0===o&&0===s,g=0===c&&0===h;if(v&&g)return t.x!==i.x||t.y!==i.y?[]:[t];if(v)return n(i,r,t)?[t]:[];if(g)return n(t,e,i)?[i]:[];var y,x,_,b,w,M,E,T;return 0!==o?(t.x<e.x?(y=t,_=t.x,x=e,b=e.x):(y=e,_=e.x,x=t,b=t.x),i.x<r.x?(w=i,E=i.x,M=r,T=r.x):(w=r,E=r.x,M=i,T=i.x)):(t.y<e.y?(y=t,_=t.y,x=e,b=e.y):(y=e,_=e.y,x=t,b=t.y),i.y<r.y?(w=i,E=i.y,M=r,T=r.y):(w=r,E=r.y,M=i,T=i.y)),_<=E?b<E?[]:b===E?a?[]:[w]:b<=T?[w,x]:[w,M]:_>T?[]:_===T?a?[]:[y]:b<=T?[y,x]:[y,M]}function a(t,e,i,n){var r=e.x-t.x,a=e.y-t.y,o=i.x-t.x,s=i.y-t.y,c=n.x-t.x,h=n.y-t.y,l=r*s-a*o,u=r*h-a*c;if(Math.abs(l)>Number.EPSILON){var p=c*s-h*o;return l>0?u>=0&&p>=0:u>=0||p>=0}return u>0}function o(t,e){function i(t,e){var i=y.length-1,n=t-1;n<0&&(n=i);var r=t+1;r>i&&(r=0);var o=a(y[t],y[n],y[r],s[e]);if(!o)return!1;var c=s.length-1,h=e-1;h<0&&(h=c);var l=e+1;return l>c&&(l=0),o=a(s[e],s[h],s[l],y[t]),!!o}function n(t,e){var i,n,a;for(i=0;i<y.length;i++)if(n=i+1,n%=y.length,a=r(t,e,y[i],y[n],!0),a.length>0)return!0;return!1}function o(t,i){var n,a,o,s,c;for(n=0;n<x.length;n++)for(a=e[x[n]],o=0;o<a.length;o++)if(s=o+1,s%=a.length,c=r(t,i,a[o],a[s],!0),c.length>0)return!0;return!1}for(var s,c,h,l,u,p,d,f,m,v,g,y=t.concat(),x=[],_=[],b=0,w=e.length;b<w;b++)x.push(b);for(var M=0,E=2*x.length;x.length>0;){if(E--,E<0){console.log(\\\"Infinite Loop! Holes left:\\\"+x.length+\\\", Probably Hole outside Shape!\\\");break}for(h=M;h<y.length;h++){l=y[h],c=-1;for(var b=0;b<x.length;b++)if(p=x[b],d=l.x+\\\":\\\"+l.y+\\\":\\\"+p,void 0===_[d]){s=e[p];for(var T=0;T<s.length;T++)if(u=s[T],i(h,T)&&!n(l,u)&&!o(l,u)){c=T,x.splice(b,1),f=y.slice(0,h+1),m=y.slice(h),v=s.slice(c),g=s.slice(0,c+1),y=f.concat(v).concat(g).concat(m),M=h;break}if(c>=0)break;_[d]=!0}if(c>=0)break}}return y}i(t),e.forEach(i);for(var s,c,h,l,u,p,d={},f=t.concat(),m=0,v=e.length;m<v;m++)Array.prototype.push.apply(f,e[m]);for(s=0,c=f.length;s<c;s++)u=f[s].x+\\\":\\\"+f[s].y,void 0!==d[u]&&console.warn(\\\"THREE.ShapeUtils: Duplicate point\\\",u,s),d[u]=s;var g=o(t,e),y=Jc.triangulate(g,!1);for(s=0,c=y.length;s<c;s++)for(l=y[s],h=0;h<3;h++)u=l[h].x+\\\":\\\"+l[h].y,p=d[u],void 0!==p&&(l[h]=p);return y.concat()},isClockWise:function(t){return Jc.area(t)<0},b2:function(){function t(t,e){var i=1-t;return i*i*e}function e(t,e){return 2*(1-t)*t*e}function i(t,e){return t*t*e}return function(n,r,a,o){return t(n,r)+e(n,a)+i(n,o)}}(),b3:function(){function t(t,e){var i=1-t;return i*i*i*e}function e(t,e){var i=1-t;return 3*i*i*t*e}function i(t,e){var i=1-t;return 3*i*t*t*e}function n(t,e){return t*t*t*e}return function(r,a,o,s,c){return t(r,a)+e(r,o)+i(r,s)+n(r,c)}}()};Ze.prototype=Object.create(St.prototype),Ze.prototype.constructor=Ze,Ze.prototype.addShapeList=function(t,e){for(var i=t.length,n=0;n<i;n++){var r=t[n];this.addShape(r,e)}},Ze.prototype.addShape=function(t,e){function n(t,e,i){return e||console.error(\\\"THREE.ExtrudeGeometry: vec does not exist\\\"),e.clone().multiplyScalar(i).add(t)}function r(t,e,n){var r,a,o=1,s=t.x-e.x,c=t.y-e.y,h=n.x-t.x,l=n.y-t.y,u=s*s+c*c,p=s*l-c*h;if(Math.abs(p)>Number.EPSILON){var d=Math.sqrt(u),f=Math.sqrt(h*h+l*l),m=e.x-c/d,v=e.y+s/d,g=n.x-l/f,y=n.y+h/f,x=((g-m)*l-(y-v)*h)/(s*l-c*h);r=m+s*x-t.x,a=v+c*x-t.y;var _=r*r+a*a;if(_<=2)return new i(r,a);o=Math.sqrt(_/2)}else{var b=!1;s>Number.EPSILON?h>Number.EPSILON&&(b=!0):s<-Number.EPSILON?h<-Number.EPSILON&&(b=!0):Math.sign(c)===Math.sign(l)&&(b=!0),b?(r=-c,a=s,o=Math.sqrt(u)):(r=s,a=c,o=Math.sqrt(u/2))}return new i(r/o,a/o)}function a(){if(b){var t=0,e=j*t;for(Y=0;Y<W;Y++)k=O[Y],l(k[2]+e,k[1]+e,k[0]+e);for(t=M+2*_,e=j*t,Y=0;Y<W;Y++)k=O[Y],l(k[0]+e,k[1]+e,k[2]+e)}else{for(Y=0;Y<W;Y++)k=O[Y],l(k[2],k[1],k[0]);for(Y=0;Y<W;Y++)k=O[Y],l(k[0]+j*M,k[1]+j*M,k[2]+j*M)}}function o(){var t=0;for(s(F,t),t+=F.length,L=0,R=N.length;L<R;L++)A=N[L],s(A,t),t+=A.length}function s(t,e){var i,n;for(Y=t.length;--Y>=0;){i=Y,n=Y-1,n<0&&(n=t.length-1);var r=0,a=M+2*_;for(r=0;r<a;r++){var o=j*r,s=j*(r+1),c=e+i+o,h=e+n+o,l=e+n+s,p=e+i+s;u(c,h,l,p,t,r,a,i,n)}}}function c(t,e,i){P.vertices.push(new h(t,e,i))}function l(t,e,i){t+=C,e+=C,i+=C,P.faces.push(new dt(t,e,i,null,null,0));var n=S.generateTopUV(P,t,e,i);P.faceVertexUvs[0].push(n)}function u(t,e,i,n,r,a,o,s,c){t+=C,e+=C,i+=C,n+=C,P.faces.push(new dt(t,e,n,null,null,1)),P.faces.push(new dt(e,i,n,null,null,1));var h=S.generateSideWallUV(P,t,e,i,n);P.faceVertexUvs[0].push([h[0],h[1],h[3]]),P.faceVertexUvs[0].push([h[1],h[2],h[3]])}var p,d,f,m,v,g=void 0!==e.amount?e.amount:100,y=void 0!==e.bevelThickness?e.bevelThickness:6,x=void 0!==e.bevelSize?e.bevelSize:y-2,_=void 0!==e.bevelSegments?e.bevelSegments:3,b=void 0===e.bevelEnabled||e.bevelEnabled,w=void 0!==e.curveSegments?e.curveSegments:12,M=void 0!==e.steps?e.steps:1,E=e.extrudePath,T=!1,S=void 0!==e.UVGenerator?e.UVGenerator:Ze.WorldUVGenerator;E&&(p=E.getSpacedPoints(M),T=!0,b=!1,d=void 0!==e.frames?e.frames:E.computeFrenetFrames(M,!1),f=new h,m=new h,v=new h),b||(_=0,y=0,x=0);var A,L,R,P=this,C=this.vertices.length,I=t.extractPoints(w),U=I.shape,N=I.holes,D=!Jc.isClockWise(U);if(D){for(U=U.reverse(),L=0,R=N.length;L<R;L++)A=N[L],Jc.isClockWise(A)&&(N[L]=A.reverse());D=!1}var O=Jc.triangulateShape(U,N),F=U;for(L=0,R=N.length;L<R;L++)A=N[L],U=U.concat(A);for(var B,z,G,H,V,k,j=U.length,W=O.length,X=[],Y=0,q=F.length,Z=q-1,J=Y+1;Y<q;Y++,Z++,J++)Z===q&&(Z=0),J===q&&(J=0),X[Y]=r(F[Y],F[Z],F[J]);var Q,K=[],$=X.concat();for(L=0,R=N.length;L<R;L++){for(A=N[L],Q=[],Y=0,q=A.length,Z=q-1,J=Y+1;Y<q;Y++,Z++,J++)Z===q&&(Z=0),J===q&&(J=0),Q[Y]=r(A[Y],A[Z],A[J]);K.push(Q),$=$.concat(Q)}for(B=0;B<_;B++){for(G=B/_,H=y*Math.cos(G*Math.PI/2),z=x*Math.sin(G*Math.PI/2),Y=0,q=F.length;Y<q;Y++)V=n(F[Y],X[Y],z),c(V.x,V.y,-H);for(L=0,R=N.length;L<R;L++)for(A=N[L],Q=K[L],Y=0,q=A.length;Y<q;Y++)V=n(A[Y],Q[Y],z),c(V.x,V.y,-H)}for(z=x,Y=0;Y<j;Y++)V=b?n(U[Y],$[Y],z):U[Y],T?(m.copy(d.normals[0]).multiplyScalar(V.x),f.copy(d.binormals[0]).multiplyScalar(V.y),v.copy(p[0]).add(m).add(f),c(v.x,v.y,v.z)):c(V.x,V.y,0);var tt;for(tt=1;tt<=M;tt++)for(Y=0;Y<j;Y++)V=b?n(U[Y],$[Y],z):U[Y],T?(m.copy(d.normals[tt]).multiplyScalar(V.x),f.copy(d.binormals[tt]).multiplyScalar(V.y),v.copy(p[tt]).add(m).add(f),c(v.x,v.y,v.z)):c(V.x,V.y,g/M*tt);for(B=_-1;B>=0;B--){for(G=B/_,H=y*Math.cos(G*Math.PI/2),z=x*Math.sin(G*Math.PI/2),Y=0,q=F.length;Y<q;Y++)V=n(F[Y],X[Y],z),c(V.x,V.y,g+H);for(L=0,R=N.length;L<R;L++)for(A=N[L],Q=K[L],Y=0,q=A.length;Y<q;Y++)V=n(A[Y],Q[Y],z),T?c(V.x,V.y+p[M-1].y,p[M-1].x+H):c(V.x,V.y,g+H)}a(),o()},Ze.WorldUVGenerator={generateTopUV:function(t,e,n,r){var a=t.vertices,o=a[e],s=a[n],c=a[r];return[new i(o.x,o.y),new i(s.x,s.y),new i(c.x,c.y)]},generateSideWallUV:function(t,e,n,r,a){var o=t.vertices,s=o[e],c=o[n],h=o[r],l=o[a];return Math.abs(s.y-c.y)<.01?[new i(s.x,1-s.z),new i(c.x,1-c.z),new i(h.x,1-h.z),new i(l.x,1-l.z)]:[new i(s.y,1-s.z),new i(c.y,1-c.z),new i(h.y,1-h.z),new i(l.y,1-l.z)]}},Je.prototype=Object.create(Ze.prototype),Je.prototype.constructor=Je,Qe.prototype=Object.create(Rt.prototype),Qe.prototype.constructor=Qe,Ke.prototype=Object.create(St.prototype),Ke.prototype.constructor=Ke,$e.prototype=Object.create(Rt.prototype),$e.prototype.constructor=$e,ti.prototype=Object.create(St.prototype),ti.prototype.constructor=ti,ei.prototype=Object.create(St.prototype),ei.prototype.constructor=ei,ii.prototype=Object.create(Rt.prototype),ii.prototype.constructor=ii,ni.prototype=Object.create(St.prototype),ni.prototype.constructor=ni,ri.prototype=Object.create(St.prototype),ri.prototype.constructor=ri,ri.prototype.addShapeList=function(t,e){for(var i=0,n=t.length;i<n;i++)this.addShape(t[i],e);return this},ri.prototype.addShape=function(t,e){void 0===e&&(e={});var i,n,r,a=void 0!==e.curveSegments?e.curveSegments:12,o=e.material,s=void 0===e.UVGenerator?Ze.WorldUVGenerator:e.UVGenerator,c=this.vertices.length,l=t.extractPoints(a),u=l.shape,p=l.holes,d=!Jc.isClockWise(u);if(d){for(u=u.reverse(),i=0,n=p.length;i<n;i++)r=p[i],Jc.isClockWise(r)&&(p[i]=r.reverse());d=!1}var f=Jc.triangulateShape(u,p);for(i=0,n=p.length;i<n;i++)r=p[i],u=u.concat(r);var m,v,g=u.length,y=f.length;for(i=0;i<g;i++)m=u[i],this.vertices.push(new h(m.x,m.y,0));for(i=0;i<y;i++){v=f[i];var x=v[0]+c,_=v[1]+c,b=v[2]+c;this.faces.push(new dt(x,_,b,null,null,o)),this.faceVertexUvs[0].push(s.generateTopUV(this,x,_,b))}},ai.prototype=Object.create(Rt.prototype),ai.prototype.constructor=ai,oi.prototype=Object.create(Rt.prototype),oi.prototype.constructor=oi,si.prototype=Object.create(St.prototype),si.prototype.constructor=si,ci.prototype=Object.create(si.prototype),ci.prototype.constructor=ci,hi.prototype=Object.create(oi.prototype),hi.prototype.constructor=hi,li.prototype=Object.create(Rt.prototype),li.prototype.constructor=li,ui.prototype=Object.create(St.prototype),ui.prototype.constructor=ui,pi.prototype=Object.create(St.prototype),pi.prototype.constructor=pi;var Qc=Object.freeze({WireframeGeometry:Pe,ParametricGeometry:Ie,ParametricBufferGeometry:Ce,TetrahedronGeometry:De,TetrahedronBufferGeometry:Ne,OctahedronGeometry:Fe,OctahedronBufferGeometry:Oe,IcosahedronGeometry:ze,IcosahedronBufferGeometry:Be,DodecahedronGeometry:He,DodecahedronBufferGeometry:Ge,PolyhedronGeometry:Ve,PolyhedronBufferGeometry:Ue,TubeGeometry:je,TubeBufferGeometry:ke,TorusKnotGeometry:Xe,TorusKnotBufferGeometry:We,TorusGeometry:qe,TorusBufferGeometry:Ye,TextGeometry:Je,SphereBufferGeometry:Qe,SphereGeometry:Ke,RingGeometry:ti,RingBufferGeometry:$e,PlaneBufferGeometry:It,PlaneGeometry:ei,LatheGeometry:ni,LatheBufferGeometry:ii,ShapeGeometry:ri,ExtrudeGeometry:Ze,EdgesGeometry:ai,ConeGeometry:ci,ConeBufferGeometry:hi,CylinderGeometry:si,CylinderBufferGeometry:oi,CircleBufferGeometry:li,CircleGeometry:ui,BoxBufferGeometry:Ct,BoxGeometry:pi});di.prototype=Object.create(K.prototype),di.prototype.constructor=di,di.prototype.isShadowMaterial=!0,fi.prototype=Object.create(K.prototype),fi.prototype.constructor=fi,fi.prototype.isRawShaderMaterial=!0,mi.prototype={constructor:mi,isMultiMaterial:!0,toJSON:function(t){for(var e={metadata:{version:4.2,type:\\\"material\\\",generator:\\\"MaterialExporter\\\"},uuid:this.uuid,type:this.type,materials:[]},i=this.materials,n=0,r=i.length;n<r;n++){var a=i[n].toJSON(t);delete a.metadata,e.materials.push(a)}return e.visible=this.visible,e},clone:function(){for(var t=new this.constructor,e=0;e<this.materials.length;e++)t.materials.push(this.materials[e].clone());return t.visible=this.visible,t}},vi.prototype=Object.create(J.prototype),vi.prototype.constructor=vi,vi.prototype.isMeshStandardMaterial=!0,vi.prototype.copy=function(t){return J.prototype.copy.call(this,t),this.defines={STANDARD:\\\"\\\"},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},gi.prototype=Object.create(vi.prototype),gi.prototype.constructor=gi,gi.prototype.isMeshPhysicalMaterial=!0,gi.prototype.copy=function(t){return vi.prototype.copy.call(this,t),this.defines={PHYSICAL:\\\"\\\"},this.reflectivity=t.reflectivity,this.clearCoat=t.clearCoat,this.clearCoatRoughness=t.clearCoatRoughness,this},yi.prototype=Object.create(J.prototype),yi.prototype.constructor=yi,yi.prototype.isMeshPhongMaterial=!0,yi.prototype.copy=function(t){return J.prototype.copy.call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},xi.prototype=Object.create(J.prototype),xi.prototype.constructor=xi,xi.prototype.isMeshNormalMaterial=!0,xi.prototype.copy=function(t){return J.prototype.copy.call(this,t),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},_i.prototype=Object.create(J.prototype),_i.prototype.constructor=_i,_i.prototype.isMeshLambertMaterial=!0,_i.prototype.copy=function(t){return J.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},bi.prototype=Object.create(J.prototype),bi.prototype.constructor=bi,bi.prototype.isLineDashedMaterial=!0,bi.prototype.copy=function(t){return J.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this};var Kc=Object.freeze({ShadowMaterial:di,SpriteMaterial:de,RawShaderMaterial:fi,ShaderMaterial:K,PointsMaterial:Me,MultiMaterial:mi,MeshPhysicalMaterial:gi,MeshStandardMaterial:vi,MeshPhongMaterial:yi,MeshNormalMaterial:xi,MeshLambertMaterial:_i,MeshDepthMaterial:$,MeshBasicMaterial:ft,LineDashedMaterial:bi,LineBasicMaterial:_e,Material:J}),$c={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}},th=new wi;Object.assign(Mi.prototype,{load:function(t,e,i,n){void 0===t&&(t=\\\"\\\"),void 0!==this.path&&(t=this.path+t);var r=this,a=$c.get(t);if(void 0!==a)return r.manager.itemStart(t),setTimeout(function(){e&&e(a),r.manager.itemEnd(t)},0),a;var o=/^data:(.*?)(;base64)?,(.*)$/,s=t.match(o);if(s){var c=s[1],h=!!s[2],l=s[3];l=window.decodeURIComponent(l),h&&(l=window.atob(l));try{var u,p=(this.responseType||\\\"\\\").toLowerCase();switch(p){case\\\"arraybuffer\\\":case\\\"blob\\\":u=new ArrayBuffer(l.length);for(var d=new Uint8Array(u),f=0;f<l.length;f++)d[f]=l.charCodeAt(f);\\\"blob\\\"===p&&(u=new Blob([u],{type:c}));break;case\\\"document\\\":var m=new DOMParser;u=m.parseFromString(l,c);break;case\\\"json\\\":u=JSON.parse(l);break;default:u=l}window.setTimeout(function(){e&&e(u),r.manager.itemEnd(t)},0)}catch(e){window.setTimeout(function(){n&&n(e),r.manager.itemError(t)},0)}}else{var v=new XMLHttpRequest;v.open(\\\"GET\\\",t,!0),v.addEventListener(\\\"load\\\",function(i){var a=i.target.response;$c.add(t,a),200===this.status?(e&&e(a),r.manager.itemEnd(t)):0===this.status?(console.warn(\\\"THREE.XHRLoader: HTTP Status 0 received.\\\"),e&&e(a),r.manager.itemEnd(t)):(n&&n(i),r.manager.itemError(t))},!1),void 0!==i&&v.addEventListener(\\\"progress\\\",function(t){i(t)},!1),v.addEventListener(\\\"error\\\",function(e){n&&n(e),r.manager.itemError(t)},!1),void 0!==this.responseType&&(v.responseType=this.responseType),void 0!==this.withCredentials&&(v.withCredentials=this.withCredentials),v.overrideMimeType&&v.overrideMimeType(\\\"text/plain\\\"),v.send(null)}return r.manager.itemStart(t),v},setPath:function(t){return this.path=t,this},setResponseType:function(t){return this.responseType=t,this},setWithCredentials:function(t){return this.withCredentials=t,this}}),Object.assign(Ei.prototype,{load:function(t,e,i,n){function r(r){c.load(t[r],function(t){var i=a._parser(t,!0);o[r]={width:i.width,height:i.height,format:i.format,mipmaps:i.mipmaps},h+=1,6===h&&(1===i.mipmapCount&&(s.minFilter=Da),s.format=i.format,s.needsUpdate=!0,e&&e(s))},i,n)}var a=this,o=[],s=new Ae;s.image=o;var c=new Mi(this.manager);if(c.setPath(this.path),c.setResponseType(\\\"arraybuffer\\\"),Array.isArray(t))for(var h=0,l=0,u=t.length;l<u;++l)r(l);else c.load(t,function(t){var i=a._parser(t,!0);if(i.isCubemap)for(var n=i.mipmaps.length/i.mipmapCount,r=0;r<n;r++){o[r]={mipmaps:[]};for(var c=0;c<i.mipmapCount;c++)o[r].mipmaps.push(i.mipmaps[r*i.mipmapCount+c]),o[r].format=i.format,o[r].width=i.width,o[r].height=i.height}else s.image.width=i.width,s.image.height=i.height,s.mipmaps=i.mipmaps;1===i.mipmapCount&&(s.minFilter=Da),s.format=i.format,s.needsUpdate=!0,e&&e(s)},i,n);return s},setPath:function(t){return this.path=t,this}});var eh=Ti;Object.assign(Ti.prototype,{load:function(t,e,i,n){var r=this,a=new ve,o=new Mi(this.manager);return o.setResponseType(\\\"arraybuffer\\\"),o.load(t,function(t){var i=r._parser(t);i&&(void 0!==i.image?a.image=i.image:void 0!==i.data&&(a.image.width=i.width,a.image.height=i.height,a.image.data=i.data),a.wrapS=void 0!==i.wrapS?i.wrapS:Ra,a.wrapT=void 0!==i.wrapT?i.wrapT:Ra,a.magFilter=void 0!==i.magFilter?i.magFilter:Da,a.minFilter=void 0!==i.minFilter?i.minFilter:Fa,a.anisotropy=void 0!==i.anisotropy?i.anisotropy:1,void 0!==i.format&&(a.format=i.format),void 0!==i.type&&(a.type=i.type),void 0!==i.mipmaps&&(a.mipmaps=i.mipmaps),1===i.mipmapCount&&(a.minFilter=Da),a.needsUpdate=!0,e&&e(a,i))},i,n),a}}),Object.assign(Si.prototype,{load:function(t,e,i,n){var r=this,a=document.createElementNS(\\\"http://www.w3.org/1999/xhtml\\\",\\\"img\\\");if(a.onload=function(){a.onload=null,URL.revokeObjectURL(a.src),e&&e(a),r.manager.itemEnd(t)},a.onerror=n,0===t.indexOf(\\\"data:\\\"))a.src=t;else{var o=new Mi;o.setPath(this.path),o.setResponseType(\\\"blob\\\"),o.setWithCredentials(this.withCredentials),o.load(t,function(t){a.src=URL.createObjectURL(t)},i,n)}return r.manager.itemStart(t),a},setCrossOrigin:function(t){return this.crossOrigin=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(Ai.prototype,{load:function(t,e,i,n){function r(i){o.load(t[i],function(t){a.images[i]=t,s++,6===s&&(a.needsUpdate=!0,e&&e(a))},void 0,n)}var a=new u,o=new Si(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);for(var s=0,c=0;c<t.length;++c)r(c);return a},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(Li.prototype,{load:function(t,e,i,r){var a=new n,o=new Si(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setWithCredentials(this.withCredentials),o.setPath(this.path),o.load(t,function(i){var n=t.search(/\\\\.(jpg|jpeg)$/)>0||0===t.search(/^data\\\\:image\\\\/jpeg/);a.format=n?Ka:$a,a.image=i,a.needsUpdate=!0,void 0!==e&&e(a)},i,r),a},setCrossOrigin:function(t){return this.crossOrigin=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setPath:function(t){return this.path=t,this}}),Ri.prototype=Object.assign(Object.create(ht.prototype),{constructor:Ri,isLight:!0,copy:function(t){return ht.prototype.copy.call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this},toJSON:function(t){var e=ht.prototype.toJSON.call(this,t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}),Pi.prototype=Object.assign(Object.create(Ri.prototype),{constructor:Pi,isHemisphereLight:!0,copy:function(t){return Ri.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}),Object.assign(Ci.prototype,{copy:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var t={};return 0!==this.bias&&(t.bias=this.bias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}),Ii.prototype=Object.assign(Object.create(Ci.prototype),{constructor:Ii,isSpotLightShadow:!0,update:function(t){var e=2*Fo.RAD2DEG*t.angle,i=this.mapSize.width/this.mapSize.height,n=t.distance||500,r=this.camera;e===r.fov&&i===r.aspect&&n===r.far||(r.fov=e,r.aspect=i,r.far=n,r.updateProjectionMatrix())}}),Ui.prototype=Object.assign(Object.create(Ri.prototype),{constructor:Ui,isSpotLight:!0,copy:function(t){return Ri.prototype.copy.call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),Ni.prototype=Object.assign(Object.create(Ri.prototype),{constructor:Ni,isPointLight:!0,copy:function(t){return Ri.prototype.copy.call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}),Di.prototype=Object.assign(Object.create(Ci.prototype),{constructor:Di}),Oi.prototype=Object.assign(Object.create(Ri.prototype),{constructor:Oi,isDirectionalLight:!0,copy:function(t){return Ri.prototype.copy.call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),Fi.prototype=Object.assign(Object.create(Ri.prototype),{constructor:Fi,isAmbientLight:!0});var ih={arraySlice:function(t,e,i){return ih.isTypedArray(t)?new t.constructor(t.subarray(e,i)):t.slice(e,i)},convertArray:function(t,e,i){return!t||!i&&t.constructor===e?t:\\\"number\\\"==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){function e(e,i){return t[e]-t[i]}for(var i=t.length,n=new Array(i),r=0;r!==i;++r)n[r]=r;return n.sort(e),n},sortedArray:function(t,e,i){for(var n=t.length,r=new t.constructor(n),a=0,o=0;o!==n;++a)for(var s=i[a]*e,c=0;c!==e;++c)r[o++]=t[s+c];return r},flattenJSON:function(t,e,i,n){for(var r=1,a=t[0];void 0!==a&&void 0===a[n];)a=t[r++];if(void 0!==a){var o=a[n];if(void 0!==o)if(Array.isArray(o)){do o=a[n],void 0!==o&&(e.push(a.time),i.push.apply(i,o)),a=t[r++];while(void 0!==a)}else if(void 0!==o.toArray){do o=a[n],void 0!==o&&(e.push(a.time),o.toArray(i,i.length)),a=t[r++];while(void 0!==a)}else do o=a[n],void 0!==o&&(e.push(a.time),i.push(o)),a=t[r++];while(void 0!==a)}}};Bi.prototype={constructor:Bi,evaluate:function(t){var e=this.parameterPositions,i=this._cachedIndex,n=e[i],r=e[i-1];t:{e:{var a;i:{n:if(!(t<n)){for(var o=i+2;;){if(void 0===n){if(t<r)break n;return i=e.length,this._cachedIndex=i,this.afterEnd_(i-1,t,r)}if(i===o)break;if(r=n,n=e[++i],t<n)break e}a=e.length;break i}{if(t>=r)break t;var s=e[1];t<s&&(i=2,r=s);for(var o=i-2;;){if(void 0===r)return this._cachedIndex=0,this.beforeStart_(0,t,n);if(i===o)break;if(n=r,r=e[--i-1],t>=r)break e}a=i,i=0}}for(;i<a;){var c=i+a>>>1;t<e[c]?a=c:i=c+1}if(n=e[i],r=e[i-1],void 0===r)return this._cachedIndex=0,this.beforeStart_(0,t,n);if(void 0===n)return i=e.length,this._cachedIndex=i,this.afterEnd_(i-1,r,t)}this._cachedIndex=i,this.intervalChanged_(i,r,n)}return this.interpolate_(i,r,t,n)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){for(var e=this.resultBuffer,i=this.sampleValues,n=this.valueSize,r=t*n,a=0;a!==n;++a)e[a]=i[r+a];return e},interpolate_:function(t,e,i,n){throw new Error(\\\"call to abstract method\\\")},intervalChanged_:function(t,e,i){}},Object.assign(Bi.prototype,{beforeStart_:Bi.prototype.copySampleValue_,afterEnd_:Bi.prototype.copySampleValue_}),zi.prototype=Object.assign(Object.create(Bi.prototype),{constructor:zi,DefaultSettings_:{endingStart:bo,endingEnd:bo},intervalChanged_:function(t,e,i){var n=this.parameterPositions,r=t-2,a=t+1,o=n[r],s=n[a];if(void 0===o)switch(this.getSettings_().endingStart){case wo:r=t,o=2*e-i;break;case Mo:r=n.length-2,o=e+n[r]-n[r+1];break;default:r=t,o=i}if(void 0===s)switch(this.getSettings_().endingEnd){case wo:a=t,s=2*i-e;break;case Mo:a=1,s=i+n[1]-n[0];break;default:a=t-1,s=e}var c=.5*(i-e),h=this.valueSize;this._weightPrev=c/(e-o),this._weightNext=c/(s-i),this._offsetPrev=r*h,this._offsetNext=a*h},interpolate_:function(t,e,i,n){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,c=s-o,h=this._offsetPrev,l=this._offsetNext,u=this._weightPrev,p=this._weightNext,d=(i-e)/(n-e),f=d*d,m=f*d,v=-u*m+2*u*f-u*d,g=(1+u)*m+(-1.5-2*u)*f+(-.5+u)*d+1,y=(-1-p)*m+(1.5+p)*f+.5*d,x=p*m-p*f,_=0;_!==o;++_)r[_]=v*a[h+_]+g*a[c+_]+y*a[s+_]+x*a[l+_];return r}}),Gi.prototype=Object.assign(Object.create(Bi.prototype),{constructor:Gi,interpolate_:function(t,e,i,n){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,c=s-o,h=(i-e)/(n-e),l=1-h,u=0;u!==o;++u)r[u]=a[c+u]*l+a[s+u]*h;return r}}),Hi.prototype=Object.assign(Object.create(Bi.prototype),{constructor:Hi,interpolate_:function(t,e,i,n){return this.copySampleValue_(t-1)}});var nh;nh={TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:xo,InterpolantFactoryMethodDiscrete:function(t){return new Hi(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new Gi(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new zi(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){var e;switch(t){case yo:e=this.InterpolantFactoryMethodDiscrete;break;case xo:e=this.InterpolantFactoryMethodLinear;break;case _o:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){var i=\\\"unsupported interpolation for \\\"+this.ValueTypeName+\\\" keyframe track named \\\"+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(i);this.setInterpolation(this.DefaultInterpolation)}return void console.warn(i)}this.createInterpolant=e},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return yo;case this.InterpolantFactoryMethodLinear:return xo;case this.InterpolantFactoryMethodSmooth:return _o}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(0!==t)for(var e=this.times,i=0,n=e.length;i!==n;++i)e[i]+=t;return this},scale:function(t){if(1!==t)for(var e=this.times,i=0,n=e.length;i!==n;++i)e[i]*=t;return this},trim:function(t,e){for(var i=this.times,n=i.length,r=0,a=n-1;r!==n&&i[r]<t;)++r;for(;a!==-1&&i[a]>e;)--a;if(++a,0!==r||a!==n){r>=a&&(a=Math.max(a,1),r=a-1);var o=this.getValueSize();this.times=ih.arraySlice(i,r,a),this.values=ih.arraySlice(this.values,r*o,a*o)}return this},validate:function(){var t=!0,e=this.getValueSize();e-Math.floor(e)!==0&&(console.error(\\\"invalid value size in track\\\",this),t=!1);var i=this.times,n=this.values,r=i.length;0===r&&(console.error(\\\"track is empty\\\",this),t=!1);for(var a=null,o=0;o!==r;o++){var s=i[o];if(\\\"number\\\"==typeof s&&isNaN(s)){console.error(\\\"time is not a valid number\\\",this,o,s),t=!1;break}if(null!==a&&a>s){console.error(\\\"out of order keys\\\",this,o,s,a),t=!1;break}a=s}if(void 0!==n&&ih.isTypedArray(n))for(var o=0,c=n.length;o!==c;++o){var h=n[o];if(isNaN(h)){console.error(\\\"value is not a valid number\\\",this,o,h),t=!1;break}}return t},optimize:function(){for(var t=this.times,e=this.values,i=this.getValueSize(),n=this.getInterpolation()===_o,r=1,a=t.length-1,o=1;o<a;++o){var s=!1,c=t[o],h=t[o+1];if(c!==h&&(1!==o||c!==c[0]))if(n)s=!0;else for(var l=o*i,u=l-i,p=l+i,d=0;d!==i;++d){var f=e[l+d];if(f!==e[u+d]||f!==e[p+d]){s=!0;break}}if(s){if(o!==r){t[r]=t[o];for(var m=o*i,v=r*i,d=0;d!==i;++d)e[v+d]=e[m+d]}++r}}if(a>0){t[r]=t[a];for(var m=a*i,v=r*i,d=0;d!==i;++d)e[v+d]=e[m+d];++r}return r!==t.length&&(this.times=ih.arraySlice(t,0,r),this.values=ih.arraySlice(e,0,r*i)),this}},ki.prototype=Object.assign(Object.create(nh),{constructor:ki,ValueTypeName:\\\"vector\\\"}),ji.prototype=Object.assign(Object.create(Bi.prototype),{constructor:ji,interpolate_:function(t,e,i,n){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,h=(i-e)/(n-e),l=s+o;s!==l;s+=4)c.slerpFlat(r,0,a,s-o,a,s,h);return r}}),Wi.prototype=Object.assign(Object.create(nh),{constructor:Wi,ValueTypeName:\\\"quaternion\\\",DefaultInterpolation:xo,InterpolantFactoryMethodLinear:function(t){return new ji(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0}),Xi.prototype=Object.assign(Object.create(nh),{constructor:Xi,ValueTypeName:\\\"number\\\"}),Yi.prototype=Object.assign(Object.create(nh),{constructor:Yi,ValueTypeName:\\\"string\\\",ValueBufferType:Array,DefaultInterpolation:yo,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),qi.prototype=Object.assign(Object.create(nh),{constructor:qi,ValueTypeName:\\\"bool\\\",ValueBufferType:Array,DefaultInterpolation:yo,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Zi.prototype=Object.assign(Object.create(nh),{constructor:Zi,ValueTypeName:\\\"color\\\"}),Ji.prototype=nh,nh.constructor=Ji,Object.assign(Ji,{parse:function(t){if(void 0===t.type)throw new Error(\\\"track type undefined, can not parse\\\");var e=Ji._getTrackTypeForValueTypeName(t.type);if(void 0===t.times){var i=[],n=[];ih.flattenJSON(t.keys,i,n,\\\"value\\\"),t.times=i,t.values=n}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)},toJSON:function(t){var e,i=t.constructor;if(void 0!==i.toJSON)e=i.toJSON(t);else{e={name:t.name,times:ih.convertArray(t.times,Array),values:ih.convertArray(t.values,Array)};var n=t.getInterpolation();n!==t.DefaultInterpolation&&(e.interpolation=n)}return e.type=t.ValueTypeName,e},_getTrackTypeForValueTypeName:function(t){switch(t.toLowerCase()){case\\\"scalar\\\":case\\\"double\\\":case\\\"float\\\":case\\\"number\\\":case\\\"integer\\\":return Xi;case\\\"vector\\\":case\\\"vector2\\\":case\\\"vector3\\\":case\\\"vector4\\\":return ki;case\\\"color\\\":return Zi;case\\\"quaternion\\\":return Wi;case\\\"bool\\\":case\\\"boolean\\\":return qi;case\\\"string\\\":return Yi}throw new Error(\\\"Unsupported typeName: \\\"+t)}}),Qi.prototype={constructor:Qi,resetDuration:function(){for(var t=this.tracks,e=0,i=0,n=t.length;i!==n;++i){var r=this.tracks[i];e=Math.max(e,r.times[r.times.length-1])}this.duration=e},trim:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},optimize:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}},Object.assign(Qi,{parse:function(t){for(var e=[],i=t.tracks,n=1/(t.fps||1),r=0,a=i.length;r!==a;++r)e.push(Ji.parse(i[r]).scale(n));return new Qi(t.name,t.duration,e)},toJSON:function(t){for(var e=[],i=t.tracks,n={\\nname:t.name,duration:t.duration,tracks:e},r=0,a=i.length;r!==a;++r)e.push(Ji.toJSON(i[r]));return n},CreateFromMorphTargetSequence:function(t,e,i,n){for(var r=e.length,a=[],o=0;o<r;o++){var s=[],c=[];s.push((o+r-1)%r,o,(o+1)%r),c.push(0,1,0);var h=ih.getKeyframeOrder(s);s=ih.sortedArray(s,1,h),c=ih.sortedArray(c,1,h),n||0!==s[0]||(s.push(r),c.push(c[0])),a.push(new Xi(\\\".morphTargetInfluences[\\\"+e[o].name+\\\"]\\\",s,c).scale(1/i))}return new Qi(t,(-1),a)},findByName:function(t,e){var i=t;if(!Array.isArray(t)){var n=t;i=n.geometry&&n.geometry.animations||n.animations}for(var r=0;r<i.length;r++)if(i[r].name===e)return i[r];return null},CreateClipsFromMorphTargetSequences:function(t,e,i){for(var n={},r=/^([\\\\w-]*?)([\\\\d]+)$/,a=0,o=t.length;a<o;a++){var s=t[a],c=s.name.match(r);if(c&&c.length>1){var h=c[1],l=n[h];l||(n[h]=l=[]),l.push(s)}}var u=[];for(var h in n)u.push(Qi.CreateFromMorphTargetSequence(h,n[h],e,i));return u},parseAnimation:function(t,e){if(!t)return console.error(\\\"  no animation in JSONLoader data\\\"),null;for(var i=function(t,e,i,n,r){if(0!==i.length){var a=[],o=[];ih.flattenJSON(i,a,o,n),0!==a.length&&r.push(new t(e,a,o))}},n=[],r=t.name||\\\"default\\\",a=t.length||-1,o=t.fps||30,s=t.hierarchy||[],c=0;c<s.length;c++){var h=s[c].keys;if(h&&0!==h.length)if(h[0].morphTargets){for(var l={},u=0;u<h.length;u++)if(h[u].morphTargets)for(var p=0;p<h[u].morphTargets.length;p++)l[h[u].morphTargets[p]]=-1;for(var d in l){for(var f=[],m=[],p=0;p!==h[u].morphTargets.length;++p){var v=h[u];f.push(v.time),m.push(v.morphTarget===d?1:0)}n.push(new Xi(\\\".morphTargetInfluence[\\\"+d+\\\"]\\\",f,m))}a=l.length*(o||1)}else{var g=\\\".bones[\\\"+e[c].name+\\\"]\\\";i(ki,g+\\\".position\\\",h,\\\"pos\\\",n),i(Wi,g+\\\".quaternion\\\",h,\\\"rot\\\",n),i(ki,g+\\\".scale\\\",h,\\\"scl\\\",n)}}if(0===n.length)return null;var y=new Qi(r,a,n);return y}}),Object.assign(Ki.prototype,{load:function(t,e,i,n){var r=this,a=new Mi(r.manager);a.load(t,function(t){e(r.parse(JSON.parse(t)))},i,n)},setTextures:function(t){this.textures=t},parse:function(t){function e(t){return void 0===n[t]&&console.warn(\\\"THREE.MaterialLoader: Undefined texture\\\",t),n[t]}var n=this.textures,r=new Kc[t.type];if(void 0!==t.uuid&&(r.uuid=t.uuid),void 0!==t.name&&(r.name=t.name),void 0!==t.color&&r.color.setHex(t.color),void 0!==t.roughness&&(r.roughness=t.roughness),void 0!==t.metalness&&(r.metalness=t.metalness),void 0!==t.emissive&&r.emissive.setHex(t.emissive),void 0!==t.specular&&r.specular.setHex(t.specular),void 0!==t.shininess&&(r.shininess=t.shininess),void 0!==t.uniforms&&(r.uniforms=t.uniforms),void 0!==t.vertexShader&&(r.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(r.fragmentShader=t.fragmentShader),void 0!==t.vertexColors&&(r.vertexColors=t.vertexColors),void 0!==t.fog&&(r.fog=t.fog),void 0!==t.shading&&(r.shading=t.shading),void 0!==t.blending&&(r.blending=t.blending),void 0!==t.side&&(r.side=t.side),void 0!==t.opacity&&(r.opacity=t.opacity),void 0!==t.transparent&&(r.transparent=t.transparent),void 0!==t.alphaTest&&(r.alphaTest=t.alphaTest),void 0!==t.depthTest&&(r.depthTest=t.depthTest),void 0!==t.depthWrite&&(r.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(r.colorWrite=t.colorWrite),void 0!==t.wireframe&&(r.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(r.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(r.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(r.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.skinning&&(r.skinning=t.skinning),void 0!==t.morphTargets&&(r.morphTargets=t.morphTargets),void 0!==t.size&&(r.size=t.size),void 0!==t.sizeAttenuation&&(r.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(r.map=e(t.map)),void 0!==t.alphaMap&&(r.alphaMap=e(t.alphaMap),r.transparent=!0),void 0!==t.bumpMap&&(r.bumpMap=e(t.bumpMap)),void 0!==t.bumpScale&&(r.bumpScale=t.bumpScale),void 0!==t.normalMap&&(r.normalMap=e(t.normalMap)),void 0!==t.normalScale){var a=t.normalScale;Array.isArray(a)===!1&&(a=[a,a]),r.normalScale=(new i).fromArray(a)}if(void 0!==t.displacementMap&&(r.displacementMap=e(t.displacementMap)),void 0!==t.displacementScale&&(r.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(r.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(r.roughnessMap=e(t.roughnessMap)),void 0!==t.metalnessMap&&(r.metalnessMap=e(t.metalnessMap)),void 0!==t.emissiveMap&&(r.emissiveMap=e(t.emissiveMap)),void 0!==t.emissiveIntensity&&(r.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(r.specularMap=e(t.specularMap)),void 0!==t.envMap&&(r.envMap=e(t.envMap)),void 0!==t.reflectivity&&(r.reflectivity=t.reflectivity),void 0!==t.lightMap&&(r.lightMap=e(t.lightMap)),void 0!==t.lightMapIntensity&&(r.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(r.aoMap=e(t.aoMap)),void 0!==t.aoMapIntensity&&(r.aoMapIntensity=t.aoMapIntensity),void 0!==t.materials)for(var o=0,s=t.materials.length;o<s;o++)r.materials.push(this.parse(t.materials[o]));return r}}),Object.assign($i.prototype,{load:function(t,e,i,n){var r=this,a=new Mi(r.manager);a.load(t,function(t){e(r.parse(JSON.parse(t)))},i,n)},parse:function(t){var e=new Rt,i=t.data.index,n={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};if(void 0!==i){var r=new n[i.type](i.array);e.setIndex(new mt(r,1))}var a=t.data.attributes;for(var o in a){var s=a[o],r=new n[s.type](s.array);e.addAttribute(o,new mt(r,s.itemSize,s.normalized))}var c=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==c)for(var l=0,u=c.length;l!==u;++l){var p=c[l];e.addGroup(p.start,p.count,p.materialIndex)}var d=t.data.boundingSphere;if(void 0!==d){var f=new h;void 0!==d.center&&f.fromArray(d.center),e.boundingSphere=new et(f,d.radius)}return e}}),tn.prototype={constructor:tn,crossOrigin:void 0,extractUrlBase:function(t){var e=t.split(\\\"/\\\");return 1===e.length?\\\"./\\\":(e.pop(),e.join(\\\"/\\\")+\\\"/\\\")},initMaterials:function(t,e,i){for(var n=[],r=0;r<t.length;++r)n[r]=this.createMaterial(t[r],e,i);return n},createMaterial:function(){var t,e,i;return function(n,r,a){function o(t,i,n,o,c){var h,l=r+t,u=tn.Handlers.get(l);null!==u?h=u.load(l):(e.setCrossOrigin(a),h=e.load(l)),void 0!==i&&(h.repeat.fromArray(i),1!==i[0]&&(h.wrapS=La),1!==i[1]&&(h.wrapT=La)),void 0!==n&&h.offset.fromArray(n),void 0!==o&&(\\\"repeat\\\"===o[0]&&(h.wrapS=La),\\\"mirror\\\"===o[0]&&(h.wrapS=Pa),\\\"repeat\\\"===o[1]&&(h.wrapT=La),\\\"mirror\\\"===o[1]&&(h.wrapT=Pa)),void 0!==c&&(h.anisotropy=c);var p=Fo.generateUUID();return s[p]=h,p}void 0===t&&(t=new X),void 0===e&&(e=new Li),void 0===i&&(i=new Ki);var s={},c={uuid:Fo.generateUUID(),type:\\\"MeshLambertMaterial\\\"};for(var h in n){var l=n[h];switch(h){case\\\"DbgColor\\\":case\\\"DbgIndex\\\":case\\\"opticalDensity\\\":case\\\"illumination\\\":break;case\\\"DbgName\\\":c.name=l;break;case\\\"blending\\\":c.blending=Gr[l];break;case\\\"colorAmbient\\\":case\\\"mapAmbient\\\":console.warn(\\\"THREE.Loader.createMaterial:\\\",h,\\\"is no longer supported.\\\");break;case\\\"colorDiffuse\\\":c.color=t.fromArray(l).getHex();break;case\\\"colorSpecular\\\":c.specular=t.fromArray(l).getHex();break;case\\\"colorEmissive\\\":c.emissive=t.fromArray(l).getHex();break;case\\\"specularCoef\\\":c.shininess=l;break;case\\\"shading\\\":\\\"basic\\\"===l.toLowerCase()&&(c.type=\\\"MeshBasicMaterial\\\"),\\\"phong\\\"===l.toLowerCase()&&(c.type=\\\"MeshPhongMaterial\\\"),\\\"standard\\\"===l.toLowerCase()&&(c.type=\\\"MeshStandardMaterial\\\");break;case\\\"mapDiffuse\\\":c.map=o(l,n.mapDiffuseRepeat,n.mapDiffuseOffset,n.mapDiffuseWrap,n.mapDiffuseAnisotropy);break;case\\\"mapDiffuseRepeat\\\":case\\\"mapDiffuseOffset\\\":case\\\"mapDiffuseWrap\\\":case\\\"mapDiffuseAnisotropy\\\":break;case\\\"mapEmissive\\\":c.emissiveMap=o(l,n.mapEmissiveRepeat,n.mapEmissiveOffset,n.mapEmissiveWrap,n.mapEmissiveAnisotropy);break;case\\\"mapEmissiveRepeat\\\":case\\\"mapEmissiveOffset\\\":case\\\"mapEmissiveWrap\\\":case\\\"mapEmissiveAnisotropy\\\":break;case\\\"mapLight\\\":c.lightMap=o(l,n.mapLightRepeat,n.mapLightOffset,n.mapLightWrap,n.mapLightAnisotropy);break;case\\\"mapLightRepeat\\\":case\\\"mapLightOffset\\\":case\\\"mapLightWrap\\\":case\\\"mapLightAnisotropy\\\":break;case\\\"mapAO\\\":c.aoMap=o(l,n.mapAORepeat,n.mapAOOffset,n.mapAOWrap,n.mapAOAnisotropy);break;case\\\"mapAORepeat\\\":case\\\"mapAOOffset\\\":case\\\"mapAOWrap\\\":case\\\"mapAOAnisotropy\\\":break;case\\\"mapBump\\\":c.bumpMap=o(l,n.mapBumpRepeat,n.mapBumpOffset,n.mapBumpWrap,n.mapBumpAnisotropy);break;case\\\"mapBumpScale\\\":c.bumpScale=l;break;case\\\"mapBumpRepeat\\\":case\\\"mapBumpOffset\\\":case\\\"mapBumpWrap\\\":case\\\"mapBumpAnisotropy\\\":break;case\\\"mapNormal\\\":c.normalMap=o(l,n.mapNormalRepeat,n.mapNormalOffset,n.mapNormalWrap,n.mapNormalAnisotropy);break;case\\\"mapNormalFactor\\\":c.normalScale=[l,l];break;case\\\"mapNormalRepeat\\\":case\\\"mapNormalOffset\\\":case\\\"mapNormalWrap\\\":case\\\"mapNormalAnisotropy\\\":break;case\\\"mapSpecular\\\":c.specularMap=o(l,n.mapSpecularRepeat,n.mapSpecularOffset,n.mapSpecularWrap,n.mapSpecularAnisotropy);break;case\\\"mapSpecularRepeat\\\":case\\\"mapSpecularOffset\\\":case\\\"mapSpecularWrap\\\":case\\\"mapSpecularAnisotropy\\\":break;case\\\"mapMetalness\\\":c.metalnessMap=o(l,n.mapMetalnessRepeat,n.mapMetalnessOffset,n.mapMetalnessWrap,n.mapMetalnessAnisotropy);break;case\\\"mapMetalnessRepeat\\\":case\\\"mapMetalnessOffset\\\":case\\\"mapMetalnessWrap\\\":case\\\"mapMetalnessAnisotropy\\\":break;case\\\"mapRoughness\\\":c.roughnessMap=o(l,n.mapRoughnessRepeat,n.mapRoughnessOffset,n.mapRoughnessWrap,n.mapRoughnessAnisotropy);break;case\\\"mapRoughnessRepeat\\\":case\\\"mapRoughnessOffset\\\":case\\\"mapRoughnessWrap\\\":case\\\"mapRoughnessAnisotropy\\\":break;case\\\"mapAlpha\\\":c.alphaMap=o(l,n.mapAlphaRepeat,n.mapAlphaOffset,n.mapAlphaWrap,n.mapAlphaAnisotropy);break;case\\\"mapAlphaRepeat\\\":case\\\"mapAlphaOffset\\\":case\\\"mapAlphaWrap\\\":case\\\"mapAlphaAnisotropy\\\":break;case\\\"flipSided\\\":c.side=Ar;break;case\\\"doubleSided\\\":c.side=Lr;break;case\\\"transparency\\\":console.warn(\\\"THREE.Loader.createMaterial: transparency has been renamed to opacity\\\"),c.opacity=l;break;case\\\"depthTest\\\":case\\\"depthWrite\\\":case\\\"colorWrite\\\":case\\\"opacity\\\":case\\\"reflectivity\\\":case\\\"transparent\\\":case\\\"visible\\\":case\\\"wireframe\\\":c[h]=l;break;case\\\"vertexColors\\\":l===!0&&(c.vertexColors=Ur),\\\"face\\\"===l&&(c.vertexColors=Ir);break;default:console.error(\\\"THREE.Loader.createMaterial: Unsupported\\\",h,l)}}return\\\"MeshBasicMaterial\\\"===c.type&&delete c.emissive,\\\"MeshPhongMaterial\\\"!==c.type&&delete c.specular,c.opacity<1&&(c.transparent=!0),i.setTextures(s),i.parse(c)}}()},tn.Handlers={handlers:[],add:function(t,e){this.handlers.push(t,e)},get:function(t){for(var e=this.handlers,i=0,n=e.length;i<n;i+=2){var r=e[i],a=e[i+1];if(r.test(t))return a}return null}},Object.assign(en.prototype,{load:function(t,e,i,n){var r=this,a=this.texturePath&&\\\"string\\\"==typeof this.texturePath?this.texturePath:tn.prototype.extractUrlBase(t),o=new Mi(this.manager);o.setWithCredentials(this.withCredentials),o.load(t,function(i){var n=JSON.parse(i),o=n.metadata;if(void 0!==o){var s=o.type;if(void 0!==s){if(\\\"object\\\"===s.toLowerCase())return void console.error(\\\"THREE.JSONLoader: \\\"+t+\\\" should be loaded with THREE.ObjectLoader instead.\\\");if(\\\"scene\\\"===s.toLowerCase())return void console.error(\\\"THREE.JSONLoader: \\\"+t+\\\" should be loaded with THREE.SceneLoader instead.\\\")}}var c=r.parse(n,a);e(c.geometry,c.materials)},i,n)},setTexturePath:function(t){this.texturePath=t},parse:function(t,e){function n(e){function n(t,e){return t&1<<e}var r,a,o,s,l,u,p,d,f,m,v,g,y,x,_,b,w,M,E,T,S,A,L,R,P,C,I,U=t.faces,N=t.vertices,D=t.normals,O=t.colors,F=0;if(void 0!==t.uvs){for(r=0;r<t.uvs.length;r++)t.uvs[r].length&&F++;for(r=0;r<F;r++)c.faceVertexUvs[r]=[]}for(s=0,l=N.length;s<l;)M=new h,M.x=N[s++]*e,M.y=N[s++]*e,M.z=N[s++]*e,c.vertices.push(M);for(s=0,l=U.length;s<l;)if(m=U[s++],v=n(m,0),g=n(m,1),y=n(m,3),x=n(m,4),_=n(m,5),b=n(m,6),w=n(m,7),v){if(T=new dt,T.a=U[s],T.b=U[s+1],T.c=U[s+3],S=new dt,S.a=U[s+1],S.b=U[s+2],S.c=U[s+3],s+=4,g&&(f=U[s++],T.materialIndex=f,S.materialIndex=f),o=c.faces.length,y)for(r=0;r<F;r++)for(R=t.uvs[r],c.faceVertexUvs[r][o]=[],c.faceVertexUvs[r][o+1]=[],a=0;a<4;a++)d=U[s++],C=R[2*d],I=R[2*d+1],P=new i(C,I),2!==a&&c.faceVertexUvs[r][o].push(P),0!==a&&c.faceVertexUvs[r][o+1].push(P);if(x&&(p=3*U[s++],T.normal.set(D[p++],D[p++],D[p]),S.normal.copy(T.normal)),_)for(r=0;r<4;r++)p=3*U[s++],L=new h(D[p++],D[p++],D[p]),2!==r&&T.vertexNormals.push(L),0!==r&&S.vertexNormals.push(L);if(b&&(u=U[s++],A=O[u],T.color.setHex(A),S.color.setHex(A)),w)for(r=0;r<4;r++)u=U[s++],A=O[u],2!==r&&T.vertexColors.push(new X(A)),0!==r&&S.vertexColors.push(new X(A));c.faces.push(T),c.faces.push(S)}else{if(E=new dt,E.a=U[s++],E.b=U[s++],E.c=U[s++],g&&(f=U[s++],E.materialIndex=f),o=c.faces.length,y)for(r=0;r<F;r++)for(R=t.uvs[r],c.faceVertexUvs[r][o]=[],a=0;a<3;a++)d=U[s++],C=R[2*d],I=R[2*d+1],P=new i(C,I),c.faceVertexUvs[r][o].push(P);if(x&&(p=3*U[s++],E.normal.set(D[p++],D[p++],D[p])),_)for(r=0;r<3;r++)p=3*U[s++],L=new h(D[p++],D[p++],D[p]),E.vertexNormals.push(L);if(b&&(u=U[s++],E.color.setHex(O[u])),w)for(r=0;r<3;r++)u=U[s++],E.vertexColors.push(new X(O[u]));c.faces.push(E)}}function r(){var e=void 0!==t.influencesPerVertex?t.influencesPerVertex:2;if(t.skinWeights)for(var i=0,n=t.skinWeights.length;i<n;i+=e){var r=t.skinWeights[i],o=e>1?t.skinWeights[i+1]:0,s=e>2?t.skinWeights[i+2]:0,h=e>3?t.skinWeights[i+3]:0;c.skinWeights.push(new a(r,o,s,h))}if(t.skinIndices)for(var i=0,n=t.skinIndices.length;i<n;i+=e){var l=t.skinIndices[i],u=e>1?t.skinIndices[i+1]:0,p=e>2?t.skinIndices[i+2]:0,d=e>3?t.skinIndices[i+3]:0;c.skinIndices.push(new a(l,u,p,d))}c.bones=t.bones,c.bones&&c.bones.length>0&&(c.skinWeights.length!==c.skinIndices.length||c.skinIndices.length!==c.vertices.length)&&console.warn(\\\"When skinning, number of vertices (\\\"+c.vertices.length+\\\"), skinIndices (\\\"+c.skinIndices.length+\\\"), and skinWeights (\\\"+c.skinWeights.length+\\\") should match.\\\")}function o(e){if(void 0!==t.morphTargets)for(var i=0,n=t.morphTargets.length;i<n;i++){c.morphTargets[i]={},c.morphTargets[i].name=t.morphTargets[i].name,c.morphTargets[i].vertices=[];for(var r=c.morphTargets[i].vertices,a=t.morphTargets[i].vertices,o=0,s=a.length;o<s;o+=3){var l=new h;l.x=a[o]*e,l.y=a[o+1]*e,l.z=a[o+2]*e,r.push(l)}}if(void 0!==t.morphColors&&t.morphColors.length>0){console.warn('THREE.JSONLoader: \\\"morphColors\\\" no longer supported. Using them as face colors.');for(var u=c.faces,p=t.morphColors[0].colors,i=0,n=u.length;i<n;i++)u[i].color.fromArray(p,3*i)}}function s(){var e=[],i=[];void 0!==t.animation&&i.push(t.animation),void 0!==t.animations&&(t.animations.length?i=i.concat(t.animations):i.push(t.animations));for(var n=0;n<i.length;n++){var r=Qi.parseAnimation(i[n],c.bones);r&&e.push(r)}if(c.morphTargets){var a=Qi.CreateClipsFromMorphTargetSequences(c.morphTargets,10);e=e.concat(a)}e.length>0&&(c.animations=e)}var c=new St,l=void 0!==t.scale?1/t.scale:1;if(n(l),r(),o(l),s(),c.computeFaceNormals(),c.computeBoundingSphere(),void 0===t.materials||0===t.materials.length)return{geometry:c};var u=tn.prototype.initMaterials(t.materials,e,this.crossOrigin);return{geometry:c,materials:u}}}),Object.assign(nn.prototype,{load:function(t,e,i,n){\\\"\\\"===this.texturePath&&(this.texturePath=t.substring(0,t.lastIndexOf(\\\"/\\\")+1));var r=this,a=new Mi(r.manager);a.load(t,function(t){r.parse(JSON.parse(t),e)},i,n)},setTexturePath:function(t){this.texturePath=t},setCrossOrigin:function(t){this.crossOrigin=t},parse:function(t,e){var i=this.parseGeometries(t.geometries),n=this.parseImages(t.images,function(){void 0!==e&&e(o)}),r=this.parseTextures(t.textures,n),a=this.parseMaterials(t.materials,r),o=this.parseObject(t.object,i,a);return t.animations&&(o.animations=this.parseAnimations(t.animations)),void 0!==t.images&&0!==t.images.length||void 0!==e&&e(o),o},parseGeometries:function(t){var e={};if(void 0!==t)for(var i=new en,n=new $i,r=0,a=t.length;r<a;r++){var o,s=t[r];switch(s.type){case\\\"PlaneGeometry\\\":case\\\"PlaneBufferGeometry\\\":o=new Qc[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case\\\"BoxGeometry\\\":case\\\"BoxBufferGeometry\\\":case\\\"CubeGeometry\\\":o=new Qc[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case\\\"CircleGeometry\\\":case\\\"CircleBufferGeometry\\\":o=new Qc[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case\\\"CylinderGeometry\\\":case\\\"CylinderBufferGeometry\\\":o=new Qc[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case\\\"ConeGeometry\\\":case\\\"ConeBufferGeometry\\\":o=new Qc[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case\\\"SphereGeometry\\\":case\\\"SphereBufferGeometry\\\":o=new Qc[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case\\\"DodecahedronGeometry\\\":case\\\"IcosahedronGeometry\\\":case\\\"OctahedronGeometry\\\":case\\\"TetrahedronGeometry\\\":o=new Qc[s.type](s.radius,s.detail);break;case\\\"RingGeometry\\\":case\\\"RingBufferGeometry\\\":o=new Qc[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case\\\"TorusGeometry\\\":case\\\"TorusBufferGeometry\\\":o=new Qc[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case\\\"TorusKnotGeometry\\\":case\\\"TorusKnotBufferGeometry\\\":o=new Qc[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case\\\"LatheGeometry\\\":case\\\"LatheBufferGeometry\\\":o=new Qc[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case\\\"BufferGeometry\\\":o=n.parse(s);break;case\\\"Geometry\\\":o=i.parse(s.data,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type \\\"'+s.type+'\\\"');continue}o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),e[s.uuid]=o}return e},parseMaterials:function(t,e){var i={};if(void 0!==t){var n=new Ki;n.setTextures(e);for(var r=0,a=t.length;r<a;r++){var o=n.parse(t[r]);i[o.uuid]=o}}return i},parseAnimations:function(t){for(var e=[],i=0;i<t.length;i++){var n=Qi.parse(t[i]);e.push(n)}return e},parseImages:function(t,e){function i(t){return n.manager.itemStart(t),o.load(t,function(){n.manager.itemEnd(t)},void 0,function(){n.manager.itemError(t)})}var n=this,r={};if(void 0!==t&&t.length>0){var a=new wi(e),o=new Si(a);o.setCrossOrigin(this.crossOrigin);for(var s=0,c=t.length;s<c;s++){var h=t[s],l=/^(\\\\/\\\\/)|([a-z]+:(\\\\/\\\\/)?)/i.test(h.url)?h.url:n.texturePath+h.url;r[h.uuid]=i(l)}}return r},parseTextures:function(t,e){function i(t,e){return\\\"number\\\"==typeof t?t:(console.warn(\\\"THREE.ObjectLoader.parseTexture: Constant should be in numeric form.\\\",t),e[t])}var r={};if(void 0!==t)for(var a=0,o=t.length;a<o;a++){var s=t[a];void 0===s.image&&console.warn('THREE.ObjectLoader: No \\\"image\\\" specified for',s.uuid),void 0===e[s.image]&&console.warn(\\\"THREE.ObjectLoader: Undefined image\\\",s.image);var c=new n(e[s.image]);c.needsUpdate=!0,c.uuid=s.uuid,void 0!==s.name&&(c.name=s.name),void 0!==s.mapping&&(c.mapping=i(s.mapping,Aa)),void 0!==s.offset&&c.offset.fromArray(s.offset),void 0!==s.repeat&&c.repeat.fromArray(s.repeat),void 0!==s.wrap&&(c.wrapS=i(s.wrap[0],Ca),c.wrapT=i(s.wrap[1],Ca)),void 0!==s.minFilter&&(c.minFilter=i(s.minFilter,Ba)),void 0!==s.magFilter&&(c.magFilter=i(s.magFilter,Ba)),void 0!==s.anisotropy&&(c.anisotropy=s.anisotropy),void 0!==s.flipY&&(c.flipY=s.flipY),r[s.uuid]=c}return r},parseObject:function(){var t=new l;return function(e,i,n){function r(t){return void 0===i[t]&&console.warn(\\\"THREE.ObjectLoader: Undefined geometry\\\",t),i[t]}function a(t){if(void 0!==t)return void 0===n[t]&&console.warn(\\\"THREE.ObjectLoader: Undefined material\\\",t),n[t]}var o;switch(e.type){case\\\"Scene\\\":o=new ue,void 0!==e.background&&Number.isInteger(e.background)&&(o.background=new X(e.background)),void 0!==e.fog&&(\\\"Fog\\\"===e.fog.type?o.fog=new le(e.fog.color,e.fog.near,e.fog.far):\\\"FogExp2\\\"===e.fog.type&&(o.fog=new he(e.fog.color,e.fog.density)));break;case\\\"PerspectiveCamera\\\":o=new Nt(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(o.focus=e.focus),void 0!==e.zoom&&(o.zoom=e.zoom),void 0!==e.filmGauge&&(o.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(o.filmOffset=e.filmOffset),void 0!==e.view&&(o.view=Object.assign({},e.view));break;case\\\"OrthographicCamera\\\":o=new Dt(e.left,e.right,e.top,e.bottom,e.near,e.far);break;case\\\"AmbientLight\\\":o=new Fi(e.color,e.intensity);break;case\\\"DirectionalLight\\\":o=new Oi(e.color,e.intensity);break;case\\\"PointLight\\\":o=new Ni(e.color,e.intensity,e.distance,e.decay);break;case\\\"SpotLight\\\":o=new Ui(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case\\\"HemisphereLight\\\":o=new Pi(e.color,e.groundColor,e.intensity);break;case\\\"Mesh\\\":var s=r(e.geometry),c=a(e.material);o=s.bones&&s.bones.length>0?new xe(s,c):new Pt(s,c);break;case\\\"LOD\\\":o=new me;break;case\\\"Line\\\":o=new be(r(e.geometry),a(e.material),e.mode);break;case\\\"LineSegments\\\":o=new we(r(e.geometry),a(e.material));break;case\\\"PointCloud\\\":case\\\"Points\\\":o=new Ee(r(e.geometry),a(e.material));break;case\\\"Sprite\\\":o=new fe(a(e.material));break;case\\\"Group\\\":o=new Te;break;default:o=new ht}if(o.uuid=e.uuid,void 0!==e.name&&(o.name=e.name),void 0!==e.matrix?(t.fromArray(e.matrix),t.decompose(o.position,o.quaternion,o.scale)):(void 0!==e.position&&o.position.fromArray(e.position),void 0!==e.rotation&&o.rotation.fromArray(e.rotation),void 0!==e.quaternion&&o.quaternion.fromArray(e.quaternion),void 0!==e.scale&&o.scale.fromArray(e.scale)),void 0!==e.castShadow&&(o.castShadow=e.castShadow),void 0!==e.receiveShadow&&(o.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(o.shadow.bias=e.shadow.bias),void 0!==e.shadow.radius&&(o.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&o.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(o.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(o.visible=e.visible),void 0!==e.userData&&(o.userData=e.userData),void 0!==e.children)for(var h in e.children)o.add(this.parseObject(e.children[h],i,n));if(\\\"LOD\\\"===e.type)for(var l=e.levels,u=0;u<l.length;u++){var p=l[u],h=o.getObjectByProperty(\\\"uuid\\\",p.object);void 0!==h&&o.addLevel(h,p.distance)}return o}}()}),rn.prototype={constructor:rn,getPoint:function(t){return console.warn(\\\"THREE.Curve: Warning, getPoint() not implemented!\\\"),null},getPointAt:function(t){var e=this.getUtoTmapping(t);return this.getPoint(e)},getPoints:function(t){t||(t=5);for(var e=[],i=0;i<=t;i++)e.push(this.getPoint(i/t));return e},getSpacedPoints:function(t){t||(t=5);for(var e=[],i=0;i<=t;i++)e.push(this.getPointAt(i/t));return e},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(t||(t=this.__arcLengthDivisions?this.__arcLengthDivisions:200),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,i,n=[],r=this.getPoint(0),a=0;for(n.push(0),i=1;i<=t;i++)e=this.getPoint(i/t),a+=e.distanceTo(r),n.push(a),r=e;return this.cacheArcLengths=n,n},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,e){var i,n=this.getLengths(),r=0,a=n.length;i=e?e:t*n[a-1];for(var o,s=0,c=a-1;s<=c;)if(r=Math.floor(s+(c-s)/2),o=n[r]-i,o<0)s=r+1;else{if(!(o>0)){c=r;break}c=r-1}if(r=c,n[r]===i){var h=r/(a-1);return h}var l=n[r],u=n[r+1],p=u-l,d=(i-l)/p,h=(r+d)/(a-1);return h},getTangent:function(t){var e=1e-4,i=t-e,n=t+e;i<0&&(i=0),n>1&&(n=1);var r=this.getPoint(i),a=this.getPoint(n),o=a.clone().sub(r);return o.normalize()},getTangentAt:function(t){var e=this.getUtoTmapping(t);return this.getTangent(e)},computeFrenetFrames:function(t,e){var i,n,r,a=new h,o=[],s=[],c=[],u=new h,p=new l;for(i=0;i<=t;i++)n=i/t,o[i]=this.getTangentAt(n),o[i].normalize();s[0]=new h,c[0]=new h;var d=Number.MAX_VALUE,f=Math.abs(o[0].x),m=Math.abs(o[0].y),v=Math.abs(o[0].z);for(f<=d&&(d=f,a.set(1,0,0)),m<=d&&(d=m,a.set(0,1,0)),v<=d&&a.set(0,0,1),u.crossVectors(o[0],a).normalize(),s[0].crossVectors(o[0],u),c[0].crossVectors(o[0],s[0]),i=1;i<=t;i++)s[i]=s[i-1].clone(),c[i]=c[i-1].clone(),u.crossVectors(o[i-1],o[i]),u.length()>Number.EPSILON&&(u.normalize(),r=Math.acos(Fo.clamp(o[i-1].dot(o[i]),-1,1)),s[i].applyMatrix4(p.makeRotationAxis(u,r))),c[i].crossVectors(o[i],s[i]);if(e===!0)for(r=Math.acos(Fo.clamp(s[0].dot(s[t]),-1,1)),r/=t,o[0].dot(u.crossVectors(s[0],s[t]))>0&&(r=-r),i=1;i<=t;i++)s[i].applyMatrix4(p.makeRotationAxis(o[i],r*i)),c[i].crossVectors(o[i],s[i]);return{tangents:o,normals:s,binormals:c}}},rn.create=function(t,e){return t.prototype=Object.create(rn.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t},an.prototype=Object.create(rn.prototype),an.prototype.constructor=an,an.prototype.isLineCurve=!0,an.prototype.getPoint=function(t){if(1===t)return this.v2.clone();var e=this.v2.clone().sub(this.v1);return e.multiplyScalar(t).add(this.v1),e},an.prototype.getPointAt=function(t){return this.getPoint(t)},an.prototype.getTangent=function(t){var e=this.v2.clone().sub(this.v1);return e.normalize()},on.prototype=Object.assign(Object.create(rn.prototype),{constructor:on,add:function(t){this.curves.push(t)},closePath:function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new an(e,t))},getPoint:function(t){for(var e=t*this.getLength(),i=this.getCurveLengths(),n=0;n<i.length;){if(i[n]>=e){var r=i[n]-e,a=this.curves[n],o=a.getLength(),s=0===o?0:1-r/o;return a.getPointAt(s)}n++}return null},getLength:function(){var t=this.getCurveLengths();return t[t.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,i=0,n=this.curves.length;i<n;i++)e+=this.curves[i].getLength(),t.push(e);return this.cacheLengths=t,t},getSpacedPoints:function(t){t||(t=40);for(var e=[],i=0;i<=t;i++)e.push(this.getPoint(i/t));return this.autoClose&&e.push(e[0]),e},getPoints:function(t){t=t||12;for(var e,i=[],n=0,r=this.curves;n<r.length;n++)for(var a=r[n],o=a&&a.isEllipseCurve?2*t:a&&a.isLineCurve?1:a&&a.isSplineCurve?t*a.points.length:t,s=a.getPoints(o),c=0;c<s.length;c++){var h=s[c];e&&e.equals(h)||(i.push(h),e=h)}return this.autoClose&&i.length>1&&!i[i.length-1].equals(i[0])&&i.push(i[0]),i},createPointsGeometry:function(t){var e=this.getPoints(t);return this.createGeometry(e)},createSpacedPointsGeometry:function(t){var e=this.getSpacedPoints(t);return this.createGeometry(e)},createGeometry:function(t){for(var e=new St,i=0,n=t.length;i<n;i++){var r=t[i];e.vertices.push(new h(r.x,r.y,r.z||0))}return e}}),sn.prototype=Object.create(rn.prototype),sn.prototype.constructor=sn,sn.prototype.isEllipseCurve=!0,sn.prototype.getPoint=function(t){for(var e=2*Math.PI,n=this.aEndAngle-this.aStartAngle,r=Math.abs(n)<Number.EPSILON;n<0;)n+=e;for(;n>e;)n-=e;n<Number.EPSILON&&(n=r?0:e),this.aClockwise!==!0||r||(n===e?n=-e:n-=e);var a=this.aStartAngle+t*n,o=this.aX+this.xRadius*Math.cos(a),s=this.aY+this.yRadius*Math.sin(a);if(0!==this.aRotation){var c=Math.cos(this.aRotation),h=Math.sin(this.aRotation),l=o-this.aX,u=s-this.aY;o=l*c-u*h+this.aX,s=l*h+u*c+this.aY}return new i(o,s)};var rh={tangentQuadraticBezier:function(t,e,i,n){return 2*(1-t)*(i-e)+2*t*(n-i)},tangentCubicBezier:function(t,e,i,n,r){return-3*e*(1-t)*(1-t)+3*i*(1-t)*(1-t)-6*t*i*(1-t)+6*t*n*(1-t)-3*t*t*n+3*t*t*r},tangentSpline:function(t,e,i,n,r){var a=6*t*t-6*t,o=3*t*t-4*t+1,s=-6*t*t+6*t,c=3*t*t-2*t;return a+o+s+c},interpolate:function(t,e,i,n,r){var a=.5*(i-t),o=.5*(n-e),s=r*r,c=r*s;return(2*e-2*i+a+o)*c+(-3*e+3*i-2*a-o)*s+a*r+e}};cn.prototype=Object.create(rn.prototype),cn.prototype.constructor=cn,cn.prototype.isSplineCurve=!0,cn.prototype.getPoint=function(t){var e=this.points,n=(e.length-1)*t,r=Math.floor(n),a=n-r,o=e[0===r?r:r-1],s=e[r],c=e[r>e.length-2?e.length-1:r+1],h=e[r>e.length-3?e.length-1:r+2],l=rh.interpolate;return new i(l(o.x,s.x,c.x,h.x,a),l(o.y,s.y,c.y,h.y,a))},hn.prototype=Object.create(rn.prototype),hn.prototype.constructor=hn,hn.prototype.getPoint=function(t){var e=Jc.b3;return new i(e(t,this.v0.x,this.v1.x,this.v2.x,this.v3.x),e(t,this.v0.y,this.v1.y,this.v2.y,this.v3.y))},hn.prototype.getTangent=function(t){var e=rh.tangentCubicBezier;return new i(e(t,this.v0.x,this.v1.x,this.v2.x,this.v3.x),e(t,this.v0.y,this.v1.y,this.v2.y,this.v3.y)).normalize()},ln.prototype=Object.create(rn.prototype),ln.prototype.constructor=ln,ln.prototype.getPoint=function(t){var e=Jc.b2;return new i(e(t,this.v0.x,this.v1.x,this.v2.x),e(t,this.v0.y,this.v1.y,this.v2.y))},ln.prototype.getTangent=function(t){var e=rh.tangentQuadraticBezier;return new i(e(t,this.v0.x,this.v1.x,this.v2.x),e(t,this.v0.y,this.v1.y,this.v2.y)).normalize()};var ah=Object.assign(Object.create(on.prototype),{fromPoints:function(t){this.moveTo(t[0].x,t[0].y);for(var e=1,i=t.length;e<i;e++)this.lineTo(t[e].x,t[e].y)},moveTo:function(t,e){this.currentPoint.set(t,e)},lineTo:function(t,e){var n=new an(this.currentPoint.clone(),new i(t,e));this.curves.push(n),this.currentPoint.set(t,e)},quadraticCurveTo:function(t,e,n,r){var a=new ln(this.currentPoint.clone(),new i(t,e),new i(n,r));this.curves.push(a),this.currentPoint.set(n,r)},bezierCurveTo:function(t,e,n,r,a,o){var s=new hn(this.currentPoint.clone(),new i(t,e),new i(n,r),new i(a,o));this.curves.push(s),this.currentPoint.set(a,o)},splineThru:function(t){var e=[this.currentPoint.clone()].concat(t),i=new cn(e);this.curves.push(i),this.currentPoint.copy(t[t.length-1])},arc:function(t,e,i,n,r,a){var o=this.currentPoint.x,s=this.currentPoint.y;this.absarc(t+o,e+s,i,n,r,a)},absarc:function(t,e,i,n,r,a){this.absellipse(t,e,i,i,n,r,a)},ellipse:function(t,e,i,n,r,a,o,s){var c=this.currentPoint.x,h=this.currentPoint.y;this.absellipse(t+c,e+h,i,n,r,a,o,s)},absellipse:function(t,e,i,n,r,a,o,s){var c=new sn(t,e,i,n,r,a,o,s);if(this.curves.length>0){var h=c.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(c);var l=c.getPoint(1);this.currentPoint.copy(l)}});un.prototype=Object.assign(Object.create(ah),{constructor:un,getPointsHoles:function(t){for(var e=[],i=0,n=this.holes.length;i<n;i++)e[i]=this.holes[i].getPoints(t);return e},extractAllPoints:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},extractPoints:function(t){return this.extractAllPoints(t)}}),pn.prototype=ah,ah.constructor=pn,dn.prototype={moveTo:function(t,e){this.currentPath=new pn,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e)},lineTo:function(t,e){this.currentPath.lineTo(t,e)},quadraticCurveTo:function(t,e,i,n){this.currentPath.quadraticCurveTo(t,e,i,n)},bezierCurveTo:function(t,e,i,n,r,a){this.currentPath.bezierCurveTo(t,e,i,n,r,a)},splineThru:function(t){this.currentPath.splineThru(t)},toShapes:function(t,e){function i(t){for(var e=[],i=0,n=t.length;i<n;i++){var r=t[i],a=new un;a.curves=r.curves,e.push(a)}return e}function n(t,e){for(var i=e.length,n=!1,r=i-1,a=0;a<i;r=a++){var o=e[r],s=e[a],c=s.x-o.x,h=s.y-o.y;if(Math.abs(h)>Number.EPSILON){if(h<0&&(o=e[a],c=-c,s=e[r],h=-h),t.y<o.y||t.y>s.y)continue;if(t.y===o.y){if(t.x===o.x)return!0}else{var l=h*(t.x-o.x)-c*(t.y-o.y);if(0===l)return!0;if(l<0)continue;n=!n}}else{if(t.y!==o.y)continue;if(s.x<=t.x&&t.x<=o.x||o.x<=t.x&&t.x<=s.x)return!0}}return n}var r=Jc.isClockWise,a=this.subPaths;if(0===a.length)return[];if(e===!0)return i(a);var o,s,c,h=[];if(1===a.length)return s=a[0],c=new un,c.curves=s.curves,h.push(c),h;var l=!r(a[0].getPoints());l=t?!l:l;var u,p=[],d=[],f=[],m=0;d[m]=void 0,f[m]=[];for(var v=0,g=a.length;v<g;v++)s=a[v],u=s.getPoints(),o=r(u),o=t?!o:o,o?(!l&&d[m]&&m++,d[m]={s:new un,p:u},d[m].s.curves=s.curves,l&&m++,f[m]=[]):f[m].push({h:s,p:u[0]});if(!d[0])return i(a);if(d.length>1){for(var y=!1,x=[],_=0,b=d.length;_<b;_++)p[_]=[];for(var _=0,b=d.length;_<b;_++)for(var w=f[_],M=0;M<w.length;M++){for(var E=w[M],T=!0,S=0;S<d.length;S++)n(E.p,d[S].p)&&(_!==S&&x.push({froms:_,tos:S,hole:M}),T?(T=!1,p[S].push(E)):y=!0);T&&p[_].push(E)}x.length>0&&(y||(f=p))}for(var A,v=0,L=d.length;v<L;v++){c=d[v].s,h.push(c),A=f[v];for(var R=0,P=A.length;R<P;R++)c.holes.push(A[R].h)}return h}},Object.assign(fn.prototype,{isFont:!0,generateShapes:function(t,e,i){function n(t){for(var i=String(t).split(\\\"\\\"),n=e/a.resolution,o=0,s=[],c=0;c<i.length;c++){\\nvar h=r(i[c],n,o);o+=h.offset,s.push(h.path)}return s}function r(t,e,n){var r=a.glyphs[t]||a.glyphs[\\\"?\\\"];if(r){var o,s,c,h,l,u,p,d,f,m,v,g=new dn,y=[],x=Jc.b2,_=Jc.b3;if(r.o)for(var b=r._cachedOutline||(r._cachedOutline=r.o.split(\\\" \\\")),w=0,M=b.length;w<M;){var E=b[w++];switch(E){case\\\"m\\\":o=b[w++]*e+n,s=b[w++]*e,g.moveTo(o,s);break;case\\\"l\\\":o=b[w++]*e+n,s=b[w++]*e,g.lineTo(o,s);break;case\\\"q\\\":if(c=b[w++]*e+n,h=b[w++]*e,p=b[w++]*e+n,d=b[w++]*e,g.quadraticCurveTo(p,d,c,h),v=y[y.length-1]){l=v.x,u=v.y;for(var T=1;T<=i;T++){var S=T/i;x(S,l,p,c),x(S,u,d,h)}}break;case\\\"b\\\":if(c=b[w++]*e+n,h=b[w++]*e,p=b[w++]*e+n,d=b[w++]*e,f=b[w++]*e+n,m=b[w++]*e,g.bezierCurveTo(p,d,f,m,c,h),v=y[y.length-1]){l=v.x,u=v.y;for(var T=1;T<=i;T++){var S=T/i;_(S,l,p,f,c),_(S,u,d,m,h)}}}}return{offset:r.ha*e,path:g}}}void 0===e&&(e=100),void 0===i&&(i=4);for(var a=this.data,o=n(t),s=[],c=0,h=o.length;c<h;c++)Array.prototype.push.apply(s,o[c].toShapes());return s}}),Object.assign(mn.prototype,{load:function(t,e,i,n){var r=this,a=new Mi(this.manager);a.load(t,function(t){var i;try{i=JSON.parse(t)}catch(e){console.warn(\\\"THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead.\\\"),i=JSON.parse(t.substring(65,t.length-2))}var n=r.parse(i);e&&e(n)},i,n)},parse:function(t){return new fn(t)}});var oh;Object.assign(gn.prototype,{load:function(t,e,i,n){var r=new Mi(this.manager);r.setResponseType(\\\"arraybuffer\\\"),r.load(t,function(t){var i=vn();i.decodeAudioData(t,function(t){e(t)})},i,n)}}),Object.assign(yn.prototype,{update:function(){var t,e,i,n,r,a,o,s=new l,c=new l;return function(h){var l=t!==this||e!==h.focus||i!==h.fov||n!==h.aspect*this.aspect||r!==h.near||a!==h.far||o!==h.zoom;if(l){t=this,e=h.focus,i=h.fov,n=h.aspect*this.aspect,r=h.near,a=h.far,o=h.zoom;var u,p,d=h.projectionMatrix.clone(),f=this.eyeSep/2,m=f*r/e,v=r*Math.tan(Fo.DEG2RAD*i*.5)/o;c.elements[12]=-f,s.elements[12]=f,u=-v*n+m,p=v*n+m,d.elements[0]=2*r/(p-u),d.elements[8]=(p+u)/(p-u),this.cameraL.projectionMatrix.copy(d),u=-v*n-m,p=v*n-m,d.elements[0]=2*r/(p-u),d.elements[8]=(p+u)/(p-u),this.cameraR.projectionMatrix.copy(d)}this.cameraL.matrixWorld.copy(h.matrixWorld).multiply(c),this.cameraR.matrixWorld.copy(h.matrixWorld).multiply(s)}}()}),xn.prototype=Object.create(ht.prototype),xn.prototype.constructor=xn,_n.prototype=Object.assign(Object.create(ht.prototype),{constructor:_n,getInput:function(){return this.gain},removeFilter:function(){null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null)},getFilter:function(){return this.filter},setFilter:function(t){null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination)},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(t){this.gain.gain.value=t},updateMatrixWorld:function(){var t=new h,e=new c,i=new h,n=new h;return function(r){ht.prototype.updateMatrixWorld.call(this,r);var a=this.context.listener,o=this.up;this.matrixWorld.decompose(t,e,i),n.set(0,0,-1).applyQuaternion(e),a.setPosition(t.x,t.y,t.z),a.setOrientation(n.x,n.y,n.z,o.x,o.y,o.z)}}()}),bn.prototype=Object.assign(Object.create(ht.prototype),{constructor:bn,getOutput:function(){return this.gain},setNodeSource:function(t){return this.hasPlaybackControl=!1,this.sourceType=\\\"audioNode\\\",this.source=t,this.connect(),this},setBuffer:function(t){return this.source.buffer=t,this.sourceType=\\\"buffer\\\",this.autoplay&&this.play(),this},play:function(){if(this.isPlaying===!0)return void console.warn(\\\"THREE.Audio: Audio is already playing.\\\");if(this.hasPlaybackControl===!1)return void console.warn(\\\"THREE.Audio: this Audio has no playback control.\\\");var t=this.context.createBufferSource();return t.buffer=this.source.buffer,t.loop=this.source.loop,t.onended=this.source.onended,t.start(0,this.startTime),t.playbackRate.value=this.playbackRate,this.isPlaying=!0,this.source=t,this.connect()},pause:function(){return this.hasPlaybackControl===!1?void console.warn(\\\"THREE.Audio: this Audio has no playback control.\\\"):(this.source.stop(),this.startTime=this.context.currentTime,this.isPlaying=!1,this)},stop:function(){return this.hasPlaybackControl===!1?void console.warn(\\\"THREE.Audio: this Audio has no playback control.\\\"):(this.source.stop(),this.startTime=0,this.isPlaying=!1,this)},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(t){return t||(t=[]),this.isPlaying===!0?(this.disconnect(),this.filters=t,this.connect()):this.filters=t,this},getFilter:function(){return this.getFilters()[0]},setFilter:function(t){return this.setFilters(t?[t]:[])},setPlaybackRate:function(t){return this.hasPlaybackControl===!1?void console.warn(\\\"THREE.Audio: this Audio has no playback control.\\\"):(this.playbackRate=t,this.isPlaying===!0&&(this.source.playbackRate.value=this.playbackRate),this)},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return this.hasPlaybackControl===!1?(console.warn(\\\"THREE.Audio: this Audio has no playback control.\\\"),!1):this.source.loop},setLoop:function(t){return this.hasPlaybackControl===!1?void console.warn(\\\"THREE.Audio: this Audio has no playback control.\\\"):void(this.source.loop=t)},getVolume:function(){return this.gain.gain.value},setVolume:function(t){return this.gain.gain.value=t,this}}),wn.prototype=Object.assign(Object.create(bn.prototype),{constructor:wn,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(t){this.panner.refDistance=t},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(t){this.panner.rolloffFactor=t},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(t){this.panner.distanceModel=t},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(t){this.panner.maxDistance=t},updateMatrixWorld:function(){var t=new h;return function(e){ht.prototype.updateMatrixWorld.call(this,e),t.setFromMatrixPosition(this.matrixWorld),this.panner.setPosition(t.x,t.y,t.z)}}()}),Object.assign(Mn.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var t=0,e=this.getFrequencyData(),i=0;i<e.length;i++)t+=e[i];return t/e.length}}),En.prototype={constructor:En,accumulate:function(t,e){var i=this.buffer,n=this.valueSize,r=t*n+n,a=this.cumulativeWeight;if(0===a){for(var o=0;o!==n;++o)i[r+o]=i[o];a=e}else{a+=e;var s=e/a;this._mixBufferRegion(i,r,0,s,n)}this.cumulativeWeight=a},apply:function(t){var e=this.valueSize,i=this.buffer,n=t*e+e,r=this.cumulativeWeight,a=this.binding;if(this.cumulativeWeight=0,r<1){var o=3*e;this._mixBufferRegion(i,n,o,1-r,e)}for(var s=e,c=e+e;s!==c;++s)if(i[s]!==i[s+e]){a.setValue(i,n);break}},saveOriginalState:function(){var t=this.binding,e=this.buffer,i=this.valueSize,n=3*i;t.getValue(e,n);for(var r=i,a=n;r!==a;++r)e[r]=e[n+r%i];this.cumulativeWeight=0},restoreOriginalState:function(){var t=3*this.valueSize;this.binding.setValue(this.buffer,t)},_select:function(t,e,i,n,r){if(n>=.5)for(var a=0;a!==r;++a)t[e+a]=t[i+a]},_slerp:function(t,e,i,n,r){c.slerpFlat(t,e,t,e,t,i,n)},_lerp:function(t,e,i,n,r){for(var a=1-n,o=0;o!==r;++o){var s=e+o;t[s]=t[s]*a+t[i+o]*n}}},Tn.prototype={constructor:Tn,getValue:function(t,e){this.bind(),this.getValue(t,e)},setValue:function(t,e){this.bind(),this.setValue(t,e)},bind:function(){var t=this.node,e=this.parsedPath,i=e.objectName,n=e.propertyName,r=e.propertyIndex;if(t||(t=Tn.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.error(\\\"  trying to update node for track: \\\"+this.path+\\\" but it wasn't found.\\\");if(i){var a=e.objectIndex;switch(i){case\\\"materials\\\":if(!t.material)return void console.error(\\\"  can not bind to material as node does not have a material\\\",this);if(!t.material.materials)return void console.error(\\\"  can not bind to material.materials as node.material does not have a materials array\\\",this);t=t.material.materials;break;case\\\"bones\\\":if(!t.skeleton)return void console.error(\\\"  can not bind to bones as node does not have a skeleton\\\",this);t=t.skeleton.bones;for(var o=0;o<t.length;o++)if(t[o].name===a){a=o;break}break;default:if(void 0===t[i])return void console.error(\\\"  can not bind to objectName of node, undefined\\\",this);t=t[i]}if(void 0!==a){if(void 0===t[a])return void console.error(\\\"  trying to bind to objectIndex of objectName, but is undefined:\\\",this,t);t=t[a]}}var s=t[n];if(void 0===s){var c=e.nodeName;return void console.error(\\\"  trying to update property for track: \\\"+c+\\\".\\\"+n+\\\" but it wasn't found.\\\",t)}var h=this.Versioning.None;void 0!==t.needsUpdate?(h=this.Versioning.NeedsUpdate,this.targetObject=t):void 0!==t.matrixWorldNeedsUpdate&&(h=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=t);var l=this.BindingType.Direct;if(void 0!==r){if(\\\"morphTargetInfluences\\\"===n){if(!t.geometry)return void console.error(\\\"  can not bind to morphTargetInfluences becasuse node does not have a geometry\\\",this);if(!t.geometry.morphTargets)return void console.error(\\\"  can not bind to morphTargetInfluences becasuse node does not have a geometry.morphTargets\\\",this);for(var o=0;o<this.node.geometry.morphTargets.length;o++)if(t.geometry.morphTargets[o].name===r){r=o;break}}l=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=r}else void 0!==s.fromArray&&void 0!==s.toArray?(l=this.BindingType.HasFromToArray,this.resolvedProperty=s):void 0!==s.length?(l=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=n;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][h]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}},Object.assign(Tn.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},_getValue_unbound:Tn.prototype.getValue,_setValue_unbound:Tn.prototype.setValue,BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,e){t[e]=this.node[this.propertyName]},function(t,e){for(var i=this.resolvedProperty,n=0,r=i.length;n!==r;++n)t[e++]=i[n]},function(t,e){t[e]=this.resolvedProperty[this.propertyIndex]},function(t,e){this.resolvedProperty.toArray(t,e)}],SetterByBindingTypeAndVersioning:[[function(t,e){this.node[this.propertyName]=t[e]},function(t,e){this.node[this.propertyName]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.node[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){for(var i=this.resolvedProperty,n=0,r=i.length;n!==r;++n)i[n]=t[e++]},function(t,e){for(var i=this.resolvedProperty,n=0,r=i.length;n!==r;++n)i[n]=t[e++];this.targetObject.needsUpdate=!0},function(t,e){for(var i=this.resolvedProperty,n=0,r=i.length;n!==r;++n)i[n]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty[this.propertyIndex]=t[e]},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty.fromArray(t,e)},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}]]}),Tn.Composite=function(t,e,i){var n=i||Tn.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,n)},Tn.Composite.prototype={constructor:Tn.Composite,getValue:function(t,e){this.bind();var i=this._targetGroup.nCachedObjects_,n=this._bindings[i];void 0!==n&&n.getValue(t,e)},setValue:function(t,e){for(var i=this._bindings,n=this._targetGroup.nCachedObjects_,r=i.length;n!==r;++n)i[n].setValue(t,e)},bind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].bind()},unbind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].unbind()}},Tn.create=function(t,e,i){return t&&t.isAnimationObjectGroup?new Tn.Composite(t,e,i):new Tn(t,e,i)},Tn.parseTrackName=function(t){var e=/^((?:\\\\w+[\\\\/:])*)(\\\\w+)?(?:\\\\.(\\\\w+)(?:\\\\[(.+)\\\\])?)?\\\\.(\\\\w+)(?:\\\\[(.+)\\\\])?$/,i=e.exec(t);if(!i)throw new Error(\\\"cannot parse trackName at all: \\\"+t);var n={nodeName:i[2],objectName:i[3],objectIndex:i[4],propertyName:i[5],propertyIndex:i[6]};if(null===n.propertyName||0===n.propertyName.length)throw new Error(\\\"can not parse propertyName from trackName: \\\"+t);return n},Tn.findNode=function(t,e){if(!e||\\\"\\\"===e||\\\"root\\\"===e||\\\".\\\"===e||e===-1||e===t.name||e===t.uuid)return t;if(t.skeleton){var i=function(t){for(var i=0;i<t.bones.length;i++){var n=t.bones[i];if(n.name===e)return n}return null},n=i(t.skeleton);if(n)return n}if(t.children){var r=function(t){for(var i=0;i<t.length;i++){var n=t[i];if(n.name===e||n.uuid===e)return n;var a=r(n.children);if(a)return a}return null},a=r(t.children);if(a)return a}return null},Sn.prototype={constructor:Sn,isAnimationObjectGroup:!0,add:function(t){for(var e=this._objects,i=e.length,n=this.nCachedObjects_,r=this._indicesByUUID,a=this._paths,o=this._parsedPaths,s=this._bindings,c=s.length,h=0,l=arguments.length;h!==l;++h){var u=arguments[h],p=u.uuid,d=r[p];if(void 0===d){d=i++,r[p]=d,e.push(u);for(var f=0,m=c;f!==m;++f)s[f].push(new Tn(u,a[f],o[f]))}else if(d<n){var v=e[d],g=--n,y=e[g];r[y.uuid]=d,e[d]=y,r[p]=g,e[g]=u;for(var f=0,m=c;f!==m;++f){var x=s[f],_=x[g],b=x[d];x[d]=_,void 0===b&&(b=new Tn(u,a[f],o[f])),x[g]=b}}else e[d]!==v&&console.error(\\\"Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes...\\\")}this.nCachedObjects_=n},remove:function(t){for(var e=this._objects,i=this.nCachedObjects_,n=this._indicesByUUID,r=this._bindings,a=r.length,o=0,s=arguments.length;o!==s;++o){var c=arguments[o],h=c.uuid,l=n[h];if(void 0!==l&&l>=i){var u=i++,p=e[u];n[p.uuid]=l,e[l]=p,n[h]=u,e[u]=c;for(var d=0,f=a;d!==f;++d){var m=r[d],v=m[u],g=m[l];m[l]=v,m[u]=g}}}this.nCachedObjects_=i},uncache:function(t){for(var e=this._objects,i=e.length,n=this.nCachedObjects_,r=this._indicesByUUID,a=this._bindings,o=a.length,s=0,c=arguments.length;s!==c;++s){var h=arguments[s],l=h.uuid,u=r[l];if(void 0!==u)if(delete r[l],u<n){var p=--n,d=e[p],f=--i,m=e[f];r[d.uuid]=u,e[u]=d,r[m.uuid]=p,e[p]=m,e.pop();for(var v=0,g=o;v!==g;++v){var y=a[v],x=y[p],_=y[f];y[u]=x,y[p]=_,y.pop()}}else{var f=--i,m=e[f];r[m.uuid]=u,e[u]=m,e.pop();for(var v=0,g=o;v!==g;++v){var y=a[v];y[u]=y[f],y.pop()}}}this.nCachedObjects_=n},subscribe_:function(t,e){var i=this._bindingsIndicesByPath,n=i[t],r=this._bindings;if(void 0!==n)return r[n];var a=this._paths,o=this._parsedPaths,s=this._objects,c=s.length,h=this.nCachedObjects_,l=new Array(c);n=r.length,i[t]=n,a.push(t),o.push(e),r.push(l);for(var u=h,p=s.length;u!==p;++u){var d=s[u];l[u]=new Tn(d,t,e)}return l},unsubscribe_:function(t){var e=this._bindingsIndicesByPath,i=e[t];if(void 0!==i){var n=this._paths,r=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o],c=t[o];e[c]=i,a[i]=s,a.pop(),r[i]=r[o],r.pop(),n[i]=n[o],n.pop()}}},An.prototype={constructor:An,play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(t){return this._startTime=t,this},setLoop:function(t,e){return this.loop=t,this.repetitions=e,this},setEffectiveWeight:function(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(t){return this._scheduleFading(t,0,1)},fadeOut:function(t){return this._scheduleFading(t,1,0)},crossFadeFrom:function(t,e,i){if(t.fadeOut(e),this.fadeIn(e),i){var n=this._clip.duration,r=t._clip.duration,a=r/n,o=n/r;t.warp(1,a,e),this.warp(o,1,e)}return this},crossFadeTo:function(t,e,i){return t.crossFadeFrom(this,e,i)},stopFading:function(){var t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},setEffectiveTimeScale:function(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(t){return this.timeScale=this._clip.duration/t,this.stopWarping()},syncWith:function(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()},halt:function(t){return this.warp(this._effectiveTimeScale,0,t)},warp:function(t,e,i){var n=this._mixer,r=n.time,a=this._timeScaleInterpolant,o=this.timeScale;null===a&&(a=n._lendControlInterpolant(),this._timeScaleInterpolant=a);var s=a.parameterPositions,c=a.sampleValues;return s[0]=r,s[1]=r+i,c[0]=t/o,c[1]=e/o,this},stopWarping:function(){var t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(t,e,i,n){var r=this._startTime;if(null!==r){var a=(t-r)*i;if(a<0||0===i)return;this._startTime=null,e=i*a}e*=this._updateTimeScale(t);var o=this._updateTime(e),s=this._updateWeight(t);if(s>0)for(var c=this._interpolants,h=this._propertyBindings,l=0,u=c.length;l!==u;++l)c[l].evaluate(o),h[l].accumulate(n,s)},_updateWeight:function(t){var e=0;if(this.enabled){e=this.weight;var i=this._weightInterpolant;if(null!==i){var n=i.evaluate(t)[0];e*=n,t>i.parameterPositions[1]&&(this.stopFading(),0===n&&(this.enabled=!1))}}return this._effectiveWeight=e,e},_updateTimeScale:function(t){var e=0;if(!this.paused){e=this.timeScale;var i=this._timeScaleInterpolant;if(null!==i){var n=i.evaluate(t)[0];e*=n,t>i.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e)}}return this._effectiveTimeScale=e,e},_updateTime:function(t){var e=this.time+t;if(0===t)return e;var i=this._clip.duration,n=this.loop,r=this._loopCount;if(n===mo){r===-1&&(this.loopCount=0,this._setEndings(!0,!0,!1));t:{if(e>=i)e=i;else{if(!(e<0))break t;e=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:\\\"finished\\\",action:this,direction:t<0?-1:1})}}else{var a=n===go;if(r===-1&&(t>=0?(r=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),e>=i||e<0){var o=Math.floor(e/i);e-=i*o,r+=Math.abs(o);var s=this.repetitions-r;if(s<0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,e=t>0?i:0,this._mixer.dispatchEvent({type:\\\"finished\\\",action:this,direction:t>0?1:-1});else{if(0===s){var c=t<0;this._setEndings(c,!c,a)}else this._setEndings(!1,!1,a);this._loopCount=r,this._mixer.dispatchEvent({type:\\\"loop\\\",action:this,loopDelta:o})}}if(a&&1===(1&r))return this.time=e,i-e}return this.time=e,e},_setEndings:function(t,e,i){var n=this._interpolantSettings;i?(n.endingStart=wo,n.endingEnd=wo):(t?n.endingStart=this.zeroSlopeAtStart?wo:bo:n.endingStart=Mo,e?n.endingEnd=this.zeroSlopeAtEnd?wo:bo:n.endingEnd=Mo)},_scheduleFading:function(t,e,i){var n=this._mixer,r=n.time,a=this._weightInterpolant;null===a&&(a=n._lendControlInterpolant(),this._weightInterpolant=a);var o=a.parameterPositions,s=a.sampleValues;return o[0]=r,s[0]=e,o[1]=r+t,s[1]=i,this}},Object.assign(Ln.prototype,e.prototype,{clipAction:function(t,e){var i=e||this._root,n=i.uuid,r=\\\"string\\\"==typeof t?Qi.findByName(i,t):t,a=null!==r?r.uuid:t,o=this._actionsByClip[a],s=null;if(void 0!==o){var c=o.actionByRoot[n];if(void 0!==c)return c;s=o.knownActions[0],null===r&&(r=s._clip)}if(null===r)return null;var h=new An(this,r,e);return this._bindAction(h,s),this._addInactiveAction(h,a,n),h},existingAction:function(t,e){var i=e||this._root,n=i.uuid,r=\\\"string\\\"==typeof t?Qi.findByName(i,t):t,a=r?r.uuid:t,o=this._actionsByClip[a];return void 0!==o?o.actionByRoot[n]||null:null},stopAllAction:function(){var t=this._actions,e=this._nActiveActions,i=this._bindings,n=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var r=0;r!==e;++r)t[r].reset();for(var r=0;r!==n;++r)i[r].useCount=0;return this},update:function(t){t*=this.timeScale;for(var e=this._actions,i=this._nActiveActions,n=this.time+=t,r=Math.sign(t),a=this._accuIndex^=1,o=0;o!==i;++o){var s=e[o];s.enabled&&s._update(n,t,r,a)}for(var c=this._bindings,h=this._nActiveBindings,o=0;o!==h;++o)c[o].apply(a);return this},getRoot:function(){return this._root},uncacheClip:function(t){var e=this._actions,i=t.uuid,n=this._actionsByClip,r=n[i];if(void 0!==r){for(var a=r.knownActions,o=0,s=a.length;o!==s;++o){var c=a[o];this._deactivateAction(c);var h=c._cacheIndex,l=e[e.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,l._cacheIndex=h,e[h]=l,e.pop(),this._removeInactiveBindingsForAction(c)}delete n[i]}},uncacheRoot:function(t){var e=t.uuid,i=this._actionsByClip;for(var n in i){var r=i[n].actionByRoot,a=r[e];void 0!==a&&(this._deactivateAction(a),this._removeInactiveAction(a))}var o=this._bindingsByRootAndName,s=o[e];if(void 0!==s)for(var c in s){var h=s[c];h.restoreOriginalState(),this._removeInactiveBinding(h)}},uncacheAction:function(t,e){var i=this.existingAction(t,e);null!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}}),Object.assign(Ln.prototype,{_bindAction:function(t,e){var i=t._localRoot||this._root,n=t._clip.tracks,r=n.length,a=t._propertyBindings,o=t._interpolants,s=i.uuid,c=this._bindingsByRootAndName,h=c[s];void 0===h&&(h={},c[s]=h);for(var l=0;l!==r;++l){var u=n[l],p=u.name,d=h[p];if(void 0!==d)a[l]=d;else{if(d=a[l],void 0!==d){null===d._cacheIndex&&(++d.referenceCount,this._addInactiveBinding(d,s,p));continue}var f=e&&e._propertyBindings[l].binding.parsedPath;d=new En(Tn.create(i,p,f),u.ValueTypeName,u.getValueSize()),++d.referenceCount,this._addInactiveBinding(d,s,p),a[l]=d}o[l].resultBuffer=d.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){var e=(t._localRoot||this._root).uuid,i=t._clip.uuid,n=this._actionsByClip[i];this._bindAction(t,n&&n.knownActions[0]),this._addInactiveAction(t,i,e)}for(var r=t._propertyBindings,a=0,o=r.length;a!==o;++a){var s=r[a];0===s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){for(var e=t._propertyBindings,i=0,n=e.length;i!==n;++i){var r=e[i];0===--r.useCount&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){var e=t._cacheIndex;return null!==e&&e<this._nActiveActions},_addInactiveAction:function(t,e,i){var n=this._actions,r=this._actionsByClip,a=r[e];if(void 0===a)a={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,r[e]=a;else{var o=a.knownActions;t._byClipCacheIndex=o.length,o.push(t)}t._cacheIndex=n.length,n.push(t),a.actionByRoot[i]=t},_removeInactiveAction:function(t){var e=this._actions,i=e[e.length-1],n=t._cacheIndex;i._cacheIndex=n,e[n]=i,e.pop(),t._cacheIndex=null;var r=t._clip.uuid,a=this._actionsByClip,o=a[r],s=o.knownActions,c=s[s.length-1],h=t._byClipCacheIndex;c._byClipCacheIndex=h,s[h]=c,s.pop(),t._byClipCacheIndex=null;var l=o.actionByRoot,u=(e._localRoot||this._root).uuid;delete l[u],0===s.length&&delete a[r],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){for(var e=t._propertyBindings,i=0,n=e.length;i!==n;++i){var r=e[i];0===--r.referenceCount&&this._removeInactiveBinding(r)}},_lendAction:function(t){var e=this._actions,i=t._cacheIndex,n=this._nActiveActions++,r=e[n];t._cacheIndex=n,e[n]=t,r._cacheIndex=i,e[i]=r},_takeBackAction:function(t){var e=this._actions,i=t._cacheIndex,n=--this._nActiveActions,r=e[n];t._cacheIndex=n,e[n]=t,r._cacheIndex=i,e[i]=r},_addInactiveBinding:function(t,e,i){var n=this._bindingsByRootAndName,r=n[e],a=this._bindings;void 0===r&&(r={},n[e]=r),r[i]=t,t._cacheIndex=a.length,a.push(t)},_removeInactiveBinding:function(t){var e=this._bindings,i=t.binding,n=i.rootNode.uuid,r=i.path,a=this._bindingsByRootAndName,o=a[n],s=e[e.length-1],c=t._cacheIndex;s._cacheIndex=c,e[c]=s,e.pop(),delete o[r];t:{for(var h in o)break t;delete a[n]}},_lendBinding:function(t){var e=this._bindings,i=t._cacheIndex,n=this._nActiveBindings++,r=e[n];t._cacheIndex=n,e[n]=t,r._cacheIndex=i,e[i]=r},_takeBackBinding:function(t){var e=this._bindings,i=t._cacheIndex,n=--this._nActiveBindings,r=e[n];t._cacheIndex=n,e[n]=t,r._cacheIndex=i,e[i]=r},_lendControlInterpolant:function(){var t=this._controlInterpolants,e=this._nActiveControlInterpolants++,i=t[e];return void 0===i&&(i=new Gi(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),i.__cacheIndex=e,t[e]=i),i},_takeBackControlInterpolant:function(t){var e=this._controlInterpolants,i=t.__cacheIndex,n=--this._nActiveControlInterpolants,r=e[n];t.__cacheIndex=n,e[n]=t,r.__cacheIndex=i,e[i]=r},_controlInterpolantsResultBuffer:new Float32Array(1)}),Pn.prototype=Object.create(Rt.prototype),Pn.prototype.constructor=Pn,Pn.prototype.isInstancedBufferGeometry=!0,Pn.prototype.addGroup=function(t,e,i){this.groups.push({start:t,count:e,materialIndex:i})},Pn.prototype.copy=function(t){var e=t.index;null!==e&&this.setIndex(e.clone());var i=t.attributes;for(var n in i){var r=i[n];this.addAttribute(n,r.clone())}for(var a=t.groups,o=0,s=a.length;o<s;o++){var c=a[o];this.addGroup(c.start,c.count,c.materialIndex)}return this},Cn.prototype={constructor:Cn,isInterleavedBufferAttribute:!0,get count(){return this.data.count},get array(){return this.data.array},setX:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,e,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=i,this},setXYZ:function(t,e,i,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=n,this},setXYZW:function(t,e,i,n,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=n,this.data.array[t+3]=r,this}},In.prototype={constructor:In,isInterleavedBuffer:!0,set needsUpdate(t){t===!0&&this.version++},setArray:function(t){if(Array.isArray(t))throw new TypeError(\\\"THREE.BufferAttribute: array should be a Typed Array.\\\");this.count=void 0!==t?t.length/this.stride:0,this.array=t},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.dynamic=t.dynamic,this},copyAt:function(t,e,i){t*=this.stride,i*=e.stride;for(var n=0,r=this.stride;n<r;n++)this.array[t+n]=e.array[i+n];return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},clone:function(){return(new this.constructor).copy(this)}},Un.prototype=Object.create(In.prototype),Un.prototype.constructor=Un,Un.prototype.isInstancedInterleavedBuffer=!0,Un.prototype.copy=function(t){return In.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},Nn.prototype=Object.create(mt.prototype),Nn.prototype.constructor=Nn,Nn.prototype.isInstancedBufferAttribute=!0,Nn.prototype.copy=function(t){return mt.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},Dn.prototype={constructor:Dn,linePrecision:1,set:function(t,e){this.ray.set(t,e)},setFromCamera:function(t,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize()):e&&e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld)):console.error(\\\"THREE.Raycaster: Unsupported camera type.\\\")},intersectObject:function(t,e){var i=[];return Fn(t,this,i,e),i.sort(On),i},intersectObjects:function(t,e){var i=[];if(Array.isArray(t)===!1)return console.warn(\\\"THREE.Raycaster.intersectObjects: objects is not an Array.\\\"),i;for(var n=0,r=t.length;n<r;n++)Fn(t[n],this,i,e);return i.sort(On),i}},Bn.prototype={constructor:Bn,start:function(){this.startTime=(performance||Date).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var t=0;if(this.autoStart&&!this.running&&this.start(),this.running){var e=(performance||Date).now();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}},Gn.prototype={constructor:Gn,set:function(t,e,i){return this.radius=t,this.phi=e,this.theta=i,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this},makeSafe:function(){var t=1e-6;return this.phi=Math.max(t,Math.min(Math.PI-t,this.phi)),this},setFromVector3:function(t){return this.radius=t.length(),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t.x,t.z),this.phi=Math.acos(Fo.clamp(t.y/this.radius,-1,1))),this}},Hn.prototype=Object.create(Pt.prototype),Hn.prototype.constructor=Hn,Hn.prototype.createAnimation=function(t,e,i,n){var r={start:e,end:i,length:i-e+1,fps:n,duration:(i-e)/n,lastFrame:0,currentFrame:0,active:!1,time:0,direction:1,weight:1,directionBackwards:!1,mirroredLoop:!1};this.animationsMap[t]=r,this.animationsList.push(r)},Hn.prototype.autoCreateAnimations=function(t){for(var e,i=/([a-z]+)_?(\\\\d+)/i,n={},r=this.geometry,a=0,o=r.morphTargets.length;a<o;a++){var s=r.morphTargets[a],c=s.name.match(i);if(c&&c.length>1){var h=c[1];n[h]||(n[h]={start:1/0,end:-(1/0)});var l=n[h];a<l.start&&(l.start=a),a>l.end&&(l.end=a),e||(e=h)}}for(var h in n){var l=n[h];this.createAnimation(h,l.start,l.end,t);\\n}this.firstAnimation=e},Hn.prototype.setAnimationDirectionForward=function(t){var e=this.animationsMap[t];e&&(e.direction=1,e.directionBackwards=!1)},Hn.prototype.setAnimationDirectionBackward=function(t){var e=this.animationsMap[t];e&&(e.direction=-1,e.directionBackwards=!0)},Hn.prototype.setAnimationFPS=function(t,e){var i=this.animationsMap[t];i&&(i.fps=e,i.duration=(i.end-i.start)/i.fps)},Hn.prototype.setAnimationDuration=function(t,e){var i=this.animationsMap[t];i&&(i.duration=e,i.fps=(i.end-i.start)/i.duration)},Hn.prototype.setAnimationWeight=function(t,e){var i=this.animationsMap[t];i&&(i.weight=e)},Hn.prototype.setAnimationTime=function(t,e){var i=this.animationsMap[t];i&&(i.time=e)},Hn.prototype.getAnimationTime=function(t){var e=0,i=this.animationsMap[t];return i&&(e=i.time),e},Hn.prototype.getAnimationDuration=function(t){var e=-1,i=this.animationsMap[t];return i&&(e=i.duration),e},Hn.prototype.playAnimation=function(t){var e=this.animationsMap[t];e?(e.time=0,e.active=!0):console.warn(\\\"THREE.MorphBlendMesh: animation[\\\"+t+\\\"] undefined in .playAnimation()\\\")},Hn.prototype.stopAnimation=function(t){var e=this.animationsMap[t];e&&(e.active=!1)},Hn.prototype.update=function(t){for(var e=0,i=this.animationsList.length;e<i;e++){var n=this.animationsList[e];if(n.active){var r=n.duration/n.length;n.time+=n.direction*t,n.mirroredLoop?(n.time>n.duration||n.time<0)&&(n.direction*=-1,n.time>n.duration&&(n.time=n.duration,n.directionBackwards=!0),n.time<0&&(n.time=0,n.directionBackwards=!1)):(n.time=n.time%n.duration,n.time<0&&(n.time+=n.duration));var a=n.start+Fo.clamp(Math.floor(n.time/r),0,n.length-1),o=n.weight;a!==n.currentFrame&&(this.morphTargetInfluences[n.lastFrame]=0,this.morphTargetInfluences[n.currentFrame]=1*o,this.morphTargetInfluences[a]=0,n.lastFrame=n.currentFrame,n.currentFrame=a);var s=n.time%r/r;n.directionBackwards&&(s=1-s),n.currentFrame!==n.lastFrame?(this.morphTargetInfluences[n.currentFrame]=s*o,this.morphTargetInfluences[n.lastFrame]=(1-s)*o):this.morphTargetInfluences[n.currentFrame]=o}}},Vn.prototype=Object.create(ht.prototype),Vn.prototype.constructor=Vn,Vn.prototype.isImmediateRenderObject=!0,kn.prototype=Object.create(we.prototype),kn.prototype.constructor=kn,kn.prototype.update=function(){var t=new h,e=new h,i=new it;return function(){var n=[\\\"a\\\",\\\"b\\\",\\\"c\\\"];this.object.updateMatrixWorld(!0),i.getNormalMatrix(this.object.matrixWorld);var r=this.object.matrixWorld,a=this.geometry.attributes.position,o=this.object.geometry;if(o&&o.isGeometry)for(var s=o.vertices,c=o.faces,h=0,l=0,u=c.length;l<u;l++)for(var p=c[l],d=0,f=p.vertexNormals.length;d<f;d++){var m=s[p[n[d]]],v=p.vertexNormals[d];t.copy(m).applyMatrix4(r),e.copy(v).applyMatrix3(i).normalize().multiplyScalar(this.size).add(t),a.setXYZ(h,t.x,t.y,t.z),h+=1,a.setXYZ(h,e.x,e.y,e.z),h+=1}else if(o&&o.isBufferGeometry)for(var g=o.attributes.position,y=o.attributes.normal,h=0,d=0,f=g.count;d<f;d++)t.set(g.getX(d),g.getY(d),g.getZ(d)).applyMatrix4(r),e.set(y.getX(d),y.getY(d),y.getZ(d)),e.applyMatrix3(i).normalize().multiplyScalar(this.size).add(t),a.setXYZ(h,t.x,t.y,t.z),h+=1,a.setXYZ(h,e.x,e.y,e.z),h+=1;return a.needsUpdate=!0,this}}(),jn.prototype=Object.create(ht.prototype),jn.prototype.constructor=jn,jn.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},jn.prototype.update=function(){var t=new h,e=new h;return function(){var i=this.light.distance?this.light.distance:1e3,n=i*Math.tan(this.light.angle);this.cone.scale.set(n,n,i),t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(e.sub(t)),this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)}}(),Wn.prototype=Object.create(we.prototype),Wn.prototype.constructor=Wn,Wn.prototype.getBoneList=function(t){var e=[];t&&t.isBone&&e.push(t);for(var i=0;i<t.children.length;i++)e.push.apply(e,this.getBoneList(t.children[i]));return e},Wn.prototype.update=function(){for(var t=this.geometry,e=(new l).getInverse(this.root.matrixWorld),i=new l,n=0,r=0;r<this.bones.length;r++){var a=this.bones[r];a.parent&&a.parent.isBone&&(i.multiplyMatrices(e,a.matrixWorld),t.vertices[n].setFromMatrixPosition(i),i.multiplyMatrices(e,a.parent.matrixWorld),t.vertices[n+1].setFromMatrixPosition(i),n+=2)}t.verticesNeedUpdate=!0,t.computeBoundingSphere()},Xn.prototype=Object.create(Pt.prototype),Xn.prototype.constructor=Xn,Xn.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},Xn.prototype.update=function(){this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)},Yn.prototype=Object.create(ht.prototype),Yn.prototype.constructor=Yn,Yn.prototype.dispose=function(){this.lightSphere.geometry.dispose(),this.lightSphere.material.dispose()},Yn.prototype.update=function(){var t=new h;return function(){this.colors[0].copy(this.light.color).multiplyScalar(this.light.intensity),this.colors[1].copy(this.light.groundColor).multiplyScalar(this.light.intensity),this.lightSphere.lookAt(t.setFromMatrixPosition(this.light.matrixWorld).negate()),this.lightSphere.geometry.colorsNeedUpdate=!0}}(),qn.prototype=Object.create(we.prototype),qn.prototype.constructor=qn,qn.prototype.setColors=function(){console.error(\\\"THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.\\\")},Zn.prototype=Object.create(we.prototype),Zn.prototype.constructor=Zn,Zn.prototype.update=function(){var t=new h,e=new h,i=new it;return function(){this.object.updateMatrixWorld(!0),i.getNormalMatrix(this.object.matrixWorld);for(var n=this.object.matrixWorld,r=this.geometry.attributes.position,a=this.object.geometry,o=a.vertices,s=a.faces,c=0,h=0,l=s.length;h<l;h++){var u=s[h],p=u.normal;t.copy(o[u.a]).add(o[u.b]).add(o[u.c]).divideScalar(3).applyMatrix4(n),e.copy(p).applyMatrix3(i).normalize().multiplyScalar(this.size).add(t),r.setXYZ(c,t.x,t.y,t.z),c+=1,r.setXYZ(c,e.x,e.y,e.z),c+=1}return r.needsUpdate=!0,this}}(),Jn.prototype=Object.create(ht.prototype),Jn.prototype.constructor=Jn,Jn.prototype.dispose=function(){var t=this.children[0],e=this.children[1];t.geometry.dispose(),t.material.dispose(),e.geometry.dispose(),e.material.dispose()},Jn.prototype.update=function(){var t=new h,e=new h,i=new h;return function(){t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),i.subVectors(e,t);var n=this.children[0],r=this.children[1];n.lookAt(i),n.material.color.copy(this.light.color).multiplyScalar(this.light.intensity),r.lookAt(i),r.scale.z=i.length()}}(),Qn.prototype=Object.create(we.prototype),Qn.prototype.constructor=Qn,Qn.prototype.update=function(){function t(t,a,o,s){n.set(a,o,s).unproject(r);var c=i[t];if(void 0!==c)for(var h=0,l=c.length;h<l;h++)e.vertices[c[h]].copy(n)}var e,i,n=new h,r=new Ut;return function(){e=this.geometry,i=this.pointMap;var n=1,a=1;r.projectionMatrix.copy(this.camera.projectionMatrix),t(\\\"c\\\",0,0,-1),t(\\\"t\\\",0,0,1),t(\\\"n1\\\",-n,-a,-1),t(\\\"n2\\\",n,-a,-1),t(\\\"n3\\\",-n,a,-1),t(\\\"n4\\\",n,a,-1),t(\\\"f1\\\",-n,-a,1),t(\\\"f2\\\",n,-a,1),t(\\\"f3\\\",-n,a,1),t(\\\"f4\\\",n,a,1),t(\\\"u1\\\",.7*n,1.1*a,-1),t(\\\"u2\\\",.7*-n,1.1*a,-1),t(\\\"u3\\\",0,2*a,-1),t(\\\"cf1\\\",-n,0,1),t(\\\"cf2\\\",n,0,1),t(\\\"cf3\\\",0,-a,1),t(\\\"cf4\\\",0,a,1),t(\\\"cn1\\\",-n,0,-1),t(\\\"cn2\\\",n,0,-1),t(\\\"cn3\\\",0,-a,-1),t(\\\"cn4\\\",0,a,-1),e.verticesNeedUpdate=!0}}(),Kn.prototype=Object.create(Pt.prototype),Kn.prototype.constructor=Kn,Kn.prototype.update=function(){this.box.setFromObject(this.object),this.box.getSize(this.scale),this.box.getCenter(this.position)},$n.prototype=Object.create(we.prototype),$n.prototype.constructor=$n,$n.prototype.update=function(){var t=new tt;return function(e){if(e&&e.isBox3?t.copy(e):t.setFromObject(e),!t.isEmpty()){var i=t.min,n=t.max,r=this.geometry.attributes.position,a=r.array;a[0]=n.x,a[1]=n.y,a[2]=n.z,a[3]=i.x,a[4]=n.y,a[5]=n.z,a[6]=i.x,a[7]=i.y,a[8]=n.z,a[9]=n.x,a[10]=i.y,a[11]=n.z,a[12]=n.x,a[13]=n.y,a[14]=i.z,a[15]=i.x,a[16]=n.y,a[17]=i.z,a[18]=i.x,a[19]=i.y,a[20]=i.z,a[21]=n.x,a[22]=i.y,a[23]=i.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}();var sh=new Rt;sh.addAttribute(\\\"position\\\",new Mt([0,0,0,0,1,0],3));var ch=new oi(0,.5,1,5,1);ch.translate(0,-.5,0),tr.prototype=Object.create(ht.prototype),tr.prototype.constructor=tr,tr.prototype.setDirection=function(){var t,e=new h;return function(i){i.y>.99999?this.quaternion.set(0,0,0,1):i.y<-.99999?this.quaternion.set(1,0,0,0):(e.set(i.z,0,-i.x).normalize(),t=Math.acos(i.y),this.quaternion.setFromAxisAngle(e,t))}}(),tr.prototype.setLength=function(t,e,i){void 0===e&&(e=.2*t),void 0===i&&(i=.2*e),this.line.scale.set(1,Math.max(0,t-e),1),this.line.updateMatrix(),this.cone.scale.set(i,e,i),this.cone.position.y=t,this.cone.updateMatrix()},tr.prototype.setColor=function(t){this.line.material.color.copy(t),this.cone.material.color.copy(t)},er.prototype=Object.create(we.prototype),er.prototype.constructor=er;var hh=function(){function t(){}var e=new h,i=new t,n=new t,r=new t;return t.prototype.init=function(t,e,i,n){this.c0=t,this.c1=i,this.c2=-3*t+3*e-2*i-n,this.c3=2*t-2*e+i+n},t.prototype.initNonuniformCatmullRom=function(t,e,i,n,r,a,o){var s=(e-t)/r-(i-t)/(r+a)+(i-e)/a,c=(i-e)/a-(n-e)/(a+o)+(n-i)/o;s*=a,c*=a,this.init(e,i,s,c)},t.prototype.initCatmullRom=function(t,e,i,n,r){this.init(e,i,r*(i-t),r*(n-e))},t.prototype.calc=function(t){var e=t*t,i=e*t;return this.c0+this.c1*t+this.c2*e+this.c3*i},rn.create(function(t){this.points=t||[],this.closed=!1},function(t){var a,o,s,c,l=this.points;c=l.length,c<2&&console.log(\\\"duh, you need at least 2 points\\\"),a=(c-(this.closed?0:1))*t,o=Math.floor(a),s=a-o,this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/l.length)+1)*l.length:0===s&&o===c-1&&(o=c-2,s=1);var u,p,d,f;if(this.closed||o>0?u=l[(o-1)%c]:(e.subVectors(l[0],l[1]).add(l[0]),u=e),p=l[o%c],d=l[(o+1)%c],this.closed||o+2<c?f=l[(o+2)%c]:(e.subVectors(l[c-1],l[c-2]).add(l[c-1]),f=e),void 0===this.type||\\\"centripetal\\\"===this.type||\\\"chordal\\\"===this.type){var m=\\\"chordal\\\"===this.type?.5:.25,v=Math.pow(u.distanceToSquared(p),m),g=Math.pow(p.distanceToSquared(d),m),y=Math.pow(d.distanceToSquared(f),m);g<1e-4&&(g=1),v<1e-4&&(v=g),y<1e-4&&(y=g),i.initNonuniformCatmullRom(u.x,p.x,d.x,f.x,v,g,y),n.initNonuniformCatmullRom(u.y,p.y,d.y,f.y,v,g,y),r.initNonuniformCatmullRom(u.z,p.z,d.z,f.z,v,g,y)}else if(\\\"catmullrom\\\"===this.type){var x=void 0!==this.tension?this.tension:.5;i.initCatmullRom(u.x,p.x,d.x,f.x,x),n.initCatmullRom(u.y,p.y,d.y,f.y,x),r.initCatmullRom(u.z,p.z,d.z,f.z,x)}var _=new h(i.calc(s),n.calc(s),r.calc(s));return _})}();ir.prototype=Object.create(hh.prototype);var lh=rn.create(function(t){console.warn(\\\"THREE.SplineCurve3 will be deprecated. Please use THREE.CatmullRomCurve3\\\"),this.points=void 0===t?[]:t},function(t){var e=this.points,i=(e.length-1)*t,n=Math.floor(i),r=i-n,a=e[0==n?n:n-1],o=e[n],s=e[n>e.length-2?e.length-1:n+1],c=e[n>e.length-3?e.length-1:n+2],l=rh.interpolate;return new h(l(a.x,o.x,s.x,c.x,r),l(a.y,o.y,s.y,c.y,r),l(a.z,o.z,s.z,c.z,r))}),uh=rn.create(function(t,e,i,n){this.v0=t,this.v1=e,this.v2=i,this.v3=n},function(t){var e=Jc.b3;return new h(e(t,this.v0.x,this.v1.x,this.v2.x,this.v3.x),e(t,this.v0.y,this.v1.y,this.v2.y,this.v3.y),e(t,this.v0.z,this.v1.z,this.v2.z,this.v3.z))}),ph=rn.create(function(t,e,i){this.v0=t,this.v1=e,this.v2=i},function(t){var e=Jc.b2;return new h(e(t,this.v0.x,this.v1.x,this.v2.x),e(t,this.v0.y,this.v1.y,this.v2.y),e(t,this.v0.z,this.v1.z,this.v2.z))}),dh=rn.create(function(t,e){this.v1=t,this.v2=e},function(t){if(1===t)return this.v2.clone();var e=new h;return e.subVectors(this.v2,this.v1),e.multiplyScalar(t),e.add(this.v1),e});nr.prototype=Object.create(sn.prototype),nr.prototype.constructor=nr;var fh={createMultiMaterialObject:function(t,e){for(var i=new Te,n=0,r=e.length;n<r;n++)i.add(new Pt(t,e[n]));return i},detach:function(t,e,i){t.applyMatrix(e.matrixWorld),e.remove(t),i.add(t)},attach:function(t,e,i){var n=new l;n.getInverse(i.matrixWorld),t.applyMatrix(n),e.remove(t),i.add(t)}},mh=0,vh=1;Object.assign(Y.prototype,{center:function(t){return console.warn(\\\"THREE.Box2: .center() has been renamed to .getCenter().\\\"),this.getCenter(t)},empty:function(){return console.warn(\\\"THREE.Box2: .empty() has been renamed to .isEmpty().\\\"),this.isEmpty()},isIntersectionBox:function(t){return console.warn(\\\"THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().\\\"),this.intersectsBox(t)},size:function(t){return console.warn(\\\"THREE.Box2: .size() has been renamed to .getSize().\\\"),this.getSize(t)}}),Object.assign(tt.prototype,{center:function(t){return console.warn(\\\"THREE.Box3: .center() has been renamed to .getCenter().\\\"),this.getCenter(t)},empty:function(){return console.warn(\\\"THREE.Box3: .empty() has been renamed to .isEmpty().\\\"),this.isEmpty()},isIntersectionBox:function(t){return console.warn(\\\"THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().\\\"),this.intersectsBox(t)},isIntersectionSphere:function(t){return console.warn(\\\"THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().\\\"),this.intersectsSphere(t)},size:function(t){return console.warn(\\\"THREE.Box3: .size() has been renamed to .getSize().\\\"),this.getSize(t)}}),Object.assign(ut.prototype,{center:function(t){return console.warn(\\\"THREE.Line3: .center() has been renamed to .getCenter().\\\"),this.getCenter(t)}}),Object.assign(it.prototype,{multiplyVector3:function(t){return console.warn(\\\"THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.\\\"),t.applyMatrix3(this)},multiplyVector3Array:function(t){return console.warn(\\\"THREE.Matrix3: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead.\\\"),this.applyToVector3Array(t)}}),Object.assign(l.prototype,{extractPosition:function(t){return console.warn(\\\"THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().\\\"),this.copyPosition(t)},setRotationFromQuaternion:function(t){return console.warn(\\\"THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().\\\"),this.makeRotationFromQuaternion(t)},multiplyVector3:function(t){return console.warn(\\\"THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) or vector.applyProjection( matrix ) instead.\\\"),t.applyProjection(this)},multiplyVector4:function(t){return console.warn(\\\"THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.\\\"),t.applyMatrix4(this)},multiplyVector3Array:function(t){return console.warn(\\\"THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead.\\\"),this.applyToVector3Array(t)},rotateAxis:function(t){console.warn(\\\"THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.\\\"),t.transformDirection(this)},crossVector:function(t){return console.warn(\\\"THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.\\\"),t.applyMatrix4(this)},translate:function(t){console.error(\\\"THREE.Matrix4: .translate() has been removed.\\\")},rotateX:function(t){console.error(\\\"THREE.Matrix4: .rotateX() has been removed.\\\")},rotateY:function(t){console.error(\\\"THREE.Matrix4: .rotateY() has been removed.\\\")},rotateZ:function(t){console.error(\\\"THREE.Matrix4: .rotateZ() has been removed.\\\")},rotateByAxis:function(t,e){console.error(\\\"THREE.Matrix4: .rotateByAxis() has been removed.\\\")}}),Object.assign(nt.prototype,{isIntersectionLine:function(t){return console.warn(\\\"THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().\\\"),this.intersectsLine(t)}}),Object.assign(c.prototype,{multiplyVector3:function(t){return console.warn(\\\"THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.\\\"),t.applyQuaternion(this)}}),Object.assign(ot.prototype,{isIntersectionBox:function(t){return console.warn(\\\"THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().\\\"),this.intersectsBox(t)},isIntersectionPlane:function(t){return console.warn(\\\"THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().\\\"),this.intersectsPlane(t)},isIntersectionSphere:function(t){return console.warn(\\\"THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().\\\"),this.intersectsSphere(t)}}),Object.assign(un.prototype,{extrude:function(t){return console.warn(\\\"THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead.\\\"),new Ze(this,t)},makeGeometry:function(t){return console.warn(\\\"THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead.\\\"),new ri(this,t)}}),Object.assign(h.prototype,{setEulerFromRotationMatrix:function(){console.error(\\\"THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.\\\")},setEulerFromQuaternion:function(){console.error(\\\"THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.\\\")},getPositionFromMatrix:function(t){return console.warn(\\\"THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().\\\"),this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return console.warn(\\\"THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().\\\"),this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return console.warn(\\\"THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().\\\"),this.setFromMatrixColumn(e,t)}}),Object.assign(ht.prototype,{getChildByName:function(t){return console.warn(\\\"THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().\\\"),this.getObjectByName(t)},renderDepth:function(t){console.warn(\\\"THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.\\\")},translate:function(t,e){return console.warn(\\\"THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.\\\"),this.translateOnAxis(e,t)}}),Object.defineProperties(ht.prototype,{eulerOrder:{get:function(){return console.warn(\\\"THREE.Object3D: .eulerOrder is now .rotation.order.\\\"),this.rotation.order},set:function(t){console.warn(\\\"THREE.Object3D: .eulerOrder is now .rotation.order.\\\"),this.rotation.order=t}},useQuaternion:{get:function(){console.warn(\\\"THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.\\\")},set:function(t){console.warn(\\\"THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.\\\")}}}),Object.defineProperties(me.prototype,{objects:{get:function(){return console.warn(\\\"THREE.LOD: .objects has been renamed to .levels.\\\"),this.levels}}}),Nt.prototype.setLens=function(t,e){console.warn(\\\"THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup.\\\"),void 0!==e&&(this.filmGauge=e),this.setFocalLength(t)},Object.defineProperties(Ri.prototype,{onlyShadow:{set:function(t){console.warn(\\\"THREE.Light: .onlyShadow has been removed.\\\")}},shadowCameraFov:{set:function(t){console.warn(\\\"THREE.Light: .shadowCameraFov is now .shadow.camera.fov.\\\"),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn(\\\"THREE.Light: .shadowCameraLeft is now .shadow.camera.left.\\\"),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn(\\\"THREE.Light: .shadowCameraRight is now .shadow.camera.right.\\\"),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn(\\\"THREE.Light: .shadowCameraTop is now .shadow.camera.top.\\\"),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn(\\\"THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.\\\"),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn(\\\"THREE.Light: .shadowCameraNear is now .shadow.camera.near.\\\"),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn(\\\"THREE.Light: .shadowCameraFar is now .shadow.camera.far.\\\"),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(t){console.warn(\\\"THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.\\\")}},shadowBias:{set:function(t){console.warn(\\\"THREE.Light: .shadowBias is now .shadow.bias.\\\"),this.shadow.bias=t}},shadowDarkness:{set:function(t){console.warn(\\\"THREE.Light: .shadowDarkness has been removed.\\\")}},shadowMapWidth:{set:function(t){console.warn(\\\"THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.\\\"),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn(\\\"THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.\\\"),this.shadow.mapSize.height=t}}}),Object.defineProperties(mt.prototype,{length:{get:function(){return console.warn(\\\"THREE.BufferAttribute: .length has been deprecated. Please use .count.\\\"),this.array.length}}}),Object.assign(Rt.prototype,{addIndex:function(t){console.warn(\\\"THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().\\\"),this.setIndex(t)},addDrawCall:function(t,e,i){void 0!==i&&console.warn(\\\"THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.\\\"),console.warn(\\\"THREE.BufferGeometry: .addDrawCall() is now .addGroup().\\\"),this.addGroup(t,e)},clearDrawCalls:function(){console.warn(\\\"THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().\\\"),this.clearGroups()},computeTangents:function(){console.warn(\\\"THREE.BufferGeometry: .computeTangents() has been removed.\\\")},computeOffsets:function(){console.warn(\\\"THREE.BufferGeometry: .computeOffsets() has been removed.\\\")}}),Object.defineProperties(Rt.prototype,{drawcalls:{get:function(){return console.error(\\\"THREE.BufferGeometry: .drawcalls has been renamed to .groups.\\\"),this.groups}},offsets:{get:function(){return console.warn(\\\"THREE.BufferGeometry: .offsets has been renamed to .groups.\\\"),this.groups}}}),Object.defineProperties(J.prototype,{wrapAround:{get:function(){console.warn(\\\"THREE.\\\"+this.type+\\\": .wrapAround has been removed.\\\")},set:function(t){console.warn(\\\"THREE.\\\"+this.type+\\\": .wrapAround has been removed.\\\")}},wrapRGB:{get:function(){return console.warn(\\\"THREE.\\\"+this.type+\\\": .wrapRGB has been removed.\\\"),new X}}}),Object.defineProperties(yi.prototype,{metal:{get:function(){return console.warn(\\\"THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead.\\\"),!1},set:function(t){console.warn(\\\"THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead\\\")}}}),Object.defineProperties(K.prototype,{derivatives:{get:function(){return console.warn(\\\"THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.\\\"),this.extensions.derivatives},set:function(t){console.warn(\\\"THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.\\\"),this.extensions.derivatives=t}}}),e.prototype=Object.assign(Object.create({constructor:e,apply:function(t){console.warn(\\\"THREE.EventDispatcher: .apply is deprecated, just inherit or Object.assign the prototype to mix-in.\\\"),Object.assign(t,this)}}),e.prototype),Object.defineProperties(Rn.prototype,{dynamic:{set:function(t){console.warn(\\\"THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.\\\")}},onUpdate:{value:function(){return console.warn(\\\"THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead.\\\"),this}}}),Object.assign(ce.prototype,{supportsFloatTextures:function(){return console.warn(\\\"THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' ).\\\"),this.extensions.get(\\\"OES_texture_float\\\")},supportsHalfFloatTextures:function(){return console.warn(\\\"THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' ).\\\"),this.extensions.get(\\\"OES_texture_half_float\\\")},supportsStandardDerivatives:function(){return console.warn(\\\"THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' ).\\\"),this.extensions.get(\\\"OES_standard_derivatives\\\")},supportsCompressedTextureS3TC:function(){return console.warn(\\\"THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' ).\\\"),this.extensions.get(\\\"WEBGL_compressed_texture_s3tc\\\")},supportsCompressedTexturePVRTC:function(){return console.warn(\\\"THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' ).\\\"),this.extensions.get(\\\"WEBGL_compressed_texture_pvrtc\\\")},supportsBlendMinMax:function(){return console.warn(\\\"THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' ).\\\"),this.extensions.get(\\\"EXT_blend_minmax\\\")},supportsVertexTextures:function(){return this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn(\\\"THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' ).\\\"),this.extensions.get(\\\"ANGLE_instanced_arrays\\\")},enableScissorTest:function(t){console.warn(\\\"THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().\\\"),this.setScissorTest(t)},initMaterial:function(){console.warn(\\\"THREE.WebGLRenderer: .initMaterial() has been removed.\\\")},addPrePlugin:function(){console.warn(\\\"THREE.WebGLRenderer: .addPrePlugin() has been removed.\\\")},addPostPlugin:function(){console.warn(\\\"THREE.WebGLRenderer: .addPostPlugin() has been removed.\\\")},updateShadowMap:function(){console.warn(\\\"THREE.WebGLRenderer: .updateShadowMap() has been removed.\\\")}}),Object.defineProperties(ce.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn(\\\"THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.\\\"),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn(\\\"THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.\\\"),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){return this.shadowMap.cullFace},set:function(t){console.warn(\\\"THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace.\\\"),this.shadowMap.cullFace=t}}}),Object.defineProperties(at.prototype,{cullFace:{get:function(){return this.renderReverseSided?xr:yr},set:function(t){var e=t!==yr;console.warn(\\\"WebGLRenderer: .shadowMap.cullFace is deprecated. Set .shadowMap.renderReverseSided to \\\"+e+\\\".\\\"),this.renderReverseSided=e}}}),Object.defineProperties(o.prototype,{wrapS:{get:function(){return console.warn(\\\"THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.\\\"),this.texture.wrapS},set:function(t){console.warn(\\\"THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.\\\"),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn(\\\"THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.\\\"),this.texture.wrapT},set:function(t){console.warn(\\\"THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.\\\"),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn(\\\"THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.\\\"),this.texture.magFilter},set:function(t){console.warn(\\\"THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.\\\"),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn(\\\"THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.\\\"),this.texture.minFilter},set:function(t){console.warn(\\\"THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.\\\"),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn(\\\"THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.\\\"),this.texture.anisotropy},set:function(t){console.warn(\\\"THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.\\\"),this.texture.anisotropy=t}},offset:{get:function(){return console.warn(\\\"THREE.WebGLRenderTarget: .offset is now .texture.offset.\\\"),this.texture.offset},set:function(t){console.warn(\\\"THREE.WebGLRenderTarget: .offset is now .texture.offset.\\\"),this.texture.offset=t}},repeat:{get:function(){return console.warn(\\\"THREE.WebGLRenderTarget: .repeat is now .texture.repeat.\\\"),this.texture.repeat},set:function(t){console.warn(\\\"THREE.WebGLRenderTarget: .repeat is now .texture.repeat.\\\"),this.texture.repeat=t}},format:{get:function(){return console.warn(\\\"THREE.WebGLRenderTarget: .format is now .texture.format.\\\"),this.texture.format},set:function(t){console.warn(\\\"THREE.WebGLRenderTarget: .format is now .texture.format.\\\"),this.texture.format=t}},type:{get:function(){return console.warn(\\\"THREE.WebGLRenderTarget: .type is now .texture.type.\\\"),this.texture.type},set:function(t){console.warn(\\\"THREE.WebGLRenderTarget: .type is now .texture.type.\\\"),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn(\\\"THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.\\\"),this.texture.generateMipmaps},set:function(t){console.warn(\\\"THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.\\\"),this.texture.generateMipmaps=t}}}),Object.assign(bn.prototype,{load:function(t){console.warn(\\\"THREE.Audio: .load has been deprecated. Please use THREE.AudioLoader.\\\");var e=this,i=new gn;return i.load(t,function(t){e.setBuffer(t)}),this}}),Object.assign(Mn.prototype,{getData:function(t){return console.warn(\\\"THREE.AudioAnalyser: .getData() is now .getFrequencyData().\\\"),this.getFrequencyData()}});var gh={merge:function(t,e,i){console.warn(\\\"THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.\\\");var n;e.isMesh&&(e.matrixAutoUpdate&&e.updateMatrix(),n=e.matrix,e=e.geometry),t.merge(e,n,i)},center:function(t){return console.warn(\\\"THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead.\\\"),t.center()}},yh={crossOrigin:void 0,loadTexture:function(t,e,i,n){console.warn(\\\"THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.\\\");var r=new Li;r.setCrossOrigin(this.crossOrigin);var a=r.load(t,i,void 0,n);return e&&(a.mapping=e),a},loadTextureCube:function(t,e,i,n){console.warn(\\\"THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.\\\");var r=new Ai;r.setCrossOrigin(this.crossOrigin);var a=r.load(t,i,void 0,n);return e&&(a.mapping=e),a},loadCompressedTexture:function(){console.error(\\\"THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.\\\")},loadCompressedTextureCube:function(){console.error(\\\"THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.\\\")}};t.WebGLRenderTargetCube=s,t.WebGLRenderTarget=o,t.WebGLRenderer=ce,t.ShaderLib=Wc,t.UniformsLib=jc,t.UniformsUtils=jo,t.ShaderChunk=Vc,t.FogExp2=he,t.Fog=le,t.Scene=ue,t.LensFlare=pe,t.Sprite=fe,t.LOD=me,t.SkinnedMesh=xe,t.Skeleton=ge,t.Bone=ye,t.Mesh=Pt,t.LineSegments=we,t.Line=be,t.Points=Ee,t.Group=Te,t.VideoTexture=Se,t.DataTexture=ve,t.CompressedTexture=Ae,t.CubeTexture=u,t.CanvasTexture=Le,t.DepthTexture=Re,t.TextureIdCount=r,t.Texture=n,t.MaterialIdCount=Q,t.CompressedTextureLoader=Ei,t.BinaryTextureLoader=Ti,t.DataTextureLoader=eh,t.CubeTextureLoader=Ai,t.TextureLoader=Li,t.ObjectLoader=nn,t.MaterialLoader=Ki,t.BufferGeometryLoader=$i,t.DefaultLoadingManager=th,t.LoadingManager=wi,t.JSONLoader=en,t.ImageLoader=Si,t.FontLoader=mn,t.XHRLoader=Mi,t.Loader=tn,t.Cache=$c,t.AudioLoader=gn,t.SpotLightShadow=Ii,t.SpotLight=Ui,t.PointLight=Ni,t.HemisphereLight=Pi,t.DirectionalLightShadow=Di,t.DirectionalLight=Oi,t.AmbientLight=Fi,t.LightShadow=Ci,t.Light=Ri,t.StereoCamera=yn,t.PerspectiveCamera=Nt,t.OrthographicCamera=Dt,t.CubeCamera=xn,t.Camera=Ut,t.AudioListener=_n,t.PositionalAudio=wn,t.getAudioContext=vn,t.AudioAnalyser=Mn,t.Audio=bn,t.VectorKeyframeTrack=ki,t.StringKeyframeTrack=Yi,t.QuaternionKeyframeTrack=Wi,t.NumberKeyframeTrack=Xi,t.ColorKeyframeTrack=Zi,t.BooleanKeyframeTrack=qi,t.PropertyMixer=En,t.PropertyBinding=Tn,t.KeyframeTrack=Ji,t.AnimationUtils=ih,t.AnimationObjectGroup=Sn,t.AnimationMixer=Ln,t.AnimationClip=Qi,t.Uniform=Rn,t.InstancedBufferGeometry=Pn,t.BufferGeometry=Rt,t.GeometryIdCount=At,t.Geometry=St,t.InterleavedBufferAttribute=Cn,t.InstancedInterleavedBuffer=Un,t.InterleavedBuffer=In,t.InstancedBufferAttribute=Nn,t.DynamicBufferAttribute=Tt,t.Float64Attribute=Et,t.Float32Attribute=Mt,t.Uint32Attribute=wt,t.Int32Attribute=bt,t.Uint16Attribute=_t,\\nt.Int16Attribute=xt,t.Uint8ClampedAttribute=yt,t.Uint8Attribute=gt,t.Int8Attribute=vt,t.BufferAttribute=mt,t.Face3=dt,t.Object3DIdCount=lt,t.Object3D=ht,t.Raycaster=Dn,t.Layers=ct,t.EventDispatcher=e,t.Clock=Bn,t.QuaternionLinearInterpolant=ji,t.LinearInterpolant=Gi,t.DiscreteInterpolant=Hi,t.CubicInterpolant=zi,t.Interpolant=Bi,t.Triangle=pt,t.Spline=zn,t.Math=Fo,t.Spherical=Gn,t.Plane=nt,t.Frustum=rt,t.Sphere=et,t.Ray=ot,t.Matrix4=l,t.Matrix3=it,t.Box3=tt,t.Box2=Y,t.Line3=ut,t.Euler=st,t.Vector4=a,t.Vector3=h,t.Vector2=i,t.Quaternion=c,t.ColorKeywords=kc,t.Color=X,t.MorphBlendMesh=Hn,t.ImmediateRenderObject=Vn,t.VertexNormalsHelper=kn,t.SpotLightHelper=jn,t.SkeletonHelper=Wn,t.PointLightHelper=Xn,t.HemisphereLightHelper=Yn,t.GridHelper=qn,t.FaceNormalsHelper=Zn,t.DirectionalLightHelper=Jn,t.CameraHelper=Qn,t.BoundingBoxHelper=Kn,t.BoxHelper=$n,t.ArrowHelper=tr,t.AxisHelper=er,t.ClosedSplineCurve3=ir,t.CatmullRomCurve3=hh,t.SplineCurve3=lh,t.CubicBezierCurve3=uh,t.QuadraticBezierCurve3=ph,t.LineCurve3=dh,t.ArcCurve=nr,t.EllipseCurve=sn,t.SplineCurve=cn,t.CubicBezierCurve=hn,t.QuadraticBezierCurve=ln,t.LineCurve=an,t.Shape=un,t.ShapePath=dn,t.Path=pn,t.Font=fn,t.CurvePath=on,t.Curve=rn,t.ShapeUtils=Jc,t.SceneUtils=fh,t.CurveUtils=rh,t.WireframeGeometry=Pe,t.ParametricGeometry=Ie,t.ParametricBufferGeometry=Ce,t.TetrahedronGeometry=De,t.TetrahedronBufferGeometry=Ne,t.OctahedronGeometry=Fe,t.OctahedronBufferGeometry=Oe,t.IcosahedronGeometry=ze,t.IcosahedronBufferGeometry=Be,t.DodecahedronGeometry=He,t.DodecahedronBufferGeometry=Ge,t.PolyhedronGeometry=Ve,t.PolyhedronBufferGeometry=Ue,t.TubeGeometry=je,t.TubeBufferGeometry=ke,t.TorusKnotGeometry=Xe,t.TorusKnotBufferGeometry=We,t.TorusGeometry=qe,t.TorusBufferGeometry=Ye,t.TextGeometry=Je,t.SphereBufferGeometry=Qe,t.SphereGeometry=Ke,t.RingGeometry=ti,t.RingBufferGeometry=$e,t.PlaneBufferGeometry=It,t.PlaneGeometry=ei,t.LatheGeometry=ni,t.LatheBufferGeometry=ii,t.ShapeGeometry=ri,t.ExtrudeGeometry=Ze,t.EdgesGeometry=ai,t.ConeGeometry=ci,t.ConeBufferGeometry=hi;t.CylinderGeometry=si;t.CylinderBufferGeometry=oi,t.CircleBufferGeometry=li,t.CircleGeometry=ui,t.BoxBufferGeometry=Ct,t.BoxGeometry=pi,t.ShadowMaterial=di,t.SpriteMaterial=de,t.RawShaderMaterial=fi,t.ShaderMaterial=K,t.PointsMaterial=Me,t.MultiMaterial=mi,t.MeshPhysicalMaterial=gi,t.MeshStandardMaterial=vi,t.MeshPhongMaterial=yi,t.MeshNormalMaterial=xi,t.MeshLambertMaterial=_i,t.MeshDepthMaterial=$,t.MeshBasicMaterial=ft,t.LineDashedMaterial=bi,t.LineBasicMaterial=_e,t.Material=J,t.REVISION=mr,t.MOUSE=vr,t.CullFaceNone=gr,t.CullFaceBack=yr,t.CullFaceFront=xr,t.CullFaceFrontBack=_r,t.FrontFaceDirectionCW=br,t.FrontFaceDirectionCCW=wr,t.BasicShadowMap=Mr,t.PCFShadowMap=Er,t.PCFSoftShadowMap=Tr,t.FrontSide=Sr,t.BackSide=Ar,t.DoubleSide=Lr,t.FlatShading=Rr,t.SmoothShading=Pr,t.NoColors=Cr,t.FaceColors=Ir,t.VertexColors=Ur,t.NoBlending=Nr,t.NormalBlending=Dr,t.AdditiveBlending=Or,t.SubtractiveBlending=Fr,t.MultiplyBlending=Br,t.CustomBlending=zr,t.BlendingMode=Gr,t.AddEquation=Hr,t.SubtractEquation=Vr,t.ReverseSubtractEquation=kr,t.MinEquation=jr,t.MaxEquation=Wr,t.ZeroFactor=Xr,t.OneFactor=Yr,t.SrcColorFactor=qr,t.OneMinusSrcColorFactor=Zr,t.SrcAlphaFactor=Jr,t.OneMinusSrcAlphaFactor=Qr,t.DstAlphaFactor=Kr,t.OneMinusDstAlphaFactor=$r,t.DstColorFactor=ta,t.OneMinusDstColorFactor=ea,t.SrcAlphaSaturateFactor=ia,t.NeverDepth=na,t.AlwaysDepth=ra,t.LessDepth=aa,t.LessEqualDepth=oa,t.EqualDepth=sa,t.GreaterEqualDepth=ca,t.GreaterDepth=ha,t.NotEqualDepth=la,t.MultiplyOperation=ua,t.MixOperation=pa,t.AddOperation=da,t.NoToneMapping=fa,t.LinearToneMapping=ma,t.ReinhardToneMapping=va,t.Uncharted2ToneMapping=ga,t.CineonToneMapping=ya,t.UVMapping=xa,t.CubeReflectionMapping=_a,t.CubeRefractionMapping=ba,t.EquirectangularReflectionMapping=wa,t.EquirectangularRefractionMapping=Ma,t.SphericalReflectionMapping=Ea,t.CubeUVReflectionMapping=Ta,t.CubeUVRefractionMapping=Sa,t.TextureMapping=Aa,t.RepeatWrapping=La,t.ClampToEdgeWrapping=Ra,t.MirroredRepeatWrapping=Pa,t.TextureWrapping=Ca,t.NearestFilter=Ia,t.NearestMipMapNearestFilter=Ua,t.NearestMipMapLinearFilter=Na,t.LinearFilter=Da,t.LinearMipMapNearestFilter=Oa,t.LinearMipMapLinearFilter=Fa,t.TextureFilter=Ba,t.UnsignedByteType=za,t.ByteType=Ga,t.ShortType=Ha,t.UnsignedShortType=Va,t.IntType=ka,t.UnsignedIntType=ja,t.FloatType=Wa,t.HalfFloatType=Xa,t.UnsignedShort4444Type=Ya,t.UnsignedShort5551Type=qa,t.UnsignedShort565Type=Za,t.UnsignedInt248Type=Ja,t.AlphaFormat=Qa,t.RGBFormat=Ka,t.RGBAFormat=$a,t.LuminanceFormat=to,t.LuminanceAlphaFormat=eo,t.RGBEFormat=io,t.DepthFormat=no,t.DepthStencilFormat=ro,t.RGB_S3TC_DXT1_Format=ao,t.RGBA_S3TC_DXT1_Format=oo,t.RGBA_S3TC_DXT3_Format=so,t.RGBA_S3TC_DXT5_Format=co,t.RGB_PVRTC_4BPPV1_Format=ho,t.RGB_PVRTC_2BPPV1_Format=lo,t.RGBA_PVRTC_4BPPV1_Format=uo,t.RGBA_PVRTC_2BPPV1_Format=po,t.RGB_ETC1_Format=fo,t.LoopOnce=mo,t.LoopRepeat=vo,t.LoopPingPong=go,t.InterpolateDiscrete=yo,t.InterpolateLinear=xo,t.InterpolateSmooth=_o,t.ZeroCurvatureEnding=bo,t.ZeroSlopeEnding=wo,t.WrapAroundEnding=Mo,t.TrianglesDrawMode=Eo,t.TriangleStripDrawMode=To,t.TriangleFanDrawMode=So,t.LinearEncoding=Ao,t.sRGBEncoding=Lo,t.GammaEncoding=Ro,t.RGBEEncoding=Po,t.LogLuvEncoding=Co,t.RGBM7Encoding=Io,t.RGBM16Encoding=Uo,t.RGBDEncoding=No,t.BasicDepthPacking=Do,t.RGBADepthPacking=Oo,t.CubeGeometry=pi,t.Face4=rr,t.LineStrip=mh,t.LinePieces=vh,t.MeshFaceMaterial=mi,t.PointCloud=ar,t.Particle=fe,t.ParticleSystem=or,t.PointCloudMaterial=sr,t.ParticleBasicMaterial=cr,t.ParticleSystemMaterial=hr,t.Vertex=lr,t.EdgesHelper=ur,t.WireframeHelper=pr,t.GeometryUtils=gh,t.ImageUtils=yh,t.Projector=dr,t.CanvasRenderer=fr,Object.defineProperty(t,\\\"__esModule\\\",{value:!0}),Object.defineProperty(t,\\\"AudioContext\\\",{get:function(){return t.getAudioContext()}})});\\n},{}],14:[function(_dereq_,module,exports){\\nTHREE.BlendCharacter=function(){this.weightSchedule=[],this.warpSchedule=[],this.load=function(i,t){var e=this,n=new THREE.ObjectLoader;n.load(i,function(n){if(n.traverse(function(i){i instanceof THREE.SkinnedMesh&&(e.skinnedMesh=i)}),THREE.SkinnedMesh.call(e,e.skinnedMesh.geometry,e.skinnedMesh.material),void 0==e.skinnedMesh)return void console.log(\\\"unable to find skinned mesh in \\\"+i);e.material.skinning=!0,e.mixer=new THREE.AnimationMixer(e),e.mixer=e.mixer;for(var s=0;s<e.geometry.animations.length;++s)e.mixer.clipAction(e.geometry.animations[s]);void 0!==t&&t()})},this.loadJSON=function(i,t){var e=this,n=new THREE.JSONLoader;n.load(i,function(i,n){var s=n[0];s.skinning=!0,THREE.SkinnedMesh.call(e,i,s);var o=new THREE.AnimationMixer(e);e.mixer=o;for(var r=0;r<i.animations.length;++r)o.clipAction(i.animations[r]);void 0!==t&&t()})},this.update=function(i){this.mixer.update(i)},this.play=function(i,t){return this.mixer.clipAction(i).setEffectiveWeight(t).play()},this.crossfade=function(i,t,e){this.mixer.stopAllAction();var n=this.play(i,1),s=this.play(t,1);n.crossFadeTo(s,e,!1)},this.warp=function(i,t,e){this.mixer.stopAllAction();var n=this.play(i,1),s=this.play(t,1);n.crossFadeTo(s,e,!0)},this.applyWeight=function(i,t){this.mixer.clipAction(i).setEffectiveWeight(t)},this.getWeight=function(i){return this.mixer.clipAction(i).getEffectiveWeight()},this.pauseAll=function(){this.mixer.timeScale=0},this.unPauseAll=function(){this.mixer.timeScale=1},this.stopAll=function(){this.mixer.stopAllAction()},this.showModel=function(i){this.visible=i}},THREE.BlendCharacter.prototype=Object.create(THREE.SkinnedMesh.prototype),THREE.BlendCharacter.prototype.constructor=THREE.BlendCharacter,THREE.BlendCharacter.prototype.getForward=function(){var i=new THREE.Vector3;return function(){return i.set(-this.matrix.elements[8],-this.matrix.elements[9],-this.matrix.elements[10]),i}};\\n},{}],15:[function(_dereq_,module,exports){\\nTHREE.ColladaLoader=function(){function e(e,i,s,r){var a=0;if(document.implementation&&document.implementation.createDocument){var n=new XMLHttpRequest;n.onreadystatechange=function(){4===n.readyState?0===n.status||200===n.status?n.response?(Xe=i,t(n.response,void 0,e)):r?r({type:\\\"error\\\",url:e}):console.error(\\\"ColladaLoader: Empty or non-existing file (\\\"+e+\\\")\\\"):r?r({type:\\\"error\\\",url:e}):console.error(\\\"ColladaLoader: Couldn't load \\\\\\\"\\\"+e+'\\\" ('+n.status+\\\")\\\"):3===n.readyState&&s&&(0===a&&(a=n.getResponseHeader(\\\"Content-Length\\\")),s({total:a,loaded:n.responseText.length}))},n.open(\\\"GET\\\",e,!0),n.send(null)}else alert(\\\"Don't know how to parse XML!\\\")}function t(e,t,i){if(qe=(new DOMParser).parseFromString(e,\\\"text/xml\\\"),t=t||Xe,void 0!==i){var h=i.split(\\\"/\\\");h.pop(),Oe=(h.length<1?\\\".\\\":h.join(\\\"/\\\"))+\\\"/\\\"}s(),we(),Ye=r(\\\"library_images image\\\",R,\\\"image\\\"),Be=r(\\\"library_materials material\\\",U,\\\"material\\\"),De=r(\\\"library_effects effect\\\",Q,\\\"effect\\\"),Fe=r(\\\"library_geometries geometry\\\",q,\\\"geometry\\\"),Ue=r(\\\"library_cameras camera\\\",se,\\\"camera\\\"),Pe=r(\\\"library_lights light\\\",ae,\\\"light\\\"),ze=r(\\\"library_controllers controller\\\",_,\\\"controller\\\"),Ze=r(\\\"library_animations animation\\\",K,\\\"animation\\\"),He=r(\\\"library_visual_scenes visual_scene\\\",j,\\\"visual_scene\\\"),Me=r(\\\"library_kinematics_models kinematics_model\\\",oe,\\\"kinematics_model\\\"),Se=[],Ie=[],_e=a(),Ve=new THREE.Group;for(var l=0;l<_e.nodes.length;l++)Ve.add(v(_e.nodes[l]));Ve.scale.multiplyScalar(We),o(),Ae=n(),g();var c={scene:Ve,morphs:Se,skins:Ie,animations:Ce,kinematics:je,dae:{images:Ye,materials:Be,cameras:Ue,lights:Pe,effects:De,geometries:Fe,controllers:ze,animations:Ze,visualScenes:He,visualScene:_e,scene:_e,kinematicsModels:Me,kinematicsModel:Ae}};return t&&t(c),c}function i(e){Ge=e}function s(){var e=qe.querySelectorAll(\\\"asset\\\"),t=e[0];if(t&&t.childNodes)for(var i=0;i<t.childNodes.length;i++){var s=t.childNodes[i];switch(s.nodeName){case\\\"unit\\\":var r=s.getAttribute(\\\"meter\\\");r&&(We=parseFloat(r));break;case\\\"up_axis\\\":Qe=s.textContent.charAt(0)}}}function r(e,t,i){for(var s=qe.querySelectorAll(e),r={},a=0,n=s.length,o=0;o<n;o++){var h=s[o],l=(new t).parse(h);l.id&&0!==l.id.length||(l.id=i+a++),r[l.id]=l}return r}function a(){var e=qe.querySelectorAll(\\\"scene instance_visual_scene\\\")[0];if(e){var t=e.getAttribute(\\\"url\\\").replace(/^#/,\\\"\\\");return He[t.length>0?t:\\\"visual_scene0\\\"]}return null}function n(){var e=qe.querySelectorAll(\\\"instance_kinematics_model\\\")[0];if(e){var t=e.getAttribute(\\\"url\\\").replace(/^#/,\\\"\\\");return Me[t.length>0?t:\\\"kinematics_model0\\\"]}return null}function o(){Ce=[],h(Ve)}function h(e){var t=_e.getChildById(e.colladaId,!0),i=null;if(t&&t.keys){i={fps:60,hierarchy:[{node:t,keys:t.keys,sids:t.sids}],node:e,name:\\\"animation_\\\"+e.name,length:0},Ce.push(i);for(var s=0,r=t.keys.length;s<r;s++)i.length=Math.max(i.length,t.keys[s].time)}else i={hierarchy:[{keys:[],sids:[]}]};for(var s=0,r=e.children.length;s<r;s++)for(var a=h(e.children[s]),n=0,o=a.hierarchy.length;n<o;n++)i.hierarchy.push({keys:[],sids:[]});return i}function l(){var e,t=1e6,i=-t,s=0;for(var r in Ze){var a=Ze[r];e=e||a.id;for(var n=0;n<a.sampler.length;n++){var o=a.sampler[n];o.create(),t=Math.min(t,o.startTime),i=Math.max(i,o.endTime),s=Math.max(s,o.input.length)}}return{start:t,end:i,frames:s,ID:e}}function c(e,t){var i=t instanceof O?ze[t.url]:t;if(!i||!i.morph)return void console.log(\\\"could not find morph controller!\\\");for(var s=i.morph,r=0;r<s.targets.length;r++){var a=s.targets[r],n=Fe[a];if(n.mesh&&n.mesh.primitives&&n.mesh.primitives.length){var o=n.mesh.primitives[0].geometry;o.vertices.length===e.vertices.length&&e.morphTargets.push({name:\\\"target_1\\\",vertices:o.vertices})}}e.morphTargets.push({name:\\\"target_Z\\\",vertices:e.vertices})}function d(e,t,i,s){if(e.world=e.world||new THREE.Matrix4,e.localworld=e.localworld||new THREE.Matrix4,e.world.copy(e.matrix),e.localworld.copy(e.matrix),e.channels&&e.channels.length){var r=e.channels[0],a=r.sampler.output[i];a instanceof THREE.Matrix4&&(e.world.copy(a),e.localworld.copy(a),0===i&&e.matrix.copy(a))}s&&e.world.multiplyMatrices(s,e.world),t.push(e);for(var n=0;n<e.nodes.length;n++)d(e.nodes[n],t,i,e.world)}function p(e,t){for(var i=0;i<e.length;i++){var s=e[i],r=-1;if(\\\"JOINT\\\"==s.type){for(var a=0;a<t.joints.length;a++)if(s.sid===t.joints[a]){r=a;break}if(r>=0){var n=t.invBindMatrices[r];s.invBindMatrix=n,s.skinningMatrix=new THREE.Matrix4,s.skinningMatrix.multiplyMatrices(s.world,n),s.animatrix=new THREE.Matrix4,s.animatrix.copy(s.localworld),s.weights=[];for(var a=0;a<t.weights.length;a++)for(var o=0;o<t.weights[a].length;o++){var h=t.weights[a][o];h.joint===r&&s.weights.push(h)}}else console.warn(\\\"ColladaLoader: Could not find joint '\\\"+s.sid+\\\"'.\\\"),s.skinningMatrix=new THREE.Matrix4,s.weights=[]}}}function u(e){var t=[],i=function(e,t,s){var r={};r.name=t.sid,r.parent=e,r.matrix=t.matrix;var a=[new THREE.Vector3,new THREE.Quaternion,new THREE.Vector3];r.matrix.decompose(a[0],a[1],a[2]),r.pos=[a[0].x,a[0].y,a[0].z],r.scl=[a[2].x,a[2].y,a[2].z],r.rotq=[a[1].x,a[1].y,a[1].z,a[1].w],s.push(r);for(var n in t.nodes)i(t.sid,t.nodes[n],s)};return i(-1,e,t),t}function f(e,t,i){var s=[];d(t,s,-1),p(s,i.skin);for(var r=new THREE.Vector3,a=[],n=0;n<e.vertices.length;n++)a.push(new THREE.Vector3);for(n=0;n<s.length;n++)if(\\\"JOINT\\\"==s[n].type)for(var o=0;o<s[n].weights.length;o++){var h=s[n].weights[o],l=h.index,c=h.weight,u=e.vertices[l],f=a[l];r.x=u.x,r.y=u.y,r.z=u.z,r.applyMatrix4(s[n].skinningMatrix),f.x+=r.x*c,f.y+=r.y*c,f.z+=r.z*c}for(var n=0;n<e.vertices.length;n++)e.vertices[n]=a[n]}function m(e,t,i){var s=ze[t.url];if(i=void 0!==i?i:40,!s||!s.skin)return void console.log(\\\"ColladaLoader: Could not find skin controller.\\\");if(!t.skeleton||!t.skeleton.length)return void console.log(\\\"ColladaLoader: Could not find the skeleton for the skin. \\\");for(var r=l(),a=_e.getChildById(t.skeleton[0],!0)||_e.getChildBySid(t.skeleton[0],!0),n=u(a),o=s.skin.joints,h=[],c=0;c<o.length;c++)for(var m=0;m<n.length;m++)n[m].name===o[c]&&(h[c]=n[m]);for(var c=0;c<h.length;c++)for(var m=0;m<h.length;m++)h[c].parent===h[m].name&&(h[c].parent=m);var c,m,g;new THREE.Vector3;for(c=0;c<e.vertices.length;c++)e.vertices[c].applyMatrix4(s.skin.bindShapeMatrix);for(var v=[],y=[],b=s.skin.weights,c=0;c<b.length;c++){var w=new THREE.Vector4(b[c][0]?b[c][0].joint:0,b[c][1]?b[c][1].joint:0,b[c][2]?b[c][2].joint:0,b[c][3]?b[c][3].joint:0),g=new THREE.Vector4(b[c][0]?b[c][0].weight:0,b[c][1]?b[c][1].weight:0,b[c][2]?b[c][2].weight:0,b[c][3]?b[c][3].weight:0);v.push(w),y.push(g)}e.skinIndices=v,e.skinWeights=y,e.bones=h;for(var x={name:r.ID,fps:30,length:r.frames/30,hierarchy:[]},m=0;m<h.length;m++)x.hierarchy.push({parent:h[m].parent,name:h[m].name,keys:[]});for(console.log(\\\"ColladaLoader:\\\",r.ID+\\\" has \\\"+h.length+\\\" bones.\\\"),f(e,a,s),i=0;i<r.frames;i++){var N=[];d(a,N,i),p(N,s.skin);for(var c=0;c<N.length;c++)for(var m=0;m<x.hierarchy.length;m++)if(x.hierarchy[m].name===N[c].sid){var k={};k.time=i/30,k.matrix=N[c].animatrix,0===i&&(N[c].matrix=k.matrix);var T=[new THREE.Vector3,new THREE.Quaternion,new THREE.Vector3];k.matrix.decompose(T[0],T[1],T[2]),k.pos=[T[0].x,T[0].y,T[0].z],k.scl=[T[2].x,T[2].y,T[2].z],k.rot=T[1],x.hierarchy[m].keys.push(k)}e.animation=x}}function g(){if(Ae&&0===Ae.joints.length)return void(je=void 0);var e={},t=function(t,i){var s=i.getAttribute(\\\"id\\\"),r=_e.getChildById(s,!0),a=Ae.joints[t];Ve.traverse(function(i){i.colladaId==s&&(e[t]={node:i,transforms:r.transforms,joint:a,position:a.zeroPosition})})};je={joints:Ae&&Ae.joints,getJointValue:function(t){var i=e[t];return i?i.position:void console.log(\\\"getJointValue: joint \\\"+t+\\\" doesn't exist\\\")},setJointValue:function(t,i){var r=e[t];if(r){var a=r.joint;if(i>a.limits.max||i<a.limits.min)console.log(\\\"setJointValue: joint \\\"+t+\\\" value \\\"+i+\\\" outside of limits (min: \\\"+a.limits.min+\\\", max: \\\"+a.limits.max+\\\")\\\");else if(a.static)console.log(\\\"setJointValue: joint \\\"+t+\\\" is static\\\");else{var n=r.node,o=a.axis,h=r.transforms,l=new THREE.Matrix4;for(s=0;s<h.length;s++){var c=h[s];if(c.sid&&c.sid.indexOf(\\\"joint\\\"+t)!==-1)switch(a.type){case\\\"revolute\\\":l.multiply(d.makeRotationAxis(o,THREE.Math.degToRad(i)));break;case\\\"prismatic\\\":l.multiply(d.makeTranslation(o.x*i,o.y*i,o.z*i));break;default:console.warn(\\\"setJointValue: unknown joint type: \\\"+a.type)}else{var d=new THREE.Matrix4;switch(c.type){case\\\"matrix\\\":l.multiply(c.obj);break;case\\\"translate\\\":l.multiply(d.makeTranslation(c.obj.x,c.obj.y,c.obj.z));break;case\\\"rotate\\\":l.multiply(d.makeRotationAxis(c.obj,c.angle))}}}var p=l.elements,u=Array.prototype.slice.call(p),f=[u[0],u[4],u[8],u[12],u[1],u[5],u[9],u[13],u[2],u[6],u[10],u[14],u[3],u[7],u[11],u[15]];n.matrix.set.apply(n.matrix,f),n.matrix.decompose(n.position,n.quaternion,n.scale)}}else console.log(\\\"setJointValue: joint \\\"+t+\\\" doesn't exist\\\")}};var i=qe.querySelector(\\\"scene instance_kinematics_scene\\\");if(i)for(var s=0;s<i.childNodes.length;s++){var r=i.childNodes[s];if(1==r.nodeType)switch(r.nodeName){case\\\"bind_joint_axis\\\":var a=r.getAttribute(\\\"target\\\").split(\\\"/\\\").pop(),n=r.querySelector(\\\"axis param\\\").textContent,o=parseInt(n.split(\\\"joint\\\").pop().split(\\\".\\\")[0]),h=qe.querySelector('[sid=\\\"'+a+'\\\"]');if(h){var l=h.parentElement;t(o,l)}}}}function v(e,t){var i,s,r,a,n=new THREE.Object3D,o=!1;for(r=0;r<e.controllers.length;r++){var h=ze[e.controllers[r].url];switch(h.type){case\\\"skin\\\":if(Fe[h.skin.source]){var l=new I;l.url=h.skin.source,l.instance_material=e.controllers[r].instance_material,e.geometries.push(l),o=!0,i=e.controllers[r]}else if(ze[h.skin.source]){var d=ze[h.skin.source];if(s=d,d.morph&&Fe[d.morph.source]){var l=new I;l.url=d.morph.source,l.instance_material=e.controllers[r].instance_material,e.geometries.push(l)}}break;case\\\"morph\\\":if(Fe[h.morph.source]){var l=new I;l.url=h.morph.source,l.instance_material=e.controllers[r].instance_material,e.geometries.push(l),s=e.controllers[r]}console.log(\\\"ColladaLoader: Morph-controller partially supported.\\\")}}var p={};for(r=0;r<e.geometries.length;r++){var u,f=e.geometries[r],g=f.instance_material,y=Fe[f.url],b={},w=[],x=0;if(y){if(!y.mesh||!y.mesh.primitives)continue;if(0===n.name.length&&(n.name=y.id),g)for(a=0;a<g.length;a++){var N=g[a],k=Be[N.target],T=k.instance_effect.url,E=De[T].shader,R=E.material;if(y.doubleSided){if(!(N.symbol in p)){var _=R.clone();_.side=THREE.DoubleSide,p[N.symbol]=_}R=p[N.symbol]}R.opacity=R.opacity?R.opacity:1,b[N.symbol]=x,w.push(R),u=R,u.name=null===k.name||\\\"\\\"===k.name?k.id:k.name,x++}var A,C=u||new THREE.MeshLambertMaterial({color:14540253,side:y.doubleSided?THREE.DoubleSide:THREE.FrontSide}),j=y.mesh.geometry3js;if(x>1)for(C=new THREE.MultiMaterial(w),a=0;a<j.faces.length;a++){var H=j.faces[a];H.materialIndex=b[H.daeMaterial]}void 0!==i?(m(j,i),j.morphTargets.length>0?(C.morphTargets=!0,C.skinning=!1):(C.morphTargets=!1,C.skinning=!0),A=new THREE.SkinnedMesh(j,C,(!1)),A.name=\\\"skin_\\\"+Ie.length,Ie.push(A)):void 0!==s?(c(j,s),C.morphTargets=!0,A=new THREE.Mesh(j,C),A.name=\\\"morph_\\\"+Se.length,Se.push(A)):A=j.isLineStrip===!0?new THREE.Line(j):new THREE.Mesh(j,C),n.add(A)}}for(r=0;r<e.cameras.length;r++){var M=e.cameras[r],O=Ue[M.url],S=new THREE.PerspectiveCamera(O.yfov,parseFloat(O.aspect_ratio),parseFloat(O.znear),parseFloat(O.zfar));n.add(S)}for(r=0;r<e.lights.length;r++){var q=null,V=e.lights[r],X=Pe[V.url];if(X&&X.technique){var L=X.color.getHex(),Y=X.intensity,Z=X.distance,z=X.falloff_angle;switch(X.technique){case\\\"directional\\\":q=new THREE.DirectionalLight(L,Y,Z),q.position.set(0,0,1);break;case\\\"point\\\":q=new THREE.PointLight(L,Y,Z);break;case\\\"spot\\\":q=new THREE.SpotLight(L,Y,Z,z),q.position.set(0,0,1);break;case\\\"ambient\\\":q=new THREE.AmbientLight(L)}}q&&n.add(q)}if(n.name=e.name||e.id||\\\"\\\",n.colladaId=e.id||\\\"\\\",n.layer=e.layer||\\\"\\\",n.matrix=e.matrix,n.matrix.decompose(n.position,n.quaternion,n.scale),Je.centerGeometry&&n.geometry){var F=n.geometry.center();F.multiply(n.scale),F.applyQuaternion(n.quaternion),n.position.sub(F)}for(r=0;r<e.nodes.length;r++)n.add(v(e.nodes[r],e));return n}function y(e){for(var t=qe.querySelectorAll(\\\"library_nodes node\\\"),i=0;i<t.length;i++){var s=t[i].attributes.getNamedItem(\\\"id\\\");if(s&&s.value===e)return t[i]}}function b(e){var t=[],i=1e6,s=-1e6;for(var r in Ze)for(var a=Ze[r],n=0;n<a.channel.length;n++){var o=a.channel[n],h=a.sampler[n],r=o.target.split(\\\"/\\\")[0];r==e.id&&(h.create(),o.sampler=h,i=Math.min(i,h.startTime),s=Math.max(s,h.endTime),t.push(o))}return t.length&&(e.startTime=i,e.endTime=s),t}function w(e){if(e.channels&&e.channels.length){for(var t=[],i=[],s=0,r=e.channels.length;s<r;s++){var a,n=e.channels[s],o=n.fullSid,h=n.sampler,l=h.input,c=e.getTransformBySid(n.sid);if(n.arrIndices){a=[];for(var d=0,p=n.arrIndices.length;d<p;d++)a[d]=Ee(n.arrIndices[d])}else a=Re(n.member);if(c){i.indexOf(o)===-1&&i.push(o);for(var d=0,p=l.length;d<p;d++){var u=l[d],f=h.getData(c.type,d,a),m=x(t,u);if(!m){m=new ie(u);var g=N(t,u);t.splice(g===-1?t.length:g,0,m)}m.addTarget(o,c,a,f)}}else console.log('Could not find transform \\\"'+n.sid+'\\\" in node '+e.id)}for(var s=0;s<i.length;s++)for(var v=i[s],d=0;d<t.length;d++){var m=t[d];m.hasTarget(v)||k(t,m,d,v)}e.keys=t,e.sids=i}}function x(e,t){for(var i=null,s=0,r=e.length;s<r&&null===i;s++){var a=e[s];if(a.time===t)i=a;else if(a.time>t)break}return i}function N(e,t){for(var i=-1,s=0,r=e.length;s<r&&i===-1;s++){var a=e[s];a.time>=t&&(i=s)}return i}function k(e,t,i,s){var r=E(e,s,i?i-1:0),a=T(e,s,i+1);if(r&&a){var n,o=(t.time-r.time)/(a.time-r.time),h=r.getTarget(s),l=a.getTarget(s).data,c=h.data;if(\\\"matrix\\\"===h.type)n=c;else if(c.length){n=[];for(var d=0;d<c.length;++d)n[d]=c[d]+(l[d]-c[d])*o}else n=c+(l-c)*o;t.addTarget(s,h.transform,h.member,n)}}function T(e,t,i){for(;i<e.length;i++){var s=e[i];if(s.hasTarget(t))return s}return null}function E(e,t,i){for(i=i>=0?i:i+e.length;i>=0;i--){var s=e[i];if(s.hasTarget(t))return s}return null}function R(){this.id=\\\"\\\",this.init_from=\\\"\\\"}function _(){this.id=\\\"\\\",this.name=\\\"\\\",this.type=\\\"\\\",this.skin=null,this.morph=null}function A(){this.method=null,this.source=null,this.targets=null,this.weights=null}function C(){this.source=\\\"\\\",this.bindShapeMatrix=null,this.invBindMatrices=[],this.joints=[],this.weights=[]}function j(){this.id=\\\"\\\",this.name=\\\"\\\",this.nodes=[],this.scene=new THREE.Group}function H(){this.id=\\\"\\\",this.name=\\\"\\\",this.sid=\\\"\\\",this.nodes=[],this.controllers=[],this.transforms=[],this.geometries=[],this.channels=[],this.matrix=new THREE.Matrix4}function M(){this.sid=\\\"\\\",this.type=\\\"\\\",this.data=[],this.obj=null}function O(){this.url=\\\"\\\",this.skeleton=[],this.instance_material=[]}function S(){this.symbol=\\\"\\\",this.target=\\\"\\\"}function I(){this.url=\\\"\\\",this.instance_material=[]}function q(){this.id=\\\"\\\",this.mesh=null}function V(e){this.geometry=e.id,this.primitives=[],this.vertices=null,this.geometry3js=null}function X(){this.material=\\\"\\\",this.count=0,this.inputs=[],this.vcount=null,this.p=[],this.geometry=new THREE.Geometry}function L(){X.call(this),this.vcount=[]}function Y(){X.call(this),this.vcount=1}function Z(){X.call(this),this.vcount=3}function z(){this.source=\\\"\\\",this.count=0,this.stride=0,this.params=[]}function F(){this.input={}}function B(){this.semantic=\\\"\\\",this.offset=0,this.source=\\\"\\\",this.set=0}function D(e){this.id=e,this.type=null}function U(){this.id=\\\"\\\",this.name=\\\"\\\",this.instance_effect=null}function P(){this.color=new THREE.Color,this.color.setRGB(Math.random(),Math.random(),Math.random()),this.color.a=1,this.texture=null,this.texcoord=null,this.texOpts=null}function G(e,t){this.type=e,this.effect=t,this.material=null}function J(e){this.effect=e,this.init_from=null,this.format=null}function W(e){this.effect=e,this.source=null,this.wrap_s=null,this.wrap_t=null,this.minfilter=null,this.magfilter=null,this.mipfilter=null}function Q(){this.id=\\\"\\\",this.name=\\\"\\\",this.shader=null,this.surface={},this.sampler={}}function $(){this.url=\\\"\\\"}function K(){this.id=\\\"\\\",this.name=\\\"\\\",this.source={},this.sampler=[],this.channel=[]}function ee(e){this.animation=e,this.source=\\\"\\\",this.target=\\\"\\\",this.fullSid=null,this.sid=null,this.dotSyntax=null,this.arrSyntax=null,this.arrIndices=null,this.member=null}function te(e){this.id=\\\"\\\",this.animation=e,this.inputs=[],this.input=null,this.output=null,this.strideOut=null,this.interpolation=null,this.startTime=null,this.endTime=null,this.duration=0}function ie(e){this.targets=[],this.time=e}function se(){this.id=\\\"\\\",this.name=\\\"\\\",this.technique=\\\"\\\"}function re(){this.url=\\\"\\\"}function ae(){this.id=\\\"\\\",this.name=\\\"\\\",this.technique=\\\"\\\"}function ne(){this.url=\\\"\\\"}function oe(){this.id=\\\"\\\",this.name=\\\"\\\",this.joints=[],this.links=[]}function he(){this.sid=\\\"\\\",this.name=\\\"\\\",this.axis=new THREE.Vector3,this.limits={min:0,max:0},this.type=\\\"\\\",this.static=!1,this.zeroPosition=0,this.middlePosition=0}function le(){this.sid=\\\"\\\",this.name=\\\"\\\",this.transforms=[],this.attachments=[]}function ce(){this.joint=\\\"\\\",this.transforms=[],this.links=[]}function de(e){var t=e.getAttribute(\\\"id\\\");return void 0!=Le[t]?Le[t]:(Le[t]=new D(t).parse(e),Le[t])}function pe(e){for(var t=me(e),i=[],s=0,r=t.length;s<r;s++)i.push(\\\"true\\\"===t[s]||\\\"1\\\"===t[s]);return i}function ue(e){for(var t=me(e),i=[],s=0,r=t.length;s<r;s++)i.push(parseFloat(t[s]));return i}function fe(e){for(var t=me(e),i=[],s=0,r=t.length;s<r;s++)i.push(parseInt(t[s],10));return i}function me(e){return e.length>0?ge(e).split(/\\\\s+/):[]}function ge(e){return e.replace(/^\\\\s+/,\\\"\\\").replace(/\\\\s+$/,\\\"\\\")}function ve(e,t,i){return e.hasAttribute(t)?parseInt(e.getAttribute(t),10):i}function ye(e,t){var i=new THREE.ImageLoader;i.load(t,function(t){e.image=t,e.needsUpdate=!0})}function be(e,t){e.doubleSided=!1;var i=t.querySelectorAll(\\\"extra double_sided\\\")[0];i&&i&&1===parseInt(i.textContent,10)&&(e.doubleSided=!0)}function we(){if(Je.convertUpAxis!==!0||Qe===Je.upAxis)$e=null;else switch(Qe){case\\\"X\\\":$e=\\\"Y\\\"===Je.upAxis?\\\"XtoY\\\":\\\"XtoZ\\\";break;case\\\"Y\\\":$e=\\\"X\\\"===Je.upAxis?\\\"YtoX\\\":\\\"YtoZ\\\";break;case\\\"Z\\\":$e=\\\"X\\\"===Je.upAxis?\\\"ZtoX\\\":\\\"ZtoY\\\"}}function xe(e,t){if(Je.convertUpAxis===!0&&Qe!==Je.upAxis)switch($e){case\\\"XtoY\\\":var i=e[0];e[0]=t*e[1],e[1]=i;break;case\\\"XtoZ\\\":var i=e[2];e[2]=e[1],e[1]=e[0],e[0]=i;break;case\\\"YtoX\\\":var i=e[0];e[0]=e[1],e[1]=t*i;break;case\\\"YtoZ\\\":var i=e[1];e[1]=t*e[2],e[2]=i;break;case\\\"ZtoX\\\":var i=e[0];e[0]=e[1],e[1]=e[2],e[2]=i;break;case\\\"ZtoY\\\":var i=e[1];e[1]=e[2],e[2]=t*i}}function Ne(e,t){if(Je.convertUpAxis!==!0||Qe===Je.upAxis)return t;switch(e){case\\\"X\\\":t=\\\"XtoY\\\"===$e?t*-1:t;break;case\\\"Y\\\":t=\\\"YtoZ\\\"===$e||\\\"YtoX\\\"===$e?t*-1:t;break;case\\\"Z\\\":t=\\\"ZtoY\\\"===$e?t*-1:t}return t}function ke(e,t){var i=[e[t],e[t+1],e[t+2]];return xe(i,-1),new THREE.Vector3(i[0],i[1],i[2])}function Te(e){if(Je.convertUpAxis){var t=[e[0],e[4],e[8]];xe(t,-1),e[0]=t[0],e[4]=t[1],e[8]=t[2],t=[e[1],e[5],e[9]],xe(t,-1),e[1]=t[0],e[5]=t[1],e[9]=t[2],t=[e[2],e[6],e[10]],xe(t,-1),e[2]=t[0],e[6]=t[1],e[10]=t[2],t=[e[0],e[1],e[2]],xe(t,-1),e[0]=t[0],e[1]=t[1],e[2]=t[2],t=[e[4],e[5],e[6]],xe(t,-1),e[4]=t[0],e[5]=t[1],e[6]=t[2],t=[e[8],e[9],e[10]],xe(t,-1),e[8]=t[0],e[9]=t[1],e[10]=t[2],t=[e[3],e[7],e[11]],xe(t,-1),e[3]=t[0],e[7]=t[1],e[11]=t[2]}return(new THREE.Matrix4).set(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}function Ee(e){if(e>-1&&e<3){var t=[\\\"X\\\",\\\"Y\\\",\\\"Z\\\"],i={X:0,Y:1,Z:2};e=Re(t[e]),e=i[e]}return e}function Re(e){if(Je.convertUpAxis)switch(e){case\\\"X\\\":switch($e){case\\\"XtoY\\\":case\\\"XtoZ\\\":case\\\"YtoX\\\":e=\\\"Y\\\";break;case\\\"ZtoX\\\":e=\\\"Z\\\"}break;case\\\"Y\\\":switch($e){case\\\"XtoY\\\":case\\\"YtoX\\\":case\\\"ZtoX\\\":e=\\\"X\\\";break;case\\\"XtoZ\\\":case\\\"YtoZ\\\":case\\\"ZtoY\\\":e=\\\"Z\\\"}break;case\\\"Z\\\":switch($e){case\\\"XtoZ\\\":e=\\\"X\\\";break;case\\\"YtoZ\\\":case\\\"ZtoX\\\":case\\\"ZtoY\\\":e=\\\"Y\\\"}}return e}var _e,Ae,Ce,je,He,Me,Oe,Se,Ie,qe=null,Ve=null,Xe=null,Le={},Ye={},Ze={},ze={},Fe={},Be={},De={},Ue={},Pe={},Ge=THREE.SmoothShading,Je={centerGeometry:!1,convertUpAxis:!1,subdivideFaces:!0,upAxis:\\\"Y\\\",defaultEnvMap:null},We=1,Qe=\\\"Y\\\",$e=null;return R.prototype.parse=function(e){this.id=e.getAttribute(\\\"id\\\");for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];\\\"init_from\\\"===i.nodeName&&(this.init_from=i.textContent)}return this},_.prototype.parse=function(e){this.id=e.getAttribute(\\\"id\\\"),this.name=e.getAttribute(\\\"name\\\"),this.type=\\\"none\\\";for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];switch(i.nodeName){case\\\"skin\\\":this.skin=(new C).parse(i),this.type=i.nodeName;break;case\\\"morph\\\":this.morph=(new A).parse(i),this.type=i.nodeName}}return this},A.prototype.parse=function(e){var t,i={},s=[];for(this.method=e.getAttribute(\\\"method\\\"),this.source=e.getAttribute(\\\"source\\\").replace(/^#/,\\\"\\\"),t=0;t<e.childNodes.length;t++){var r=e.childNodes[t];if(1==r.nodeType)switch(r.nodeName){case\\\"source\\\":var a=(new D).parse(r);i[a.id]=a;break;case\\\"targets\\\":s=this.parseInputs(r);break;default:console.log(r.nodeName)}}for(t=0;t<s.length;t++){var n=s[t],a=i[n.source];switch(n.semantic){case\\\"MORPH_TARGET\\\":this.targets=a.read();break;case\\\"MORPH_WEIGHT\\\":this.weights=a.read()}}return this},A.prototype.parseInputs=function(e){for(var t=[],i=0;i<e.childNodes.length;i++){var s=e.childNodes[i];if(1==s.nodeType)switch(s.nodeName){case\\\"input\\\":t.push((new B).parse(s))}}return t},C.prototype.parse=function(e){var t,i,s={};this.source=e.getAttribute(\\\"source\\\").replace(/^#/,\\\"\\\"),this.invBindMatrices=[],this.joints=[],this.weights=[];for(var r=0;r<e.childNodes.length;r++){var a=e.childNodes[r];if(1==a.nodeType)switch(a.nodeName){case\\\"bind_shape_matrix\\\":var n=ue(a.textContent);this.bindShapeMatrix=Te(n);break;case\\\"source\\\":var o=(new D).parse(a);s[o.id]=o;break;case\\\"joints\\\":t=a;break;case\\\"vertex_weights\\\":i=a;break;default:console.log(a.nodeName)}}return this.parseJoints(t,s),this.parseWeights(i,s),this},C.prototype.parseJoints=function(e,t){for(var i=0;i<e.childNodes.length;i++){var s=e.childNodes[i];if(1==s.nodeType)switch(s.nodeName){case\\\"input\\\":var r=(new B).parse(s),a=t[r.source];\\\"JOINT\\\"===r.semantic?this.joints=a.read():\\\"INV_BIND_MATRIX\\\"===r.semantic&&(this.invBindMatrices=a.read())}}},C.prototype.parseWeights=function(e,t){for(var i,s,r=[],a=0;a<e.childNodes.length;a++){var n=e.childNodes[a];if(1==n.nodeType)switch(n.nodeName){case\\\"input\\\":r.push((new B).parse(n));break;case\\\"v\\\":i=fe(n.textContent);break;case\\\"vcount\\\":s=fe(n.textContent)}}for(var o=0,a=0;a<s.length;a++){for(var h=s[a],l=[],c=0;c<h;c++){for(var d={},p=0;p<r.length;p++){var u=r[p],f=i[o+u.offset];switch(u.semantic){case\\\"JOINT\\\":d.joint=f;break;case\\\"WEIGHT\\\":d.weight=t[u.source].data[f]}}l.push(d),o+=r.length}for(var c=0;c<l.length;c++)l[c].index=a;this.weights.push(l)}},j.prototype.getChildById=function(e,t){for(var i=0;i<this.nodes.length;i++){var s=this.nodes[i].getChildById(e,t);if(s)return s}return null},j.prototype.getChildBySid=function(e,t){for(var i=0;i<this.nodes.length;i++){var s=this.nodes[i].getChildBySid(e,t);if(s)return s}return null},j.prototype.parse=function(e){this.id=e.getAttribute(\\\"id\\\"),this.name=e.getAttribute(\\\"name\\\"),this.nodes=[];for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(1==i.nodeType)switch(i.nodeName){case\\\"node\\\":this.nodes.push((new H).parse(i))}}return this},H.prototype.getChannelForTransform=function(e){for(var t=0;t<this.channels.length;t++){var i,s,r=this.channels[t],a=r.target.split(\\\"/\\\"),n=(a.shift(),a.shift()),o=n.indexOf(\\\".\\\")>=0,h=n.indexOf(\\\"(\\\")>=0;if(o)a=n.split(\\\".\\\"),n=a.shift(),s=a.shift();else if(h){i=n.split(\\\"(\\\"),n=i.shift();for(var l=0;l<i.length;l++)i[l]=parseInt(i[l].replace(/\\\\)/,\\\"\\\"))}if(n===e)return r.info={sid:n,dotSyntax:o,arrSyntax:h,arrIndices:i},r}return null},H.prototype.getChildById=function(e,t){if(this.id===e)return this;if(t)for(var i=0;i<this.nodes.length;i++){var s=this.nodes[i].getChildById(e,t);if(s)return s}return null},H.prototype.getChildBySid=function(e,t){if(this.sid===e)return this;if(t)for(var i=0;i<this.nodes.length;i++){var s=this.nodes[i].getChildBySid(e,t);if(s)return s}return null},H.prototype.getTransformBySid=function(e){for(var t=0;t<this.transforms.length;t++)if(this.transforms[t].sid===e)return this.transforms[t];return null},H.prototype.parse=function(e){var t;this.id=e.getAttribute(\\\"id\\\"),this.sid=e.getAttribute(\\\"sid\\\"),this.name=e.getAttribute(\\\"name\\\"),this.type=e.getAttribute(\\\"type\\\"),this.layer=e.getAttribute(\\\"layer\\\"),this.type=\\\"JOINT\\\"===this.type?this.type:\\\"NODE\\\",this.nodes=[],this.transforms=[],this.geometries=[],this.cameras=[],this.lights=[],this.controllers=[],this.matrix=new THREE.Matrix4;for(var i=0;i<e.childNodes.length;i++){var s=e.childNodes[i];if(1==s.nodeType)switch(s.nodeName){case\\\"node\\\":this.nodes.push((new H).parse(s));break;case\\\"instance_camera\\\":this.cameras.push((new re).parse(s));break;case\\\"instance_controller\\\":this.controllers.push((new O).parse(s));break;case\\\"instance_geometry\\\":this.geometries.push((new I).parse(s));break;case\\\"instance_light\\\":this.lights.push((new ne).parse(s));break;case\\\"instance_node\\\":t=s.getAttribute(\\\"url\\\").replace(/^#/,\\\"\\\");var r=y(t);r&&this.nodes.push((new H).parse(r));break;case\\\"rotate\\\":case\\\"translate\\\":case\\\"scale\\\":case\\\"matrix\\\":case\\\"lookat\\\":case\\\"skew\\\":this.transforms.push((new M).parse(s));break;case\\\"extra\\\":break;default:console.log(s.nodeName)}}return this.channels=b(this),w(this),this.updateMatrix(),this},H.prototype.updateMatrix=function(){this.matrix.identity();for(var e=0;e<this.transforms.length;e++)this.transforms[e].apply(this.matrix)},M.prototype.parse=function(e){return this.sid=e.getAttribute(\\\"sid\\\"),this.type=e.nodeName,this.data=ue(e.textContent),this.convert(),this},M.prototype.convert=function(){switch(this.type){case\\\"matrix\\\":this.obj=Te(this.data);break;case\\\"rotate\\\":this.angle=THREE.Math.degToRad(this.data[3]);case\\\"translate\\\":xe(this.data,-1),this.obj=new THREE.Vector3(this.data[0],this.data[1],this.data[2]);break;case\\\"scale\\\":xe(this.data,1),this.obj=new THREE.Vector3(this.data[0],this.data[1],this.data[2]);break;default:console.log(\\\"Can not convert Transform of type \\\"+this.type)}},M.prototype.apply=function(){var e=new THREE.Matrix4;return function(t){switch(this.type){case\\\"matrix\\\":t.multiply(this.obj);break;case\\\"translate\\\":t.multiply(e.makeTranslation(this.obj.x,this.obj.y,this.obj.z));break;case\\\"rotate\\\":t.multiply(e.makeRotationAxis(this.obj,this.angle));break;case\\\"scale\\\":t.scale(this.obj)}}}(),M.prototype.update=function(e,t){var i=[\\\"X\\\",\\\"Y\\\",\\\"Z\\\",\\\"ANGLE\\\"];switch(this.type){case\\\"matrix\\\":if(t)if(1===t.length)switch(t[0]){case 0:this.obj.n11=e[0],this.obj.n21=e[1],this.obj.n31=e[2],this.obj.n41=e[3];break;case 1:this.obj.n12=e[0],this.obj.n22=e[1],this.obj.n32=e[2],this.obj.n42=e[3];break;case 2:this.obj.n13=e[0],this.obj.n23=e[1],this.obj.n33=e[2],this.obj.n43=e[3];break;case 3:this.obj.n14=e[0],this.obj.n24=e[1],this.obj.n34=e[2],this.obj.n44=e[3]}else if(2===t.length){var s=\\\"n\\\"+(t[0]+1)+(t[1]+1);this.obj[s]=e}else console.log(\\\"Incorrect addressing of matrix in transform.\\\");else this.obj.copy(e);break;case\\\"translate\\\":case\\\"scale\\\":switch(\\\"[object Array]\\\"===Object.prototype.toString.call(t)&&(t=i[t[0]]),t){case\\\"X\\\":this.obj.x=e;break;case\\\"Y\\\":this.obj.y=e;break;case\\\"Z\\\":this.obj.z=e;break;default:this.obj.x=e[0],this.obj.y=e[1],this.obj.z=e[2]}break;case\\\"rotate\\\":switch(\\\"[object Array]\\\"===Object.prototype.toString.call(t)&&(t=i[t[0]]),t){case\\\"X\\\":this.obj.x=e;break;case\\\"Y\\\":this.obj.y=e;break;case\\\"Z\\\":this.obj.z=e;break;case\\\"ANGLE\\\":this.angle=THREE.Math.degToRad(e);break;default:this.obj.x=e[0],this.obj.y=e[1],this.obj.z=e[2],this.angle=THREE.Math.degToRad(e[3])}}},O.prototype.parse=function(e){this.url=e.getAttribute(\\\"url\\\").replace(/^#/,\\\"\\\"),this.skeleton=[],this.instance_material=[];for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(1===i.nodeType)switch(i.nodeName){case\\\"skeleton\\\":this.skeleton.push(i.textContent.replace(/^#/,\\\"\\\"));break;case\\\"bind_material\\\":for(var s=i.querySelectorAll(\\\"instance_material\\\"),r=0;r<s.length;r++){var a=s[r];this.instance_material.push((new S).parse(a))}break;case\\\"extra\\\":}}return this},S.prototype.parse=function(e){return this.symbol=e.getAttribute(\\\"symbol\\\"),this.target=e.getAttribute(\\\"target\\\").replace(/^#/,\\\"\\\"),this},I.prototype.parse=function(e){this.url=e.getAttribute(\\\"url\\\").replace(/^#/,\\\"\\\"),this.instance_material=[];for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(1==i.nodeType&&\\\"bind_material\\\"===i.nodeName){for(var s=i.querySelectorAll(\\\"instance_material\\\"),r=0;r<s.length;r++){var a=s[r];this.instance_material.push((new S).parse(a))}break}}return this},q.prototype.parse=function(e){this.id=e.getAttribute(\\\"id\\\"),be(this,e);for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];switch(i.nodeName){case\\\"mesh\\\":this.mesh=new V(this).parse(i);break;case\\\"extra\\\":}}return this},V.prototype.parse=function(e){this.primitives=[];for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];switch(i.nodeName){case\\\"source\\\":de(i);break;case\\\"vertices\\\":this.vertices=(new F).parse(i);break;case\\\"linestrips\\\":this.primitives.push((new Y).parse(i));break;case\\\"triangles\\\":this.primitives.push((new Z).parse(i));break;case\\\"polygons\\\":this.primitives.push((new X).parse(i));break;case\\\"polylist\\\":this.primitives.push((new L).parse(i))}}if(this.geometry3js=new THREE.Geometry,null===this.vertices)return this;for(var s=Le[this.vertices.input.POSITION.source].data,t=0;t<s.length;t+=3)this.geometry3js.vertices.push(ke(s,t).clone());for(var t=0;t<this.primitives.length;t++){var r=this.primitives[t];r.setVertices(this.vertices),this.handlePrimitive(r,this.geometry3js)}return this.geometry3js.calcNormals&&(this.geometry3js.computeVertexNormals(),delete this.geometry3js.calcNormals),this},V.prototype.handlePrimitive=function(e,t){if(e instanceof Y)return void(t.isLineStrip=!0);var i,s,r,a,n,o,h,l=e.p,c=e.inputs,d=0,p=3,u=0,f=[];for(i=0;i<c.length;i++){r=c[i];var m=r.offset+1;switch(u=u<m?m:u,r.semantic){case\\\"TEXCOORD\\\":f.push(r.set)}}for(var g=0;g<l.length;++g)for(var v=l[g],y=0;y<v.length;){var b=[],w=[],x=null,N=[];for(p=e.vcount?e.vcount.length?e.vcount[d++]:e.vcount:v.length/u,i=0;i<p;i++)for(s=0;s<c.length;s++)switch(r=c[s],o=Le[r.source],a=v[y+i*u+r.offset],h=o.accessor.params.length,n=a*h,r.semantic){case\\\"VERTEX\\\":b.push(a);break;case\\\"NORMAL\\\":w.push(ke(o.data,n));break;case\\\"TEXCOORD\\\":x=x||{},void 0===x[r.set]&&(x[r.set]=[]),x[r.set].push(new THREE.Vector2(o.data[n],o.data[n+1]));break;case\\\"COLOR\\\":N.push((new THREE.Color).setRGB(o.data[n],o.data[n+1],o.data[n+2]))}if(0===w.length)if(r=this.vertices.input.NORMAL){o=Le[r.source],h=o.accessor.params.length;for(var k=0,T=b.length;k<T;k++)w.push(ke(o.data,b[k]*h))}else t.calcNormals=!0;if(!x&&(x={},r=this.vertices.input.TEXCOORD)){f.push(r.set),o=Le[r.source],h=o.accessor.params.length;for(var k=0,T=b.length;k<T;k++)n=b[k]*h,void 0===x[r.set]&&(x[r.set]=[]),x[r.set].push(new THREE.Vector2(o.data[n],1-o.data[n+1]))}if(0===N.length&&(r=this.vertices.input.COLOR)){o=Le[r.source],h=o.accessor.params.length;for(var k=0,T=b.length;k<T;k++)n=b[k]*h,N.push((new THREE.Color).setRGB(o.data[n],o.data[n+1],o.data[n+2]))}var E,R,_=null,A=[];if(3===p)A.push(new THREE.Face3(b[0],b[1],b[2],w,N.length?N:new THREE.Color));else if(4===p)A.push(new THREE.Face3(b[0],b[1],b[3],w.length?[w[0].clone(),w[1].clone(),w[3].clone()]:[],N.length?[N[0],N[1],N[3]]:new THREE.Color)),A.push(new THREE.Face3(b[1],b[2],b[3],w.length?[w[1].clone(),w[2].clone(),w[3].clone()]:[],N.length?[N[1],N[2],N[3]]:new THREE.Color));else if(p>4&&Je.subdivideFaces){var C=N.length?N:new THREE.Color;for(s=1;s<p-1;)A.push(new THREE.Face3(b[0],b[s],b[s+1],w.length?[w[0].clone(),w[s++].clone(),w[s].clone()]:[],C))}if(A.length)for(var k=0,T=A.length;k<T;k++)for(_=A[k],_.daeMaterial=e.material,t.faces.push(_),s=0;s<f.length;s++)E=x[f[s]],R=p>4?[E[0],E[k+1],E[k+2]]:4===p?0===k?[E[0],E[1],E[3]]:[E[1].clone(),E[2],E[3].clone()]:[E[0],E[1],E[2]],void 0===t.faceVertexUvs[s]&&(t.faceVertexUvs[s]=[]),t.faceVertexUvs[s].push(R);else console.log(\\\"dropped face with vcount \\\"+p+\\\" for geometry with id: \\\"+t.id);y+=u*p}},X.prototype.setVertices=function(e){for(var t=0;t<this.inputs.length;t++)this.inputs[t].source===e.id&&(this.inputs[t].source=e.input.POSITION.source)},X.prototype.parse=function(e){this.material=e.getAttribute(\\\"material\\\"),this.count=ve(e,\\\"count\\\",0);for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];switch(i.nodeName){case\\\"input\\\":this.inputs.push((new B).parse(e.childNodes[t]));break;case\\\"vcount\\\":\\nthis.vcount=fe(i.textContent);break;case\\\"p\\\":this.p.push(fe(i.textContent));break;case\\\"ph\\\":console.warn(\\\"polygon holes not yet supported!\\\")}}return this},L.prototype=Object.create(X.prototype),L.prototype.constructor=L,Y.prototype=Object.create(X.prototype),Y.prototype.constructor=Y,Z.prototype=Object.create(X.prototype),Z.prototype.constructor=Z,z.prototype.parse=function(e){this.params=[],this.source=e.getAttribute(\\\"source\\\"),this.count=ve(e,\\\"count\\\",0),this.stride=ve(e,\\\"stride\\\",0);for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(\\\"param\\\"===i.nodeName){var s={};s.name=i.getAttribute(\\\"name\\\"),s.type=i.getAttribute(\\\"type\\\"),this.params.push(s)}}return this},F.prototype.parse=function(e){this.id=e.getAttribute(\\\"id\\\");for(var t=0;t<e.childNodes.length;t++)if(\\\"input\\\"===e.childNodes[t].nodeName){var i=(new B).parse(e.childNodes[t]);this.input[i.semantic]=i}return this},B.prototype.parse=function(e){return this.semantic=e.getAttribute(\\\"semantic\\\"),this.source=e.getAttribute(\\\"source\\\").replace(/^#/,\\\"\\\"),this.set=ve(e,\\\"set\\\",-1),this.offset=ve(e,\\\"offset\\\",0),\\\"TEXCOORD\\\"===this.semantic&&this.set<0&&(this.set=0),this},D.prototype.parse=function(e){this.id=e.getAttribute(\\\"id\\\");for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];switch(i.nodeName){case\\\"bool_array\\\":this.data=pe(i.textContent),this.type=i.nodeName;break;case\\\"float_array\\\":this.data=ue(i.textContent),this.type=i.nodeName;break;case\\\"int_array\\\":this.data=fe(i.textContent),this.type=i.nodeName;break;case\\\"IDREF_array\\\":case\\\"Name_array\\\":this.data=me(i.textContent),this.type=i.nodeName;break;case\\\"technique_common\\\":for(var s=0;s<i.childNodes.length;s++)if(\\\"accessor\\\"===i.childNodes[s].nodeName){this.accessor=(new z).parse(i.childNodes[s]);break}}}return this},D.prototype.read=function(){var e=[],t=this.accessor.params[0];switch(t.type){case\\\"IDREF\\\":case\\\"Name\\\":case\\\"name\\\":case\\\"float\\\":return this.data;case\\\"float4x4\\\":for(var i=0;i<this.data.length;i+=16){var s=this.data.slice(i,i+16),r=Te(s);e.push(r)}break;default:console.log(\\\"ColladaLoader: Source: Read dont know how to read \\\"+t.type+\\\".\\\")}return e},U.prototype.parse=function(e){this.id=e.getAttribute(\\\"id\\\"),this.name=e.getAttribute(\\\"name\\\");for(var t=0;t<e.childNodes.length;t++)if(\\\"instance_effect\\\"===e.childNodes[t].nodeName){this.instance_effect=(new $).parse(e.childNodes[t]);break}return this},P.prototype.isColor=function(){return null===this.texture},P.prototype.isTexture=function(){return null!=this.texture},P.prototype.parse=function(e){\\\"transparent\\\"===e.nodeName&&(this.opaque=e.getAttribute(\\\"opaque\\\"));for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(1==i.nodeType)switch(i.nodeName){case\\\"color\\\":var s=ue(i.textContent);this.color=new THREE.Color,this.color.setRGB(s[0],s[1],s[2]),this.color.a=s[3];break;case\\\"texture\\\":this.texture=i.getAttribute(\\\"texture\\\"),this.texcoord=i.getAttribute(\\\"texcoord\\\"),this.texOpts={offsetU:0,offsetV:0,repeatU:1,repeatV:1,wrapU:1,wrapV:1},this.parseTexture(i)}}return this},P.prototype.parseTexture=function(e){if(!e.childNodes)return this;e.childNodes[1]&&\\\"extra\\\"===e.childNodes[1].nodeName&&(e=e.childNodes[1],e.childNodes[1]&&\\\"technique\\\"===e.childNodes[1].nodeName&&(e=e.childNodes[1]));for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];switch(i.nodeName){case\\\"offsetU\\\":case\\\"offsetV\\\":case\\\"repeatU\\\":case\\\"repeatV\\\":this.texOpts[i.nodeName]=parseFloat(i.textContent);break;case\\\"wrapU\\\":case\\\"wrapV\\\":\\\"TRUE\\\"===i.textContent.toUpperCase()?this.texOpts[i.nodeName]=1:this.texOpts[i.nodeName]=parseInt(i.textContent);break;default:this.texOpts[i.nodeName]=i.textContent}}return this},G.prototype.parse=function(e){for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(1==i.nodeType)switch(i.nodeName){case\\\"emission\\\":case\\\"diffuse\\\":case\\\"specular\\\":case\\\"transparent\\\":this[i.nodeName]=(new P).parse(i);break;case\\\"bump\\\":var s=i.getAttribute(\\\"bumptype\\\");s?\\\"heightfield\\\"===s.toLowerCase()?this.bump=(new P).parse(i):\\\"normalmap\\\"===s.toLowerCase()?this.normal=(new P).parse(i):(console.error(\\\"Shader.prototype.parse: Invalid value for attribute 'bumptype' (\\\"+s+\\\") - valid bumptypes are 'HEIGHTFIELD' and 'NORMALMAP' - defaulting to 'HEIGHTFIELD'\\\"),this.bump=(new P).parse(i)):(console.warn(\\\"Shader.prototype.parse: Attribute 'bumptype' missing from bump node - defaulting to 'HEIGHTFIELD'\\\"),this.bump=(new P).parse(i));break;case\\\"shininess\\\":case\\\"reflectivity\\\":case\\\"index_of_refraction\\\":case\\\"transparency\\\":var r=i.querySelectorAll(\\\"float\\\");r.length>0&&(this[i.nodeName]=parseFloat(r[0].textContent))}}return this.create(),this},G.prototype.create=function(){var e={},t=!1;if(void 0!==this.transparency&&void 0!==this.transparent){var i=(this.transparent,(this.transparent.color.r+this.transparent.color.g+this.transparent.color.b)/3*this.transparency);i>0&&(t=!0,e.transparent=!0,e.opacity=1-i)}var s={diffuse:\\\"map\\\",ambient:\\\"lightMap\\\",specular:\\\"specularMap\\\",emission:\\\"emissionMap\\\",bump:\\\"bumpMap\\\",normal:\\\"normalMap\\\"};for(var r in this)switch(r){case\\\"ambient\\\":case\\\"emission\\\":case\\\"diffuse\\\":case\\\"specular\\\":case\\\"bump\\\":case\\\"normal\\\":var a=this[r];if(a instanceof P)if(a.isTexture()){var n=a.texture,o=this.effect.sampler[n];if(void 0!==o&&void 0!==o.source){var h=this.effect.surface[o.source];if(void 0!==h){var l=Ye[h.init_from];if(l){var c,d=Oe+l.init_from,p=THREE.Loader.Handlers.get(d);null!==p?c=p.load(d):(c=new THREE.Texture,ye(c,d)),c.wrapS=a.texOpts.wrapU?THREE.RepeatWrapping:THREE.ClampToEdgeWrapping,c.wrapT=a.texOpts.wrapV?THREE.RepeatWrapping:THREE.ClampToEdgeWrapping,c.offset.x=a.texOpts.offsetU,c.offset.y=a.texOpts.offsetV,c.repeat.x=a.texOpts.repeatU,c.repeat.y=a.texOpts.repeatV,e[s[r]]=c,\\\"emission\\\"===r&&(e.emissive=16777215)}}}}else\\\"diffuse\\\"!==r&&t||(\\\"emission\\\"===r?e.emissive=a.color.getHex():e[r]=a.color.getHex());break;case\\\"shininess\\\":e[r]=this[r];break;case\\\"reflectivity\\\":e[r]=this[r],e[r]>0&&(e.envMap=Je.defaultEnvMap),e.combine=THREE.MixOperation;break;case\\\"index_of_refraction\\\":e.refractionRatio=this[r],1!==this[r]&&(e.envMap=Je.defaultEnvMap);break;case\\\"transparency\\\":}switch(e.shading=Ge,e.side=this.effect.doubleSided?THREE.DoubleSide:THREE.FrontSide,void 0!==e.diffuse&&(e.color=e.diffuse,delete e.diffuse),this.type){case\\\"constant\\\":void 0!=e.emissive&&(e.color=e.emissive),this.material=new THREE.MeshBasicMaterial(e);break;case\\\"phong\\\":case\\\"blinn\\\":this.material=new THREE.MeshPhongMaterial(e);break;case\\\"lambert\\\":default:this.material=new THREE.MeshLambertMaterial(e)}return this.material},J.prototype.parse=function(e){for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(1==i.nodeType)switch(i.nodeName){case\\\"init_from\\\":this.init_from=i.textContent;break;case\\\"format\\\":this.format=i.textContent;break;default:console.log(\\\"unhandled Surface prop: \\\"+i.nodeName)}}return this},W.prototype.parse=function(e){for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(1==i.nodeType)switch(i.nodeName){case\\\"source\\\":this.source=i.textContent;break;case\\\"minfilter\\\":this.minfilter=i.textContent;break;case\\\"magfilter\\\":this.magfilter=i.textContent;break;case\\\"mipfilter\\\":this.mipfilter=i.textContent;break;case\\\"wrap_s\\\":this.wrap_s=i.textContent;break;case\\\"wrap_t\\\":this.wrap_t=i.textContent;break;default:console.log(\\\"unhandled Sampler2D prop: \\\"+i.nodeName)}}return this},Q.prototype.create=function(){if(null===this.shader)return null},Q.prototype.parse=function(e){this.id=e.getAttribute(\\\"id\\\"),this.name=e.getAttribute(\\\"name\\\"),be(this,e),this.shader=null;for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(1==i.nodeType)switch(i.nodeName){case\\\"profile_COMMON\\\":this.parseTechnique(this.parseProfileCOMMON(i))}}return this},Q.prototype.parseNewparam=function(e){for(var t=e.getAttribute(\\\"sid\\\"),i=0;i<e.childNodes.length;i++){var s=e.childNodes[i];if(1==s.nodeType)switch(s.nodeName){case\\\"surface\\\":this.surface[t]=new J(this).parse(s);break;case\\\"sampler2D\\\":this.sampler[t]=new W(this).parse(s);break;case\\\"extra\\\":break;default:console.log(s.nodeName)}}},Q.prototype.parseProfileCOMMON=function(e){for(var t,i=0;i<e.childNodes.length;i++){var s=e.childNodes[i];if(1==s.nodeType)switch(s.nodeName){case\\\"profile_COMMON\\\":this.parseProfileCOMMON(s);break;case\\\"technique\\\":t=s;break;case\\\"newparam\\\":this.parseNewparam(s);break;case\\\"image\\\":var r=(new R).parse(s);Ye[r.id]=r;break;case\\\"extra\\\":break;default:console.log(s.nodeName)}}return t},Q.prototype.parseTechnique=function(e){for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(1==i.nodeType)switch(i.nodeName){case\\\"constant\\\":case\\\"lambert\\\":case\\\"blinn\\\":case\\\"phong\\\":this.shader=new G(i.nodeName,this).parse(i);break;case\\\"extra\\\":this.parseExtra(i)}}},Q.prototype.parseExtra=function(e){for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(1==i.nodeType)switch(i.nodeName){case\\\"technique\\\":this.parseExtraTechnique(i)}}},Q.prototype.parseExtraTechnique=function(e){for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(1==i.nodeType)switch(i.nodeName){case\\\"bump\\\":this.shader.parse(e)}}},$.prototype.parse=function(e){return this.url=e.getAttribute(\\\"url\\\").replace(/^#/,\\\"\\\"),this},K.prototype.parse=function(e){this.id=e.getAttribute(\\\"id\\\"),this.name=e.getAttribute(\\\"name\\\"),this.source={};for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(1==i.nodeType)switch(i.nodeName){case\\\"animation\\\":var s=(new K).parse(i);for(var r in s.source)this.source[r]=s.source[r];for(var a=0;a<s.channel.length;a++)this.channel.push(s.channel[a]),this.sampler.push(s.sampler[a]);break;case\\\"source\\\":var r=(new D).parse(i);this.source[r.id]=r;break;case\\\"sampler\\\":this.sampler.push(new te(this).parse(i));break;case\\\"channel\\\":this.channel.push(new ee(this).parse(i))}}return this},ee.prototype.parse=function(e){this.source=e.getAttribute(\\\"source\\\").replace(/^#/,\\\"\\\"),this.target=e.getAttribute(\\\"target\\\");var t=this.target.split(\\\"/\\\"),i=(t.shift(),t.shift()),s=i.indexOf(\\\".\\\")>=0,r=i.indexOf(\\\"(\\\")>=0;if(s)t=i.split(\\\".\\\"),this.sid=t.shift(),this.member=t.shift();else if(r){var a=i.split(\\\"(\\\");this.sid=a.shift();for(var n=0;n<a.length;n++)a[n]=parseInt(a[n].replace(/\\\\)/,\\\"\\\"));this.arrIndices=a}else this.sid=i;return this.fullSid=i,this.dotSyntax=s,this.arrSyntax=r,this},te.prototype.parse=function(e){this.id=e.getAttribute(\\\"id\\\"),this.inputs=[];for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(1==i.nodeType)switch(i.nodeName){case\\\"input\\\":this.inputs.push((new B).parse(i))}}return this},te.prototype.create=function(){for(var e=0;e<this.inputs.length;e++){var t=this.inputs[e],i=this.animation.source[t.source];switch(t.semantic){case\\\"INPUT\\\":this.input=i.read();break;case\\\"OUTPUT\\\":this.output=i.read(),this.strideOut=i.accessor.stride;break;case\\\"INTERPOLATION\\\":this.interpolation=i.read();break;case\\\"IN_TANGENT\\\":break;case\\\"OUT_TANGENT\\\":break;default:console.log(t.semantic)}}if(this.startTime=0,this.endTime=0,this.duration=0,this.input.length){this.startTime=1e8,this.endTime=-1e8;for(var e=0;e<this.input.length;e++)this.startTime=Math.min(this.startTime,this.input[e]),this.endTime=Math.max(this.endTime,this.input[e]);this.duration=this.endTime-this.startTime}},te.prototype.getData=function(e,t,i){var s;if(\\\"matrix\\\"===e&&16===this.strideOut)s=this.output[t];else if(this.strideOut>1){s=[],t*=this.strideOut;for(var r=0;r<this.strideOut;++r)s[r]=this.output[t+r];if(3===this.strideOut)switch(e){case\\\"rotate\\\":case\\\"translate\\\":xe(s,-1);break;case\\\"scale\\\":xe(s,1)}else 4===this.strideOut&&\\\"matrix\\\"===e&&xe(s,-1)}else s=this.output[t],i&&\\\"translate\\\"===e&&(s=Ne(i,s));return s},ie.prototype.addTarget=function(e,t,i,s){this.targets.push({sid:e,member:i,transform:t,data:s})},ie.prototype.apply=function(e){for(var t=0;t<this.targets.length;++t){var i=this.targets[t];e&&i.sid!==e||i.transform.update(i.data,i.member)}},ie.prototype.getTarget=function(e){for(var t=0;t<this.targets.length;++t)if(this.targets[t].sid===e)return this.targets[t];return null},ie.prototype.hasTarget=function(e){for(var t=0;t<this.targets.length;++t)if(this.targets[t].sid===e)return!0;return!1},ie.prototype.interpolate=function(e,t){for(var i=0,s=this.targets.length;i<s;i++){var r,a=this.targets[i],n=e.getTarget(a.sid);if(\\\"matrix\\\"!==a.transform.type&&n){var o=(t-this.time)/(e.time-this.time),h=n.data,l=a.data;if(o<0&&(o=0),o>1&&(o=1),l.length){r=[];for(var c=0;c<l.length;++c)r[c]=l[c]+(h[c]-l[c])*o}else r=l+(h-l)*o}else r=a.data;a.transform.update(r,a.member)}},se.prototype.parse=function(e){this.id=e.getAttribute(\\\"id\\\"),this.name=e.getAttribute(\\\"name\\\");for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(1==i.nodeType)switch(i.nodeName){case\\\"optics\\\":this.parseOptics(i)}}return this},se.prototype.parseOptics=function(e){for(var t=0;t<e.childNodes.length;t++)if(\\\"technique_common\\\"===e.childNodes[t].nodeName)for(var i=e.childNodes[t],s=0;s<i.childNodes.length;s++)if(this.technique=i.childNodes[s].nodeName,\\\"perspective\\\"===this.technique)for(var r=i.childNodes[s],a=0;a<r.childNodes.length;a++){var n=r.childNodes[a];switch(n.nodeName){case\\\"yfov\\\":this.yfov=n.textContent;break;case\\\"xfov\\\":this.xfov=n.textContent;break;case\\\"znear\\\":this.znear=n.textContent;break;case\\\"zfar\\\":this.zfar=n.textContent;break;case\\\"aspect_ratio\\\":this.aspect_ratio=n.textContent}}else if(\\\"orthographic\\\"===this.technique)for(var o=i.childNodes[s],a=0;a<o.childNodes.length;a++){var n=o.childNodes[a];switch(n.nodeName){case\\\"xmag\\\":this.xmag=n.textContent;break;case\\\"ymag\\\":this.ymag=n.textContent;break;case\\\"znear\\\":this.znear=n.textContent;break;case\\\"zfar\\\":this.zfar=n.textContent;break;case\\\"aspect_ratio\\\":this.aspect_ratio=n.textContent}}return this},re.prototype.parse=function(e){return this.url=e.getAttribute(\\\"url\\\").replace(/^#/,\\\"\\\"),this},ae.prototype.parse=function(e){this.id=e.getAttribute(\\\"id\\\"),this.name=e.getAttribute(\\\"name\\\");for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(1==i.nodeType)switch(i.nodeName){case\\\"technique_common\\\":this.parseCommon(i);break;case\\\"technique\\\":this.parseTechnique(i)}}return this},ae.prototype.parseCommon=function(e){for(var t=0;t<e.childNodes.length;t++)switch(e.childNodes[t].nodeName){case\\\"directional\\\":case\\\"point\\\":case\\\"spot\\\":case\\\"ambient\\\":this.technique=e.childNodes[t].nodeName;for(var i=e.childNodes[t],s=0;s<i.childNodes.length;s++){var r=i.childNodes[s];switch(r.nodeName){case\\\"color\\\":var a=ue(r.textContent);this.color=new THREE.Color(0),this.color.setRGB(a[0],a[1],a[2]),this.color.a=a[3];break;case\\\"falloff_angle\\\":this.falloff_angle=parseFloat(r.textContent);break;case\\\"quadratic_attenuation\\\":var n=parseFloat(r.textContent);this.distance=n?Math.sqrt(1/n):0}}}return this},ae.prototype.parseTechnique=function(e){this.profile=e.getAttribute(\\\"profile\\\");for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];switch(i.nodeName){case\\\"intensity\\\":this.intensity=parseFloat(i.textContent)}}return this},ne.prototype.parse=function(e){return this.url=e.getAttribute(\\\"url\\\").replace(/^#/,\\\"\\\"),this},oe.prototype.parse=function(e){this.id=e.getAttribute(\\\"id\\\"),this.name=e.getAttribute(\\\"name\\\"),this.joints=[],this.links=[];for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(1==i.nodeType)switch(i.nodeName){case\\\"technique_common\\\":this.parseCommon(i)}}return this},oe.prototype.parseCommon=function(e){for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(1==i.nodeType)switch(e.childNodes[t].nodeName){case\\\"joint\\\":this.joints.push((new he).parse(i));break;case\\\"link\\\":this.links.push((new le).parse(i))}}return this},he.prototype.parse=function(e){this.sid=e.getAttribute(\\\"sid\\\"),this.name=e.getAttribute(\\\"name\\\"),this.axis=new THREE.Vector3,this.limits={min:0,max:0},this.type=\\\"\\\",this.static=!1,this.zeroPosition=0,this.middlePosition=0;var t=e.querySelector(\\\"axis\\\"),i=ue(t.textContent);this.axis=ke(i,0);var s=e.querySelector(\\\"limits min\\\")?parseFloat(e.querySelector(\\\"limits min\\\").textContent):-360,r=e.querySelector(\\\"limits max\\\")?parseFloat(e.querySelector(\\\"limits max\\\").textContent):360;this.limits={min:s,max:r};for(var a=[\\\"prismatic\\\",\\\"revolute\\\"],n=0;n<a.length;n++){var o=a[n],h=e.querySelector(o);h&&(this.type=o)}return this.limits.min>=this.limits.max&&(this.static=!0),this.middlePosition=(this.limits.min+this.limits.max)/2,this},le.prototype.parse=function(e){this.sid=e.getAttribute(\\\"sid\\\"),this.name=e.getAttribute(\\\"name\\\"),this.transforms=[],this.attachments=[];for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(1==i.nodeType)switch(i.nodeName){case\\\"attachment_full\\\":this.attachments.push((new ce).parse(i));break;case\\\"rotate\\\":case\\\"translate\\\":case\\\"matrix\\\":this.transforms.push((new M).parse(i))}}return this},ce.prototype.parse=function(e){this.joint=e.getAttribute(\\\"joint\\\").split(\\\"/\\\").pop(),this.links=[];for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(1==i.nodeType)switch(i.nodeName){case\\\"link\\\":this.links.push((new le).parse(i));break;case\\\"rotate\\\":case\\\"translate\\\":case\\\"matrix\\\":this.transforms.push((new M).parse(i))}}return this},{load:e,parse:t,setPreferredShading:i,applySkin:m,geometries:Fe,options:Je}};\\n},{}],16:[function(_dereq_,module,exports){\\nTHREE.MTLLoader=function(t){this.manager=void 0!==t?t:THREE.DefaultLoadingManager},Object.assign(THREE.MTLLoader.prototype,THREE.EventDispatcher.prototype,{load:function(t,a,e,r){var s=this,i=new THREE.XHRLoader(this.manager);i.setPath(this.path),i.load(t,function(t){a(s.parse(t))},e,r)},setPath:function(t){this.path=t},setTexturePath:function(t){this.texturePath=t},setBaseUrl:function(t){console.warn(\\\"THREE.MTLLoader: .setBaseUrl() is deprecated. Use .setTexturePath( path ) for texture path or .setPath( path ) for general base path instead.\\\"),this.setTexturePath(t)},setCrossOrigin:function(t){this.crossOrigin=t},setMaterialOptions:function(t){this.materialOptions=t},parse:function(t){for(var a=t.split(\\\"\\\\n\\\"),e={},r=/\\\\s+/,s={},i=0;i<a.length;i++){var o=a[i];if(o=o.trim(),0!==o.length&&\\\"#\\\"!==o.charAt(0)){var n=o.indexOf(\\\" \\\"),p=n>=0?o.substring(0,n):o;p=p.toLowerCase();var h=n>=0?o.substring(n+1):\\\"\\\";if(h=h.trim(),\\\"newmtl\\\"===p)e={name:h},s[h]=e;else if(e)if(\\\"ka\\\"===p||\\\"kd\\\"===p||\\\"ks\\\"===p){var l=h.split(r,3);e[p]=[parseFloat(l[0]),parseFloat(l[1]),parseFloat(l[2])]}else e[p]=h}}var c=new THREE.MTLLoader.MaterialCreator(this.texturePath||this.path,this.materialOptions);return c.setCrossOrigin(this.crossOrigin),c.setManager(this.manager),c.setMaterials(s),c}}),THREE.MTLLoader.MaterialCreator=function(t,a){this.baseUrl=t||\\\"\\\",this.options=a,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.side=this.options&&this.options.side?this.options.side:THREE.FrontSide,this.wrap=this.options&&this.options.wrap?this.options.wrap:THREE.RepeatWrapping},THREE.MTLLoader.MaterialCreator.prototype={constructor:THREE.MTLLoader.MaterialCreator,setCrossOrigin:function(t){this.crossOrigin=t},setManager:function(t){this.manager=t},setMaterials:function(t){this.materialsInfo=this.convert(t),this.materials={},this.materialsArray=[],this.nameLookup={}},convert:function(t){if(!this.options)return t;var a={};for(var e in t){var r=t[e],s={};a[e]=s;for(var i in r){var o=!0,n=r[i],p=i.toLowerCase();switch(p){case\\\"kd\\\":case\\\"ka\\\":case\\\"ks\\\":this.options&&this.options.normalizeRGB&&(n=[n[0]/255,n[1]/255,n[2]/255]),this.options&&this.options.ignoreZeroRGBs&&0===n[0]&&0===n[1]&&0===n[2]&&(o=!1)}o&&(s[p]=n)}}return a},preload:function(){for(var t in this.materialsInfo)this.create(t)},getIndex:function(t){return this.nameLookup[t]},getAsArray:function(){var t=0;for(var a in this.materialsInfo)this.materialsArray[t]=this.create(a),this.nameLookup[a]=t,t++;return this.materialsArray},create:function(t){return void 0===this.materials[t]&&this.createMaterial_(t),this.materials[t]},createMaterial_:function(t){function a(t,a){if(!s[t]){var r=e.getTextureParams(a,s),o=e.loadTexture(i(e.baseUrl,r.url));o.repeat.copy(r.scale),o.offset.copy(r.offset),o.wrapS=e.wrap,o.wrapT=e.wrap,s[t]=o}}var e=this,r=this.materialsInfo[t],s={name:t,side:this.side},i=function(t,a){return\\\"string\\\"!=typeof a||\\\"\\\"===a?\\\"\\\":/^https?:\\\\/\\\\//i.test(a)?a:t+a};for(var o in r){var n=r[o];if(\\\"\\\"!==n)switch(o.toLowerCase()){case\\\"kd\\\":s.color=(new THREE.Color).fromArray(n);break;case\\\"ks\\\":s.specular=(new THREE.Color).fromArray(n);break;case\\\"map_kd\\\":a(\\\"map\\\",n);break;case\\\"map_ks\\\":a(\\\"specularMap\\\",n);break;case\\\"map_bump\\\":case\\\"bump\\\":a(\\\"bumpMap\\\",n);break;case\\\"ns\\\":s.shininess=parseFloat(n);break;case\\\"d\\\":n<1&&(s.opacity=n,s.transparent=!0);break;case\\\"Tr\\\":n>0&&(s.opacity=1-n,s.transparent=!0)}}return this.materials[t]=new THREE.MeshPhongMaterial(s),this.materials[t]},getTextureParams:function(t,a){var e,r={scale:new THREE.Vector2(1,1),offset:new THREE.Vector2(0,0)},s=t.split(/\\\\s+/);return e=s.indexOf(\\\"-bm\\\"),e>=0&&(a.bumpScale=parseFloat(s[e+1]),s.splice(e,2)),e=s.indexOf(\\\"-s\\\"),e>=0&&(r.scale.set(parseFloat(s[e+1]),parseFloat(s[e+2])),s.splice(e,4)),e=s.indexOf(\\\"-o\\\"),e>=0&&(r.offset.set(parseFloat(s[e+1]),parseFloat(s[e+2])),s.splice(e,4)),r.url=s.join(\\\" \\\").trim(),r},loadTexture:function(t,a,e,r,s){var i,o=THREE.Loader.Handlers.get(t),n=void 0!==this.manager?this.manager:THREE.DefaultLoadingManager;return null===o&&(o=new THREE.TextureLoader(n)),o.setCrossOrigin&&o.setCrossOrigin(this.crossOrigin),i=o.load(t,e,r,s),void 0!==a&&(i.mapping=a),i}};\\n},{}],17:[function(_dereq_,module,exports){\\nTHREE.OBJLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager,this.materials=null,this.regexp={vertex_pattern:/^v\\\\s+([\\\\d|\\\\.|\\\\+|\\\\-|e|E]+)\\\\s+([\\\\d|\\\\.|\\\\+|\\\\-|e|E]+)\\\\s+([\\\\d|\\\\.|\\\\+|\\\\-|e|E]+)/,normal_pattern:/^vn\\\\s+([\\\\d|\\\\.|\\\\+|\\\\-|e|E]+)\\\\s+([\\\\d|\\\\.|\\\\+|\\\\-|e|E]+)\\\\s+([\\\\d|\\\\.|\\\\+|\\\\-|e|E]+)/,uv_pattern:/^vt\\\\s+([\\\\d|\\\\.|\\\\+|\\\\-|e|E]+)\\\\s+([\\\\d|\\\\.|\\\\+|\\\\-|e|E]+)/,face_vertex:/^f\\\\s+(-?\\\\d+)\\\\s+(-?\\\\d+)\\\\s+(-?\\\\d+)(?:\\\\s+(-?\\\\d+))?/,face_vertex_uv:/^f\\\\s+(-?\\\\d+)\\\\/(-?\\\\d+)\\\\s+(-?\\\\d+)\\\\/(-?\\\\d+)\\\\s+(-?\\\\d+)\\\\/(-?\\\\d+)(?:\\\\s+(-?\\\\d+)\\\\/(-?\\\\d+))?/,face_vertex_uv_normal:/^f\\\\s+(-?\\\\d+)\\\\/(-?\\\\d+)\\\\/(-?\\\\d+)\\\\s+(-?\\\\d+)\\\\/(-?\\\\d+)\\\\/(-?\\\\d+)\\\\s+(-?\\\\d+)\\\\/(-?\\\\d+)\\\\/(-?\\\\d+)(?:\\\\s+(-?\\\\d+)\\\\/(-?\\\\d+)\\\\/(-?\\\\d+))?/,face_vertex_normal:/^f\\\\s+(-?\\\\d+)\\\\/\\\\/(-?\\\\d+)\\\\s+(-?\\\\d+)\\\\/\\\\/(-?\\\\d+)\\\\s+(-?\\\\d+)\\\\/\\\\/(-?\\\\d+)(?:\\\\s+(-?\\\\d+)\\\\/\\\\/(-?\\\\d+))?/,object_pattern:/^[og]\\\\s*(.+)?/,smoothing_pattern:/^s\\\\s+(\\\\d+|on|off)/,material_library_pattern:/^mtllib /,material_use_pattern:/^usemtl /}},THREE.OBJLoader.prototype={constructor:THREE.OBJLoader,load:function(e,t,r,a){var s=this,i=new THREE.XHRLoader(s.manager);i.setPath(this.path),i.load(e,function(e){t(s.parse(e))},r,a)},setPath:function(e){this.path=e},setMaterials:function(e){this.materials=e},_createParserState:function(){var e={objects:[],object:{},vertices:[],normals:[],uvs:[],materialLibraries:[],startObject:function(e,t){if(this.object&&this.object.fromDeclaration===!1)return this.object.name=e,void(this.object.fromDeclaration=t!==!1);var r=this.object&&\\\"function\\\"==typeof this.object.currentMaterial?this.object.currentMaterial():void 0;if(this.object&&\\\"function\\\"==typeof this.object._finalize&&this.object._finalize(!0),this.object={name:e||\\\"\\\",fromDeclaration:t!==!1,geometry:{vertices:[],normals:[],uvs:[]},materials:[],smooth:!0,startMaterial:function(e,t){var r=this._finalize(!1);r&&(r.inherited||r.groupCount<=0)&&this.materials.splice(r.index,1);var a={index:this.materials.length,name:e||\\\"\\\",mtllib:Array.isArray(t)&&t.length>0?t[t.length-1]:\\\"\\\",smooth:void 0!==r?r.smooth:this.smooth,groupStart:void 0!==r?r.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(e){var t={index:\\\"number\\\"==typeof e?e:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return t.clone=this.clone.bind(t),t}};return this.materials.push(a),a},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(e){var t=this.currentMaterial();if(t&&t.groupEnd===-1&&(t.groupEnd=this.geometry.vertices.length/3,t.groupCount=t.groupEnd-t.groupStart,t.inherited=!1),e&&this.materials.length>1)for(var r=this.materials.length-1;r>=0;r--)this.materials[r].groupCount<=0&&this.materials.splice(r,1);return e&&0===this.materials.length&&this.materials.push({name:\\\"\\\",smooth:this.smooth}),t}},r&&r.name&&\\\"function\\\"==typeof r.clone){var a=r.clone(0);a.inherited=!0,this.object.materials.push(a)}this.objects.push(this.object)},finalize:function(){this.object&&\\\"function\\\"==typeof this.object._finalize&&this.object._finalize(!0)},parseVertexIndex:function(e,t){var r=parseInt(e,10);return 3*(r>=0?r-1:r+t/3)},parseNormalIndex:function(e,t){var r=parseInt(e,10);return 3*(r>=0?r-1:r+t/3)},parseUVIndex:function(e,t){var r=parseInt(e,10);return 2*(r>=0?r-1:r+t/2)},addVertex:function(e,t,r){var a=this.vertices,s=this.object.geometry.vertices;s.push(a[e+0]),s.push(a[e+1]),s.push(a[e+2]),s.push(a[t+0]),s.push(a[t+1]),s.push(a[t+2]),s.push(a[r+0]),s.push(a[r+1]),s.push(a[r+2])},addVertexLine:function(e){var t=this.vertices,r=this.object.geometry.vertices;r.push(t[e+0]),r.push(t[e+1]),r.push(t[e+2])},addNormal:function(e,t,r){var a=this.normals,s=this.object.geometry.normals;s.push(a[e+0]),s.push(a[e+1]),s.push(a[e+2]),s.push(a[t+0]),s.push(a[t+1]),s.push(a[t+2]),s.push(a[r+0]),s.push(a[r+1]),s.push(a[r+2])},addUV:function(e,t,r){var a=this.uvs,s=this.object.geometry.uvs;s.push(a[e+0]),s.push(a[e+1]),s.push(a[t+0]),s.push(a[t+1]),s.push(a[r+0]),s.push(a[r+1])},addUVLine:function(e){var t=this.uvs,r=this.object.geometry.uvs;r.push(t[e+0]),r.push(t[e+1])},addFace:function(e,t,r,a,s,i,n,o,h,l,d,u){var p,c=this.vertices.length,m=this.parseVertexIndex(e,c),f=this.parseVertexIndex(t,c),v=this.parseVertexIndex(r,c);if(void 0===a?this.addVertex(m,f,v):(p=this.parseVertexIndex(a,c),this.addVertex(m,f,p),this.addVertex(f,v,p)),void 0!==s){var g=this.uvs.length;m=this.parseUVIndex(s,g),f=this.parseUVIndex(i,g),v=this.parseUVIndex(n,g),void 0===a?this.addUV(m,f,v):(p=this.parseUVIndex(o,g),this.addUV(m,f,p),this.addUV(f,v,p))}if(void 0!==h){var x=this.normals.length;m=this.parseNormalIndex(h,x),f=h===l?m:this.parseNormalIndex(l,x),v=h===d?m:this.parseNormalIndex(d,x),void 0===a?this.addNormal(m,f,v):(p=this.parseNormalIndex(u,x),this.addNormal(m,f,p),this.addNormal(f,v,p))}},addLineGeometry:function(e,t){this.object.geometry.type=\\\"Line\\\";for(var r=this.vertices.length,a=this.uvs.length,s=0,i=e.length;s<i;s++)this.addVertexLine(this.parseVertexIndex(e[s],r));for(var n=0,i=t.length;n<i;n++)this.addUVLine(this.parseUVIndex(t[n],a))}};return e.startObject(\\\"\\\",!1),e},parse:function(e){console.time(\\\"OBJLoader\\\");var t=this._createParserState();e.indexOf(\\\"\\\\r\\\\n\\\")!==-1&&(e=e.replace(/\\\\r\\\\n/g,\\\"\\\\n\\\")),e.indexOf(\\\"\\\\\\\\\\\\n\\\")!==-1&&(e=e.replace(/\\\\\\\\\\\\n/g,\\\"\\\"));for(var r=e.split(\\\"\\\\n\\\"),a=\\\"\\\",s=\\\"\\\",i=\\\"\\\",n=0,o=[],h=\\\"function\\\"==typeof\\\"\\\".trimLeft,l=0,d=r.length;l<d;l++)if(a=r[l],a=h?a.trimLeft():a.trim(),n=a.length,0!==n&&(s=a.charAt(0),\\\"#\\\"!==s))if(\\\"v\\\"===s)if(i=a.charAt(1),\\\" \\\"===i&&null!==(o=this.regexp.vertex_pattern.exec(a)))t.vertices.push(parseFloat(o[1]),parseFloat(o[2]),parseFloat(o[3]));else if(\\\"n\\\"===i&&null!==(o=this.regexp.normal_pattern.exec(a)))t.normals.push(parseFloat(o[1]),parseFloat(o[2]),parseFloat(o[3]));else{if(\\\"t\\\"!==i||null===(o=this.regexp.uv_pattern.exec(a)))throw new Error(\\\"Unexpected vertex/normal/uv line: '\\\"+a+\\\"'\\\");t.uvs.push(parseFloat(o[1]),parseFloat(o[2]))}else if(\\\"f\\\"===s)if(null!==(o=this.regexp.face_vertex_uv_normal.exec(a)))t.addFace(o[1],o[4],o[7],o[10],o[2],o[5],o[8],o[11],o[3],o[6],o[9],o[12]);else if(null!==(o=this.regexp.face_vertex_uv.exec(a)))t.addFace(o[1],o[3],o[5],o[7],o[2],o[4],o[6],o[8]);else if(null!==(o=this.regexp.face_vertex_normal.exec(a)))t.addFace(o[1],o[3],o[5],o[7],void 0,void 0,void 0,void 0,o[2],o[4],o[6],o[8]);else{if(null===(o=this.regexp.face_vertex.exec(a)))throw new Error(\\\"Unexpected face line: '\\\"+a+\\\"'\\\");t.addFace(o[1],o[2],o[3],o[4])}else if(\\\"l\\\"===s){var u=a.substring(1).trim().split(\\\" \\\"),p=[],c=[];if(a.indexOf(\\\"/\\\")===-1)p=u;else for(var m=0,f=u.length;m<f;m++){var v=u[m].split(\\\"/\\\");\\\"\\\"!==v[0]&&p.push(v[0]),\\\"\\\"!==v[1]&&c.push(v[1])}t.addLineGeometry(p,c)}else if(null!==(o=this.regexp.object_pattern.exec(a))){var g=(\\\" \\\"+o[0].substr(1).trim()).substr(1);t.startObject(g)}else if(this.regexp.material_use_pattern.test(a))t.object.startMaterial(a.substring(7).trim(),t.materialLibraries);else if(this.regexp.material_library_pattern.test(a))t.materialLibraries.push(a.substring(7).trim());else{if(null===(o=this.regexp.smoothing_pattern.exec(a))){if(\\\"\\\\0\\\"===a)continue;throw new Error(\\\"Unexpected line: '\\\"+a+\\\"'\\\")}var x=o[1].trim().toLowerCase();t.object.smooth=\\\"1\\\"===x||\\\"on\\\"===x;var b=t.object.currentMaterial();b&&(b.smooth=t.object.smooth)}t.finalize();var E=new THREE.Group;E.materialLibraries=[].concat(t.materialLibraries);for(var l=0,d=t.objects.length;l<d;l++){var _=t.objects[l],j=_.geometry,y=_.materials,L=\\\"Line\\\"===j.type;if(0!==j.vertices.length){var V=new THREE.BufferGeometry;V.addAttribute(\\\"position\\\",new THREE.BufferAttribute(new Float32Array(j.vertices),3)),j.normals.length>0?V.addAttribute(\\\"normal\\\",new THREE.BufferAttribute(new Float32Array(j.normals),3)):V.computeVertexNormals(),j.uvs.length>0&&V.addAttribute(\\\"uv\\\",new THREE.BufferAttribute(new Float32Array(j.uvs),2));for(var w=[],H=0,R=y.length;H<R;H++){var T=y[H],b=void 0;if(null!==this.materials&&(b=this.materials.create(T.name),L&&b&&!(b instanceof THREE.LineBasicMaterial))){var I=new THREE.LineBasicMaterial;I.copy(b),b=I}b||(b=L?new THREE.LineBasicMaterial:new THREE.MeshPhongMaterial,b.name=T.name),b.shading=T.smooth?THREE.SmoothShading:THREE.FlatShading,w.push(b)}var M;if(w.length>1){for(var H=0,R=y.length;H<R;H++){var T=y[H];V.addGroup(T.groupStart,T.groupCount,H)}var F=new THREE.MultiMaterial(w);M=L?new THREE.LineSegments(V,F):new THREE.Mesh(V,F)}else M=L?new THREE.LineSegments(V,w[0]):new THREE.Mesh(V,w[0]);M.name=_.name,E.add(M)}}return console.timeEnd(\\\"OBJLoader\\\"),E}};\\n},{}],18:[function(_dereq_,module,exports){\\n!function(n){if(\\\"performance\\\"in n==!1&&(n.performance={}),Date.now=Date.now||function(){return(new Date).getTime()},\\\"now\\\"in n.performance==!1){var t=n.performance.timing&&n.performance.timing.navigationStart?performance.timing.navigationStart:Date.now();n.performance.now=function(){return Date.now()-t}}}(this);var TWEEN=TWEEN||function(){var n=[];return{REVISION:\\\"14\\\",getAll:function(){return n},removeAll:function(){n=[]},add:function(t){n.push(t)},remove:function(t){var r=n.indexOf(t);r!==-1&&n.splice(r,1)},update:function(t){if(0===n.length)return!1;var r=0;for(t=void 0!==t?t:window.performance.now();r<n.length;)n[r].update(t)?r++:n.splice(r,1);return!0}}}();TWEEN.Tween=function(n){var t=n,r={},i={},u={},e=1e3,o=0,a=!1,f=!1,c=!1,s=0,h=null,l=TWEEN.Easing.Linear.None,p=TWEEN.Interpolation.Linear,E=[],I=null,v=!1,M=null,m=null,w=null;for(var d in n)r[d]=parseFloat(n[d],10);this.to=function(n,t){return void 0!==t&&(e=t),i=n,this},this.start=function(n){TWEEN.add(this),f=!0,v=!1,h=void 0!==n?n:window.performance.now(),h+=s;for(var e in i){if(i[e]instanceof Array){if(0===i[e].length)continue;i[e]=[t[e]].concat(i[e])}r[e]=t[e],r[e]instanceof Array==!1&&(r[e]*=1),u[e]=r[e]||0}return this},this.stop=function(){return f?(TWEEN.remove(this),f=!1,null!==w&&w.call(t),this.stopChainedTweens(),this):this},this.stopChainedTweens=function(){for(var n=0,t=E.length;n<t;n++)E[n].stop()},this.delay=function(n){return s=n,this},this.repeat=function(n){return o=n,this},this.yoyo=function(n){return a=n,this},this.easing=function(n){return l=n,this},this.interpolation=function(n){return p=n,this},this.chain=function(){return E=arguments,this},this.onStart=function(n){return I=n,this},this.onUpdate=function(n){return M=n,this},this.onComplete=function(n){return m=n,this},this.onStop=function(n){return w=n,this},this.update=function(n){var f;if(n<h)return!0;v===!1&&(null!==I&&I.call(t),v=!0);var w=(n-h)/e;w=w>1?1:w;var d=l(w);for(f in i){var O=r[f]||0,T=i[f];T instanceof Array?t[f]=p(T,d):(\\\"string\\\"==typeof T&&(T=O+parseFloat(T,10)),\\\"number\\\"==typeof T&&(t[f]=O+(T-O)*d))}if(null!==M&&M.call(t,d),1==w){if(o>0){isFinite(o)&&o--;for(f in u){if(\\\"string\\\"==typeof i[f]&&(u[f]=u[f]+parseFloat(i[f],10)),a){var g=u[f];u[f]=i[f],i[f]=g}r[f]=u[f]}return a&&(c=!c),h=n+s,!0}null!==m&&m.call(t);for(var N=0,W=E.length;N<W;N++)E[N].start(n);return!1}return!0}},TWEEN.Easing={Linear:{None:function(n){return n}},Quadratic:{In:function(n){return n*n},Out:function(n){return n*(2-n)},InOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)}},Cubic:{In:function(n){return n*n*n},Out:function(n){return--n*n*n+1},InOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)}},Quartic:{In:function(n){return n*n*n*n},Out:function(n){return 1- --n*n*n*n},InOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)}},Quintic:{In:function(n){return n*n*n*n*n},Out:function(n){return--n*n*n*n*n+1},InOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)}},Sinusoidal:{In:function(n){return 1-Math.cos(n*Math.PI/2)},Out:function(n){return Math.sin(n*Math.PI/2)},InOut:function(n){return.5*(1-Math.cos(Math.PI*n))}},Exponential:{In:function(n){return 0===n?0:Math.pow(1024,n-1)},Out:function(n){return 1===n?1:1-Math.pow(2,-10*n)},InOut:function(n){return 0===n?0:1===n?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(-Math.pow(2,-10*(n-1))+2)}},Circular:{In:function(n){return 1-Math.sqrt(1-n*n)},Out:function(n){return Math.sqrt(1- --n*n)},InOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)}},Elastic:{In:function(n){var t,r=.1,i=.4;return 0===n?0:1===n?1:(!r||r<1?(r=1,t=i/4):t=i*Math.asin(1/r)/(2*Math.PI),-(r*Math.pow(2,10*(n-=1))*Math.sin((n-t)*(2*Math.PI)/i)))},Out:function(n){var t,r=.1,i=.4;return 0===n?0:1===n?1:(!r||r<1?(r=1,t=i/4):t=i*Math.asin(1/r)/(2*Math.PI),r*Math.pow(2,-10*n)*Math.sin((n-t)*(2*Math.PI)/i)+1)},InOut:function(n){var t,r=.1,i=.4;return 0===n?0:1===n?1:(!r||r<1?(r=1,t=i/4):t=i*Math.asin(1/r)/(2*Math.PI),(n*=2)<1?-.5*(r*Math.pow(2,10*(n-=1))*Math.sin((n-t)*(2*Math.PI)/i)):r*Math.pow(2,-10*(n-=1))*Math.sin((n-t)*(2*Math.PI)/i)*.5+1)}},Back:{In:function(n){var t=1.70158;return n*n*((t+1)*n-t)},Out:function(n){var t=1.70158;return--n*n*((t+1)*n+t)+1},InOut:function(n){var t=2.5949095;return(n*=2)<1?.5*(n*n*((t+1)*n-t)):.5*((n-=2)*n*((t+1)*n+t)+2)}},Bounce:{In:function(n){return 1-TWEEN.Easing.Bounce.Out(1-n)},Out:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},InOut:function(n){return n<.5?.5*TWEEN.Easing.Bounce.In(2*n):.5*TWEEN.Easing.Bounce.Out(2*n-1)+.5}}},TWEEN.Interpolation={Linear:function(n,t){var r=n.length-1,i=r*t,u=Math.floor(i),e=TWEEN.Interpolation.Utils.Linear;return t<0?e(n[0],n[1],i):t>1?e(n[r],n[r-1],r-i):e(n[u],n[u+1>r?r:u+1],i-u)},Bezier:function(n,t){var r,i=0,u=n.length-1,e=Math.pow,o=TWEEN.Interpolation.Utils.Bernstein;for(r=0;r<=u;r++)i+=e(1-t,u-r)*e(t,r)*n[r]*o(u,r);return i},CatmullRom:function(n,t){var r=n.length-1,i=r*t,u=Math.floor(i),e=TWEEN.Interpolation.Utils.CatmullRom;return n[0]===n[r]?(t<0&&(u=Math.floor(i=r*(1+t))),e(n[(u-1+r)%r],n[u],n[(u+1)%r],n[(u+2)%r],i-u)):t<0?n[0]-(e(n[0],n[0],n[1],n[1],-i)-n[0]):t>1?n[r]-(e(n[r],n[r],n[r-1],n[r-1],i-r)-n[r]):e(n[u?u-1:0],n[u],n[r<u+1?r:u+1],n[r<u+2?r:u+2],i-u)},Utils:{Linear:function(n,t,r){return(t-n)*r+n},Bernstein:function(n,t){var r=TWEEN.Interpolation.Utils.Factorial;return r(n)/r(t)/r(n-t)},Factorial:function(){var n=[1];return function(t){var r,i=1;if(n[t])return n[t];for(r=t;r>1;r--)i*=r;return n[t]=i}}(),CatmullRom:function(n,t,r,i,u){var e=.5*(r-n),o=.5*(i-t),a=u*u,f=u*a;return(2*t-2*r+e+o)*f+(-3*t+3*r-2*e-o)*a+e*u+t}}},function(n){\\\"function\\\"==typeof define&&define.amd?define([],function(){return TWEEN}):\\\"object\\\"==typeof exports?module.exports=TWEEN:n.TWEEN=TWEEN}(this);\\n},{}],19:[function(_dereq_,module,exports){\\n!function e(M,i,t){function A(r,N){if(!i[r]){if(!M[r]){var D=\\\"function\\\"==typeof _dereq_&&_dereq_;if(!N&&D)return D(r,!0);if(s)return s(r,!0);var n=new Error(\\\"Cannot find module '\\\"+r+\\\"'\\\");throw n.code=\\\"MODULE_NOT_FOUND\\\",n}var u=i[r]={exports:{}};M[r][0].call(u.exports,function(e){var i=M[r][1][e];return A(i?i:e)},u,u.exports,e,M,i,t)}return i[r].exports}for(var s=\\\"function\\\"==typeof _dereq_&&_dereq_,r=0;r<t.length;r++)A(t[r]);return A}({1:[function(e,M,i){\\\"use strict\\\";function t(e){if(null===e||void 0===e)throw new TypeError(\\\"Object.assign cannot be called with null or undefined\\\");return Object(e)}function A(){try{if(!Object.assign)return!1;var e=new String(\\\"abc\\\");if(e[5]=\\\"de\\\",\\\"5\\\"===Object.getOwnPropertyNames(e)[0])return!1;for(var M={},i=0;i<10;i++)M[\\\"_\\\"+String.fromCharCode(i)]=i;var t=Object.getOwnPropertyNames(M).map(function(e){return M[e]});if(\\\"0123456789\\\"!==t.join(\\\"\\\"))return!1;var A={};return\\\"abcdefghijklmnopqrst\\\".split(\\\"\\\").forEach(function(e){A[e]=e}),\\\"abcdefghijklmnopqrst\\\"===Object.keys(Object.assign({},A)).join(\\\"\\\")}catch(e){return!1}}var s=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;M.exports=A()?Object.assign:function(e,M){for(var i,A,N=t(e),D=1;D<arguments.length;D++){i=Object(arguments[D]);for(var n in i)s.call(i,n)&&(N[n]=i[n]);if(Object.getOwnPropertySymbols){A=Object.getOwnPropertySymbols(i);for(var u=0;u<A.length;u++)r.call(i,A[u])&&(N[A[u]]=i[A[u]])}}return N}},{}],2:[function(e,M,i){function t(){this.leftProjectionMatrix=new Float32Array(16),this.leftViewMatrix=new Float32Array(16),this.rightProjectionMatrix=new Float32Array(16),this.rightViewMatrix=new Float32Array(16),this.pose=null}function A(){this.isPolyfilled=!0,this.displayId=u++,this.displayName=\\\"webvr-polyfill displayName\\\",this.depthNear=.01,this.depthFar=1e4,this.isConnected=!0,this.isPresenting=!1,this.capabilities={hasPosition:!1,hasOrientation:!1,hasExternalDisplay:!1,canPresent:!1,maxLayers:1},this.stageParameters=null,this.waitingForPresent_=!1,this.layer_=null,this.fullscreenElement_=null,this.fullscreenWrapper_=null,this.fullscreenElementCachedStyle_=null,this.fullscreenEventTarget_=null,this.fullscreenChangeHandler_=null,this.fullscreenErrorHandler_=null,this.wakelock_=new n}function s(){this.isPolyfilled=!0,this.hardwareUnitId=\\\"webvr-polyfill hardwareUnitId\\\",this.deviceId=\\\"webvr-polyfill deviceId\\\",this.deviceName=\\\"webvr-polyfill deviceName\\\"}function r(){}function N(){}var D=e(\\\"./util.js\\\"),n=e(\\\"./wakelock.js\\\"),u=1e3,a=!1,o=[0,0,.5,1],g=[.5,0,.5,1];A.prototype.getFrameData=function(e){return D.frameDataFromPose(e,this.getPose(),this)},A.prototype.getPose=function(){return this.getImmediatePose()},A.prototype.requestAnimationFrame=function(e){return window.requestAnimationFrame(e)},A.prototype.cancelAnimationFrame=function(e){return window.cancelAnimationFrame(e)},A.prototype.wrapForFullscreen=function(e){function M(){if(A.fullscreenElement_){var e=[\\\"position: absolute\\\",\\\"top: 0\\\",\\\"left: 0\\\",\\\"width: \\\"+Math.max(screen.width,screen.height)+\\\"px\\\",\\\"height: \\\"+Math.min(screen.height,screen.width)+\\\"px\\\",\\\"border: 0\\\",\\\"margin: 0\\\",\\\"padding: 0\\\"];A.fullscreenElement_.setAttribute(\\\"style\\\",e.join(\\\"; \\\")+\\\";\\\")}}if(D.isIOS())return e;if(!this.fullscreenWrapper_){this.fullscreenWrapper_=document.createElement(\\\"div\\\");var i=[\\\"height: \\\"+Math.min(screen.height,screen.width)+\\\"px !important\\\",\\\"top: 0 !important\\\",\\\"left: 0 !important\\\",\\\"right: 0 !important\\\",\\\"border: 0\\\",\\\"margin: 0\\\",\\\"padding: 0\\\",\\\"z-index: 999999 !important\\\",\\\"position: fixed\\\"];this.fullscreenWrapper_.setAttribute(\\\"style\\\",i.join(\\\"; \\\")+\\\";\\\"),this.fullscreenWrapper_.classList.add(\\\"webvr-polyfill-fullscreen-wrapper\\\")}if(this.fullscreenElement_==e)return this.fullscreenWrapper_;this.removeFullscreenWrapper(),this.fullscreenElement_=e;var t=this.fullscreenElement_.parentElement;t.insertBefore(this.fullscreenWrapper_,this.fullscreenElement_),t.removeChild(this.fullscreenElement_),this.fullscreenWrapper_.insertBefore(this.fullscreenElement_,this.fullscreenWrapper_.firstChild),this.fullscreenElementCachedStyle_=this.fullscreenElement_.getAttribute(\\\"style\\\");var A=this;return M(),this.fullscreenWrapper_},A.prototype.removeFullscreenWrapper=function(){if(this.fullscreenElement_){var e=this.fullscreenElement_;this.fullscreenElementCachedStyle_?e.setAttribute(\\\"style\\\",this.fullscreenElementCachedStyle_):e.removeAttribute(\\\"style\\\"),this.fullscreenElement_=null,this.fullscreenElementCachedStyle_=null;var M=this.fullscreenWrapper_.parentElement;return this.fullscreenWrapper_.removeChild(e),M.insertBefore(e,this.fullscreenWrapper_),M.removeChild(this.fullscreenWrapper_),e}},A.prototype.requestPresent=function(e){var M=this.isPresenting,i=this;return e instanceof Array||(a||(console.warn(\\\"Using a deprecated form of requestPresent. Should pass in an array of VRLayers.\\\"),a=!0),e=[e]),new Promise(function(t,A){function s(){var e=D.getFullscreenElement();i.isPresenting=I===e,i.isPresenting?(screen.orientation&&screen.orientation.lock&&screen.orientation.lock(\\\"landscape-primary\\\").catch(function(e){console.error(\\\"screen.orientation.lock() failed due to\\\",e.message)}),i.waitingForPresent_=!1,i.beginPresent_(),t()):(screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock(),i.removeFullscreenWrapper(),i.wakelock_.release(),i.endPresent_(),i.removeFullscreenListeners_()),i.fireVRDisplayPresentChange_()}function r(){i.waitingForPresent_&&(i.removeFullscreenWrapper(),i.removeFullscreenListeners_(),i.wakelock_.release(),i.waitingForPresent_=!1,i.isPresenting=!1,A(new Error(\\\"Unable to present.\\\")))}if(!i.capabilities.canPresent)return void A(new Error(\\\"VRDisplay is not capable of presenting.\\\"));if(0==e.length||e.length>i.capabilities.maxLayers)return void A(new Error(\\\"Invalid number of layers.\\\"));var N=e[0];if(!N.source)return void t();var n=N.leftBounds||o,u=N.rightBounds||g;if(M){var a=i.layer_;a.source!==N.source&&(a.source=N.source);for(var j=0;j<4;j++)a.leftBounds[j]!==n[j]&&(a.leftBounds[j]=n[j]),a.rightBounds[j]!==u[j]&&(a.rightBounds[j]=u[j]);return void t()}if(i.layer_={predistorted:N.predistorted,source:N.source,leftBounds:n.slice(0),rightBounds:u.slice(0)},i.waitingForPresent_=!1,i.layer_&&i.layer_.source){var I=i.wrapForFullscreen(i.layer_.source);i.addFullscreenListeners_(I,s,r),D.requestFullscreen(I)?(i.wakelock_.request(),i.waitingForPresent_=!0):D.isIOS()&&(i.wakelock_.request(),i.isPresenting=!0,i.beginPresent_(),i.fireVRDisplayPresentChange_(),t())}i.waitingForPresent_||D.isIOS()||(D.exitFullscreen(),A(new Error(\\\"Unable to present.\\\")))})},A.prototype.exitPresent=function(){var e=this.isPresenting,M=this;return this.isPresenting=!1,this.layer_=null,this.wakelock_.release(),new Promise(function(i,t){e?(!D.exitFullscreen()&&D.isIOS()&&(M.endPresent_(),M.fireVRDisplayPresentChange_()),i()):t(new Error(\\\"Was not presenting to VRDisplay.\\\"))})},A.prototype.getLayers=function(){return this.layer_?[this.layer_]:[]},A.prototype.fireVRDisplayPresentChange_=function(){var e=new CustomEvent(\\\"vrdisplaypresentchange\\\",{detail:{display:this}});window.dispatchEvent(e)},A.prototype.addFullscreenListeners_=function(e,M,i){this.removeFullscreenListeners_(),this.fullscreenEventTarget_=e,this.fullscreenChangeHandler_=M,this.fullscreenErrorHandler_=i,M&&(document.fullscreenEnabled?e.addEventListener(\\\"fullscreenchange\\\",M,!1):document.webkitFullscreenEnabled?e.addEventListener(\\\"webkitfullscreenchange\\\",M,!1):document.mozFullScreenEnabled?document.addEventListener(\\\"mozfullscreenchange\\\",M,!1):document.msFullscreenEnabled&&e.addEventListener(\\\"msfullscreenchange\\\",M,!1)),i&&(document.fullscreenEnabled?e.addEventListener(\\\"fullscreenerror\\\",i,!1):document.webkitFullscreenEnabled?e.addEventListener(\\\"webkitfullscreenerror\\\",i,!1):document.mozFullScreenEnabled?document.addEventListener(\\\"mozfullscreenerror\\\",i,!1):document.msFullscreenEnabled&&e.addEventListener(\\\"msfullscreenerror\\\",i,!1))},A.prototype.removeFullscreenListeners_=function(){if(this.fullscreenEventTarget_){var e=this.fullscreenEventTarget_;if(this.fullscreenChangeHandler_){var M=this.fullscreenChangeHandler_;e.removeEventListener(\\\"fullscreenchange\\\",M,!1),e.removeEventListener(\\\"webkitfullscreenchange\\\",M,!1),document.removeEventListener(\\\"mozfullscreenchange\\\",M,!1),e.removeEventListener(\\\"msfullscreenchange\\\",M,!1)}if(this.fullscreenErrorHandler_){var i=this.fullscreenErrorHandler_;e.removeEventListener(\\\"fullscreenerror\\\",i,!1),e.removeEventListener(\\\"webkitfullscreenerror\\\",i,!1),document.removeEventListener(\\\"mozfullscreenerror\\\",i,!1),e.removeEventListener(\\\"msfullscreenerror\\\",i,!1)}this.fullscreenEventTarget_=null,this.fullscreenChangeHandler_=null,this.fullscreenErrorHandler_=null}},A.prototype.beginPresent_=function(){},A.prototype.endPresent_=function(){},A.prototype.submitFrame=function(e){},A.prototype.getEyeParameters=function(e){return null},r.prototype=new s,N.prototype=new s,M.exports.VRFrameData=t,M.exports.VRDisplay=A,M.exports.VRDevice=s,M.exports.HMDVRDevice=r,M.exports.PositionSensorVRDevice=N},{\\\"./util.js\\\":22,\\\"./wakelock.js\\\":24}],3:[function(e,M,i){function t(e){this.gl=e,this.ctxAttribs=e.getContextAttributes(),this.meshWidth=20,this.meshHeight=20,this.bufferScale=WebVRConfig.BUFFER_SCALE,this.bufferWidth=e.drawingBufferWidth,this.bufferHeight=e.drawingBufferHeight,this.realBindFramebuffer=e.bindFramebuffer,this.realEnable=e.enable,this.realDisable=e.disable,this.realColorMask=e.colorMask,this.realClearColor=e.clearColor,this.realViewport=e.viewport,s.isIOS()||(this.realCanvasWidth=Object.getOwnPropertyDescriptor(e.canvas.__proto__,\\\"width\\\"),this.realCanvasHeight=Object.getOwnPropertyDescriptor(e.canvas.__proto__,\\\"height\\\")),this.isPatched=!1,this.lastBoundFramebuffer=null,this.cullFace=!1,this.depthTest=!1,this.blend=!1,this.scissorTest=!1,this.stencilTest=!1,this.viewport=[0,0,0,0],this.colorMask=[!0,!0,!0,!0],this.clearColor=[0,0,0,0],this.attribs={position:0,texCoord:1},this.program=s.linkProgram(e,N,D,this.attribs),this.uniforms=s.getProgramUniforms(e,this.program),this.viewportOffsetScale=new Float32Array(8),this.setTextureBounds(),this.vertexBuffer=e.createBuffer(),this.indexBuffer=e.createBuffer(),this.indexCount=0,this.renderTarget=e.createTexture(),this.framebuffer=e.createFramebuffer(),this.depthStencilBuffer=null,this.depthBuffer=null,this.stencilBuffer=null,this.ctxAttribs.depth&&this.ctxAttribs.stencil?this.depthStencilBuffer=e.createRenderbuffer():this.ctxAttribs.depth?this.depthBuffer=e.createRenderbuffer():this.ctxAttribs.stencil&&(this.stencilBuffer=e.createRenderbuffer()),this.patch(),this.onResize(),WebVRConfig.CARDBOARD_UI_DISABLED||(this.cardboardUI=new A(e))}var A=e(\\\"./cardboard-ui.js\\\"),s=e(\\\"./util.js\\\"),r=e(\\\"./deps/wglu-preserve-state.js\\\"),N=[\\\"attribute vec2 position;\\\",\\\"attribute vec3 texCoord;\\\",\\\"varying vec2 vTexCoord;\\\",\\\"uniform vec4 viewportOffsetScale[2];\\\",\\\"void main() {\\\",\\\"  vec4 viewport = viewportOffsetScale[int(texCoord.z)];\\\",\\\"  vTexCoord = (texCoord.xy * viewport.zw) + viewport.xy;\\\",\\\"  gl_Position = vec4( position, 1.0, 1.0 );\\\",\\\"}\\\"].join(\\\"\\\\n\\\"),D=[\\\"precision mediump float;\\\",\\\"uniform sampler2D diffuse;\\\",\\\"varying vec2 vTexCoord;\\\",\\\"void main() {\\\",\\\"  gl_FragColor = texture2D(diffuse, vTexCoord);\\\",\\\"}\\\"].join(\\\"\\\\n\\\");t.prototype.destroy=function(){var e=this.gl;this.unpatch(),e.deleteProgram(this.program),e.deleteBuffer(this.vertexBuffer),e.deleteBuffer(this.indexBuffer),e.deleteTexture(this.renderTarget),e.deleteFramebuffer(this.framebuffer),this.depthStencilBuffer&&e.deleteRenderbuffer(this.depthStencilBuffer),this.depthBuffer&&e.deleteRenderbuffer(this.depthBuffer),this.stencilBuffer&&e.deleteRenderbuffer(this.stencilBuffer),this.cardboardUI&&this.cardboardUI.destroy()},t.prototype.onResize=function(){var e=this.gl,M=this,i=[e.RENDERBUFFER_BINDING,e.TEXTURE_BINDING_2D,e.TEXTURE0];r(e,i,function(e){M.realBindFramebuffer.call(e,e.FRAMEBUFFER,null),M.scissorTest&&M.realDisable.call(e,e.SCISSOR_TEST),M.realColorMask.call(e,!0,!0,!0,!0),M.realViewport.call(e,0,0,e.drawingBufferWidth,e.drawingBufferHeight),M.realClearColor.call(e,0,0,0,1),e.clear(e.COLOR_BUFFER_BIT),M.realBindFramebuffer.call(e,e.FRAMEBUFFER,M.framebuffer),e.bindTexture(e.TEXTURE_2D,M.renderTarget),e.texImage2D(e.TEXTURE_2D,0,M.ctxAttribs.alpha?e.RGBA:e.RGB,M.bufferWidth,M.bufferHeight,0,M.ctxAttribs.alpha?e.RGBA:e.RGB,e.UNSIGNED_BYTE,null),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,M.renderTarget,0),M.ctxAttribs.depth&&M.ctxAttribs.stencil?(e.bindRenderbuffer(e.RENDERBUFFER,M.depthStencilBuffer),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,M.bufferWidth,M.bufferHeight),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,M.depthStencilBuffer)):M.ctxAttribs.depth?(e.bindRenderbuffer(e.RENDERBUFFER,M.depthBuffer),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,M.bufferWidth,M.bufferHeight),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,M.depthBuffer)):M.ctxAttribs.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,M.stencilBuffer),e.renderbufferStorage(e.RENDERBUFFER,e.STENCIL_INDEX8,M.bufferWidth,M.bufferHeight),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.STENCIL_ATTACHMENT,e.RENDERBUFFER,M.stencilBuffer)),!e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE&&console.error(\\\"Framebuffer incomplete!\\\"),M.realBindFramebuffer.call(e,e.FRAMEBUFFER,M.lastBoundFramebuffer),M.scissorTest&&M.realEnable.call(e,e.SCISSOR_TEST),M.realColorMask.apply(e,M.colorMask),M.realViewport.apply(e,M.viewport),M.realClearColor.apply(e,M.clearColor)}),this.cardboardUI&&this.cardboardUI.onResize()},t.prototype.patch=function(){if(!this.isPatched){var e=this,M=this.gl.canvas,i=this.gl;s.isIOS()||(M.width=s.getScreenWidth()*this.bufferScale,M.height=s.getScreenHeight()*this.bufferScale,Object.defineProperty(M,\\\"width\\\",{configurable:!0,enumerable:!0,get:function(){return e.bufferWidth},set:function(i){e.bufferWidth=i,e.realCanvasWidth.set.call(M,i),e.onResize()}}),Object.defineProperty(M,\\\"height\\\",{configurable:!0,enumerable:!0,get:function(){return e.bufferHeight},set:function(i){e.bufferHeight=i,e.realCanvasHeight.set.call(M,i),e.onResize()}})),this.lastBoundFramebuffer=i.getParameter(i.FRAMEBUFFER_BINDING),null==this.lastBoundFramebuffer&&(this.lastBoundFramebuffer=this.framebuffer,this.gl.bindFramebuffer(i.FRAMEBUFFER,this.framebuffer)),this.gl.bindFramebuffer=function(M,t){e.lastBoundFramebuffer=t?t:e.framebuffer,e.realBindFramebuffer.call(i,M,e.lastBoundFramebuffer)},this.cullFace=i.getParameter(i.CULL_FACE),this.depthTest=i.getParameter(i.DEPTH_TEST),this.blend=i.getParameter(i.BLEND),this.scissorTest=i.getParameter(i.SCISSOR_TEST),this.stencilTest=i.getParameter(i.STENCIL_TEST),i.enable=function(M){switch(M){case i.CULL_FACE:e.cullFace=!0;break;case i.DEPTH_TEST:e.depthTest=!0;break;case i.BLEND:e.blend=!0;break;case i.SCISSOR_TEST:e.scissorTest=!0;break;case i.STENCIL_TEST:e.stencilTest=!0}e.realEnable.call(i,M)},i.disable=function(M){switch(M){case i.CULL_FACE:e.cullFace=!1;break;case i.DEPTH_TEST:e.depthTest=!1;break;case i.BLEND:e.blend=!1;break;case i.SCISSOR_TEST:e.scissorTest=!1;break;case i.STENCIL_TEST:e.stencilTest=!1}e.realDisable.call(i,M)},this.colorMask=i.getParameter(i.COLOR_WRITEMASK),i.colorMask=function(M,t,A,s){e.colorMask[0]=M,e.colorMask[1]=t,e.colorMask[2]=A,e.colorMask[3]=s,e.realColorMask.call(i,M,t,A,s)},this.clearColor=i.getParameter(i.COLOR_CLEAR_VALUE),i.clearColor=function(M,t,A,s){e.clearColor[0]=M,e.clearColor[1]=t,e.clearColor[2]=A,e.clearColor[3]=s,e.realClearColor.call(i,M,t,A,s)},this.viewport=i.getParameter(i.VIEWPORT),i.viewport=function(M,t,A,s){e.viewport[0]=M,e.viewport[1]=t,e.viewport[2]=A,e.viewport[3]=s,e.realViewport.call(i,M,t,A,s)},this.isPatched=!0,s.safariCssSizeWorkaround(M)}},t.prototype.unpatch=function(){if(this.isPatched){var e=this.gl,M=this.gl.canvas;s.isIOS()||(Object.defineProperty(M,\\\"width\\\",this.realCanvasWidth),Object.defineProperty(M,\\\"height\\\",this.realCanvasHeight)),M.width=this.bufferWidth,M.height=this.bufferHeight,e.bindFramebuffer=this.realBindFramebuffer,e.enable=this.realEnable,e.disable=this.realDisable,e.colorMask=this.realColorMask,e.clearColor=this.realClearColor,e.viewport=this.realViewport,this.lastBoundFramebuffer==this.framebuffer&&e.bindFramebuffer(e.FRAMEBUFFER,null),this.isPatched=!1,setTimeout(function(){s.safariCssSizeWorkaround(M)},1)}},t.prototype.setTextureBounds=function(e,M){e||(e=[0,0,.5,1]),M||(M=[.5,0,.5,1]),this.viewportOffsetScale[0]=e[0],this.viewportOffsetScale[1]=e[1],this.viewportOffsetScale[2]=e[2],this.viewportOffsetScale[3]=e[3],this.viewportOffsetScale[4]=M[0],this.viewportOffsetScale[5]=M[1],this.viewportOffsetScale[6]=M[2],this.viewportOffsetScale[7]=M[3]},t.prototype.submitFrame=function(){var e=this.gl,M=this,i=[];if(WebVRConfig.DIRTY_SUBMIT_FRAME_BINDINGS||i.push(e.CURRENT_PROGRAM,e.ARRAY_BUFFER_BINDING,e.ELEMENT_ARRAY_BUFFER_BINDING,e.TEXTURE_BINDING_2D,e.TEXTURE0),r(e,i,function(e){M.realBindFramebuffer.call(e,e.FRAMEBUFFER,null),M.cullFace&&M.realDisable.call(e,e.CULL_FACE),M.depthTest&&M.realDisable.call(e,e.DEPTH_TEST),M.blend&&M.realDisable.call(e,e.BLEND),M.scissorTest&&M.realDisable.call(e,e.SCISSOR_TEST),M.stencilTest&&M.realDisable.call(e,e.STENCIL_TEST),M.realColorMask.call(e,!0,!0,!0,!0),M.realViewport.call(e,0,0,e.drawingBufferWidth,e.drawingBufferHeight),(M.ctxAttribs.alpha||s.isIOS())&&(M.realClearColor.call(e,0,0,0,1),e.clear(e.COLOR_BUFFER_BIT)),e.useProgram(M.program),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,M.indexBuffer),e.bindBuffer(e.ARRAY_BUFFER,M.vertexBuffer),e.enableVertexAttribArray(M.attribs.position),e.enableVertexAttribArray(M.attribs.texCoord),e.vertexAttribPointer(M.attribs.position,2,e.FLOAT,!1,20,0),e.vertexAttribPointer(M.attribs.texCoord,3,e.FLOAT,!1,20,8),e.activeTexture(e.TEXTURE0),e.uniform1i(M.uniforms.diffuse,0),e.bindTexture(e.TEXTURE_2D,M.renderTarget),e.uniform4fv(M.uniforms.viewportOffsetScale,M.viewportOffsetScale),e.drawElements(e.TRIANGLES,M.indexCount,e.UNSIGNED_SHORT,0),M.cardboardUI&&M.cardboardUI.renderNoState(),M.realBindFramebuffer.call(M.gl,e.FRAMEBUFFER,M.framebuffer),M.ctxAttribs.preserveDrawingBuffer||(M.realClearColor.call(e,0,0,0,0),e.clear(e.COLOR_BUFFER_BIT)),WebVRConfig.DIRTY_SUBMIT_FRAME_BINDINGS||M.realBindFramebuffer.call(e,e.FRAMEBUFFER,M.lastBoundFramebuffer),M.cullFace&&M.realEnable.call(e,e.CULL_FACE),M.depthTest&&M.realEnable.call(e,e.DEPTH_TEST),M.blend&&M.realEnable.call(e,e.BLEND),M.scissorTest&&M.realEnable.call(e,e.SCISSOR_TEST),M.stencilTest&&M.realEnable.call(e,e.STENCIL_TEST),M.realColorMask.apply(e,M.colorMask),M.realViewport.apply(e,M.viewport),!M.ctxAttribs.alpha&&M.ctxAttribs.preserveDrawingBuffer||M.realClearColor.apply(e,M.clearColor)}),s.isIOS()){var t=e.canvas;t.width==M.bufferWidth&&t.height==M.bufferHeight||(M.bufferWidth=t.width,M.bufferHeight=t.height,M.onResize())}},t.prototype.updateDeviceInfo=function(e){var M=this.gl,i=this,t=[M.ARRAY_BUFFER_BINDING,M.ELEMENT_ARRAY_BUFFER_BINDING];r(M,t,function(M){var t=i.computeMeshVertices_(i.meshWidth,i.meshHeight,e);if(M.bindBuffer(M.ARRAY_BUFFER,i.vertexBuffer),M.bufferData(M.ARRAY_BUFFER,t,M.STATIC_DRAW),!i.indexCount){var A=i.computeMeshIndices_(i.meshWidth,i.meshHeight);M.bindBuffer(M.ELEMENT_ARRAY_BUFFER,i.indexBuffer),M.bufferData(M.ELEMENT_ARRAY_BUFFER,A,M.STATIC_DRAW),i.indexCount=A.length}})},t.prototype.computeMeshVertices_=function(e,M,i){for(var t=new Float32Array(2*e*M*5),A=i.getLeftEyeVisibleTanAngles(),r=i.getLeftEyeNoLensTanAngles(),N=i.getLeftEyeVisibleScreenRect(r),D=0,n=0;n<2;n++){for(var u=0;u<M;u++)for(var a=0;a<e;a++,D++){var o=a/(e-1),g=u/(M-1),j=o,I=g,L=s.lerp(A[0],A[2],o),T=s.lerp(A[3],A[1],g),c=Math.sqrt(L*L+T*T),E=i.distortion.distortInverse(c),w=L*E/c,y=T*E/c;o=(w-r[0])/(r[2]-r[0]),g=(y-r[3])/(r[1]-r[3]);i.device.widthMeters/i.device.heightMeters;o=2*(N.x+o*N.width-.5),g=2*(N.y+g*N.height-.5),t[5*D+0]=o,t[5*D+1]=g,t[5*D+2]=j,t[5*D+3]=I,t[5*D+4]=n}var l=A[2]-A[0];A[0]=-(l+A[0]),A[2]=l-A[2],l=r[2]-r[0],r[0]=-(l+r[0]),r[2]=l-r[2],N.x=1-(N.x+N.width)}return t},t.prototype.computeMeshIndices_=function(e,M){for(var i=new Uint16Array(2*(e-1)*(M-1)*6),t=e/2,A=M/2,s=0,r=0,N=0;N<2;N++)for(var D=0;D<M;D++)for(var n=0;n<e;n++,s++)0!=n&&0!=D&&(n<=t==D<=A?(i[r++]=s,i[r++]=s-e-1,i[r++]=s-e,i[r++]=s-e-1,i[r++]=s,i[r++]=s-1):(i[r++]=s-1,i[r++]=s-e,i[r++]=s,i[r++]=s-e,i[r++]=s-1,i[r++]=s-e-1));return i},t.prototype.getOwnPropertyDescriptor_=function(e,M){var i=Object.getOwnPropertyDescriptor(e,M);return void 0!==i.get&&void 0!==i.set||(i.configurable=!0,i.enumerable=!0,i.get=function(){return this.getAttribute(M)},i.set=function(e){this.setAttribute(M,e)}),i},M.exports=t},{\\\"./cardboard-ui.js\\\":4,\\\"./deps/wglu-preserve-state.js\\\":6,\\\"./util.js\\\":22}],4:[function(e,M,i){function t(e){this.gl=e,this.attribs={position:0},this.program=A.linkProgram(e,r,N,this.attribs),this.uniforms=A.getProgramUniforms(e,this.program),this.vertexBuffer=e.createBuffer(),this.gearOffset=0,this.gearVertexCount=0,this.arrowOffset=0,this.arrowVertexCount=0,this.projMat=new Float32Array(16),this.listener=null,this.onResize()}var A=e(\\\"./util.js\\\"),s=e(\\\"./deps/wglu-preserve-state.js\\\"),r=[\\\"attribute vec2 position;\\\",\\\"uniform mat4 projectionMat;\\\",\\\"void main() {\\\",\\\"  gl_Position = projectionMat * vec4( position, -1.0, 1.0 );\\\",\\\"}\\\"].join(\\\"\\\\n\\\"),N=[\\\"precision mediump float;\\\",\\\"uniform vec4 color;\\\",\\\"void main() {\\\",\\\"  gl_FragColor = color;\\\",\\\"}\\\"].join(\\\"\\\\n\\\"),D=Math.PI/180,n=60,u=12,a=20,o=1,g=.75,j=.3125,I=4,L=28,T=1.5;t.prototype.destroy=function(){var e=this.gl;this.listener&&e.canvas.removeEventListener(\\\"click\\\",this.listener,!1),e.deleteProgram(this.program),e.deleteBuffer(this.vertexBuffer)},t.prototype.listen=function(e,M){var i=this.gl.canvas;this.listener=function(t){var A=i.clientWidth/2,s=L*T;t.clientX>A-s&&t.clientX<A+s&&t.clientY>i.clientHeight-s?e(t):t.clientX<s&&t.clientY<s&&M(t)},i.addEventListener(\\\"click\\\",this.listener,!1)},t.prototype.onResize=function(){var e=this.gl,M=this,i=[e.ARRAY_BUFFER_BINDING];s(e,i,function(e){function i(e,M){var i=(90-e)*D,t=Math.cos(i),A=Math.sin(i);s.push(j*t*w+r,j*A*w+w),s.push(M*t*w+r,M*A*w+w)}function t(M,i){s.push(y+M,e.drawingBufferHeight-y-i)}var s=[],r=e.drawingBufferWidth/2,N=e.drawingBufferWidth/(screen.width*window.devicePixelRatio);A.isIOS()||(N*=window.devicePixelRatio);var c=I*N/2,E=L*T*N,w=L*N/2,y=(L*T-L)*N;s.push(r-c,E),s.push(r-c,e.drawingBufferHeight),s.push(r+c,E),s.push(r+c,e.drawingBufferHeight),M.gearOffset=s.length/2;for(var l=0;l<=6;l++){var z=l*n;i(z,o),i(z+u,o),i(z+a,g),i(z+(n-a),g),i(z+(n-u),o)}M.gearVertexCount=s.length/2-M.gearOffset,M.arrowOffset=s.length/2;var h=c/Math.sin(45*D);t(0,w),t(w,0),t(w+h,h),t(h,w+h),t(h,w-h),t(0,w),t(w,2*w),t(w+h,2*w-h),t(h,w-h),t(0,w),t(h,w-c),t(L*N,w-c),t(h,w+c),t(L*N,w+c),M.arrowVertexCount=s.length/2-M.arrowOffset,e.bindBuffer(e.ARRAY_BUFFER,M.vertexBuffer),e.bufferData(e.ARRAY_BUFFER,new Float32Array(s),e.STATIC_DRAW)})},t.prototype.render=function(){var e=this.gl,M=this,i=[e.CULL_FACE,e.DEPTH_TEST,e.BLEND,e.SCISSOR_TEST,e.STENCIL_TEST,e.COLOR_WRITEMASK,e.VIEWPORT,e.CURRENT_PROGRAM,e.ARRAY_BUFFER_BINDING];s(e,i,function(e){e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.BLEND),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.colorMask(!0,!0,!0,!0),e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight),M.renderNoState()})},t.prototype.renderNoState=function(){var e=this.gl;e.useProgram(this.program),e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.enableVertexAttribArray(this.attribs.position),e.vertexAttribPointer(this.attribs.position,2,e.FLOAT,!1,8,0),e.uniform4f(this.uniforms.color,1,1,1,1),A.orthoMatrix(this.projMat,0,e.drawingBufferWidth,0,e.drawingBufferHeight,.1,1024),e.uniformMatrix4fv(this.uniforms.projectionMat,!1,this.projMat),e.drawArrays(e.TRIANGLE_STRIP,0,4),e.drawArrays(e.TRIANGLE_STRIP,this.gearOffset,this.gearVertexCount),e.drawArrays(e.TRIANGLE_STRIP,this.arrowOffset,this.arrowVertexCount)},M.exports=t},{\\\"./deps/wglu-preserve-state.js\\\":6,\\\"./util.js\\\":22}],5:[function(e,M,i){function t(){this.displayName=\\\"Cardboard VRDisplay (webvr-polyfill)\\\",this.capabilities.hasOrientation=!0,this.capabilities.canPresent=!0,this.bufferScale_=WebVRConfig.BUFFER_SCALE,this.poseSensor_=new D,this.distorter_=null,this.cardboardUI_=null,this.dpdb_=new N((!0),this.onDeviceParamsUpdated_.bind(this)),this.deviceInfo_=new r(this.dpdb_.getDeviceParams()),this.viewerSelector_=new u,this.viewerSelector_.on(\\\"change\\\",this.onViewerChanged_.bind(this)),this.deviceInfo_.setViewer(this.viewerSelector_.getCurrentViewer()),WebVRConfig.ROTATE_INSTRUCTIONS_DISABLED||(this.rotateInstructions_=new n),o.isIOS()&&window.addEventListener(\\\"resize\\\",this.onResize_.bind(this))}var A=e(\\\"./cardboard-distorter.js\\\"),s=e(\\\"./cardboard-ui.js\\\"),r=e(\\\"./device-info.js\\\"),N=e(\\\"./dpdb/dpdb.js\\\"),D=e(\\\"./sensor-fusion/fusion-pose-sensor.js\\\"),n=e(\\\"./rotate-instructions.js\\\"),u=e(\\\"./viewer-selector.js\\\"),a=e(\\\"./base.js\\\").VRDisplay,o=e(\\\"./util.js\\\"),g={LEFT:\\\"left\\\",RIGHT:\\\"right\\\"};t.prototype=new a,t.prototype.getImmediatePose=function(){return{position:this.poseSensor_.getPosition(),orientation:this.poseSensor_.getOrientation(),linearVelocity:null,linearAcceleration:null,angularVelocity:null,angularAcceleration:null}},t.prototype.resetPose=function(){this.poseSensor_.resetPose()},t.prototype.getEyeParameters=function(e){var M,i=[.5*this.deviceInfo_.viewer.interLensDistance,0,0];if(e==g.LEFT)i[0]*=-1,M=this.deviceInfo_.getFieldOfViewLeftEye();else{if(e!=g.RIGHT)return console.error(\\\"Invalid eye provided: %s\\\",e),null;M=this.deviceInfo_.getFieldOfViewRightEye()}return{fieldOfView:M,offset:i,renderWidth:.5*this.deviceInfo_.device.width*this.bufferScale_,renderHeight:this.deviceInfo_.device.height*this.bufferScale_}},t.prototype.onDeviceParamsUpdated_=function(e){console.log(\\\"DPDB reported that device params were updated.\\\"),this.deviceInfo_.updateDeviceParams(e),this.distorter_&&this.distorter_.updateDeviceInfo(this.deviceInfo_)},t.prototype.updateBounds_=function(){this.layer_&&this.distorter_&&(this.layer_.leftBounds||this.layer_.rightBounds)&&this.distorter_.setTextureBounds(this.layer_.leftBounds,this.layer_.rightBounds)},t.prototype.beginPresent_=function(){var e=this.layer_.source.getContext(\\\"webgl\\\");e||(e=this.layer_.source.getContext(\\\"experimental-webgl\\\")),e||(e=this.layer_.source.getContext(\\\"webgl2\\\")),e&&(this.layer_.predistorted?WebVRConfig.CARDBOARD_UI_DISABLED||(e.canvas.width=o.getScreenWidth()*this.bufferScale_,e.canvas.height=o.getScreenHeight()*this.bufferScale_,this.cardboardUI_=new s(e)):(this.distorter_=new A(e),this.distorter_.updateDeviceInfo(this.deviceInfo_),this.cardboardUI_=this.distorter_.cardboardUI),this.cardboardUI_&&this.cardboardUI_.listen(function(e){this.viewerSelector_.show(this.layer_.source.parentElement),e.stopPropagation(),e.preventDefault()}.bind(this),function(e){this.exitPresent(),e.stopPropagation(),e.preventDefault()}.bind(this)),this.rotateInstructions_&&(o.isLandscapeMode()&&o.isMobile()?this.rotateInstructions_.showTemporarily(3e3,this.layer_.source.parentElement):this.rotateInstructions_.update()),this.orientationHandler=this.onOrientationChange_.bind(this),window.addEventListener(\\\"orientationchange\\\",this.orientationHandler),this.vrdisplaypresentchangeHandler=this.updateBounds_.bind(this),window.addEventListener(\\\"vrdisplaypresentchange\\\",this.vrdisplaypresentchangeHandler),this.fireVRDisplayDeviceParamsChange_())},t.prototype.endPresent_=function(){this.distorter_&&(this.distorter_.destroy(),this.distorter_=null),this.cardboardUI_&&(this.cardboardUI_.destroy(),this.cardboardUI_=null),this.rotateInstructions_&&this.rotateInstructions_.hide(),this.viewerSelector_.hide(),window.removeEventListener(\\\"orientationchange\\\",this.orientationHandler),window.removeEventListener(\\\"vrdisplaypresentchange\\\",this.vrdisplaypresentchangeHandler)},t.prototype.submitFrame=function(e){if(this.distorter_)this.distorter_.submitFrame();else if(this.cardboardUI_&&this.layer_){var M=this.layer_.source.getContext(\\\"webgl\\\").canvas;M.width==this.lastWidth&&M.height==this.lastHeight||this.cardboardUI_.onResize(),this.lastWidth=M.width,this.lastHeight=M.height,this.cardboardUI_.render()}},t.prototype.onOrientationChange_=function(e){console.log(\\\"onOrientationChange_\\\"),this.viewerSelector_.hide(),this.rotateInstructions_&&this.rotateInstructions_.update(),this.onResize_()},t.prototype.onResize_=function(e){if(this.layer_){var M=this.layer_.source.getContext(\\\"webgl\\\"),i=[\\\"position: absolute\\\",\\\"top: 0\\\",\\\"left: 0\\\",\\\"width: \\\"+Math.max(screen.width,screen.height)+\\\"px\\\",\\\"height: \\\"+Math.min(screen.height,screen.width)+\\\"px\\\",\\\"border: 0\\\",\\\"margin: 0\\\",\\\"padding: 0 10px 10px 0\\\"];M.canvas.setAttribute(\\\"style\\\",i.join(\\\"; \\\")+\\\";\\\"),o.safariCssSizeWorkaround(M.canvas)}},t.prototype.onViewerChanged_=function(e){this.deviceInfo_.setViewer(e),this.distorter_&&this.distorter_.updateDeviceInfo(this.deviceInfo_),this.fireVRDisplayDeviceParamsChange_()},t.prototype.fireVRDisplayDeviceParamsChange_=function(){var e=new CustomEvent(\\\"vrdisplaydeviceparamschange\\\",{detail:{vrdisplay:this,deviceInfo:this.deviceInfo_}});window.dispatchEvent(e)},M.exports=t},{\\\"./base.js\\\":2,\\\"./cardboard-distorter.js\\\":3,\\\"./cardboard-ui.js\\\":4,\\\"./device-info.js\\\":7,\\\"./dpdb/dpdb.js\\\":11,\\\"./rotate-instructions.js\\\":16,\\\"./sensor-fusion/fusion-pose-sensor.js\\\":18,\\\"./util.js\\\":22,\\\"./viewer-selector.js\\\":23}],6:[function(e,M,i){function t(e,M,i){if(!M)return void i(e);for(var t=[],A=null,s=0;s<M.length;++s){var r=M[s];switch(r){case e.TEXTURE_BINDING_2D:case e.TEXTURE_BINDING_CUBE_MAP:var N=M[++s];if(N<e.TEXTURE0||N>e.TEXTURE31){console.error(\\\"TEXTURE_BINDING_2D or TEXTURE_BINDING_CUBE_MAP must be followed by a valid texture unit\\\"),t.push(null,null);break}A||(A=e.getParameter(e.ACTIVE_TEXTURE)),e.activeTexture(N),t.push(e.getParameter(r),null);break;case e.ACTIVE_TEXTURE:A=e.getParameter(e.ACTIVE_TEXTURE),t.push(null);break;default:t.push(e.getParameter(r))}}i(e);for(var s=0;s<M.length;++s){var r=M[s],D=t[s];switch(r){case e.ACTIVE_TEXTURE:break;case e.ARRAY_BUFFER_BINDING:e.bindBuffer(e.ARRAY_BUFFER,D);break;case e.COLOR_CLEAR_VALUE:e.clearColor(D[0],D[1],D[2],D[3]);break;case e.COLOR_WRITEMASK:e.colorMask(D[0],D[1],D[2],D[3]);break;case e.CURRENT_PROGRAM:e.useProgram(D);break;case e.ELEMENT_ARRAY_BUFFER_BINDING:e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,D);break;case e.FRAMEBUFFER_BINDING:e.bindFramebuffer(e.FRAMEBUFFER,D);break;case e.RENDERBUFFER_BINDING:e.bindRenderbuffer(e.RENDERBUFFER,D);break;case e.TEXTURE_BINDING_2D:var N=M[++s];if(N<e.TEXTURE0||N>e.TEXTURE31)break;e.activeTexture(N),e.bindTexture(e.TEXTURE_2D,D);break;case e.TEXTURE_BINDING_CUBE_MAP:var N=M[++s];if(N<e.TEXTURE0||N>e.TEXTURE31)break;e.activeTexture(N),e.bindTexture(e.TEXTURE_CUBE_MAP,D);break;case e.VIEWPORT:e.viewport(D[0],D[1],D[2],D[3]);break;case e.BLEND:case e.CULL_FACE:case e.DEPTH_TEST:case e.SCISSOR_TEST:case e.STENCIL_TEST:D?e.enable(r):e.disable(r);break;default:console.log(\\\"No GL restore behavior for 0x\\\"+r.toString(16))}A&&e.activeTexture(A)}}M.exports=t},{}],7:[function(e,M,i){function t(e){this.width=e.width||D.getScreenWidth(),this.height=e.height||D.getScreenHeight(),this.widthMeters=e.widthMeters,this.heightMeters=e.heightMeters,this.bevelMeters=e.bevelMeters}function A(e){this.viewer=a.CardboardV2,this.updateDeviceParams(e),this.distortion=new r(this.viewer.distortionCoefficients)}function s(e){this.id=e.id,this.label=e.label,this.fov=e.fov,this.interLensDistance=e.interLensDistance,this.baselineLensDistance=e.baselineLensDistance,this.screenLensDistance=e.screenLensDistance,this.distortionCoefficients=e.distortionCoefficients,this.inverseCoefficients=e.inverseCoefficients}var r=e(\\\"./distortion/distortion.js\\\"),N=e(\\\"./math-util.js\\\"),D=e(\\\"./util.js\\\"),n=new t({widthMeters:.11,heightMeters:.062,bevelMeters:.004}),u=new t({widthMeters:.1038,heightMeters:.0584,bevelMeters:.004}),a={CardboardV1:new s({id:\\\"CardboardV1\\\",label:\\\"Cardboard I/O 2014\\\",\\nfov:40,interLensDistance:.06,baselineLensDistance:.035,screenLensDistance:.042,distortionCoefficients:[.441,.156],inverseCoefficients:[-.4410035,.42756155,-.4804439,.5460139,-.58821183,.5733938,-.48303202,.33299083,-.17573841,.0651772,-.01488963,.001559834]}),CardboardV2:new s({id:\\\"CardboardV2\\\",label:\\\"Cardboard I/O 2015\\\",fov:60,interLensDistance:.064,baselineLensDistance:.035,screenLensDistance:.039,distortionCoefficients:[.34,.55],inverseCoefficients:[-.33836704,-.18162185,.862655,-1.2462051,1.0560602,-.58208317,.21609078,-.05444823,.009177956,-.0009904169,6183535e-11,-16981803e-13]})};A.prototype.updateDeviceParams=function(e){this.device=this.determineDevice_(e)||this.device},A.prototype.getDevice=function(){return this.device},A.prototype.setViewer=function(e){this.viewer=e,this.distortion=new r(this.viewer.distortionCoefficients)},A.prototype.determineDevice_=function(e){if(!e)return D.isIOS()?(console.warn(\\\"Using fallback iOS device measurements.\\\"),u):(console.warn(\\\"Using fallback Android device measurements.\\\"),n);var M=.0254,i=M/e.xdpi,A=M/e.ydpi,s=D.getScreenWidth(),r=D.getScreenHeight();return new t({widthMeters:i*s,heightMeters:A*r,bevelMeters:.001*e.bevelMm})},A.prototype.getDistortedFieldOfViewLeftEye=function(){var e=this.viewer,M=this.device,i=this.distortion,t=e.screenLensDistance,A=(M.widthMeters-e.interLensDistance)/2,s=e.interLensDistance/2,r=e.baselineLensDistance-M.bevelMeters,D=M.heightMeters-r,n=N.radToDeg*Math.atan(i.distort(A/t)),u=N.radToDeg*Math.atan(i.distort(s/t)),a=N.radToDeg*Math.atan(i.distort(r/t)),o=N.radToDeg*Math.atan(i.distort(D/t));return{leftDegrees:Math.min(n,e.fov),rightDegrees:Math.min(u,e.fov),downDegrees:Math.min(a,e.fov),upDegrees:Math.min(o,e.fov)}},A.prototype.getLeftEyeVisibleTanAngles=function(){var e=this.viewer,M=this.device,i=this.distortion,t=Math.tan(-N.degToRad*e.fov),A=Math.tan(N.degToRad*e.fov),s=Math.tan(N.degToRad*e.fov),r=Math.tan(-N.degToRad*e.fov),D=M.widthMeters/4,n=M.heightMeters/2,u=e.baselineLensDistance-M.bevelMeters-n,a=e.interLensDistance/2-D,o=-u,g=e.screenLensDistance,j=i.distort((a-D)/g),I=i.distort((o+n)/g),L=i.distort((a+D)/g),T=i.distort((o-n)/g),c=new Float32Array(4);return c[0]=Math.max(t,j),c[1]=Math.min(A,I),c[2]=Math.min(s,L),c[3]=Math.max(r,T),c},A.prototype.getLeftEyeNoLensTanAngles=function(){var e=this.viewer,M=this.device,i=this.distortion,t=new Float32Array(4),A=i.distortInverse(Math.tan(-N.degToRad*e.fov)),s=i.distortInverse(Math.tan(N.degToRad*e.fov)),r=i.distortInverse(Math.tan(N.degToRad*e.fov)),D=i.distortInverse(Math.tan(-N.degToRad*e.fov)),n=M.widthMeters/4,u=M.heightMeters/2,a=e.baselineLensDistance-M.bevelMeters-u,o=e.interLensDistance/2-n,g=-a,j=e.screenLensDistance,I=(o-n)/j,L=(g+u)/j,T=(o+n)/j,c=(g-u)/j;return t[0]=Math.max(A,I),t[1]=Math.min(s,L),t[2]=Math.min(r,T),t[3]=Math.max(D,c),t},A.prototype.getLeftEyeVisibleScreenRect=function(e){var M=this.viewer,i=this.device,t=M.screenLensDistance,A=(i.widthMeters-M.interLensDistance)/2,s=M.baselineLensDistance-i.bevelMeters,r=(e[0]*t+A)/i.widthMeters,N=(e[1]*t+s)/i.heightMeters,D=(e[2]*t+A)/i.widthMeters,n=(e[3]*t+s)/i.heightMeters;return{x:r,y:n,width:D-r,height:N-n}},A.prototype.getFieldOfViewLeftEye=function(e){return e?this.getUndistortedFieldOfViewLeftEye():this.getDistortedFieldOfViewLeftEye()},A.prototype.getFieldOfViewRightEye=function(e){var M=this.getFieldOfViewLeftEye(e);return{leftDegrees:M.rightDegrees,rightDegrees:M.leftDegrees,upDegrees:M.upDegrees,downDegrees:M.downDegrees}},A.prototype.getUndistortedFieldOfViewLeftEye=function(){var e=this.getUndistortedParams_();return{leftDegrees:N.radToDeg*Math.atan(e.outerDist),rightDegrees:N.radToDeg*Math.atan(e.innerDist),downDegrees:N.radToDeg*Math.atan(e.bottomDist),upDegrees:N.radToDeg*Math.atan(e.topDist)}},A.prototype.getUndistortedViewportLeftEye=function(){var e=this.getUndistortedParams_(),M=this.viewer,i=this.device,t=M.screenLensDistance,A=i.widthMeters/t,s=i.heightMeters/t,r=i.width/A,N=i.height/s,D=Math.round((e.eyePosX-e.outerDist)*r),n=Math.round((e.eyePosY-e.bottomDist)*N);return{x:D,y:n,width:Math.round((e.eyePosX+e.innerDist)*r)-D,height:Math.round((e.eyePosY+e.topDist)*N)-n}},A.prototype.getUndistortedParams_=function(){var e=this.viewer,M=this.device,i=this.distortion,t=e.screenLensDistance,A=e.interLensDistance/2/t,s=M.widthMeters/t,r=M.heightMeters/t,D=s/2-A,n=(e.baselineLensDistance-M.bevelMeters)/t,u=e.fov,a=i.distortInverse(Math.tan(N.degToRad*u)),o=Math.min(D,a),g=Math.min(A,a),j=Math.min(n,a),I=Math.min(r-n,a);return{outerDist:o,innerDist:g,topDist:I,bottomDist:j,eyePosX:D,eyePosY:n}},A.Viewers=a,M.exports=A},{\\\"./distortion/distortion.js\\\":9,\\\"./math-util.js\\\":14,\\\"./util.js\\\":22}],8:[function(e,M,i){function t(e){this.display=e,this.hardwareUnitId=e.displayId,this.deviceId=\\\"webvr-polyfill:HMD:\\\"+e.displayId,this.deviceName=e.displayName+\\\" (HMD)\\\"}function A(e){this.display=e,this.hardwareUnitId=e.displayId,this.deviceId=\\\"webvr-polyfill:PositionSensor: \\\"+e.displayId,this.deviceName=e.displayName+\\\" (PositionSensor)\\\"}var s=(e(\\\"./base.js\\\").VRDisplay,e(\\\"./base.js\\\").HMDVRDevice),r=e(\\\"./base.js\\\").PositionSensorVRDevice;t.prototype=new s,t.prototype.getEyeParameters=function(e){var M=this.display.getEyeParameters(e);return{currentFieldOfView:M.fieldOfView,maximumFieldOfView:M.fieldOfView,minimumFieldOfView:M.fieldOfView,recommendedFieldOfView:M.fieldOfView,eyeTranslation:{x:M.offset[0],y:M.offset[1],z:M.offset[2]},renderRect:{x:\\\"right\\\"==e?M.renderWidth:0,y:0,width:M.renderWidth,height:M.renderHeight}}},t.prototype.setFieldOfView=function(e,M,i,t){},A.prototype=new r,A.prototype.getState=function(){var e=this.display.getPose();return{position:e.position?{x:e.position[0],y:e.position[1],z:e.position[2]}:null,orientation:e.orientation?{x:e.orientation[0],y:e.orientation[1],z:e.orientation[2],w:e.orientation[3]}:null,linearVelocity:null,linearAcceleration:null,angularVelocity:null,angularAcceleration:null}},A.prototype.resetState=function(){return this.positionDevice.resetPose()},M.exports.VRDisplayHMDDevice=t,M.exports.VRDisplayPositionSensorDevice=A},{\\\"./base.js\\\":2}],9:[function(e,M,i){function t(e){this.coefficients=e}t.prototype.distortInverse=function(e){for(var M=0,i=1,t=e-this.distort(M);Math.abs(i-M)>1e-4;){var A=e-this.distort(i),s=i-A*((i-M)/(A-t));M=i,i=s,t=A}return i},t.prototype.distort=function(e){for(var M=e*e,i=0,t=0;t<this.coefficients.length;t++)i=M*(i+this.coefficients[t]);return(i+1)*e},t.prototype.solveLinear_=function(e,M){for(var i=e.length,t=0;t<i-1;++t)for(var A=t+1;A<i;++A){for(var s=e[t][A]/e[t][t],r=t+1;r<i;++r)e[r][A]-=s*e[r][t];M[A]-=s*M[t]}for(var N=new Array(i),t=i-1;t>=0;--t){for(var D=M[t],r=t+1;r<i;++r)D-=e[r][t]*N[r];N[t]=D/e[t][t]}return N},t.prototype.solveLeastSquares_=function(e,M){var i,t,A,s,r=e.length,N=e[0].length;if(r!=M.Length)throw new Error(\\\"Matrix / vector dimension mismatch\\\");var D=new Array(N);for(A=0;A<N;++A)for(D[A]=new Array(N),t=0;t<N;++t){for(s=0,i=0;i<r;++i)s+=e[t][i]*e[A][i];D[A][t]=s}var n=new Array(N);for(t=0;t<N;++t){for(s=0,i=0;i<r;++i)s+=e[t][i]*M[i];n[t]=s}return this.solveLinear_(D,n)},t.prototype.approximateInverse=function(e,M){e=e||1,M=M||100;var i,A,s=6,r=new Array(s);for(A=0;A<s;++A)r[A]=new Array(M);var N=new Array(M);for(i=0;i<M;++i){var D=e*(i+1)/M,n=this.distort(D),u=n;for(A=0;A<s;++A)u*=n*n,r[A][i]=u;N[i]=D-n}var a=this.solveLeastSquares_(r,N);return new t(a)},M.exports=t},{}],10:[function(e,M,i){var t={format:1,last_updated:\\\"2016-01-20T00:18:35Z\\\",devices:[{type:\\\"android\\\",rules:[{mdmh:\\\"asus/*/Nexus 7/*\\\"},{ua:\\\"Nexus 7\\\"}],dpi:[320.8,323],bw:3,ac:500},{type:\\\"android\\\",rules:[{mdmh:\\\"asus/*/ASUS_Z00AD/*\\\"},{ua:\\\"ASUS_Z00AD\\\"}],dpi:[403,404.6],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"HTC/*/HTC6435LVW/*\\\"},{ua:\\\"HTC6435LVW\\\"}],dpi:[449.7,443.3],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"HTC/*/HTC One XL/*\\\"},{ua:\\\"HTC One XL\\\"}],dpi:[315.3,314.6],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"htc/*/Nexus 9/*\\\"},{ua:\\\"Nexus 9\\\"}],dpi:289,bw:3,ac:500},{type:\\\"android\\\",rules:[{mdmh:\\\"HTC/*/HTC One M9/*\\\"},{ua:\\\"HTC One M9\\\"}],dpi:[442.5,443.3],bw:3,ac:500},{type:\\\"android\\\",rules:[{mdmh:\\\"HTC/*/HTC One_M8/*\\\"},{ua:\\\"HTC One_M8\\\"}],dpi:[449.7,447.4],bw:3,ac:500},{type:\\\"android\\\",rules:[{mdmh:\\\"HTC/*/HTC One/*\\\"},{ua:\\\"HTC One\\\"}],dpi:472.8,bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"Huawei/*/Nexus 6P/*\\\"},{ua:\\\"Nexus 6P\\\"}],dpi:[515.1,518],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"LGE/*/Nexus 5X/*\\\"},{ua:\\\"Nexus 5X\\\"}],dpi:[422,419.9],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"LGE/*/LGMS345/*\\\"},{ua:\\\"LGMS345\\\"}],dpi:[221.7,219.1],bw:3,ac:500},{type:\\\"android\\\",rules:[{mdmh:\\\"LGE/*/LG-D800/*\\\"},{ua:\\\"LG-D800\\\"}],dpi:[422,424.1],bw:3,ac:500},{type:\\\"android\\\",rules:[{mdmh:\\\"LGE/*/LG-D850/*\\\"},{ua:\\\"LG-D850\\\"}],dpi:[537.9,541.9],bw:3,ac:500},{type:\\\"android\\\",rules:[{mdmh:\\\"LGE/*/VS985 4G/*\\\"},{ua:\\\"VS985 4G\\\"}],dpi:[537.9,535.6],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"LGE/*/Nexus 5/*\\\"},{ua:\\\"Nexus 5 \\\"}],dpi:[442.4,444.8],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"LGE/*/Nexus 4/*\\\"},{ua:\\\"Nexus 4\\\"}],dpi:[319.8,318.4],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"LGE/*/LG-P769/*\\\"},{ua:\\\"LG-P769\\\"}],dpi:[240.6,247.5],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"LGE/*/LGMS323/*\\\"},{ua:\\\"LGMS323\\\"}],dpi:[206.6,204.6],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"LGE/*/LGLS996/*\\\"},{ua:\\\"LGLS996\\\"}],dpi:[403.4,401.5],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"Micromax/*/4560MMX/*\\\"},{ua:\\\"4560MMX\\\"}],dpi:[240,219.4],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"Micromax/*/A250/*\\\"},{ua:\\\"Micromax A250\\\"}],dpi:[480,446.4],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"Micromax/*/Micromax AQ4501/*\\\"},{ua:\\\"Micromax AQ4501\\\"}],dpi:240,bw:3,ac:500},{type:\\\"android\\\",rules:[{mdmh:\\\"motorola/*/DROID RAZR/*\\\"},{ua:\\\"DROID RAZR\\\"}],dpi:[368.1,256.7],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"motorola/*/XT830C/*\\\"},{ua:\\\"XT830C\\\"}],dpi:[254,255.9],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"motorola/*/XT1021/*\\\"},{ua:\\\"XT1021\\\"}],dpi:[254,256.7],bw:3,ac:500},{type:\\\"android\\\",rules:[{mdmh:\\\"motorola/*/XT1023/*\\\"},{ua:\\\"XT1023\\\"}],dpi:[254,256.7],bw:3,ac:500},{type:\\\"android\\\",rules:[{mdmh:\\\"motorola/*/XT1028/*\\\"},{ua:\\\"XT1028\\\"}],dpi:[326.6,327.6],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"motorola/*/XT1034/*\\\"},{ua:\\\"XT1034\\\"}],dpi:[326.6,328.4],bw:3,ac:500},{type:\\\"android\\\",rules:[{mdmh:\\\"motorola/*/XT1053/*\\\"},{ua:\\\"XT1053\\\"}],dpi:[315.3,316.1],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"motorola/*/XT1562/*\\\"},{ua:\\\"XT1562\\\"}],dpi:[403.4,402.7],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"motorola/*/Nexus 6/*\\\"},{ua:\\\"Nexus 6 \\\"}],dpi:[494.3,489.7],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"motorola/*/XT1063/*\\\"},{ua:\\\"XT1063\\\"}],dpi:[295,296.6],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"motorola/*/XT1064/*\\\"},{ua:\\\"XT1064\\\"}],dpi:[295,295.6],bw:3,ac:500},{type:\\\"android\\\",rules:[{mdmh:\\\"motorola/*/XT1092/*\\\"},{ua:\\\"XT1092\\\"}],dpi:[422,424.1],bw:3,ac:500},{type:\\\"android\\\",rules:[{mdmh:\\\"motorola/*/XT1095/*\\\"},{ua:\\\"XT1095\\\"}],dpi:[422,423.4],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"OnePlus/*/A0001/*\\\"},{ua:\\\"A0001\\\"}],dpi:[403.4,401],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"OnePlus/*/ONE E1005/*\\\"},{ua:\\\"ONE E1005\\\"}],dpi:[442.4,441.4],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"OnePlus/*/ONE A2005/*\\\"},{ua:\\\"ONE A2005\\\"}],dpi:[391.9,405.4],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"OPPO/*/X909/*\\\"},{ua:\\\"X909\\\"}],dpi:[442.4,444.1],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/GT-I9082/*\\\"},{ua:\\\"GT-I9082\\\"}],dpi:[184.7,185.4],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/SM-G360P/*\\\"},{ua:\\\"SM-G360P\\\"}],dpi:[196.7,205.4],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/Nexus S/*\\\"},{ua:\\\"Nexus S\\\"}],dpi:[234.5,229.8],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/GT-I9300/*\\\"},{ua:\\\"GT-I9300\\\"}],dpi:[304.8,303.9],bw:5,ac:500},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/SM-T230NU/*\\\"},{ua:\\\"SM-T230NU\\\"}],dpi:216,bw:3,ac:500},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/SGH-T399/*\\\"},{ua:\\\"SGH-T399\\\"}],dpi:[217.7,231.4],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/SM-N9005/*\\\"},{ua:\\\"SM-N9005\\\"}],dpi:[386.4,387],bw:3,ac:500},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/SAMSUNG-SM-N900A/*\\\"},{ua:\\\"SAMSUNG-SM-N900A\\\"}],dpi:[386.4,387.7],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/GT-I9500/*\\\"},{ua:\\\"GT-I9500\\\"}],dpi:[442.5,443.3],bw:3,ac:500},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/GT-I9505/*\\\"},{ua:\\\"GT-I9505\\\"}],dpi:439.4,bw:4,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/SM-G900F/*\\\"},{ua:\\\"SM-G900F\\\"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/SM-G900M/*\\\"},{ua:\\\"SM-G900M\\\"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/SM-G800F/*\\\"},{ua:\\\"SM-G800F\\\"}],dpi:326.8,bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/SM-G906S/*\\\"},{ua:\\\"SM-G906S\\\"}],dpi:[562.7,572.4],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/GT-I9300/*\\\"},{ua:\\\"GT-I9300\\\"}],dpi:[306.7,304.8],bw:5,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/SM-T535/*\\\"},{ua:\\\"SM-T535\\\"}],dpi:[142.6,136.4],bw:3,ac:500},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/SM-N920C/*\\\"},{ua:\\\"SM-N920C\\\"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/GT-I9300I/*\\\"},{ua:\\\"GT-I9300I\\\"}],dpi:[304.8,305.8],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/GT-I9195/*\\\"},{ua:\\\"GT-I9195\\\"}],dpi:[249.4,256.7],bw:3,ac:500},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/SPH-L520/*\\\"},{ua:\\\"SPH-L520\\\"}],dpi:[249.4,255.9],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/SAMSUNG-SGH-I717/*\\\"},{ua:\\\"SAMSUNG-SGH-I717\\\"}],dpi:285.8,bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/SPH-D710/*\\\"},{ua:\\\"SPH-D710\\\"}],dpi:[217.7,204.2],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/GT-N7100/*\\\"},{ua:\\\"GT-N7100\\\"}],dpi:265.1,bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/SCH-I605/*\\\"},{ua:\\\"SCH-I605\\\"}],dpi:265.1,bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/Galaxy Nexus/*\\\"},{ua:\\\"Galaxy Nexus\\\"}],dpi:[315.3,314.2],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/SM-N910H/*\\\"},{ua:\\\"SM-N910H\\\"}],dpi:[515.1,518],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/SM-N910C/*\\\"},{ua:\\\"SM-N910C\\\"}],dpi:[515.2,520.2],bw:3,ac:500},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/SM-G130M/*\\\"},{ua:\\\"SM-G130M\\\"}],dpi:[165.9,164.8],bw:3,ac:500},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/SM-G928I/*\\\"},{ua:\\\"SM-G928I\\\"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/SM-G920F/*\\\"},{ua:\\\"SM-G920F\\\"}],dpi:580.6,bw:3,ac:500},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/SM-G920P/*\\\"},{ua:\\\"SM-G920P\\\"}],dpi:[522.5,577],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/SM-G925F/*\\\"},{ua:\\\"SM-G925F\\\"}],dpi:580.6,bw:3,ac:500},{type:\\\"android\\\",rules:[{mdmh:\\\"samsung/*/SM-G925V/*\\\"},{ua:\\\"SM-G925V\\\"}],dpi:[522.5,576.6],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"Sony/*/C6903/*\\\"},{ua:\\\"C6903\\\"}],dpi:[442.5,443.3],bw:3,ac:500},{type:\\\"android\\\",rules:[{mdmh:\\\"Sony/*/D6653/*\\\"},{ua:\\\"D6653\\\"}],dpi:[428.6,427.6],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"Sony/*/E6653/*\\\"},{ua:\\\"E6653\\\"}],dpi:[428.6,425.7],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"Sony/*/E6853/*\\\"},{ua:\\\"E6853\\\"}],dpi:[403.4,401.9],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"Sony/*/SGP321/*\\\"},{ua:\\\"SGP321\\\"}],dpi:[224.7,224.1],bw:3,ac:500},{type:\\\"android\\\",rules:[{mdmh:\\\"TCT/*/ALCATEL ONE TOUCH Fierce/*\\\"},{ua:\\\"ALCATEL ONE TOUCH Fierce\\\"}],dpi:[240,247.5],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"THL/*/thl 5000/*\\\"},{ua:\\\"thl 5000\\\"}],dpi:[480,443.3],bw:3,ac:1e3},{type:\\\"android\\\",rules:[{mdmh:\\\"ZTE/*/ZTE Blade L2/*\\\"},{ua:\\\"ZTE Blade L2\\\"}],dpi:240,bw:3,ac:500},{type:\\\"ios\\\",rules:[{res:[640,960]}],dpi:[325.1,328.4],bw:4,ac:1e3},{type:\\\"ios\\\",rules:[{res:[640,960]}],dpi:[325.1,328.4],bw:4,ac:1e3},{type:\\\"ios\\\",rules:[{res:[640,1136]}],dpi:[317.1,320.2],bw:3,ac:1e3},{type:\\\"ios\\\",rules:[{res:[640,1136]}],dpi:[317.1,320.2],bw:3,ac:1e3},{type:\\\"ios\\\",rules:[{res:[750,1334]}],dpi:326.4,bw:4,ac:1e3},{type:\\\"ios\\\",rules:[{res:[750,1334]}],dpi:326.4,bw:4,ac:1e3},{type:\\\"ios\\\",rules:[{res:[1242,2208]}],dpi:[453.6,458.4],bw:4,ac:1e3},{type:\\\"ios\\\",rules:[{res:[1242,2208]}],dpi:[453.6,458.4],bw:4,ac:1e3}]};M.exports=t},{}],11:[function(e,M,i){function t(e,M){if(this.dpdb=s,this.recalculateDeviceParams_(),e){this.onDeviceParamsUpdated=M,console.log(\\\"Fetching DPDB...\\\");var i=new XMLHttpRequest,t=this;i.open(\\\"GET\\\",N,!0),i.addEventListener(\\\"load\\\",function(){t.loading=!1,i.status>=200&&i.status<=299?(console.log(\\\"Successfully loaded online DPDB.\\\"),t.dpdb=JSON.parse(i.response),t.recalculateDeviceParams_()):console.error(\\\"Error loading online DPDB!\\\")}),i.send()}}function A(e){this.xdpi=e.xdpi,this.ydpi=e.ydpi,this.bevelMm=e.bevelMm}var s=e(\\\"./dpdb-cache.js\\\"),r=e(\\\"../util.js\\\"),N=\\\"https://storage.googleapis.com/cardboard-dpdb/dpdb.json\\\";t.prototype.getDeviceParams=function(){return this.deviceParams},t.prototype.recalculateDeviceParams_=function(){console.log(\\\"Recalculating device params.\\\");var e=this.calcDeviceParams_();console.log(\\\"New device parameters:\\\"),console.log(e),e?(this.deviceParams=e,this.onDeviceParamsUpdated&&this.onDeviceParamsUpdated(this.deviceParams)):console.error(\\\"Failed to recalculate device parameters.\\\")},t.prototype.calcDeviceParams_=function(){var e=this.dpdb;if(!e)return console.error(\\\"DPDB not available.\\\"),null;if(1!=e.format)return console.error(\\\"DPDB has unexpected format version.\\\"),null;if(!e.devices||!e.devices.length)return console.error(\\\"DPDB does not have a devices section.\\\"),null;var M=navigator.userAgent||navigator.vendor||window.opera,i=r.getScreenWidth(),t=r.getScreenHeight();if(console.log(\\\"User agent: \\\"+M),console.log(\\\"Pixel width: \\\"+i),console.log(\\\"Pixel height: \\\"+t),!e.devices)return console.error(\\\"DPDB has no devices section.\\\"),null;for(var s=0;s<e.devices.length;s++){var N=e.devices[s];if(N.rules)if(\\\"ios\\\"==N.type||\\\"android\\\"==N.type){if(r.isIOS()==(\\\"ios\\\"==N.type)){for(var D=!1,n=0;n<N.rules.length;n++){var u=N.rules[n];if(this.matchRule_(u,M,i,t)){console.log(\\\"Rule matched:\\\"),console.log(u),D=!0;break}}if(D){var a=N.dpi[0]||N.dpi,o=N.dpi[1]||N.dpi;return new A({xdpi:a,ydpi:o,bevelMm:N.bw})}}}else console.warn(\\\"Device[\\\"+s+\\\"] has invalid type.\\\");else console.warn(\\\"Device[\\\"+s+\\\"] has no rules section.\\\")}return console.warn(\\\"No DPDB device match.\\\"),null},t.prototype.matchRule_=function(e,M,i,t){if(!e.ua&&!e.res)return!1;if(e.ua&&M.indexOf(e.ua)<0)return!1;if(e.res){if(!e.res[0]||!e.res[1])return!1;var A=e.res[0],s=e.res[1];if(Math.min(i,t)!=Math.min(A,s)||Math.max(i,t)!=Math.max(A,s))return!1}return!0},M.exports=t},{\\\"../util.js\\\":22,\\\"./dpdb-cache.js\\\":10}],12:[function(e,M,i){function t(){this.callbacks={}}t.prototype.emit=function(e){var M=this.callbacks[e];if(M){var i=[].slice.call(arguments);i.shift();for(var t=0;t<M.length;t++)M[t].apply(this,i)}},t.prototype.on=function(e,M){e in this.callbacks?this.callbacks[e].push(M):this.callbacks[e]=[M]},M.exports=t},{}],13:[function(e,M,i){var t=e(\\\"./util.js\\\"),A=e(\\\"./webvr-polyfill.js\\\").WebVRPolyfill;window.WebVRConfig=t.extend({FORCE_ENABLE_VR:!1,K_FILTER:.98,PREDICTION_TIME_S:.04,TOUCH_PANNER_DISABLED:!0,CARDBOARD_UI_DISABLED:!1,ROTATE_INSTRUCTIONS_DISABLED:!1,YAW_ONLY:!1,MOUSE_KEYBOARD_CONTROLS_DISABLED:!1,DEFER_INITIALIZATION:!1,ENABLE_DEPRECATED_API:!1,BUFFER_SCALE:.5,DIRTY_SUBMIT_FRAME_BINDINGS:!1},window.WebVRConfig),window.WebVRConfig.DEFER_INITIALIZATION?window.InitializeWebVRPolyfill=function(){new A}:new A},{\\\"./util.js\\\":22,\\\"./webvr-polyfill.js\\\":25}],14:[function(e,M,i){var t=window.MathUtil||{};t.degToRad=Math.PI/180,t.radToDeg=180/Math.PI,t.Vector2=function(e,M){this.x=e||0,this.y=M||0},t.Vector2.prototype={constructor:t.Vector2,set:function(e,M){return this.x=e,this.y=M,this},copy:function(e){return this.x=e.x,this.y=e.y,this},subVectors:function(e,M){return this.x=e.x-M.x,this.y=e.y-M.y,this}},t.Vector3=function(e,M,i){this.x=e||0,this.y=M||0,this.z=i||0},t.Vector3.prototype={constructor:t.Vector3,set:function(e,M,i){return this.x=e,this.y=M,this.z=i,this},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},normalize:function(){var e=this.length();if(0!==e){var M=1/e;this.multiplyScalar(M)}else this.x=0,this.y=0,this.z=0;return this},multiplyScalar:function(e){this.x*=e,this.y*=e,this.z*=e},applyQuaternion:function(e){var M=this.x,i=this.y,t=this.z,A=e.x,s=e.y,r=e.z,N=e.w,D=N*M+s*t-r*i,n=N*i+r*M-A*t,u=N*t+A*i-s*M,a=-A*M-s*i-r*t;return this.x=D*N+a*-A+n*-r-u*-s,this.y=n*N+a*-s+u*-A-D*-r,this.z=u*N+a*-r+D*-s-n*-A,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},crossVectors:function(e,M){var i=e.x,t=e.y,A=e.z,s=M.x,r=M.y,N=M.z;return this.x=t*N-A*r,this.y=A*s-i*N,this.z=i*r-t*s,this}},t.Quaternion=function(e,M,i,t){this.x=e||0,this.y=M||0,this.z=i||0,this.w=void 0!==t?t:1},t.Quaternion.prototype={constructor:t.Quaternion,set:function(e,M,i,t){return this.x=e,this.y=M,this.z=i,this.w=t,this},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w,this},setFromEulerXYZ:function(e,M,i){var t=Math.cos(e/2),A=Math.cos(M/2),s=Math.cos(i/2),r=Math.sin(e/2),N=Math.sin(M/2),D=Math.sin(i/2);return this.x=r*A*s+t*N*D,this.y=t*N*s-r*A*D,this.z=t*A*D+r*N*s,this.w=t*A*s-r*N*D,this},setFromEulerYXZ:function(e,M,i){var t=Math.cos(e/2),A=Math.cos(M/2),s=Math.cos(i/2),r=Math.sin(e/2),N=Math.sin(M/2),D=Math.sin(i/2);return this.x=r*A*s+t*N*D,this.y=t*N*s-r*A*D,this.z=t*A*D-r*N*s,this.w=t*A*s+r*N*D,this},setFromAxisAngle:function(e,M){var i=M/2,t=Math.sin(i);return this.x=e.x*t,this.y=e.y*t,this.z=e.z*t,this.w=Math.cos(i),this},multiply:function(e){return this.multiplyQuaternions(this,e)},multiplyQuaternions:function(e,M){var i=e.x,t=e.y,A=e.z,s=e.w,r=M.x,N=M.y,D=M.z,n=M.w;return this.x=i*n+s*r+t*D-A*N,this.y=t*n+s*N+A*r-i*D,this.z=A*n+s*D+i*N-t*r,this.w=s*n-i*r-t*N-A*D,this},inverse:function(){return this.x*=-1,this.y*=-1,this.z*=-1,this.normalize(),this},normalize:function(){var e=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return 0===e?(this.x=0,this.y=0,this.z=0,this.w=1):(e=1/e,this.x=this.x*e,this.y=this.y*e,this.z=this.z*e,this.w=this.w*e),this},slerp:function(e,M){if(0===M)return this;if(1===M)return this.copy(e);var i=this.x,t=this.y,A=this.z,s=this.w,r=s*e.w+i*e.x+t*e.y+A*e.z;if(r<0?(this.w=-e.w,this.x=-e.x,this.y=-e.y,this.z=-e.z,r=-r):this.copy(e),r>=1)return this.w=s,this.x=i,this.y=t,this.z=A,this;var N=Math.acos(r),D=Math.sqrt(1-r*r);if(Math.abs(D)<.001)return this.w=.5*(s+this.w),this.x=.5*(i+this.x),this.y=.5*(t+this.y),this.z=.5*(A+this.z),this;var n=Math.sin((1-M)*N)/D,u=Math.sin(M*N)/D;return this.w=s*n+this.w*u,this.x=i*n+this.x*u,this.y=t*n+this.y*u,this.z=A*n+this.z*u,this},setFromUnitVectors:function(){var e,M,i=1e-6;return function(A,s){return void 0===e&&(e=new t.Vector3),M=A.dot(s)+1,M<i?(M=0,Math.abs(A.x)>Math.abs(A.z)?e.set(-A.y,A.x,0):e.set(0,-A.z,A.y)):e.crossVectors(A,s),this.x=e.x,this.y=e.y,this.z=e.z,this.w=M,this.normalize(),this}}()},M.exports=t},{}],15:[function(e,M,i){function t(){this.displayName=\\\"Mouse and Keyboard VRDisplay (webvr-polyfill)\\\",this.capabilities.hasOrientation=!0,window.addEventListener(\\\"keydown\\\",this.onKeyDown_.bind(this)),window.addEventListener(\\\"mousemove\\\",this.onMouseMove_.bind(this)),window.addEventListener(\\\"mousedown\\\",this.onMouseDown_.bind(this)),window.addEventListener(\\\"mouseup\\\",this.onMouseUp_.bind(this)),this.phi_=0,this.theta_=0,this.targetAngle_=null,this.angleAnimation_=null,this.orientation_=new s.Quaternion,this.rotateStart_=new s.Vector2,this.rotateEnd_=new s.Vector2,this.rotateDelta_=new s.Vector2,this.isDragging_=!1,this.orientationOut_=new Float32Array(4)}var A=e(\\\"./base.js\\\").VRDisplay,s=e(\\\"./math-util.js\\\"),r=e(\\\"./util.js\\\"),N=.15,D=80,n=.5,u=.3;t.prototype=new A,t.prototype.getImmediatePose=function(){return this.orientation_.setFromEulerYXZ(this.phi_,this.theta_,0),this.orientationOut_[0]=this.orientation_.x,this.orientationOut_[1]=this.orientation_.y,this.orientationOut_[2]=this.orientation_.z,this.orientationOut_[3]=this.orientation_.w,{position:null,orientation:this.orientationOut_,linearVelocity:null,linearAcceleration:null,angularVelocity:null,angularAcceleration:null}},t.prototype.onKeyDown_=function(e){38==e.keyCode?this.animatePhi_(this.phi_+N):39==e.keyCode?this.animateTheta_(this.theta_-N):40==e.keyCode?this.animatePhi_(this.phi_-N):37==e.keyCode&&this.animateTheta_(this.theta_+N)},t.prototype.animateTheta_=function(e){this.animateKeyTransitions_(\\\"theta_\\\",e)},t.prototype.animatePhi_=function(e){e=r.clamp(e,-Math.PI/2,Math.PI/2),this.animateKeyTransitions_(\\\"phi_\\\",e)},t.prototype.animateKeyTransitions_=function(e,M){this.angleAnimation_&&cancelAnimationFrame(this.angleAnimation_);var i=this[e],t=new Date;this.angleAnimation_=requestAnimationFrame(function A(){var s=new Date-t;if(s>=D)return this[e]=M,void cancelAnimationFrame(this.angleAnimation_);this.angleAnimation_=requestAnimationFrame(A.bind(this));var r=s/D;this[e]=i+(M-i)*r}.bind(this))},t.prototype.onMouseDown_=function(e){this.rotateStart_.set(e.clientX,e.clientY),this.isDragging_=!0},t.prototype.onMouseMove_=function(e){if(this.isDragging_||this.isPointerLocked_()){if(this.isPointerLocked_()){var M=e.movementX||e.mozMovementX||0,i=e.movementY||e.mozMovementY||0;this.rotateEnd_.set(this.rotateStart_.x-M,this.rotateStart_.y-i)}else this.rotateEnd_.set(e.clientX,e.clientY);this.rotateDelta_.subVectors(this.rotateEnd_,this.rotateStart_),this.rotateStart_.copy(this.rotateEnd_),this.phi_+=2*Math.PI*this.rotateDelta_.y/screen.height*u,this.theta_+=2*Math.PI*this.rotateDelta_.x/screen.width*n,this.phi_=r.clamp(this.phi_,-Math.PI/2,Math.PI/2)}},t.prototype.onMouseUp_=function(e){this.isDragging_=!1},t.prototype.isPointerLocked_=function(){var e=document.pointerLockElement||document.mozPointerLockElement||document.webkitPointerLockElement;return void 0!==e},t.prototype.resetPose=function(){this.phi_=0,this.theta_=0},M.exports=t},{\\\"./base.js\\\":2,\\\"./math-util.js\\\":14,\\\"./util.js\\\":22}],16:[function(e,M,i){function t(){this.loadIcon_();var e=document.createElement(\\\"div\\\"),M=e.style;M.position=\\\"fixed\\\",M.top=0,M.right=0,M.bottom=0,M.left=0,M.backgroundColor=\\\"gray\\\",M.fontFamily=\\\"sans-serif\\\",M.zIndex=1e6;var i=document.createElement(\\\"img\\\");i.src=this.icon;var M=i.style;M.marginLeft=\\\"25%\\\",M.marginTop=\\\"25%\\\",M.width=\\\"50%\\\",e.appendChild(i);var t=document.createElement(\\\"div\\\"),M=t.style;M.textAlign=\\\"center\\\",M.fontSize=\\\"16px\\\",M.lineHeight=\\\"24px\\\",M.margin=\\\"24px 25%\\\",M.width=\\\"50%\\\",t.innerHTML=\\\"Place your phone into your Cardboard viewer.\\\",e.appendChild(t);var A=document.createElement(\\\"div\\\"),M=A.style;M.backgroundColor=\\\"#CFD8DC\\\",M.position=\\\"fixed\\\",M.bottom=0,M.width=\\\"100%\\\",M.height=\\\"48px\\\",M.padding=\\\"14px 24px\\\",M.boxSizing=\\\"border-box\\\",M.color=\\\"#656A6B\\\",e.appendChild(A);var s=document.createElement(\\\"div\\\");s.style.float=\\\"left\\\",s.innerHTML=\\\"No Cardboard viewer?\\\";var r=document.createElement(\\\"a\\\");r.href=\\\"https://www.google.com/get/cardboard/get-cardboard/\\\",r.innerHTML=\\\"get one\\\",r.target=\\\"_blank\\\";var M=r.style;M.float=\\\"right\\\",M.fontWeight=600,M.textTransform=\\\"uppercase\\\",M.borderLeft=\\\"1px solid gray\\\",M.paddingLeft=\\\"24px\\\",M.textDecoration=\\\"none\\\",M.color=\\\"#656A6B\\\",A.appendChild(s),A.appendChild(r),this.overlay=e,this.text=t,this.hide()}var A=e(\\\"./util.js\\\");t.prototype.show=function(e){e||this.overlay.parentElement?e&&(this.overlay.parentElement&&this.overlay.parentElement!=e&&this.overlay.parentElement.removeChild(this.overlay),e.appendChild(this.overlay)):document.body.appendChild(this.overlay),this.overlay.style.display=\\\"block\\\";var M=this.overlay.querySelector(\\\"img\\\"),i=M.style;A.isLandscapeMode()?(i.width=\\\"20%\\\",i.marginLeft=\\\"40%\\\",i.marginTop=\\\"3%\\\"):(i.width=\\\"50%\\\",i.marginLeft=\\\"25%\\\",i.marginTop=\\\"25%\\\")},t.prototype.hide=function(){this.overlay.style.display=\\\"none\\\"},t.prototype.showTemporarily=function(e,M){this.show(M),this.timer=setTimeout(this.hide.bind(this),e)},t.prototype.disableShowTemporarily=function(){clearTimeout(this.timer)},t.prototype.update=function(){this.disableShowTemporarily(),!A.isLandscapeMode()&&A.isMobile()?this.show():this.hide()},t.prototype.loadIcon_=function(){this.icon=A.base64(\\\"image/svg+xml\\\",\\\"PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjE5OHB4IiBoZWlnaHQ9IjI0MHB4IiB2aWV3Qm94PSIwIDAgMTk4IDI0MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4bWxuczpza2V0Y2g9Imh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaC9ucyI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDMuMy4zICgxMjA4MSkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+dHJhbnNpdGlvbjwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPjwvZGVmcz4KICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHNrZXRjaDp0eXBlPSJNU1BhZ2UiPgogICAgICAgIDxnIGlkPSJ0cmFuc2l0aW9uIiBza2V0Y2g6dHlwZT0iTVNBcnRib2FyZEdyb3VwIj4KICAgICAgICAgICAgPGcgaWQ9IkltcG9ydGVkLUxheWVycy1Db3B5LTQtKy1JbXBvcnRlZC1MYXllcnMtQ29weS0rLUltcG9ydGVkLUxheWVycy1Db3B5LTItQ29weSIgc2tldGNoOnR5cGU9Ik1TTGF5ZXJHcm91cCI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iSW1wb3J0ZWQtTGF5ZXJzLUNvcHktNCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDEwNy4wMDAwMDApIiBza2V0Y2g6dHlwZT0iTVNTaGFwZUdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ5LjYyNSwyLjUyNyBDMTQ5LjYyNSwyLjUyNyAxNTUuODA1LDYuMDk2IDE1Ni4zNjIsNi40MTggTDE1Ni4zNjIsNy4zMDQgQzE1Ni4zNjIsNy40ODEgMTU2LjM3NSw3LjY2NCAxNTYuNCw3Ljg1MyBDMTU2LjQxLDcuOTM0IDE1Ni40Miw4LjAxNSAxNTYuNDI3LDguMDk1IEMxNTYuNTY3LDkuNTEgMTU3LjQwMSwxMS4wOTMgMTU4LjUzMiwxMi4wOTQgTDE2NC4yNTIsMTcuMTU2IEwxNjQuMzMzLDE3LjA2NiBDMTY0LjMzMywxNy4wNjYgMTY4LjcxNSwxNC41MzYgMTY5LjU2OCwxNC4wNDIgQzE3MS4wMjUsMTQuODgzIDE5NS41MzgsMjkuMDM1IDE5NS41MzgsMjkuMDM1IEwxOTUuNTM4LDgzLjAzNiBDMTk1LjUzOCw4My44MDcgMTk1LjE1Miw4NC4yNTMgMTk0LjU5LDg0LjI1MyBDMTk0LjM1Nyw4NC4yNTMgMTk0LjA5NSw4NC4xNzcgMTkzLjgxOCw4NC4wMTcgTDE2OS44NTEsNzAuMTc5IEwxNjkuODM3LDcwLjIwMyBMMTQyLjUxNSw4NS45NzggTDE0MS42NjUsODQuNjU1IEMxMzYuOTM0LDgzLjEyNiAxMzEuOTE3LDgxLjkxNSAxMjYuNzE0LDgxLjA0NSBDMTI2LjcwOSw4MS4wNiAxMjYuNzA3LDgxLjA2OSAxMjYuNzA3LDgxLjA2OSBMMTIxLjY0LDk4LjAzIEwxMTMuNzQ5LDEwMi41ODYgTDExMy43MTIsMTAyLjUyMyBMMTEzLjcxMiwxMzAuMTEzIEMxMTMuNzEyLDEzMC44ODUgMTEzLjMyNiwxMzEuMzMgMTEyLjc2NCwxMzEuMzMgQzExMi41MzIsMTMxLjMzIDExMi4yNjksMTMxLjI1NCAxMTEuOTkyLDEzMS4wOTQgTDY5LjUxOSwxMDYuNTcyIEM2OC41NjksMTA2LjAyMyA2Ny43OTksMTA0LjY5NSA2Ny43OTksMTAzLjYwNSBMNjcuNzk5LDEwMi41NyBMNjcuNzc4LDEwMi42MTcgQzY3LjI3LDEwMi4zOTMgNjYuNjQ4LDEwMi4yNDkgNjUuOTYyLDEwMi4yMTggQzY1Ljg3NSwxMDIuMjE0IDY1Ljc4OCwxMDIuMjEyIDY1LjcwMSwxMDIuMjEyIEM2NS42MDYsMTAyLjIxMiA2NS41MTEsMTAyLjIxNSA2NS40MTYsMTAyLjIxOSBDNjUuMTk1LDEwMi4yMjkgNjQuOTc0LDEwMi4yMzUgNjQuNzU0LDEwMi4yMzUgQzY0LjMzMSwxMDIuMjM1IDYzLjkxMSwxMDIuMjE2IDYzLjQ5OCwxMDIuMTc4IEM2MS44NDMsMTAyLjAyNSA2MC4yOTgsMTAxLjU3OCA1OS4wOTQsMTAwLjg4MiBMMTIuNTE4LDczLjk5MiBMMTIuNTIzLDc0LjAwNCBMMi4yNDUsNTUuMjU0IEMxLjI0NCw1My40MjcgMi4wMDQsNTEuMDM4IDMuOTQzLDQ5LjkxOCBMNTkuOTU0LDE3LjU3MyBDNjAuNjI2LDE3LjE4NSA2MS4zNSwxNy4wMDEgNjIuMDUzLDE3LjAwMSBDNjMuMzc5LDE3LjAwMSA2NC42MjUsMTcuNjYgNjUuMjgsMTguODU0IEw2NS4yODUsMTguODUxIEw2NS41MTIsMTkuMjY0IEw2NS41MDYsMTkuMjY4IEM2NS45MDksMjAuMDAzIDY2LjQwNSwyMC42OCA2Ni45ODMsMjEuMjg2IEw2Ny4yNiwyMS41NTYgQzY5LjE3NCwyMy40MDYgNzEuNzI4LDI0LjM1NyA3NC4zNzMsMjQuMzU3IEM3Ni4zMjIsMjQuMzU3IDc4LjMyMSwyMy44NCA4MC4xNDgsMjIuNzg1IEM4MC4xNjEsMjIuNzg1IDg3LjQ2NywxOC41NjYgODcuNDY3LDE4LjU2NiBDODguMTM5LDE4LjE3OCA4OC44NjMsMTcuOTk0IDg5LjU2NiwxNy45OTQgQzkwLjg5MiwxNy45OTQgOTIuMTM4LDE4LjY1MiA5Mi43OTIsMTkuODQ3IEw5Ni4wNDIsMjUuNzc1IEw5Ni4wNjQsMjUuNzU3IEwxMDIuODQ5LDI5LjY3NCBMMTAyLjc0NCwyOS40OTIgTDE0OS42MjUsMi41MjcgTTE0OS42MjUsMC44OTIgQzE0OS4zNDMsMC44OTIgMTQ5LjA2MiwwLjk2NSAxNDguODEsMS4xMSBMMTAyLjY0MSwyNy42NjYgTDk3LjIzMSwyNC41NDIgTDk0LjIyNiwxOS4wNjEgQzkzLjMxMywxNy4zOTQgOTEuNTI3LDE2LjM1OSA4OS41NjYsMTYuMzU4IEM4OC41NTUsMTYuMzU4IDg3LjU0NiwxNi42MzIgODYuNjQ5LDE3LjE1IEM4My44NzgsMTguNzUgNzkuNjg3LDIxLjE2OSA3OS4zNzQsMjEuMzQ1IEM3OS4zNTksMjEuMzUzIDc5LjM0NSwyMS4zNjEgNzkuMzMsMjEuMzY5IEM3Ny43OTgsMjIuMjU0IDc2LjA4NCwyMi43MjIgNzQuMzczLDIyLjcyMiBDNzIuMDgxLDIyLjcyMiA2OS45NTksMjEuODkgNjguMzk3LDIwLjM4IEw2OC4xNDUsMjAuMTM1IEM2Ny43MDYsMTkuNjcyIDY3LjMyMywxOS4xNTYgNjcuMDA2LDE4LjYwMSBDNjYuOTg4LDE4LjU1OSA2Ni45NjgsMTguNTE5IDY2Ljk0NiwxOC40NzkgTDY2LjcxOSwxOC4wNjUgQzY2LjY5LDE4LjAxMiA2Ni42NTgsMTcuOTYgNjYuNjI0LDE3LjkxMSBDNjUuNjg2LDE2LjMzNyA2My45NTEsMTUuMzY2IDYyLjA1MywxNS4zNjYgQzYxLjA0MiwxNS4zNjYgNjAuMDMzLDE1LjY0IDU5LjEzNiwxNi4xNTggTDMuMTI1LDQ4LjUwMiBDMC40MjYsNTAuMDYxIC0wLjYxMyw1My40NDIgMC44MTEsNTYuMDQgTDExLjA4OSw3NC43OSBDMTEuMjY2LDc1LjExMyAxMS41MzcsNzUuMzUzIDExLjg1LDc1LjQ5NCBMNTguMjc2LDEwMi4yOTggQzU5LjY3OSwxMDMuMTA4IDYxLjQzMywxMDMuNjMgNjMuMzQ4LDEwMy44MDYgQzYzLjgxMiwxMDMuODQ4IDY0LjI4NSwxMDMuODcgNjQuNzU0LDEwMy44NyBDNjUsMTAzLjg3IDY1LjI0OSwxMDMuODY0IDY1LjQ5NCwxMDMuODUyIEM2NS41NjMsMTAzLjg0OSA2NS42MzIsMTAzLjg0NyA2NS43MDEsMTAzLjg0NyBDNjUuNzY0LDEwMy44NDcgNjUuODI4LDEwMy44NDkgNjUuODksMTAzLjg1MiBDNjUuOTg2LDEwMy44NTYgNjYuMDgsMTAzLjg2MyA2Ni4xNzMsMTAzLjg3NCBDNjYuMjgyLDEwNS40NjcgNjcuMzMyLDEwNy4xOTcgNjguNzAyLDEwNy45ODggTDExMS4xNzQsMTMyLjUxIEMxMTEuNjk4LDEzMi44MTIgMTEyLjIzMiwxMzIuOTY1IDExMi43NjQsMTMyLjk2NSBDMTE0LjI2MSwxMzIuOTY1IDExNS4zNDcsMTMxLjc2NSAxMTUuMzQ3LDEzMC4xMTMgTDExNS4zNDcsMTAzLjU1MSBMMTIyLjQ1OCw5OS40NDYgQzEyMi44MTksOTkuMjM3IDEyMy4wODcsOTguODk4IDEyMy4yMDcsOTguNDk4IEwxMjcuODY1LDgyLjkwNSBDMTMyLjI3OSw4My43MDIgMTM2LjU1Nyw4NC43NTMgMTQwLjYwNyw4Ni4wMzMgTDE0MS4xNCw4Ni44NjIgQzE0MS40NTEsODcuMzQ2IDE0MS45NzcsODcuNjEzIDE0Mi41MTYsODcuNjEzIEMxNDIuNzk0LDg3LjYxMyAxNDMuMDc2LDg3LjU0MiAxNDMuMzMzLDg3LjM5MyBMMTY5Ljg2NSw3Mi4wNzYgTDE5Myw4NS40MzMgQzE5My41MjMsODUuNzM1IDE5NC4wNTgsODUuODg4IDE5NC41OSw4NS44ODggQzE5Ni4wODcsODUuODg4IDE5Ny4xNzMsODQuNjg5IDE5Ny4xNzMsODMuMDM2IEwxOTcuMTczLDI5LjAzNSBDMTk3LjE3MywyOC40NTEgMTk2Ljg2MSwyNy45MTEgMTk2LjM1NSwyNy42MTkgQzE5Ni4zNTUsMjcuNjE5IDE3MS44NDMsMTMuNDY3IDE3MC4zODUsMTIuNjI2IEMxNzAuMTMyLDEyLjQ4IDE2OS44NSwxMi40MDcgMTY5LjU2OCwxMi40MDcgQzE2OS4yODUsMTIuNDA3IDE2OS4wMDIsMTIuNDgxIDE2OC43NDksMTIuNjI3IEMxNjguMTQzLDEyLjk3OCAxNjUuNzU2LDE0LjM1NyAxNjQuNDI0LDE1LjEyNSBMMTU5LjYxNSwxMC44NyBDMTU4Ljc5NiwxMC4xNDUgMTU4LjE1NCw4LjkzNyAxNTguMDU0LDcuOTM0IEMxNTguMDQ1LDcuODM3IDE1OC4wMzQsNy43MzkgMTU4LjAyMSw3LjY0IEMxNTguMDA1LDcuNTIzIDE1Ny45OTgsNy40MSAxNTcuOTk4LDcuMzA0IEwxNTcuOTk4LDYuNDE4IEMxNTcuOTk4LDUuODM0IDE1Ny42ODYsNS4yOTUgMTU3LjE4MSw1LjAwMiBDMTU2LjYyNCw0LjY4IDE1MC40NDIsMS4xMTEgMTUwLjQ0MiwxLjExMSBDMTUwLjE4OSwwLjk2NSAxNDkuOTA3LDAuODkyIDE0OS42MjUsMC44OTIiIGlkPSJGaWxsLTEiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTYuMDI3LDI1LjYzNiBMMTQyLjYwMyw1Mi41MjcgQzE0My44MDcsNTMuMjIyIDE0NC41ODIsNTQuMTE0IDE0NC44NDUsNTUuMDY4IEwxNDQuODM1LDU1LjA3NSBMNjMuNDYxLDEwMi4wNTcgTDYzLjQ2LDEwMi4wNTcgQzYxLjgwNiwxMDEuOTA1IDYwLjI2MSwxMDEuNDU3IDU5LjA1NywxMDAuNzYyIEwxMi40ODEsNzMuODcxIEw5Ni4wMjcsMjUuNjM2IiBpZD0iRmlsbC0yIiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTYzLjQ2MSwxMDIuMTc0IEM2My40NTMsMTAyLjE3NCA2My40NDYsMTAyLjE3NCA2My40MzksMTAyLjE3MiBDNjEuNzQ2LDEwMi4wMTYgNjAuMjExLDEwMS41NjMgNTguOTk4LDEwMC44NjMgTDEyLjQyMiw3My45NzMgQzEyLjM4Niw3My45NTIgMTIuMzY0LDczLjkxNCAxMi4zNjQsNzMuODcxIEMxMi4zNjQsNzMuODMgMTIuMzg2LDczLjc5MSAxMi40MjIsNzMuNzcgTDk1Ljk2OCwyNS41MzUgQzk2LjAwNCwyNS41MTQgOTYuMDQ5LDI1LjUxNCA5Ni4wODUsMjUuNTM1IEwxNDIuNjYxLDUyLjQyNiBDMTQzLjg4OCw1My4xMzQgMTQ0LjY4Miw1NC4wMzggMTQ0Ljk1Nyw1NS4wMzcgQzE0NC45Nyw1NS4wODMgMTQ0Ljk1Myw1NS4xMzMgMTQ0LjkxNSw1NS4xNjEgQzE0NC45MTEsNTUuMTY1IDE0NC44OTgsNTUuMTc0IDE0NC44OTQsNTUuMTc3IEw2My41MTksMTAyLjE1OCBDNjMuNTAxLDEwMi4xNjkgNjMuNDgxLDEwMi4xNzQgNjMuNDYxLDEwMi4xNzQgTDYzLjQ2MSwxMDIuMTc0IFogTTEyLjcxNCw3My44NzEgTDU5LjExNSwxMDAuNjYxIEM2MC4yOTMsMTAxLjM0MSA2MS43ODYsMTAxLjc4MiA2My40MzUsMTAxLjkzNyBMMTQ0LjcwNyw1NS4wMTUgQzE0NC40MjgsNTQuMTA4IDE0My42ODIsNTMuMjg1IDE0Mi41NDQsNTIuNjI4IEw5Ni4wMjcsMjUuNzcxIEwxMi43MTQsNzMuODcxIEwxMi43MTQsNzMuODcxIFoiIGlkPSJGaWxsLTMiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ4LjMyNyw1OC40NzEgQzE0OC4xNDUsNTguNDggMTQ3Ljk2Miw1OC40OCAxNDcuNzgxLDU4LjQ3MiBDMTQ1Ljg4Nyw1OC4zODkgMTQ0LjQ3OSw1Ny40MzQgMTQ0LjYzNiw1Ni4zNCBDMTQ0LjY4OSw1NS45NjcgMTQ0LjY2NCw1NS41OTcgMTQ0LjU2NCw1NS4yMzUgTDYzLjQ2MSwxMDIuMDU3IEM2NC4wODksMTAyLjExNSA2NC43MzMsMTAyLjEzIDY1LjM3OSwxMDIuMDk5IEM2NS41NjEsMTAyLjA5IDY1Ljc0MywxMDIuMDkgNjUuOTI1LDEwMi4wOTggQzY3LjgxOSwxMDIuMTgxIDY5LjIyNywxMDMuMTM2IDY5LjA3LDEwNC4yMyBMMTQ4LjMyNyw1OC40NzEiIGlkPSJGaWxsLTQiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNjkuMDcsMTA0LjM0NyBDNjkuMDQ4LDEwNC4zNDcgNjkuMDI1LDEwNC4zNCA2OS4wMDUsMTA0LjMyNyBDNjguOTY4LDEwNC4zMDEgNjguOTQ4LDEwNC4yNTcgNjguOTU1LDEwNC4yMTMgQzY5LDEwMy44OTYgNjguODk4LDEwMy41NzYgNjguNjU4LDEwMy4yODggQzY4LjE1MywxMDIuNjc4IDY3LjEwMywxMDIuMjY2IDY1LjkyLDEwMi4yMTQgQzY1Ljc0MiwxMDIuMjA2IDY1LjU2MywxMDIuMjA3IDY1LjM4NSwxMDIuMjE1IEM2NC43NDIsMTAyLjI0NiA2NC4wODcsMTAyLjIzMiA2My40NSwxMDIuMTc0IEM2My4zOTksMTAyLjE2OSA2My4zNTgsMTAyLjEzMiA2My4zNDcsMTAyLjA4MiBDNjMuMzM2LDEwMi4wMzMgNjMuMzU4LDEwMS45ODEgNjMuNDAyLDEwMS45NTYgTDE0NC41MDYsNTUuMTM0IEMxNDQuNTM3LDU1LjExNiAxNDQuNTc1LDU1LjExMyAxNDQuNjA5LDU1LjEyNyBDMTQ0LjY0Miw1NS4xNDEgMTQ0LjY2OCw1NS4xNyAxNDQuNjc3LDU1LjIwNCBDMTQ0Ljc4MSw1NS41ODUgMTQ0LjgwNiw1NS45NzIgMTQ0Ljc1MSw1Ni4zNTcgQzE0NC43MDYsNTYuNjczIDE0NC44MDgsNTYuOTk0IDE0NS4wNDcsNTcuMjgyIEMxNDUuNTUzLDU3Ljg5MiAxNDYuNjAyLDU4LjMwMyAxNDcuNzg2LDU4LjM1NSBDMTQ3Ljk2NCw1OC4zNjMgMTQ4LjE0Myw1OC4zNjMgMTQ4LjMyMSw1OC4zNTQgQzE0OC4zNzcsNTguMzUyIDE0OC40MjQsNTguMzg3IDE0OC40MzksNTguNDM4IEMxNDguNDU0LDU4LjQ5IDE0OC40MzIsNTguNTQ1IDE0OC4zODUsNTguNTcyIEw2OS4xMjksMTA0LjMzMSBDNjkuMTExLDEwNC4zNDIgNjkuMDksMTA0LjM0NyA2OS4wNywxMDQuMzQ3IEw2OS4wNywxMDQuMzQ3IFogTTY1LjY2NSwxMDEuOTc1IEM2NS43NTQsMTAxLjk3NSA2NS44NDIsMTAxLjk3NyA2NS45MywxMDEuOTgxIEM2Ny4xOTYsMTAyLjAzNyA2OC4yODMsMTAyLjQ2OSA2OC44MzgsMTAzLjEzOSBDNjkuMDY1LDEwMy40MTMgNjkuMTg4LDEwMy43MTQgNjkuMTk4LDEwNC4wMjEgTDE0Ny44ODMsNTguNTkyIEMxNDcuODQ3LDU4LjU5MiAxNDcuODExLDU4LjU5MSAxNDcuNzc2LDU4LjU4OSBDMTQ2LjUwOSw1OC41MzMgMTQ1LjQyMiw1OC4xIDE0NC44NjcsNTcuNDMxIEMxNDQuNTg1LDU3LjA5MSAxNDQuNDY1LDU2LjcwNyAxNDQuNTIsNTYuMzI0IEMxNDQuNTYzLDU2LjAyMSAxNDQuNTUyLDU1LjcxNiAxNDQuNDg4LDU1LjQxNCBMNjMuODQ2LDEwMS45NyBDNjQuMzUzLDEwMi4wMDIgNjQuODY3LDEwMi4wMDYgNjUuMzc0LDEwMS45ODIgQzY1LjQ3MSwxMDEuOTc3IDY1LjU2OCwxMDEuOTc1IDY1LjY2NSwxMDEuOTc1IEw2NS42NjUsMTAxLjk3NSBaIiBpZD0iRmlsbC01IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTIuMjA4LDU1LjEzNCBDMS4yMDcsNTMuMzA3IDEuOTY3LDUwLjkxNyAzLjkwNiw0OS43OTcgTDU5LjkxNywxNy40NTMgQzYxLjg1NiwxNi4zMzMgNjQuMjQxLDE2LjkwNyA2NS4yNDMsMTguNzM0IEw2NS40NzUsMTkuMTQ0IEM2NS44NzIsMTkuODgyIDY2LjM2OCwyMC41NiA2Ni45NDUsMjEuMTY1IEw2Ny4yMjMsMjEuNDM1IEM3MC41NDgsMjQuNjQ5IDc1LjgwNiwyNS4xNTEgODAuMTExLDIyLjY2NSBMODcuNDMsMTguNDQ1IEM4OS4zNywxNy4zMjYgOTEuNzU0LDE3Ljg5OSA5Mi43NTUsMTkuNzI3IEw5Ni4wMDUsMjUuNjU1IEwxMi40ODYsNzMuODg0IEwyLjIwOCw1NS4xMzQgWiIgaWQ9IkZpbGwtNiIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMi40ODYsNzQuMDAxIEMxMi40NzYsNzQuMDAxIDEyLjQ2NSw3My45OTkgMTIuNDU1LDczLjk5NiBDMTIuNDI0LDczLjk4OCAxMi4zOTksNzMuOTY3IDEyLjM4NCw3My45NCBMMi4xMDYsNTUuMTkgQzEuMDc1LDUzLjMxIDEuODU3LDUwLjg0NSAzLjg0OCw0OS42OTYgTDU5Ljg1OCwxNy4zNTIgQzYwLjUyNSwxNi45NjcgNjEuMjcxLDE2Ljc2NCA2Mi4wMTYsMTYuNzY0IEM2My40MzEsMTYuNzY0IDY0LjY2NiwxNy40NjYgNjUuMzI3LDE4LjY0NiBDNjUuMzM3LDE4LjY1NCA2NS4zNDUsMTguNjYzIDY1LjM1MSwxOC42NzQgTDY1LjU3OCwxOS4wODggQzY1LjU4NCwxOS4xIDY1LjU4OSwxOS4xMTIgNjUuNTkxLDE5LjEyNiBDNjUuOTg1LDE5LjgzOCA2Ni40NjksMjAuNDk3IDY3LjAzLDIxLjA4NSBMNjcuMzA1LDIxLjM1MSBDNjkuMTUxLDIzLjEzNyA3MS42NDksMjQuMTIgNzQuMzM2LDI0LjEyIEM3Ni4zMTMsMjQuMTIgNzguMjksMjMuNTgyIDgwLjA1MywyMi41NjMgQzgwLjA2NCwyMi41NTcgODAuMDc2LDIyLjU1MyA4MC4wODgsMjIuNTUgTDg3LjM3MiwxOC4zNDQgQzg4LjAzOCwxNy45NTkgODguNzg0LDE3Ljc1NiA4OS41MjksMTcuNzU2IEM5MC45NTYsMTcuNzU2IDkyLjIwMSwxOC40NzIgOTIuODU4LDE5LjY3IEw5Ni4xMDcsMjUuNTk5IEM5Ni4xMzgsMjUuNjU0IDk2LjExOCwyNS43MjQgOTYuMDYzLDI1Ljc1NiBMMTIuNTQ1LDczLjk4NSBDMTIuNTI2LDczLjk5NiAxMi41MDYsNzQuMDAxIDEyLjQ4Niw3NC4wMDEgTDEyLjQ4Niw3NC4wMDEgWiBNNjIuMDE2LDE2Ljk5NyBDNjEuMzEyLDE2Ljk5NyA2MC42MDYsMTcuMTkgNTkuOTc1LDE3LjU1NCBMMy45NjUsNDkuODk5IEMyLjA4Myw1MC45ODUgMS4zNDEsNTMuMzA4IDIuMzEsNTUuMDc4IEwxMi41MzEsNzMuNzIzIEw5NS44NDgsMjUuNjExIEw5Mi42NTMsMTkuNzgyIEM5Mi4wMzgsMTguNjYgOTAuODcsMTcuOTkgODkuNTI5LDE3Ljk5IEM4OC44MjUsMTcuOTkgODguMTE5LDE4LjE4MiA4Ny40ODksMTguNTQ3IEw4MC4xNzIsMjIuNzcyIEM4MC4xNjEsMjIuNzc4IDgwLjE0OSwyMi43ODIgODAuMTM3LDIyLjc4NSBDNzguMzQ2LDIzLjgxMSA3Ni4zNDEsMjQuMzU0IDc0LjMzNiwyNC4zNTQgQzcxLjU4OCwyNC4zNTQgNjkuMDMzLDIzLjM0NyA2Ny4xNDIsMjEuNTE5IEw2Ni44NjQsMjEuMjQ5IEM2Ni4yNzcsMjAuNjM0IDY1Ljc3NCwxOS45NDcgNjUuMzY3LDE5LjIwMyBDNjUuMzYsMTkuMTkyIDY1LjM1NiwxOS4xNzkgNjUuMzU0LDE5LjE2NiBMNjUuMTYzLDE4LjgxOSBDNjUuMTU0LDE4LjgxMSA2NS4xNDYsMTguODAxIDY1LjE0LDE4Ljc5IEM2NC41MjUsMTcuNjY3IDYzLjM1NywxNi45OTcgNjIuMDE2LDE2Ljk5NyBMNjIuMDE2LDE2Ljk5NyBaIiBpZD0iRmlsbC03IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTQyLjQzNCw0OC44MDggTDQyLjQzNCw0OC44MDggQzM5LjkyNCw0OC44MDcgMzcuNzM3LDQ3LjU1IDM2LjU4Miw0NS40NDMgQzM0Ljc3MSw0Mi4xMzkgMzYuMTQ0LDM3LjgwOSAzOS42NDEsMzUuNzg5IEw1MS45MzIsMjguNjkxIEM1My4xMDMsMjguMDE1IDU0LjQxMywyNy42NTggNTUuNzIxLDI3LjY1OCBDNTguMjMxLDI3LjY1OCA2MC40MTgsMjguOTE2IDYxLjU3MywzMS4wMjMgQzYzLjM4NCwzNC4zMjcgNjIuMDEyLDM4LjY1NyA1OC41MTQsNDAuNjc3IEw0Ni4yMjMsNDcuNzc1IEM0NS4wNTMsNDguNDUgNDMuNzQyLDQ4LjgwOCA0Mi40MzQsNDguODA4IEw0Mi40MzQsNDguODA4IFogTTU1LjcyMSwyOC4xMjUgQzU0LjQ5NSwyOC4xMjUgNTMuMjY1LDI4LjQ2MSA1Mi4xNjYsMjkuMDk2IEwzOS44NzUsMzYuMTk0IEMzNi41OTYsMzguMDg3IDM1LjMwMiw0Mi4xMzYgMzYuOTkyLDQ1LjIxOCBDMzguMDYzLDQ3LjE3MyA0MC4wOTgsNDguMzQgNDIuNDM0LDQ4LjM0IEM0My42NjEsNDguMzQgNDQuODksNDguMDA1IDQ1Ljk5LDQ3LjM3IEw1OC4yODEsNDAuMjcyIEM2MS41NiwzOC4zNzkgNjIuODUzLDM0LjMzIDYxLjE2NCwzMS4yNDggQzYwLjA5MiwyOS4yOTMgNTguMDU4LDI4LjEyNSA1NS43MjEsMjguMTI1IEw1NS43MjEsMjguMTI1IFoiIGlkPSJGaWxsLTgiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ5LjU4OCwyLjQwNyBDMTQ5LjU4OCwyLjQwNyAxNTUuNzY4LDUuOTc1IDE1Ni4zMjUsNi4yOTcgTDE1Ni4zMjUsNy4xODQgQzE1Ni4zMjUsNy4zNiAxNTYuMzM4LDcuNTQ0IDE1Ni4zNjIsNy43MzMgQzE1Ni4zNzMsNy44MTQgMTU2LjM4Miw3Ljg5NCAxNTYuMzksNy45NzUgQzE1Ni41Myw5LjM5IDE1Ny4zNjMsMTAuOTczIDE1OC40OTUsMTEuOTc0IEwxNjUuODkxLDE4LjUxOSBDMTY2LjA2OCwxOC42NzUgMTY2LjI0OSwxOC44MTQgMTY2LjQzMiwxOC45MzQgQzE2OC4wMTEsMTkuOTc0IDE2OS4zODIsMTkuNCAxNjkuNDk0LDE3LjY1MiBDMTY5LjU0MywxNi44NjggMTY5LjU1MSwxNi4wNTcgMTY5LjUxNywxNS4yMjMgTDE2OS41MTQsMTUuMDYzIEwxNjkuNTE0LDEzLjkxMiBDMTcwLjc4LDE0LjY0MiAxOTUuNTAxLDI4LjkxNSAxOTUuNTAxLDI4LjkxNSBMMTk1LjUwMSw4Mi45MTUgQzE5NS41MDEsODQuMDA1IDE5NC43MzEsODQuNDQ1IDE5My43ODEsODMuODk3IEwxNTEuMzA4LDU5LjM3NCBDMTUwLjM1OCw1OC44MjYgMTQ5LjU4OCw1Ny40OTcgMTQ5LjU4OCw1Ni40MDggTDE0OS41ODgsMjIuMzc1IiBpZD0iRmlsbC05IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE5NC41NTMsODQuMjUgQzE5NC4yOTYsODQuMjUgMTk0LjAxMyw4NC4xNjUgMTkzLjcyMiw4My45OTcgTDE1MS4yNSw1OS40NzYgQzE1MC4yNjksNTguOTA5IDE0OS40NzEsNTcuNTMzIDE0OS40NzEsNTYuNDA4IEwxNDkuNDcxLDIyLjM3NSBMMTQ5LjcwNSwyMi4zNzUgTDE0OS43MDUsNTYuNDA4IEMxNDkuNzA1LDU3LjQ1OSAxNTAuNDUsNTguNzQ0IDE1MS4zNjYsNTkuMjc0IEwxOTMuODM5LDgzLjc5NSBDMTk0LjI2Myw4NC4wNCAxOTQuNjU1LDg0LjA4MyAxOTQuOTQyLDgzLjkxNyBDMTk1LjIyNyw4My43NTMgMTk1LjM4NCw4My4zOTcgMTk1LjM4NCw4Mi45MTUgTDE5NS4zODQsMjguOTgyIEMxOTQuMTAyLDI4LjI0MiAxNzIuMTA0LDE1LjU0MiAxNjkuNjMxLDE0LjExNCBMMTY5LjYzNCwxNS4yMiBDMTY5LjY2OCwxNi4wNTIgMTY5LjY2LDE2Ljg3NCAxNjkuNjEsMTcuNjU5IEMxNjkuNTU2LDE4LjUwMyAxNjkuMjE0LDE5LjEyMyAxNjguNjQ3LDE5LjQwNSBDMTY4LjAyOCwxOS43MTQgMTY3LjE5NywxOS41NzggMTY2LjM2NywxOS4wMzIgQzE2Ni4xODEsMTguOTA5IDE2NS45OTUsMTguNzY2IDE2NS44MTQsMTguNjA2IEwxNTguNDE3LDEyLjA2MiBDMTU3LjI1OSwxMS4wMzYgMTU2LjQxOCw5LjQzNyAxNTYuMjc0LDcuOTg2IEMxNTYuMjY2LDcuOTA3IDE1Ni4yNTcsNy44MjcgMTU2LjI0Nyw3Ljc0OCBDMTU2LjIyMSw3LjU1NSAxNTYuMjA5LDcuMzY1IDE1Ni4yMDksNy4xODQgTDE1Ni4yMDksNi4zNjQgQzE1NS4zNzUsNS44ODMgMTQ5LjUyOSwyLjUwOCAxNDkuNTI5LDIuNTA4IEwxNDkuNjQ2LDIuMzA2IEMxNDkuNjQ2LDIuMzA2IDE1NS44MjcsNS44NzQgMTU2LjM4NCw2LjE5NiBMMTU2LjQ0Miw2LjIzIEwxNTYuNDQyLDcuMTg0IEMxNTYuNDQyLDcuMzU1IDE1Ni40NTQsNy41MzUgMTU2LjQ3OCw3LjcxNyBDMTU2LjQ4OSw3LjggMTU2LjQ5OSw3Ljg4MiAxNTYuNTA3LDcuOTYzIEMxNTYuNjQ1LDkuMzU4IDE1Ny40NTUsMTAuODk4IDE1OC41NzIsMTEuODg2IEwxNjUuOTY5LDE4LjQzMSBDMTY2LjE0MiwxOC41ODQgMTY2LjMxOSwxOC43MiAxNjYuNDk2LDE4LjgzNyBDMTY3LjI1NCwxOS4zMzYgMTY4LDE5LjQ2NyAxNjguNTQzLDE5LjE5NiBDMTY5LjAzMywxOC45NTMgMTY5LjMyOSwxOC40MDEgMTY5LjM3NywxNy42NDUgQzE2OS40MjcsMTYuODY3IDE2OS40MzQsMTYuMDU0IDE2OS40MDEsMTUuMjI4IEwxNjkuMzk3LDE1LjA2NSBMMTY5LjM5NywxMy43MSBMMTY5LjU3MiwxMy44MSBDMTcwLjgzOSwxNC41NDEgMTk1LjU1OSwyOC44MTQgMTk1LjU1OSwyOC44MTQgTDE5NS42MTgsMjguODQ3IEwxOTUuNjE4LDgyLjkxNSBDMTk1LjYxOCw4My40ODQgMTk1LjQyLDgzLjkxMSAxOTUuMDU5LDg0LjExOSBDMTk0LjkwOCw4NC4yMDYgMTk0LjczNyw4NC4yNSAxOTQuNTUzLDg0LjI1IiBpZD0iRmlsbC0xMCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNDUuNjg1LDU2LjE2MSBMMTY5LjgsNzAuMDgzIEwxNDMuODIyLDg1LjA4MSBMMTQyLjM2LDg0Ljc3NCBDMTM1LjgyNiw4Mi42MDQgMTI4LjczMiw4MS4wNDYgMTIxLjM0MSw4MC4xNTggQzExNi45NzYsNzkuNjM0IDExMi42NzgsODEuMjU0IDExMS43NDMsODMuNzc4IEMxMTEuNTA2LDg0LjQxNCAxMTEuNTAzLDg1LjA3MSAxMTEuNzMyLDg1LjcwNiBDMTEzLjI3LDg5Ljk3MyAxMTUuOTY4LDk0LjA2OSAxMTkuNzI3LDk3Ljg0MSBMMTIwLjI1OSw5OC42ODYgQzEyMC4yNiw5OC42ODUgOTQuMjgyLDExMy42ODMgOTQuMjgyLDExMy42ODMgTDcwLjE2Nyw5OS43NjEgTDE0NS42ODUsNTYuMTYxIiBpZD0iRmlsbC0xMSIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik05NC4yODIsMTEzLjgxOCBMOTQuMjIzLDExMy43ODUgTDY5LjkzMyw5OS43NjEgTDcwLjEwOCw5OS42NiBMMTQ1LjY4NSw1Ni4wMjYgTDE0NS43NDMsNTYuMDU5IEwxNzAuMDMzLDcwLjA4MyBMMTQzLjg0Miw4NS4yMDUgTDE0My43OTcsODUuMTk1IEMxNDMuNzcyLDg1LjE5IDE0Mi4zMzYsODQuODg4IDE0Mi4zMzYsODQuODg4IEMxMzUuNzg3LDgyLjcxNCAxMjguNzIzLDgxLjE2MyAxMjEuMzI3LDgwLjI3NCBDMTIwLjc4OCw4MC4yMDkgMTIwLjIzNiw4MC4xNzcgMTE5LjY4OSw4MC4xNzcgQzExNS45MzEsODAuMTc3IDExMi42MzUsODEuNzA4IDExMS44NTIsODMuODE5IEMxMTEuNjI0LDg0LjQzMiAxMTEuNjIxLDg1LjA1MyAxMTEuODQyLDg1LjY2NyBDMTEzLjM3Nyw4OS45MjUgMTE2LjA1OCw5My45OTMgMTE5LjgxLDk3Ljc1OCBMMTE5LjgyNiw5Ny43NzkgTDEyMC4zNTIsOTguNjE0IEMxMjAuMzU0LDk4LjYxNyAxMjAuMzU2LDk4LjYyIDEyMC4zNTgsOTguNjI0IEwxMjAuNDIyLDk4LjcyNiBMMTIwLjMxNyw5OC43ODcgQzEyMC4yNjQsOTguODE4IDk0LjU5OSwxMTMuNjM1IDk0LjM0LDExMy43ODUgTDk0LjI4MiwxMTMuODE4IEw5NC4yODIsMTEzLjgxOCBaIE03MC40MDEsOTkuNzYxIEw5NC4yODIsMTEzLjU0OSBMMTE5LjA4NCw5OS4yMjkgQzExOS42Myw5OC45MTQgMTE5LjkzLDk4Ljc0IDEyMC4xMDEsOTguNjU0IEwxMTkuNjM1LDk3LjkxNCBDMTE1Ljg2NCw5NC4xMjcgMTEzLjE2OCw5MC4wMzMgMTExLjYyMiw4NS43NDYgQzExMS4zODIsODUuMDc5IDExMS4zODYsODQuNDA0IDExMS42MzMsODMuNzM4IEMxMTIuNDQ4LDgxLjUzOSAxMTUuODM2LDc5Ljk0MyAxMTkuNjg5LDc5Ljk0MyBDMTIwLjI0Niw3OS45NDMgMTIwLjgwNiw3OS45NzYgMTIxLjM1NSw4MC4wNDIgQzEyOC43NjcsODAuOTMzIDEzNS44NDYsODIuNDg3IDE0Mi4zOTYsODQuNjYzIEMxNDMuMjMyLDg0LjgzOCAxNDMuNjExLDg0LjkxNyAxNDMuNzg2LDg0Ljk2NyBMMTY5LjU2Niw3MC4wODMgTDE0NS42ODUsNTYuMjk1IEw3MC40MDEsOTkuNzYxIEw3MC40MDEsOTkuNzYxIFoiIGlkPSJGaWxsLTEyIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2Ny4yMywxOC45NzkgTDE2Ny4yMyw2OS44NSBMMTM5LjkwOSw4NS42MjMgTDEzMy40NDgsNzEuNDU2IEMxMzIuNTM4LDY5LjQ2IDEzMC4wMiw2OS43MTggMTI3LjgyNCw3Mi4wMyBDMTI2Ljc2OSw3My4xNCAxMjUuOTMxLDc0LjU4NSAxMjUuNDk0LDc2LjA0OCBMMTE5LjAzNCw5Ny42NzYgTDkxLjcxMiwxMTMuNDUgTDkxLjcxMiw2Mi41NzkgTDE2Ny4yMywxOC45NzkiIGlkPSJGaWxsLTEzIiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTkxLjcxMiwxMTMuNTY3IEM5MS42OTIsMTEzLjU2NyA5MS42NzIsMTEzLjU2MSA5MS42NTMsMTEzLjU1MSBDOTEuNjE4LDExMy41MyA5MS41OTUsMTEzLjQ5MiA5MS41OTUsMTEzLjQ1IEw5MS41OTUsNjIuNTc5IEM5MS41OTUsNjIuNTM3IDkxLjYxOCw2Mi40OTkgOTEuNjUzLDYyLjQ3OCBMMTY3LjE3MiwxOC44NzggQzE2Ny4yMDgsMTguODU3IDE2Ny4yNTIsMTguODU3IDE2Ny4yODgsMTguODc4IEMxNjcuMzI0LDE4Ljg5OSAxNjcuMzQ3LDE4LjkzNyAxNjcuMzQ3LDE4Ljk3OSBMMTY3LjM0Nyw2OS44NSBDMTY3LjM0Nyw2OS44OTEgMTY3LjMyNCw2OS45MyAxNjcuMjg4LDY5Ljk1IEwxMzkuOTY3LDg1LjcyNSBDMTM5LjkzOSw4NS43NDEgMTM5LjkwNSw4NS43NDUgMTM5Ljg3Myw4NS43MzUgQzEzOS44NDIsODUuNzI1IDEzOS44MTYsODUuNzAyIDEzOS44MDIsODUuNjcyIEwxMzMuMzQyLDcxLjUwNCBDMTMyLjk2Nyw3MC42ODIgMTMyLjI4LDcwLjIyOSAxMzEuNDA4LDcwLjIyOSBDMTMwLjMxOSw3MC4yMjkgMTI5LjA0NCw3MC45MTUgMTI3LjkwOCw3Mi4xMSBDMTI2Ljg3NCw3My4yIDEyNi4wMzQsNzQuNjQ3IDEyNS42MDYsNzYuMDgyIEwxMTkuMTQ2LDk3LjcwOSBDMTE5LjEzNyw5Ny43MzggMTE5LjExOCw5Ny43NjIgMTE5LjA5Miw5Ny43NzcgTDkxLjc3LDExMy41NTEgQzkxLjc1MiwxMTMuNTYxIDkxLjczMiwxMTMuNTY3IDkxLjcxMiwxMTMuNTY3IEw5MS43MTIsMTEzLjU2NyBaIE05MS44MjksNjIuNjQ3IEw5MS44MjksMTEzLjI0OCBMMTE4LjkzNSw5Ny41OTggTDEyNS4zODIsNzYuMDE1IEMxMjUuODI3LDc0LjUyNSAxMjYuNjY0LDczLjA4MSAxMjcuNzM5LDcxLjk1IEMxMjguOTE5LDcwLjcwOCAxMzAuMjU2LDY5Ljk5NiAxMzEuNDA4LDY5Ljk5NiBDMTMyLjM3Nyw2OS45OTYgMTMzLjEzOSw3MC40OTcgMTMzLjU1NCw3MS40MDcgTDEzOS45NjEsODUuNDU4IEwxNjcuMTEzLDY5Ljc4MiBMMTY3LjExMywxOS4xODEgTDkxLjgyOSw2Mi42NDcgTDkxLjgyOSw2Mi42NDcgWiIgaWQ9IkZpbGwtMTQiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTY4LjU0MywxOS4yMTMgTDE2OC41NDMsNzAuMDgzIEwxNDEuMjIxLDg1Ljg1NyBMMTM0Ljc2MSw3MS42ODkgQzEzMy44NTEsNjkuNjk0IDEzMS4zMzMsNjkuOTUxIDEyOS4xMzcsNzIuMjYzIEMxMjguMDgyLDczLjM3NCAxMjcuMjQ0LDc0LjgxOSAxMjYuODA3LDc2LjI4MiBMMTIwLjM0Niw5Ny45MDkgTDkzLjAyNSwxMTMuNjgzIEw5My4wMjUsNjIuODEzIEwxNjguNTQzLDE5LjIxMyIgaWQ9IkZpbGwtMTUiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTMuMDI1LDExMy44IEM5My4wMDUsMTEzLjggOTIuOTg0LDExMy43OTUgOTIuOTY2LDExMy43ODUgQzkyLjkzMSwxMTMuNzY0IDkyLjkwOCwxMTMuNzI1IDkyLjkwOCwxMTMuNjg0IEw5Mi45MDgsNjIuODEzIEM5Mi45MDgsNjIuNzcxIDkyLjkzMSw2Mi43MzMgOTIuOTY2LDYyLjcxMiBMMTY4LjQ4NCwxOS4xMTIgQzE2OC41MiwxOS4wOSAxNjguNTY1LDE5LjA5IDE2OC42MDEsMTkuMTEyIEMxNjguNjM3LDE5LjEzMiAxNjguNjYsMTkuMTcxIDE2OC42NiwxOS4yMTIgTDE2OC42Niw3MC4wODMgQzE2OC42Niw3MC4xMjUgMTY4LjYzNyw3MC4xNjQgMTY4LjYwMSw3MC4xODQgTDE0MS4yOCw4NS45NTggQzE0MS4yNTEsODUuOTc1IDE0MS4yMTcsODUuOTc5IDE0MS4xODYsODUuOTY4IEMxNDEuMTU0LDg1Ljk1OCAxNDEuMTI5LDg1LjkzNiAxNDEuMTE1LDg1LjkwNiBMMTM0LjY1NSw3MS43MzggQzEzNC4yOCw3MC45MTUgMTMzLjU5Myw3MC40NjMgMTMyLjcyLDcwLjQ2MyBDMTMxLjYzMiw3MC40NjMgMTMwLjM1Nyw3MS4xNDggMTI5LjIyMSw3Mi4zNDQgQzEyOC4xODYsNzMuNDMzIDEyNy4zNDcsNzQuODgxIDEyNi45MTksNzYuMzE1IEwxMjAuNDU4LDk3Ljk0MyBDMTIwLjQ1LDk3Ljk3MiAxMjAuNDMxLDk3Ljk5NiAxMjAuNDA1LDk4LjAxIEw5My4wODMsMTEzLjc4NSBDOTMuMDY1LDExMy43OTUgOTMuMDQ1LDExMy44IDkzLjAyNSwxMTMuOCBMOTMuMDI1LDExMy44IFogTTkzLjE0Miw2Mi44ODEgTDkzLjE0MiwxMTMuNDgxIEwxMjAuMjQ4LDk3LjgzMiBMMTI2LjY5NSw3Ni4yNDggQzEyNy4xNCw3NC43NTggMTI3Ljk3Nyw3My4zMTUgMTI5LjA1Miw3Mi4xODMgQzEzMC4yMzEsNzAuOTQyIDEzMS41NjgsNzAuMjI5IDEzMi43Miw3MC4yMjkgQzEzMy42ODksNzAuMjI5IDEzNC40NTIsNzAuNzMxIDEzNC44NjcsNzEuNjQxIEwxNDEuMjc0LDg1LjY5MiBMMTY4LjQyNiw3MC4wMTYgTDE2OC40MjYsMTkuNDE1IEw5My4xNDIsNjIuODgxIEw5My4xNDIsNjIuODgxIFoiIGlkPSJGaWxsLTE2IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2OS44LDcwLjA4MyBMMTQyLjQ3OCw4NS44NTcgTDEzNi4wMTgsNzEuNjg5IEMxMzUuMTA4LDY5LjY5NCAxMzIuNTksNjkuOTUxIDEzMC4zOTMsNzIuMjYzIEMxMjkuMzM5LDczLjM3NCAxMjguNSw3NC44MTkgMTI4LjA2NCw3Ni4yODIgTDEyMS42MDMsOTcuOTA5IEw5NC4yODIsMTEzLjY4MyBMOTQuMjgyLDYyLjgxMyBMMTY5LjgsMTkuMjEzIEwxNjkuOCw3MC4wODMgWiIgaWQ9IkZpbGwtMTciIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTQuMjgyLDExMy45MTcgQzk0LjI0MSwxMTMuOTE3IDk0LjIwMSwxMTMuOTA3IDk0LjE2NSwxMTMuODg2IEM5NC4wOTMsMTEzLjg0NSA5NC4wNDgsMTEzLjc2NyA5NC4wNDgsMTEzLjY4NCBMOTQuMDQ4LDYyLjgxMyBDOTQuMDQ4LDYyLjczIDk0LjA5Myw2Mi42NTIgOTQuMTY1LDYyLjYxMSBMMTY5LjY4MywxOS4wMSBDMTY5Ljc1NSwxOC45NjkgMTY5Ljg0NCwxOC45NjkgMTY5LjkxNywxOS4wMSBDMTY5Ljk4OSwxOS4wNTIgMTcwLjAzMywxOS4xMjkgMTcwLjAzMywxOS4yMTIgTDE3MC4wMzMsNzAuMDgzIEMxNzAuMDMzLDcwLjE2NiAxNjkuOTg5LDcwLjI0NCAxNjkuOTE3LDcwLjI4NSBMMTQyLjU5NSw4Ni4wNiBDMTQyLjUzOCw4Ni4wOTIgMTQyLjQ2OSw4Ni4xIDE0Mi40MDcsODYuMDggQzE0Mi4zNDQsODYuMDYgMTQyLjI5Myw4Ni4wMTQgMTQyLjI2Niw4NS45NTQgTDEzNS44MDUsNzEuNzg2IEMxMzUuNDQ1LDcwLjk5NyAxMzQuODEzLDcwLjU4IDEzMy45NzcsNzAuNTggQzEzMi45MjEsNzAuNTggMTMxLjY3Niw3MS4yNTIgMTMwLjU2Miw3Mi40MjQgQzEyOS41NCw3My41MDEgMTI4LjcxMSw3NC45MzEgMTI4LjI4Nyw3Ni4zNDggTDEyMS44MjcsOTcuOTc2IEMxMjEuODEsOTguMDM0IDEyMS43NzEsOTguMDgyIDEyMS43Miw5OC4xMTIgTDk0LjM5OCwxMTMuODg2IEM5NC4zNjIsMTEzLjkwNyA5NC4zMjIsMTEzLjkxNyA5NC4yODIsMTEzLjkxNyBMOTQuMjgyLDExMy45MTcgWiBNOTQuNTE1LDYyLjk0OCBMOTQuNTE1LDExMy4yNzkgTDEyMS40MDYsOTcuNzU0IEwxMjcuODQsNzYuMjE1IEMxMjguMjksNzQuNzA4IDEyOS4xMzcsNzMuMjQ3IDEzMC4yMjQsNzIuMTAzIEMxMzEuNDI1LDcwLjgzOCAxMzIuNzkzLDcwLjExMiAxMzMuOTc3LDcwLjExMiBDMTM0Ljk5NSw3MC4xMTIgMTM1Ljc5NSw3MC42MzggMTM2LjIzLDcxLjU5MiBMMTQyLjU4NCw4NS41MjYgTDE2OS41NjYsNjkuOTQ4IEwxNjkuNTY2LDE5LjYxNyBMOTQuNTE1LDYyLjk0OCBMOTQuNTE1LDYyLjk0OCBaIiBpZD0iRmlsbC0xOCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMDkuODk0LDkyLjk0MyBMMTA5Ljg5NCw5Mi45NDMgQzEwOC4xMiw5Mi45NDMgMTA2LjY1Myw5Mi4yMTggMTA1LjY1LDkwLjgyMyBDMTA1LjU4Myw5MC43MzEgMTA1LjU5Myw5MC42MSAxMDUuNjczLDkwLjUyOSBDMTA1Ljc1Myw5MC40NDggMTA1Ljg4LDkwLjQ0IDEwNS45NzQsOTAuNTA2IEMxMDYuNzU0LDkxLjA1MyAxMDcuNjc5LDkxLjMzMyAxMDguNzI0LDkxLjMzMyBDMTEwLjA0Nyw5MS4zMzMgMTExLjQ3OCw5MC44OTQgMTEyLjk4LDkwLjAyNyBDMTE4LjI5MSw4Ni45NiAxMjIuNjExLDc5LjUwOSAxMjIuNjExLDczLjQxNiBDMTIyLjYxMSw3MS40ODkgMTIyLjE2OSw2OS44NTYgMTIxLjMzMyw2OC42OTIgQzEyMS4yNjYsNjguNiAxMjEuMjc2LDY4LjQ3MyAxMjEuMzU2LDY4LjM5MiBDMTIxLjQzNiw2OC4zMTEgMTIxLjU2Myw2OC4yOTkgMTIxLjY1Niw2OC4zNjUgQzEyMy4zMjcsNjkuNTM3IDEyNC4yNDcsNzEuNzQ2IDEyNC4yNDcsNzQuNTg0IEMxMjQuMjQ3LDgwLjgyNiAxMTkuODIxLDg4LjQ0NyAxMTQuMzgyLDkxLjU4NyBDMTEyLjgwOCw5Mi40OTUgMTExLjI5OCw5Mi45NDMgMTA5Ljg5NCw5Mi45NDMgTDEwOS44OTQsOTIuOTQzIFogTTEwNi45MjUsOTEuNDAxIEMxMDcuNzM4LDkyLjA1MiAxMDguNzQ1LDkyLjI3OCAxMDkuODkzLDkyLjI3OCBMMTA5Ljg5NCw5Mi4yNzggQzExMS4yMTUsOTIuMjc4IDExMi42NDcsOTEuOTUxIDExNC4xNDgsOTEuMDg0IEMxMTkuNDU5LDg4LjAxNyAxMjMuNzgsODAuNjIxIDEyMy43OCw3NC41MjggQzEyMy43OCw3Mi41NDkgMTIzLjMxNyw3MC45MjkgMTIyLjQ1NCw2OS43NjcgQzEyMi44NjUsNzAuODAyIDEyMy4wNzksNzIuMDQyIDEyMy4wNzksNzMuNDAyIEMxMjMuMDc5LDc5LjY0NSAxMTguNjUzLDg3LjI4NSAxMTMuMjE0LDkwLjQyNSBDMTExLjY0LDkxLjMzNCAxMTAuMTMsOTEuNzQyIDEwOC43MjQsOTEuNzQyIEMxMDguMDgzLDkxLjc0MiAxMDcuNDgxLDkxLjU5MyAxMDYuOTI1LDkxLjQwMSBMMTA2LjkyNSw5MS40MDEgWiIgaWQ9IkZpbGwtMTkiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjA5Nyw5MC4yMyBDMTE4LjQ4MSw4Ny4xMjIgMTIyLjg0NSw3OS41OTQgMTIyLjg0NSw3My40MTYgQzEyMi44NDUsNzEuMzY1IDEyMi4zNjIsNjkuNzI0IDEyMS41MjIsNjguNTU2IEMxMTkuNzM4LDY3LjMwNCAxMTcuMTQ4LDY3LjM2MiAxMTQuMjY1LDY5LjAyNiBDMTA4Ljg4MSw3Mi4xMzQgMTA0LjUxNyw3OS42NjIgMTA0LjUxNyw4NS44NCBDMTA0LjUxNyw4Ny44OTEgMTA1LDg5LjUzMiAxMDUuODQsOTAuNyBDMTA3LjYyNCw5MS45NTIgMTEwLjIxNCw5MS44OTQgMTEzLjA5Nyw5MC4yMyIgaWQ9IkZpbGwtMjAiIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTA4LjcyNCw5MS42MTQgTDEwOC43MjQsOTEuNjE0IEMxMDcuNTgyLDkxLjYxNCAxMDYuNTY2LDkxLjQwMSAxMDUuNzA1LDkwLjc5NyBDMTA1LjY4NCw5MC43ODMgMTA1LjY2NSw5MC44MTEgMTA1LjY1LDkwLjc5IEMxMDQuNzU2LDg5LjU0NiAxMDQuMjgzLDg3Ljg0MiAxMDQuMjgzLDg1LjgxNyBDMTA0LjI4Myw3OS41NzUgMTA4LjcwOSw3MS45NTMgMTE0LjE0OCw2OC44MTIgQzExNS43MjIsNjcuOTA0IDExNy4yMzIsNjcuNDQ5IDExOC42MzgsNjcuNDQ5IEMxMTkuNzgsNjcuNDQ5IDEyMC43OTYsNjcuNzU4IDEyMS42NTYsNjguMzYyIEMxMjEuNjc4LDY4LjM3NyAxMjEuNjk3LDY4LjM5NyAxMjEuNzEyLDY4LjQxOCBDMTIyLjYwNiw2OS42NjIgMTIzLjA3OSw3MS4zOSAxMjMuMDc5LDczLjQxNSBDMTIzLjA3OSw3OS42NTggMTE4LjY1Myw4Ny4xOTggMTEzLjIxNCw5MC4zMzggQzExMS42NCw5MS4yNDcgMTEwLjEzLDkxLjYxNCAxMDguNzI0LDkxLjYxNCBMMTA4LjcyNCw5MS42MTQgWiBNMTA2LjAwNiw5MC41MDUgQzEwNi43OCw5MS4wMzcgMTA3LjY5NCw5MS4yODEgMTA4LjcyNCw5MS4yODEgQzExMC4wNDcsOTEuMjgxIDExMS40NzgsOTAuODY4IDExMi45OCw5MC4wMDEgQzExOC4yOTEsODYuOTM1IDEyMi42MTEsNzkuNDk2IDEyMi42MTEsNzMuNDAzIEMxMjIuNjExLDcxLjQ5NCAxMjIuMTc3LDY5Ljg4IDEyMS4zNTYsNjguNzE4IEMxMjAuNTgyLDY4LjE4NSAxMTkuNjY4LDY3LjkxOSAxMTguNjM4LDY3LjkxOSBDMTE3LjMxNSw2Ny45MTkgMTE1Ljg4Myw2OC4zNiAxMTQuMzgyLDY5LjIyNyBDMTA5LjA3MSw3Mi4yOTMgMTA0Ljc1MSw3OS43MzMgMTA0Ljc1MSw4NS44MjYgQzEwNC43NTEsODcuNzM1IDEwNS4xODUsODkuMzQzIDEwNi4wMDYsOTAuNTA1IEwxMDYuMDA2LDkwLjUwNSBaIiBpZD0iRmlsbC0yMSIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNDkuMzE4LDcuMjYyIEwxMzkuMzM0LDE2LjE0IEwxNTUuMjI3LDI3LjE3MSBMMTYwLjgxNiwyMS4wNTkgTDE0OS4zMTgsNy4yNjIiIGlkPSJGaWxsLTIyIiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2OS42NzYsMTMuODQgTDE1OS45MjgsMTkuNDY3IEMxNTYuMjg2LDIxLjU3IDE1MC40LDIxLjU4IDE0Ni43ODEsMTkuNDkxIEMxNDMuMTYxLDE3LjQwMiAxNDMuMTgsMTQuMDAzIDE0Ni44MjIsMTEuOSBMMTU2LjMxNyw2LjI5MiBMMTQ5LjU4OCwyLjQwNyBMNjcuNzUyLDQ5LjQ3OCBMMTEzLjY3NSw3NS45OTIgTDExNi43NTYsNzQuMjEzIEMxMTcuMzg3LDczLjg0OCAxMTcuNjI1LDczLjMxNSAxMTcuMzc0LDcyLjgyMyBDMTE1LjAxNyw2OC4xOTEgMTE0Ljc4MSw2My4yNzcgMTE2LjY5MSw1OC41NjEgQzEyMi4zMjksNDQuNjQxIDE0MS4yLDMzLjc0NiAxNjUuMzA5LDMwLjQ5MSBDMTczLjQ3OCwyOS4zODggMTgxLjk4OSwyOS41MjQgMTkwLjAxMywzMC44ODUgQzE5MC44NjUsMzEuMDMgMTkxLjc4OSwzMC44OTMgMTkyLjQyLDMwLjUyOCBMMTk1LjUwMSwyOC43NSBMMTY5LjY3NiwxMy44NCIgaWQ9IkZpbGwtMjMiIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjY3NSw3Ni40NTkgQzExMy41OTQsNzYuNDU5IDExMy41MTQsNzYuNDM4IDExMy40NDIsNzYuMzk3IEw2Ny41MTgsNDkuODgyIEM2Ny4zNzQsNDkuNzk5IDY3LjI4NCw0OS42NDUgNjcuMjg1LDQ5LjQ3OCBDNjcuMjg1LDQ5LjMxMSA2Ny4zNzQsNDkuMTU3IDY3LjUxOSw0OS4wNzMgTDE0OS4zNTUsMi4wMDIgQzE0OS40OTksMS45MTkgMTQ5LjY3NywxLjkxOSAxNDkuODIxLDIuMDAyIEwxNTYuNTUsNS44ODcgQzE1Ni43NzQsNi4wMTcgMTU2Ljg1LDYuMzAyIDE1Ni43MjIsNi41MjYgQzE1Ni41OTIsNi43NDkgMTU2LjMwNyw2LjgyNiAxNTYuMDgzLDYuNjk2IEwxNDkuNTg3LDIuOTQ2IEw2OC42ODcsNDkuNDc5IEwxMTMuNjc1LDc1LjQ1MiBMMTE2LjUyMyw3My44MDggQzExNi43MTUsNzMuNjk3IDExNy4xNDMsNzMuMzk5IDExNi45NTgsNzMuMDM1IEMxMTQuNTQyLDY4LjI4NyAxMTQuMyw2My4yMjEgMTE2LjI1OCw1OC4zODUgQzExOS4wNjQsNTEuNDU4IDEyNS4xNDMsNDUuMTQzIDEzMy44NCw0MC4xMjIgQzE0Mi40OTcsMzUuMTI0IDE1My4zNTgsMzEuNjMzIDE2NS4yNDcsMzAuMDI4IEMxNzMuNDQ1LDI4LjkyMSAxODIuMDM3LDI5LjA1OCAxOTAuMDkxLDMwLjQyNSBDMTkwLjgzLDMwLjU1IDE5MS42NTIsMzAuNDMyIDE5Mi4xODYsMzAuMTI0IEwxOTQuNTY3LDI4Ljc1IEwxNjkuNDQyLDE0LjI0NCBDMTY5LjIxOSwxNC4xMTUgMTY5LjE0MiwxMy44MjkgMTY5LjI3MSwxMy42MDYgQzE2OS40LDEzLjM4MiAxNjkuNjg1LDEzLjMwNiAxNjkuOTA5LDEzLjQzNSBMMTk1LjczNCwyOC4zNDUgQzE5NS44NzksMjguNDI4IDE5NS45NjgsMjguNTgzIDE5NS45NjgsMjguNzUgQzE5NS45NjgsMjguOTE2IDE5NS44NzksMjkuMDcxIDE5NS43MzQsMjkuMTU0IEwxOTIuNjUzLDMwLjkzMyBDMTkxLjkzMiwzMS4zNSAxOTAuODksMzEuNTA4IDE4OS45MzUsMzEuMzQ2IEMxODEuOTcyLDI5Ljk5NSAxNzMuNDc4LDI5Ljg2IDE2NS4zNzIsMzAuOTU0IEMxNTMuNjAyLDMyLjU0MyAxNDIuODYsMzUuOTkzIDEzNC4zMDcsNDAuOTMxIEMxMjUuNzkzLDQ1Ljg0NyAxMTkuODUxLDUyLjAwNCAxMTcuMTI0LDU4LjczNiBDMTE1LjI3LDYzLjMxNCAxMTUuNTAxLDY4LjExMiAxMTcuNzksNzIuNjExIEMxMTguMTYsNzMuMzM2IDExNy44NDUsNzQuMTI0IDExNi45OSw3NC42MTcgTDExMy45MDksNzYuMzk3IEMxMTMuODM2LDc2LjQzOCAxMTMuNzU2LDc2LjQ1OSAxMTMuNjc1LDc2LjQ1OSIgaWQ9IkZpbGwtMjQiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTUzLjMxNiwyMS4yNzkgQzE1MC45MDMsMjEuMjc5IDE0OC40OTUsMjAuNzUxIDE0Ni42NjQsMTkuNjkzIEMxNDQuODQ2LDE4LjY0NCAxNDMuODQ0LDE3LjIzMiAxNDMuODQ0LDE1LjcxOCBDMTQzLjg0NCwxNC4xOTEgMTQ0Ljg2LDEyLjc2MyAxNDYuNzA1LDExLjY5OCBMMTU2LjE5OCw2LjA5MSBDMTU2LjMwOSw2LjAyNSAxNTYuNDUyLDYuMDYyIDE1Ni41MTgsNi4xNzMgQzE1Ni41ODMsNi4yODQgMTU2LjU0Nyw2LjQyNyAxNTYuNDM2LDYuNDkzIEwxNDYuOTQsMTIuMTAyIEMxNDUuMjQ0LDEzLjA4MSAxNDQuMzEyLDE0LjM2NSAxNDQuMzEyLDE1LjcxOCBDMTQ0LjMxMiwxNy4wNTggMTQ1LjIzLDE4LjMyNiAxNDYuODk3LDE5LjI4OSBDMTUwLjQ0NiwyMS4zMzggMTU2LjI0LDIxLjMyNyAxNTkuODExLDE5LjI2NSBMMTY5LjU1OSwxMy42MzcgQzE2OS42NywxMy41NzMgMTY5LjgxMywxMy42MTEgMTY5Ljg3OCwxMy43MjMgQzE2OS45NDMsMTMuODM0IDE2OS45MDQsMTMuOTc3IDE2OS43OTMsMTQuMDQyIEwxNjAuMDQ1LDE5LjY3IEMxNTguMTg3LDIwLjc0MiAxNTUuNzQ5LDIxLjI3OSAxNTMuMzE2LDIxLjI3OSIgaWQ9IkZpbGwtMjUiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjY3NSw3NS45OTIgTDY3Ljc2Miw0OS40ODQiIGlkPSJGaWxsLTI2IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTExMy42NzUsNzYuMzQyIEMxMTMuNjE1LDc2LjM0MiAxMTMuNTU1LDc2LjMyNyAxMTMuNSw3Ni4yOTUgTDY3LjU4Nyw0OS43ODcgQzY3LjQxOSw0OS42OSA2Ny4zNjIsNDkuNDc2IDY3LjQ1OSw0OS4zMDkgQzY3LjU1Niw0OS4xNDEgNjcuNzcsNDkuMDgzIDY3LjkzNyw0OS4xOCBMMTEzLjg1LDc1LjY4OCBDMTE0LjAxOCw3NS43ODUgMTE0LjA3NSw3NiAxMTMuOTc4LDc2LjE2NyBDMTEzLjkxNCw3Ni4yNzkgMTEzLjc5Niw3Ni4zNDIgMTEzLjY3NSw3Ni4zNDIiIGlkPSJGaWxsLTI3IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTY3Ljc2Miw0OS40ODQgTDY3Ljc2MiwxMDMuNDg1IEM2Ny43NjIsMTA0LjU3NSA2OC41MzIsMTA1LjkwMyA2OS40ODIsMTA2LjQ1MiBMMTExLjk1NSwxMzAuOTczIEMxMTIuOTA1LDEzMS41MjIgMTEzLjY3NSwxMzEuMDgzIDExMy42NzUsMTI5Ljk5MyBMMTEzLjY3NSw3NS45OTIiIGlkPSJGaWxsLTI4IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTExMi43MjcsMTMxLjU2MSBDMTEyLjQzLDEzMS41NjEgMTEyLjEwNywxMzEuNDY2IDExMS43OCwxMzEuMjc2IEw2OS4zMDcsMTA2Ljc1NSBDNjguMjQ0LDEwNi4xNDIgNjcuNDEyLDEwNC43MDUgNjcuNDEyLDEwMy40ODUgTDY3LjQxMiw0OS40ODQgQzY3LjQxMiw0OS4yOSA2Ny41NjksNDkuMTM0IDY3Ljc2Miw0OS4xMzQgQzY3Ljk1Niw0OS4xMzQgNjguMTEzLDQ5LjI5IDY4LjExMyw0OS40ODQgTDY4LjExMywxMDMuNDg1IEM2OC4xMTMsMTA0LjQ0NSA2OC44MiwxMDUuNjY1IDY5LjY1NywxMDYuMTQ4IEwxMTIuMTMsMTMwLjY3IEMxMTIuNDc0LDEzMC44NjggMTEyLjc5MSwxMzAuOTEzIDExMywxMzAuNzkyIEMxMTMuMjA2LDEzMC42NzMgMTEzLjMyNSwxMzAuMzgxIDExMy4zMjUsMTI5Ljk5MyBMMTEzLjMyNSw3NS45OTIgQzExMy4zMjUsNzUuNzk4IDExMy40ODIsNzUuNjQxIDExMy42NzUsNzUuNjQxIEMxMTMuODY5LDc1LjY0MSAxMTQuMDI1LDc1Ljc5OCAxMTQuMDI1LDc1Ljk5MiBMMTE0LjAyNSwxMjkuOTkzIEMxMTQuMDI1LDEzMC42NDggMTEzLjc4NiwxMzEuMTQ3IDExMy4zNSwxMzEuMzk5IEMxMTMuMTYyLDEzMS41MDcgMTEyLjk1MiwxMzEuNTYxIDExMi43MjcsMTMxLjU2MSIgaWQ9IkZpbGwtMjkiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEyLjg2LDQwLjUxMiBDMTEyLjg2LDQwLjUxMiAxMTIuODYsNDAuNTEyIDExMi44NTksNDAuNTEyIEMxMTAuNTQxLDQwLjUxMiAxMDguMzYsMzkuOTkgMTA2LjcxNywzOS4wNDEgQzEwNS4wMTIsMzguMDU3IDEwNC4wNzQsMzYuNzI2IDEwNC4wNzQsMzUuMjkyIEMxMDQuMDc0LDMzLjg0NyAxMDUuMDI2LDMyLjUwMSAxMDYuNzU0LDMxLjUwNCBMMTE4Ljc5NSwyNC41NTEgQzEyMC40NjMsMjMuNTg5IDEyMi42NjksMjMuMDU4IDEyNS4wMDcsMjMuMDU4IEMxMjcuMzI1LDIzLjA1OCAxMjkuNTA2LDIzLjU4MSAxMzEuMTUsMjQuNTMgQzEzMi44NTQsMjUuNTE0IDEzMy43OTMsMjYuODQ1IDEzMy43OTMsMjguMjc4IEMxMzMuNzkzLDI5LjcyNCAxMzIuODQxLDMxLjA2OSAxMzEuMTEzLDMyLjA2NyBMMTE5LjA3MSwzOS4wMTkgQzExNy40MDMsMzkuOTgyIDExNS4xOTcsNDAuNTEyIDExMi44Niw0MC41MTIgTDExMi44Niw0MC41MTIgWiBNMTI1LjAwNywyMy43NTkgQzEyMi43OSwyMy43NTkgMTIwLjcwOSwyNC4yNTYgMTE5LjE0NiwyNS4xNTggTDEwNy4xMDQsMzIuMTEgQzEwNS42MDIsMzIuOTc4IDEwNC43NzQsMzQuMTA4IDEwNC43NzQsMzUuMjkyIEMxMDQuNzc0LDM2LjQ2NSAxMDUuNTg5LDM3LjU4MSAxMDcuMDY3LDM4LjQzNCBDMTA4LjYwNSwzOS4zMjMgMTEwLjY2MywzOS44MTIgMTEyLjg1OSwzOS44MTIgTDExMi44NiwzOS44MTIgQzExNS4wNzYsMzkuODEyIDExNy4xNTgsMzkuMzE1IDExOC43MjEsMzguNDEzIEwxMzAuNzYyLDMxLjQ2IEMxMzIuMjY0LDMwLjU5MyAxMzMuMDkyLDI5LjQ2MyAxMzMuMDkyLDI4LjI3OCBDMTMzLjA5MiwyNy4xMDYgMTMyLjI3OCwyNS45OSAxMzAuOCwyNS4xMzYgQzEyOS4yNjEsMjQuMjQ4IDEyNy4yMDQsMjMuNzU5IDEyNS4wMDcsMjMuNzU5IEwxMjUuMDA3LDIzLjc1OSBaIiBpZD0iRmlsbC0zMCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNjUuNjMsMTYuMjE5IEwxNTkuODk2LDE5LjUzIEMxNTYuNzI5LDIxLjM1OCAxNTEuNjEsMjEuMzY3IDE0OC40NjMsMTkuNTUgQzE0NS4zMTYsMTcuNzMzIDE0NS4zMzIsMTQuNzc4IDE0OC40OTksMTIuOTQ5IEwxNTQuMjMzLDkuNjM5IEwxNjUuNjMsMTYuMjE5IiBpZD0iRmlsbC0zMSIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNTQuMjMzLDEwLjQ0OCBMMTY0LjIyOCwxNi4yMTkgTDE1OS41NDYsMTguOTIzIEMxNTguMTEyLDE5Ljc1IDE1Ni4xOTQsMjAuMjA2IDE1NC4xNDcsMjAuMjA2IEMxNTIuMTE4LDIwLjIwNiAxNTAuMjI0LDE5Ljc1NyAxNDguODE0LDE4Ljk0MyBDMTQ3LjUyNCwxOC4xOTkgMTQ2LjgxNCwxNy4yNDkgMTQ2LjgxNCwxNi4yNjkgQzE0Ni44MTQsMTUuMjc4IDE0Ny41MzcsMTQuMzE0IDE0OC44NSwxMy41NTYgTDE1NC4yMzMsMTAuNDQ4IE0xNTQuMjMzLDkuNjM5IEwxNDguNDk5LDEyLjk0OSBDMTQ1LjMzMiwxNC43NzggMTQ1LjMxNiwxNy43MzMgMTQ4LjQ2MywxOS41NSBDMTUwLjAzMSwyMC40NTUgMTUyLjA4NiwyMC45MDcgMTU0LjE0NywyMC45MDcgQzE1Ni4yMjQsMjAuOTA3IDE1OC4zMDYsMjAuNDQ3IDE1OS44OTYsMTkuNTMgTDE2NS42MywxNi4yMTkgTDE1NC4yMzMsOS42MzkiIGlkPSJGaWxsLTMyIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0NS40NDUsNzIuNjY3IEwxNDUuNDQ1LDcyLjY2NyBDMTQzLjY3Miw3Mi42NjcgMTQyLjIwNCw3MS44MTcgMTQxLjIwMiw3MC40MjIgQzE0MS4xMzUsNzAuMzMgMTQxLjE0NSw3MC4xNDcgMTQxLjIyNSw3MC4wNjYgQzE0MS4zMDUsNjkuOTg1IDE0MS40MzIsNjkuOTQ2IDE0MS41MjUsNzAuMDExIEMxNDIuMzA2LDcwLjU1OSAxNDMuMjMxLDcwLjgyMyAxNDQuMjc2LDcwLjgyMiBDMTQ1LjU5OCw3MC44MjIgMTQ3LjAzLDcwLjM3NiAxNDguNTMyLDY5LjUwOSBDMTUzLjg0Miw2Ni40NDMgMTU4LjE2Myw1OC45ODcgMTU4LjE2Myw1Mi44OTQgQzE1OC4xNjMsNTAuOTY3IDE1Ny43MjEsNDkuMzMyIDE1Ni44ODQsNDguMTY4IEMxNTYuODE4LDQ4LjA3NiAxNTYuODI4LDQ3Ljk0OCAxNTYuOTA4LDQ3Ljg2NyBDMTU2Ljk4OCw0Ny43ODYgMTU3LjExNCw0Ny43NzQgMTU3LjIwOCw0Ny44NCBDMTU4Ljg3OCw0OS4wMTIgMTU5Ljc5OCw1MS4yMiAxNTkuNzk4LDU0LjA1OSBDMTU5Ljc5OCw2MC4zMDEgMTU1LjM3Myw2OC4wNDYgMTQ5LjkzMyw3MS4xODYgQzE0OC4zNiw3Mi4wOTQgMTQ2Ljg1LDcyLjY2NyAxNDUuNDQ1LDcyLjY2NyBMMTQ1LjQ0NSw3Mi42NjcgWiBNMTQyLjQ3Niw3MSBDMTQzLjI5LDcxLjY1MSAxNDQuMjk2LDcyLjAwMiAxNDUuNDQ1LDcyLjAwMiBDMTQ2Ljc2Nyw3Mi4wMDIgMTQ4LjE5OCw3MS41NSAxNDkuNyw3MC42ODIgQzE1NS4wMSw2Ny42MTcgMTU5LjMzMSw2MC4xNTkgMTU5LjMzMSw1NC4wNjUgQzE1OS4zMzEsNTIuMDg1IDE1OC44NjgsNTAuNDM1IDE1OC4wMDYsNDkuMjcyIEMxNTguNDE3LDUwLjMwNyAxNTguNjMsNTEuNTMyIDE1OC42Myw1Mi44OTIgQzE1OC42Myw1OS4xMzQgMTU0LjIwNSw2Ni43NjcgMTQ4Ljc2NSw2OS45MDcgQzE0Ny4xOTIsNzAuODE2IDE0NS42ODEsNzEuMjgzIDE0NC4yNzYsNzEuMjgzIEMxNDMuNjM0LDcxLjI4MyAxNDMuMDMzLDcxLjE5MiAxNDIuNDc2LDcxIEwxNDIuNDc2LDcxIFoiIGlkPSJGaWxsLTMzIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0OC42NDgsNjkuNzA0IEMxNTQuMDMyLDY2LjU5NiAxNTguMzk2LDU5LjA2OCAxNTguMzk2LDUyLjg5MSBDMTU4LjM5Niw1MC44MzkgMTU3LjkxMyw0OS4xOTggMTU3LjA3NCw0OC4wMyBDMTU1LjI4OSw0Ni43NzggMTUyLjY5OSw0Ni44MzYgMTQ5LjgxNiw0OC41MDEgQzE0NC40MzMsNTEuNjA5IDE0MC4wNjgsNTkuMTM3IDE0MC4wNjgsNjUuMzE0IEMxNDAuMDY4LDY3LjM2NSAxNDAuNTUyLDY5LjAwNiAxNDEuMzkxLDcwLjE3NCBDMTQzLjE3Niw3MS40MjcgMTQ1Ljc2NSw3MS4zNjkgMTQ4LjY0OCw2OS43MDQiIGlkPSJGaWxsLTM0IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0NC4yNzYsNzEuMjc2IEwxNDQuMjc2LDcxLjI3NiBDMTQzLjEzMyw3MS4yNzYgMTQyLjExOCw3MC45NjkgMTQxLjI1Nyw3MC4zNjUgQzE0MS4yMzYsNzAuMzUxIDE0MS4yMTcsNzAuMzMyIDE0MS4yMDIsNzAuMzExIEMxNDAuMzA3LDY5LjA2NyAxMzkuODM1LDY3LjMzOSAxMzkuODM1LDY1LjMxNCBDMTM5LjgzNSw1OS4wNzMgMTQ0LjI2LDUxLjQzOSAxNDkuNyw0OC4yOTggQzE1MS4yNzMsNDcuMzkgMTUyLjc4NCw0Ni45MjkgMTU0LjE4OSw0Ni45MjkgQzE1NS4zMzIsNDYuOTI5IDE1Ni4zNDcsNDcuMjM2IDE1Ny4yMDgsNDcuODM5IEMxNTcuMjI5LDQ3Ljg1NCAxNTcuMjQ4LDQ3Ljg3MyAxNTcuMjYzLDQ3Ljg5NCBDMTU4LjE1Nyw0OS4xMzggMTU4LjYzLDUwLjg2NSAxNTguNjMsNTIuODkxIEMxNTguNjMsNTkuMTMyIDE1NC4yMDUsNjYuNzY2IDE0OC43NjUsNjkuOTA3IEMxNDcuMTkyLDcwLjgxNSAxNDUuNjgxLDcxLjI3NiAxNDQuMjc2LDcxLjI3NiBMMTQ0LjI3Niw3MS4yNzYgWiBNMTQxLjU1OCw3MC4xMDQgQzE0Mi4zMzEsNzAuNjM3IDE0My4yNDUsNzEuMDA1IDE0NC4yNzYsNzEuMDA1IEMxNDUuNTk4LDcxLjAwNSAxNDcuMDMsNzAuNDY3IDE0OC41MzIsNjkuNiBDMTUzLjg0Miw2Ni41MzQgMTU4LjE2Myw1OS4wMzMgMTU4LjE2Myw1Mi45MzkgQzE1OC4xNjMsNTEuMDMxIDE1Ny43MjksNDkuMzg1IDE1Ni45MDcsNDguMjIzIEMxNTYuMTMzLDQ3LjY5MSAxNTUuMjE5LDQ3LjQwOSAxNTQuMTg5LDQ3LjQwOSBDMTUyLjg2Nyw0Ny40MDkgMTUxLjQzNSw0Ny44NDIgMTQ5LjkzMyw0OC43MDkgQzE0NC42MjMsNTEuNzc1IDE0MC4zMDIsNTkuMjczIDE0MC4zMDIsNjUuMzY2IEMxNDAuMzAyLDY3LjI3NiAxNDAuNzM2LDY4Ljk0MiAxNDEuNTU4LDcwLjEwNCBMMTQxLjU1OCw3MC4xMDQgWiIgaWQ9IkZpbGwtMzUiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTUwLjcyLDY1LjM2MSBMMTUwLjM1Nyw2NS4wNjYgQzE1MS4xNDcsNjQuMDkyIDE1MS44NjksNjMuMDQgMTUyLjUwNSw2MS45MzggQzE1My4zMTMsNjAuNTM5IDE1My45NzgsNTkuMDY3IDE1NC40ODIsNTcuNTYzIEwxNTQuOTI1LDU3LjcxMiBDMTU0LjQxMiw1OS4yNDUgMTUzLjczMyw2MC43NDUgMTUyLjkxLDYyLjE3MiBDMTUyLjI2Miw2My4yOTUgMTUxLjUyNSw2NC4zNjggMTUwLjcyLDY1LjM2MSIgaWQ9IkZpbGwtMzYiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTE1LjkxNyw4NC41MTQgTDExNS41NTQsODQuMjIgQzExNi4zNDQsODMuMjQ1IDExNy4wNjYsODIuMTk0IDExNy43MDIsODEuMDkyIEMxMTguNTEsNzkuNjkyIDExOS4xNzUsNzguMjIgMTE5LjY3OCw3Ni43MTcgTDEyMC4xMjEsNzYuODY1IEMxMTkuNjA4LDc4LjM5OCAxMTguOTMsNzkuODk5IDExOC4xMDYsODEuMzI2IEMxMTcuNDU4LDgyLjQ0OCAxMTYuNzIyLDgzLjUyMSAxMTUuOTE3LDg0LjUxNCIgaWQ9IkZpbGwtMzciIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTE0LDEzMC40NzYgTDExNCwxMzAuMDA4IEwxMTQsNzYuMDUyIEwxMTQsNzUuNTg0IEwxMTQsNzYuMDUyIEwxMTQsMTMwLjAwOCBMMTE0LDEzMC40NzYiIGlkPSJGaWxsLTM4IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICA8ZyBpZD0iSW1wb3J0ZWQtTGF5ZXJzLUNvcHkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDYyLjAwMDAwMCwgMC4wMDAwMDApIiBza2V0Y2g6dHlwZT0iTVNTaGFwZUdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTkuODIyLDM3LjQ3NCBDMTkuODM5LDM3LjMzOSAxOS43NDcsMzcuMTk0IDE5LjU1NSwzNy4wODIgQzE5LjIyOCwzNi44OTQgMTguNzI5LDM2Ljg3MiAxOC40NDYsMzcuMDM3IEwxMi40MzQsNDAuNTA4IEMxMi4zMDMsNDAuNTg0IDEyLjI0LDQwLjY4NiAxMi4yNDMsNDAuNzkzIEMxMi4yNDUsNDAuOTI1IDEyLjI0NSw0MS4yNTQgMTIuMjQ1LDQxLjM3MSBMMTIuMjQ1LDQxLjQxNCBMMTIuMjM4LDQxLjU0MiBDOC4xNDgsNDMuODg3IDUuNjQ3LDQ1LjMyMSA1LjY0Nyw0NS4zMjEgQzUuNjQ2LDQ1LjMyMSAzLjU3LDQ2LjM2NyAyLjg2LDUwLjUxMyBDMi44Niw1MC41MTMgMS45NDgsNTcuNDc0IDEuOTYyLDcwLjI1OCBDMS45NzcsODIuODI4IDIuNTY4LDg3LjMyOCAzLjEyOSw5MS42MDkgQzMuMzQ5LDkzLjI5MyA2LjEzLDkzLjczNCA2LjEzLDkzLjczNCBDNi40NjEsOTMuNzc0IDYuODI4LDkzLjcwNyA3LjIxLDkzLjQ4NiBMODIuNDgzLDQ5LjkzNSBDODQuMjkxLDQ4Ljg2NiA4NS4xNSw0Ni4yMTYgODUuNTM5LDQzLjY1MSBDODYuNzUyLDM1LjY2MSA4Ny4yMTQsMTAuNjczIDg1LjI2NCwzLjc3MyBDODUuMDY4LDMuMDggODQuNzU0LDIuNjkgODQuMzk2LDIuNDkxIEw4Mi4zMSwxLjcwMSBDODEuNTgzLDEuNzI5IDgwLjg5NCwyLjE2OCA4MC43NzYsMi4yMzYgQzgwLjYzNiwyLjMxNyA0MS44MDcsMjQuNTg1IDIwLjAzMiwzNy4wNzIgTDE5LjgyMiwzNy40NzQiIGlkPSJGaWxsLTEiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNODIuMzExLDEuNzAxIEw4NC4zOTYsMi40OTEgQzg0Ljc1NCwyLjY5IDg1LjA2OCwzLjA4IDg1LjI2NCwzLjc3MyBDODcuMjEzLDEwLjY3MyA4Ni43NTEsMzUuNjYgODUuNTM5LDQzLjY1MSBDODUuMTQ5LDQ2LjIxNiA4NC4yOSw0OC44NjYgODIuNDgzLDQ5LjkzNSBMNy4yMSw5My40ODYgQzYuODk3LDkzLjY2NyA2LjU5NSw5My43NDQgNi4zMTQsOTMuNzQ0IEw2LjEzMSw5My43MzMgQzYuMTMxLDkzLjczNCAzLjM0OSw5My4yOTMgMy4xMjgsOTEuNjA5IEMyLjU2OCw4Ny4zMjcgMS45NzcsODIuODI4IDEuOTYzLDcwLjI1OCBDMS45NDgsNTcuNDc0IDIuODYsNTAuNTEzIDIuODYsNTAuNTEzIEMzLjU3LDQ2LjM2NyA1LjY0Nyw0NS4zMjEgNS42NDcsNDUuMzIxIEM1LjY0Nyw0NS4zMjEgOC4xNDgsNDMuODg3IDEyLjIzOCw0MS41NDIgTDEyLjI0NSw0MS40MTQgTDEyLjI0NSw0MS4zNzEgQzEyLjI0NSw0MS4yNTQgMTIuMjQ1LDQwLjkyNSAxMi4yNDMsNDAuNzkzIEMxMi4yNCw0MC42ODYgMTIuMzAyLDQwLjU4MyAxMi40MzQsNDAuNTA4IEwxOC40NDYsMzcuMDM2IEMxOC41NzQsMzYuOTYyIDE4Ljc0NiwzNi45MjYgMTguOTI3LDM2LjkyNiBDMTkuMTQ1LDM2LjkyNiAxOS4zNzYsMzYuOTc5IDE5LjU1NCwzNy4wODIgQzE5Ljc0NywzNy4xOTQgMTkuODM5LDM3LjM0IDE5LjgyMiwzNy40NzQgTDIwLjAzMywzNy4wNzIgQzQxLjgwNiwyNC41ODUgODAuNjM2LDIuMzE4IDgwLjc3NywyLjIzNiBDODAuODk0LDIuMTY4IDgxLjU4MywxLjcyOSA4Mi4zMTEsMS43MDEgTTgyLjMxMSwwLjcwNCBMODIuMjcyLDAuNzA1IEM4MS42NTQsMC43MjggODAuOTg5LDAuOTQ5IDgwLjI5OCwxLjM2MSBMODAuMjc3LDEuMzczIEM4MC4xMjksMS40NTggNTkuNzY4LDEzLjEzNSAxOS43NTgsMzYuMDc5IEMxOS41LDM1Ljk4MSAxOS4yMTQsMzUuOTI5IDE4LjkyNywzNS45MjkgQzE4LjU2MiwzNS45MjkgMTguMjIzLDM2LjAxMyAxNy45NDcsMzYuMTczIEwxMS45MzUsMzkuNjQ0IEMxMS40OTMsMzkuODk5IDExLjIzNiw0MC4zMzQgMTEuMjQ2LDQwLjgxIEwxMS4yNDcsNDAuOTYgTDUuMTY3LDQ0LjQ0NyBDNC43OTQsNDQuNjQ2IDIuNjI1LDQ1Ljk3OCAxLjg3Nyw1MC4zNDUgTDEuODcxLDUwLjM4NCBDMS44NjIsNTAuNDU0IDAuOTUxLDU3LjU1NyAwLjk2NSw3MC4yNTkgQzAuOTc5LDgyLjg3OSAxLjU2OCw4Ny4zNzUgMi4xMzcsOTEuNzI0IEwyLjEzOSw5MS43MzkgQzIuNDQ3LDk0LjA5NCA1LjYxNCw5NC42NjIgNS45NzUsOTQuNzE5IEw2LjAwOSw5NC43MjMgQzYuMTEsOTQuNzM2IDYuMjEzLDk0Ljc0MiA2LjMxNCw5NC43NDIgQzYuNzksOTQuNzQyIDcuMjYsOTQuNjEgNy43MSw5NC4zNSBMODIuOTgzLDUwLjc5OCBDODQuNzk0LDQ5LjcyNyA4NS45ODIsNDcuMzc1IDg2LjUyNSw0My44MDEgQzg3LjcxMSwzNS45ODcgODguMjU5LDEwLjcwNSA4Ni4yMjQsMy41MDIgQzg1Ljk3MSwyLjYwOSA4NS41MiwxLjk3NSA4NC44ODEsMS42MiBMODQuNzQ5LDEuNTU4IEw4Mi42NjQsMC43NjkgQzgyLjU1MSwwLjcyNSA4Mi40MzEsMC43MDQgODIuMzExLDAuNzA0IiBpZD0iRmlsbC0yIiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTY2LjI2NywxMS41NjUgTDY3Ljc2MiwxMS45OTkgTDExLjQyMyw0NC4zMjUiIGlkPSJGaWxsLTMiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTIuMjAyLDkwLjU0NSBDMTIuMDI5LDkwLjU0NSAxMS44NjIsOTAuNDU1IDExLjc2OSw5MC4yOTUgQzExLjYzMiw5MC4wNTcgMTEuNzEzLDg5Ljc1MiAxMS45NTIsODkuNjE0IEwzMC4zODksNzguOTY5IEMzMC42MjgsNzguODMxIDMwLjkzMyw3OC45MTMgMzEuMDcxLDc5LjE1MiBDMzEuMjA4LDc5LjM5IDMxLjEyNyw3OS42OTYgMzAuODg4LDc5LjgzMyBMMTIuNDUxLDkwLjQ3OCBMMTIuMjAyLDkwLjU0NSIgaWQ9IkZpbGwtNCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMy43NjQsNDIuNjU0IEwxMy42NTYsNDIuNTkyIEwxMy43MDIsNDIuNDIxIEwxOC44MzcsMzkuNDU3IEwxOS4wMDcsMzkuNTAyIEwxOC45NjIsMzkuNjczIEwxMy44MjcsNDIuNjM3IEwxMy43NjQsNDIuNjU0IiBpZD0iRmlsbC01IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTguNTIsOTAuMzc1IEw4LjUyLDQ2LjQyMSBMOC41ODMsNDYuMzg1IEw3NS44NCw3LjU1NCBMNzUuODQsNTEuNTA4IEw3NS43NzgsNTEuNTQ0IEw4LjUyLDkwLjM3NSBMOC41Miw5MC4zNzUgWiBNOC43Nyw0Ni41NjQgTDguNzcsODkuOTQ0IEw3NS41OTEsNTEuMzY1IEw3NS41OTEsNy45ODUgTDguNzcsNDYuNTY0IEw4Ljc3LDQ2LjU2NCBaIiBpZD0iRmlsbC02IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTI0Ljk4Niw4My4xODIgQzI0Ljc1Niw4My4zMzEgMjQuMzc0LDgzLjU2NiAyNC4xMzcsODMuNzA1IEwxMi42MzIsOTAuNDA2IEMxMi4zOTUsOTAuNTQ1IDEyLjQyNiw5MC42NTggMTIuNyw5MC42NTggTDEzLjI2NSw5MC42NTggQzEzLjU0LDkwLjY1OCAxMy45NTgsOTAuNTQ1IDE0LjE5NSw5MC40MDYgTDI1LjcsODMuNzA1IEMyNS45MzcsODMuNTY2IDI2LjEyOCw4My40NTIgMjYuMTI1LDgzLjQ0OSBDMjYuMTIyLDgzLjQ0NyAyNi4xMTksODMuMjIgMjYuMTE5LDgyLjk0NiBDMjYuMTE5LDgyLjY3MiAyNS45MzEsODIuNTY5IDI1LjcwMSw4Mi43MTkgTDI0Ljk4Niw4My4xODIiIGlkPSJGaWxsLTciIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTMuMjY2LDkwLjc4MiBMMTIuNyw5MC43ODIgQzEyLjUsOTAuNzgyIDEyLjM4NCw5MC43MjYgMTIuMzU0LDkwLjYxNiBDMTIuMzI0LDkwLjUwNiAxMi4zOTcsOTAuMzk5IDEyLjU2OSw5MC4yOTkgTDI0LjA3NCw4My41OTcgQzI0LjMxLDgzLjQ1OSAyNC42ODksODMuMjI2IDI0LjkxOCw4My4wNzggTDI1LjYzMyw4Mi42MTQgQzI1LjcyMyw4Mi41NTUgMjUuODEzLDgyLjUyNSAyNS44OTksODIuNTI1IEMyNi4wNzEsODIuNTI1IDI2LjI0NCw4Mi42NTUgMjYuMjQ0LDgyLjk0NiBDMjYuMjQ0LDgzLjE2IDI2LjI0NSw4My4zMDkgMjYuMjQ3LDgzLjM4MyBMMjYuMjUzLDgzLjM4NyBMMjYuMjQ5LDgzLjQ1NiBDMjYuMjQ2LDgzLjUzMSAyNi4yNDYsODMuNTMxIDI1Ljc2Myw4My44MTIgTDE0LjI1OCw5MC41MTQgQzE0LDkwLjY2NSAxMy41NjQsOTAuNzgyIDEzLjI2Niw5MC43ODIgTDEzLjI2Niw5MC43ODIgWiBNMTIuNjY2LDkwLjUzMiBMMTIuNyw5MC41MzMgTDEzLjI2Niw5MC41MzMgQzEzLjUxOCw5MC41MzMgMTMuOTE1LDkwLjQyNSAxNC4xMzIsOTAuMjk5IEwyNS42MzcsODMuNTk3IEMyNS44MDUsODMuNDk5IDI1LjkzMSw4My40MjQgMjUuOTk4LDgzLjM4MyBDMjUuOTk0LDgzLjI5OSAyNS45OTQsODMuMTY1IDI1Ljk5NCw4Mi45NDYgTDI1Ljg5OSw4Mi43NzUgTDI1Ljc2OCw4Mi44MjQgTDI1LjA1NCw4My4yODcgQzI0LjgyMiw4My40MzcgMjQuNDM4LDgzLjY3MyAyNC4yLDgzLjgxMiBMMTIuNjk1LDkwLjUxNCBMMTIuNjY2LDkwLjUzMiBMMTIuNjY2LDkwLjUzMiBaIiBpZD0iRmlsbC04IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTEzLjI2Niw4OS44NzEgTDEyLjcsODkuODcxIEMxMi41LDg5Ljg3MSAxMi4zODQsODkuODE1IDEyLjM1NCw4OS43MDUgQzEyLjMyNCw4OS41OTUgMTIuMzk3LDg5LjQ4OCAxMi41NjksODkuMzg4IEwyNC4wNzQsODIuNjg2IEMyNC4zMzIsODIuNTM1IDI0Ljc2OCw4Mi40MTggMjUuMDY3LDgyLjQxOCBMMjUuNjMyLDgyLjQxOCBDMjUuODMyLDgyLjQxOCAyNS45NDgsODIuNDc0IDI1Ljk3OCw4Mi41ODQgQzI2LjAwOCw4Mi42OTQgMjUuOTM1LDgyLjgwMSAyNS43NjMsODIuOTAxIEwxNC4yNTgsODkuNjAzIEMxNCw4OS43NTQgMTMuNTY0LDg5Ljg3MSAxMy4yNjYsODkuODcxIEwxMy4yNjYsODkuODcxIFogTTEyLjY2Niw4OS42MjEgTDEyLjcsODkuNjIyIEwxMy4yNjYsODkuNjIyIEMxMy41MTgsODkuNjIyIDEzLjkxNSw4OS41MTUgMTQuMTMyLDg5LjM4OCBMMjUuNjM3LDgyLjY4NiBMMjUuNjY3LDgyLjY2OCBMMjUuNjMyLDgyLjY2NyBMMjUuMDY3LDgyLjY2NyBDMjQuODE1LDgyLjY2NyAyNC40MTgsODIuNzc1IDI0LjIsODIuOTAxIEwxMi42OTUsODkuNjAzIEwxMi42NjYsODkuNjIxIEwxMi42NjYsODkuNjIxIFoiIGlkPSJGaWxsLTkiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTIuMzcsOTAuODAxIEwxMi4zNyw4OS41NTQgTDEyLjM3LDkwLjgwMSIgaWQ9IkZpbGwtMTAiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNi4xMyw5My45MDEgQzUuMzc5LDkzLjgwOCA0LjgxNiw5My4xNjQgNC42OTEsOTIuNTI1IEMzLjg2LDg4LjI4NyAzLjU0LDgzLjc0MyAzLjUyNiw3MS4xNzMgQzMuNTExLDU4LjM4OSA0LjQyMyw1MS40MjggNC40MjMsNTEuNDI4IEM1LjEzNCw0Ny4yODIgNy4yMSw0Ni4yMzYgNy4yMSw0Ni4yMzYgQzcuMjEsNDYuMjM2IDgxLjY2NywzLjI1IDgyLjA2OSwzLjAxNyBDODIuMjkyLDIuODg4IDg0LjU1NiwxLjQzMyA4NS4yNjQsMy45NCBDODcuMjE0LDEwLjg0IDg2Ljc1MiwzNS44MjcgODUuNTM5LDQzLjgxOCBDODUuMTUsNDYuMzgzIDg0LjI5MSw0OS4wMzMgODIuNDgzLDUwLjEwMSBMNy4yMSw5My42NTMgQzYuODI4LDkzLjg3NCA2LjQ2MSw5My45NDEgNi4xMyw5My45MDEgQzYuMTMsOTMuOTAxIDMuMzQ5LDkzLjQ2IDMuMTI5LDkxLjc3NiBDMi41NjgsODcuNDk1IDEuOTc3LDgyLjk5NSAxLjk2Miw3MC40MjUgQzEuOTQ4LDU3LjY0MSAyLjg2LDUwLjY4IDIuODYsNTAuNjggQzMuNTcsNDYuNTM0IDUuNjQ3LDQ1LjQ4OSA1LjY0Nyw0NS40ODkgQzUuNjQ2LDQ1LjQ4OSA4LjA2NSw0NC4wOTIgMTIuMjQ1LDQxLjY3OSBMMTMuMTE2LDQxLjU2IEwxOS43MTUsMzcuNzMgTDE5Ljc2MSwzNy4yNjkgTDYuMTMsOTMuOTAxIiBpZD0iRmlsbC0xMSIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik02LjMxNyw5NC4xNjEgTDYuMTAyLDk0LjE0OCBMNi4xMDEsOTQuMTQ4IEw1Ljg1Nyw5NC4xMDEgQzUuMTM4LDkzLjk0NSAzLjA4NSw5My4zNjUgMi44ODEsOTEuODA5IEMyLjMxMyw4Ny40NjkgMS43MjcsODIuOTk2IDEuNzEzLDcwLjQyNSBDMS42OTksNTcuNzcxIDIuNjA0LDUwLjcxOCAyLjYxMyw1MC42NDggQzMuMzM4LDQ2LjQxNyA1LjQ0NSw0NS4zMSA1LjUzNSw0NS4yNjYgTDEyLjE2Myw0MS40MzkgTDEzLjAzMyw0MS4zMiBMMTkuNDc5LDM3LjU3OCBMMTkuNTEzLDM3LjI0NCBDMTkuNTI2LDM3LjEwNyAxOS42NDcsMzcuMDA4IDE5Ljc4NiwzNy4wMjEgQzE5LjkyMiwzNy4wMzQgMjAuMDIzLDM3LjE1NiAyMC4wMDksMzcuMjkzIEwxOS45NSwzNy44ODIgTDEzLjE5OCw0MS44MDEgTDEyLjMyOCw0MS45MTkgTDUuNzcyLDQ1LjcwNCBDNS43NDEsNDUuNzIgMy43ODIsNDYuNzcyIDMuMTA2LDUwLjcyMiBDMy4wOTksNTAuNzgyIDIuMTk4LDU3LjgwOCAyLjIxMiw3MC40MjQgQzIuMjI2LDgyLjk2MyAyLjgwOSw4Ny40MiAzLjM3Myw5MS43MjkgQzMuNDY0LDkyLjQyIDQuMDYyLDkyLjg4MyA0LjY4Miw5My4xODEgQzQuNTY2LDkyLjk4NCA0LjQ4Niw5Mi43NzYgNC40NDYsOTIuNTcyIEMzLjY2NSw4OC41ODggMy4yOTEsODQuMzcgMy4yNzYsNzEuMTczIEMzLjI2Miw1OC41MiA0LjE2Nyw1MS40NjYgNC4xNzYsNTEuMzk2IEM0LjkwMSw0Ny4xNjUgNy4wMDgsNDYuMDU5IDcuMDk4LDQ2LjAxNCBDNy4wOTQsNDYuMDE1IDgxLjU0MiwzLjAzNCA4MS45NDQsMi44MDIgTDgxLjk3MiwyLjc4NSBDODIuODc2LDIuMjQ3IDgzLjY5MiwyLjA5NyA4NC4zMzIsMi4zNTIgQzg0Ljg4NywyLjU3MyA4NS4yODEsMy4wODUgODUuNTA0LDMuODcyIEM4Ny41MTgsMTEgODYuOTY0LDM2LjA5MSA4NS43ODUsNDMuODU1IEM4NS4yNzgsNDcuMTk2IDg0LjIxLDQ5LjM3IDgyLjYxLDUwLjMxNyBMNy4zMzUsOTMuODY5IEM2Ljk5OSw5NC4wNjMgNi42NTgsOTQuMTYxIDYuMzE3LDk0LjE2MSBMNi4zMTcsOTQuMTYxIFogTTYuMTcsOTMuNjU0IEM2LjQ2Myw5My42OSA2Ljc3NCw5My42MTcgNy4wODUsOTMuNDM3IEw4Mi4zNTgsNDkuODg2IEM4NC4xODEsNDguODA4IDg0Ljk2LDQ1Ljk3MSA4NS4yOTIsNDMuNzggQzg2LjQ2NiwzNi4wNDkgODcuMDIzLDExLjA4NSA4NS4wMjQsNC4wMDggQzg0Ljg0NiwzLjM3NyA4NC41NTEsMi45NzYgODQuMTQ4LDIuODE2IEM4My42NjQsMi42MjMgODIuOTgyLDIuNzY0IDgyLjIyNywzLjIxMyBMODIuMTkzLDMuMjM0IEM4MS43OTEsMy40NjYgNy4zMzUsNDYuNDUyIDcuMzM1LDQ2LjQ1MiBDNy4zMDQsNDYuNDY5IDUuMzQ2LDQ3LjUyMSA0LjY2OSw1MS40NzEgQzQuNjYyLDUxLjUzIDMuNzYxLDU4LjU1NiAzLjc3NSw3MS4xNzMgQzMuNzksODQuMzI4IDQuMTYxLDg4LjUyNCA0LjkzNiw5Mi40NzYgQzUuMDI2LDkyLjkzNyA1LjQxMiw5My40NTkgNS45NzMsOTMuNjE1IEM2LjA4Nyw5My42NCA2LjE1OCw5My42NTIgNi4xNjksOTMuNjU0IEw2LjE3LDkzLjY1NCBMNi4xNyw5My42NTQgWiIgaWQ9IkZpbGwtMTIiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNy4zMTcsNjguOTgyIEM3LjgwNiw2OC43MDEgOC4yMDIsNjguOTI2IDguMjAyLDY5LjQ4NyBDOC4yMDIsNzAuMDQ3IDcuODA2LDcwLjczIDcuMzE3LDcxLjAxMiBDNi44MjksNzEuMjk0IDYuNDMzLDcxLjA2OSA2LjQzMyw3MC41MDggQzYuNDMzLDY5Ljk0OCA2LjgyOSw2OS4yNjUgNy4zMTcsNjguOTgyIiBpZD0iRmlsbC0xMyIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik02LjkyLDcxLjEzMyBDNi42MzEsNzEuMTMzIDYuNDMzLDcwLjkwNSA2LjQzMyw3MC41MDggQzYuNDMzLDY5Ljk0OCA2LjgyOSw2OS4yNjUgNy4zMTcsNjguOTgyIEM3LjQ2LDY4LjkgNy41OTUsNjguODYxIDcuNzE0LDY4Ljg2MSBDOC4wMDMsNjguODYxIDguMjAyLDY5LjA5IDguMjAyLDY5LjQ4NyBDOC4yMDIsNzAuMDQ3IDcuODA2LDcwLjczIDcuMzE3LDcxLjAxMiBDNy4xNzQsNzEuMDk0IDcuMDM5LDcxLjEzMyA2LjkyLDcxLjEzMyBNNy43MTQsNjguNjc0IEM3LjU1Nyw2OC42NzQgNy4zOTIsNjguNzIzIDcuMjI0LDY4LjgyMSBDNi42NzYsNjkuMTM4IDYuMjQ2LDY5Ljg3OSA2LjI0Niw3MC41MDggQzYuMjQ2LDcwLjk5NCA2LjUxNyw3MS4zMiA2LjkyLDcxLjMyIEM3LjA3OCw3MS4zMiA3LjI0Myw3MS4yNzEgNy40MTEsNzEuMTc0IEM3Ljk1OSw3MC44NTcgOC4zODksNzAuMTE3IDguMzg5LDY5LjQ4NyBDOC4zODksNjkuMDAxIDguMTE3LDY4LjY3NCA3LjcxNCw2OC42NzQiIGlkPSJGaWxsLTE0IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTYuOTIsNzAuOTQ3IEM2LjY0OSw3MC45NDcgNi42MjEsNzAuNjQgNi42MjEsNzAuNTA4IEM2LjYyMSw3MC4wMTcgNi45ODIsNjkuMzkyIDcuNDExLDY5LjE0NSBDNy41MjEsNjkuMDgyIDcuNjI1LDY5LjA0OSA3LjcxNCw2OS4wNDkgQzcuOTg2LDY5LjA0OSA4LjAxNSw2OS4zNTUgOC4wMTUsNjkuNDg3IEM4LjAxNSw2OS45NzggNy42NTIsNzAuNjAzIDcuMjI0LDcwLjg1MSBDNy4xMTUsNzAuOTE0IDcuMDEsNzAuOTQ3IDYuOTIsNzAuOTQ3IE03LjcxNCw2OC44NjEgQzcuNTk1LDY4Ljg2MSA3LjQ2LDY4LjkgNy4zMTcsNjguOTgyIEM2LjgyOSw2OS4yNjUgNi40MzMsNjkuOTQ4IDYuNDMzLDcwLjUwOCBDNi40MzMsNzAuOTA1IDYuNjMxLDcxLjEzMyA2LjkyLDcxLjEzMyBDNy4wMzksNzEuMTMzIDcuMTc0LDcxLjA5NCA3LjMxNyw3MS4wMTIgQzcuODA2LDcwLjczIDguMjAyLDcwLjA0NyA4LjIwMiw2OS40ODcgQzguMjAyLDY5LjA5IDguMDAzLDY4Ljg2MSA3LjcxNCw2OC44NjEiIGlkPSJGaWxsLTE1IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTcuNDQ0LDg1LjM1IEM3LjcwOCw4NS4xOTggNy45MjEsODUuMzE5IDcuOTIxLDg1LjYyMiBDNy45MjEsODUuOTI1IDcuNzA4LDg2LjI5MiA3LjQ0NCw4Ni40NDQgQzcuMTgxLDg2LjU5NyA2Ljk2Nyw4Ni40NzUgNi45NjcsODYuMTczIEM2Ljk2Nyw4NS44NzEgNy4xODEsODUuNTAyIDcuNDQ0LDg1LjM1IiBpZD0iRmlsbC0xNiIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik03LjIzLDg2LjUxIEM3LjA3NCw4Ni41MSA2Ljk2Nyw4Ni4zODcgNi45NjcsODYuMTczIEM2Ljk2Nyw4NS44NzEgNy4xODEsODUuNTAyIDcuNDQ0LDg1LjM1IEM3LjUyMSw4NS4zMDUgNy41OTQsODUuMjg0IDcuNjU4LDg1LjI4NCBDNy44MTQsODUuMjg0IDcuOTIxLDg1LjQwOCA3LjkyMSw4NS42MjIgQzcuOTIxLDg1LjkyNSA3LjcwOCw4Ni4yOTIgNy40NDQsODYuNDQ0IEM3LjM2Nyw4Ni40ODkgNy4yOTQsODYuNTEgNy4yMyw4Ni41MSBNNy42NTgsODUuMDk4IEM3LjU1OCw4NS4wOTggNy40NTUsODUuMTI3IDcuMzUxLDg1LjE4OCBDNy4wMzEsODUuMzczIDYuNzgxLDg1LjgwNiA2Ljc4MSw4Ni4xNzMgQzYuNzgxLDg2LjQ4MiA2Ljk2Niw4Ni42OTcgNy4yMyw4Ni42OTcgQzcuMzMsODYuNjk3IDcuNDMzLDg2LjY2NiA3LjUzOCw4Ni42MDcgQzcuODU4LDg2LjQyMiA4LjEwOCw4NS45ODkgOC4xMDgsODUuNjIyIEM4LjEwOCw4NS4zMTMgNy45MjMsODUuMDk4IDcuNjU4LDg1LjA5OCIgaWQ9IkZpbGwtMTciIGZpbGw9IiM4MDk3QTIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNy4yMyw4Ni4zMjIgTDcuMTU0LDg2LjE3MyBDNy4xNTQsODUuOTM4IDcuMzMzLDg1LjYyOSA3LjUzOCw4NS41MTIgTDcuNjU4LDg1LjQ3MSBMNy43MzQsODUuNjIyIEM3LjczNCw4NS44NTYgNy41NTUsODYuMTY0IDcuMzUxLDg2LjI4MiBMNy4yMyw4Ni4zMjIgTTcuNjU4LDg1LjI4NCBDNy41OTQsODUuMjg0IDcuNTIxLDg1LjMwNSA3LjQ0NCw4NS4zNSBDNy4xODEsODUuNTAyIDYuOTY3LDg1Ljg3MSA2Ljk2Nyw4Ni4xNzMgQzYuOTY3LDg2LjM4NyA3LjA3NCw4Ni41MSA3LjIzLDg2LjUxIEM3LjI5NCw4Ni41MSA3LjM2Nyw4Ni40ODkgNy40NDQsODYuNDQ0IEM3LjcwOCw4Ni4yOTIgNy45MjEsODUuOTI1IDcuOTIxLDg1LjYyMiBDNy45MjEsODUuNDA4IDcuODE0LDg1LjI4NCA3LjY1OCw4NS4yODQiIGlkPSJGaWxsLTE4IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTc3LjI3OCw3Ljc2OSBMNzcuMjc4LDUxLjQzNiBMMTAuMjA4LDkwLjE2IEwxMC4yMDgsNDYuNDkzIEw3Ny4yNzgsNy43NjkiIGlkPSJGaWxsLTE5IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTEwLjA4Myw5MC4zNzUgTDEwLjA4Myw0Ni40MjEgTDEwLjE0Niw0Ni4zODUgTDc3LjQwMyw3LjU1NCBMNzcuNDAzLDUxLjUwOCBMNzcuMzQxLDUxLjU0NCBMMTAuMDgzLDkwLjM3NSBMMTAuMDgzLDkwLjM3NSBaIE0xMC4zMzMsNDYuNTY0IEwxMC4zMzMsODkuOTQ0IEw3Ny4xNTQsNTEuMzY1IEw3Ny4xNTQsNy45ODUgTDEwLjMzMyw0Ni41NjQgTDEwLjMzMyw0Ni41NjQgWiIgaWQ9IkZpbGwtMjAiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMjUuNzM3LDg4LjY0NyBMMTE4LjA5OCw5MS45ODEgTDExOC4wOTgsODQgTDEwNi42MzksODguNzEzIEwxMDYuNjM5LDk2Ljk4MiBMOTksMTAwLjMxNSBMMTEyLjM2OSwxMDMuOTYxIEwxMjUuNzM3LDg4LjY0NyIgaWQ9IkltcG9ydGVkLUxheWVycy1Db3B5LTIiIGZpbGw9IiM0NTVBNjQiIHNrZXRjaDp0eXBlPSJNU1NoYXBlR3JvdXAiPjwvcGF0aD4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+\\\");\\n},M.exports=t},{\\\"./util.js\\\":22}],17:[function(e,M,i){function t(e){this.kFilter=e,this.currentAccelMeasurement=new A,this.currentGyroMeasurement=new A,this.previousGyroMeasurement=new A,r.isIOS()?this.filterQ=new s.Quaternion((-1),0,0,1):this.filterQ=new s.Quaternion(1,0,0,1),this.previousFilterQ=new s.Quaternion,this.previousFilterQ.copy(this.filterQ),this.accelQ=new s.Quaternion,this.isOrientationInitialized=!1,this.estimatedGravity=new s.Vector3,this.measuredGravity=new s.Vector3,this.gyroIntegralQ=new s.Quaternion}var A=e(\\\"./sensor-sample.js\\\"),s=e(\\\"../math-util.js\\\"),r=e(\\\"../util.js\\\"),N=!1;t.prototype.addAccelMeasurement=function(e,M){this.currentAccelMeasurement.set(e,M)},t.prototype.addGyroMeasurement=function(e,M){this.currentGyroMeasurement.set(e,M);var i=M-this.previousGyroMeasurement.timestampS;r.isTimestampDeltaValid(i)&&this.run_(),this.previousGyroMeasurement.copy(this.currentGyroMeasurement)},t.prototype.run_=function(){if(!this.isOrientationInitialized)return this.accelQ=this.accelToQuaternion_(this.currentAccelMeasurement.sample),this.previousFilterQ.copy(this.accelQ),void(this.isOrientationInitialized=!0);var e=this.currentGyroMeasurement.timestampS-this.previousGyroMeasurement.timestampS,M=this.gyroToQuaternionDelta_(this.currentGyroMeasurement.sample,e);this.gyroIntegralQ.multiply(M),this.filterQ.copy(this.previousFilterQ),this.filterQ.multiply(M);var i=new s.Quaternion;i.copy(this.filterQ),i.inverse(),this.estimatedGravity.set(0,0,-1),this.estimatedGravity.applyQuaternion(i),this.estimatedGravity.normalize(),this.measuredGravity.copy(this.currentAccelMeasurement.sample),this.measuredGravity.normalize();var t=new s.Quaternion;t.setFromUnitVectors(this.estimatedGravity,this.measuredGravity),t.inverse(),N&&console.log(\\\"Delta: %d deg, G_est: (%s, %s, %s), G_meas: (%s, %s, %s)\\\",s.radToDeg*r.getQuaternionAngle(t),this.estimatedGravity.x.toFixed(1),this.estimatedGravity.y.toFixed(1),this.estimatedGravity.z.toFixed(1),this.measuredGravity.x.toFixed(1),this.measuredGravity.y.toFixed(1),this.measuredGravity.z.toFixed(1));var A=new s.Quaternion;A.copy(this.filterQ),A.multiply(t),this.filterQ.slerp(A,1-this.kFilter),this.previousFilterQ.copy(this.filterQ)},t.prototype.getOrientation=function(){return this.filterQ},t.prototype.accelToQuaternion_=function(e){var M=new s.Vector3;M.copy(e),M.normalize();var i=new s.Quaternion;return i.setFromUnitVectors(new s.Vector3(0,0,(-1)),M),i.inverse(),i},t.prototype.gyroToQuaternionDelta_=function(e,M){var i=new s.Quaternion,t=new s.Vector3;return t.copy(e),t.normalize(),i.setFromAxisAngle(t,e.length()*M),i},M.exports=t},{\\\"../math-util.js\\\":14,\\\"../util.js\\\":22,\\\"./sensor-sample.js\\\":20}],18:[function(e,M,i){function t(){this.deviceId=\\\"webvr-polyfill:fused\\\",this.deviceName=\\\"VR Position Device (webvr-polyfill:fused)\\\",this.accelerometer=new N.Vector3,this.gyroscope=new N.Vector3,window.addEventListener(\\\"devicemotion\\\",this.onDeviceMotionChange_.bind(this)),window.addEventListener(\\\"orientationchange\\\",this.onScreenOrientationChange_.bind(this)),this.filter=new A(WebVRConfig.K_FILTER),this.posePredictor=new s(WebVRConfig.PREDICTION_TIME_S),this.touchPanner=new r,this.filterToWorldQ=new N.Quaternion,D.isIOS()?this.filterToWorldQ.setFromAxisAngle(new N.Vector3(1,0,0),Math.PI/2):this.filterToWorldQ.setFromAxisAngle(new N.Vector3(1,0,0),-Math.PI/2),this.inverseWorldToScreenQ=new N.Quaternion,this.worldToScreenQ=new N.Quaternion,this.originalPoseAdjustQ=new N.Quaternion,this.originalPoseAdjustQ.setFromAxisAngle(new N.Vector3(0,0,1),-window.orientation*Math.PI/180),this.setScreenTransform_(),D.isLandscapeMode()&&this.filterToWorldQ.multiply(this.inverseWorldToScreenQ),this.resetQ=new N.Quaternion,this.isFirefoxAndroid=D.isFirefoxAndroid(),this.isIOS=D.isIOS(),this.orientationOut_=new Float32Array(4)}var A=e(\\\"./complementary-filter.js\\\"),s=e(\\\"./pose-predictor.js\\\"),r=e(\\\"../touch-panner.js\\\"),N=e(\\\"../math-util.js\\\"),D=e(\\\"../util.js\\\");t.prototype.getPosition=function(){return null},t.prototype.getOrientation=function(){var e=this.filter.getOrientation();this.predictedQ=this.posePredictor.getPrediction(e,this.gyroscope,this.previousTimestampS);var M=new N.Quaternion;return M.copy(this.filterToWorldQ),M.multiply(this.resetQ),WebVRConfig.TOUCH_PANNER_DISABLED||M.multiply(this.touchPanner.getOrientation()),M.multiply(this.predictedQ),M.multiply(this.worldToScreenQ),WebVRConfig.YAW_ONLY&&(M.x=0,M.z=0,M.normalize()),this.orientationOut_[0]=M.x,this.orientationOut_[1]=M.y,this.orientationOut_[2]=M.z,this.orientationOut_[3]=M.w,this.orientationOut_},t.prototype.resetPose=function(){this.resetQ.copy(this.filter.getOrientation()),this.resetQ.x=0,this.resetQ.y=0,this.resetQ.z*=-1,this.resetQ.normalize(),D.isLandscapeMode()&&this.resetQ.multiply(this.inverseWorldToScreenQ),this.resetQ.multiply(this.originalPoseAdjustQ),WebVRConfig.TOUCH_PANNER_DISABLED||this.touchPanner.resetSensor()},t.prototype.onDeviceMotionChange_=function(e){var M=e.accelerationIncludingGravity,i=e.rotationRate,t=e.timeStamp/1e3;this.isFirefoxAndroid&&(t/=1e3);var A=t-this.previousTimestampS;return A<=D.MIN_TIMESTEP||A>D.MAX_TIMESTEP?(console.warn(\\\"Invalid timestamps detected. Time step between successive gyroscope sensor samples is very small or not monotonic\\\"),void(this.previousTimestampS=t)):(this.accelerometer.set(-M.x,-M.y,-M.z),this.gyroscope.set(i.alpha,i.beta,i.gamma),(this.isIOS||this.isFirefoxAndroid)&&this.gyroscope.multiplyScalar(Math.PI/180),this.filter.addAccelMeasurement(this.accelerometer,t),this.filter.addGyroMeasurement(this.gyroscope,t),void(this.previousTimestampS=t))},t.prototype.onScreenOrientationChange_=function(e){this.setScreenTransform_()},t.prototype.setScreenTransform_=function(){switch(this.worldToScreenQ.set(0,0,0,1),window.orientation){case 0:break;case 90:this.worldToScreenQ.setFromAxisAngle(new N.Vector3(0,0,1),-Math.PI/2);break;case-90:this.worldToScreenQ.setFromAxisAngle(new N.Vector3(0,0,1),Math.PI/2);break;case 180:}this.inverseWorldToScreenQ.copy(this.worldToScreenQ),this.inverseWorldToScreenQ.inverse()},M.exports=t},{\\\"../math-util.js\\\":14,\\\"../touch-panner.js\\\":21,\\\"../util.js\\\":22,\\\"./complementary-filter.js\\\":17,\\\"./pose-predictor.js\\\":19}],19:[function(e,M,i){function t(e){this.predictionTimeS=e,this.previousQ=new A.Quaternion,this.previousTimestampS=null,this.deltaQ=new A.Quaternion,this.outQ=new A.Quaternion}var A=e(\\\"../math-util.js\\\"),s=!1;t.prototype.getPrediction=function(e,M,i){if(!this.previousTimestampS)return this.previousQ.copy(e),this.previousTimestampS=i,e;var t=new A.Vector3;t.copy(M),t.normalize();var r=M.length();if(r<20*A.degToRad)return s&&console.log(\\\"Moving slowly, at %s deg/s: no prediction\\\",(A.radToDeg*r).toFixed(1)),this.outQ.copy(e),this.previousQ.copy(e),this.outQ;var N=(i-this.previousTimestampS,r*this.predictionTimeS);return this.deltaQ.setFromAxisAngle(t,N),this.outQ.copy(this.previousQ),this.outQ.multiply(this.deltaQ),this.previousQ.copy(e),this.previousTimestampS=i,this.outQ},M.exports=t},{\\\"../math-util.js\\\":14}],20:[function(e,M,i){function t(e,M){this.set(e,M)}t.prototype.set=function(e,M){this.sample=e,this.timestampS=M},t.prototype.copy=function(e){this.set(e.sample,e.timestampS)},M.exports=t},{}],21:[function(e,M,i){function t(){window.addEventListener(\\\"touchstart\\\",this.onTouchStart_.bind(this)),window.addEventListener(\\\"touchmove\\\",this.onTouchMove_.bind(this)),window.addEventListener(\\\"touchend\\\",this.onTouchEnd_.bind(this)),this.isTouching=!1,this.rotateStart=new A.Vector2,this.rotateEnd=new A.Vector2,this.rotateDelta=new A.Vector2,this.theta=0,this.orientation=new A.Quaternion}var A=e(\\\"./math-util.js\\\"),s=e(\\\"./util.js\\\"),r=.5;t.prototype.getOrientation=function(){return this.orientation.setFromEulerXYZ(0,0,this.theta),this.orientation},t.prototype.resetSensor=function(){this.theta=0},t.prototype.onTouchStart_=function(e){1==e.touches.length&&(this.rotateStart.set(e.touches[0].pageX,e.touches[0].pageY),this.isTouching=!0)},t.prototype.onTouchMove_=function(e){if(this.isTouching){this.rotateEnd.set(e.touches[0].pageX,e.touches[0].pageY),this.rotateDelta.subVectors(this.rotateEnd,this.rotateStart),this.rotateStart.copy(this.rotateEnd),s.isIOS()&&(this.rotateDelta.x*=-1);var M=document.body;this.theta+=2*Math.PI*this.rotateDelta.x/M.clientWidth*r}},t.prototype.onTouchEnd_=function(e){this.isTouching=!1},M.exports=t},{\\\"./math-util.js\\\":14,\\\"./util.js\\\":22}],22:[function(e,M,i){var t=e(\\\"object-assign\\\"),A=window.Util||{};A.MIN_TIMESTEP=.001,A.MAX_TIMESTEP=1,A.base64=function(e,M){return\\\"data:\\\"+e+\\\";base64,\\\"+M},A.clamp=function(e,M,i){return Math.min(Math.max(M,e),i)},A.lerp=function(e,M,i){return e+(M-e)*i},A.isIOS=function(){var e=/iPad|iPhone|iPod/.test(navigator.platform);return function(){return e}}(),A.isSafari=function(){var e=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);return function(){return e}}(),A.isFirefoxAndroid=function(){var e=navigator.userAgent.indexOf(\\\"Firefox\\\")!==-1&&navigator.userAgent.indexOf(\\\"Android\\\")!==-1;return function(){return e}}(),A.isLandscapeMode=function(){return 90==window.orientation||window.orientation==-90},A.isTimestampDeltaValid=function(e){return!isNaN(e)&&(!(e<=A.MIN_TIMESTEP)&&!(e>A.MAX_TIMESTEP))},A.getScreenWidth=function(){return Math.max(window.screen.width,window.screen.height)*window.devicePixelRatio},A.getScreenHeight=function(){return Math.min(window.screen.width,window.screen.height)*window.devicePixelRatio},A.requestFullscreen=function(e){if(e.requestFullscreen)e.requestFullscreen();else if(e.webkitRequestFullscreen)e.webkitRequestFullscreen();else if(e.mozRequestFullScreen)e.mozRequestFullScreen();else{if(!e.msRequestFullscreen)return!1;e.msRequestFullscreen()}return!0},A.exitFullscreen=function(){if(document.exitFullscreen)document.exitFullscreen();else if(document.webkitExitFullscreen)document.webkitExitFullscreen();else if(document.mozCancelFullScreen)document.mozCancelFullScreen();else{if(!document.msExitFullscreen)return!1;document.msExitFullscreen()}return!0},A.getFullscreenElement=function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement},A.linkProgram=function(e,M,i,t){var A=e.createShader(e.VERTEX_SHADER);e.shaderSource(A,M),e.compileShader(A);var s=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(s,i),e.compileShader(s);var r=e.createProgram();e.attachShader(r,A),e.attachShader(r,s);for(var N in t)e.bindAttribLocation(r,t[N],N);return e.linkProgram(r),e.deleteShader(A),e.deleteShader(s),r},A.getProgramUniforms=function(e,M){for(var i={},t=e.getProgramParameter(M,e.ACTIVE_UNIFORMS),A=\\\"\\\",s=0;s<t;s++){var r=e.getActiveUniform(M,s);A=r.name.replace(\\\"[0]\\\",\\\"\\\"),i[A]=e.getUniformLocation(M,A)}return i},A.orthoMatrix=function(e,M,i,t,A,s,r){var N=1/(M-i),D=1/(t-A),n=1/(s-r);return e[0]=-2*N,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*D,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*n,e[11]=0,e[12]=(M+i)*N,e[13]=(A+t)*D,e[14]=(r+s)*n,e[15]=1,e},A.isMobile=function(){var e=!1;return function(M){(/(android|bb\\\\d+|meego).+mobile|avantgo|bada\\\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(M)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\\\-(n|u)|c55\\\\/|capi|ccwa|cdm\\\\-|cell|chtm|cldc|cmd\\\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\\\-|_)|g1 u|g560|gene|gf\\\\-5|g\\\\-mo|go(\\\\.w|od)|gr(ad|un)|haie|hcit|hd\\\\-(m|p|t)|hei\\\\-|hi(pt|ta)|hp( i|ip)|hs\\\\-c|ht(c(\\\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\\\-(20|go|ma)|i230|iac( |\\\\-|\\\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\\\/)|klon|kpt |kwc\\\\-|kyo(c|k)|le(no|xi)|lg( g|\\\\/(k|l|u)|50|54|\\\\-[a-w])|libw|lynx|m1\\\\-w|m3ga|m50\\\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\\\-2|po(ck|rt|se)|prox|psio|pt\\\\-g|qa\\\\-a|qc(07|12|21|32|60|\\\\-[2-7]|i\\\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\\\-|oo|p\\\\-)|sdk\\\\/|se(c(\\\\-|0|1)|47|mc|nd|ri)|sgh\\\\-|shar|sie(\\\\-|m)|sk\\\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\\\-|v\\\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\\\-|tdg\\\\-|tel(i|m)|tim\\\\-|t\\\\-mo|to(pl|sh)|ts(70|m\\\\-|m3|m5)|tx\\\\-9|up(\\\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\\\-|your|zeto|zte\\\\-/i.test(M.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e},A.extend=t,A.safariCssSizeWorkaround=function(e){if(A.isIOS()){var M=e.style.width,i=e.style.height;e.style.width=parseInt(M)+1+\\\"px\\\",e.style.height=parseInt(i)+\\\"px\\\",console.log(\\\"Resetting width to...\\\",M),setTimeout(function(){console.log(\\\"Done. Width is now\\\",M),e.style.width=M,e.style.height=i},100)}window.Util=A,window.canvas=e},A.frameDataFromPose=function(){function e(e,M,i,t){var r=Math.tan(M?M.upDegrees*A:s),N=Math.tan(M?M.downDegrees*A:s),D=Math.tan(M?M.leftDegrees*A:s),n=Math.tan(M?M.rightDegrees*A:s),u=2/(D+n),a=2/(r+N);return e[0]=u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=-((D-n)*u*.5),e[9]=(r-N)*a*.5,e[10]=t/(i-t),e[11]=-1,e[12]=0,e[13]=0,e[14]=t*i/(i-t),e[15]=0,e}function M(e,M,i){var t=M[0],A=M[1],s=M[2],r=M[3],N=t+t,D=A+A,n=s+s,u=t*N,a=t*D,o=t*n,g=A*D,j=A*n,I=s*n,L=r*N,T=r*D,c=r*n;return e[0]=1-(g+I),e[1]=a+c,e[2]=o-T,e[3]=0,e[4]=a-c,e[5]=1-(u+I),e[6]=j+L,e[7]=0,e[8]=o+T,e[9]=j-L,e[10]=1-(u+g),e[11]=0,e[12]=i[0],e[13]=i[1],e[14]=i[2],e[15]=1,e}function i(e,M,i){var t,A,s,r,N,D,n,u,a,o,g,j,I=i[0],L=i[1],T=i[2];return M===e?(e[12]=M[0]*I+M[4]*L+M[8]*T+M[12],e[13]=M[1]*I+M[5]*L+M[9]*T+M[13],e[14]=M[2]*I+M[6]*L+M[10]*T+M[14],e[15]=M[3]*I+M[7]*L+M[11]*T+M[15]):(t=M[0],A=M[1],s=M[2],r=M[3],N=M[4],D=M[5],n=M[6],u=M[7],a=M[8],o=M[9],g=M[10],j=M[11],e[0]=t,e[1]=A,e[2]=s,e[3]=r,e[4]=N,e[5]=D,e[6]=n,e[7]=u,e[8]=a,e[9]=o,e[10]=g,e[11]=j,e[12]=t*I+N*L+a*T+M[12],e[13]=A*I+D*L+o*T+M[13],e[14]=s*I+n*L+g*T+M[14],e[15]=r*I+u*L+j*T+M[15]),e}function t(t,A,s,D,n){e(t,D?D.fieldOfView:null,n.depthNear,n.depthFar);var u=s.orientation||r,a=s.position||N;M(A,u,a),D&&i(A,A,D.offset),mat4_invert(A,A)}var A=Math.PI/180,s=.25*Math.PI;mat4_invert=function(e,M){var i=M[0],t=M[1],A=M[2],s=M[3],r=M[4],N=M[5],D=M[6],n=M[7],u=M[8],a=M[9],o=M[10],g=M[11],j=M[12],I=M[13],L=M[14],T=M[15],c=i*N-t*r,E=i*D-A*r,w=i*n-s*r,y=t*D-A*N,l=t*n-s*N,z=A*n-s*D,h=u*I-a*j,d=u*L-o*j,x=u*T-g*j,O=a*L-o*I,C=a*T-g*I,S=o*T-g*L,p=c*S-E*C+w*O+y*x-l*d+z*h;return p?(p=1/p,e[0]=(N*S-D*C+n*O)*p,e[1]=(A*C-t*S-s*O)*p,e[2]=(I*z-L*l+T*y)*p,e[3]=(o*l-a*z-g*y)*p,e[4]=(D*x-r*S-n*d)*p,e[5]=(i*S-A*x+s*d)*p,e[6]=(L*w-j*z-T*E)*p,e[7]=(u*z-o*w+g*E)*p,e[8]=(r*C-N*x+n*h)*p,e[9]=(t*x-i*C-s*h)*p,e[10]=(j*l-I*w+T*c)*p,e[11]=(a*w-u*l-g*c)*p,e[12]=(N*d-r*O-D*h)*p,e[13]=(i*O-t*d+A*h)*p,e[14]=(I*E-j*y-L*c)*p,e[15]=(u*y-a*E+o*c)*p,e):null};var r=new Float32Array([0,0,0,1]),N=new Float32Array([0,0,0]);return function(e,M,i){return!(!e||!M)&&(e.pose=M,e.timestamp=M.timestamp,t(e.leftProjectionMatrix,e.leftViewMatrix,M,i.getEyeParameters(\\\"left\\\"),i),t(e.rightProjectionMatrix,e.rightViewMatrix,M,i.getEyeParameters(\\\"right\\\"),i),!0)}}(),M.exports=A},{\\\"object-assign\\\":1}],23:[function(e,M,i){function t(){try{this.selectedKey=localStorage.getItem(N)||r}catch(e){console.error(\\\"Failed to load viewer profile: %s\\\",e)}this.dialog=this.createDialog_(s.Viewers),this.root=null}var A=e(\\\"./emitter.js\\\"),s=(e(\\\"./util.js\\\"),e(\\\"./device-info.js\\\")),r=\\\"CardboardV1\\\",N=\\\"WEBVR_CARDBOARD_VIEWER\\\",D=\\\"webvr-polyfill-viewer-selector\\\";t.prototype=new A,t.prototype.show=function(e){this.root=e,e.appendChild(this.dialog);var M=this.dialog.querySelector(\\\"#\\\"+this.selectedKey);M.checked=!0,this.dialog.style.display=\\\"block\\\"},t.prototype.hide=function(){this.root&&this.root.contains(this.dialog)&&this.root.removeChild(this.dialog),this.dialog.style.display=\\\"none\\\"},t.prototype.getCurrentViewer=function(){return s.Viewers[this.selectedKey]},t.prototype.getSelectedKey_=function(){var e=this.dialog.querySelector(\\\"input[name=field]:checked\\\");return e?e.id:null},t.prototype.onSave_=function(){if(this.selectedKey=this.getSelectedKey_(),!this.selectedKey||!s.Viewers[this.selectedKey])return void console.error(\\\"ViewerSelector.onSave_: this should never happen!\\\");this.emit(\\\"change\\\",s.Viewers[this.selectedKey]);try{localStorage.setItem(N,this.selectedKey)}catch(e){console.error(\\\"Failed to save viewer profile: %s\\\",e)}this.hide()},t.prototype.createDialog_=function(e){var M=document.createElement(\\\"div\\\");M.classList.add(D),M.style.display=\\\"none\\\";var i=document.createElement(\\\"div\\\"),t=i.style;t.position=\\\"fixed\\\",t.left=0,t.top=0,t.width=\\\"100%\\\",t.height=\\\"100%\\\",t.background=\\\"rgba(0, 0, 0, 0.3)\\\",i.addEventListener(\\\"click\\\",this.hide.bind(this));var A=280,s=document.createElement(\\\"div\\\"),t=s.style;t.boxSizing=\\\"border-box\\\",t.position=\\\"fixed\\\",t.top=\\\"24px\\\",t.left=\\\"50%\\\",t.marginLeft=-A/2+\\\"px\\\",t.width=A+\\\"px\\\",t.padding=\\\"24px\\\",t.overflow=\\\"hidden\\\",t.background=\\\"#fafafa\\\",t.fontFamily=\\\"'Roboto', sans-serif\\\",t.boxShadow=\\\"0px 5px 20px #666\\\",s.appendChild(this.createH1_(\\\"Select your viewer\\\"));for(var r in e)s.appendChild(this.createChoice_(r,e[r].label));return s.appendChild(this.createButton_(\\\"Save\\\",this.onSave_.bind(this))),M.appendChild(i),M.appendChild(s),M},t.prototype.createH1_=function(e){var M=document.createElement(\\\"h1\\\"),i=M.style;return i.color=\\\"black\\\",i.fontSize=\\\"20px\\\",i.fontWeight=\\\"bold\\\",i.marginTop=0,i.marginBottom=\\\"24px\\\",M.innerHTML=e,M},t.prototype.createChoice_=function(e,M){var i=document.createElement(\\\"div\\\");i.style.marginTop=\\\"8px\\\",i.style.color=\\\"black\\\";var t=document.createElement(\\\"input\\\");t.style.fontSize=\\\"30px\\\",t.setAttribute(\\\"id\\\",e),t.setAttribute(\\\"type\\\",\\\"radio\\\"),t.setAttribute(\\\"value\\\",e),t.setAttribute(\\\"name\\\",\\\"field\\\");var A=document.createElement(\\\"label\\\");return A.style.marginLeft=\\\"4px\\\",A.setAttribute(\\\"for\\\",e),A.innerHTML=M,i.appendChild(t),i.appendChild(A),i},t.prototype.createButton_=function(e,M){var i=document.createElement(\\\"button\\\");i.innerHTML=e;var t=i.style;return t.float=\\\"right\\\",t.textTransform=\\\"uppercase\\\",t.color=\\\"#1094f7\\\",t.fontSize=\\\"14px\\\",t.letterSpacing=0,t.border=0,t.background=\\\"none\\\",t.marginTop=\\\"16px\\\",i.addEventListener(\\\"click\\\",M),i},M.exports=t},{\\\"./device-info.js\\\":7,\\\"./emitter.js\\\":12,\\\"./util.js\\\":22}],24:[function(e,M,i){function t(){var e=document.createElement(\\\"video\\\");e.addEventListener(\\\"ended\\\",function(){e.play()}),this.request=function(){e.paused&&(e.src=r.base64(\\\"video/mp4\\\",\\\"AAAAGGZ0eXBpc29tAAAAAG1wNDFhdmMxAAAIA21vb3YAAABsbXZoZAAAAADSa9v60mvb+gABX5AAlw/gAAEAAAEAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAdkdHJhawAAAFx0a2hkAAAAAdJr2/rSa9v6AAAAAQAAAAAAlw/gAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAQAAAAHAAAAAAAJGVkdHMAAAAcZWxzdAAAAAAAAAABAJcP4AAAAAAAAQAAAAAG3G1kaWEAAAAgbWRoZAAAAADSa9v60mvb+gAPQkAGjneAFccAAAAAAC1oZGxyAAAAAAAAAAB2aWRlAAAAAAAAAAAAAAAAVmlkZW9IYW5kbGVyAAAABodtaW5mAAAAFHZtaGQAAAABAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAAZHc3RibAAAAJdzdHNkAAAAAAAAAAEAAACHYXZjMQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAMABwASAAAAEgAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABj//wAAADFhdmNDAWQAC//hABlnZAALrNlfllw4QAAAAwBAAAADAKPFCmWAAQAFaOvssiwAAAAYc3R0cwAAAAAAAAABAAAAbgAPQkAAAAAUc3RzcwAAAAAAAAABAAAAAQAAA4BjdHRzAAAAAAAAAG4AAAABAD0JAAAAAAEAehIAAAAAAQA9CQAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEALcbAAAAAHHN0c2MAAAAAAAAAAQAAAAEAAABuAAAAAQAAAcxzdHN6AAAAAAAAAAAAAABuAAADCQAAABgAAAAOAAAADgAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABMAAAAUc3RjbwAAAAAAAAABAAAIKwAAACt1ZHRhAAAAI6llbmMAFwAAdmxjIDIuMi4xIHN0cmVhbSBvdXRwdXQAAAAId2lkZQAACRRtZGF0AAACrgX//6vcRem95tlIt5Ys2CDZI+7veDI2NCAtIGNvcmUgMTQyIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNCAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTMgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MzoweDEzIG1lPWhleCBzdWJtZT03IHBzeT0xIHBzeV9yZD0xLjAwOjAuMDAgbWl4ZWRfcmVmPTEgbWVfcmFuZ2U9MTYgY2hyb21hX21lPTEgdHJlbGxpcz0xIDh4OGRjdD0xIGNxbT0wIGRlYWR6b25lPTIxLDExIGZhc3RfcHNraXA9MSBjaHJvbWFfcXBfb2Zmc2V0PS0yIHRocmVhZHM9MTIgbG9va2FoZWFkX3RocmVhZHM9MSBzbGljZWRfdGhyZWFkcz0wIG5yPTAgZGVjaW1hdGU9MSBpbnRlcmxhY2VkPTAgYmx1cmF5X2NvbXBhdD0wIGNvbnN0cmFpbmVkX2ludHJhPTAgYmZyYW1lcz0zIGJfcHlyYW1pZD0yIGJfYWRhcHQ9MSBiX2JpYXM9MCBkaXJlY3Q9MSB3ZWlnaHRiPTEgb3Blbl9nb3A9MCB3ZWlnaHRwPTIga2V5aW50PTI1MCBrZXlpbnRfbWluPTEgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD00MCByYz1hYnIgbWJ0cmVlPTEgYml0cmF0ZT0xMDAgcmF0ZXRvbD0xLjAgcWNvbXA9MC42MCBxcG1pbj0xMCBxcG1heD01MSBxcHN0ZXA9NCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAU2WIhAAQ/8ltlOe+cTZuGkKg+aRtuivcDZ0pBsfsEi9p/i1yU9DxS2lq4dXTinViF1URBKXgnzKBd/Uh1bkhHtMrwrRcOJslD01UB+fyaL6ef+DBAAAAFEGaJGxBD5B+v+a+4QqF3MgBXz9MAAAACkGeQniH/+94r6EAAAAKAZ5hdEN/8QytwAAAAAgBnmNqQ3/EgQAAAA5BmmhJqEFomUwIIf/+4QAAAApBnoZFESw//76BAAAACAGepXRDf8SBAAAACAGep2pDf8SAAAAADkGarEmoQWyZTAgh//7gAAAACkGeykUVLD//voEAAAAIAZ7pdEN/xIAAAAAIAZ7rakN/xIAAAAAOQZrwSahBbJlMCCH//uEAAAAKQZ8ORRUsP/++gQAAAAgBny10Q3/EgQAAAAgBny9qQ3/EgAAAAA5BmzRJqEFsmUwIIf/+4AAAAApBn1JFFSw//76BAAAACAGfcXRDf8SAAAAACAGfc2pDf8SAAAAADkGbeEmoQWyZTAgh//7hAAAACkGflkUVLD//voAAAAAIAZ+1dEN/xIEAAAAIAZ+3akN/xIEAAAAOQZu8SahBbJlMCCH//uAAAAAKQZ/aRRUsP/++gQAAAAgBn/l0Q3/EgAAAAAgBn/tqQ3/EgQAAAA5Bm+BJqEFsmUwIIf/+4QAAAApBnh5FFSw//76AAAAACAGePXRDf8SAAAAACAGeP2pDf8SBAAAADkGaJEmoQWyZTAgh//7gAAAACkGeQkUVLD//voEAAAAIAZ5hdEN/xIAAAAAIAZ5jakN/xIEAAAAOQZpoSahBbJlMCCH//uEAAAAKQZ6GRRUsP/++gQAAAAgBnqV0Q3/EgQAAAAgBnqdqQ3/EgAAAAA5BmqxJqEFsmUwIIf/+4AAAAApBnspFFSw//76BAAAACAGe6XRDf8SAAAAACAGe62pDf8SAAAAADkGa8EmoQWyZTAgh//7hAAAACkGfDkUVLD//voEAAAAIAZ8tdEN/xIEAAAAIAZ8vakN/xIAAAAAOQZs0SahBbJlMCCH//uAAAAAKQZ9SRRUsP/++gQAAAAgBn3F0Q3/EgAAAAAgBn3NqQ3/EgAAAAA5Bm3hJqEFsmUwIIf/+4QAAAApBn5ZFFSw//76AAAAACAGftXRDf8SBAAAACAGft2pDf8SBAAAADkGbvEmoQWyZTAgh//7gAAAACkGf2kUVLD//voEAAAAIAZ/5dEN/xIAAAAAIAZ/7akN/xIEAAAAOQZvgSahBbJlMCCH//uEAAAAKQZ4eRRUsP/++gAAAAAgBnj10Q3/EgAAAAAgBnj9qQ3/EgQAAAA5BmiRJqEFsmUwIIf/+4AAAAApBnkJFFSw//76BAAAACAGeYXRDf8SAAAAACAGeY2pDf8SBAAAADkGaaEmoQWyZTAgh//7hAAAACkGehkUVLD//voEAAAAIAZ6ldEN/xIEAAAAIAZ6nakN/xIAAAAAOQZqsSahBbJlMCCH//uAAAAAKQZ7KRRUsP/++gQAAAAgBnul0Q3/EgAAAAAgBnutqQ3/EgAAAAA5BmvBJqEFsmUwIIf/+4QAAAApBnw5FFSw//76BAAAACAGfLXRDf8SBAAAACAGfL2pDf8SAAAAADkGbNEmoQWyZTAgh//7gAAAACkGfUkUVLD//voEAAAAIAZ9xdEN/xIAAAAAIAZ9zakN/xIAAAAAOQZt4SahBbJlMCCH//uEAAAAKQZ+WRRUsP/++gAAAAAgBn7V0Q3/EgQAAAAgBn7dqQ3/EgQAAAA5Bm7xJqEFsmUwIIf/+4AAAAApBn9pFFSw//76BAAAACAGf+XRDf8SAAAAACAGf+2pDf8SBAAAADkGb4EmoQWyZTAgh//7hAAAACkGeHkUVLD//voAAAAAIAZ49dEN/xIAAAAAIAZ4/akN/xIEAAAAOQZokSahBbJlMCCH//uAAAAAKQZ5CRRUsP/++gQAAAAgBnmF0Q3/EgAAAAAgBnmNqQ3/EgQAAAA5BmmhJqEFsmUwIIf/+4QAAAApBnoZFFSw//76BAAAACAGepXRDf8SBAAAACAGep2pDf8SAAAAADkGarEmoQWyZTAgh//7gAAAACkGeykUVLD//voEAAAAIAZ7pdEN/xIAAAAAIAZ7rakN/xIAAAAAPQZruSahBbJlMFEw3//7B\\\"),e.play())},this.release=function(){e.pause(),e.src=\\\"\\\"}}function A(){var e=null;this.request=function(){e||(e=setInterval(function(){window.location=window.location,setTimeout(window.stop,0)},3e4))},this.release=function(){e&&(clearInterval(e),e=null)}}function s(){var e=navigator.userAgent||navigator.vendor||window.opera;return e.match(/iPhone/i)||e.match(/iPod/i)?A:t}var r=e(\\\"./util.js\\\");M.exports=s()},{\\\"./util.js\\\":22}],25:[function(e,M,i){function t(){this.displays=[],this.devices=[],this.devicesPopulated=!1,this.nativeWebVRAvailable=this.isWebVRAvailable(),this.nativeLegacyWebVRAvailable=this.isDeprecatedWebVRAvailable(),this.nativeLegacyWebVRAvailable||(this.nativeWebVRAvailable||this.enablePolyfill(),WebVRConfig.ENABLE_DEPRECATED_API&&this.enableDeprecatedPolyfill()),A()}function A(){\\\"VRDisplay\\\"in window&&!(\\\"VRFrameData\\\"in window)&&(window.VRFrameData=n,\\\"depthNear\\\"in window.VRDisplay.prototype||(window.VRDisplay.prototype.depthNear=.01),\\\"depthFar\\\"in window.VRDisplay.prototype||(window.VRDisplay.prototype.depthFar=1e4),window.VRDisplay.prototype.getFrameData=function(e){return s.frameDataFromPose(e,this.getPose(),this)})}var s=e(\\\"./util.js\\\"),r=e(\\\"./cardboard-vr-display.js\\\"),N=e(\\\"./mouse-keyboard-vr-display.js\\\"),D=e(\\\"./base.js\\\").VRDisplay,n=e(\\\"./base.js\\\").VRFrameData,u=e(\\\"./base.js\\\").HMDVRDevice,a=e(\\\"./base.js\\\").PositionSensorVRDevice,o=e(\\\"./display-wrappers.js\\\").VRDisplayHMDDevice,g=e(\\\"./display-wrappers.js\\\").VRDisplayPositionSensorDevice;t.prototype.isWebVRAvailable=function(){return\\\"getVRDisplays\\\"in navigator},t.prototype.isDeprecatedWebVRAvailable=function(){return\\\"getVRDevices\\\"in navigator||\\\"mozGetVRDevices\\\"in navigator},t.prototype.populateDevices=function(){if(!this.devicesPopulated){var e=null;this.isCardboardCompatible()&&(e=new r,this.displays.push(e),WebVRConfig.ENABLE_DEPRECATED_API&&(this.devices.push(new o(e)),this.devices.push(new g(e)))),this.isMobile()||WebVRConfig.MOUSE_KEYBOARD_CONTROLS_DISABLED||(e=new N,this.displays.push(e),WebVRConfig.ENABLE_DEPRECATED_API&&(this.devices.push(new o(e)),this.devices.push(new g(e)))),this.devicesPopulated=!0}},t.prototype.enablePolyfill=function(){navigator.getVRDisplays=this.getVRDisplays.bind(this),window.VRDisplay=D;var e=this;Object.defineProperty(navigator,\\\"vrEnabled\\\",{get:function(){return e.isCardboardCompatible()&&(document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled||!1)}}),window.VRFrameData=n},t.prototype.enableDeprecatedPolyfill=function(){navigator.getVRDevices=this.getVRDevices.bind(this),window.HMDVRDevice=u,window.PositionSensorVRDevice=a},t.prototype.getVRDisplays=function(){this.populateDevices();var e=this.displays;return new Promise(function(M,i){try{M(e)}catch(e){i(e)}})},t.prototype.getVRDevices=function(){console.warn(\\\"getVRDevices is deprecated. Please update your code to use getVRDisplays instead.\\\");var e=this;return new Promise(function(M,i){try{if(!e.devicesPopulated){if(e.nativeWebVRAvailable)return navigator.getVRDisplays(function(i){for(var t=0;t<i.length;++t)e.devices.push(new o(i[t])),e.devices.push(new g(i[t]));e.devicesPopulated=!0,M(e.devices)},i);if(e.nativeLegacyWebVRAvailable)return(navigator.getVRDDevices||navigator.mozGetVRDevices)(function(i){for(var t=0;t<i.length;++t)i[t]instanceof u&&e.devices.push(i[t]),i[t]instanceof a&&e.devices.push(i[t]);e.devicesPopulated=!0,M(e.devices)},i)}e.populateDevices(),M(e.devices)}catch(e){i(e)}})},t.prototype.isMobile=function(){return/Android/i.test(navigator.userAgent)||/iPhone|iPad|iPod/i.test(navigator.userAgent)},t.prototype.isCardboardCompatible=function(){return this.isMobile()||WebVRConfig.FORCE_ENABLE_VR},M.exports.WebVRPolyfill=t},{\\\"./base.js\\\":2,\\\"./cardboard-vr-display.js\\\":5,\\\"./display-wrappers.js\\\":8,\\\"./mouse-keyboard-vr-display.js\\\":15,\\\"./util.js\\\":22}]},{},[13]);\\n},{}],20:[function(_dereq_,module,exports){\\nmodule.exports={\\\"name\\\":\\\"aframe\\\",\\\"version\\\":\\\"0.4.0\\\",\\\"description\\\":\\\"A web framework for building virtual reality experiences.\\\",\\\"homepage\\\":\\\"https://aframe.io/\\\",\\\"main\\\":\\\"dist/aframe-master.js\\\",\\\"scripts\\\":{\\\"browserify\\\":\\\"browserify src/index.js -s 'AFRAME' -p browserify-derequire\\\",\\\"build\\\":\\\"mkdirp build/ && npm run browserify -- --debug -t [envify --INSPECTOR_VERSION dev] -o build/aframe.js\\\",\\\"codecov\\\":\\\"codecov\\\",\\\"dev\\\":\\\"npm run build && cross-env INSPECTOR_VERSION=dev node ./scripts/budo -t envify\\\",\\\"dist\\\":\\\"npm run dist:min && npm run dist:max\\\",\\\"dist:max\\\":\\\"npm run browserify -s -- --debug -t [envify --INSPECTOR_VERSION dev] | exorcist dist/aframe-master.js.map > dist/aframe-master.js\\\",\\\"dist:min\\\":\\\"npm run browserify -s -- --debug -t [envify --INSPECTOR_VERSION dev] -p [minifyify --map aframe-master.min.js.map --output dist/aframe-master.min.js.map] -o dist/aframe-master.min.js\\\",\\\"docs\\\":\\\"markserv --dir docs --port 9001\\\",\\\"ghpages\\\":\\\"ghpages -p gh-pages/\\\",\\\"lint\\\":\\\"semistandard -v | snazzy\\\",\\\"precommit\\\":\\\"npm run lint\\\",\\\"preghpages\\\":\\\"npm run dist && rimraf gh-pages && mkdirp gh-pages && cp -r {.nojekyll,dist,lib,examples,index.html,style} gh-pages/. 2>/dev/null || : && git checkout dist/ && replace 'build/aframe.js' 'dist/aframe.min.js' gh-pages/ -r --silent\\\",\\\"prerelease\\\":\\\"npm run dist && node scripts/release.js 0.3.2 0.4.0\\\",\\\"start\\\":\\\"npm run dev\\\",\\\"test\\\":\\\"karma start ./tests/karma.conf.js\\\",\\\"test:docs\\\":\\\"node scripts/docs-lint.js\\\",\\\"test:firefox\\\":\\\"karma start ./tests/karma.conf.js --browsers Firefox\\\",\\\"test:chrome\\\":\\\"karma start ./tests/karma.conf.js --browsers Chrome\\\",\\\"test:ci\\\":\\\"TEST_ENV=ci karma start ./tests/karma.conf.js --single-run --browsers Firefox\\\"},\\\"repository\\\":\\\"aframevr/aframe\\\",\\\"license\\\":\\\"MIT\\\",\\\"dependencies\\\":{\\\"browserify-css\\\":\\\"^0.8.2\\\",\\\"debug\\\":\\\"^2.2.0\\\",\\\"deep-assign\\\":\\\"^2.0.0\\\",\\\"document-register-element\\\":\\\"dmarcos/document-register-element#8ccc532b7\\\",\\\"object-assign\\\":\\\"^4.0.1\\\",\\\"present\\\":\\\"0.0.6\\\",\\\"promise-polyfill\\\":\\\"^3.1.0\\\",\\\"style-attr\\\":\\\"^1.0.2\\\",\\\"three\\\":\\\"^0.82.1\\\",\\\"tween.js\\\":\\\"^15.0.0\\\",\\\"webvr-polyfill\\\":\\\"^0.9.23\\\"},\\\"devDependencies\\\":{\\\"browserify\\\":\\\"^13.1.0\\\",\\\"browserify-derequire\\\":\\\"^0.9.4\\\",\\\"browserify-istanbul\\\":\\\"^2.0.0\\\",\\\"budo\\\":\\\"^9.2.0\\\",\\\"chai\\\":\\\"^3.5.0\\\",\\\"chai-shallow-deep-equal\\\":\\\"^1.4.0\\\",\\\"chalk\\\":\\\"^1.1.3\\\",\\\"codecov\\\":\\\"^1.0.1\\\",\\\"cross-env\\\":\\\"^3.1.3\\\",\\\"envify\\\":\\\"^3.4.1\\\",\\\"exorcist\\\":\\\"^0.4.0\\\",\\\"ghpages\\\":\\\"0.0.8\\\",\\\"glob\\\":\\\"^7.1.1\\\",\\\"husky\\\":\\\"^0.11.7\\\",\\\"istanbul\\\":\\\"^0.4.5\\\",\\\"karma\\\":\\\"^1.3.0\\\",\\\"karma-browserify\\\":\\\"^5.1.0\\\",\\\"karma-chai-shallow-deep-equal\\\":\\\"0.0.4\\\",\\\"karma-chrome-launcher\\\":\\\"^2.0.0\\\",\\\"karma-coverage\\\":\\\"^1.1.1\\\",\\\"karma-env-preprocessor\\\":\\\"^0.1.1\\\",\\\"karma-firefox-launcher\\\":\\\"^1.0.0\\\",\\\"karma-mocha\\\":\\\"^1.1.1\\\",\\\"karma-mocha-reporter\\\":\\\"^2.1.0\\\",\\\"karma-sinon-chai\\\":\\\"^1.2.4\\\",\\\"lolex\\\":\\\"^1.5.1\\\",\\\"markserv\\\":\\\"0.0.20\\\",\\\"minifyify\\\":\\\"^7.3.3\\\",\\\"mkdirp\\\":\\\"^0.5.1\\\",\\\"mocha\\\":\\\"^3.0.2\\\",\\\"mozilla-download\\\":\\\"^1.1.1\\\",\\\"open\\\":\\\"0.0.5\\\",\\\"replace\\\":\\\"^0.3.0\\\",\\\"rimraf\\\":\\\"^2.5.4\\\",\\\"semistandard\\\":\\\"^9.0.0\\\",\\\"sinon\\\":\\\"^1.17.5\\\",\\\"sinon-chai\\\":\\\"^2.8.0\\\",\\\"snazzy\\\":\\\"^5.0.0\\\",\\\"too-wordy\\\":\\\"ngokevin/too-wordy\\\",\\\"uglifyjs\\\":\\\"^2.4.10\\\",\\\"write-good\\\":\\\"^0.9.1\\\"},\\\"link\\\":true,\\\"browserify\\\":{\\\"transform\\\":[\\\"browserify-css\\\",\\\"envify\\\"]},\\\"semistandard\\\":{\\\"ignore\\\":[\\\"build/**\\\",\\\"dist/**\\\",\\\"examples/**/shaders/*.js\\\",\\\"**/vendor/**\\\"]},\\\"keywords\\\":[\\\"3d\\\",\\\"aframe\\\",\\\"cardboard\\\",\\\"components\\\",\\\"oculus\\\",\\\"three\\\",\\\"three.js\\\",\\\"rift\\\",\\\"vive\\\",\\\"vr\\\",\\\"web-components\\\",\\\"webvr\\\"],\\\"browserify-css\\\":{\\\"minify\\\":true},\\\"engines\\\":{\\\"node\\\":\\\">= 4.6.0\\\",\\\"npm\\\":\\\"^2.15.9\\\"}}\\n},{}],21:[function(_dereq_,module,exports){\\nvar registerComponent=_dereq_(\\\"../core/component\\\").registerComponent,THREE=_dereq_(\\\"../lib/three\\\");module.exports.Component=registerComponent(\\\"blend-character-model\\\",{schema:{type:\\\"asset\\\"},init:function(){this.model=null},update:function(){var e=this,o=this.el,t=this.data;t&&(this.remove(),this.model=new THREE.BlendCharacter,this.model.load(t,function(){o.setObject3D(\\\"mesh\\\",e.model),o.emit(\\\"model-loaded\\\",{format:\\\"blend\\\",model:e.model}),e.model.castShadow=!0,e.model.receiveShadow=!0,e.model.material.shading=THREE.FlatShading,e.model.geometry.computeBoundingBox()}))},remove:function(){this.model&&this.el.removeObject3D(\\\"mesh\\\")}});\\n},{\\\"../core/component\\\":63,\\\"../lib/three\\\":106}],22:[function(_dereq_,module,exports){\\nvar registerComponent=_dereq_(\\\"../core/component\\\").registerComponent,THREE=_dereq_(\\\"../lib/three\\\"),utils=_dereq_(\\\"../utils/\\\"),bind=utils.bind,checkHasPositionalTracking=utils.device.checkHasPositionalTracking;module.exports.Component=registerComponent(\\\"camera\\\",{schema:{active:{default:!0},far:{default:1e4},fov:{default:80,min:0},near:{default:.005,min:0},userHeight:{default:0,min:0},zoom:{default:1,min:0}},init:function(){var t,e=this.el,i=e.sceneEl;this.savedPose=null,t=this.camera=new THREE.PerspectiveCamera,e.setObject3D(\\\"camera\\\",t),this.onEnterVR=bind(this.onEnterVR,this),this.onExitVR=bind(this.onExitVR,this),i.addEventListener(\\\"enter-vr\\\",this.onEnterVR),i.addEventListener(\\\"exit-vr\\\",this.onExitVR)},update:function(t){var e=this.el,i=this.data,s=this.camera,a=this.system;this.addHeightOffset(t.userHeight),s.aspect=i.aspect||window.innerWidth/window.innerHeight,s.far=i.far,s.fov=i.fov,s.near=i.near,s.zoom=i.zoom,s.updateProjectionMatrix(),t&&t.active===i.active||(i.active&&a.activeCameraEl!==e?a.setActiveCamera(e):i.active||a.activeCameraEl!==e||a.disableActiveCamera())},remove:function(){var t=this.el.sceneEl;this.el.removeObject3D(\\\"camera\\\"),t.removeEventListener(\\\"enter-vr\\\",this.onEnterVR),t.removeEventListener(\\\"exit-vr\\\",this.onExitVR)},onEnterVR:function(){this.saveCameraPose(),this.removeHeightOffset()},onExitVR:function(){this.restoreCameraPose()},addHeightOffset:function(t){var e,i=this.el,s=this.data.userHeight;t=t||0,e=i.getAttribute(\\\"position\\\")||{x:0,y:0,z:0},i.setAttribute(\\\"position\\\",{x:e.x,y:e.y-t+s,z:e.z})},removeHeightOffset:function(){var t,e,i=this.el,s=this.data.userHeight;e=this.hasPositionalTracking||checkHasPositionalTracking(),s&&e&&(t=i.getAttribute(\\\"position\\\")||{x:0,y:0,z:0},i.setAttribute(\\\"position\\\",{x:t.x,y:t.y-s,z:t.z}))},saveCameraPose:function(){var t=this.el,e=this.hasPositionalTracking||checkHasPositionalTracking();!this.savedPose&&e&&(this.savedPose={position:t.getAttribute(\\\"position\\\"),rotation:t.getAttribute(\\\"rotation\\\")})},restoreCameraPose:function(){var t=this.el,e=this.savedPose,i=this.hasPositionalTracking||checkHasPositionalTracking();e&&i&&(t.setAttribute(\\\"position\\\",e.position),t.setAttribute(\\\"rotation\\\",e.rotation),this.savedPose=null)}});\\n},{\\\"../core/component\\\":63,\\\"../lib/three\\\":106,\\\"../utils/\\\":124}],23:[function(_dereq_,module,exports){\\nvar registerComponent=_dereq_(\\\"../core/component\\\").registerComponent,THREE=_dereq_(\\\"../lib/three\\\");module.exports.Component=registerComponent(\\\"collada-model\\\",{schema:{type:\\\"asset\\\"},init:function(){this.model=null,this.loader=new THREE.ColladaLoader,this.loader.options.convertUpAxis=!0},update:function(){var e=this,o=this.el,t=this.data;t&&(this.remove(),this.loader.load(t,function(t){e.model=t.scene,o.setObject3D(\\\"mesh\\\",e.model),o.emit(\\\"model-loaded\\\",{format:\\\"collada\\\",model:e.model})}))},remove:function(){this.model&&this.el.removeObject3D(\\\"mesh\\\")}});\\n},{\\\"../core/component\\\":63,\\\"../lib/three\\\":106}],24:[function(_dereq_,module,exports){\\nvar registerComponent=_dereq_(\\\"../core/component\\\").registerComponent,utils=_dereq_(\\\"../utils/\\\"),bind=utils.bind,EVENTS={CLICK:\\\"click\\\",FUSING:\\\"fusing\\\",MOUSEENTER:\\\"mouseenter\\\",MOUSEDOWN:\\\"mousedown\\\",MOUSELEAVE:\\\"mouseleave\\\",MOUSEUP:\\\"mouseup\\\"},STATES={FUSING:\\\"cursor-fusing\\\",HOVERING:\\\"cursor-hovering\\\",HOVERED:\\\"cursor-hovered\\\"};module.exports.Component=registerComponent(\\\"cursor\\\",{dependencies:[\\\"raycaster\\\"],schema:{fuse:{default:utils.device.isMobile()},fuseTimeout:{default:1500,min:0}},init:function(){var e=this.el,t=e.sceneEl.canvas;return this.fuseTimeout=void 0,this.mouseDownEl=null,this.intersection=null,this.intersectedEl=null,t?(t.addEventListener(\\\"mousedown\\\",bind(this.onMouseDown,this)),t.addEventListener(\\\"mouseup\\\",bind(this.onMouseUp,this)),e.addEventListener(\\\"raycaster-intersection\\\",bind(this.onIntersection,this)),void e.addEventListener(\\\"raycaster-intersection-cleared\\\",bind(this.onIntersectionCleared,this))):void e.sceneEl.addEventListener(\\\"render-target-loaded\\\",bind(this.init,this))},onMouseDown:function(e){this.twoWayEmit(EVENTS.MOUSEDOWN),this.mouseDownEl=this.intersectedEl},onMouseUp:function(e){this.twoWayEmit(EVENTS.MOUSEUP),!this.data.fuse&&this.intersectedEl&&this.mouseDownEl===this.intersectedEl&&this.twoWayEmit(EVENTS.CLICK)},onIntersection:function(e){var t,i,s,n=this,o=this.el,r=this.data;if(t=e.detail.els[0]===o?1:0,s=e.detail.intersections[t],i=e.detail.els[t]){if(this.intersectedEl===i)return void(this.intersection=s);this.intersectedEl&&this.clearCurrentIntersection(),this.intersection=s,this.intersectedEl=i,o.addState(STATES.HOVERING),i.addState(STATES.HOVERED),n.twoWayEmit(EVENTS.MOUSEENTER),0!==r.fuseTimeout&&r.fuse&&(o.addState(STATES.FUSING),this.twoWayEmit(EVENTS.FUSING),this.fuseTimeout=setTimeout(function(){o.removeState(STATES.FUSING),n.twoWayEmit(EVENTS.CLICK)},r.fuseTimeout))}},onIntersectionCleared:function(e){var t=this.el,i=e.detail.el;t!==i&&i===this.intersectedEl&&this.clearCurrentIntersection()},clearCurrentIntersection:function(){var e=this.el;this.intersectedEl.removeState(STATES.HOVERED),e.removeState(STATES.HOVERING),e.removeState(STATES.FUSING),this.twoWayEmit(EVENTS.MOUSELEAVE),this.intersection=null,this.intersectedEl=null,clearTimeout(this.fuseTimeout)},twoWayEmit:function(e){var t=this.el,i=this.intersectedEl,s=this.intersection;t.emit(e,{intersectedEl:i,intersection:s}),i&&i.emit(e,{cursorEl:t,intersection:s})}});\\n},{\\\"../core/component\\\":63,\\\"../utils/\\\":124}],25:[function(_dereq_,module,exports){\\nvar debug=_dereq_(\\\"../utils/debug\\\"),geometries=_dereq_(\\\"../core/geometry\\\").geometries,geometryNames=_dereq_(\\\"../core/geometry\\\").geometryNames,registerComponent=_dereq_(\\\"../core/component\\\").registerComponent,THREE=_dereq_(\\\"../lib/three\\\"),dummyGeometry=new THREE.Geometry,warn=debug(\\\"components:geometry:warn\\\");module.exports.Component=registerComponent(\\\"geometry\\\",{schema:{buffer:{default:!0},mergeTo:{type:\\\"selector\\\"},primitive:{default:\\\"box\\\",oneOf:geometryNames},skipCache:{default:!1}},init:function(){this.geometry=null},update:function(e){var t=this.data,r=this.el.getOrCreateObject3D(\\\"mesh\\\",THREE.Mesh),o=this.system;this.geometry&&(o.unuseGeometry(e),this.geometry=null),this.geometry=r.geometry=o.getOrCreateGeometry(t),t.mergeTo&&this.mergeTo(t.mergeTo)},mergeTo:function(e){var t,r=this.el,o=r.getObject3D(\\\"mesh\\\");return e?e===r?void warn(\\\"Source and target geometries cannot be the same for merge\\\"):(t=e.getObject3D(\\\"mesh\\\"))?t.geometry instanceof THREE.Geometry==!1||o.geometry instanceof THREE.Geometry==!1?void warn(\\\"Geometry merge is only available for `THREE.Geometry` types. Check that both of the merging geometry and the target geometry have `buffer` set to false\\\"):this.data.skipCache===!1?void warn(\\\"Cached geometries are not allowed to merge. Set `skipCache` to true\\\"):(o.parent.updateMatrixWorld(),t.geometry.merge(o.geometry,o.matrixWorld),r.emit(\\\"geometry-merged\\\",{mergeTarget:e}),void r.parentNode.removeChild(r)):(t=e.getOrCreateObject3D(\\\"mesh\\\",THREE.Mesh),void e.setAttribute(\\\"material\\\",r.getAttribute(\\\"material\\\"))):void warn(\\\"There is not a valid entity to merge the geometry to\\\")},remove:function(){this.system.unuseGeometry(this.data),this.el.getObject3D(\\\"mesh\\\").geometry=dummyGeometry,this.geometry=null},updateSchema:function(e){var t=e.primitive,r=this.data&&this.data.primitive,o=geometries[t]&&geometries[t].schema;if(!o)throw new Error(\\\"Unknown geometry schema `\\\"+t+\\\"`\\\");r&&r===t||this.extendSchema(o)}});\\n},{\\\"../core/component\\\":63,\\\"../core/geometry\\\":64,\\\"../lib/three\\\":106,\\\"../utils/debug\\\":120}],26:[function(_dereq_,module,exports){\\nvar registerComponent=_dereq_(\\\"../core/component\\\").registerComponent,OCULUS_LEFT_HAND_MODEL_URL=\\\"https://cdn.aframe.io/controllers/oculus-hands/leftHand.json\\\",OCULUS_RIGHT_HAND_MODEL_URL=\\\"https://cdn.aframe.io/controllers/oculus-hands/rightHand.json\\\";module.exports.Component=registerComponent(\\\"hand-controls\\\",{schema:{default:\\\"left\\\"},init:function(){var t=this;this.touchedButtons={},this.pressedButtons={},this.onGripDown=function(){t.handleButton(\\\"grip\\\",\\\"down\\\")},this.onGripUp=function(){t.handleButton(\\\"grip\\\",\\\"up\\\")},this.onTrackpadDown=function(){t.handleButton(\\\"trackpad\\\",\\\"down\\\")},this.onTrackpadUp=function(){t.handleButton(\\\"trackpad\\\",\\\"up\\\")},this.onTrackpadTouchStart=function(){t.handleButton(\\\"trackpad\\\",\\\"touchstart\\\")},this.onTrackpadTouchEnd=function(){t.handleButton(\\\"trackpad\\\",\\\"touchend\\\")},this.onTriggerDown=function(){t.handleButton(\\\"trigger\\\",\\\"down\\\")},this.onTriggerUp=function(){t.handleButton(\\\"trigger\\\",\\\"up\\\")},this.onTriggerTouchStart=function(){t.handleButton(\\\"trigger\\\",\\\"touchstart\\\")},this.onTriggerTouchEnd=function(){t.handleButton(\\\"trigger\\\",\\\"touchend\\\")},this.onGripTouchStart=function(){t.handleButton(\\\"grip\\\",\\\"touchstart\\\")},this.onGripTouchEnd=function(){t.handleButton(\\\"grip\\\",\\\"touchend\\\")},this.onThumbstickDown=function(){t.handleButton(\\\"thumbstick\\\",\\\"down\\\")},this.onThumbstickUp=function(){t.handleButton(\\\"thumbstick\\\",\\\"up\\\")},this.onAorXTouchStart=function(){t.handleButton(\\\"AorX\\\",\\\"touchstart\\\")},this.onAorXTouchEnd=function(){t.handleButton(\\\"AorX\\\",\\\"touchend\\\")},this.onBorYTouchStart=function(){t.handleButton(\\\"BorY\\\",\\\"touchstart\\\")},this.onBorYTouchEnd=function(){t.handleButton(\\\"BorY\\\",\\\"touchend\\\")},this.onSurfaceTouchStart=function(){t.handleButton(\\\"surface\\\",\\\"touchstart\\\")},this.onSurfaceTouchEnd=function(){t.handleButton(\\\"surface\\\",\\\"touchend\\\")}},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners()},addEventListeners:function(){var t=this.el;t.addEventListener(\\\"gripdown\\\",this.onGripDown),t.addEventListener(\\\"gripup\\\",this.onGripUp),t.addEventListener(\\\"trackpaddown\\\",this.onTrackpadDown),t.addEventListener(\\\"trackpadup\\\",this.onTrackpadUp),t.addEventListener(\\\"trackpadtouchstart\\\",this.onTrackpadTouchStart),t.addEventListener(\\\"trackpadtouchend\\\",this.onTrackpadTouchEnd),t.addEventListener(\\\"triggerdown\\\",this.onTriggerDown),t.addEventListener(\\\"triggerup\\\",this.onTriggerUp),t.addEventListener(\\\"triggertouchstart\\\",this.onTriggerTouchStart),t.addEventListener(\\\"triggertouchend\\\",this.onTriggerTouchEnd),t.addEventListener(\\\"griptouchstart\\\",this.onGripTouchStart),t.addEventListener(\\\"griptouchend\\\",this.onGripTouchEnd),t.addEventListener(\\\"thumbstickdown\\\",this.onThumbstickDown),t.addEventListener(\\\"thumbstickup\\\",this.onThumbstickUp),t.addEventListener(\\\"Atouchstart\\\",this.onAorXTouchStart),t.addEventListener(\\\"Atouchend\\\",this.onAorXTouchEnd),t.addEventListener(\\\"Btouchstart\\\",this.onBorYTouchStart),t.addEventListener(\\\"Btouchend\\\",this.onBorYTouchEnd),t.addEventListener(\\\"Xtouchstart\\\",this.onAorXTouchStart),t.addEventListener(\\\"Xtouchend\\\",this.onAorXTouchEnd),t.addEventListener(\\\"Ytouchstart\\\",this.onBorYTouchStart),t.addEventListener(\\\"Ytouchend\\\",this.onBorYTouchEnd),t.addEventListener(\\\"surfacetouchstart\\\",this.onSurfaceTouchStart),t.addEventListener(\\\"surfacetouchend\\\",this.onSurfaceTouchEnd)},removeEventListeners:function(){var t=this.el;t.removeEventListener(\\\"gripdown\\\",this.onGripDown),t.removeEventListener(\\\"gripup\\\",this.onGripUp),t.removeEventListener(\\\"trackpaddown\\\",this.onTrackpadDown),t.removeEventListener(\\\"trackpadup\\\",this.onTrackpadUp),t.removeEventListener(\\\"trackpadtouchstart\\\",this.onTrackpadTouchStart),t.removeEventListener(\\\"trackpadtouchend\\\",this.onTrackpadTouchEnd),t.removeEventListener(\\\"triggerdown\\\",this.onTriggerDown),t.removeEventListener(\\\"triggerup\\\",this.onTriggerUp),t.removeEventListener(\\\"triggertouchstart\\\",this.onTriggerTouchStart),t.removeEventListener(\\\"triggertouchend\\\",this.onTriggerTouchEnd),t.removeEventListener(\\\"griptouchstart\\\",this.onGripTouchStart),t.removeEventListener(\\\"griptouchend\\\",this.onGripTouchEnd),t.removeEventListener(\\\"thumbstickdown\\\",this.onThumbstickDown),t.removeEventListener(\\\"thumbstickup\\\",this.onThumbstickUp),t.removeEventListener(\\\"Atouchstart\\\",this.onAorXTouchStart),t.removeEventListener(\\\"Atouchend\\\",this.onAorXTouchEnd),t.removeEventListener(\\\"Btouchstart\\\",this.onBorYTouchStart),t.removeEventListener(\\\"Btouchend\\\",this.onBorYTouchEnd),t.removeEventListener(\\\"Xtouchstart\\\",this.onAorXTouchStart),t.removeEventListener(\\\"Xtouchend\\\",this.onAorXTouchEnd),t.removeEventListener(\\\"Ytouchstart\\\",this.onBorYTouchStart),t.removeEventListener(\\\"Ytouchend\\\",this.onBorYTouchEnd),t.removeEventListener(\\\"surfacetouchstart\\\",this.onSurfaceTouchStart),t.removeEventListener(\\\"surfacetouchend\\\",this.onSurfaceTouchEnd)},update:function(){var t,n=this.el,e=this.data,o={hand:e,model:!1,rotationOffset:\\\"left\\\"===e?90:-90};t=\\\"left\\\"===e?\\\"url(\\\"+OCULUS_LEFT_HAND_MODEL_URL+\\\")\\\":\\\"url(\\\"+OCULUS_RIGHT_HAND_MODEL_URL+\\\")\\\",n.setAttribute(\\\"vive-controls\\\",o),n.setAttribute(\\\"oculus-touch-controls\\\",o),n.setAttribute(\\\"blend-character-model\\\",t)},handleButton:function(t,n){var e,o=\\\"down\\\"===n,r=\\\"touchstart\\\"===n;if(0===n.indexOf(\\\"touch\\\")){if(r===this.touchedButtons[t])return;this.touchedButtons[t]=r}else{if(o===this.pressedButtons[t])return;this.pressedButtons[t]=o}e=this.gesture,this.gesture=this.determineGesture(),this.gesture!==e&&(this.animateGesture(this.gesture),this.emitGestureEvents(this.gesture,e))},isViveController:function(){var t=this.el.components[\\\"tracked-controls\\\"],n=t&&t.controller&&t.controller.id;return\\\"OpenVR Gamepad\\\"===n},determineGesture:function(){var t,n=this.pressedButtons.grip,e=this.pressedButtons.surface||this.touchedButtons.surface,o=this.pressedButtons.trackpad||this.touchedButtons.trackpad,r=this.pressedButtons.trigger||this.touchedButtons.trigger,i=this.touchedButtons.AorX||this.touchedButtons.BorY,s=this.isViveController();return n?t=s?\\\"fist\\\":e||i||o?r?\\\"fist\\\":\\\"pointing\\\":r?\\\"thumb\\\":\\\"pistol\\\":r?t=s?\\\"fist\\\":\\\"touch\\\":s&&o&&(t=\\\"pointing\\\"),t},gestureAnimationMapping:{pointing:\\\"pointing\\\",pistol:\\\"pistol\\\",fist:\\\"press\\\",touch:\\\"touch\\\",thumb:\\\"thumb\\\"},animateGesture:function(t){var n=this.isViveController();if(!t)return void this.playAnimation(\\\"touch\\\",!n);var e=this.gestureAnimationMapping[t];this.playAnimation(e||\\\"touch\\\",!e&&!n)},gestureEventMapping:{fist:\\\"grip\\\",touch:\\\"point\\\",thumb:\\\"thumb\\\",pointing:\\\"pointing\\\",pistol:\\\"pistol\\\"},gestureEventName:function(t,n){if(!t)return 0;var e=this.gestureEventMapping[t];return\\\"grip\\\"===e?e+(n?\\\"close\\\":\\\"open\\\"):\\\"point\\\"===e||\\\"thumb\\\"===e?e+(n?\\\"up\\\":\\\"down\\\"):\\\"pointing\\\"===e||\\\"pistol\\\"===e?e+(n?\\\"start\\\":\\\"end\\\"):0},emitGestureEvents:function(t,n){var e,o=this.el;n!==t&&(e=this.gestureEventName(n,!1),e&&o.emit(e),e=this.gestureEventName(t,!0),e&&o.emit(e))},playAnimation:function(t,n){var e=this.animationActive,o=1,r=this.el.getObject3D(\\\"mesh\\\");r&&(n&&(o=-1),e&&r.play(e,0),r.mixer.clipAction(t).loop=2200,r.mixer.clipAction(t).clampWhenFinished=!0,r.mixer.clipAction(t).timeScale=o,r.play(t,1),this.animationActive=t)}});\\n},{\\\"../core/component\\\":63}],27:[function(_dereq_,module,exports){\\n_dereq_(\\\"./blend-character-model\\\"),_dereq_(\\\"./camera\\\"),_dereq_(\\\"./collada-model\\\"),_dereq_(\\\"./cursor\\\"),_dereq_(\\\"./geometry\\\"),_dereq_(\\\"./hand-controls\\\"),_dereq_(\\\"./light\\\"),_dereq_(\\\"./look-controls\\\"),_dereq_(\\\"./material\\\"),_dereq_(\\\"./obj-model\\\"),_dereq_(\\\"./oculus-touch-controls\\\"),_dereq_(\\\"./position\\\"),_dereq_(\\\"./raycaster\\\"),_dereq_(\\\"./rotation\\\"),_dereq_(\\\"./scale\\\"),_dereq_(\\\"./sound\\\"),_dereq_(\\\"./tracked-controls\\\"),_dereq_(\\\"./visible\\\"),_dereq_(\\\"./vive-controls\\\"),_dereq_(\\\"./wasd-controls\\\"),_dereq_(\\\"./scene/auto-enter-vr\\\"),_dereq_(\\\"./scene/canvas\\\"),_dereq_(\\\"./scene/debug\\\"),_dereq_(\\\"./scene/embedded\\\"),_dereq_(\\\"./scene/inspector\\\"),_dereq_(\\\"./scene/fog\\\"),_dereq_(\\\"./scene/keyboard-shortcuts\\\"),_dereq_(\\\"./scene/pool\\\"),_dereq_(\\\"./scene/screenshot\\\"),_dereq_(\\\"./scene/stats\\\"),_dereq_(\\\"./scene/vr-mode-ui\\\");\\n},{\\\"./blend-character-model\\\":21,\\\"./camera\\\":22,\\\"./collada-model\\\":23,\\\"./cursor\\\":24,\\\"./geometry\\\":25,\\\"./hand-controls\\\":26,\\\"./light\\\":28,\\\"./look-controls\\\":29,\\\"./material\\\":30,\\\"./obj-model\\\":31,\\\"./oculus-touch-controls\\\":32,\\\"./position\\\":33,\\\"./raycaster\\\":34,\\\"./rotation\\\":35,\\\"./scale\\\":36,\\\"./scene/auto-enter-vr\\\":37,\\\"./scene/canvas\\\":38,\\\"./scene/debug\\\":39,\\\"./scene/embedded\\\":40,\\\"./scene/fog\\\":41,\\\"./scene/inspector\\\":42,\\\"./scene/keyboard-shortcuts\\\":43,\\\"./scene/pool\\\":44,\\\"./scene/screenshot\\\":45,\\\"./scene/stats\\\":46,\\\"./scene/vr-mode-ui\\\":47,\\\"./sound\\\":48,\\\"./tracked-controls\\\":49,\\\"./visible\\\":50,\\\"./vive-controls\\\":51,\\\"./wasd-controls\\\":52}],28:[function(_dereq_,module,exports){\\nvar bind=_dereq_(\\\"../utils/bind\\\"),diff=_dereq_(\\\"../utils\\\").diff,debug=_dereq_(\\\"../utils/debug\\\"),registerComponent=_dereq_(\\\"../core/component\\\").registerComponent,THREE=_dereq_(\\\"../lib/three\\\"),degToRad=THREE.Math.degToRad,warn=debug(\\\"components:light:warn\\\");module.exports.Component=registerComponent(\\\"light\\\",{schema:{angle:{default:60,if:{type:[\\\"spot\\\"]}},color:{type:\\\"color\\\"},groundColor:{type:\\\"color\\\",if:{type:[\\\"hemisphere\\\"]}},decay:{default:1,if:{type:[\\\"point\\\",\\\"spot\\\"]}},distance:{default:0,min:0,if:{type:[\\\"point\\\",\\\"spot\\\"]}},intensity:{default:1,min:0,if:{type:[\\\"ambient\\\",\\\"directional\\\",\\\"hemisphere\\\",\\\"point\\\",\\\"spot\\\"]}},penumbra:{default:0,min:0,max:1,if:{type:[\\\"spot\\\"]}},type:{default:\\\"directional\\\",oneOf:[\\\"ambient\\\",\\\"directional\\\",\\\"hemisphere\\\",\\\"point\\\",\\\"spot\\\"]},target:{type:\\\"selector\\\",if:{type:[\\\"spot\\\",\\\"directional\\\"]}}},init:function(){var t=this.el;this.light=null,this.defaultTarget=null,this.system.registerLight(t)},update:function(t){var e=this.data,i=diff(e,t),o=this.light,r=this;return!o||\\\"type\\\"in i?void this.setLight(this.data):void Object.keys(i).forEach(function(t){var i=e[t];switch(t){case\\\"color\\\":o.color.set(i);break;case\\\"groundColor\\\":o.groundColor.set(i);break;case\\\"angle\\\":o.angle=degToRad(i);break;case\\\"target\\\":null===i?\\\"spot\\\"!==e.type&&\\\"directional\\\"!==e.type||(o.target=r.defaultTarget):i.hasLoaded?r.onSetTarget(i):i.addEventListener(\\\"loaded\\\",bind(r.onSetTarget,r,i));break;default:o[t]=i}})},setLight:function(t){var e=this.el,i=this.getLight(t);i&&(this.light&&e.removeObject3D(\\\"light\\\"),this.light=i,this.light.el=e,e.setObject3D(\\\"light\\\",this.light),\\\"spot\\\"!==t.type&&\\\"directional\\\"!==t.type&&\\\"hemisphere\\\"!==t.type||e.getObject3D(\\\"light\\\").translateY(-1),\\\"spot\\\"===t.type&&(e.setObject3D(\\\"light-target\\\",this.defaultTarget),e.getObject3D(\\\"light-target\\\").position.set(0,0,-1)))},getLight:function(t){var e=t.angle,i=new THREE.Color(t.color).getHex(),o=t.decay,r=t.distance,n=new THREE.Color(t.groundColor).getHex(),a=t.intensity,s=t.type,l=t.target,h=null;switch(s.toLowerCase()){case\\\"ambient\\\":return new THREE.AmbientLight(i,a);case\\\"directional\\\":return h=new THREE.DirectionalLight(i,a),this.defaultTarget=h.target,l&&(l.hasLoaded?this.onSetTarget(l):l.addEventListener(\\\"loaded\\\",bind(this.onSetTarget,this,l))),h;case\\\"hemisphere\\\":return new THREE.HemisphereLight(i,n,a);case\\\"point\\\":return new THREE.PointLight(i,a,r,o);case\\\"spot\\\":return h=new THREE.SpotLight(i,a,r,degToRad(e),t.penumbra,o),this.defaultTarget=h.target,l&&(l.hasLoaded?this.onSetTarget(l):l.addEventListener(\\\"loaded\\\",bind(this.onSetTarget,this,l))),h;default:warn(\\\"%s is not a valid light type. Choose from ambient, directional, hemisphere, point, spot.\\\",s)}},onSetTarget:function(t){this.light.target=t.object3D},remove:function(){this.el.removeObject3D(\\\"light\\\")}});\\n},{\\\"../core/component\\\":63,\\\"../lib/three\\\":106,\\\"../utils\\\":124,\\\"../utils/bind\\\":118,\\\"../utils/debug\\\":120}],29:[function(_dereq_,module,exports){\\nfunction isNullVector(t){return 0===t.x&&0===t.y&&0===t.z}var registerComponent=_dereq_(\\\"../core/component\\\").registerComponent,THREE=_dereq_(\\\"../lib/three\\\"),isMobile=_dereq_(\\\"../utils/\\\").device.isMobile(),bind=_dereq_(\\\"../utils/bind\\\"),PI_2=Math.PI/2,radToDeg=THREE.Math.radToDeg;module.exports.Component=registerComponent(\\\"look-controls\\\",{dependencies:[\\\"position\\\",\\\"rotation\\\"],schema:{enabled:{default:!0},hmdEnabled:{default:!0},reverseMouseDrag:{default:!1},standing:{default:!0}},init:function(){function t(){e.canvas.classList.add(\\\"a-grab-cursor\\\")}var e=this.el.sceneEl;this.previousHMDPosition=new THREE.Vector3,this.setupMouseControls(),this.setupHMDControls(),this.bindMethods(),e.canvas?t():e.addEventListener(\\\"render-target-loaded\\\",t)},update:function(t){var e=this.data,o=e.hmdEnabled;e.enabled&&(!o&&t&&o!==t.hmdEnabled&&(this.pitchObject.rotation.set(0,0,0),this.yawObject.rotation.set(0,0,0)),this.controls.standing=e.standing,this.controls.update(),this.updateOrientation(),this.updatePosition())},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners()},tick:function(t){this.update()},remove:function(){this.pause()},bindMethods:function(){this.onMouseDown=bind(this.onMouseDown,this),this.onMouseMove=bind(this.onMouseMove,this),this.releaseMouse=bind(this.releaseMouse,this),this.onTouchStart=bind(this.onTouchStart,this),this.onTouchMove=bind(this.onTouchMove,this),this.onTouchEnd=bind(this.onTouchEnd,this)},setupMouseControls:function(){this.mouseDown=!1,this.pitchObject=new THREE.Object3D,this.yawObject=new THREE.Object3D,this.yawObject.position.y=10,this.yawObject.add(this.pitchObject)},setupHMDControls:function(){this.dolly=new THREE.Object3D,this.euler=new THREE.Euler,this.controls=new THREE.VRControls(this.dolly),this.controls.userHeight=0},addEventListeners:function(){var t=this.el.sceneEl,e=t.canvas;return e?(e.addEventListener(\\\"mousedown\\\",this.onMouseDown,!1),window.addEventListener(\\\"mousemove\\\",this.onMouseMove,!1),window.addEventListener(\\\"mouseup\\\",this.releaseMouse,!1),e.addEventListener(\\\"touchstart\\\",this.onTouchStart),window.addEventListener(\\\"touchmove\\\",this.onTouchMove),void window.addEventListener(\\\"touchend\\\",this.onTouchEnd)):void t.addEventListener(\\\"render-target-loaded\\\",bind(this.addEventListeners,this))},removeEventListeners:function(){var t=this.el.sceneEl,e=t&&t.canvas;e&&(e.removeEventListener(\\\"mousedown\\\",this.onMouseDown),e.removeEventListener(\\\"mousemove\\\",this.onMouseMove),e.removeEventListener(\\\"mouseup\\\",this.releaseMouse),e.removeEventListener(\\\"mouseout\\\",this.releaseMouse),e.removeEventListener(\\\"touchstart\\\",this.onTouchStart),e.removeEventListener(\\\"touchmove\\\",this.onTouchMove),e.removeEventListener(\\\"touchend\\\",this.onTouchEnd))},updateOrientation:function(){var t=new THREE.Euler;return function(){var e,o,n,i=this.pitchObject,s=this.yawObject,r=this.calculateHMDQuaternion(),a=this.el.sceneEl;t.setFromQuaternion(r,\\\"YXZ\\\"),isMobile?n={x:radToDeg(t.x)+radToDeg(i.rotation.x),y:radToDeg(t.y)+radToDeg(s.rotation.y),z:radToDeg(t.z)}:a.is(\\\"vr-mode\\\")&&!isNullVector(t)&&this.data.hmdEnabled?n={x:radToDeg(t.x),y:radToDeg(t.y),z:radToDeg(t.z)}:(e=this.el.getAttribute(\\\"rotation\\\"),o=this.calculateDeltaRotation(),n=this.data.reverseMouseDrag?{x:e.x-o.x,y:e.y-o.y,z:e.z}:{x:e.x+o.x,y:e.y+o.y,z:e.z}),this.el.setAttribute(\\\"rotation\\\",n)}}(),calculateDeltaRotation:function(){var t,e;return function(){var o,n=radToDeg(this.pitchObject.rotation.x),i=radToDeg(this.yawObject.rotation.y);return t=t||n,e=e||i,o={x:n-t,y:i-e},t=n,e=i,o}}(),calculateHMDQuaternion:function(){var t=new THREE.Quaternion;return function(){return t.copy(this.dolly.quaternion),t}}(),updatePosition:function(){var t=new THREE.Vector3;return function(){var e,o=this.el,n=o.getAttribute(\\\"position\\\"),i=this.previousHMDPosition,s=this.el.sceneEl;e=this.calculateHMDPosition(),t.copy(e).sub(i),s.is(\\\"vr-mode\\\")&&!isNullVector(t)&&(i.copy(e),s.is(\\\"vr-mode\\\")&&o.setAttribute(\\\"position\\\",{x:n.x+t.x,y:n.y+t.y,z:n.z+t.z}))}}(),calculateHMDPosition:function(){var t=this.dolly,e=new THREE.Vector3;return t.updateMatrix(),e.setFromMatrixPosition(t.matrix),e},onMouseMove:function(t){var e=this.pitchObject,o=this.yawObject,n=this.previousMouseEvent;if(this.mouseDown&&this.data.enabled){var i=t.movementX||t.mozMovementX,s=t.movementY||t.mozMovementY;void 0!==i&&void 0!==s||(i=t.screenX-n.screenX,s=t.screenY-n.screenY),this.previousMouseEvent=t,o.rotation.y-=.002*i,e.rotation.x-=.002*s,e.rotation.x=Math.max(-PI_2,Math.min(PI_2,e.rotation.x))}},onMouseDown:function(t){this.mouseDown=!0,this.previousMouseEvent=t,document.body.classList.add(\\\"a-grabbing\\\")},releaseMouse:function(){this.mouseDown=!1,document.body.classList.remove(\\\"a-grabbing\\\")},onTouchStart:function(t){1===t.touches.length&&(this.touchStart={x:t.touches[0].pageX,y:t.touches[0].pageY},this.touchStarted=!0)},onTouchMove:function(t){var e,o=this.yawObject;this.touchStarted&&(e=2*Math.PI*(t.touches[0].pageX-this.touchStart.x)/this.el.sceneEl.canvas.clientWidth,o.rotation.y-=.5*e,this.touchStart={x:t.touches[0].pageX,y:t.touches[0].pageY})},onTouchEnd:function(){this.touchStarted=!1}});\\n},{\\\"../core/component\\\":63,\\\"../lib/three\\\":106,\\\"../utils/\\\":124,\\\"../utils/bind\\\":118}],30:[function(_dereq_,module,exports){\\nfunction parseSide(e){switch(e){case\\\"back\\\":return THREE.BackSide;case\\\"double\\\":return THREE.DoubleSide;default:return THREE.FrontSide}}function disposeMaterial(e,t){e.dispose(),t.unregisterMaterial(e)}var utils=_dereq_(\\\"../utils/\\\"),component=_dereq_(\\\"../core/component\\\"),THREE=_dereq_(\\\"../lib/three\\\"),shader=_dereq_(\\\"../core/shader\\\"),error=utils.debug(\\\"components:material:error\\\"),registerComponent=component.registerComponent,shaders=shader.shaders,shaderNames=shader.shaderNames;module.exports.Component=registerComponent(\\\"material\\\",{schema:{depthTest:{default:!0},flatShading:{default:!1},opacity:{default:1,min:0,max:1},shader:{default:\\\"standard\\\",oneOf:shaderNames},side:{default:\\\"front\\\",oneOf:[\\\"front\\\",\\\"back\\\",\\\"double\\\"]},transparent:{default:!1},visible:{default:!0}},init:function(){this.material=null},update:function(e){var t=this.data;this.shader&&t.shader===e.shader||this.updateShader(t.shader),this.shader.update(this.data),this.updateMaterial()},updateSchema:function(e){var t=e.shader,a=this.data&&this.data.shader,i=t||a,s=shaders[i]&&shaders[i].schema;s||error(\\\"Unknown shader schema \\\"+i),a&&t===a||(this.extendSchema(s),this.updateBehavior())},updateBehavior:function(){var e=this.schema,t=this,a=this.el.sceneEl,i={},s=function(e,a){function s(t){i[t]=e}var r=Object.keys(i);r.forEach(s),t.shader.update(i)},r=Object.keys(e);this.tick=void 0,r.forEach(function(a){\\\"time\\\"===e[a].type&&(t.tick=s,i[a]=!0)}),a&&(this.tick?a.addBehavior(this):a.removeBehavior(this))},updateShader:function(e){var t,a=this.data,i=shaders[e]&&shaders[e].Shader;if(!i)throw new Error(\\\"Unknown shader \\\"+e);t=this.shader=new i,t.el=this.el,t.init(a),this.setMaterial(t.material),this.updateSchema(a)},updateMaterial:function(){var e=this.data,t=this.material;t.side=parseSide(e.side),t.opacity=e.opacity,t.transparent=e.transparent!==!1||e.opacity<1,t.depthTest=e.depthTest!==!1,t.shading=e.flatShading?THREE.FlatShading:THREE.SmoothShading,t.visible=e.visible},remove:function(){var e=new THREE.MeshBasicMaterial,t=this.material,a=this.el.getObject3D(\\\"mesh\\\");a&&(a.material=e),disposeMaterial(t,this.system)},setMaterial:function(e){var t=this.el.getOrCreateObject3D(\\\"mesh\\\",THREE.Mesh),a=this.system;this.material&&disposeMaterial(this.material,a),this.material=t.material=e,a.registerMaterial(e)}});\\n},{\\\"../core/component\\\":63,\\\"../core/shader\\\":71,\\\"../lib/three\\\":106,\\\"../utils/\\\":124}],31:[function(_dereq_,module,exports){\\nvar debug=_dereq_(\\\"../utils/debug\\\"),registerComponent=_dereq_(\\\"../core/component\\\").registerComponent,THREE=_dereq_(\\\"../lib/three\\\"),warn=debug(\\\"components:obj-model:warn\\\");module.exports.Component=registerComponent(\\\"obj-model\\\",{dependencies:[\\\"material\\\"],schema:{mtl:{type:\\\"model\\\"},obj:{type:\\\"model\\\"}},init:function(){this.model=null,this.objLoader=new THREE.OBJLoader,this.mtlLoader=new THREE.MTLLoader(this.objLoader.manager),this.mtlLoader.crossOrigin=\\\"\\\"},update:function(){var e=this.data;e.obj&&(this.remove(),this.loadObj(e.obj,e.mtl))},remove:function(){this.model&&this.el.removeObject3D(\\\"mesh\\\")},loadObj:function(e,o){var t=this,r=this.el,a=this.mtlLoader,i=this.objLoader;return o?(r.hasAttribute(\\\"material\\\")&&warn(\\\"Material component properties are ignored when a .MTL is provided\\\"),a.setBaseUrl(o.substr(0,o.lastIndexOf(\\\"/\\\")+1)),void a.load(o,function(o){o.preload(),i.setMaterials(o),i.load(e,function(e){t.model=e,r.setObject3D(\\\"mesh\\\",e),r.emit(\\\"model-loaded\\\",{format:\\\"obj\\\",model:e})})})):void i.load(e,function(e){var o=r.components.material;o&&e.traverse(function(e){e instanceof THREE.Mesh&&(e.material=o.material)}),t.model=e,r.setObject3D(\\\"mesh\\\",e),r.emit(\\\"model-loaded\\\",{format:\\\"obj\\\",model:e})})}});\\n},{\\\"../core/component\\\":63,\\\"../lib/three\\\":106,\\\"../utils/debug\\\":120}],32:[function(_dereq_,module,exports){\\nvar registerComponent=_dereq_(\\\"../core/component\\\").registerComponent,bind=_dereq_(\\\"../utils/bind\\\"),isControllerPresent=_dereq_(\\\"../utils/tracked-controls\\\").isControllerPresent,TOUCH_CONTROLLER_MODEL_BASE_URL=\\\"https://cdn.aframe.io/controllers/oculus/oculus-touch-controller-\\\",TOUCH_CONTROLLER_MODEL_OBJ_URL_L=TOUCH_CONTROLLER_MODEL_BASE_URL+\\\"left.obj\\\",TOUCH_CONTROLLER_MODEL_OBJ_MTL_L=TOUCH_CONTROLLER_MODEL_BASE_URL+\\\"left.mtl\\\",TOUCH_CONTROLLER_MODEL_OBJ_URL_R=TOUCH_CONTROLLER_MODEL_BASE_URL+\\\"right.obj\\\",TOUCH_CONTROLLER_MODEL_OBJ_MTL_R=TOUCH_CONTROLLER_MODEL_BASE_URL+\\\"right.mtl\\\",GAMEPAD_ID_PREFIX=\\\"Oculus Touch\\\",PIVOT_OFFSET={x:0,y:-.015,z:.04},EMULATED_TOUCH_THRESHOLD=.001;module.exports.Component=registerComponent(\\\"oculus-touch-controls\\\",{schema:{hand:{default:\\\"left\\\"},buttonColor:{default:\\\"#FAFAFA\\\"},buttonHighlightColor:{default:\\\"#22D1EE\\\"},model:{default:!0},rotationOffset:{default:0}},mapping:{left:{axis0:\\\"thumbstick\\\",axis1:\\\"thumbstick\\\",button0:\\\"thumbstick\\\",button1:\\\"trigger\\\",button2:\\\"grip\\\",button3:\\\"X\\\",button4:\\\"Y\\\",button5:\\\"surface\\\"},right:{axis0:\\\"thumbstick\\\",axis1:\\\"thumbstick\\\",button0:\\\"thumbstick\\\",button1:\\\"trigger\\\",button2:\\\"grip\\\",button3:\\\"A\\\",button4:\\\"B\\\",button5:\\\"surface\\\"}},bindMethods:function(){this.onModelLoaded=bind(this.onModelLoaded,this),this.onControllersUpdate=bind(this.onControllersUpdate,this),this.checkIfControllerPresent=bind(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=bind(this.removeControllersUpdateListener,this),this.onGamepadConnected=bind(this.onGamepadConnected,this),this.onGamepadDisconnected=bind(this.onGamepadDisconnected,this)},init:function(){var t=this;this.animationActive=\\\"pointing\\\",this.onButtonChanged=bind(this.onButtonChanged,this),this.onButtonDown=function(e){t.onButtonEvent(e.detail.id,\\\"down\\\")},this.onButtonUp=function(e){t.onButtonEvent(e.detail.id,\\\"up\\\")},this.onButtonTouchStart=function(e){t.onButtonEvent(e.detail.id,\\\"touchstart\\\")},this.onButtonTouchEnd=function(e){t.onButtonEvent(e.detail.id,\\\"touchend\\\")},this.controllerPresent=!1,this.everGotGamepadEvent=!1,this.lastControllerCheck=0,this.previousButtonValues={},this.bindMethods(),this.isControllerPresent=isControllerPresent},addEventListeners:function(){var t=this.el;t.addEventListener(\\\"buttonchanged\\\",this.onButtonChanged),t.addEventListener(\\\"buttondown\\\",this.onButtonDown),t.addEventListener(\\\"buttonup\\\",this.onButtonUp),t.addEventListener(\\\"touchstart\\\",this.onButtonTouchStart),t.addEventListener(\\\"touchend\\\",this.onButtonTouchEnd),t.addEventListener(\\\"model-loaded\\\",this.onModelLoaded)},removeEventListeners:function(){var t=this.el;t.removeEventListener(\\\"buttonchanged\\\",this.onButtonChanged),t.removeEventListener(\\\"buttondown\\\",this.onButtonDown),t.removeEventListener(\\\"buttonup\\\",this.onButtonUp),t.removeEventListener(\\\"touchstart\\\",this.onButtonTouchStart),t.removeEventListener(\\\"touchend\\\",this.onButtonTouchEnd),t.removeEventListener(\\\"model-loaded\\\",this.onModelLoaded)},checkIfControllerPresent:function(){var t=this.data,e=this.isControllerPresent(this.el.sceneEl,GAMEPAD_ID_PREFIX,{hand:t.hand});e!==this.controllerPresent&&(this.controllerPresent=e,e?(this.injectTrackedControls(),this.addEventListeners()):this.removeEventListeners())},onGamepadConnected:function(t){this.checkIfControllerPresent()},onGamepadDisconnected:function(t){this.checkIfControllerPresent()},play:function(){this.checkIfControllerPresent(),window.addEventListener(\\\"gamepadconnected\\\",this.onGamepadConnected,!1),window.addEventListener(\\\"gamepaddisconnected\\\",this.onGamepadDisconnected,!1),this.addControllersUpdateListener()},pause:function(){window.removeEventListener(\\\"gamepadconnected\\\",this.onGamepadConnected,!1),window.removeEventListener(\\\"gamepaddisconnected\\\",this.onGamepadDisconnected,!1),this.removeControllersUpdateListener(),this.removeEventListeners()},updateControllerModel:function(){var t,e;this.data.model&&(\\\"right\\\"===this.data.hand?(t=\\\"url(\\\"+TOUCH_CONTROLLER_MODEL_OBJ_URL_R+\\\")\\\",e=\\\"url(\\\"+TOUCH_CONTROLLER_MODEL_OBJ_MTL_R+\\\")\\\"):(t=\\\"url(\\\"+TOUCH_CONTROLLER_MODEL_OBJ_URL_L+\\\")\\\",e=\\\"url(\\\"+TOUCH_CONTROLLER_MODEL_OBJ_MTL_L+\\\")\\\"),this.el.setAttribute(\\\"obj-model\\\",{obj:t,mtl:e}))},injectTrackedControls:function(){var t=this.el,e=this.data,o=\\\"right\\\"===e.hand;t.setAttribute(\\\"tracked-controls\\\",{id:o?\\\"Oculus Touch (Right)\\\":\\\"Oculus Touch (Left)\\\",controller:0,rotationOffset:e.rotationOffset!==-999?e.rotationOffset:o?-90:90}),this.updateControllerModel()},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener(\\\"controllersupdated\\\",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener(\\\"controllersupdated\\\",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.everGotGamepadEvent||this.checkIfControllerPresent()},isEmulatedTouchEvent:function(t){return t&&t>=EMULATED_TOUCH_THRESHOLD},onButtonChanged:function(t){var e,o,n,i=this.mapping[this.data.hand][\\\"button\\\"+t.detail.id],r=this.buttonMeshes;\\\"trigger\\\"!==i&&\\\"grip\\\"!==i||(o=t.detail.state.value,e=this.isEmulatedTouchEvent(this.previousButtonValues[i]),this.previousButtonValues[i]=o,n=this.isEmulatedTouchEvent(o),n!==e&&(n?this.onButtonTouchStart:this.onButtonTouchEnd)(t),\\\"trigger\\\"===i&&r&&r.trigger&&(r.trigger.rotation.x=-o*(Math.PI/12)))},onModelLoaded:function(t){var e,o=t.detail.model;if(this.data.model){var n=\\\"left\\\"===this.data.hand;e=this.buttonMeshes={},e.grip=o.getObjectByName(n?\\\"grip tooche1 group3\\\":\\\"grip tooche group4\\\"),e.thumbstick=o.getObjectByName(n?\\\"tooche1 group3 control_surface group2 thumb_stick\\\":\\\"tooche group4 control_surface group2 thumb_stick\\\"),e.trigger=o.getObjectByName(n?\\\"tooche1 group3 trigger\\\":\\\"tooche group4 trigger\\\"),e.X=o.getObjectByName(\\\"tooche1 group3 control_surface group2 button2\\\"),e.A=o.getObjectByName(\\\"tooche group4 control_surface group2 button2\\\"),e.Y=o.getObjectByName(\\\"tooche1 group3 control_surface group2 button3\\\"),e.B=o.getObjectByName(\\\"tooche group4 control_surface group2 button3\\\"),e.surface=o.getObjectByName(n?\\\"tooche1 group3 face control_surface group2\\\":\\\"tooche group4 face control_surface group2\\\"),o.position=PIVOT_OFFSET}},onButtonEvent:function(t,e){var o,n=this.mapping[this.data.hand][\\\"button\\\"+t];if(Array.isArray(n))for(o=0;o<n.length;o++)this.el.emit(n[o]+e);else this.el.emit(n+e);this.updateModel(n,e)},updateModel:function(t,e){var o;if(Array.isArray(t))for(o=0;o<t.length;o++)this.updateButtonModel(t[o],e);else this.updateButtonModel(t,e)},updateButtonModel:function(t,e){var o=\\\"up\\\"===e?this.data.buttonColor:this.data.buttonHighlightColor,n=this.buttonMeshes;this.data.model&&n&&n[t]&&n[t].material.color.set(o)}});\\n},{\\\"../core/component\\\":63,\\\"../utils/bind\\\":118,\\\"../utils/tracked-controls\\\":128}],33:[function(_dereq_,module,exports){\\nvar registerComponent=_dereq_(\\\"../core/component\\\").registerComponent;module.exports.Component=registerComponent(\\\"position\\\",{schema:{type:\\\"vec3\\\"},update:function(){var e=this.el.object3D,o=this.data;e.position.set(o.x,o.y,o.z)}});\\n},{\\\"../core/component\\\":63}],34:[function(_dereq_,module,exports){\\nvar registerComponent=_dereq_(\\\"../core/component\\\").registerComponent,THREE=_dereq_(\\\"../lib/three\\\"),bind=_dereq_(\\\"../utils/\\\").bind,scaleDummy=new THREE.Vector3;module.exports.Component=registerComponent(\\\"raycaster\\\",{schema:{far:{default:1/0},interval:{default:100},near:{default:0},objects:{default:\\\"\\\"},recursive:{default:!0}},init:function(){this.direction=new THREE.Vector3,this.intersectedEls=[],this.objects=null,this.prevCheckTime=void 0,this.raycaster=new THREE.Raycaster,this.updateOriginDirection(),this.refreshObjects=bind(this.refreshObjects,this)},play:function(){this.el.sceneEl.addEventListener(\\\"child-attached\\\",this.refreshObjects),this.el.sceneEl.addEventListener(\\\"child-detached\\\",this.refreshObjects)},pause:function(){this.el.sceneEl.removeEventListener(\\\"child-attached\\\",this.refreshObjects),this.el.sceneEl.removeEventListener(\\\"child-detached\\\",this.refreshObjects)},update:function(){var e=this.data,t=this.raycaster;t.far=e.far,t.near=e.near,this.refreshObjects()},refreshObjects:function(){var e,t,i=this.data;if(i.objects)for(t=this.el.sceneEl.querySelectorAll(i.objects),this.objects=[],e=0;e<t.length;e++)this.objects.push(t[e].object3D);else this.objects=this.el.sceneEl.object3D.children},tick:function(e){var t,i,r,s=this.el,c=this.data,n=this.prevCheckTime;n&&e-n<c.interval||(r=this.intersectedEls.slice(),this.updateOriginDirection(),i=this.raycaster.intersectObjects(this.objects,c.recursive),i=i.filter(function(e){return!!e.object.el}),t=this.intersectedEls=i.map(function(e){return e.object.el}),i.forEach(function(e){var t=e.object.el;t.emit(\\\"raycaster-intersected\\\",{el:s,intersection:e})}),i.length&&s.emit(\\\"raycaster-intersection\\\",{els:t.slice(),intersections:i}),r.forEach(function(e){t.indexOf(e)===-1&&(s.emit(\\\"raycaster-intersection-cleared\\\",{el:e}),e.emit(\\\"raycaster-intersected-cleared\\\",{el:s}))}))},updateOriginDirection:function(){var e=new THREE.Quaternion,t=new THREE.Vector3;return function(){var i=this.el,r=i.object3D;r.updateMatrixWorld(),r.matrixWorld.decompose(t,e,scaleDummy),this.direction.set(0,0,-1),this.direction.applyQuaternion(e),this.raycaster.set(t,this.direction)}}()});\\n},{\\\"../core/component\\\":63,\\\"../lib/three\\\":106,\\\"../utils/\\\":124}],35:[function(_dereq_,module,exports){\\nvar degToRad=_dereq_(\\\"../lib/three\\\").Math.degToRad,registerComponent=_dereq_(\\\"../core/component\\\").registerComponent;module.exports.Component=registerComponent(\\\"rotation\\\",{schema:{type:\\\"vec3\\\"},update:function(){var e=this.data,o=this.el.object3D;o.rotation.set(degToRad(e.x),degToRad(e.y),degToRad(e.z)),o.rotation.order=\\\"YXZ\\\"}});\\n},{\\\"../core/component\\\":63,\\\"../lib/three\\\":106}],36:[function(_dereq_,module,exports){\\nvar registerComponent=_dereq_(\\\"../core/component\\\").registerComponent,zeroScale=1e-5;module.exports.Component=registerComponent(\\\"scale\\\",{schema:{type:\\\"vec3\\\",default:{x:1,y:1,z:1}},update:function(){var e=this.data,o=this.el.object3D,t=0===e.x?zeroScale:e.x,r=0===e.y?zeroScale:e.y,a=0===e.z?zeroScale:e.z;o.scale.set(t,r,a)}});\\n},{\\\"../core/component\\\":63}],37:[function(_dereq_,module,exports){\\nvar registerComponent=_dereq_(\\\"../../core/component\\\").registerComponent,utils=_dereq_(\\\"../../utils\\\");module.exports.Component=registerComponent(\\\"auto-enter-vr\\\",{schema:{display:{type:\\\"string\\\",default:\\\"GearVR\\\"},enabled:{type:\\\"boolean\\\",default:!0}},init:function(){var e=this.el,t=this;this.enterVR=e.enterVR.bind(e),this.exitVR=e.exitVR.bind(e),this.shouldAutoEnterVR=this.shouldAutoEnterVR.bind(this),\\\"false\\\"!==utils.getUrlParameter(\\\"auto-enter-vr\\\")&&(window.addEventListener(\\\"vrdisplayactivate\\\",function(){t.enterVR()},!1),window.addEventListener(\\\"vrdisplaydeactivate\\\",function(){t.exitVR()},!1),setTimeout(function(){t.shouldAutoEnterVR()&&t.enterVR()},0))},update:function(){return this.shouldAutoEnterVR()?this.enterVR():this.exitVR()},shouldAutoEnterVR:function(){var e=this.el,t=this.data;if(!t.enabled)return!1;if(t.display){var i=e.effect&&e.effect.getVRDisplay&&e.effect.getVRDisplay();if(!i||!i.displayName||i.displayName.indexOf(t.display)<0)return!1}return!0}});\\n},{\\\"../../core/component\\\":63,\\\"../../utils\\\":124}],38:[function(_dereq_,module,exports){\\nvar bind=_dereq_(\\\"../../utils/bind\\\"),register=_dereq_(\\\"../../core/component\\\").registerComponent;module.exports.Component=register(\\\"canvas\\\",{init:function(){function e(e){a.classList.add(\\\"fullscreen\\\")}function n(e){a.classList.remove(\\\"fullscreen\\\")}function t(){var e=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement;e||r.exitVR(),document.activeElement.blur(),document.body.focus(),setTimeout(bind(r.resize,r),0)}var r=this.el,a=document.createElement(\\\"canvas\\\");a.classList.add(\\\"a-canvas\\\"),a.dataset.aframeCanvas=!0,r.appendChild(a),document.addEventListener(\\\"fullscreenchange\\\",t),document.addEventListener(\\\"mozfullscreenchange\\\",t),document.addEventListener(\\\"webkitfullscreenchange\\\",t),a.addEventListener(\\\"touchmove\\\",function(e){e.preventDefault()}),r.addEventListener(\\\"enter-vr\\\",e),r.addEventListener(\\\"exit-vr\\\",n),r.canvas=a,r.emit(\\\"render-target-loaded\\\",{target:a})}});\\n},{\\\"../../core/component\\\":63,\\\"../../utils/bind\\\":118}],39:[function(_dereq_,module,exports){\\nvar register=_dereq_(\\\"../../core/component\\\").registerComponent;module.exports.Component=register(\\\"debug\\\",{schema:{default:!0}});\\n},{\\\"../../core/component\\\":63}],40:[function(_dereq_,module,exports){\\nvar registerComponent=_dereq_(\\\"../../core/component\\\").registerComponent;module.exports.Component=registerComponent(\\\"embedded\\\",{dependencies:[\\\"vr-mode-ui\\\"],schema:{default:!0},update:function(){var e=this.el,r=e.querySelector(\\\".a-enter-vr\\\");this.data===!0?(r.classList.add(\\\"embedded\\\"),e.removeFullScreenStyles()):(r.classList.remove(\\\"embedded\\\"),e.addFullScreenStyles())}});\\n},{\\\"../../core/component\\\":63}],41:[function(_dereq_,module,exports){\\nfunction getFog(e){var o;return o=\\\"exponential\\\"===e.type?new THREE.FogExp2(e.color,e.density):new THREE.Fog(e.color,e.near,e.far),o.name=e.type,o}var register=_dereq_(\\\"../../core/component\\\").registerComponent,THREE=_dereq_(\\\"../../lib/three\\\"),debug=_dereq_(\\\"../../utils/debug\\\"),warn=debug(\\\"components:fog:warn\\\");module.exports.Component=register(\\\"fog\\\",{schema:{color:{default:\\\"#000\\\"},density:{default:25e-5},far:{default:1e3,min:0},near:{default:1,min:0},type:{default:\\\"linear\\\",oneOf:[\\\"linear\\\",\\\"exponential\\\"]}},update:function(){var e=this.data,o=this.el,t=this.el.object3D.fog;return o.isScene?t&&e.type===t.name?void Object.keys(this.schema).forEach(function(o){var n=e[o];\\\"color\\\"===o&&(n=new THREE.Color(n)),t[o]=n}):(o.object3D.fog=getFog(e),void o.systems.material.updateMaterials()):void warn(\\\"Fog component can only be applied to <a-scene>\\\")},remove:function(){var e=this.el.object3D.fog;e&&(e.density=0,e.far=0,e.near=0)}});\\n},{\\\"../../core/component\\\":63,\\\"../../lib/three\\\":106,\\\"../../utils/debug\\\":120}],42:[function(_dereq_,module,exports){\\nfunction getFuzzyPatchVersion(e){var n=e.split(\\\".\\\");return n[2]=\\\"x\\\",n.join(\\\".\\\")}var AFRAME_INJECTED=_dereq_(\\\"../../constants\\\").AFRAME_INJECTED,bind=_dereq_(\\\"../../utils/bind\\\"),pkg=_dereq_(\\\"../../../package\\\"),registerComponent=_dereq_(\\\"../../core/component\\\").registerComponent,INSPECTOR_DEV_URL=\\\"https://aframe.io/aframe-inspector/dist/aframe-inspector.js\\\",INSPECTOR_RELEASE_URL=\\\"https://unpkg.com/aframe-inspector@\\\"+getFuzzyPatchVersion(pkg.version)+\\\"/dist/aframe-inspector.min.js\\\",INSPECTOR_URL=INSPECTOR_DEV_URL,LOADING_MESSAGE=\\\"Loading Inspector\\\";module.exports.Component=registerComponent(\\\"inspector\\\",{schema:{url:{default:INSPECTOR_URL}},init:function(){this.onKeydown=bind(this.onKeydown,this),this.onMessage=bind(this.onMessage,this),this.initOverlay(),window.addEventListener(\\\"keydown\\\",this.onKeydown),window.addEventListener(\\\"message\\\",this.onMessage)},initOverlay:function(){var e='<span class=\\\"dots\\\"><span>.</span><span>.</span><span>.</span></span>';this.loadingMessageEl=document.createElement(\\\"div\\\"),this.loadingMessageEl.classList.add(\\\"a-inspector-loader\\\"),this.loadingMessageEl.innerHTML=LOADING_MESSAGE+e},remove:function(){this.removeEventListeners()},onKeydown:function(e){var n=73===e.keyCode&&e.ctrlKey&&e.altKey;this.data&&n&&this.injectInspector()},showLoader:function(){document.body.appendChild(this.loadingMessageEl)},hideLoader:function(){this.el.removeChild(this.loadingMessageEl)},onMessage:function(e){\\\"INJECT_AFRAME_INSPECTOR\\\"===e.data&&this.injectInspector()},injectInspector:function(){var e,n=this;AFRAME.INSPECTOR||AFRAME.inspectorInjected||(this.showLoader(),e=document.createElement(\\\"script\\\"),e.src=this.data.url,e.setAttribute(\\\"data-name\\\",\\\"aframe-inspector\\\"),e.setAttribute(AFRAME_INJECTED,\\\"\\\"),e.onload=function(){AFRAME.INSPECTOR.open(),n.hideLoader(),n.removeEventListeners()},document.head.appendChild(e),AFRAME.inspectorInjected=!0)},removeEventListeners:function(){window.removeEventListener(\\\"keydown\\\",this.onKeydown),window.removeEventListener(\\\"message\\\",this.onMessage)}});\\n},{\\\"../../../package\\\":20,\\\"../../constants\\\":54,\\\"../../core/component\\\":63,\\\"../../utils/bind\\\":118}],43:[function(_dereq_,module,exports){\\nvar registerComponent=_dereq_(\\\"../../core/component\\\").registerComponent,shouldCaptureKeyEvent=_dereq_(\\\"../../utils/\\\").shouldCaptureKeyEvent,THREE=_dereq_(\\\"../../lib/three\\\"),controls=new THREE.VRControls(new THREE.Object3D);module.exports.Component=registerComponent(\\\"keyboard-shortcuts\\\",{schema:{enterVR:{default:!0},exitVR:{default:!0},resetSensor:{default:!0}},init:function(){var e=this,t=this.el;this.listener=window.addEventListener(\\\"keyup\\\",function(n){shouldCaptureKeyEvent(n)&&(e.enterVREnabled&&70===n.keyCode&&t.enterVR(),e.enterVREnabled&&27===n.keyCode&&t.exitVR(),e.resetSensorEnabled&&90===n.keyCode&&controls.resetSensor())},!1)},update:function(e){var t=this.data;this.enterVREnabled=t.enterVR,this.resetSensorEnabled=t.resetSensor},remove:function(){window.removeEventListener(\\\"keyup\\\",this.listener)}});\\n},{\\\"../../core/component\\\":63,\\\"../../lib/three\\\":106,\\\"../../utils/\\\":124}],44:[function(_dereq_,module,exports){\\nvar debug=_dereq_(\\\"../../utils/debug\\\"),registerComponent=_dereq_(\\\"../../core/component\\\").registerComponent,warn=debug(\\\"components:pool:warn\\\");module.exports.Component=registerComponent(\\\"pool\\\",{schema:{mixin:{default:\\\"\\\"},size:{default:0},dynamic:{default:!1}},multiple:!0,init:function(){this.initPool()},initPool:function(){var t,i=this.data.mixin;if(i)for(this.availableEls=[],this.usedEls=[],t=0;t<this.data.size;++t)this.createEntity()},update:function(t){var i=this.data;t.mixin===i.mixin&&t.size===i.size||this.initPool()},createEntity:function(){var t=document.createElement(\\\"a-entity\\\");t.play=this.wrapPlay(t.play),t.setAttribute(\\\"mixin\\\",this.data.mixin),t.setAttribute(\\\"visible\\\",!1),this.el.appendChild(t),this.availableEls.push(t)},wrapPlay:function(t){var i=this.usedEls;return function(){i.indexOf(this)!==-1&&t.call(this)}},requestEntity:function(){var t;if(0===this.availableEls.length){if(this.data.dynamic===!1)return void warn(\\\"Requested entity from empty pool \\\"+this.name);warn(\\\"Requested entity from empty pool. This pool is dynamicand will resize automatically. You might want to increase its initial size\\\"+this.name),this.createEntity()}return t=this.availableEls.shift(),this.usedEls.push(t),t.setAttribute(\\\"visible\\\",!0),t},returnEntity:function(t){var i=this.usedEls.indexOf(t);return i===-1?void warn(\\\"The returned entity was not previously pooled from \\\"+this.name):(this.usedEls.splice(i,1),this.availableEls.push(t),t.setAttribute(\\\"visible\\\",!1),void t.pause())}});\\n},{\\\"../../core/component\\\":63,\\\"../../utils/debug\\\":120}],45:[function(_dereq_,module,exports){\\nvar registerComponent=_dereq_(\\\"../../core/component\\\").registerComponent,THREE=_dereq_(\\\"../../lib/three\\\"),VERTEX_SHADER=[\\\"attribute vec3 position;\\\",\\\"attribute vec2 uv;\\\",\\\"uniform mat4 projectionMatrix;\\\",\\\"uniform mat4 modelViewMatrix;\\\",\\\"varying vec2 vUv;\\\",\\\"void main()  {\\\",\\\"  vUv = vec2( 1.- uv.x, uv.y );\\\",\\\"  gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\\",\\\"}\\\"].join(\\\"\\\\n\\\"),FRAGMENT_SHADER=[\\\"precision mediump float;\\\",\\\"uniform samplerCube map;\\\",\\\"varying vec2 vUv;\\\",\\\"#define M_PI 3.141592653589793238462643383279\\\",\\\"void main() {\\\",\\\"  vec2 uv = vUv;\\\",\\\"  float longitude = uv.x * 2. * M_PI - M_PI + M_PI / 2.;\\\",\\\"  float latitude = uv.y * M_PI;\\\",\\\"  vec3 dir = vec3(\\\",\\\"    - sin( longitude ) * sin( latitude ),\\\",\\\"    cos( latitude ),\\\",\\\"    - cos( longitude ) * sin( latitude )\\\",\\\"  );\\\",\\\"  normalize( dir );\\\",\\\"  gl_FragColor = vec4( textureCube( map, dir ).rgb, 1.0 );\\\",\\\"}\\\"].join(\\\"\\\\n\\\");module.exports.Component=registerComponent(\\\"screenshot\\\",{schema:{width:{default:4096},height:{default:2048}},init:function(){function e(){var e=t.renderer.getContext();a.cubeMapSize=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),a.material=new THREE.RawShaderMaterial({uniforms:{map:{type:\\\"t\\\",value:null}},vertexShader:VERTEX_SHADER,fragmentShader:FRAGMENT_SHADER,side:THREE.DoubleSide}),a.quad=new THREE.Mesh(new THREE.PlaneBufferGeometry(1,1),a.material),a.quad.visible=!1,a.camera=new THREE.OrthographicCamera((-.5),.5,.5,(-.5),(-1e4),1e4),a.canvas=document.createElement(\\\"canvas\\\"),a.ctx=a.canvas.getContext(\\\"2d\\\"),t.camera&&t.camera.add(a.quad),a.onKeyDown=a.onKeyDown.bind(a),a.onCameraActive=a.onCameraActive.bind(a),t.addEventListener(\\\"camera-set-active\\\",a.onCameraActive)}var t=this.el,a=this;t.renderer?e():t.addEventListener(\\\"render-target-loaded\\\",e)},getRenderTarget:function(e,t){return new THREE.WebGLRenderTarget(e,t,{minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter,wrapS:THREE.ClampToEdgeWrapping,wrapT:THREE.ClampToEdgeWrapping,format:THREE.RGBAFormat,type:THREE.UnsignedByteType})},resize:function(e,t){this.quad.scale.set(e,t,1),this.camera.left=e/-2,this.camera.right=e/2,this.camera.top=t/2,this.camera.bottom=t/-2,this.camera.updateProjectionMatrix(),this.canvas.width=e,this.canvas.height=t},play:function(){window.addEventListener(\\\"keydown\\\",this.onKeyDown)},onCameraActive:function(e){var t=this.quad.parent;t&&t.remove(this.quad),e.detail.cameraEl.getObject3D(\\\"camera\\\").add(this.quad)},onKeyDown:function(e){var t=83===e.keyCode&&e.ctrlKey&&e.altKey;if(this.data&&t){var a=e.shiftKey?\\\"equirectangular\\\":\\\"perspective\\\";this.capture(a)}},capture:function(e){var t,a,i,r=this.el,n=r.renderer;\\\"perspective\\\"===e?(this.quad.visible=!1,a=r.camera,t=n.getSize()):(a=this.camera,a.position.copy(r.camera.getWorldPosition()),a.rotation.copy(r.camera.getWorldRotation()),i=new THREE.CubeCamera(r.camera.near,r.camera.far,Math.min(this.cubeMapSize,2048)),i.position.copy(r.camera.getWorldPosition()),i.rotation.copy(r.camera.getWorldRotation()),i.updateCubeMap(r.renderer,r.object3D),this.quad.material.uniforms.map.value=i.renderTarget.texture,t={width:this.data.width,height:this.data.height},this.quad.visible=!0),this.renderCapture(a,t,e),this.saveCapture()},renderCapture:function(e,t,a){var i,r,n,o=this.el.renderer.autoClear,d=this.el,c=this.el.renderer;r=this.getRenderTarget(t.width,t.height),n=new Uint8Array(4*t.width*t.height),this.resize(t.width,t.height),c.autoClear=!0,c.render(d.object3D,e,r,!0),c.autoClear=o,c.readRenderTargetPixels(r,0,0,t.width,t.height,n),\\\"perspective\\\"===a&&(n=this.flipPixelsVertically(n,t.width,t.height)),i=new ImageData(new Uint8ClampedArray(n),t.width,t.height),this.quad.visible=!1,this.ctx.putImageData(i,0,0)},flipPixelsVertically:function(e,t,a){for(var i=e.slice(0),r=0;r<t;++r)for(var n=0;n<a;++n)i[4*r+n*t*4]=e[4*r+(a-n)*t*4],i[4*r+1+n*t*4]=e[4*r+1+(a-n)*t*4],i[4*r+2+n*t*4]=e[4*r+2+(a-n)*t*4],i[4*r+3+n*t*4]=e[4*r+3+(a-n)*t*4];return i},saveCapture:function(){this.canvas.toBlob(function(e){var t=URL.createObjectURL(e),a=\\\"screenshot-\\\"+document.title+\\\"-\\\"+Date.now()+\\\".png\\\",i=document.createElement(\\\"a\\\");i.href=t,i.setAttribute(\\\"download\\\",a),i.innerHTML=\\\"downloading...\\\",i.style.display=\\\"none\\\",document.body.appendChild(i),setTimeout(function(){i.click(),document.body.removeChild(i)},1)},\\\"image/png\\\")}});\\n},{\\\"../../core/component\\\":63,\\\"../../lib/three\\\":106}],46:[function(_dereq_,module,exports){\\nfunction createStats(t){var e=new ThreeStats(t.renderer),s=new AFrameStats(t),i=t.isMobile?[]:[e,s];return new RStats({css:[],values:{fps:{caption:\\\"fps\\\",below:30}},groups:[{caption:\\\"Framerate\\\",values:[\\\"fps\\\",\\\"raf\\\"]}],plugins:i})}var registerComponent=_dereq_(\\\"../../core/component\\\").registerComponent,RStats=_dereq_(\\\"../../../vendor/rStats\\\"),utils=_dereq_(\\\"../../utils\\\");_dereq_(\\\"../../../vendor/rStats.extras\\\"),_dereq_(\\\"../../lib/rStatsAframe\\\");var AFrameStats=window.aframeStats,bind=utils.bind,HIDDEN_CLASS=\\\"a-hidden\\\",ThreeStats=window.threeStats;module.exports.Component=registerComponent(\\\"stats\\\",{schema:{default:!0},init:function(){var t=this.el;\\\"false\\\"!==utils.getUrlParameter(\\\"stats\\\")&&(this.stats=createStats(t),this.statsEl=document.querySelector(\\\".rs-base\\\"),this.hideBound=bind(this.hide,this),this.showBound=bind(this.show,this),t.addEventListener(\\\"enter-vr\\\",this.hideBound),t.addEventListener(\\\"exit-vr\\\",this.showBound))},update:function(){if(this.stats)return this.data?this.show():this.hide()},remove:function(){this.el.removeEventListener(\\\"enter-vr\\\",this.hideBound),this.el.removeEventListener(\\\"exit-vr\\\",this.showBound),this.statsEl.parentNode.removeChild(this.statsEl)},tick:function(){var t=this.stats;t&&(t(\\\"rAF\\\").tick(),t(\\\"FPS\\\").frame(),t().update())},hide:function(){this.statsEl.classList.add(HIDDEN_CLASS)},show:function(){this.statsEl.classList.remove(HIDDEN_CLASS)}});\\n},{\\\"../../../vendor/rStats\\\":132,\\\"../../../vendor/rStats.extras\\\":131,\\\"../../core/component\\\":63,\\\"../../lib/rStatsAframe\\\":105,\\\"../../utils\\\":124}],47:[function(_dereq_,module,exports){\\nfunction createEnterVRButton(e){var t,n;return n=document.createElement(\\\"div\\\"),n.classList.add(ENTER_VR_CLASS),n.setAttribute(constants.AFRAME_INJECTED,\\\"\\\"),t=document.createElement(\\\"button\\\"),t.className=ENTER_VR_BTN_CLASS,t.setAttribute(constants.AFRAME_INJECTED,\\\"\\\"),n.appendChild(t),t.addEventListener(\\\"click\\\",e),n}function createOrientationModal(e){var t=document.createElement(\\\"div\\\");t.className=ORIENTATION_MODAL_CLASS,t.classList.add(HIDDEN_CLASS),t.setAttribute(constants.AFRAME_INJECTED,\\\"\\\");var n=document.createElement(\\\"button\\\");return n.setAttribute(constants.AFRAME_INJECTED,\\\"\\\"),n.innerHTML=\\\"Exit VR\\\",n.addEventListener(\\\"click\\\",e),t.appendChild(n),t}var registerComponent=_dereq_(\\\"../../core/component\\\").registerComponent,constants=_dereq_(\\\"../../constants/\\\"),utils=_dereq_(\\\"../../utils/\\\"),bind=utils.bind,ENTER_VR_CLASS=\\\"a-enter-vr\\\",ENTER_VR_BTN_CLASS=\\\"a-enter-vr-button\\\",HIDDEN_CLASS=\\\"a-hidden\\\",ORIENTATION_MODAL_CLASS=\\\"a-orientation-modal\\\";module.exports.Component=registerComponent(\\\"vr-mode-ui\\\",{dependencies:[\\\"canvas\\\"],schema:{enabled:{default:!0}},init:function(){var e=this,t=this.el;\\\"false\\\"!==utils.getUrlParameter(\\\"ui\\\")&&(this.enterVR=bind(t.enterVR,t),this.exitVR=bind(t.exitVR,t),this.insideLoader=!1,this.enterVREl=null,this.orientationModalEl=null,t.addEventListener(\\\"enter-vr\\\",bind(this.updateEnterVRInterface,this)),t.addEventListener(\\\"exit-vr\\\",bind(this.updateEnterVRInterface,this)),window.addEventListener(\\\"message\\\",function(t){\\\"loaderReady\\\"===t.data.type&&(e.insideLoader=!0,e.remove())}),window.addEventListener(\\\"orientationchange\\\",bind(this.toggleOrientationModalIfNeeded,this)))},update:function(){var e=this.el;return!this.data.enabled||this.insideLoader||\\\"false\\\"===utils.getUrlParameter(\\\"ui\\\")?this.remove():void(this.enterVREl||this.orientationModalEl||(this.enterVREl=createEnterVRButton(this.enterVR),e.appendChild(this.enterVREl),this.orientationModalEl=createOrientationModal(this.exitVR),e.appendChild(this.orientationModalEl),this.updateEnterVRInterface()))},remove:function(){[this.enterVREl,this.orientationModalEl].forEach(function(e){e&&e.parentNode.removeChild(e)})},updateEnterVRInterface:function(){this.toggleEnterVRButtonIfNeeded(),this.toggleOrientationModalIfNeeded()},toggleEnterVRButtonIfNeeded:function(){var e=this.el;this.enterVREl&&(e.is(\\\"vr-mode\\\")?this.enterVREl.classList.add(HIDDEN_CLASS):this.enterVREl.classList.remove(HIDDEN_CLASS))},toggleOrientationModalIfNeeded:function(){var e=this.el,t=this.orientationModalEl;t&&e.isMobile&&(!utils.device.isLandscape()&&e.is(\\\"vr-mode\\\")?t.classList.remove(HIDDEN_CLASS):t.classList.add(HIDDEN_CLASS))}});\\n},{\\\"../../constants/\\\":54,\\\"../../core/component\\\":63,\\\"../../utils/\\\":124}],48:[function(_dereq_,module,exports){\\nvar registerComponent=_dereq_(\\\"../core/component\\\").registerComponent,debug=_dereq_(\\\"../utils/debug\\\"),bind=_dereq_(\\\"../utils/bind\\\"),THREE=_dereq_(\\\"../lib/three\\\"),warn=debug(\\\"components:sound:warn\\\");module.exports.Component=registerComponent(\\\"sound\\\",{schema:{autoplay:{default:!1},loop:{default:!1},on:{default:\\\"\\\"},poolSize:{default:1},src:{type:\\\"audio\\\"},volume:{default:1}},multiple:!0,init:function(){this.listener=null,this.audioLoader=new THREE.AudioLoader,this.pool=new THREE.Group,this.playSound=bind(this.playSound,this)},update:function(e){var o=this.data,t=o.src!==e.src;if(t){if(!o.src)return void warn(\\\"Audio source was not specified with `src`\\\");this.setupSound()}if(this.pool.children.forEach(function(e){e.autoplay=o.autoplay,e.setLoop(o.loop),e.setVolume(o.volume)}),o.on!==e.on&&this.updateEventListener(e.on),t){var n=this;this.audioLoader.load(o.src,function(e){n.pool.children.forEach(function(o){o.setBuffer(e)}),THREE.Cache.remove(o.src)})}},pause:function(){this.pauseSound(),this.removeEventListener()},play:function(){this.data.autoplay&&this.playSound(),this.updateEventListener()},remove:function(){this.removeEventListener(),this.el.removeObject3D(this.attrName);try{this.pool.children.forEach(function(e){e.disconnect()})}catch(e){warn(\\\"Audio source not properly disconnected\\\")}},updateEventListener:function(e){var o=this.el;e&&o.removeEventListener(e,this.playSound),o.addEventListener(this.data.on,this.playSound)},removeEventListener:function(){this.el.removeEventListener(this.data.on,this.playSound)},setupSound:function(){var e=this.el,o=e.sceneEl;this.pool.children.length>0&&(this.stopSound(),e.removeObject3D(\\\"sound\\\"));var t=this.listener=o.audioListener||new THREE.AudioListener;o.audioListener=t,o.camera&&o.camera.add(t),o.addEventListener(\\\"camera-set-active\\\",function(e){e.detail.cameraEl.getObject3D(\\\"camera\\\").add(t)}),this.pool=new THREE.Group;for(var n=0;n<this.data.poolSize;n++){var i=new THREE.PositionalAudio(t);this.pool.add(i)}e.setObject3D(this.attrName,this.pool),this.pool.children.forEach(function(o){o.source.onended=function(){o.onEnded(),e.emit(\\\"sound-ended\\\",{index:n})}})},pauseSound:function(){this.pool.children.forEach(function(e){e.source.buffer&&e.isPlaying&&e.pause&&e.pause()})},playSound:function(){var e=!1;this.pool.children.forEach(function(o){if(!o.isPlaying&&o.source.buffer&&!e)return o.play(),void(e=!0)}),e||warn(\\\"All the sounds are playing. If you need to play more sounds simultaneously consider increasing the size of pool with the `poolSize` attribute.\\\")},stopSound:function(){this.pool.children.forEach(function(e){e.source.buffer&&e.stop()})}});\\n},{\\\"../core/component\\\":63,\\\"../lib/three\\\":106,\\\"../utils/bind\\\":118,\\\"../utils/debug\\\":120}],49:[function(_dereq_,module,exports){\\nvar registerComponent=_dereq_(\\\"../core/component\\\").registerComponent,THREE=_dereq_(\\\"../lib/three\\\");module.exports.Component=registerComponent(\\\"tracked-controls\\\",{schema:{controller:{default:0},id:{default:\\\"Match none by default!\\\"},rotationOffset:{default:0}},init:function(){this.buttonStates={},this.previousAxis=[],this.previousControllerPosition=new THREE.Vector3},update:function(){function t(t){return t.id===o.id}var e=this.system.controllers,o=this.data;e=e.filter(t),this.controller=e[o.controller]},tick:function(t,e){var o=this.el.getObject3D(\\\"mesh\\\");o&&o.update&&o.update(e/1e3),this.updatePose(),this.updateButtons()},updatePose:function(){var t=new THREE.Euler,e=new THREE.Vector3,o=new THREE.Quaternion,i=new THREE.Vector3,r=new THREE.Object3D,s=new THREE.Matrix4;return t.order=\\\"YXZ\\\",function(){var n,a,u,h,l=this.el,d=this.system.vrDisplay;if(this.update(),n=this.controller){a=n.pose,u=a.orientation||[0,0,0,1],h=a.position||[0,0,0],o.fromArray(u),r.quaternion.fromArray(u),r.position.fromArray(h),r.updateMatrix(),d&&d.stageParameters&&(s.fromArray(d.stageParameters.sittingToStandingTransform),r.applyMatrix(s)),t.setFromRotationMatrix(r.matrix),e.setFromMatrixPosition(r.matrix),l.setAttribute(\\\"rotation\\\",{x:THREE.Math.radToDeg(t.x),y:THREE.Math.radToDeg(t.y),z:THREE.Math.radToDeg(t.z)+this.data.rotationOffset}),i.copy(e).sub(this.previousControllerPosition),this.previousControllerPosition.copy(e);var c=l.getAttribute(\\\"position\\\");l.setAttribute(\\\"position\\\",{x:c.x+i.x,y:c.y+i.y,z:c.z+i.z})}}}(),updateButtons:function(){var t,e,o=this.controller;if(this.controller){for(t=0;t<o.buttons.length;++t)e=o.buttons[t],this.handleButton(t,e);this.handleAxes(o.axes)}},handleAxes:function(t){var e,o=this.previousAxis,i=!1;for(e=0;e<t.length;++e)if(o[e]!==t[e]){i=!0;break}i&&(this.previousAxis=t.slice(),this.el.emit(\\\"axismove\\\",{axis:this.previousAxis}))},handleButton:function(t,e){var o=!1;o=o||this.handlePress(t,e),o=o||this.handleTouch(t,e),o=o||this.handleValue(t,e),o&&this.el.emit(\\\"buttonchanged\\\",{id:t,state:e})},handlePress:function(t,e){var o,i=this.buttonStates,r=i[t]=i[t]||{};e.pressed!==r.pressed&&(o=e.pressed?\\\"down\\\":\\\"up\\\",this.el.emit(\\\"button\\\"+o,{id:t}),r.pressed=e.pressed)},handleTouch:function(t,e){var o,i=this.buttonStates,r=i[t]=i[t]||{};return e.touched!==r.touched&&(o=e.touched?\\\"start\\\":\\\"end\\\",r.touched=e.touched,this.el.emit(\\\"touch\\\"+o,{id:t,state:r}),!0)},handleValue:function(t,e){var o=this.buttonStates,i=o[t]=o[t]||{};return e.value!==i.value&&(i.value=e.value,!0)}});\\n},{\\\"../core/component\\\":63,\\\"../lib/three\\\":106}],50:[function(_dereq_,module,exports){\\nvar registerComponent=_dereq_(\\\"../core/component\\\").registerComponent;module.exports.Component=registerComponent(\\\"visible\\\",{schema:{default:!0},update:function(){this.el.object3D.visible=this.data}});\\n},{\\\"../core/component\\\":63}],51:[function(_dereq_,module,exports){\\nvar registerComponent=_dereq_(\\\"../core/component\\\").registerComponent,bind=_dereq_(\\\"../utils/bind\\\"),isControllerPresent=_dereq_(\\\"../utils/tracked-controls\\\").isControllerPresent,VIVE_CONTROLLER_MODEL_OBJ_URL=\\\"https://cdn.aframe.io/controllers/vive/vr_controller_vive.obj\\\",VIVE_CONTROLLER_MODEL_OBJ_MTL=\\\"https://cdn.aframe.io/controllers/vive/vr_controller_vive.mtl\\\",GAMEPAD_ID_PREFIX=\\\"OpenVR Gamepad\\\";module.exports.Component=registerComponent(\\\"vive-controls\\\",{schema:{hand:{default:\\\"left\\\"},buttonColor:{default:\\\"#FAFAFA\\\"},buttonHighlightColor:{default:\\\"#22D1EE\\\"},model:{default:!0},rotationOffset:{default:0}},mapping:{axis0:\\\"trackpad\\\",axis1:\\\"trackpad\\\",button0:\\\"trackpad\\\",button1:\\\"trigger\\\",button2:\\\"grip\\\",button3:\\\"menu\\\",button4:\\\"system\\\"},bindMethods:function(){this.onModelLoaded=bind(this.onModelLoaded,this),this.onControllersUpdate=bind(this.onControllersUpdate,this),this.checkIfControllerPresent=bind(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=bind(this.removeControllersUpdateListener,this),this.onGamepadConnected=bind(this.onGamepadConnected,this),this.onGamepadDisconnected=bind(this.onGamepadDisconnected,this)},init:function(){var t=this;this.animationActive=\\\"pointing\\\",this.onButtonChanged=bind(this.onButtonChanged,this),this.onButtonDown=function(e){t.onButtonEvent(e.detail.id,\\\"down\\\")},this.onButtonUp=function(e){t.onButtonEvent(e.detail.id,\\\"up\\\")},this.onButtonTouchStart=function(e){t.onButtonEvent(e.detail.id,\\\"touchstart\\\")},this.onButtonTouchEnd=function(e){t.onButtonEvent(e.detail.id,\\\"touchend\\\")},this.controllerPresent=!1,this.everGotGamepadEvent=!1,this.lastControllerCheck=0,this.bindMethods(),this.isControllerPresent=isControllerPresent},addEventListeners:function(){var t=this.el;t.addEventListener(\\\"buttonchanged\\\",this.onButtonChanged),t.addEventListener(\\\"buttondown\\\",this.onButtonDown),t.addEventListener(\\\"buttonup\\\",this.onButtonUp),t.addEventListener(\\\"touchstart\\\",this.onButtonTouchStart),t.addEventListener(\\\"touchend\\\",this.onButtonTouchEnd),t.addEventListener(\\\"model-loaded\\\",this.onModelLoaded)},removeEventListeners:function(){var t=this.el;t.removeEventListener(\\\"buttonchanged\\\",this.onButtonChanged),t.removeEventListener(\\\"buttondown\\\",this.onButtonDown),t.removeEventListener(\\\"buttonup\\\",this.onButtonUp),t.removeEventListener(\\\"touchstart\\\",this.onButtonTouchStart),t.removeEventListener(\\\"touchend\\\",this.onButtonTouchEnd),t.removeEventListener(\\\"model-loaded\\\",this.onModelLoaded)},checkIfControllerPresent:function(){var t=this.data,e=\\\"right\\\"===t.hand?0:\\\"left\\\"===t.hand?1:2,n=this.isControllerPresent(this.el.sceneEl,GAMEPAD_ID_PREFIX,{index:e});n!==this.controllerPresent&&(this.controllerPresent=n,n?(this.injectTrackedControls(),this.addEventListeners()):this.removeEventListeners())},onGamepadConnected:function(t){this.checkIfControllerPresent()},onGamepadDisconnected:function(t){this.checkIfControllerPresent()},play:function(){this.checkIfControllerPresent(),window.addEventListener(\\\"gamepadconnected\\\",this.onGamepadConnected,!1),window.addEventListener(\\\"gamepaddisconnected\\\",this.onGamepadDisconnected,!1),this.addControllersUpdateListener()},pause:function(){window.removeEventListener(\\\"gamepadconnected\\\",this.onGamepadConnected,!1),window.removeEventListener(\\\"gamepaddisconnected\\\",this.onGamepadDisconnected,!1),this.removeControllersUpdateListener(),this.removeEventListeners()},injectTrackedControls:function(){var t=this.el,e=this.data,n=\\\"url(\\\"+VIVE_CONTROLLER_MODEL_OBJ_URL+\\\")\\\",o=\\\"url(\\\"+VIVE_CONTROLLER_MODEL_OBJ_MTL+\\\")\\\",i=\\\"right\\\"===e.hand?0:\\\"left\\\"===e.hand?1:2;t.setAttribute(\\\"tracked-controls\\\",{id:GAMEPAD_ID_PREFIX,controller:i,rotationOffset:e.rotationOffset}),e.model&&t.setAttribute(\\\"obj-model\\\",{obj:n,mtl:o})},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener(\\\"controllersupdated\\\",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener(\\\"controllersupdated\\\",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.everGotGamepadEvent||this.checkIfControllerPresent()},onButtonChanged:function(t){var e,n=this.mapping[\\\"button\\\"+t.detail.id],o=this.buttonMeshes;n&&o&&\\\"trigger\\\"===n&&(e=t.detail.state.value,o.trigger.rotation.x=-e*(Math.PI/12))},onModelLoaded:function(t){var e,n=t.detail.model;this.data.model&&(e=this.buttonMeshes={},e.grip={left:n.getObjectByName(\\\"leftgrip\\\"),right:n.getObjectByName(\\\"rightgrip\\\")},e.menu=n.getObjectByName(\\\"menubutton\\\"),e.system=n.getObjectByName(\\\"systembutton\\\"),e.trackpad=n.getObjectByName(\\\"touchpad\\\"),e.trigger=n.getObjectByName(\\\"trigger\\\"),n.position.set(0,-.015,.04))},onButtonEvent:function(t,e){var n,o=this.mapping[\\\"button\\\"+t];if(Array.isArray(o))for(n=0;n<o.length;n++)this.el.emit(o[n]+e);else this.el.emit(o+e);this.updateModel(o,e)},updateModel:function(t,e){var n;if(this.data.model)if(Array.isArray(t))for(n=0;n<t.length;n++)this.updateButtonModel(t[n],e);else this.updateButtonModel(t,e)},updateButtonModel:function(t,e){var n=\\\"up\\\"===e?this.data.buttonColor:this.data.buttonHighlightColor,o=this.buttonMeshes;if(o)return\\\"grip\\\"===t?(o.grip.left.material.color.set(n),void o.grip.right.material.color.set(n)):void o[t].material.color.set(n)}});\\n},{\\\"../core/component\\\":63,\\\"../utils/bind\\\":118,\\\"../utils/tracked-controls\\\":128}],52:[function(_dereq_,module,exports){\\nvar KEYCODE_TO_CODE=_dereq_(\\\"../constants\\\").keyboardevent.KEYCODE_TO_CODE,registerComponent=_dereq_(\\\"../core/component\\\").registerComponent,THREE=_dereq_(\\\"../lib/three\\\"),utils=_dereq_(\\\"../utils/\\\"),bind=utils.bind,shouldCaptureKeyEvent=utils.shouldCaptureKeyEvent,CLAMP_VELOCITY=1e-5,MAX_DELTA=.2;module.exports.Component=registerComponent(\\\"wasd-controls\\\",{schema:{acceleration:{default:65},adAxis:{default:\\\"x\\\",oneOf:[\\\"x\\\",\\\"y\\\",\\\"z\\\"]},adEnabled:{default:!0},adInverted:{default:!1},easing:{default:20},enabled:{default:!0},fly:{default:!1},wsAxis:{default:\\\"z\\\",oneOf:[\\\"x\\\",\\\"y\\\",\\\"z\\\"]},wsEnabled:{default:!0},wsInverted:{default:!1}},init:function(){this.keys={},this.velocity=new THREE.Vector3,this.onBlur=bind(this.onBlur,this),this.onFocus=bind(this.onFocus,this),this.onKeyDown=bind(this.onKeyDown,this),this.onKeyUp=bind(this.onKeyUp,this),this.onVisibilityChange=bind(this.onVisibilityChange,this),this.attachVisibilityEventListeners()},tick:function(e,t){var i,n,s=this.data,o=this.el,r=this.velocity;t/=1e3,this.updateVelocity(t),(r[s.adAxis]||r[s.wsAxis])&&(i=this.getMovementVector(t),n=o.getAttribute(\\\"position\\\"),o.setAttribute(\\\"position\\\",{x:n.x+i.x,y:n.y+i.y,z:n.z+i.z}))},remove:function(){this.removeKeyEventListeners(),this.removeVisibilityEventListeners()},play:function(){this.attachKeyEventListeners()},pause:function(){this.keys={},this.removeKeyEventListeners()},updateVelocity:function(e){var t,i,n,s,o,r=this.data,a=this.keys,d=this.velocity;return i=r.adAxis,s=r.wsAxis,e>MAX_DELTA?(d[i]=0,void(d[s]=0)):(0!==d[i]&&(d[i]-=d[i]*r.easing*e),0!==d[s]&&(d[s]-=d[s]*r.easing*e),Math.abs(d[i])<CLAMP_VELOCITY&&(d[i]=0),Math.abs(d[s])<CLAMP_VELOCITY&&(d[s]=0),void(r.enabled&&(t=r.acceleration,r.adEnabled&&(n=r.adInverted?-1:1,(a.KeyA||a.ArrowLeft)&&(d[i]-=n*t*e),(a.KeyD||a.ArrowRight)&&(d[i]+=n*t*e)),r.wsEnabled&&(o=r.wsInverted?-1:1,(a.KeyW||a.ArrowUp)&&(d[s]-=o*t*e),(a.KeyS||a.ArrowDown)&&(d[s]+=o*t*e)))))},getMovementVector:function(){var e=new THREE.Vector3(0,0,0),t=new THREE.Euler(0,0,0,\\\"YXZ\\\");return function(i){var n=this.el.getAttribute(\\\"rotation\\\"),s=this.velocity;return e.copy(s),e.multiplyScalar(i),n?(this.data.fly||(n.x=0),t.set(THREE.Math.degToRad(n.x),THREE.Math.degToRad(n.y),0),e.applyEuler(t),e):e}}(),attachVisibilityEventListeners:function(){window.addEventListener(\\\"blur\\\",this.onBlur),window.addEventListener(\\\"focus\\\",this.onFocus),document.addEventListener(\\\"visibilitychange\\\",this.onVisibilityChange)},removeVisibilityEventListeners:function(){window.removeEventListener(\\\"blur\\\",this.onBlur),window.removeEventListener(\\\"focus\\\",this.onFocus),document.removeEventListener(\\\"visibilitychange\\\",this.onVisibilityChange)},attachKeyEventListeners:function(){window.addEventListener(\\\"keydown\\\",this.onKeyDown),window.addEventListener(\\\"keyup\\\",this.onKeyUp)},removeKeyEventListeners:function(){window.removeEventListener(\\\"keydown\\\",this.onKeyDown),window.removeEventListener(\\\"keyup\\\",this.onKeyUp)},onBlur:function(){this.pause()},onFocus:function(){this.play()},onVisibilityChange:function(){document.hidden?this.onBlur():this.onFocus()},onKeyDown:function(e){var t;shouldCaptureKeyEvent(e)&&(t=e.code||KEYCODE_TO_CODE[e.keyCode],this.keys[t]=!0)},onKeyUp:function(e){var t;t=e.code||KEYCODE_TO_CODE[e.keyCode],this.keys[t]=!1}});\\n},{\\\"../constants\\\":54,\\\"../core/component\\\":63,\\\"../lib/three\\\":106,\\\"../utils/\\\":124}],53:[function(_dereq_,module,exports){\\nvar TWEEN=_dereq_(\\\"tween.js\\\"),DIRECTIONS={alternate:\\\"alternate\\\",alternateReverse:\\\"alternate-reverse\\\",normal:\\\"normal\\\",reverse:\\\"reverse\\\"},EASING_FUNCTIONS={linear:TWEEN.Easing.Linear.None,ease:TWEEN.Easing.Cubic.InOut,\\\"ease-in\\\":TWEEN.Easing.Cubic.In,\\\"ease-out\\\":TWEEN.Easing.Cubic.Out,\\\"ease-in-out\\\":TWEEN.Easing.Cubic.InOut,\\\"ease-cubic\\\":TWEEN.Easing.Cubic.In,\\\"ease-in-cubic\\\":TWEEN.Easing.Cubic.In,\\\"ease-out-cubic\\\":TWEEN.Easing.Cubic.Out,\\\"ease-in-out-cubic\\\":TWEEN.Easing.Cubic.InOut,\\\"ease-quad\\\":TWEEN.Easing.Quadratic.InOut,\\\"ease-in-quad\\\":TWEEN.Easing.Quadratic.In,\\\"ease-out-quad\\\":TWEEN.Easing.Quadratic.Out,\\\"ease-in-out-quad\\\":TWEEN.Easing.Quadratic.InOut,\\\"ease-quart\\\":TWEEN.Easing.Quartic.InOut,\\\"ease-in-quart\\\":TWEEN.Easing.Quartic.In,\\\"ease-out-quart\\\":TWEEN.Easing.Quartic.Out,\\\"ease-in-out-quart\\\":TWEEN.Easing.Quartic.InOut,\\\"ease-quint\\\":TWEEN.Easing.Quintic.InOut,\\\"ease-in-quint\\\":TWEEN.Easing.Quintic.In,\\\"ease-out-quint\\\":TWEEN.Easing.Quintic.Out,\\\"ease-in-out-quint\\\":TWEEN.Easing.Quintic.InOut,\\\"ease-sine\\\":TWEEN.Easing.Sinusoidal.InOut,\\\"ease-in-sine\\\":TWEEN.Easing.Sinusoidal.In,\\\"ease-out-sine\\\":TWEEN.Easing.Sinusoidal.Out,\\\"ease-in-out-sine\\\":TWEEN.Easing.Sinusoidal.InOut,\\\"ease-expo\\\":TWEEN.Easing.Exponential.InOut,\\\"ease-in-expo\\\":TWEEN.Easing.Exponential.In,\\\"ease-out-expo\\\":TWEEN.Easing.Exponential.Out,\\\"ease-in-out-expo\\\":TWEEN.Easing.Exponential.InOut,\\\"ease-circ\\\":TWEEN.Easing.Circular.InOut,\\\"ease-in-circ\\\":TWEEN.Easing.Circular.In,\\\"ease-out-circ\\\":TWEEN.Easing.Circular.Out,\\\"ease-in-out-circ\\\":TWEEN.Easing.Circular.InOut,\\\"ease-elastic\\\":TWEEN.Easing.Elastic.InOut,\\\"ease-in-elastic\\\":TWEEN.Easing.Elastic.In,\\\"ease-out-elastic\\\":TWEEN.Easing.Elastic.Out,\\\"ease-in-out-elastic\\\":TWEEN.Easing.Elastic.InOut,\\\"ease-back\\\":TWEEN.Easing.Back.InOut,\\\"ease-in-back\\\":TWEEN.Easing.Back.In,\\\"ease-out-back\\\":TWEEN.Easing.Back.Out,\\\"ease-in-out-back\\\":TWEEN.Easing.Back.InOut,\\\"ease-bounce\\\":TWEEN.Easing.Bounce.InOut,\\\"ease-in-bounce\\\":TWEEN.Easing.Bounce.In,\\\"ease-out-bounce\\\":TWEEN.Easing.Bounce.Out,\\\"ease-in-out-bounce\\\":TWEEN.Easing.Bounce.InOut},FILLS={backwards:\\\"backwards\\\",both:\\\"both\\\",forwards:\\\"forwards\\\",none:\\\"none\\\"},REPEATS={indefinite:\\\"indefinite\\\"},DEFAULTS={attribute:\\\"rotation\\\",begin:\\\"\\\",end:\\\"\\\",delay:0,dur:1e3,easing:\\\"ease\\\",direction:DIRECTIONS.normal,fill:FILLS.forwards,from:void 0,repeat:0,to:void 0};module.exports.defaults=DEFAULTS,module.exports.directions=DIRECTIONS,module.exports.easingFunctions=EASING_FUNCTIONS,module.exports.fills=FILLS,module.exports.repeats=REPEATS;\\n},{\\\"tween.js\\\":18}],54:[function(_dereq_,module,exports){\\nmodule.exports={AFRAME_INJECTED:\\\"aframe-injected\\\",DEFAULT_CAMERA_HEIGHT:1.6,animation:_dereq_(\\\"./animation\\\"),keyboardevent:_dereq_(\\\"./keyboardevent\\\")};\\n},{\\\"./animation\\\":53,\\\"./keyboardevent\\\":55}],55:[function(_dereq_,module,exports){\\nmodule.exports={KEYCODE_TO_CODE:{38:\\\"ArrowUp\\\",37:\\\"ArrowLeft\\\",40:\\\"ArrowDown\\\",39:\\\"ArrowRight\\\",87:\\\"KeyW\\\",65:\\\"KeyA\\\",83:\\\"KeyS\\\",68:\\\"KeyD\\\"}};\\n},{}],56:[function(_dereq_,module,exports){\\nfunction cloneValue(t){return utils.extend({},t)}function getAnimationValues(t,e,i,n,a){function o(){var e=m[0],i=m[1],n=t.components[e],a=n&&n.schema;return a&&a[i]&&\\\"color\\\"===a[i].type}function s(){v=m[0],p=m[1],c=t.components[v],c||(t.setAttribute(v,\\\"\\\"),c=t.components[v]),h=c.schema,void 0===i?b[e]=getComponentProperty(t,e):b[e]=i,b[e]=parseProperty(b[e],h[p]),g[e]=parseProperty(n,h[p]),f=function(i){e in i&&t.setAttribute(v,p,i[e])}}function r(){b=i?coordinates.parse(i):a,g=coordinates.parse(n),f=function(i){t.setAttribute(e,i)}}function u(){void 0===i?b[e]=!1:b[e]=strToBool(i),b[e]=boolToNum(b[e]),g[e]=boolToNum(strToBool(n)),f=function(i){t.setAttribute(e,!!i[e])}}function l(){b=new THREE.Color(i),g=new THREE.Color(n),f=function(i){m.length>1&&t.setAttribute(m[0],m[1],rgbVectorToHex(i)),t.setAttribute(e,rgbVectorToHex(i))}}function d(){void 0===i?b[e]=parseFloat(t.getAttribute(e)):b[e]=parseFloat(i),g[e]=parseFloat(n),f=function(i){t.setAttribute(e,i[e])}}var h,c,p,v,f,m=e.split(\\\".\\\"),b={},g={};return 2===m.length?o()?l():s():n&&isCoordinate(n)?r():[\\\"true\\\",\\\"false\\\"].indexOf(n)!==-1?u():isNaN(n)?l():d(),{from:b,partialSetAttribute:f,to:g}}function strToBool(t){return\\\"true\\\"===t}function boolToNum(t){return t?1:0}function componentToHex(t){var e=t.toString(16);return 1===e.length?\\\"0\\\"+e:e}function convertToIntegerColor(t){return Math.floor(255*Math.min(Math.abs(t),1))}function rgbVectorToHex(t){return\\\"#\\\"+[\\\"r\\\",\\\"g\\\",\\\"b\\\"].map(function(e){return componentToHex(convertToIntegerColor(t[e]))}).join(\\\"\\\")}var ANode=_dereq_(\\\"./a-node\\\"),animationConstants=_dereq_(\\\"../constants/animation\\\"),coordinates=_dereq_(\\\"../utils/\\\").coordinates,parseProperty=_dereq_(\\\"./schema\\\").parseProperty,registerElement=_dereq_(\\\"./a-register-element\\\").registerElement,TWEEN=_dereq_(\\\"tween.js\\\"),THREE=_dereq_(\\\"../lib/three\\\"),utils=_dereq_(\\\"../utils/\\\"),bind=utils.bind,getComponentProperty=utils.entity.getComponentProperty,DEFAULTS=animationConstants.defaults,DIRECTIONS=animationConstants.directions,EASING_FUNCTIONS=animationConstants.easingFunctions,FILLS=animationConstants.fills,REPEATS=animationConstants.repeats,isCoordinate=coordinates.isCoordinate;module.exports.AAnimation=registerElement(\\\"a-animation\\\",{prototype:Object.create(ANode.prototype,{createdCallback:{value:function(){this.bindMethods(),this.isRunning=!1,this.partialSetAttribute=function(){},this.tween=null}},attachedCallback:{value:function(){this.el=this.parentNode,this.handleMixinUpdate(),this.update(),this.load()}},attributeChangedCallback:{value:function(t,e,i){this.hasLoaded&&this.isRunning&&(this.stop(),this.handleMixinUpdate(),this.update())}},detachedCallback:{value:function(){this.isRunning&&this.stop()}},getTween:{value:function(){var t,e,i,n,a=this,o=a.data,s=a.el,r=o.attribute,u=parseInt(o.delay,10),l=getComponentProperty(s,r),d=a.getDirection(o.direction),h=EASING_FUNCTIONS[o.easing],c=o.fill,p=o.repeat===REPEATS.indefinite?1/0:0,v=!1;return t=getAnimationValues(s,r,o.from||a.initialValue,o.to,l),e=t.from,i=t.to,a.partialSetAttribute=t.partialSetAttribute,void 0===a.count&&(a.count=p===1/0?0:parseInt(o.repeat,10)),isNaN(u)&&(u=0),a.initialValue=a.initialValue||cloneValue(l),p===1/0&&c===FILLS.forwards&&[DIRECTIONS.alternate,DIRECTIONS.alternateReverse].indexOf(o.direction)!==-1&&(v=!0),d===DIRECTIONS.reverse&&(n=i,i=cloneValue(e),e=cloneValue(n)),[FILLS.backwards,FILLS.both].indexOf(c)!==-1&&a.partialSetAttribute(e),new TWEEN.Tween(cloneValue(e)).to(i,o.dur).delay(u).easing(h).repeat(p).yoyo(v).onUpdate(function(){a.partialSetAttribute(this)}).onComplete(bind(a.onCompleted,a))}},update:{value:function(){var t=this.data;\\\"infinite\\\"===t.repeat&&console.warn(\\\"Using 'infinite' as 'repeat' value is invalid.  Use 'indefinite' instead.\\\"),\\\"\\\"===t.begin||isNaN(t.begin)||(console.warn(\\\"Using 'begin' to specify a delay is deprecated. Use 'delay' instead.\\\"),t.delay=t.begin,t.begin=\\\"\\\");var e=t.begin,i=t.end;this.evt&&this.removeEventListeners(this.evt),this.evt={begin:e,end:i},this.addEventListeners(this.evt),\\\"\\\"===e&&(this.stop(),this.start())},writable:window.debug},onCompleted:{value:function(){var t=this.data;return this.isRunning=!1,[FILLS.backwards,FILLS.none].indexOf(t.fill)!==-1&&this.partialSetAttribute(this.initialValue),0===this.count?(this.count=void 0,void this.emit(\\\"animationend\\\")):(this.isRunning=!1,this.count--,void this.start())}},start:{value:function(){var t=this;return this.el.hasLoaded?void(!this.isRunning&&this.el.isPlaying&&(this.tween=this.getTween(),this.isRunning=!0,this.tween.start(),this.emit(\\\"animationstart\\\"))):void this.el.addEventListener(\\\"loaded\\\",function(){t.start()})},writable:!0},stop:{value:function(){var t=this.tween;t&&(t.stop(),this.isRunning=!1,[FILLS.backwards,FILLS.none].indexOf(this.data.fill)!==-1&&this.partialSetAttribute(this.initialValue),this.emit(\\\"animationstop\\\"))},writable:!0},getDirection:{value:function(t){return t===DIRECTIONS.alternate?(this.prevDirection=this.prevDirection===DIRECTIONS.normal?DIRECTIONS.reverse:DIRECTIONS.normal,this.prevDirection):t===DIRECTIONS.alternateReverse?(this.prevDirection=this.prevDirection===DIRECTIONS.reverse?DIRECTIONS.normal:DIRECTIONS.reverse,this.prevDirection):t}},bindMethods:{value:function(){this.start=bind(this.start,this),this.stop=bind(this.stop,this),this.onStateAdded=bind(this.onStateAdded,this),this.onStateRemoved=bind(this.onStateRemoved,this)}},addEventListeners:{value:function(t){var e=this.el,i=this;utils.splitString(t.begin).forEach(function(t){e.addEventListener(t,i.start)}),utils.splitString(t.end).forEach(function(t){e.addEventListener(t,i.stop)}),\\\"\\\"===t.begin&&e.addEventListener(\\\"play\\\",this.start),e.addEventListener(\\\"pause\\\",this.stop),e.addEventListener(\\\"stateadded\\\",this.onStateAdded),e.addEventListener(\\\"stateremoved\\\",this.onStateRemoved)}},removeEventListeners:{value:function(t){var e=this.el,i=this.start,n=this.stop;utils.splitString(t.begin).forEach(function(t){e.removeEventListener(t,i)}),utils.splitString(t.end).forEach(function(t){e.removeEventListener(t,n)}),e.removeEventListener(\\\"stateadded\\\",this.onStateAdded),e.removeEventListener(\\\"stateremoved\\\",this.onStateRemoved)}},onStateAdded:{value:function(t){t.detail.state===this.data.begin&&this.start()},writable:!0},onStateRemoved:{value:function(t){t.detail.state===this.data.begin&&this.stop()},writable:!0},handleMixinUpdate:{value:function(){var t,e,i,n={};i=document.querySelector(\\\"#\\\"+this.getAttribute(\\\"mixin\\\")),e=i?utils.getElData(i,DEFAULTS):{},t=utils.getElData(this,DEFAULTS),utils.extend(n,DEFAULTS,e,t),this.data=n}}})}),module.exports.getAnimationValues=getAnimationValues;\\n},{\\\"../constants/animation\\\":53,\\\"../lib/three\\\":106,\\\"../utils/\\\":124,\\\"./a-node\\\":61,\\\"./a-register-element\\\":62,\\\"./schema\\\":70,\\\"tween.js\\\":18}],57:[function(_dereq_,module,exports){\\nfunction mediaElementLoaded(e){if(e.hasAttribute(\\\"autoplay\\\")||\\\"auto\\\"===e.getAttribute(\\\"preload\\\"))return new Promise(function(t,r){function i(){for(var r=0,i=0;i<e.buffered.length;i++)r+=e.buffered.end(i)-e.buffered.start(i);r>=e.duration&&t()}return 4===e.readyState?t():e.error?r():(e.addEventListener(\\\"loadeddata\\\",i,!1),e.addEventListener(\\\"progress\\\",i,!1),void e.addEventListener(\\\"error\\\",r,!1))})}function fixUpMediaElement(e){var t=setCrossOrigin(e);return\\\"VIDEO\\\"===t.tagName&&(t.setAttribute(\\\"playsinline\\\",\\\"\\\"),t.setAttribute(\\\"webkit-playsinline\\\",\\\"\\\")),t!==e&&(e.parentNode.appendChild(t),e.parentNode.removeChild(e)),t}function setCrossOrigin(e){var t,r;if(e.hasAttribute(\\\"crossorigin\\\"))return e;if(r=e.getAttribute(\\\"src\\\"),null!==r){if(r.indexOf(\\\"://\\\")===-1)return e;if(extractDomain(r)===window.location.host)return e}return warn(\\\"Cross-origin element was requested without `crossorigin` set. A-Frame will re-request the asset with `crossorigin` attribute set.\\\",r),e.crossOrigin=\\\"anonymous\\\",t=e.cloneNode(!0)}function extractDomain(e){var t=e.indexOf(\\\"://\\\")>-1?e.split(\\\"/\\\")[2]:e.split(\\\"/\\\")[0];return t.split(\\\":\\\")[0]}var ANode=_dereq_(\\\"./a-node\\\"),bind=_dereq_(\\\"../utils/bind\\\"),debug=_dereq_(\\\"../utils/debug\\\"),registerElement=_dereq_(\\\"./a-register-element\\\").registerElement,THREE=_dereq_(\\\"../lib/three\\\"),fileLoader=new THREE.XHRLoader,warn=debug(\\\"core:a-assets:warn\\\");module.exports=registerElement(\\\"a-assets\\\",{prototype:Object.create(ANode.prototype,{createdCallback:{value:function(){this.isAssets=!0,this.fileLoader=fileLoader,this.timeout=null}},attachedCallback:{value:function(){var e,t,r,i,o,a,n=this,s=[];if(!this.parentNode.isScene)throw new Error(\\\"<a-assets> must be a child of a <a-scene>.\\\");for(o=this.querySelectorAll(\\\"img\\\"),e=0;e<o.length;e++)i=fixUpMediaElement(o[e]),s.push(new Promise(function(e,t){i.onload=e,i.onerror=t}));for(r=this.querySelectorAll(\\\"audio, video\\\"),e=0;e<r.length;e++)t=fixUpMediaElement(r[e]),s.push(mediaElementLoaded(t));Promise.all(s).then(bind(this.load,this)),a=parseInt(this.getAttribute(\\\"timeout\\\"),10)||3e3,this.timeout=setTimeout(function(){n.hasLoaded||(warn(\\\"Asset loading timed out in \\\",a,\\\"ms\\\"),n.emit(\\\"timeout\\\"),n.load())},a)}},detachedCallback:{value:function(){this.timeout&&clearTimeout(this.timeout)}},load:{value:function(){ANode.prototype.load.call(this,null,function(e){return e.isAssetItem&&e.hasAttribute(\\\"src\\\")})}}})}),registerElement(\\\"a-asset-item\\\",{prototype:Object.create(ANode.prototype,{createdCallback:{value:function(){this.data=null,this.isAssetItem=!0}},attachedCallback:{value:function(){var e=this,t=this.getAttribute(\\\"src\\\");fileLoader.load(t,function(r){THREE.Cache.files[t]=r,e.data=r,setTimeout(function(){ANode.prototype.load.call(e)})},function(t){e.emit(\\\"progress\\\",{loadedBytes:t.loaded,totalBytes:t.total,xhr:t})},function(t){e.emit(\\\"error\\\",{xhr:t})})}}})});\\n},{\\\"../lib/three\\\":106,\\\"../utils/bind\\\":118,\\\"../utils/debug\\\":120,\\\"./a-node\\\":61,\\\"./a-register-element\\\":62}],58:[function(_dereq_,module,exports){\\nvar debug=_dereq_(\\\"../utils/debug\\\"),registerElement=_dereq_(\\\"./a-register-element\\\").registerElement,warn=debug(\\\"core:cubemap:warn\\\");module.exports=registerElement(\\\"a-cubemap\\\",{prototype:Object.create(HTMLElement.prototype,{attachedCallback:{value:function(){this.srcs=this.validate()},writable:window.debug},validate:{value:function(){var e,t=this.querySelectorAll(\\\"[src]\\\"),r=[];if(6===t.length){for(e=0;e<t.length;e++)r.push(t[e].getAttribute(\\\"src\\\"));return r}warn(\\\"<a-cubemap> did not contain exactly six elements each with a `src` attribute.\\\")},writable:window.debug}})});\\n},{\\\"../utils/debug\\\":120,\\\"./a-register-element\\\":62}],59:[function(_dereq_,module,exports){\\nfunction checkComponentDefined(t,e){return void 0!==t.defaultComponents[e]||(!(!t.components[e]||!t.components[e].attrValue)||isComponentMixedIn(e,t.mixinEls))}function getMixedInComponents(t){var e=[];return t.mixinEls.forEach(function(t){function i(t){e.push(t)}Object.keys(t.componentCache).forEach(i)}),e}function isComponentMixedIn(t,e){var i,n=!1;for(i=0;i<e.length&&!(n=e[i].hasAttribute(t));++i);return n}function mergeComponentData(t,e){return e?e.constructor===Object?utils.extend(e,utils.styleParser.parse(t||{})):t||e:t}var ANode=_dereq_(\\\"./a-node\\\"),COMPONENTS=_dereq_(\\\"./component\\\").components,registerElement=_dereq_(\\\"./a-register-element\\\").registerElement,THREE=_dereq_(\\\"../lib/three\\\"),utils=_dereq_(\\\"../utils/\\\"),AEntity,bind=utils.bind,debug=utils.debug(\\\"core:a-entity:debug\\\"),warn=utils.debug(\\\"core:a-entity:warn\\\"),MULTIPLE_COMPONENT_DELIMITER=\\\"__\\\",proto=Object.create(ANode.prototype,{defaultComponents:{value:{position:\\\"\\\",rotation:\\\"\\\",scale:\\\"\\\",visible:\\\"\\\"}},createdCallback:{value:function(){this.components={},this.isEntity=!0,this.isPlaying=!1,this.object3D=new THREE.Group,this.object3D.el=this,this.object3DMap={},this.parentEl=null,this.states=[]}},attributeChangedCallback:{value:function(t,e,i){var n=this.components[t];return n&&n.justInitialized&&\\\"\\\"===i?void delete n.justInitialized:void((n||null!==i)&&this.setEntityAttribute(t,e,i))}},attachedCallback:{value:function(){var t,e=this.sceneEl,i=this;if(this.addToParent(),!this.isScene)return e?(t=e.querySelector(\\\"a-assets\\\"),t&&!t.hasLoaded?void t.addEventListener(\\\"loaded\\\",function(){i.load()}):void this.load()):void this.load()}},detachedCallback:{value:function(){this.parentEl&&!this.isScene&&(Object.keys(this.components).forEach(bind(this.removeComponent,this)),this.removeFromParent(),ANode.prototype.detachedCallback.call(this))}},handleMixinUpdate:{value:function(t){return t?void this.updateComponent(t,this.getDOMAttribute(t)):void this.updateComponents()}},mapStateMixins:{value:function(t,e){var i,n=this.getAttribute(\\\"mixin\\\");n&&(i=n.split(\\\" \\\"),i.forEach(function(i){var n=i+\\\"-\\\"+t;e(n)}),this.updateComponents())}},updateStateMixins:{value:function(t,e){var i=this;e=e||\\\"\\\";var n=t.split(\\\" \\\"),o=e?e.split(\\\" \\\"):[],s=o.filter(function(t){return n.indexOf(t)<0});s.forEach(function(t){var e=Array.prototype.forEach,n=document.querySelectorAll(\\\"[id^=\\\"+t+\\\"-]\\\");e.call(n,function(t){i.unregisterMixin(t.id)})}),this.states.forEach(function(t){n.forEach(function(e){var n=e+\\\"-\\\"+t;i.registerMixin(n)})})}},getObject3D:{value:function(t){return this.object3DMap[t]}},setObject3D:{value:function(t,e){var i,n=this;if(!(e instanceof THREE.Object3D))throw new Error(\\\"`Entity.setObject3D` was called with an object that was not an instance of THREE.Object3D.\\\");i=this.getObject3D(t),i&&this.object3D.remove(i),e.el=this,e.children.length&&e.traverse(function(t){t.el=n}),this.object3D.add(e),this.object3DMap[t]=e,this.emit(\\\"object3dset\\\",{object:e,type:t})}},removeObject3D:{value:function(t){var e=this.getObject3D(t);return e?(this.object3D.remove(e),delete this.object3DMap[t],void this.emit(\\\"object3dremove\\\",{type:t})):void warn(\\\"Tried to remove `Object3D` of type:\\\",t,\\\"which was not defined.\\\")}},getOrCreateObject3D:{value:function(t,e){var i=this.getObject3D(t);return!i&&e&&(i=new e,this.setObject3D(t,i)),i}},add:{value:function(t){if(!t.object3D)throw new Error(\\\"Trying to add an element that doesn't have an `object3D`\\\");this.object3D.add(t.object3D),this.emit(\\\"child-attached\\\",{el:t})}},addToParent:{value:function(){var t=this.parentEl=this.parentNode;t&&t.add&&!this.attachedToParent&&(t.add(this),this.attachedToParent=!0)}},removeFromParent:{value:function(){var t=this.parentEl;this.parentEl.remove(this),this.attachedToParent=!1,this.parentEl=this.parentNode=null,t.emit(\\\"child-detached\\\",{el:this})}},load:{value:function(){var t=this;this.hasLoaded||ANode.prototype.load.call(this,function(){t.updateComponents(),(t.isScene||t.parentEl.isPlaying)&&t.play()})},writable:window.debug},remove:{value:function(t){this.object3D.remove(t.object3D)}},getChildEntities:{value:function(){for(var t=this.children,e=[],i=0;i<t.length;i++){var n=t[i];n instanceof AEntity&&e.push(n)}return e}},initComponent:{value:function(t,e,i){var n,o=t.split(MULTIPLE_COMPONENT_DELIMITER),s=o[1],a=o[0],r=checkComponentDefined(this,t)||void 0!==e;if(COMPONENTS[a]&&(r||i)&&!(t in this.components)){if(this.initComponentDependencies(a),s&&!COMPONENTS[a].multiple)throw new Error(\\\"Trying to initialize multiple components of type `\\\"+a+\\\"`. There can only be one component of this type per entity.\\\");n=this.components[t]=new COMPONENTS[a].Component(this,e,s),this.isPlaying&&n.play(),this.hasAttribute(t)||(n.justInitialized=!0,HTMLElement.prototype.setAttribute.call(this,t,\\\"\\\")),debug(\\\"Component initialized: %s\\\",t)}},writable:window.debug},initComponentDependencies:{value:function(t){var e,i=this,n=COMPONENTS[t];n&&(e=COMPONENTS[t].dependencies,e&&e.forEach(function(t){i.initComponent(t,HTMLElement.prototype.getAttribute.call(i,t)||void 0,!0)}))}},removeComponent:{value:function(t){var e,i,n;i=t in this.defaultComponents,n=isComponentMixedIn(t,this.mixinEls),i||n||(e=this.components[t],e.pause(),e.remove(),delete this.components[t],this.emit(\\\"componentremoved\\\",{id:e.id,name:t}))}},updateComponents:{value:function(){function t(t){var e=t.split(MULTIPLE_COMPONENT_DELIMITER)[0];COMPONENTS[e]&&(n[t]=!0)}function e(t){var e=mergeComponentData(s.getDOMAttribute(t),o[t]);delete n[t],s.updateComponent(t,e)}var i,n={},o={},s=this;if(this.hasLoaded){for(getMixedInComponents(this).forEach(t),this.getExtraComponents&&(o=this.getExtraComponents(),Object.keys(o).forEach(t)),i=0;i<this.attributes.length;++i)t(this.attributes[i].name);Object.keys(this.defaultComponents).forEach(e),Object.keys(n).forEach(e)}}},updateComponent:{value:function(t,e){var i=this.components[t],n=t in this.defaultComponents;return i?null!==e||n?void i.updateProperties(e):void this.removeComponent(t):void this.initComponent(t,e,!1)}},updateComponentProperty:{value:function(t,e,i){var n=this.components[t],o=n&&n.attrValue,s=o?utils.extend({},o):{};s[e]=i,this.updateComponent(t,s)}},removeAttribute:{value:function(t){var e=this.components[t];e&&(this.setEntityAttribute(t,void 0,null),this.components[t])||HTMLElement.prototype.removeAttribute.call(this,t)}},play:{value:function(){var t=this.components,e=Object.keys(t);!this.isPlaying&&this.hasLoaded&&(this.isPlaying=!0,e.forEach(function(e){t[e].play()}),this.getChildEntities().forEach(function(t){t.play()}),this.emit(\\\"play\\\"))},writable:!0},pause:{value:function(){var t=this.components,e=Object.keys(t);this.isPlaying&&(this.isPlaying=!1,e.forEach(function(e){t[e].pause()}),this.getChildEntities().forEach(function(t){t.pause()}),this.emit(\\\"pause\\\"))},writable:!0},setEntityAttribute:{value:function(t,e,i){return COMPONENTS[t]||this.components[t]?void this.updateComponent(t,i):\\\"mixin\\\"===t?void this.mixinUpdate(i,e):void 0}},mixinUpdate:{value:function(t,e){e=e||this.getAttribute(\\\"mixin\\\"),this.updateStateMixins(t,e),this.updateComponents()}},setAttribute:{value:function(t,e,i){function n(t,e,i,n){t.updateComponentProperty(e,i,n)}function o(t,e,i){var n=t.components[e];n&&\\\"object\\\"==typeof i?t.updateComponent(e,utils.extendDeep(utils.extendDeep({},n.data),i)):t.updateComponent(e,i)}function s(t,e,i){t.updateComponent(e,i)}function a(t,e,i){ANode.prototype.setAttribute.call(t,e,i),\\\"mixin\\\"===e&&t.mixinUpdate(i)}var r,u;return r=t.split(MULTIPLE_COMPONENT_DELIMITER)[0],COMPONENTS[r]?(\\\"string\\\"==typeof e&&\\\"undefined\\\"!=typeof i?n(this,t,e,i):\\\"object\\\"==typeof e&&i===!0?s(this,t,e):o(this,t,e),u=this.sceneEl&&this.sceneEl.getAttribute(\\\"debug\\\"),void(u&&this.components[t].flushToDOM())):void a(this,t,e)},writable:window.debug},flushToDOM:{value:function(t){var e,i,n=this.components,o=this.defaultComponents,s=this.children;if(Object.keys(n).forEach(function(t){n[t].flushToDOM(t in o)}),t)for(i=0;i<s.length;++i)e=s[i],e.flushToDOM&&e.flushToDOM(t)}},getAttribute:{value:function(t){var e=this.components[t];return e?e.getData():HTMLElement.prototype.getAttribute.call(this,t)},writable:window.debug},getComputedAttribute:{value:function(t){return warn(\\\"`getComputedAttribute` is deprecated. Use `getAttribute` instead.\\\"),this.getAttribute(t)}},getDOMAttribute:{value:function(t){var e=this.components[t];return e?e.attrValue:HTMLElement.prototype.getAttribute.call(this,t)},writable:window.debug},addState:{value:function(t){this.is(t)||(this.states.push(t),this.mapStateMixins(t,bind(this.registerMixin,this)),this.emit(\\\"stateadded\\\",{state:t}))}},removeState:{value:function(t){var e=this.states.indexOf(t);e!==-1&&(this.states.splice(e,1),this.mapStateMixins(t,bind(this.unregisterMixin,this)),this.emit(\\\"stateremoved\\\",{state:t}))}},is:{value:function(t){return this.states.indexOf(t)!==-1}}});AEntity=registerElement(\\\"a-entity\\\",{prototype:proto}),module.exports=AEntity;\\n},{\\\"../lib/three\\\":106,\\\"../utils/\\\":124,\\\"./a-node\\\":61,\\\"./a-register-element\\\":62,\\\"./component\\\":63}],60:[function(_dereq_,module,exports){\\nvar ANode=_dereq_(\\\"./a-node\\\"),registerElement=_dereq_(\\\"./a-register-element\\\").registerElement,components=_dereq_(\\\"./component\\\").components,MULTIPLE_COMPONENT_DELIMITER=\\\"__\\\";module.exports=registerElement(\\\"a-mixin\\\",{prototype:Object.create(ANode.prototype,{createdCallback:{value:function(){this.componentCache={},this.id=this.getAttribute(\\\"id\\\")}},attributeChangedCallback:{value:function(t,e,i){this.cacheAttribute(t,i)}},attachedCallback:{value:function(){this.sceneEl=this.closestScene(),this.cacheAttributes(),this.updateEntities(),this.load()}},setAttribute:{value:function(t,e){this.cacheAttribute(t,e),HTMLElement.prototype.setAttribute.call(this,t,e)}},cacheAttribute:{value:function(t,e){var i=t.split(MULTIPLE_COMPONENT_DELIMITER)[0],n=components[i];n&&(void 0===e&&(e=HTMLElement.prototype.getAttribute.call(this,t)),this.componentCache[t]=n.parseAttrValueForCache(e))}},getAttribute:{value:function(t){return this.componentCache[t]||HTMLElement.prototype.getAttribute.call(this,t)}},cacheAttributes:{value:function(){var t,e,i=this.attributes;for(e=0;e<i.length;e++)t=i[e].name,this.cacheAttribute(t)}},updateEntities:{value:function(){if(this.sceneEl)for(var t=this.sceneEl.querySelectorAll(\\\"[mixin~=\\\"+this.id+\\\"]\\\"),e=0;e<t.length;e++){var i=t[e];i.hasLoaded&&(i.registerMixin(this.id),Object.keys(this.componentCache).forEach(function(t){i.updateComponent(t)}))}}}})});\\n},{\\\"./a-node\\\":61,\\\"./a-register-element\\\":62,\\\"./component\\\":63}],61:[function(_dereq_,module,exports){\\nvar registerElement=_dereq_(\\\"./a-register-element\\\").registerElement,utils=_dereq_(\\\"../utils/\\\"),bind=utils.bind;module.exports=registerElement(\\\"a-node\\\",{prototype:Object.create(HTMLElement.prototype,{createdCallback:{value:function(){this.hasLoaded=!1,this.isNode=!0,this.mixinEls=[],this.mixinObservers={}},writable:window.debug},attachedCallback:{value:function(){var e;this.hasLoaded=!1,this.sceneEl=this.closestScene(),this.emit(\\\"nodeready\\\",{},!1),e=this.getAttribute(\\\"mixin\\\"),e&&this.updateMixins(e)},writable:window.debug},attributeChangedCallback:{value:function(e,i,t){\\\"mixin\\\"===e&&this.updateMixins(t,i)}},closestScene:{value:function(){for(var e=this;e&&!e.isScene;)e=e.parentElement;return e}},closest:{value:function(e){for(var i=this.matches||this.mozMatchesSelector||this.msMatchesSelector||this.oMatchesSelector||this.webkitMatchesSelector,t=this;t&&!i.call(t,e);)t=t.parentElement;return t}},detachedCallback:{value:function(){this.hasLoaded=!1}},load:{value:function(e,i){var t,n,s=this;this.hasLoaded||(i=i||function(e){return e.isNode},t=this.getChildren(),n=t.filter(i).map(function(e){return new Promise(function(i){return e.hasLoaded?i():void e.addEventListener(\\\"loaded\\\",i)})}),Promise.all(n).then(function(){s.hasLoaded=!0,e&&e(),s.emit(\\\"loaded\\\",{},!1)}))},writable:!0},getChildren:{value:function(){return Array.prototype.slice.call(this.children,0)}},updateMixins:{value:function(e,i){var t=e.split(\\\" \\\"),n=i?i.split(\\\" \\\"):[],s=n.filter(function(e){return t.indexOf(e)<0});this.mixinEls=[],s.forEach(bind(this.unregisterMixin,this)),t.forEach(bind(this.registerMixin,this))}},registerMixin:{value:function(e){if(this.sceneEl){var i=this.sceneEl.querySelector(\\\"a-mixin#\\\"+e);i&&(this.attachMixinListener(i),this.mixinEls.push(i))}}},setAttribute:{value:function(e,i){\\\"mixin\\\"===e&&this.updateMixins(i),HTMLElement.prototype.setAttribute.call(this,e,i)}},unregisterMixin:{value:function(e){var i,t,n=this.mixinEls;for(t=0;t<n.length;++t)if(i=n[t],e===i.id){n.splice(t,1);break}this.removeMixinListener(e)}},removeMixinListener:{value:function(e){var i=this.mixinObservers[e];i&&(i.disconnect(),this.mixinObservers[e]=null)}},attachMixinListener:{value:function(e){var i=this,t=e.id,n=this.mixinObservers[t];if(e&&!n){var s=new MutationObserver(function(e){var t=e[0].attributeName;i.handleMixinUpdate(t)}),r={attributes:!0};s.observe(e,r),this.mixinObservers[t]=s}}},handleMixinUpdate:{value:function(){}},emit:{value:function(e,i,t){var n=this;i=i||{},void 0===t&&(t=!0);var s={bubbles:!!t,detail:i};return e.split(\\\" \\\").map(function(e){return utils.fireEvent(n,e,s)})}},emitter:{value:function(e,i,t){var n=this;return function(){n.emit(e,i,t)}}}})});\\n},{\\\"../utils/\\\":124,\\\"./a-register-element\\\":62}],62:[function(_dereq_,module,exports){\\nfunction addTagName(e){knownTags[e.toLowerCase()]=!0}function wrapANodeMethods(e){var t={},o=[\\\"attachedCallback\\\",\\\"attributeChangedCallback\\\",\\\"createdCallback\\\"];return wrapMethods(t,o,e,ANode.prototype),copyProperties(e,t),t}function wrapAEntityMethods(e){var t={},o=[\\\"attachedCallback\\\",\\\"attributeChangedCallback\\\",\\\"createdCallback\\\"],a=[\\\"attachedCallback\\\",\\\"attributeChangedCallback\\\",\\\"createdCallback\\\",\\\"detachedCallback\\\"];return wrapMethods(t,o,e,ANode.prototype),wrapMethods(t,a,e,AEntity.prototype),copyProperties(e,t),t}function wrapMethods(e,t,o,a){t.forEach(function(t){wrapMethod(e,t,o,a)})}function wrapMethod(e,t,o,a){var r=o[t],n=a[t];r&&n&&r!==n&&(e[t]={value:function(){return n.apply(this,arguments),r.apply(this,arguments)},writable:window.debug})}function copyProperties(e,t){var o=Object.getOwnPropertyNames(e);o.forEach(function(o){var a;t[o]||(a=Object.getOwnPropertyDescriptor(e,o),t[o]={value:e[o],writable:a.writable})})}_dereq_(\\\"document-register-element\\\");var ANode,AEntity,knownTags=module.exports.knownTags={};module.exports.isNode=function(e){return e.tagName.toLowerCase()in knownTags||e.isNode},module.exports.registerElement=function(e,t){var o=Object.getPrototypeOf(t.prototype),a=t,r=ANode&&o===ANode.prototype,n=AEntity&&o===AEntity.prototype;return(r||n)&&addTagName(e),r&&(a=wrapANodeMethods(t.prototype),a={prototype:Object.create(o,a)}),n&&(a=wrapAEntityMethods(t.prototype),a={prototype:Object.create(o,a)}),document.registerElement(e,a)},module.exports.wrapMethods=wrapMethods,ANode=_dereq_(\\\"./a-node\\\"),AEntity=_dereq_(\\\"./a-entity\\\");\\n},{\\\"./a-entity\\\":59,\\\"./a-node\\\":61,\\\"document-register-element\\\":8}],63:[function(_dereq_,module,exports){\\nfunction buildData(e,t,i,s,r,a){function o(e){var t=e.getAttribute(i);t&&(n=extendProperties(n,t,h))}var n,p=void 0!==r&&null!==r,h=isSingleProp(s),c=e.mixinEls;return h?n=s.default:(n={},Object.keys(s).forEach(function(e){var t=s[e].default;n[e]=t&&t.constructor===Object?utils.extend({},t):t})),c.forEach(o),p?h?parseProperty(r,s):(n=extendProperties(n,r,h),parseProperties(n,s,void 0,t,a)):h?parseProperty(n,s):parseProperties(n,s,void 0,t,a)}function extendProperties(e,t,i){return i?t:utils.extend(e,t)}function wrapPause(e){return function(){var t=this.el.sceneEl;this.isPlaying&&(e.call(this),this.isPlaying=!1,this.tick&&t.removeBehavior(this))}}function wrapPlay(e){return function(){var t=this.el.sceneEl,i=this.el.isPlaying&&!this.isPlaying;this.initialized&&i&&(e.call(this),this.isPlaying=!0,this.tick&&t.addBehavior(this))}}var schema=_dereq_(\\\"./schema\\\"),systems=_dereq_(\\\"./system\\\"),utils=_dereq_(\\\"../utils/\\\"),components=module.exports.components={},parseProperties=schema.parseProperties,parseProperty=schema.parseProperty,processSchema=schema.process,isSingleProp=schema.isSingleProperty,stringifyProperties=schema.stringifyProperties,stringifyProperty=schema.stringifyProperty,styleParser=utils.styleParser,Component=module.exports.Component=function(e,t,i){this.el=e,this.id=i,this.attrName=this.name+(i?\\\"__\\\"+i:\\\"\\\"),this.updateCachedAttrValue(t),e.hasLoaded&&this.updateProperties(this.attrValue)};Component.prototype={schema:{},init:function(){},update:function(e){},updateSchema:void 0,tick:void 0,play:function(){},pause:function(){},remove:function(){},parse:function(e,t){var i=this.schema;return isSingleProp(i)?parseProperty(e,i):parseProperties(styleParser.parse(e),i,!0,this.name,t)},stringify:function(e){var t=this.schema;return\\\"string\\\"==typeof e?e:isSingleProp(t)?stringifyProperty(e,t):(e=stringifyProperties(e,t),styleParser.stringify(e))},getData:function(){var e=this.data;return\\\"object\\\"!=typeof e?e:utils.extend({},e)},updateCachedAttrValue:function(e){var t=isSingleProp(this.schema),i=this.parseAttrValueForCache(e);this.attrValue=extendProperties({},i,t)},parseAttrValueForCache:function(e){var t;return\\\"string\\\"!=typeof e?e:(isSingleProp(this.schema)?(t=this.schema.parse(e),\\\"string\\\"==typeof t&&(t=e)):t=styleParser.parse(e),t)},flushToDOM:function(e){var t=e?this.data:this.attrValue;t&&HTMLElement.prototype.setAttribute.call(this.el,this.attrName,this.stringify(t))},updateProperties:function(e){var t=this.el,i=isSingleProp(this.schema),s=extendProperties({},this.data,i);void 0!==e&&this.updateCachedAttrValue(e),this.updateSchema&&this.updateSchema(buildData(t,this.name,this.attrName,this.schema,this.attrValue,!0)),this.data=buildData(t,this.name,this.attrName,this.schema,this.attrValue),!i&&utils.deepEqual(s,this.data)||(this.initialized?(this.update(s),t.emit(\\\"componentchanged\\\",{id:this.id,name:this.name,newData:this.getData(),oldData:s},!1)):(this.init(),this.initialized=!0,this.update(s),t.isPlaying&&this.play(),t.emit(\\\"componentinitialized\\\",{id:this.id,name:this.name,data:this.getData()},!1)))},extendSchema:function(e){var t=utils.extend({},components[this.name].schema);utils.extend(t,e),this.schema=processSchema(t),this.el.emit(\\\"schemachanged\\\",{component:this.name})}},module.exports.registerComponent=function(e,t){var i,s={};if(e.indexOf(\\\"__\\\")!==-1)throw new Error(\\\"The component name `\\\"+e+\\\"` is not allowed. The sequence __ (double underscore) is reserved to specify an id for multiple components of the same type\\\");if(Object.keys(t).forEach(function(e){s[e]={value:t[e],writable:!0}}),components[e])throw new Error(\\\"The component `\\\"+e+\\\"` has been already registered. Check that you are not loading two versions of the same component or two different components of the same name.\\\");return i=function(e,t,i){Component.call(this,e,t,i)},i.prototype=Object.create(Component.prototype,s),i.prototype.name=e,i.prototype.constructor=i,i.prototype.system=systems&&systems.systems[e],i.prototype.play=wrapPlay(i.prototype.play),i.prototype.pause=wrapPause(i.prototype.pause),components[e]={Component:i,dependencies:i.prototype.dependencies,isSingleProp:isSingleProp(i.prototype.schema),multiple:i.prototype.multiple,parse:i.prototype.parse,parseAttrValueForCache:i.prototype.parseAttrValueForCache,schema:utils.extend(processSchema(i.prototype.schema)),stringify:i.prototype.stringify,type:i.prototype.type},i},module.exports.buildData=buildData;\\n},{\\\"../utils/\\\":124,\\\"./schema\\\":70,\\\"./system\\\":72}],64:[function(_dereq_,module,exports){\\nvar schema=_dereq_(\\\"./schema\\\"),processSchema=schema.process,geometries=module.exports.geometries={},geometryNames=module.exports.geometryNames=[],THREE=_dereq_(\\\"../lib/three\\\"),Geometry=module.exports.Geometry=function(){};Geometry.prototype={schema:{},init:function(e){return this.geometry=new THREE.Geometry,this.geometry},update:function(e){}},module.exports.registerGeometry=function(e,t){var r,o={};if(Object.keys(t).forEach(function(e){o[e]={value:t[e],writable:!0}}),geometries[e])throw new Error(\\\"The geometry `\\\"+e+\\\"` has been already registered\\\");return r=function(){Geometry.call(this)},r.prototype=Object.create(Geometry.prototype,o),r.prototype.name=e,r.prototype.constructor=r,geometries[e]={Geometry:r,schema:processSchema(r.prototype.schema)},geometryNames.push(e),r};\\n},{\\\"../lib/three\\\":106,\\\"./schema\\\":70}],65:[function(_dereq_,module,exports){\\nfunction registerPropertyType(r,e,t,s){return\\\"type\\\"in propertyTypes?void error(\\\"Property type \\\"+r+\\\" is already registered.\\\"):void(propertyTypes[r]={default:e,parse:t||defaultParse,stringify:s||defaultStringify})}function arrayParse(r){function e(r){return r.trim()}return Array.isArray(r)?r:r&&\\\"string\\\"==typeof r?r.split(\\\",\\\").map(e):[]}function arrayStringify(r){return r.join(\\\", \\\")}function assetParse(r){var e,t;return t=r.match(/\\\\url\\\\((.+)\\\\)/),t?t[1]:\\\"#\\\"===r.charAt(0)?(e=selectorParse(r))?\\\"CANVAS\\\"===e.tagName||\\\"VIDEO\\\"===e.tagName?e:e.getAttribute(\\\"src\\\"):void warn('\\\"'+r+'\\\" asset not found.'):r}function defaultParse(r){return r}function defaultStringify(r){return null===r?\\\"null\\\":r.toString()}function boolParse(r){return\\\"false\\\"!==r&&r!==!1}function intParse(r){return parseInt(r,10)}function numberParse(r){return parseFloat(r,10)}function selectorParse(r){return r?\\\"string\\\"!=typeof r?r:document.querySelector(r):null}function selectorAllParse(r){return r?\\\"string\\\"!=typeof r?r:Array.prototype.slice.call(document.querySelectorAll(r),0):null}function selectorStringify(r){return r.getAttribute?\\\"#\\\"+r.getAttribute(\\\"id\\\"):defaultStringify(r)}function selectorAllStringify(r){return r instanceof Array?r.map(function(r){return\\\"#\\\"+r.getAttribute(\\\"id\\\")}).join(\\\", \\\"):defaultStringify(r)}function srcParse(r){return warn(\\\"`src` property type is deprecated. Use `asset` instead.\\\"),assetParse(r)}function vecParse(r){return coordinates.parse(r,this.default)}var coordinates=_dereq_(\\\"../utils/coordinates\\\"),debug=_dereq_(\\\"debug\\\"),error=debug(\\\"core:propertyTypes:warn\\\"),warn=debug(\\\"core:propertyTypes:warn\\\"),propertyTypes=module.exports.propertyTypes={};registerPropertyType(\\\"audio\\\",\\\"\\\",assetParse),registerPropertyType(\\\"array\\\",[],arrayParse,arrayStringify),registerPropertyType(\\\"asset\\\",\\\"\\\",assetParse),registerPropertyType(\\\"boolean\\\",!1,boolParse),registerPropertyType(\\\"color\\\",\\\"#FFF\\\",defaultParse,defaultStringify),registerPropertyType(\\\"int\\\",0,intParse),registerPropertyType(\\\"number\\\",0,numberParse),registerPropertyType(\\\"map\\\",\\\"\\\",assetParse),registerPropertyType(\\\"model\\\",\\\"\\\",assetParse),registerPropertyType(\\\"selector\\\",\\\"\\\",selectorParse,selectorStringify),registerPropertyType(\\\"selectorAll\\\",\\\"\\\",selectorAllParse,selectorAllStringify),registerPropertyType(\\\"src\\\",\\\"\\\",srcParse),registerPropertyType(\\\"string\\\",\\\"\\\",defaultParse,defaultStringify),registerPropertyType(\\\"time\\\",0,intParse),registerPropertyType(\\\"vec2\\\",{x:0,y:0},vecParse,coordinates.stringify),registerPropertyType(\\\"vec3\\\",{x:0,y:0,z:0},vecParse,coordinates.stringify),registerPropertyType(\\\"vec4\\\",{x:0,y:0,z:0,w:0},vecParse,coordinates.stringify),module.exports.registerPropertyType=registerPropertyType;\\n},{\\\"../utils/coordinates\\\":119,\\\"debug\\\":3}],66:[function(_dereq_,module,exports){\\nfunction getCanvasSize(e,t){return t?{height:e.parentElement.offsetHeight,width:e.parentElement.offsetWidth}:{height:window.innerHeight,width:window.innerWidth}}function requestFullscreen(e){var t=e.requestFullscreen||e.webkitRequestFullscreen||e.mozRequestFullScreen||e.msRequestFullscreen;t.apply(e)}var initMetaTags=_dereq_(\\\"./metaTags\\\").inject,initWakelock=_dereq_(\\\"./wakelock\\\"),re=_dereq_(\\\"../a-register-element\\\"),systems=_dereq_(\\\"../system\\\").systems,THREE=_dereq_(\\\"../../lib/three\\\"),TWEEN=_dereq_(\\\"tween.js\\\"),utils=_dereq_(\\\"../../utils/\\\"),AEntity=_dereq_(\\\"../a-entity\\\"),ANode=_dereq_(\\\"../a-node\\\"),initPostMessageAPI=_dereq_(\\\"./postMessage\\\"),bind=utils.bind,checkHeadsetConnected=utils.device.checkHeadsetConnected,isIOS=utils.device.isIOS(),isMobile=utils.device.isMobile(),registerElement=re.registerElement,warn=utils.debug(\\\"core:a-scene:warn\\\");module.exports=registerElement(\\\"a-scene\\\",{prototype:Object.create(AEntity.prototype,{defaultComponents:{value:{canvas:\\\"\\\",inspector:\\\"\\\",\\\"keyboard-shortcuts\\\":\\\"\\\",screenshot:\\\"\\\",\\\"vr-mode-ui\\\":\\\"\\\",\\\"auto-enter-vr\\\":\\\"\\\"}},createdCallback:{value:function(){this.isIOS=isIOS,this.isMobile=isMobile,this.isScene=!0,this.object3D=new THREE.Scene,this.render=bind(this.render,this),this.systems={},this.time=0,this.init()}},init:{value:function(){this.behaviors=[],this.hasLoaded=!1,this.isPlaying=!1,this.originalHTML=this.innerHTML,this.addEventListener(\\\"render-target-loaded\\\",function(){this.setupRenderer(),this.resize()}),this.addFullScreenStyles(),initPostMessageAPI(this)},writable:!0},addFullScreenStyles:{value:function(){var e=document.documentElement;e.classList.add(\\\"a-html\\\"),document.body.classList.add(\\\"a-body\\\"),this.classList.add(\\\"fullscreen\\\")}},removeFullScreenStyles:{value:function(){var e=document.documentElement;e.classList.remove(\\\"a-html\\\"),document.body.classList.remove(\\\"a-body\\\"),this.classList.remove(\\\"fullscreen\\\")}},attachedCallback:{value:function(){var e=bind(this.resize,this);initMetaTags(this),initWakelock(this),this.initSystems(),window.addEventListener(\\\"load\\\",e),window.addEventListener(\\\"resize\\\",e),this.play()},writable:window.debug},initSystems:{value:function(){Object.keys(systems).forEach(bind(this.initSystem,this))}},initSystem:{value:function(e){var t;this.systems[e]||(t=this.systems[e]=new systems[e](this),t.init())}},detachedCallback:{value:function(){window.cancelAnimationFrame(this.animationFrameID),this.animationFrameID=null}},addBehavior:{value:function(e){var t=this.behaviors;t.indexOf(e)===-1&&t.push(e)}},enterVR:{value:function(e){function t(){s.addState(\\\"vr-mode\\\"),s.emit(\\\"enter-vr\\\",e),s.isMobile&&screen.orientation&&screen.orientation.lock&&screen.orientation.lock(\\\"landscape\\\"),s.addFullScreenStyles(),s.isMobile||checkHeadsetConnected()||requestFullscreen(s.canvas),s.resize()}function i(e){throw e&&e.message?new Error(\\\"Failed to enter VR mode (`requestPresent`): \\\"+e.message):new Error(\\\"Failed to enter VR mode (`requestPresent`).\\\")}var s=this;if(!this.is(\\\"vr-mode\\\"))return checkHeadsetConnected()||this.isMobile?this.effect.requestPresent().then(t,i):void t()}},exitVR:{value:function(){function e(){var e=i.getAttribute(\\\"embedded\\\");i.removeState(\\\"vr-mode\\\"),i.isMobile&&screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock(),e&&i.removeFullScreenStyles(),i.resize(),i.isIOS&&utils.forceCanvasResizeSafariMobile(this.canvas),i.emit(\\\"exit-vr\\\",{target:i})}function t(e){throw e&&e.message?new Error(\\\"Failed to exit VR mode (`exitPresent`): \\\"+e.message):new Error(\\\"Failed to exit VR mode (`exitPresent`).\\\")}var i=this;return this.is(\\\"vr-mode\\\")?checkHeadsetConnected()||this.isMobile?this.effect.exitPresent().then(e,t):void e():Promise.resolve()}},getAttribute:{value:function(e){var t=this.systems[e];return t?t.data:AEntity.prototype.getAttribute.call(this,e)}},getComputedAttribute:{value:function(e){warn(\\\"`getComputedAttribute` is deprecated. Use `getAttribute` instead.\\\"),this.getAttribute(e)}},getDOMAttribute:{value:function(e){var t=this.systems[e];return t?t.data:AEntity.prototype.getDOMAttribute.call(this,e)}},setAttribute:{value:function(e,t,i){var s=this.systems[e];return s?void ANode.prototype.setAttribute.call(this,e,t):void AEntity.prototype.setAttribute.call(this,e,t,i)}},removeBehavior:{value:function(e){var t=this.behaviors,i=t.indexOf(e);i!==-1&&t.splice(i,1)}},resize:{value:function(){var e,t=this.camera,i=this.canvas,s=this.getAttribute(\\\"embedded\\\")&&!this.is(\\\"vr-mode\\\");!t||!i||this.is(\\\"vr-mode\\\")&&isMobile||(e=getCanvasSize(i,s),t.aspect=e.width/e.height,t.updateProjectionMatrix(),this.renderer.setSize(e.width,e.height))},writable:window.debug},setupRenderer:{value:function(){var e=this.canvas,t=\\\"true\\\"===this.getAttribute(\\\"antialias\\\"),i=this.renderer=new THREE.WebGLRenderer({canvas:e,antialias:t||window.hasNativeWebVRImplementation,alpha:!0});i.setPixelRatio(window.devicePixelRatio),i.sortObjects=!1,this.effect=new THREE.VREffect(i)},writable:window.debug},play:{value:function(){var e=this;return this.renderStarted?void AEntity.prototype.play.call(this):(this.addEventListener(\\\"loaded\\\",function(){function e(e){e.renderStarted||(e.resize(),e.renderer&&(window.performance&&window.performance.mark(\\\"render-started\\\"),e.render(0),e.renderStarted=!0,e.emit(\\\"renderstart\\\")))}return AEntity.prototype.play.call(this),this.camera?void e(this):void this.addEventListener(\\\"camera-set-active\\\",function(){e(this)})}),void setTimeout(function(){AEntity.prototype.load.call(e)}))}},reload:{value:function(e){function t(){i.isPlaying&&AEntity.prototype.play.call(i)}var i=this;e&&this.pause(),this.innerHTML=this.originalHTML,this.init(),ANode.prototype.load.call(this,t)}},tick:{value:function(e,t){var i=this.systems;TWEEN.update(e),this.behaviors.forEach(function(i){i.el.isPlaying&&i.tick(e,t)}),Object.keys(i).forEach(function(s){i[s].tick&&i[s].tick(e,t)})}},render:{value:function(e){var t=this.effect,i=e-this.time;this.isPlaying&&this.tick(e,i),this.animationFrameID=t.requestAnimationFrame(this.render),t.render(this.object3D,this.camera),this.time=e},writable:!0}})});\\n},{\\\"../../lib/three\\\":106,\\\"../../utils/\\\":124,\\\"../a-entity\\\":59,\\\"../a-node\\\":61,\\\"../a-register-element\\\":62,\\\"../system\\\":72,\\\"./metaTags\\\":67,\\\"./postMessage\\\":68,\\\"./wakelock\\\":69,\\\"tween.js\\\":18}],67:[function(_dereq_,module,exports){\\nfunction Meta(e){return{tagName:\\\"meta\\\",attributes:e,exists:function(){return document.querySelector('meta[name=\\\"'+e.name+'\\\"]')}}}function Link(e){return{tagName:\\\"link\\\",attributes:e,exists:function(){return document.querySelector('link[rel=\\\"'+e.rel+'\\\"]')}}}function createTag(e){if(e&&e.tagName){var t=document.createElement(e.tagName);return t.setAttribute(constants.AFRAME_INJECTED,\\\"\\\"),extend(t,e.attributes)}}var constants=_dereq_(\\\"../../constants/\\\"),extend=_dereq_(\\\"../../utils\\\").extend,MOBILE_HEAD_TAGS=module.exports.MOBILE_HEAD_TAGS=[Meta({name:\\\"viewport\\\",content:\\\"width=device-width,initial-scale=1,maximum-scale=1,shrink-to-fit=no,user-scalable=no,minimal-ui\\\"}),Meta({name:\\\"mobile-web-app-capable\\\",content:\\\"yes\\\"}),Meta({name:\\\"theme-color\\\",content:\\\"black\\\"})],MOBILE_IOS_HEAD_TAGS=[Meta({name:\\\"apple-mobile-web-app-capable\\\",content:\\\"yes\\\"}),Meta({name:\\\"apple-mobile-web-app-status-bar-style\\\",content:\\\"black\\\"}),Link({rel:\\\"apple-touch-icon\\\",href:\\\"https://aframe.io/images/aframe-logo-152.png\\\"})];module.exports.inject=function(e){function t(e){e&&!e.exists()&&(a=createTag(e),a&&(r?r.parentNode.insertBefore(a,r):n.appendChild(a),i.push(a)))}var a,n=document.head,r=n.querySelector(\\\"script\\\"),i=[];return MOBILE_HEAD_TAGS.forEach(t),e.isIOS&&MOBILE_IOS_HEAD_TAGS.forEach(t),i};\\n},{\\\"../../constants/\\\":54,\\\"../../utils\\\":124}],68:[function(_dereq_,module,exports){\\nfunction postMessageAPIHandler(e){var a=this;if(e.data)switch(e.data.type){case\\\"vr\\\":switch(e.data.data){case\\\"enter\\\":a.enterVR();break;case\\\"exit\\\":a.exitVR()}}}var bind=_dereq_(\\\"../../utils/bind\\\"),isIframed=_dereq_(\\\"../../utils/\\\").isIframed;module.exports=function(e){isIframed()&&window.addEventListener(\\\"message\\\",bind(postMessageAPIHandler,e))};\\n},{\\\"../../utils/\\\":124,\\\"../../utils/bind\\\":118}],69:[function(_dereq_,module,exports){\\nvar Wakelock=_dereq_(\\\"../../../vendor/wakelock/wakelock\\\");module.exports=function(e){if(e.isMobile){var n=e.wakelock=new Wakelock;e.addEventListener(\\\"enter-vr\\\",function(){n.request()}),e.addEventListener(\\\"exit-vr\\\",function(){n.release()})}};\\n},{\\\"../../../vendor/wakelock/wakelock\\\":134}],70:[function(_dereq_,module,exports){\\nfunction isSingleProperty(r){return\\\"type\\\"in r?\\\"string\\\"==typeof r.type:\\\"default\\\"in r}function processPropertyDefinition(r){var e,t=r.default,o=r.type;return r.type?\\\"bool\\\"===r.type?o=\\\"boolean\\\":\\\"float\\\"===r.type&&(o=\\\"number\\\"):o=void 0!==t&&[\\\"boolean\\\",\\\"number\\\"].indexOf(typeof t)!==-1?typeof t:Array.isArray(t)?\\\"array\\\":\\\"string\\\",e=propertyTypes[o],e||warn(\\\"Unknown property type: \\\"+o),r.parse=r.parse||e.parse,r.stringify=r.stringify||e.stringify,r.type=o,\\\"default\\\"in r||(r.default=e.default),r}function parseProperty(r,e){return void 0!==r&&null!==r&&\\\"\\\"!==r||(r=e.default),e.parse(r,e.default)}function stringifyProperty(r,e){return\\\"object\\\"!=typeof r?r:e&&null!==r?e.stringify(r):JSON.stringify(r)}var debug=_dereq_(\\\"../utils/debug\\\"),propertyTypes=_dereq_(\\\"./propertyTypes\\\").propertyTypes,warn=debug(\\\"core:schema:warn\\\");module.exports.isSingleProperty=isSingleProperty,module.exports.process=function(r){return isSingleProperty(r)?processPropertyDefinition(r):(Object.keys(r).forEach(function(e){r[e]=processPropertyDefinition(r[e])}),r)},module.exports.processPropertyDefinition=processPropertyDefinition,module.exports.parseProperties=function(r,e,t,o,n){var p=Object.keys(t?r:e);return null===r||\\\"object\\\"!=typeof r?r:(Object.keys(r).forEach(function(r){e[r]||n||warn(\\\"Unknown property `\\\"+r+\\\"` for component/system `\\\"+o+\\\"`.\\\")}),p.forEach(function(t){var o=e[t],n=r[t];e[t]&&(r[t]=parseProperty(n,o))}),r)},module.exports.parseProperty=parseProperty,module.exports.stringifyProperties=function(r,e){var t={};return Object.keys(r).forEach(function(o){var n=e[o],p=r[o],i=p;\\\"object\\\"==typeof i&&(i=stringifyProperty(p,n),n||warn(\\\"Unknown component property: \\\"+o)),t[o]=i}),t},module.exports.stringifyProperty=stringifyProperty;\\n},{\\\"../utils/debug\\\":120,\\\"./propertyTypes\\\":65}],71:[function(_dereq_,module,exports){\\nvar schema=_dereq_(\\\"./schema\\\"),processSchema=schema.process,shaders=module.exports.shaders={},shaderNames=module.exports.shaderNames=[],THREE=_dereq_(\\\"../lib/three\\\"),propertyToThreeMapping={array:\\\"v3\\\",color:\\\"v3\\\",int:\\\"i\\\",number:\\\"f\\\",map:\\\"t\\\",time:\\\"f\\\",vec2:\\\"v2\\\",vec3:\\\"v3\\\",vec4:\\\"v4\\\"},Shader=module.exports.Shader=function(){};Shader.prototype={schema:{},vertexShader:\\\"void main() {gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);}\\\",fragmentShader:\\\"void main() {gl_FragColor = vec4(1.0,0.0,1.0,1.0);}\\\",init:function(e){return this.attributes=this.initVariables(e,\\\"attribute\\\"),this.uniforms=this.initVariables(e,\\\"uniform\\\"),this.material=new THREE.ShaderMaterial({uniforms:this.uniforms,vertexShader:this.vertexShader,fragmentShader:this.fragmentShader}),this.material},initVariables:function(e,r){function t(t){if(s[t].is===r){var o=propertyToThreeMapping[s[t].type],n=s[t].parse(e[t]||s[t].default);i[t]={type:o,value:a.parseValue(s[t].type,n)}}}var a=this,i={},s=this.schema,o=Object.keys(s);return o.forEach(t),i},update:function(e){this.updateVariables(e,\\\"attribute\\\"),this.updateVariables(e,\\\"uniform\\\")},updateVariables:function(e,r){function t(t){o[t]&&o[t].is===r&&i[t].value!==e[t]&&(i[t].value=a.parseValue(o[t].type,e[t]),i[t].needsUpdate=!0)}var a=this,i=\\\"uniform\\\"===r?this.uniforms:this.attributes,s=Object.keys(e),o=this.schema;s.forEach(t)},parseValue:function(e,r){var t;switch(e){case\\\"vec2\\\":return new THREE.Vector2(r.x,r.y);case\\\"vec3\\\":return new THREE.Vector3(r.x,r.y,r.z);case\\\"vec4\\\":return new THREE.Vector4(r.x,r.y,r.z,r.w);case\\\"color\\\":return t=new THREE.Color(r),new THREE.Vector3(t.r,t.g,t.b);default:return r}}},module.exports.registerShader=function(e,r){var t,a={};if(Object.keys(r).forEach(function(e){a[e]={value:r[e],writable:!0}}),shaders[e])throw new Error(\\\"The shader \\\"+e+\\\" has been already registered\\\");return t=function(){Shader.call(this)},t.prototype=Object.create(Shader.prototype,a),t.prototype.name=e,t.prototype.constructor=t,shaders[e]={Shader:t,schema:processSchema(t.prototype.schema)},shaderNames.push(e),t};\\n},{\\\"../lib/three\\\":106,\\\"./schema\\\":70}],72:[function(_dereq_,module,exports){\\nvar components=_dereq_(\\\"./component\\\"),schema=_dereq_(\\\"./schema\\\"),utils=_dereq_(\\\"../utils/\\\"),parseProperties=schema.parseProperties,parseProperty=schema.parseProperty,processSchema=schema.process,isSingleProp=schema.isSingleProperty,styleParser=utils.styleParser,systems=module.exports.systems={},System=module.exports.System=function(e){var t,s=components&&components.components[this.name],r=this.schema;if(this.sceneEl=e,s&&(s.Component.prototype.system=this),Object.keys(r).length)return t=HTMLElement.prototype.getAttribute.call(e,this.name),isSingleProp(r)?void(this.data=parseProperty(t,r)):void(this.data=parseProperties(styleParser.parse(t)||{},r,!1,this.name))};System.prototype={schema:{},init:function(){},tick:void 0,play:function(){},pause:function(){}},module.exports.registerSystem=function(e,t){var s,r,o={},n=utils.findAllScenes(document);if(Object.keys(t).forEach(function(e){o[e]={value:t[e],writable:!0}}),systems[e])throw new Error(\\\"The system `\\\"+e+\\\"` has been already registered. Check that you are not loading two versions of the same system or two different systems of the same name.\\\");for(r=function(e){System.call(this,e)},r.prototype=Object.create(System.prototype,o),r.prototype.name=e,r.prototype.constructor=r,r.prototype.schema=utils.extend(processSchema(r.prototype.schema)),systems[e]=r,s=0;s<n.length;s++)n[s].initSystem(e)};\\n},{\\\"../utils/\\\":124,\\\"./component\\\":63,\\\"./schema\\\":70}],73:[function(_dereq_,module,exports){\\n_dereq_(\\\"./pivot\\\");\\n},{\\\"./pivot\\\":74}],74:[function(_dereq_,module,exports){\\nvar registerComponent=_dereq_(\\\"../../core/component\\\").registerComponent,THREE=_dereq_(\\\"../../lib/three\\\"),originalPosition=new THREE.Vector3,originalRotation=new THREE.Vector3;registerComponent(\\\"pivot\\\",{dependencies:[\\\"position\\\"],schema:{type:\\\"vec3\\\"},init:function(){var o=this.data,i=this.el,t=i.object3D.parent,e=i.object3D,n=new THREE.Group;originalPosition.copy(e.position),originalRotation.copy(e.rotation),t.remove(e),n.add(e),t.add(n),i.object3D=n,e.position.set(-1*o.x,-1*o.y,-1*o.z),n.position.set(o.x+originalPosition.x,o.y+originalPosition.y,o.z+originalPosition.z),n.rotation.copy(e.rotation),e.rotation.set(0,0,0)}});\\n},{\\\"../../core/component\\\":63,\\\"../../lib/three\\\":106}],75:[function(_dereq_,module,exports){\\nfunction addMapping(e){var a=e.replace(/([a-z])([A-Z])/g,\\\"$1-$2\\\").toLowerCase();materialMappings[a]=\\\"material.\\\"+e}var components=_dereq_(\\\"../../core/component\\\").components,shaders=_dereq_(\\\"../../core/shader\\\").shaders,utils=_dereq_(\\\"../../utils/\\\"),materialMappings={};Object.keys(components.material.schema).forEach(addMapping),Object.keys(shaders.standard.schema).forEach(addMapping),module.exports=function(){return{defaultComponents:{material:{}},mappings:utils.extend({},materialMappings)}};\\n},{\\\"../../core/component\\\":63,\\\"../../core/shader\\\":71,\\\"../../utils/\\\":124}],76:[function(_dereq_,module,exports){\\n_dereq_(\\\"./primitives/a-camera\\\"),_dereq_(\\\"./primitives/a-collada-model\\\"),_dereq_(\\\"./primitives/a-cursor\\\"),_dereq_(\\\"./primitives/a-curvedimage\\\"),_dereq_(\\\"./primitives/a-image\\\"),_dereq_(\\\"./primitives/a-light\\\"),_dereq_(\\\"./primitives/a-obj-model\\\"),_dereq_(\\\"./primitives/a-sky\\\"),_dereq_(\\\"./primitives/a-sound\\\"),_dereq_(\\\"./primitives/a-video\\\"),_dereq_(\\\"./primitives/a-videosphere\\\"),_dereq_(\\\"./primitives/meshPrimitives\\\");\\n},{\\\"./primitives/a-camera\\\":78,\\\"./primitives/a-collada-model\\\":79,\\\"./primitives/a-cursor\\\":80,\\\"./primitives/a-curvedimage\\\":81,\\\"./primitives/a-image\\\":82,\\\"./primitives/a-light\\\":83,\\\"./primitives/a-obj-model\\\":84,\\\"./primitives/a-sky\\\":85,\\\"./primitives/a-sound\\\":86,\\\"./primitives/a-video\\\":87,\\\"./primitives/a-videosphere\\\":88,\\\"./primitives/meshPrimitives\\\":89}],77:[function(_dereq_,module,exports){\\nvar AEntity=_dereq_(\\\"../../core/a-entity\\\"),components=_dereq_(\\\"../../core/component\\\").components,registerElement=_dereq_(\\\"../../core/a-register-element\\\").registerElement,utils=_dereq_(\\\"../../utils/\\\"),debug=utils.debug,setComponentProperty=utils.entity.setComponentProperty,log=debug(\\\"extras:primitives:debug\\\"),warn=debug(\\\"extras:primitives:warn\\\"),primitives=module.exports.primitives={};module.exports.registerPrimitive=function(e,t){e=e.toLowerCase(),log(\\\"Registering <%s>\\\",e),t.defaultAttributes&&warn(\\\"The 'defaultAttributes' object is deprecated. Use 'defaultComponents' instead.\\\");var i=registerElement(e,{prototype:Object.create(AEntity.prototype,{defaultComponentsFromPrimitive:{value:t.defaultComponents||t.defaultAttributes||{}},deprecated:{value:t.deprecated||null},deprecatedMappings:{value:t.deprecatedMappings||{}},mappings:{value:t.mappings||{}},createdCallback:{value:function(){t.deprecated&&console.warn(t.deprecated),this.resolveMappingCollisions()}},resolveMappingCollisions:{value:function(){var e=this.mappings,t=this;Object.keys(e).forEach(function(i){var r;components[i]&&(r=e[i].replace(\\\".\\\",\\\"-\\\"),e[r]=e[i],delete e[i],console.warn(\\\"The primitive \\\"+t.tagName.toLowerCase()+\\\" has a mapping collision. The attribute \\\"+i+\\\" has the same name as a registered component and has been renamed to \\\"+r))})}},getExtraComponents:{value:function(){var e,t,i,r,n,a,s=this;for(t=utils.clone(this.defaultComponentsFromPrimitive),n=this.getAttribute(\\\"mixin\\\"),n&&(n=n.trim().split(\\\" \\\"),n.forEach(function(e){var i=s.sceneEl.querySelector(\\\"#\\\"+e).componentCache;Object.keys(i).forEach(function(e){t[e]=utils.extendDeep(t[e]||{},i[e])})})),i=0;i<this.attributes.length;i++)e=this.attributes[i],r=this.mappings[e.name],r&&(a=utils.entity.getComponentPropertyPath(r),a.constructor===Array?t[a[0]][a[1]]=e.value:t[a]=e.value);return t}},attributeChangedCallback:{value:function(e,t,i){var r=this.mappings[e];e in this.deprecatedMappings&&console.warn(this.deprecatedMappings[e]),e&&r&&setComponentProperty(this,r,i)}}})});return primitives[e]=i,i};\\n},{\\\"../../core/a-entity\\\":59,\\\"../../core/a-register-element\\\":62,\\\"../../core/component\\\":63,\\\"../../utils/\\\":124}],78:[function(_dereq_,module,exports){\\nvar DEFAULT_CAMERA_HEIGHT=_dereq_(\\\"../../../constants/\\\").DEFAULT_CAMERA_HEIGHT,registerPrimitive=_dereq_(\\\"../primitives\\\").registerPrimitive;registerPrimitive(\\\"a-camera\\\",{defaultComponents:{camera:{userHeight:DEFAULT_CAMERA_HEIGHT},\\\"look-controls\\\":{},\\\"wasd-controls\\\":{}},mappings:{active:\\\"camera.active\\\",far:\\\"camera.far\\\",fov:\\\"camera.fov\\\",\\\"look-controls-enabled\\\":\\\"look-controls.enabled\\\",near:\\\"camera.near\\\",\\\"wasd-controls-enabled\\\":\\\"wasd-controls.enabled\\\",\\\"reverse-mouse-drag\\\":\\\"look-controls.reverseMouseDrag\\\",\\\"user-height\\\":\\\"camera.userHeight\\\",zoom:\\\"camera.zoom\\\"},deprecatedMappings:{\\\"cursor-color\\\":\\\"a-camera[cursor-color] has been removed. Use a-cursor[color] instead.\\\",\\\"cursor-maxdistance\\\":\\\"a-camera[cursor-maxdistance] has been removed. Use a-cursor[max-distance] instead.\\\",\\\"cursor-offset\\\":\\\"a-camera[cursor-offset] has been removed. Use a-cursor[position] instead.\\\",\\\"cursor-opacity\\\":\\\"a-camera[cursor-offset] has been removed. Use a-cursor[opacity] instead.\\\",\\\"cursor-scale\\\":\\\"a-camera[cursor-scale] has been removed. Use a-cursor[scale] instead.\\\",\\\"cursor-visible\\\":\\\"a-camera[cursor-visible] has been removed. Use a-cursor[visible] instead.\\\"}});\\n},{\\\"../../../constants/\\\":54,\\\"../primitives\\\":77}],79:[function(_dereq_,module,exports){\\nvar getMeshMixin=_dereq_(\\\"../getMeshMixin\\\"),registerPrimitive=_dereq_(\\\"../primitives\\\").registerPrimitive,utils=_dereq_(\\\"../../../utils/\\\");registerPrimitive(\\\"a-collada-model\\\",utils.extendDeep({},getMeshMixin(),{mappings:{src:\\\"collada-model\\\"}}));\\n},{\\\"../../../utils/\\\":124,\\\"../getMeshMixin\\\":75,\\\"../primitives\\\":77}],80:[function(_dereq_,module,exports){\\nvar getMeshMixin=_dereq_(\\\"../getMeshMixin\\\"),registerPrimitive=_dereq_(\\\"../primitives\\\").registerPrimitive,utils=_dereq_(\\\"../../../utils/\\\");registerPrimitive(\\\"a-cursor\\\",utils.extendDeep({},getMeshMixin(),{defaultComponents:{cursor:{},geometry:{primitive:\\\"ring\\\",radiusOuter:.016,radiusInner:.01,segmentsTheta:64},material:{color:\\\"#000\\\",shader:\\\"flat\\\",opacity:.8},position:{x:0,y:0,z:-1},raycaster:{far:1e3}},mappings:{far:\\\"raycaster.far\\\",fuse:\\\"cursor.fuse\\\",interval:\\\"raycaster.interval\\\",objects:\\\"raycaster.objects\\\",\\\"fuse-timeout\\\":\\\"cursor.fuseTimeout\\\"}}));\\n},{\\\"../../../utils/\\\":124,\\\"../getMeshMixin\\\":75,\\\"../primitives\\\":77}],81:[function(_dereq_,module,exports){\\nvar getMeshMixin=_dereq_(\\\"../getMeshMixin\\\"),registerPrimitive=_dereq_(\\\"../primitives\\\").registerPrimitive,utils=_dereq_(\\\"../../../utils/\\\");registerPrimitive(\\\"a-curvedimage\\\",utils.extendDeep({},getMeshMixin(),{defaultComponents:{geometry:{height:1,primitive:\\\"cylinder\\\",radius:2,segmentsRadial:48,thetaLength:270,openEnded:!0,thetaStart:0},material:{color:\\\"#FFF\\\",shader:\\\"flat\\\",side:\\\"double\\\",transparent:!0,repeat:\\\"-1 1\\\"}},mappings:{height:\\\"geometry.height\\\",\\\"open-ended\\\":\\\"geometry.openEnded\\\",radius:\\\"geometry.radius\\\",segments:\\\"geometry.segmentsRadial\\\",start:\\\"geometry.thetaStart\\\",\\\"theta-length\\\":\\\"geometry.thetaLength\\\",\\\"theta-start\\\":\\\"geometry.thetaStart\\\",width:\\\"geometry.thetaLength\\\"}}));\\n},{\\\"../../../utils/\\\":124,\\\"../getMeshMixin\\\":75,\\\"../primitives\\\":77}],82:[function(_dereq_,module,exports){\\nvar getMeshMixin=_dereq_(\\\"../getMeshMixin\\\"),registerPrimitive=_dereq_(\\\"../primitives\\\").registerPrimitive,utils=_dereq_(\\\"../../../utils/\\\");registerPrimitive(\\\"a-image\\\",utils.extendDeep({},getMeshMixin(),{defaultComponents:{geometry:{primitive:\\\"plane\\\"},material:{color:\\\"#FFF\\\",shader:\\\"flat\\\",side:\\\"double\\\",transparent:!0}},mappings:{height:\\\"geometry.height\\\",width:\\\"geometry.width\\\"}}));\\n},{\\\"../../../utils/\\\":124,\\\"../getMeshMixin\\\":75,\\\"../primitives\\\":77}],83:[function(_dereq_,module,exports){\\nvar registerPrimitive=_dereq_(\\\"../primitives\\\").registerPrimitive;registerPrimitive(\\\"a-light\\\",{defaultComponents:{light:{}},mappings:{angle:\\\"light.angle\\\",color:\\\"light.color\\\",\\\"ground-color\\\":\\\"light.groundColor\\\",decay:\\\"light.decay\\\",distance:\\\"light.distance\\\",intensity:\\\"light.intensity\\\",penumbra:\\\"light.penumbra\\\",type:\\\"light.type\\\",target:\\\"light.target\\\"}});\\n},{\\\"../primitives\\\":77}],84:[function(_dereq_,module,exports){\\nvar meshMixin=_dereq_(\\\"../getMeshMixin\\\")(),registerPrimitive=_dereq_(\\\"../primitives\\\").registerPrimitive,utils=_dereq_(\\\"../../../utils/\\\");registerPrimitive(\\\"a-obj-model\\\",utils.extendDeep({},meshMixin,{defaultComponents:{\\\"obj-model\\\":{}},mappings:{src:\\\"obj-model.obj\\\",mtl:\\\"obj-model.mtl\\\"}}));\\n},{\\\"../../../utils/\\\":124,\\\"../getMeshMixin\\\":75,\\\"../primitives\\\":77}],85:[function(_dereq_,module,exports){\\nvar getMeshMixin=_dereq_(\\\"../getMeshMixin\\\"),registerPrimitive=_dereq_(\\\"../primitives\\\").registerPrimitive,utils=_dereq_(\\\"../../../utils/\\\"),meshPrimitives=_dereq_(\\\"./meshPrimitives\\\");registerPrimitive(\\\"a-sky\\\",utils.extendDeep({},getMeshMixin(),{defaultComponents:{geometry:{primitive:\\\"sphere\\\",radius:5e3,segmentsWidth:64,segmentsHeight:20},material:{color:\\\"#FFF\\\",shader:\\\"flat\\\"},scale:\\\"-1 1 1\\\"},mappings:utils.extendDeep({},meshPrimitives[\\\"a-sphere\\\"].prototype.mappings)}));\\n},{\\\"../../../utils/\\\":124,\\\"../getMeshMixin\\\":75,\\\"../primitives\\\":77,\\\"./meshPrimitives\\\":89}],86:[function(_dereq_,module,exports){\\nvar registerPrimitive=_dereq_(\\\"../primitives\\\").registerPrimitive;registerPrimitive(\\\"a-sound\\\",{defaultComponents:{sound:{}},mappings:{src:\\\"sound.src\\\",on:\\\"sound.on\\\",autoplay:\\\"sound.autoplay\\\",loop:\\\"sound.loop\\\",volume:\\\"sound.volume\\\"}});\\n},{\\\"../primitives\\\":77}],87:[function(_dereq_,module,exports){\\nvar getMeshMixin=_dereq_(\\\"../getMeshMixin\\\"),registerPrimitive=_dereq_(\\\"../primitives\\\").registerPrimitive,utils=_dereq_(\\\"../../../utils/\\\");registerPrimitive(\\\"a-video\\\",utils.extendDeep({},getMeshMixin(),{defaultComponents:{geometry:{primitive:\\\"plane\\\"},material:{color:\\\"#FFF\\\",shader:\\\"flat\\\",side:\\\"double\\\",transparent:!0}},mappings:{height:\\\"geometry.height\\\",width:\\\"geometry.width\\\"}}));\\n},{\\\"../../../utils/\\\":124,\\\"../getMeshMixin\\\":75,\\\"../primitives\\\":77}],88:[function(_dereq_,module,exports){\\nvar getMeshMixin=_dereq_(\\\"../getMeshMixin\\\"),registerPrimitive=_dereq_(\\\"../primitives\\\").registerPrimitive,utils=_dereq_(\\\"../../../utils/\\\");registerPrimitive(\\\"a-videosphere\\\",utils.extendDeep({},getMeshMixin(),{defaultComponents:{geometry:{primitive:\\\"sphere\\\",radius:5e3,segmentsWidth:64,segmentsHeight:20},material:{color:\\\"#FFF\\\",shader:\\\"flat\\\"},scale:\\\"-1 1 1\\\"},mappings:{radius:\\\"geometry.radius\\\",\\\"segments-height\\\":\\\"geometry.segmentsHeight\\\",\\\"segments-width\\\":\\\"geometry.segmentsWidth\\\"}}));\\n},{\\\"../../../utils/\\\":124,\\\"../getMeshMixin\\\":75,\\\"../primitives\\\":77}],89:[function(_dereq_,module,exports){\\nfunction unCamelCase(e){return e.replace(/([a-z])([A-Z])/g,\\\"$1-$2\\\").toLowerCase()}var getMeshMixin=_dereq_(\\\"../getMeshMixin\\\"),geometries=_dereq_(\\\"../../../core/geometry\\\").geometries,geometryNames=_dereq_(\\\"../../../core/geometry\\\").geometryNames,registerPrimitive=_dereq_(\\\"../primitives\\\").registerPrimitive,utils=_dereq_(\\\"../../../utils/\\\"),meshPrimitives=module.exports={};geometryNames.forEach(function(e){var i=geometries[e],r=unCamelCase(e),t={};Object.keys(i.schema).forEach(function(e){t[unCamelCase(e)]=\\\"geometry.\\\"+e});var m=\\\"a-\\\"+r,s=registerPrimitive(m,utils.extendDeep({},getMeshMixin(),{defaultComponents:{geometry:{primitive:e}},mappings:t}));meshPrimitives[m]=s});\\n},{\\\"../../../core/geometry\\\":64,\\\"../../../utils/\\\":124,\\\"../getMeshMixin\\\":75,\\\"../primitives\\\":77}],90:[function(_dereq_,module,exports){\\nvar registerGeometry=_dereq_(\\\"../core/geometry\\\").registerGeometry,THREE=_dereq_(\\\"../lib/three\\\");registerGeometry(\\\"box\\\",{schema:{depth:{default:1,min:0},height:{default:1,min:0},width:{default:1,min:0},segmentsHeight:{default:1,min:1,max:20,type:\\\"int\\\"},segmentsWidth:{default:1,min:1,max:20,type:\\\"int\\\"},segmentsDepth:{default:1,min:1,max:20,type:\\\"int\\\"}},init:function(e){this.geometry=new THREE.BoxGeometry(e.width,e.height,e.depth)}});\\n},{\\\"../core/geometry\\\":64,\\\"../lib/three\\\":106}],91:[function(_dereq_,module,exports){\\nvar registerGeometry=_dereq_(\\\"../core/geometry\\\").registerGeometry,THREE=_dereq_(\\\"../lib/three\\\"),degToRad=THREE.Math.degToRad;registerGeometry(\\\"circle\\\",{schema:{radius:{default:1,min:0},segments:{default:32,min:3,type:\\\"int\\\"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(e){this.geometry=new THREE.CircleGeometry(e.radius,e.segments,degToRad(e.thetaStart),degToRad(e.thetaLength))}});\\n},{\\\"../core/geometry\\\":64,\\\"../lib/three\\\":106}],92:[function(_dereq_,module,exports){\\nvar registerGeometry=_dereq_(\\\"../core/geometry\\\").registerGeometry,THREE=_dereq_(\\\"../lib/three\\\"),degToRad=THREE.Math.degToRad;registerGeometry(\\\"cone\\\",{schema:{height:{default:1,min:0},openEnded:{default:!1},radiusBottom:{default:1,min:0},radiusTop:{default:.8,min:0},segmentsHeight:{default:18,min:1,type:\\\"int\\\"},segmentsRadial:{default:36,min:3,type:\\\"int\\\"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(e){this.geometry=new THREE.CylinderGeometry(e.radiusTop,e.radiusBottom,e.height,e.segmentsRadial,e.segmentsHeight,e.openEnded,degToRad(e.thetaStart),degToRad(e.thetaLength))}});\\n},{\\\"../core/geometry\\\":64,\\\"../lib/three\\\":106}],93:[function(_dereq_,module,exports){\\nvar registerGeometry=_dereq_(\\\"../core/geometry\\\").registerGeometry,THREE=_dereq_(\\\"../lib/three\\\"),degToRad=THREE.Math.degToRad;registerGeometry(\\\"cylinder\\\",{schema:{height:{default:1,min:0},openEnded:{default:!1},radius:{default:1,min:0},segmentsHeight:{default:18,min:1,type:\\\"int\\\"},segmentsRadial:{default:36,min:3,type:\\\"int\\\"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(e){this.geometry=new THREE.CylinderGeometry(e.radius,e.radius,e.height,e.segmentsRadial,e.segmentsHeight,e.openEnded,degToRad(e.thetaStart),degToRad(e.thetaLength))}});\\n},{\\\"../core/geometry\\\":64,\\\"../lib/three\\\":106}],94:[function(_dereq_,module,exports){\\nvar registerGeometry=_dereq_(\\\"../core/geometry\\\").registerGeometry,THREE=_dereq_(\\\"../lib/three\\\");registerGeometry(\\\"dodecahedron\\\",{schema:{detail:{default:0,min:0,max:5,type:\\\"int\\\"},radius:{default:1,min:0}},init:function(e){this.geometry=new THREE.DodecahedronGeometry(e.radius,e.detail)}});\\n},{\\\"../core/geometry\\\":64,\\\"../lib/three\\\":106}],95:[function(_dereq_,module,exports){\\nvar registerGeometry=_dereq_(\\\"../core/geometry\\\").registerGeometry,THREE=_dereq_(\\\"../lib/three\\\");registerGeometry(\\\"icosahedron\\\",{schema:{detail:{default:0,min:0,max:5,type:\\\"int\\\"},radius:{default:1,min:0}},init:function(e){this.geometry=new THREE.IcosahedronGeometry(e.radius,e.detail)}});\\n},{\\\"../core/geometry\\\":64,\\\"../lib/three\\\":106}],96:[function(_dereq_,module,exports){\\n_dereq_(\\\"./box.js\\\"),_dereq_(\\\"./circle.js\\\"),_dereq_(\\\"./cone.js\\\"),_dereq_(\\\"./cylinder.js\\\"),_dereq_(\\\"./dodecahedron.js\\\"),_dereq_(\\\"./icosahedron.js\\\"),_dereq_(\\\"./octahedron.js\\\"),_dereq_(\\\"./plane.js\\\"),_dereq_(\\\"./ring.js\\\"),_dereq_(\\\"./sphere.js\\\"),_dereq_(\\\"./tetrahedron.js\\\"),_dereq_(\\\"./torus.js\\\"),_dereq_(\\\"./torusKnot.js\\\");\\n},{\\\"./box.js\\\":90,\\\"./circle.js\\\":91,\\\"./cone.js\\\":92,\\\"./cylinder.js\\\":93,\\\"./dodecahedron.js\\\":94,\\\"./icosahedron.js\\\":95,\\\"./octahedron.js\\\":97,\\\"./plane.js\\\":98,\\\"./ring.js\\\":99,\\\"./sphere.js\\\":100,\\\"./tetrahedron.js\\\":101,\\\"./torus.js\\\":102,\\\"./torusKnot.js\\\":103}],97:[function(_dereq_,module,exports){\\nvar registerGeometry=_dereq_(\\\"../core/geometry\\\").registerGeometry,THREE=_dereq_(\\\"../lib/three\\\");registerGeometry(\\\"octahedron\\\",{schema:{detail:{default:0,min:0,max:5,type:\\\"int\\\"},radius:{default:1,min:0}},init:function(e){this.geometry=new THREE.OctahedronGeometry(e.radius,e.detail)}});\\n},{\\\"../core/geometry\\\":64,\\\"../lib/three\\\":106}],98:[function(_dereq_,module,exports){\\nvar registerGeometry=_dereq_(\\\"../core/geometry\\\").registerGeometry,THREE=_dereq_(\\\"../lib/three\\\");registerGeometry(\\\"plane\\\",{schema:{height:{default:1,min:0},width:{default:1,min:0},segmentsHeight:{default:1,min:1,max:20,type:\\\"int\\\"},segmentsWidth:{default:1,min:1,max:20,type:\\\"int\\\"}},init:function(e){this.geometry=new THREE.PlaneGeometry(e.width,e.height)}});\\n},{\\\"../core/geometry\\\":64,\\\"../lib/three\\\":106}],99:[function(_dereq_,module,exports){\\nvar registerGeometry=_dereq_(\\\"../core/geometry\\\").registerGeometry,THREE=_dereq_(\\\"../lib/three\\\"),degToRad=THREE.Math.degToRad;registerGeometry(\\\"ring\\\",{schema:{radiusInner:{default:.8,min:0},radiusOuter:{default:1.2,min:0},segmentsPhi:{default:10,min:1,type:\\\"int\\\"},segmentsTheta:{default:32,min:3,type:\\\"int\\\"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(e){this.geometry=new THREE.RingGeometry(e.radiusInner,e.radiusOuter,e.segmentsTheta,e.segmentsPhi,degToRad(e.thetaStart),degToRad(e.thetaLength))}});\\n},{\\\"../core/geometry\\\":64,\\\"../lib/three\\\":106}],100:[function(_dereq_,module,exports){\\nvar registerGeometry=_dereq_(\\\"../core/geometry\\\").registerGeometry,THREE=_dereq_(\\\"../lib/three\\\"),degToRad=THREE.Math.degToRad;registerGeometry(\\\"sphere\\\",{schema:{radius:{default:1,min:0},phiLength:{default:360},phiStart:{default:0,min:0},thetaLength:{default:180,min:0},thetaStart:{default:0},segmentsHeight:{default:18,min:2,type:\\\"int\\\"},segmentsWidth:{default:36,min:3,type:\\\"int\\\"}},init:function(e){this.geometry=new THREE.SphereGeometry(e.radius,e.segmentsWidth,e.segmentsHeight,degToRad(e.phiStart),degToRad(e.phiLength),degToRad(e.thetaStart),degToRad(e.thetaLength))}});\\n},{\\\"../core/geometry\\\":64,\\\"../lib/three\\\":106}],101:[function(_dereq_,module,exports){\\nvar registerGeometry=_dereq_(\\\"../core/geometry\\\").registerGeometry,THREE=_dereq_(\\\"../lib/three\\\");registerGeometry(\\\"tetrahedron\\\",{schema:{detail:{default:0,min:0,max:5,type:\\\"int\\\"},radius:{default:1,min:0}},init:function(e){this.geometry=new THREE.TetrahedronGeometry(e.radius,e.detail)}});\\n},{\\\"../core/geometry\\\":64,\\\"../lib/three\\\":106}],102:[function(_dereq_,module,exports){\\nvar registerGeometry=_dereq_(\\\"../core/geometry\\\").registerGeometry,THREE=_dereq_(\\\"../lib/three\\\"),degToRad=THREE.Math.degToRad;registerGeometry(\\\"torus\\\",{schema:{arc:{default:360},radius:{default:1,min:0},radiusTubular:{default:.2,min:0},segmentsRadial:{default:36,min:2,type:\\\"int\\\"},segmentsTubular:{default:32,min:3,type:\\\"int\\\"}},init:function(e){this.geometry=new THREE.TorusGeometry(e.radius,2*e.radiusTubular,e.segmentsRadial,e.segmentsTubular,degToRad(e.arc))}});\\n},{\\\"../core/geometry\\\":64,\\\"../lib/three\\\":106}],103:[function(_dereq_,module,exports){\\nvar registerGeometry=_dereq_(\\\"../core/geometry\\\").registerGeometry,THREE=_dereq_(\\\"../lib/three\\\");registerGeometry(\\\"torusKnot\\\",{schema:{p:{default:2,min:1},q:{default:3,min:1},radius:{default:1,min:0},radiusTubular:{default:.2,min:0},segmentsRadial:{default:8,min:3,type:\\\"int\\\"},segmentsTubular:{default:100,min:3,type:\\\"int\\\"}},init:function(e){this.geometry=new THREE.TorusKnotGeometry(e.radius,2*e.radiusTubular,e.segmentsTubular,e.segmentsRadial,e.p,e.q)}});\\n},{\\\"../core/geometry\\\":64,\\\"../lib/three\\\":106}],104:[function(_dereq_,module,exports){\\nvar debug=_dereq_(\\\"./utils/debug\\\"),error=debug(\\\"A-Frame:warn\\\"),info=debug(\\\"A-Frame:info\\\");document.currentScript&&document.currentScript.parentNode!==document.head&&(error(\\\"Put the A-Frame <script> tag in the <head> of the HTML before <a-scene> to ensure everything for A-Frame is properly registered before they are used in the <body>.\\\"),info(\\\"Also make sure that any component <script> tags are included after A-Frame, but still before <a-scene>.\\\")),window.Promise=window.Promise||_dereq_(\\\"promise-polyfill\\\"),window.hasNativeWebVRImplementation=!!navigator.getVRDisplays||!!navigator.getVRDevices,window.WebVRConfig=window.WebVRConfig||{BUFFER_SCALE:1,CARDBOARD_UI_DISABLED:!0,ROTATE_INSTRUCTIONS_DISABLED:!0,TOUCH_PANNER_DISABLED:!0,MOUSE_KEYBOARD_CONTROLS_DISABLED:!0},/(iphone|ipod|ipad).*os.*(7|8|9)/i.test(navigator.userAgent)&&(window.WebVRConfig.BUFFER_SCALE=1/window.devicePixelRatio),_dereq_(\\\"webvr-polyfill\\\"),_dereq_(\\\"present\\\"),_dereq_(\\\"./style/aframe.css\\\"),_dereq_(\\\"./style/rStats.css\\\");var AScene=_dereq_(\\\"./core/scene/a-scene\\\"),components=_dereq_(\\\"./core/component\\\").components,registerComponent=_dereq_(\\\"./core/component\\\").registerComponent,registerGeometry=_dereq_(\\\"./core/geometry\\\").registerGeometry,registerPrimitive=_dereq_(\\\"./extras/primitives/primitives\\\").registerPrimitive,registerShader=_dereq_(\\\"./core/shader\\\").registerShader,registerSystem=_dereq_(\\\"./core/system\\\").registerSystem,shaders=_dereq_(\\\"./core/shader\\\").shaders,systems=_dereq_(\\\"./core/system\\\").systems,THREE=window.THREE=_dereq_(\\\"./lib/three\\\"),TWEEN=window.TWEEN=_dereq_(\\\"tween.js\\\"),pkg=_dereq_(\\\"../package\\\"),utils=_dereq_(\\\"./utils/\\\");_dereq_(\\\"./components/index\\\"),_dereq_(\\\"./geometries/index\\\"),_dereq_(\\\"./shaders/index\\\"),_dereq_(\\\"./systems/index\\\");var ANode=_dereq_(\\\"./core/a-node\\\"),AEntity=_dereq_(\\\"./core/a-entity\\\");_dereq_(\\\"./core/a-animation\\\"),_dereq_(\\\"./core/a-assets\\\"),_dereq_(\\\"./core/a-cubemap\\\"),_dereq_(\\\"./core/a-mixin\\\"),_dereq_(\\\"./extras/components/\\\"),_dereq_(\\\"./extras/primitives/\\\"),console.log(\\\"A-Frame Version:\\\",pkg.version),console.log(\\\"three Version:\\\",pkg.dependencies.three),console.log(\\\"WebVR Polyfill Version:\\\",pkg.dependencies[\\\"webvr-polyfill\\\"]),module.exports=window.AFRAME={AComponent:_dereq_(\\\"./core/component\\\").Component,AEntity:AEntity,ANode:ANode,AScene:AScene,components:components,geometries:_dereq_(\\\"./core/geometry\\\").geometries,registerComponent:registerComponent,registerElement:_dereq_(\\\"./core/a-register-element\\\").registerElement,registerGeometry:registerGeometry,registerPrimitive:registerPrimitive,registerShader:registerShader,registerSystem:registerSystem,primitives:{getMeshMixin:_dereq_(\\\"./extras/primitives/getMeshMixin\\\"),primitives:_dereq_(\\\"./extras/primitives/primitives\\\").primitives},schema:_dereq_(\\\"./core/schema\\\"),shaders:shaders,systems:systems,THREE:THREE,TWEEN:TWEEN,utils:utils,version:pkg.version};\\n},{\\\"../package\\\":20,\\\"./components/index\\\":27,\\\"./core/a-animation\\\":56,\\\"./core/a-assets\\\":57,\\\"./core/a-cubemap\\\":58,\\\"./core/a-entity\\\":59,\\\"./core/a-mixin\\\":60,\\\"./core/a-node\\\":61,\\\"./core/a-register-element\\\":62,\\\"./core/component\\\":63,\\\"./core/geometry\\\":64,\\\"./core/scene/a-scene\\\":66,\\\"./core/schema\\\":70,\\\"./core/shader\\\":71,\\\"./core/system\\\":72,\\\"./extras/components/\\\":73,\\\"./extras/primitives/\\\":76,\\\"./extras/primitives/getMeshMixin\\\":75,\\\"./extras/primitives/primitives\\\":77,\\\"./geometries/index\\\":96,\\\"./lib/three\\\":106,\\\"./shaders/index\\\":108,\\\"./style/aframe.css\\\":110,\\\"./style/rStats.css\\\":111,\\\"./systems/index\\\":114,\\\"./utils/\\\":124,\\\"./utils/debug\\\":120,\\\"present\\\":10,\\\"promise-polyfill\\\":11,\\\"tween.js\\\":18,\\\"webvr-polyfill\\\":19}],105:[function(_dereq_,module,exports){\\nwindow.aframeStats=function(t){function e(){i(\\\"te\\\").set(n()),window.performance.getEntriesByName&&i(\\\"lt\\\").set(window.performance.getEntriesByName(\\\"render-started\\\")[0].startTime.toFixed(0))}function n(){var t=c.querySelectorAll(\\\"*\\\");return Array.prototype.slice.call(t).filter(function(t){return t.isEntity}),t.length}function r(){}function a(){}function o(t){i=t}var i=null,c=t,s={te:{caption:\\\"Entities\\\"},lt:{caption:\\\"Load Time\\\"}},u=[{caption:\\\"A-Frame\\\",values:[\\\"te\\\",\\\"lt\\\"]}];return{update:e,start:r,end:a,attach:o,values:s,groups:u,fractions:[]}},\\\"object\\\"==typeof module&&(module.exports={aframeStats:window.aframeStats});\\n},{}],106:[function(_dereq_,module,exports){\\n(function (global){\\nvar THREE=global.THREE=_dereq_(\\\"three\\\");THREE.TextureLoader&&(THREE.TextureLoader.prototype.crossOrigin=\\\"anonymous\\\"),THREE.ImageLoader&&(THREE.ImageLoader.prototype.crossOrigin=\\\"anonymous\\\"),THREE.Cache&&(THREE.Cache.enabled=!0),_dereq_(\\\"three/examples/js/loaders/OBJLoader\\\"),_dereq_(\\\"three/examples/js/loaders/MTLLoader\\\"),_dereq_(\\\"three/examples/js/BlendCharacter\\\"),_dereq_(\\\"three/examples/js/loaders/ColladaLoader\\\"),_dereq_(\\\"../../vendor/VRControls\\\"),_dereq_(\\\"../../vendor/VREffect\\\"),THREE.ColladaLoader.prototype.crossOrigin=\\\"anonymous\\\",THREE.MTLLoader.prototype.crossOrigin=\\\"anonymous\\\",THREE.OBJLoader.prototype.crossOrigin=\\\"anonymous\\\",module.exports=THREE;\\n}).call(this,typeof global !== \\\"undefined\\\" ? global : typeof self !== \\\"undefined\\\" ? self : typeof window !== \\\"undefined\\\" ? window : {})\\n\\n},{\\\"../../vendor/VRControls\\\":129,\\\"../../vendor/VREffect\\\":130,\\\"three\\\":13,\\\"three/examples/js/BlendCharacter\\\":14,\\\"three/examples/js/loaders/ColladaLoader\\\":15,\\\"three/examples/js/loaders/MTLLoader\\\":16,\\\"three/examples/js/loaders/OBJLoader\\\":17}],107:[function(_dereq_,module,exports){\\nfunction getMaterialData(e){return{fog:e.fog,color:new THREE.Color(e.color),wireframe:e.wireframe,wireframeLinewidth:e.wireframeLinewidth}}var registerShader=_dereq_(\\\"../core/shader\\\").registerShader,THREE=_dereq_(\\\"../lib/three\\\"),utils=_dereq_(\\\"../utils/\\\");module.exports.Shader=registerShader(\\\"flat\\\",{schema:{color:{type:\\\"color\\\"},fog:{default:!0},height:{default:256},offset:{type:\\\"vec2\\\",default:{x:1,y:1}},repeat:{type:\\\"vec2\\\",default:{x:1,y:1}},src:{type:\\\"map\\\"},width:{default:512},wireframe:{default:!1},wireframeLinewidth:{default:2}},init:function(e){this.textureSrc=null,this.material=new THREE.MeshBasicMaterial(getMaterialData(e)),utils.material.updateMap(this,e)},update:function(e){this.updateMaterial(e),utils.material.updateMap(this,e)},updateMaterial:function(e){var t=this.material;e=getMaterialData(e),Object.keys(e).forEach(function(a){t[a]=e[a]})}});\\n},{\\\"../core/shader\\\":71,\\\"../lib/three\\\":106,\\\"../utils/\\\":124}],108:[function(_dereq_,module,exports){\\n_dereq_(\\\"./flat\\\"),_dereq_(\\\"./standard\\\");\\n},{\\\"./flat\\\":107,\\\"./standard\\\":109}],109:[function(_dereq_,module,exports){\\nfunction getMaterialData(e){var a={color:new THREE.Color(e.color),fog:e.fog,metalness:e.metalness,roughness:e.roughness,wireframe:e.wireframe,wireframeLinewidth:e.wireframeLinewidth};return e.normalMap&&(a.normalScale=e.normalScale),e.ambientOcclusionMap&&(a.aoMapIntensity=e.ambientOcclusionMapIntensity),e.displacementMap&&(a.displacementScale=e.displacementScale,a.displacementBias=e.displacementBias),a}var registerShader=_dereq_(\\\"../core/shader\\\").registerShader,THREE=_dereq_(\\\"../lib/three\\\"),utils=_dereq_(\\\"../utils/\\\"),CubeLoader=new THREE.CubeTextureLoader,texturePromises={};module.exports.Shader=registerShader(\\\"standard\\\",{schema:{ambientOcclusionMap:{type:\\\"map\\\"},ambientOcclusionMapIntensity:{default:1},ambientOcclusionTextureOffset:{type:\\\"vec2\\\"},ambientOcclusionTextureRepeat:{type:\\\"vec2\\\",default:{x:1,y:1}},color:{type:\\\"color\\\"},displacementMap:{type:\\\"map\\\"},displacementScale:{default:1},displacementBias:{default:.5},displacementTextureOffset:{type:\\\"vec2\\\"},displacementTextureRepeat:{type:\\\"vec2\\\",default:{x:1,y:1}},envMap:{default:\\\"\\\"},fog:{default:!0},height:{default:256},metalness:{default:0,min:0,max:1},normalMap:{type:\\\"map\\\"},normalScale:{type:\\\"vec2\\\",default:\\\"1 1\\\"},normalTextureOffset:{type:\\\"vec2\\\"},normalTextureRepeat:{type:\\\"vec2\\\",default:{x:1,y:1}},offset:{type:\\\"vec2\\\",default:{x:1,y:1}},repeat:{type:\\\"vec2\\\",default:{x:1,y:1}},roughness:{default:.5,min:0,max:1},sphericalEnvMap:{type:\\\"map\\\"},src:{type:\\\"map\\\"},width:{default:512},wireframe:{default:!1},wireframeLinewidth:{default:2}},init:function(e){this.material=new THREE.MeshStandardMaterial(getMaterialData(e)),utils.material.updateMap(this,e),e.normalMap&&utils.material.updateDistortionMap(\\\"normal\\\",this,e),e.displacementMap&&utils.material.updateDistortionMap(\\\"displacement\\\",this,e),e.ambientOcclusionMap&&utils.material.updateDistortionMap(\\\"ambientOcclusion\\\",this,e),this.updateEnvMap(e)},update:function(e){this.updateMaterial(e),utils.material.updateMap(this,e),e.normalMap&&utils.material.updateDistortionMap(\\\"normal\\\",this,e),e.displacementMap&&utils.material.updateDistortionMap(\\\"displacement\\\",this,e),e.ambientOcclusionMap&&utils.material.updateDistortionMap(\\\"ambientOcclusion\\\",this,e),this.updateEnvMap(e)},updateMaterial:function(e){var a=this.material;e=getMaterialData(e),Object.keys(e).forEach(function(t){a[t]=e[t]})},updateEnvMap:function(e){var a=this,t=this.material,i=e.envMap,n=e.sphericalEnvMap;return!i&&!n||this.isLoadingEnvMap?(t.envMap=null,void(t.needsUpdate=!0)):(this.isLoadingEnvMap=!0,n?void this.el.sceneEl.systems.material.loadTexture(n,{src:n},function(e){a.isLoadingEnvMap=!1,e.mapping=THREE.SphericalReflectionMapping,t.envMap=e,utils.material.handleTextureEvents(a.el,e),t.needsUpdate=!0}):texturePromises[i]?void texturePromises[i].then(function(e){a.isLoadingEnvMap=!1,t.envMap=e,utils.material.handleTextureEvents(a.el,e),t.needsUpdate=!0}):void(texturePromises[i]=new Promise(function(e){utils.srcLoader.validateCubemapSrc(i,function(i){CubeLoader.load(i,function(i){a.isLoadingEnvMap=!1,t.envMap=i,utils.material.handleTextureEvents(a.el,i),e(i)})})})))}});\\n},{\\\"../core/shader\\\":71,\\\"../lib/three\\\":106,\\\"../utils/\\\":124}],110:[function(_dereq_,module,exports){\\nvar css = \\\".a-html{bottom:0;left:0;position:fixed;right:0;top:0}.a-body{height:100%;margin:0;overflow:hidden;padding:0;width:100%}:-webkit-full-screen{background-color:transparent}.a-hidden{display:none!important}.a-canvas{height:100%;left:0;position:absolute;top:0;width:100%}.a-canvas.a-grab-cursor:hover{cursor:grab;cursor:-moz-grabbing;cursor:-webkit-grab}.a-canvas.a-grab-cursor:active,.a-grabbing{cursor:grabbing;cursor:-moz-grabbing;cursor:-webkit-grabbing}// Class is removed when doing <a-scene embedded>. .a-canvas.fullscreen{width:100%!important;height:100%!important;top:0!important;left:0!important;right:0!important;bottom:0!important;z-index:999999!important;position:fixed!important}.a-inspector-loader{background-color:#ed3160;position:fixed;left:3px;top:3px;padding:6px 10px;color:#fff;text-decoration:none;font-size:12px;font-family:Roboto,sans-serif;text-align:center;z-index:99999;width:174px}@keyframes dots-1{from{opacity:0}25%{opacity:1}}@keyframes dots-2{from{opacity:0}50%{opacity:1}}@keyframes dots-3{from{opacity:0}75%{opacity:1}}@-webkit-keyframes dots-1{from{opacity:0}25%{opacity:1}}@-webkit-keyframes dots-2{from{opacity:0}50%{opacity:1}}@-webkit-keyframes dots-3{from{opacity:0}75%{opacity:1}}.a-inspector-loader .dots span{animation:dots-1 2s infinite steps(1);-webkit-animation:dots-1 2s infinite steps(1)}.a-inspector-loader .dots span:first-child+span{animation-name:dots-2;-webkit-animation-name:dots-2}.a-inspector-loader .dots span:first-child+span+span{animation-name:dots-3;-webkit-animation-name:dots-3}a-scene{display:block;position:relative;height:100%;width:100%}a-assets,a-scene audio,a-scene img,a-scene video{display:none}.a-enter-vr-modal,.a-orientation-modal{font-family:Consolas,Andale Mono,Courier New,monospace}.a-enter-vr-modal a{border-bottom:1px solid #fff;padding:2px 0;text-decoration:none;transition:.1s color ease-in}.a-enter-vr-modal a:hover{background-color:#fff;color:#111;padding:2px 4px;position:relative;left:-4px}.a-enter-vr{font-family:sans-serif,monospace;font-size:13px;width:100%;font-weight:200;line-height:16px;height:10%;position:absolute;right:20px;bottom:20px}.a-enter-vr.embedded{right:5px;bottom:5px}.a-enter-vr-button,.a-enter-vr-modal,.a-enter-vr-modal a{color:#fff}.a-enter-vr-button{background:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20245.82%20141.73%22%3E%3Cdefs%3E%3Cstyle%3E.a%7Bfill%3A%23fff%3Bfill-rule%3Aevenodd%3B%7D%3C%2Fstyle%3E%3C%2Fdefs%3E%3Ctitle%3Emask%3C%2Ftitle%3E%3Cpath%20class%3D%22a%22%20d%3D%22M175.56%2C111.37c-22.52%2C0-40.77-18.84-40.77-42.07S153%2C27.24%2C175.56%2C27.24s40.77%2C18.84%2C40.77%2C42.07S198.08%2C111.37%2C175.56%2C111.37ZM26.84%2C69.31c0-23.23%2C18.25-42.07%2C40.77-42.07s40.77%2C18.84%2C40.77%2C42.07-18.26%2C42.07-40.77%2C42.07S26.84%2C92.54%2C26.84%2C69.31ZM27.27%2C0C11.54%2C0%2C0%2C12.34%2C0%2C28.58V110.9c0%2C16.24%2C11.54%2C30.83%2C27.27%2C30.83H99.57c2.17%2C0%2C4.19-1.83%2C5.4-3.7L116.47%2C118a8%2C8%2C0%2C0%2C1%2C12.52-.18l11.51%2C20.34c1.2%2C1.86%2C3.22%2C3.61%2C5.39%2C3.61h72.29c15.74%2C0%2C27.63-14.6%2C27.63-30.83V28.58C245.82%2C12.34%2C233.93%2C0%2C218.19%2C0H27.27Z%22%2F%3E%3C%2Fsvg%3E) 50% 50%/70% 70% no-repeat rgba(0,0,0,.35);border:0;bottom:0;cursor:pointer;min-width:50px;min-height:30px;padding-right:5%;padding-top:4%;position:absolute;right:0;transition:background-color .05s ease;-webkit-transition:background-color .05s ease;z-index:9999}.a-enter-vr-button:active,.a-enter-vr-button:hover{background-color:#666}[data-a-enter-vr-no-webvr] .a-enter-vr-button{border-color:#666;opacity:.65}[data-a-enter-vr-no-webvr] .a-enter-vr-button:active,[data-a-enter-vr-no-webvr] .a-enter-vr-button:hover{background-color:rgba(0,0,0,.35);cursor:not-allowed}.a-enter-vr-modal{background-color:#666;border-radius:0;display:none;min-height:32px;margin-right:70px;padding:9px;width:280px;right:2%;position:absolute}.a-enter-vr-modal:after{border-bottom:10px solid transparent;border-left:10px solid #666;border-top:10px solid transparent;display:inline-block;content:'';position:absolute;right:-5px;top:5px;width:0;height:0}.a-enter-vr-modal a,.a-enter-vr-modal p{display:inline}.a-enter-vr-modal p{margin:0}.a-enter-vr-modal p:after{content:' '}[data-a-enter-vr-no-headset].a-enter-vr:hover .a-enter-vr-modal,[data-a-enter-vr-no-webvr].a-enter-vr:hover .a-enter-vr-modal{display:block}.a-orientation-modal{background:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2090%2090%22%20enable-background%3D%22new%200%200%2090%2090%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpolygon%20points%3D%220%2C0%200%2C0%200%2C0%20%22%3E%3C/polygon%3E%3Cg%3E%3Cpath%20d%3D%22M71.545%2C48.145h-31.98V20.743c0-2.627-2.138-4.765-4.765-4.765H18.456c-2.628%2C0-4.767%2C2.138-4.767%2C4.765v42.789%20%20%20c0%2C2.628%2C2.138%2C4.766%2C4.767%2C4.766h5.535v0.959c0%2C2.628%2C2.138%2C4.765%2C4.766%2C4.765h42.788c2.628%2C0%2C4.766-2.137%2C4.766-4.765V52.914%20%20%20C76.311%2C50.284%2C74.173%2C48.145%2C71.545%2C48.145z%20M18.455%2C16.935h16.344c2.1%2C0%2C3.808%2C1.708%2C3.808%2C3.808v27.401H37.25V22.636%20%20%20c0-0.264-0.215-0.478-0.479-0.478H16.482c-0.264%2C0-0.479%2C0.214-0.479%2C0.478v36.585c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h7.507v7.644%20%20%20h-5.534c-2.101%2C0-3.81-1.709-3.81-3.81V20.743C14.645%2C18.643%2C16.354%2C16.935%2C18.455%2C16.935z%20M16.96%2C23.116h19.331v25.031h-7.535%20%20%20c-2.628%2C0-4.766%2C2.139-4.766%2C4.768v5.828h-7.03V23.116z%20M71.545%2C73.064H28.757c-2.101%2C0-3.81-1.708-3.81-3.808V52.914%20%20%20c0-2.102%2C1.709-3.812%2C3.81-3.812h42.788c2.1%2C0%2C3.809%2C1.71%2C3.809%2C3.812v16.343C75.354%2C71.356%2C73.645%2C73.064%2C71.545%2C73.064z%22%3E%3C/path%3E%3Cpath%20d%3D%22M28.919%2C58.424c-1.466%2C0-2.659%2C1.193-2.659%2C2.66c0%2C1.466%2C1.193%2C2.658%2C2.659%2C2.658c1.468%2C0%2C2.662-1.192%2C2.662-2.658%20%20%20C31.581%2C59.617%2C30.387%2C58.424%2C28.919%2C58.424z%20M28.919%2C62.786c-0.939%2C0-1.703-0.764-1.703-1.702c0-0.939%2C0.764-1.704%2C1.703-1.704%20%20%20c0.94%2C0%2C1.705%2C0.765%2C1.705%2C1.704C30.623%2C62.022%2C29.858%2C62.786%2C28.919%2C62.786z%22%3E%3C/path%3E%3Cpath%20d%3D%22M69.654%2C50.461H33.069c-0.264%2C0-0.479%2C0.215-0.479%2C0.479v20.288c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h36.585%20%20%20c0.263%2C0%2C0.477-0.214%2C0.477-0.478V50.939C70.131%2C50.676%2C69.917%2C50.461%2C69.654%2C50.461z%20M69.174%2C51.417V70.75H33.548V51.417H69.174z%22%3E%3C/path%3E%3Cpath%20d%3D%22M45.201%2C30.296c6.651%2C0%2C12.233%2C5.351%2C12.551%2C11.977l-3.033-2.638c-0.193-0.165-0.507-0.142-0.675%2C0.048%20%20%20c-0.174%2C0.198-0.153%2C0.501%2C0.045%2C0.676l3.883%2C3.375c0.09%2C0.075%2C0.198%2C0.115%2C0.312%2C0.115c0.141%2C0%2C0.273-0.061%2C0.362-0.166%20%20%20l3.371-3.877c0.173-0.2%2C0.151-0.502-0.047-0.675c-0.194-0.166-0.508-0.144-0.676%2C0.048l-2.592%2C2.979%20%20%20c-0.18-3.417-1.629-6.605-4.099-9.001c-2.538-2.461-5.877-3.817-9.404-3.817c-0.264%2C0-0.479%2C0.215-0.479%2C0.479%20%20%20C44.72%2C30.083%2C44.936%2C30.296%2C45.201%2C30.296z%22%3E%3C/path%3E%3C/g%3E%3C/svg%3E) center/50% 50% no-repeat rgba(244,244,244,1);bottom:0;font-size:14px;font-weight:600;left:0;line-height:20px;right:0;position:fixed;top:0;z-index:9999999}.a-orientation-modal:after{color:#666;content:\\\\\\\"Insert phone into Cardboard holder.\\\\\\\";display:block;position:absolute;text-align:center;top:70%;transform:translateY(-70%);width:100%}.a-orientation-modal button{background:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%20100%20100%22%20enable-background%3D%22new%200%200%20100%20100%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23000000%22%20d%3D%22M55.209%2C50l17.803-17.803c1.416-1.416%2C1.416-3.713%2C0-5.129c-1.416-1.417-3.713-1.417-5.129%2C0L50.08%2C44.872%20%20L32.278%2C27.069c-1.416-1.417-3.714-1.417-5.129%2C0c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129L44.951%2C50L27.149%2C67.803%20%20c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129c0.708%2C0.708%2C1.636%2C1.062%2C2.564%2C1.062c0.928%2C0%2C1.856-0.354%2C2.564-1.062L50.08%2C55.13l17.803%2C17.802%20%20c0.708%2C0.708%2C1.637%2C1.062%2C2.564%2C1.062s1.856-0.354%2C2.564-1.062c1.416-1.416%2C1.416-3.713%2C0-5.129L55.209%2C50z%22%3E%3C/path%3E%3C/svg%3E) no-repeat;border:none;height:50px;text-indent:-9999px;width:50px}\\\"; (_dereq_(\\\"browserify-css\\\").createStyle(css, { \\\"href\\\": \\\"src/style/aframe.css\\\"})); module.exports = css;\\n},{\\\"browserify-css\\\":1}],111:[function(_dereq_,module,exports){\\nvar css = \\\".rs-base{background-color:#333;border-radius:0;font:10px monospace;left:5px;line-height:1em;opacity:.85;overflow:hidden;padding:10px;position:fixed;top:5px;width:300px;z-index:10000}.rs-base div.hidden{display:none}.rs-base h1{color:#fff;cursor:pointer;font-size:1.4em;font-weight:300;margin:0 0 5px;padding:0}.rs-group{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-direction:column-reverse;flex-direction:column-reverse;margin-bottom:5px}.rs-group:last-child{margin-bottom:0}.rs-counter-base{align-items:center;display:-webkit-box;display:-webkit-flex;display:flex;height:10px;-webkit-justify-content:space-between;justify-content:space-between;margin:2px 0}.rs-counter-base.alarm{color:#b70000;text-shadow:0 0 0 #b70000,0 0 1px #fff,0 0 1px #fff,0 0 2px #fff,0 0 2px #fff,0 0 3px #fff,0 0 3px #fff,0 0 4px #fff,0 0 4px #fff}.rs-counter-id{font-weight:300;-webkit-box-ordinal-group:0;-webkit-order:0;order:0;width:54px}.rs-counter-value{font-weight:300;-webkit-box-ordinal-group:1;-webkit-order:1;order:1;text-align:right;width:35px}.rs-canvas{-webkit-box-ordinal-group:2;-webkit-order:2;order:2}@media (min-width:480px){.rs-base{left:20px;top:20px}}\\\"; (_dereq_(\\\"browserify-css\\\").createStyle(css, { \\\"href\\\": \\\"src/style/rStats.css\\\"})); module.exports = css;\\n},{\\\"browserify-css\\\":1}],112:[function(_dereq_,module,exports){\\nfunction removeDefaultCamera(e){var t,a=e.camera;a&&(t=e.querySelector(\\\"[\\\"+DEFAULT_CAMERA_ATTR+\\\"]\\\"),t&&e.removeChild(t))}var bind=_dereq_(\\\"../utils/bind\\\"),constants=_dereq_(\\\"../constants/\\\"),registerSystem=_dereq_(\\\"../core/system\\\").registerSystem,DEFAULT_CAMERA_ATTR=\\\"data-aframe-default-camera\\\";module.exports.System=registerSystem(\\\"camera\\\",{init:function(){this.activeCameraEl=null,this.sceneEl.addEventListener(\\\"loaded\\\",bind(this.setupDefaultCamera,this))},setupDefaultCamera:function(){var e,t=this.sceneEl;return t.camera?void t.emit(\\\"camera-ready\\\",{cameraEl:t.camera.el}):(e=document.createElement(\\\"a-entity\\\"),e.setAttribute(\\\"position\\\",\\\"0 0 0\\\"),e.setAttribute(DEFAULT_CAMERA_ATTR,\\\"\\\"),e.setAttribute(\\\"camera\\\",{active:!0,userHeight:constants.DEFAULT_CAMERA_HEIGHT}),e.setAttribute(\\\"wasd-controls\\\",\\\"\\\"),e.setAttribute(\\\"look-controls\\\",\\\"\\\"),e.setAttribute(constants.AFRAME_INJECTED,\\\"\\\"),t.appendChild(e),t.addEventListener(\\\"enter-vr\\\",this.removeDefaultOffset),t.addEventListener(\\\"exit-vr\\\",this.addDefaultOffset),void t.emit(\\\"camera-ready\\\",{cameraEl:e}))},disableActiveCamera:function(){var e=this.sceneEl.querySelectorAll(\\\"[camera]\\\"),t=e[e.length-1];t.setAttribute(\\\"camera\\\",\\\"active\\\",!0)},setActiveCamera:function(e){var t,a,r,i,s=this.activeCameraEl,c=this.sceneEl;if(i=e.getObject3D(\\\"camera\\\"),i&&e!==this.activeCameraEl){var m=c.querySelector(\\\"[\\\"+DEFAULT_CAMERA_ATTR+\\\"]\\\"),l=m&&m.querySelector(\\\"[camera]\\\");for(e!==l&&removeDefaultCamera(c),this.activeCameraEl=e,this.activeCameraEl.play(),c.camera=i,s&&s.setAttribute(\\\"camera\\\",\\\"active\\\",!1),a=c.querySelectorAll(\\\"[camera]\\\"),r=0;r<a.length;r++)t=a[r],e!==t&&(t.setAttribute(\\\"camera\\\",\\\"active\\\",!1),t.pause());c.emit(\\\"camera-set-active\\\",{cameraEl:e})}}});\\n},{\\\"../constants/\\\":54,\\\"../core/system\\\":72,\\\"../utils/bind\\\":118}],113:[function(_dereq_,module,exports){\\nfunction createGeometry(e){var t=e.primitive,r=geometries[t]&&geometries[t].Geometry,o=new r;if(!r)throw new Error(\\\"Unknown geometry `\\\"+t+\\\"`\\\");return o.init(e),toBufferGeometry(o.geometry,e.buffer)}function decrementCacheCount(e,t){e[t]--}function incrementCacheCount(e,t){e[t]=void 0===e[t]?1:e[t]+1}function toBufferGeometry(e,t){var r;return t?(r=(new THREE.BufferGeometry).fromGeometry(e),r.metadata={type:e.type,parameters:e.parameters||{}},e.dispose(),r):e}var geometries=_dereq_(\\\"../core/geometry\\\").geometries,registerSystem=_dereq_(\\\"../core/system\\\").registerSystem,THREE=_dereq_(\\\"../lib/three\\\");module.exports.System=registerSystem(\\\"geometry\\\",{init:function(){this.cache={},this.cacheCount={}},clearCache:function(){this.cache={},this.cacheCount={}},getOrCreateGeometry:function(e){var t,r,o=this.cache;return e.skipCache?createGeometry(e):(r=this.hash(e),t=o[r],incrementCacheCount(this.cacheCount,r),t?t:(t=createGeometry(e),o[r]=t,t))},unuseGeometry:function(e){var t,r,o=this.cache,i=this.cacheCount;e.skipCache||(r=this.hash(e),o[r]&&(decrementCacheCount(i,r),i[r]>0||(t=o[r],t.dispose(),delete o[r],delete i[r])))},hash:function(e){return JSON.stringify(e)}});\\n},{\\\"../core/geometry\\\":64,\\\"../core/system\\\":72,\\\"../lib/three\\\":106}],114:[function(_dereq_,module,exports){\\n_dereq_(\\\"./camera\\\"),_dereq_(\\\"./geometry\\\"),_dereq_(\\\"./light\\\"),_dereq_(\\\"./material\\\"),_dereq_(\\\"./tracked-controls\\\");\\n},{\\\"./camera\\\":112,\\\"./geometry\\\":113,\\\"./light\\\":115,\\\"./material\\\":116,\\\"./tracked-controls\\\":117}],115:[function(_dereq_,module,exports){\\nvar registerSystem=_dereq_(\\\"../core/system\\\").registerSystem,bind=_dereq_(\\\"../utils/bind\\\"),constants=_dereq_(\\\"../constants/\\\"),DEFAULT_LIGHT_ATTR=\\\"data-aframe-default-light\\\";module.exports.System=registerSystem(\\\"light\\\",{init:function(){this.defaultLights=!1,this.userDefinedLights=!1,this.sceneEl.addEventListener(\\\"loaded\\\",bind(this.setupDefaultLights,this))},registerLight:function(t){t.hasAttribute(DEFAULT_LIGHT_ATTR)||(this.removeDefaultLights(),this.userDefinedLights=!0)},removeDefaultLights:function(){var t,e=this.sceneEl;if(this.defaultLights){t=document.querySelectorAll(\\\"[\\\"+DEFAULT_LIGHT_ATTR+\\\"]\\\");for(var i=0;i<t.length;i++)e.removeChild(t[i]);this.defaultLights=!1}},setupDefaultLights:function(){var t,e,i=this.sceneEl;this.userDefinedLights||this.defaultLights||(t=document.createElement(\\\"a-entity\\\"),e=document.createElement(\\\"a-entity\\\"),t.setAttribute(\\\"light\\\",{color:\\\"#BBB\\\",type:\\\"ambient\\\"}),t.setAttribute(DEFAULT_LIGHT_ATTR,\\\"\\\"),t.setAttribute(constants.AFRAME_INJECTED,\\\"\\\"),i.appendChild(t),e.setAttribute(\\\"light\\\",{color:\\\"#FFF\\\",intensity:.6}),e.setAttribute(\\\"position\\\",{x:-.5,y:1,z:1}),e.setAttribute(DEFAULT_LIGHT_ATTR,\\\"\\\"),e.setAttribute(constants.AFRAME_INJECTED,\\\"\\\"),i.appendChild(e),this.defaultLights=!0)}});\\n},{\\\"../constants/\\\":54,\\\"../core/system\\\":72,\\\"../utils/bind\\\":118}],116:[function(_dereq_,module,exports){\\nfunction calculateVideoCacheHash(e,t){var r,i,o,a=t.getAttribute(\\\"id\\\");if(a)return a;for(i=\\\"\\\",o=e||{},r=0;r<t.attributes.length;r++)o[t.attributes[r].name]=t.attributes[r].value;return Object.keys(o).sort().forEach(function(e){i+=e+\\\":\\\"+o[e]+\\\";\\\"}),i}function loadImageTexture(e,t){function r(r,i){function o(e){setTextureProperties(e,t),e.needsUpdate=!0,r(e)}var a=\\\"string\\\"!=typeof e;return a?void o(new THREE.Texture(e)):void TextureLoader.load(e,o,function(){},function(e){error(\\\"`$s` could not be fetched (Error code: %s; Response: %s)\\\",e.status,e.statusText)})}return new Promise(r)}function setTextureProperties(e,t){var r=t.offset||{x:0,y:0},i=t.repeat||{x:1,y:1};1===i.x&&1===i.y||(e.wrapS=THREE.RepeatWrapping,e.wrapT=THREE.RepeatWrapping,e.repeat.set(i.x,i.y),0===r.x&&0===r.y||e.offset.set(r.x,r.y))}function createVideoEl(e,t,r){var i=document.createElement(\\\"video\\\");return i.width=t,i.height=r,i.setAttribute(\\\"webkit-playsinline\\\",\\\"\\\"),i.autoplay=!0,i.loop=!0,i.crossOrigin=\\\"anonymous\\\",i.addEventListener(\\\"error\\\",function(){warn(\\\"`$s` is not a valid video\\\",e)},!0),i.src=e,i}function fixVideoAttributes(e){return e.autoplay=\\\"false\\\"!==e.getAttribute(\\\"autoplay\\\"),e.controls=\\\"false\\\"!==e.getAttribute(\\\"controls\\\"),\\\"false\\\"===e.getAttribute(\\\"loop\\\")&&e.removeAttribute(\\\"loop\\\"),\\\"false\\\"===e.getAttribute(\\\"preload\\\")&&(e.preload=\\\"none\\\"),e.crossOrigin=e.crossOrigin||\\\"anonymous\\\",e.setAttribute(\\\"webkit-playsinline\\\",\\\"\\\"),e}var registerSystem=_dereq_(\\\"../core/system\\\").registerSystem,THREE=_dereq_(\\\"../lib/three\\\"),utils=_dereq_(\\\"../utils/\\\"),debug=utils.debug,error=debug(\\\"components:texture:error\\\"),TextureLoader=new THREE.TextureLoader,warn=debug(\\\"components:texture:warn\\\");module.exports.System=registerSystem(\\\"material\\\",{init:function(){this.materials={},this.textureCache={}},clearTextureCache:function(){this.textureCache={}},loadTexture:function(e,t,r){function i(e){a.loadImage(e,t,r)}function o(e){a.loadVideo(e,t,r)}var a=this;return\\\"CANVAS\\\"===e.tagName?void this.loadCanvas(e,t,r):\\\"VIDEO\\\"===e.tagName?(e.hasAttribute(\\\"src\\\")||e.hasAttribute(\\\"srcObject\\\")||warn(\\\"Video element was defined without `src` nor `srcObject` attributes.\\\"),void this.loadVideo(e,t,r)):void utils.srcLoader.validateSrc(e,i,o)},loadImage:function(e,t,r){var i=this.hash(t),o=r,a=this.textureCache;return a[i]?void a[i].then(o):(a[i]=loadImageTexture(e,t),void a[i].then(o))},loadCanvas:function(e,t,r){e.readyState=2,e.HAVE_CURRENT_DATA=2,this.loadVideo(e,t,r)},loadVideo:function(e,t,r){function i(e){e.texture.needsUpdate=!0,r(e.texture,e.videoEl)}var o,a,n,s,u=this.textureCache;if(\\\"string\\\"!=typeof e){if(n=e,o=this.hashVideo(t,n),u[o])return void u[o].then(i);fixVideoAttributes(n)}return n=n||createVideoEl(e,t.width,t.height),o=this.hashVideo(t,n),u[o]?void u[o].then(i):(a=new THREE.VideoTexture(n),a.minFilter=THREE.LinearFilter,setTextureProperties(a,t),s={texture:a,videoEl:n},u[o]=Promise.resolve(s),void i(s))},hash:function(e){return JSON.stringify(e)},hashVideo:function(e,t){return calculateVideoCacheHash(e,t)},registerMaterial:function(e){this.materials[e.uuid]=e},unregisterMaterial:function(e){delete this.materials[e.uuid]},updateMaterials:function(e){var t=this.materials;Object.keys(t).forEach(function(e){t[e].needsUpdate=!0})}});\\n},{\\\"../core/system\\\":72,\\\"../lib/three\\\":106,\\\"../utils/\\\":124}],117:[function(_dereq_,module,exports){\\nvar registerSystem=_dereq_(\\\"../core/system\\\").registerSystem,trackedControlsUtils=_dereq_(\\\"../utils/tracked-controls\\\");module.exports.System=registerSystem(\\\"tracked-controls\\\",{init:function(){var t=this;this.controllers=[],this.lastControllersUpdate=0,navigator.getVRDisplays&&navigator.getVRDisplays().then(function(e){e.length>0&&(t.vrDisplay=e[0])})},updateControllerList:function(){for(var t=this.controllers=[],e=trackedControlsUtils.getGamepadsByPrefix(\\\"\\\"),r=0;r<e.length;r++){var s=e[r];s&&s.pose&&t.push(s)}},tick:function(t){t<this.lastControllersUpdate+10||(this.lastControllersUpdate=t,this.updateControllerList(),this.sceneEl.emit(\\\"controllersupdated\\\",{timestamp:t,controllers:this.controllers}))}});\\n},{\\\"../core/system\\\":72,\\\"../utils/tracked-controls\\\":128}],118:[function(_dereq_,module,exports){\\nmodule.exports=function(r,t){return function(n){return function(){var o=n.concat(Array.prototype.slice.call(arguments,0));return r.apply(t,o)}}(Array.prototype.slice.call(arguments,2))};\\n},{}],119:[function(_dereq_,module,exports){\\nfunction parse(e,t){var r,o={};return e&&\\\"object\\\"==typeof e?vecParseFloat(e):\\\"string\\\"!=typeof e||null===e?\\\"object\\\"==typeof t?extend({},t):t:(r=e.trim().replace(/\\\\s+/g,\\\" \\\").split(\\\" \\\"),o.x=r[0]||t&&t.x,o.y=r[1]||t&&t.y,o.z=r[2]||t&&t.z,o.w=r[3]||t&&t.w,vecParseFloat(o))}function stringify(e){return\\\"object\\\"!=typeof e?e:[e.x,e.y,e.z,e.w].join(\\\" \\\").trim()}function vecParseFloat(e){return Object.keys(e).forEach(function(t){return void 0===e[t]?void delete e[t]:void(e[t]=parseFloat(e[t],10))}),e}var extend=_dereq_(\\\"object-assign\\\"),regex=/\\\\s*(-?\\\\d*\\\\.{0,1}\\\\d+)\\\\s+(-?\\\\d*\\\\.{0,1}\\\\d+)\\\\s+(-?\\\\d*\\\\.{0,1}\\\\d+)\\\\s*/;module.exports.regex=regex,module.exports.parse=parse,module.exports.stringify=stringify,module.exports.isCoordinate=function(e){return regex.test(e)},module.exports.toVector3=function(e){return new THREE.Vector3(e.x,e.y,e.z)};\\n},{\\\"object-assign\\\":9}],120:[function(_dereq_,module,exports){\\n(function (process){\\nfunction getDebugNamespaceType(e){var r=e.split(\\\":\\\");return r[r.length-1]}function getDebugNamespaceColor(e){var r=getDebugNamespaceType(e),o=settings.colors&&settings.colors[r];return o||null}function storage(){try{return window.localStorage}catch(e){}}var debugLib=_dereq_(\\\"debug\\\"),extend=_dereq_(\\\"object-assign\\\"),settings={colors:{debug:\\\"gray\\\",error:\\\"red\\\",info:\\\"gray\\\",warn:\\\"orange\\\"}},debug=function(e){var r=debugLib(e);return r.color=getDebugNamespaceColor(e),r};extend(debug,debugLib);var ls=storage();ls&&(parseInt(ls.logs,10)||\\\"true\\\"===ls.logs)?debug.enable(\\\"*\\\"):debug.enable(\\\"*:error,*:info,*:warn\\\"),process.browser&&(window.logs=debug),module.exports=debug;\\n}).call(this,_dereq_('_process'))\\n\\n},{\\\"_process\\\":2,\\\"debug\\\":3,\\\"object-assign\\\":9}],121:[function(_dereq_,module,exports){\\nfunction checkHeadsetConnected(){var e;return controls.update(),e=dolly.quaternion,0!==e._x||0!==e._y||0!==e._z}function checkHasPositionalTracking(){var e=new THREE.Vector3;return function(){return!isMobile()&&!isGearVR()&&(controls.update(),dolly.updateMatrix(),e.setFromMatrixPosition(dolly.matrix),0!==e.x||0!==e.y||0!==e.z)}()}function isIOS(){return/iPad|iPhone|iPod/.test(navigator.platform)}function isGearVR(){return/SamsungBrowser.+Mobile VR/i.test(navigator.userAgent)}var THREE=_dereq_(\\\"../lib/three\\\"),dolly=new THREE.Object3D,controls=new THREE.VRControls(dolly);module.exports.checkHeadsetConnected=checkHeadsetConnected,module.exports.checkHasPositionalTracking=checkHasPositionalTracking;var isMobile=function(){var e=!1;return function(o){(/(android|bb\\\\d+|meego).+mobile|avantgo|bada\\\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(o)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\\\-(n|u)|c55\\\\/|capi|ccwa|cdm\\\\-|cell|chtm|cldc|cmd\\\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\\\-|_)|g1 u|g560|gene|gf\\\\-5|g\\\\-mo|go(\\\\.w|od)|gr(ad|un)|haie|hcit|hd\\\\-(m|p|t)|hei\\\\-|hi(pt|ta)|hp( i|ip)|hs\\\\-c|ht(c(\\\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\\\-(20|go|ma)|i230|iac( |\\\\-|\\\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\\\/)|klon|kpt |kwc\\\\-|kyo(c|k)|le(no|xi)|lg( g|\\\\/(k|l|u)|50|54|\\\\-[a-w])|libw|lynx|m1\\\\-w|m3ga|m50\\\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\\\-2|po(ck|rt|se)|prox|psio|pt\\\\-g|qa\\\\-a|qc(07|12|21|32|60|\\\\-[2-7]|i\\\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\\\-|oo|p\\\\-)|sdk\\\\/|se(c(\\\\-|0|1)|47|mc|nd|ri)|sgh\\\\-|shar|sie(\\\\-|m)|sk\\\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\\\-|v\\\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\\\-|tdg\\\\-|tel(i|m)|tim\\\\-|t\\\\-mo|to(pl|sh)|ts(70|m\\\\-|m3|m5)|tx\\\\-9|up(\\\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\\\-|your|zeto|zte\\\\-/i.test(o.substr(0,4)))&&(e=!0),isIOS()&&(e=!0),isGearVR()&&(e=!1)}(navigator.userAgent||navigator.vendor||window.opera),function(){return e}}();module.exports.isMobile=isMobile,module.exports.isIOS=isIOS,module.exports.isGearVR=isGearVR,module.exports.isLandscape=function(){return 90===window.orientation||window.orientation===-90};\\n},{\\\"../lib/three\\\":106}],122:[function(_dereq_,module,exports){\\nmodule.exports.getComponentPropertyPath=function(t,e){return e=e||\\\".\\\",t.indexOf(e)===-1?t:t.split(e)},module.exports.getComponentProperty=function(t,e,r){var o;return r=r||\\\".\\\",e.indexOf(r)!==-1?(o=e.split(r),t.getAttribute(o[0])[o[1]]):t.getAttribute(e)},module.exports.setComponentProperty=function(t,e,r,o){var n;return o=o||\\\".\\\",e.indexOf(o)!==-1?(n=e.split(o),void t.setAttribute(n[0],n[1],r)):void t.setAttribute(e,r)};\\n},{}],123:[function(_dereq_,module,exports){\\nmodule.exports=function(t){var e=t.style.width,s=t.style.height;t.style.width=parseInt(e,10)+1+\\\"px\\\",t.style.height=parseInt(s,10)+1+\\\"px\\\",setTimeout(function(){t.style.width=e,t.style.height=s},200)};\\n},{}],124:[function(_dereq_,module,exports){\\nfunction deepEqual(e,t){var r,o=Object.keys(e),n=Object.keys(t);if(o.length!==n.length)return!1;if(0===o.length)return e===t;for(r=0;r<o.length;++r)if(e[o[r]]!==t[o[r]])return!1;return!0}var debug=_dereq_(\\\"./debug\\\"),deepAssign=_dereq_(\\\"deep-assign\\\"),device=_dereq_(\\\"./device\\\"),objectAssign=_dereq_(\\\"object-assign\\\"),warn=debug(\\\"utils:warn\\\");module.exports.bind=_dereq_(\\\"./bind\\\"),module.exports.coordinates=_dereq_(\\\"./coordinates\\\"),module.exports.debug=debug,module.exports.device=device,module.exports.entity=_dereq_(\\\"./entity\\\"),module.exports.forceCanvasResizeSafariMobile=_dereq_(\\\"./forceCanvasResizeSafariMobile\\\"),module.exports.material=_dereq_(\\\"./material\\\"),module.exports.styleParser=_dereq_(\\\"./styleParser\\\"),module.exports.trackedControls=_dereq_(\\\"./tracked-controls\\\"),module.exports.checkHeadsetConnected=function(){return warn(\\\"`utils.checkHeadsetConnected` has moved to `utils.device.checkHeadsetConnected`\\\"),device.checkHeadsetConnected(arguments)},module.exports.isGearVR=function(){return warn(\\\"`utils.isGearVR` has moved to `utils.device.isGearVR`\\\"),device.isGearVR(arguments)},module.exports.isIOS=function(){return warn(\\\"`utils.isIOS` has moved to `utils.device.isIOS`\\\"),device.isIOS(arguments)},module.exports.isMobile=function(){return warn(\\\"`utils.isMobile has moved to `utils.device.isMobile`\\\"),device.isMobile(arguments)},module.exports.fireEvent=function(e,t,r){r=r||{},r.detail=r.detail||{},r.detail.target=r.detail.target||e;var o=new CustomEvent(t,r);e.dispatchEvent(o)},module.exports.extend=objectAssign,module.exports.extendDeep=deepAssign,module.exports.clone=function(e){return JSON.parse(JSON.stringify(e))},module.exports.deepEqual=deepEqual,module.exports.diff=function(e,t){var r={},o=Object.keys(e);return Object.keys(t).forEach(function(e){o.indexOf(e)===-1&&o.push(e)}),o.forEach(function(o){var n=e[o],i=t[o],s=n&&i&&n.constructor===Object&&i.constructor===Object;(s&&!deepEqual(n,i)||!s&&n!==i)&&(r[o]=i)}),r},module.exports.shouldCaptureKeyEvent=function(e){return!e.metaKey&&document.activeElement===document.body},module.exports.splitString=function(e,t){\\\"undefined\\\"==typeof t&&(t=\\\" \\\");var r=new RegExp(t,\\\"g\\\");return e=(e||\\\"\\\").replace(r,t),e.split(t)},module.exports.getElData=function(e,t){function r(t){e.hasAttribute(t)&&(o[t]=e.getAttribute(t))}t=t||{};var o={};return Object.keys(t).forEach(r),o},module.exports.getUrlParameter=function(e){e=e.replace(/[\\\\[]/,\\\"\\\\\\\\[\\\").replace(/[\\\\]]/,\\\"\\\\\\\\]\\\");var t=new RegExp(\\\"[\\\\\\\\?&]\\\"+e+\\\"=([^&#]*)\\\"),r=t.exec(location.search);return null===r?\\\"\\\":decodeURIComponent(r[1].replace(/\\\\+/g,\\\" \\\"))},module.exports.isIframed=function(){return window.top!==window.self},module.exports.findAllScenes=function(e){for(var t=[],r=e.getElementsByTagName(\\\"*\\\"),o=0,n=r.length;o<n;o++)r[o].isScene&&t.push(r[o]);return t},module.exports.srcLoader=_dereq_(\\\"./src-loader\\\");\\n},{\\\"./bind\\\":118,\\\"./coordinates\\\":119,\\\"./debug\\\":120,\\\"./device\\\":121,\\\"./entity\\\":122,\\\"./forceCanvasResizeSafariMobile\\\":123,\\\"./material\\\":125,\\\"./src-loader\\\":126,\\\"./styleParser\\\":127,\\\"./tracked-controls\\\":128,\\\"deep-assign\\\":6,\\\"object-assign\\\":9}],125:[function(_dereq_,module,exports){\\nfunction handleTextureEvents(e,t){t&&(e.emit(\\\"materialtextureloaded\\\",{src:t.image,texture:t}),\\\"VIDEO\\\"===t.image.tagName&&(t.image.addEventListener(\\\"loadeddata\\\",function(){e.emit(\\\"materialvideoloadeddata\\\",{src:t.image,texture:t})}),t.image.addEventListener(\\\"ended\\\",function(){e.emit(\\\"materialvideoended\\\",{src:t.image,texture:t})})))}module.exports.updateMap=function(e,t){function a(e){n.map=e,n.needsUpdate=!0,handleTextureEvents(r,e)}var r=e.el,n=e.material,i=t.src;if(i){if(i===e.textureSrc)return;return e.textureSrc=i,void r.sceneEl.systems.material.loadTexture(i,{src:i,repeat:t.repeat,offset:t.offset},a)}n.map&&a(null)},module.exports.updateDistortionMap=function(e,t,a){function r(e){u[n+\\\"Map\\\"]=e,u.needsUpdate=!0,handleTextureEvents(i,e)}var n=e;\\\"ambientOcclusion\\\"===e&&(n=\\\"ao\\\");var i=t.el,u=t.material,d=a[e+\\\"Map\\\"],s={};if(s.src=d,s.offset=a[e+\\\"TextureOffset\\\"],s.repeat=a[e+\\\"TextureRepeat\\\"],s.wrap=a[e+\\\"TextureWrap\\\"],d){if(d===t[e+\\\"TextureSrc\\\"])return;return t[e+\\\"TextureSrc\\\"]=d,void i.sceneEl.systems.material.loadTexture(d,s,r)}u.map&&r(null)},module.exports.handleTextureEvents=handleTextureEvents;\\n},{}],126:[function(_dereq_,module,exports){\\nfunction validateSrc(e,r,a){validateImageUrl(e,function(t){return t?void r(e):void a(e)})}function validateCubemapSrc(e,r){function a(e){o.push(e),6===o.length&&r(o)}var t,n,i,l=\\\"\\\",o=[];for(n=0;n<5;n++)l+=\\\"(url\\\\\\\\((?:[^\\\\\\\\)]+)\\\\\\\\),\\\\\\\\s*)\\\";if(l+=\\\"(url\\\\\\\\((?:[^\\\\\\\\)]+)\\\\\\\\)\\\\\\\\s*)\\\",i=e.match(new RegExp(l)))for(n=1;n<7;n++)validateSrc(parseUrl(i[n]),a);else if(t=validateAndGetQuerySelector(e))return\\\"A-CUBEMAP\\\"===t.tagName&&t.srcs?r(t.srcs):void warn('Selector \\\"%s\\\" does not point to <a-cubemap>',e)}function parseUrl(e){var r=e.match(/\\\\url\\\\((.+)\\\\)/);if(r)return r[1]}function validateImageUrl(e,r){function a(){r(!0)}function t(){r(!1)}var n=new Image;n.addEventListener(\\\"load\\\",a),n.addEventListener(\\\"error\\\",t),n.src=e}function validateAndGetQuerySelector(e){try{var r=document.querySelector(e);return r||warn('No element was found matching the selector: \\\"%s\\\"',e),r}catch(r){return void warn('\\\"%s\\\" is not a valid selector',e)}}var debug=_dereq_(\\\"./debug\\\"),warn=debug(\\\"utils:src-loader:warn\\\");module.exports={parseUrl:parseUrl,validateSrc:validateSrc,validateCubemapSrc:validateCubemapSrc};\\n},{\\\"./debug\\\":120}],127:[function(_dereq_,module,exports){\\nfunction toCamelCase(e){function r(e){return e[1].toUpperCase()}return e.replace(/-([a-z])/g,r)}function transformKeysToCamelCase(e){var r=Object.keys(e),t={};return r.forEach(function(r){var s=toCamelCase(r);t[s]=e[r]}),t}var styleParser=_dereq_(\\\"style-attr\\\");module.exports.parse=function(e){var r;return\\\"string\\\"!=typeof e?e:(r=styleParser.parse(e),r[\\\"\\\"]?e:transformKeysToCamelCase(r))},module.exports.stringify=function(e){return\\\"string\\\"==typeof e?e:styleParser.stringify(e)},module.exports.toCamelCase=toCamelCase,module.exports.transformKeysToCamelCase=transformKeysToCamelCase;\\n},{\\\"style-attr\\\":12}],128:[function(_dereq_,module,exports){\\nmodule.exports.getGamepadsByPrefix=function(e){var r,n=[],t=navigator.getGamepads&&navigator.getGamepads();if(!t)return n;for(var o=0;o<t.length;++o)r=t[o],r&&(e&&0!==r.id.indexOf(e)||n.push(r));return n},module.exports.isControllerPresent=function(e,r,n){var t,o,a,d=!1,i=0,s=e&&e.systems[\\\"tracked-controls\\\"];if(!s)return d;if(a=s.controllers,a&&0!==a.length||(s.updateControllerList(),a=s.controllers),!a)return d;for(var l=0;l<a.length&&(t=a[l],o=!r||\\\"\\\"===r||0===t.id.indexOf(r),d=o,d&&n.hand&&(d=t.hand===n.hand),d&&n.index&&(d=i===n.index),!d);++l)o&&i++;return d};\\n},{}],129:[function(_dereq_,module,exports){\\nTHREE.VRControls=function(t,s){function n(t){i=t,t.length>0?e=t[0]:s&&s(\\\"VR input not available.\\\")}var e,i,o=this,a=new THREE.Matrix4,r=null;\\\"VRFrameData\\\"in window&&(r=new VRFrameData),navigator.getVRDisplays&&navigator.getVRDisplays().then(n).catch(function(){console.warn(\\\"THREE.VRControls: Unable to get VR Displays\\\")}),this.scale=1,this.standing=!1,this.userHeight=1.6,this.getVRDisplay=function(){return e},this.setVRDisplay=function(t){e=t},this.getVRDisplays=function(){return console.warn(\\\"THREE.VRControls: getVRDisplays() is being deprecated.\\\"),i},this.getStandingMatrix=function(){return a},this.update=function(){if(e){var s;e.getFrameData?(e.getFrameData(r),s=r.pose):e.getPose&&(s=e.getPose()),null!==s.orientation&&t.quaternion.fromArray(s.orientation),null!==s.position?t.position.fromArray(s.position):t.position.set(0,0,0),this.standing&&(e.stageParameters?(t.updateMatrix(),a.fromArray(e.stageParameters.sittingToStandingTransform),t.applyMatrix(a)):t.position.setY(t.position.y+this.userHeight)),t.position.multiplyScalar(o.scale)}},this.resetPose=function(){e&&e.resetPose()},this.resetSensor=function(){console.warn(\\\"THREE.VRControls: .resetSensor() is now .resetPose().\\\"),this.resetPose()},this.zeroSensor=function(){console.warn(\\\"THREE.VRControls: .zeroSensor() is now .resetPose().\\\"),this.resetPose()},this.dispose=function(){e=null}};\\n},{}],130:[function(_dereq_,module,exports){\\nTHREE.VREffect=function(e,t){function i(e){h=e,e.length>0?o=e[0]:t&&t(\\\"HMD not available\\\")}function r(){var t=f.isPresenting;if(f.isPresenting=void 0!==o&&o.isPresenting,f.isPresenting){var i=o.getEyeParameters(\\\"left\\\"),r=i.renderWidth,n=i.renderHeight;t||(p=e.getPixelRatio(),w=e.getSize(),e.setPixelRatio(1),e.setSize(2*r,n,!1))}else t&&(e.setPixelRatio(p),e.setSize(w.width,w.height,m))}function n(e){var t=2/(e.leftTan+e.rightTan),i=(e.leftTan-e.rightTan)*t*.5,r=2/(e.upTan+e.downTan),n=(e.upTan-e.downTan)*r*.5;return{scale:[t,r],offset:[i,n]}}function a(e,t,i,r){t=void 0===t||t,i=void 0===i?.01:i,r=void 0===r?1e4:r;var a=t?-1:1,s=new THREE.Matrix4,o=s.elements,h=n(e);return o[0]=h.scale[0],o[1]=0,o[2]=h.offset[0]*a,o[3]=0,o[4]=0,o[5]=h.scale[1],o[6]=-h.offset[1]*a,o[7]=0,o[8]=0,o[9]=0,o[10]=r/(i-r)*-a,o[11]=r*i/(i-r),o[12]=0,o[13]=0,o[14]=a,o[15]=0,s.transpose(),s}function s(e,t,i,r){var n=Math.PI/180,s={upTan:Math.tan(e.upDegrees*n),downTan:Math.tan(e.downDegrees*n),leftTan:Math.tan(e.leftDegrees*n),rightTan:Math.tan(e.rightDegrees*n)};return a(s,t,i,r)}var o,h,d,l,u=new THREE.Vector3,g=new THREE.Vector3,c=null;\\\"VRFrameData\\\"in window&&(c=new VRFrameData),navigator.getVRDisplays&&navigator.getVRDisplays().then(i).catch(function(){console.warn(\\\"THREE.VREffect: Unable to get VR Displays\\\")}),this.isPresenting=!1,this.scale=1;var f=this,w=e.getSize(),m=!1,p=e.getPixelRatio();this.getVRDisplay=function(){return o},this.setVRDisplay=function(e){o=e},this.getVRDisplays=function(){return console.warn(\\\"THREE.VREffect: getVRDisplays() is being deprecated.\\\"),h},this.setSize=function(t,i,r){if(w={width:t,height:i},m=r,f.isPresenting){var n=o.getEyeParameters(\\\"left\\\");e.setPixelRatio(1),e.setSize(2*n.renderWidth,n.renderHeight,!1)}else e.setPixelRatio(p),e.setSize(t,i,r)};var v=e.domElement,y=[0,0,.5,1],R=[.5,0,.5,1];window.addEventListener(\\\"vrdisplaypresentchange\\\",r,!1),this.setFullScreen=function(e){return new Promise(function(t,i){return void 0===o?void i(new Error(\\\"No VR hardware found.\\\")):f.isPresenting===e?void t():void t(e?o.requestPresent([{source:v}]):o.exitPresent())})},this.requestPresent=function(){return this.setFullScreen(!0)},this.exitPresent=function(){return this.setFullScreen(!1)},this.requestAnimationFrame=function(e){return void 0!==o?o.requestAnimationFrame(e):window.requestAnimationFrame(e)},this.cancelAnimationFrame=function(e){void 0!==o?o.cancelAnimationFrame(e):window.cancelAnimationFrame(e)},this.submitFrame=function(){void 0!==o&&f.isPresenting&&o.submitFrame()},this.autoSubmitFrame=!0;var x=new THREE.PerspectiveCamera;x.layers.enable(1);var E=new THREE.PerspectiveCamera;E.layers.enable(2),this.render=function(t,i,r,n){if(o&&f.isPresenting){var a=t.autoUpdate;a&&(t.updateMatrixWorld(),t.autoUpdate=!1);var h=o.getEyeParameters(\\\"left\\\"),w=o.getEyeParameters(\\\"right\\\");u.fromArray(h.offset),g.fromArray(w.offset),Array.isArray(t)&&(console.warn(\\\"THREE.VREffect.render() no longer supports arrays. Use object.layers instead.\\\"),t=t[0]);var m,p,v=e.getSize(),P=o.getLayers();if(P.length){var T=P[0];m=null!==T.leftBounds&&4===T.leftBounds.length?T.leftBounds:y,p=null!==T.rightBounds&&4===T.rightBounds.length?T.rightBounds:R}else m=y,p=R;d={x:Math.round(v.width*m[0]),y:Math.round(v.height*m[1]),width:Math.round(v.width*m[2]),height:Math.round(v.height*m[3])},l={x:Math.round(v.width*p[0]),y:Math.round(v.height*p[1]),width:Math.round(v.width*p[2]),height:Math.round(v.height*p[3])},r?(e.setRenderTarget(r),r.scissorTest=!0):(e.setRenderTarget(null),e.setScissorTest(!0)),(e.autoClear||n)&&e.clear(),null===i.parent&&i.updateMatrixWorld(),i.matrixWorld.decompose(x.position,x.quaternion,x.scale),i.matrixWorld.decompose(E.position,E.quaternion,E.scale);var M=this.scale;return x.translateOnAxis(u,M),E.translateOnAxis(g,M),o.getFrameData?(o.depthNear=i.near,o.depthFar=i.far,o.getFrameData(c),x.projectionMatrix.elements=c.leftProjectionMatrix,E.projectionMatrix.elements=c.rightProjectionMatrix):(x.projectionMatrix=s(h.fieldOfView,!0,i.near,i.far),E.projectionMatrix=s(w.fieldOfView,!0,i.near,i.far)),r?(r.viewport.set(d.x,d.y,d.width,d.height),r.scissor.set(d.x,d.y,d.width,d.height)):(e.setViewport(d.x,d.y,d.width,d.height),e.setScissor(d.x,d.y,d.width,d.height)),e.render(t,x,r,n),r?(r.viewport.set(l.x,l.y,l.width,l.height),r.scissor.set(l.x,l.y,l.width,l.height)):(e.setViewport(l.x,l.y,l.width,l.height),e.setScissor(l.x,l.y,l.width,l.height)),e.render(t,E,r,n),r?(r.viewport.set(0,0,v.width,v.height),r.scissor.set(0,0,v.width,v.height),r.scissorTest=!1,e.setRenderTarget(null)):(e.setViewport(0,0,v.width,v.height),e.setScissorTest(!1)),a&&(t.autoUpdate=!0),void(f.autoSubmitFrame&&f.submitFrame())}e.render(t,i,r,n)},this.dispose=function(){window.removeEventListener(\\\"vrdisplaypresentchange\\\",r,!1)}};\\n},{}],131:[function(_dereq_,module,exports){\\nwindow.glStats=function(){function e(e,r){return function(){r.apply(this,arguments),e.apply(this,arguments)}}function r(){a(\\\"allcalls\\\").set(s+i),a(\\\"drawElements\\\").set(i),a(\\\"drawArrays\\\").set(s),a(\\\"bindTexture\\\").set(m),a(\\\"useProgram\\\").set(d),a(\\\"glfaces\\\").set(l),a(\\\"glvertices\\\").set(c),a(\\\"glpoints\\\").set(p)}function n(){s=0,i=0,d=0,l=0,c=0,p=0,m=0}function t(){}function o(e){a=e}var a=null,s=0,i=0,d=0,l=0,c=0,p=0,m=0;WebGLRenderingContext.prototype.drawArrays=e(WebGLRenderingContext.prototype.drawArrays,function(){s++,arguments[0]==this.POINTS?p+=arguments[2]:c+=arguments[2]}),WebGLRenderingContext.prototype.drawElements=e(WebGLRenderingContext.prototype.drawElements,function(){i++,l+=arguments[1]/3,c+=arguments[1]}),WebGLRenderingContext.prototype.useProgram=e(WebGLRenderingContext.prototype.useProgram,function(){d++}),WebGLRenderingContext.prototype.bindTexture=e(WebGLRenderingContext.prototype.bindTexture,function(){m++});var f={allcalls:{over:3e3,caption:\\\"Calls (hook)\\\"},drawelements:{caption:\\\"drawElements (hook)\\\"},drawarrays:{caption:\\\"drawArrays (hook)\\\"}},u=[{caption:\\\"WebGL\\\",values:[\\\"allcalls\\\",\\\"drawelements\\\",\\\"drawarrays\\\",\\\"useprogram\\\",\\\"bindtexture\\\",\\\"glfaces\\\",\\\"glvertices\\\",\\\"glpoints\\\"]}],y=[{base:\\\"allcalls\\\",steps:[\\\"drawelements\\\",\\\"drawarrays\\\"]}];return{update:r,start:n,end:t,attach:o,values:f,groups:u,fractions:y}},window.threeStats=function(e){function r(){a(\\\"renderer.info.memory.geometries\\\").set(e.info.memory.geometries),a(\\\"renderer.info.programs\\\").set(e.info.programs.length),a(\\\"renderer.info.memory.textures\\\").set(e.info.memory.textures),a(\\\"renderer.info.render.calls\\\").set(e.info.render.calls),a(\\\"renderer.info.render.faces\\\").set(e.info.render.faces),a(\\\"renderer.info.render.points\\\").set(e.info.render.points),a(\\\"renderer.info.render.vertices\\\").set(e.info.render.vertices)}function n(){}function t(){}function o(e){a=e}var a=null,s={\\\"renderer.info.memory.geometries\\\":{caption:\\\"Geometries\\\"},\\\"renderer.info.memory.textures\\\":{caption:\\\"Textures\\\"},\\\"renderer.info.programs\\\":{caption:\\\"Programs\\\"},\\\"renderer.info.render.calls\\\":{caption:\\\"Calls\\\"},\\\"renderer.info.render.faces\\\":{caption:\\\"Faces\\\",over:1e3},\\\"renderer.info.render.points\\\":{caption:\\\"Points\\\"},\\\"renderer.info.render.vertices\\\":{caption:\\\"Vertices\\\"}},i=[{caption:\\\"Three.js - Memory\\\",values:[\\\"renderer.info.memory.geometries\\\",\\\"renderer.info.programs\\\",\\\"renderer.info.memory.textures\\\"]},{caption:\\\"Three.js - Render\\\",values:[\\\"renderer.info.render.calls\\\",\\\"renderer.info.render.faces\\\",\\\"renderer.info.render.points\\\",\\\"renderer.info.render.vertices\\\"]}],d=[];return{update:r,start:n,end:t,attach:o,values:s,groups:i,fractions:d}},window.BrowserStats=function(){function e(e){var r=100,n=Math.floor(Math.log(e)/p);return Math.round(e*r/Math.pow(1024,n))/r}function r(){s=e(performance.memory.usedJSHeapSize),i=e(performance.memory.totalJSHeapSize),a(\\\"memory\\\").set(s),a(\\\"total\\\").set(i)}function n(){s=0}function t(){}function o(e){a=e}var a=null,s=0,i=0;window.performance&&!performance.memory&&(performance.memory={usedJSHeapSize:0,totalJSHeapSize:0}),0===performance.memory.totalJSHeapSize&&console.warn(\\\"totalJSHeapSize === 0... performance.memory is only available in Chrome .\\\");var d={memory:{caption:\\\"Used Memory\\\",average:!0,avgMs:1e3,over:22},total:{caption:\\\"Total Memory\\\"}},l=[{caption:\\\"Browser\\\",values:[\\\"memory\\\",\\\"total\\\"]}],c=[{base:\\\"total\\\",steps:[\\\"memory\\\"]}],p=Math.log(1024);return{update:r,start:n,end:t,attach:o,values:d,groups:l,fractions:c}},\\\"object\\\"==typeof module&&(module.exports={glStats:window.glStats,threeStats:window.threeStats,BrowserStats:window.BrowserStats});\\n},{}],132:[function(_dereq_,module,exports){\\n\\\"use strict\\\";!function(){if(\\\"undefined\\\"==typeof window.performance&&(window.performance={}),!window.performance.now){var e=Date.now();performance.timing&&performance.timing.navigationStart&&(e=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-e}}window.performance.mark||(window.performance.mark=function(){}),window.performance.measure||(window.performance.measure=function(){})}(),window.rStats=function(e){function t(e,t){for(var n=Object.keys(e),a=0,r=n.length;a<r;a++)t(n[a])}function n(e){var t=document.createElement(\\\"link\\\");t.href=e,t.rel=\\\"stylesheet\\\",t.type=\\\"text/css\\\",document.getElementsByTagName(\\\"head\\\")[0].appendChild(t)}function a(e,t,n){function a(){i.width=v,i.height=g,i.style.width=i.width+\\\"px\\\",i.style.height=i.height+\\\"px\\\",i.className=\\\"rs-canvas\\\",e.appendChild(i),c.fillStyle=\\\"#444444\\\",c.fillRect(0,0,i.width,i.height)}function r(e,t){s+=.1*(e-s),l*=.99,s>l&&(l=s),c.drawImage(i,1,0,i.width-1,i.height,0,0,i.width-1,i.height),t?c.drawImage(p,i.width-1,i.height-s*i.height/l-g):c.drawImage(u,i.width-1,i.height-s*i.height/l-g)}var o=n||{},i=document.createElement(\\\"canvas\\\"),c=i.getContext(\\\"2d\\\"),l=0,s=0,d=o.color?o.color:\\\"#666666\\\",u=document.createElement(\\\"canvas\\\"),f=u.getContext(\\\"2d\\\");u.width=1,u.height=2*g,f.fillStyle=\\\"#444444\\\",f.fillRect(0,0,1,2*g),f.fillStyle=d,f.fillRect(0,g,1,g),f.fillStyle=\\\"#ffffff\\\",f.globalAlpha=.5,f.fillRect(0,g,1,1),f.globalAlpha=1;var p=document.createElement(\\\"canvas\\\"),h=p.getContext(\\\"2d\\\");return p.width=1,p.height=2*g,h.fillStyle=\\\"#444444\\\",h.fillRect(0,0,1,2*g),h.fillStyle=\\\"#b70000\\\",h.fillRect(0,g,1,g),h.globalAlpha=.5,h.fillStyle=\\\"#ffffff\\\",h.fillRect(0,g,1,1),h.globalAlpha=1,a(),{draw:r}}function r(e,n){function a(){o.width=v,o.height=g*n,o.style.width=o.width+\\\"px\\\",o.style.height=o.height+\\\"px\\\",o.className=\\\"rs-canvas\\\",e.appendChild(o),i.fillStyle=\\\"#444444\\\",i.fillRect(0,0,o.width,o.height)}function r(e){i.drawImage(o,1,0,o.width-1,o.height,0,0,o.width-1,o.height);var n=0;t(e,function(t){var a=e[t]*o.height;i.fillStyle=d[t],i.fillRect(o.width-1,n,1,a),n+=a})}var o=document.createElement(\\\"canvas\\\"),i=o.getContext(\\\"2d\\\");return a(),{draw:r}}function o(e,t){function n(e){if(x&&x.average){v+=e,C++;var t=performance.now();t-w>=(x.avgMs||1e3)&&(g=v/C,v=0,w=t,C=0)}}function r(){u=performance.now(),s.userTimingAPI&&performance.mark(f+\\\"-start\\\"),I=!0}function o(){p=performance.now()-u,s.userTimingAPI&&(performance.mark(f+\\\"-end\\\"),I&&performance.measure(f,f+\\\"-start\\\",f+\\\"-end\\\")),n(p)}function i(){o(),r()}function c(){var e=x&&x.average?g:p;b.nodeValue=Math.round(100*e)/100;var t=x&&(x.below&&p<x.below||x.over&&p>x.over);N.draw(p,t),y.className=t?\\\"rs-counter-base alarm\\\":\\\"rs-counter-base\\\"}function l(){var e=performance.now(),t=e-u;h++,t>1e3&&(p=x&&x.interpolate===!1?h:1e3*h/t,h=0,u=e,n(p))}function d(e){p=e,n(p)}var u,f=e,p=0,h=0,g=0,v=0,w=performance.now(),C=0,y=document.createElement(\\\"div\\\"),E=document.createElement(\\\"span\\\"),S=document.createElement(\\\"div\\\"),b=document.createTextNode(\\\"\\\"),x=s?s.values[f.toLowerCase()]:null,N=new a(y,f,x),I=!1;return E.className=\\\"rs-counter-id\\\",E.textContent=x&&x.caption?x.caption:f,S.className=\\\"rs-counter-value\\\",S.appendChild(b),y.appendChild(E),y.appendChild(S),t?t.div.appendChild(y):m.appendChild(y),u=performance.now(),{set:d,start:r,tick:i,end:o,frame:l,value:function(){return p},draw:c}}function i(e){var n=e.toLowerCase();if(void 0===n&&(n=\\\"default\\\"),w[n])return w[n];var a=null;s&&s.groups&&t(s.groups,function(e){var t=s.groups[parseInt(e,10)];a||t.values.indexOf(n.toLowerCase())===-1||(a=t)});var r=new o(n,a);return w[n]=r,r}function c(){if(s.plugins){s.values||(s.values={}),s.groups||(s.groups=[]),s.fractions||(s.fractions=[]);for(var e=0;e<s.plugins.length;e++)s.plugins[e].attach(i),t(s.plugins[e].values,function(t){s.values[t]=s.plugins[e].values[t]}),s.groups=s.groups.concat(s.plugins[e].groups),s.fractions=s.fractions.concat(s.plugins[e].fractions)}else s.plugins={};h=document.createElement(\\\"div\\\"),h.className=\\\"rs-base\\\",m=document.createElement(\\\"div\\\"),m.className=\\\"rs-container\\\",m.style.height=\\\"auto\\\",h.appendChild(m),document.body.appendChild(h),s&&(s.groups&&t(s.groups,function(e){var t=s.groups[parseInt(e,10)],n=document.createElement(\\\"div\\\");n.className=\\\"rs-group\\\",t.div=n;var a=document.createElement(\\\"h1\\\");a.textContent=t.caption,a.addEventListener(\\\"click\\\",function(e){this.classList.toggle(\\\"hidden\\\"),e.preventDefault()}.bind(n)),m.appendChild(a),m.appendChild(n)}),s.fractions&&t(s.fractions,function(e){var n=s.fractions[parseInt(e,10)],a=document.createElement(\\\"div\\\");a.className=\\\"rs-fraction\\\";var o=document.createElement(\\\"div\\\");o.className=\\\"rs-legend\\\";var i=0;t(s.fractions[e].steps,function(t){var n=document.createElement(\\\"p\\\");n.textContent=s.fractions[e].steps[t],n.style.color=d[i],o.appendChild(n),i++}),a.appendChild(o),a.style.height=i*g+\\\"px\\\",n.div=a;var c=new r(a,i);n.graph=c,m.appendChild(a)}))}function l(){t(s.plugins,function(e){s.plugins[e].update()}),t(w,function(e){w[e].draw()}),s&&s.fractions&&t(s.fractions,function(e){var n=s.fractions[parseInt(e,10)],a=[],r=w[n.base.toLowerCase()];r&&(r=r.value(),t(s.fractions[e].steps,function(t){var n=s.fractions[e].steps[parseInt(t,10)].toLowerCase(),o=w[n];o&&a.push(o.value()/r)})),n.graph.draw(a)})}var s=e||{},d=s.colours||[\\\"#850700\\\",\\\"#c74900\\\",\\\"#fcb300\\\",\\\"#284280\\\",\\\"#4c7c0c\\\"],u=\\\"https://fonts.googleapis.com/css?family=Roboto+Condensed:400,700,300\\\",f=(s.CSSPath?s.CSSPath:\\\"\\\")+\\\"rStats.css\\\",p=s.css||[u,f];p.forEach(function(e){n(e)}),s.values||(s.values={});var h,m,g=10,v=200,w={};return c(),function(e){return e?i(e):{element:h,update:l}}},\\\"object\\\"==typeof module&&(module.exports=window.rStats);\\n},{}],133:[function(_dereq_,module,exports){\\nvar Util={};Util.base64=function(e,i){return\\\"data:\\\"+e+\\\";base64,\\\"+i},Util.isMobile=function(){var e=!1;return function(i){(/(android|bb\\\\d+|meego).+mobile|avantgo|bada\\\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(i)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\\\-(n|u)|c55\\\\/|capi|ccwa|cdm\\\\-|cell|chtm|cldc|cmd\\\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\\\-|_)|g1 u|g560|gene|gf\\\\-5|g\\\\-mo|go(\\\\.w|od)|gr(ad|un)|haie|hcit|hd\\\\-(m|p|t)|hei\\\\-|hi(pt|ta)|hp( i|ip)|hs\\\\-c|ht(c(\\\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\\\-(20|go|ma)|i230|iac( |\\\\-|\\\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\\\/)|klon|kpt |kwc\\\\-|kyo(c|k)|le(no|xi)|lg( g|\\\\/(k|l|u)|50|54|\\\\-[a-w])|libw|lynx|m1\\\\-w|m3ga|m50\\\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\\\-2|po(ck|rt|se)|prox|psio|pt\\\\-g|qa\\\\-a|qc(07|12|21|32|60|\\\\-[2-7]|i\\\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\\\-|oo|p\\\\-)|sdk\\\\/|se(c(\\\\-|0|1)|47|mc|nd|ri)|sgh\\\\-|shar|sie(\\\\-|m)|sk\\\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\\\-|v\\\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\\\-|tdg\\\\-|tel(i|m)|tim\\\\-|t\\\\-mo|to(pl|sh)|ts(70|m\\\\-|m3|m5)|tx\\\\-9|up(\\\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\\\-|your|zeto|zte\\\\-/i.test(i.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e},Util.isIOS=function(){return/(iPad|iPhone|iPod)/g.test(navigator.userAgent)},Util.isIFrame=function(){try{return window.self!==window.top}catch(e){return!0}},Util.appendQueryParameter=function(e,i,t){var a=e.indexOf(\\\"?\\\")<0?\\\"?\\\":\\\"&\\\";return e+=a+i+\\\"=\\\"+t},Util.getQueryParameter=function(e){e=e.replace(/[\\\\[]/,\\\"\\\\\\\\[\\\").replace(/[\\\\]]/,\\\"\\\\\\\\]\\\");var i=new RegExp(\\\"[\\\\\\\\?&]\\\"+e+\\\"=([^&#]*)\\\"),t=i.exec(location.search);return null===t?\\\"\\\":decodeURIComponent(t[1].replace(/\\\\+/g,\\\" \\\"))},Util.isLandscapeMode=function(){return 90==window.orientation||window.orientation==-90},module.exports=Util;\\n},{}],134:[function(_dereq_,module,exports){\\nfunction AndroidWakeLock(){var A=document.createElement(\\\"video\\\");A.addEventListener(\\\"ended\\\",function(){A.play()}),this.request=function(){A.paused&&(A.src=Util.base64(\\\"video/webm\\\",\\\"GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4ECQoWBAhhTgGcBAAAAAAAH4xFNm3RALE27i1OrhBVJqWZTrIHfTbuMU6uEFlSua1OsggEwTbuMU6uEHFO7a1OsggfG7AEAAAAAAACkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAAEUq17GDD0JATYCNTGF2ZjU2LjQwLjEwMVdBjUxhdmY1Ni40MC4xMDFzpJAGSJTMbsLpDt/ySkipgX1fRImIQO1MAAAAAAAWVK5rAQAAAAAAADuuAQAAAAAAADLXgQFzxYEBnIEAIrWcg3VuZIaFVl9WUDmDgQEj44OEO5rKAOABAAAAAAAABrCBsLqBkB9DtnUBAAAAAAAAo+eBAKOmgQAAgKJJg0IAAV4BHsAHBIODCoAACmH2MAAAZxgz4dPSTFi5JACjloED6ACmAECSnABMQAADYAAAWi0quoCjloEH0ACmAECSnABNwAADYAAAWi0quoCjloELuACmAECSnABNgAADYAAAWi0quoCjloEPoACmAECSnABNYAADYAAAWi0quoCjloETiACmAECSnABNIAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTnghdwo5aBAAAApgBAkpwATOAAA2AAAFotKrqAo5aBA+gApgBAkpwATMAAA2AAAFotKrqAo5aBB9AApgBAkpwATIAAA2AAAFotKrqAo5aBC7gApgBAkpwATEAAA2AAAFotKrqAo5aBD6AApgDAkpwAQ2AAA2AAAFotKrqAo5aBE4gApgBAkpwATCAAA2AAAFotKrqAH0O2dQEAAAAAAACU54Iu4KOWgQAAAKYAQJKcAEvAAANgAABaLSq6gKOWgQPoAKYAQJKcAEtgAANgAABaLSq6gKOWgQfQAKYAQJKcAEsAAANgAABaLSq6gKOWgQu4AKYAQJKcAEqAAANgAABaLSq6gKOWgQ+gAKYAQJKcAEogAANgAABaLSq6gKOWgROIAKYAQJKcAEnAAANgAABaLSq6gB9DtnUBAAAAAAAAlOeCRlCjloEAAACmAECSnABJgAADYAAAWi0quoCjloED6ACmAECSnABJIAADYAAAWi0quoCjloEH0ACmAMCSnABDYAADYAAAWi0quoCjloELuACmAECSnABI4AADYAAAWi0quoCjloEPoACmAECSnABIoAADYAAAWi0quoCjloETiACmAECSnABIYAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTngl3Ao5aBAAAApgBAkpwASCAAA2AAAFotKrqAo5aBA+gApgBAkpwASAAAA2AAAFotKrqAo5aBB9AApgBAkpwAR8AAA2AAAFotKrqAo5aBC7gApgBAkpwAR4AAA2AAAFotKrqAo5aBD6AApgBAkpwAR2AAA2AAAFotKrqAo5aBE4gApgBAkpwARyAAA2AAAFotKrqAH0O2dQEAAAAAAACU54J1MKOWgQAAAKYAwJKcAENgAANgAABaLSq6gKOWgQPoAKYAQJKcAEbgAANgAABaLSq6gKOWgQfQAKYAQJKcAEagAANgAABaLSq6gKOWgQu4AKYAQJKcAEaAAANgAABaLSq6gKOWgQ+gAKYAQJKcAEZAAANgAABaLSq6gKOWgROIAKYAQJKcAEYAAANgAABaLSq6gB9DtnUBAAAAAAAAlOeCjKCjloEAAACmAECSnABF4AADYAAAWi0quoCjloED6ACmAECSnABFwAADYAAAWi0quoCjloEH0ACmAECSnABFoAADYAAAWi0quoCjloELuACmAECSnABFgAADYAAAWi0quoCjloEPoACmAMCSnABDYAADYAAAWi0quoCjloETiACmAECSnABFYAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTngqQQo5aBAAAApgBAkpwARUAAA2AAAFotKrqAo5aBA+gApgBAkpwARSAAA2AAAFotKrqAo5aBB9AApgBAkpwARQAAA2AAAFotKrqAo5aBC7gApgBAkpwARQAAA2AAAFotKrqAo5aBD6AApgBAkpwAROAAA2AAAFotKrqAo5aBE4gApgBAkpwARMAAA2AAAFotKrqAH0O2dQEAAAAAAACU54K7gKOWgQAAAKYAQJKcAESgAANgAABaLSq6gKOWgQPoAKYAQJKcAESAAANgAABaLSq6gKOWgQfQAKYAwJKcAENgAANgAABaLSq6gKOWgQu4AKYAQJKcAERgAANgAABaLSq6gKOWgQ+gAKYAQJKcAERAAANgAABaLSq6gKOWgROIAKYAQJKcAEQgAANgAABaLSq6gB9DtnUBAAAAAAAAlOeC0vCjloEAAACmAECSnABEIAADYAAAWi0quoCjloED6ACmAECSnABEAAADYAAAWi0quoCjloEH0ACmAECSnABD4AADYAAAWi0quoCjloELuACmAECSnABDwAADYAAAWi0quoCjloEPoACmAECSnABDoAADYAAAWi0quoCjloETiACmAECSnABDgAADYAAAWi0quoAcU7trAQAAAAAAABG7j7OBALeK94EB8YIBd/CBAw==\\\"),A.play())},this.release=function(){A.pause(),A.src=\\\"\\\"}}function iOSWakeLock(){var A=null;this.request=function(){A||(A=setInterval(function(){window.location=window.location,setTimeout(window.stop,0)},3e4))},this.release=function(){A&&(clearInterval(A),A=null)}}function getWakeLock(){var A=navigator.userAgent||navigator.vendor||window.opera;return A.match(/iPhone/i)||A.match(/iPod/i)?iOSWakeLock:AndroidWakeLock}var Util=_dereq_(\\\"./util.js\\\");module.exports=getWakeLock();\\n},{\\\"./util.js\\\":133}]},{},[104])(104)\\n});\\n\\n\\n//# sourceMappingURL=aframe-master.min.js.map\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/raw-loader!./~/aframe/dist/aframe-v0.4.0.min.js\n// module id = 643\n// module chunks = 1","module.exports = \"!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i=\\\"function\\\"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error(\\\"Cannot find module '\\\"+g+\\\"'\\\");throw j.code=\\\"MODULE_NOT_FOUND\\\",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f=\\\"function\\\"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(b,c,d){\\\"use strict\\\";var e={};e.encode=function(a){for(var b=[],c=0;c<a.length;++c){var d=a.charCodeAt(c);d<128?b.push(d):d<2048?(b.push(192|d>>6),b.push(128|63&d)):d<65536?(b.push(224|d>>12),b.push(128|63&d>>6),b.push(128|63&d)):(b.push(240|d>>18),b.push(128|63&d>>12),b.push(128|63&d>>6),b.push(128|63&d))}return b},e.decode=function(a){for(var b=[],c=0;c<a.length;){var d=a[c++];d<128||(d<224?(d=(31&d)<<6,d|=63&a[c++]):d<240?(d=(15&d)<<12,d|=(63&a[c++])<<6,d|=63&a[c++]):(d=(7&d)<<18,d|=(63&a[c++])<<12,d|=(63&a[c++])<<6,d|=63&a[c++])),b.push(String.fromCharCode(d))}return b.join(\\\"\\\")};var f={};!function(b){var c=function(a){for(var c=0,d=[],e=0|a.length/3;0<e--;){var f=(a[c]<<16)+(a[c+1]<<8)+a[c+2];c+=3,d.push(b.charAt(63&f>>18)),d.push(b.charAt(63&f>>12)),d.push(b.charAt(63&f>>6)),d.push(b.charAt(63&f))}if(2==a.length-c){var f=(a[c]<<16)+(a[c+1]<<8);d.push(b.charAt(63&f>>18)),d.push(b.charAt(63&f>>12)),d.push(b.charAt(63&f>>6)),d.push(\\\"=\\\")}else if(1==a.length-c){var f=a[c]<<16;d.push(b.charAt(63&f>>18)),d.push(b.charAt(63&f>>12)),d.push(\\\"==\\\")}return d.join(\\\"\\\")},d=function(){for(var a=[],c=0;c<b.length;++c)a[b.charCodeAt(c)]=c;return a[\\\"=\\\".charCodeAt(0)]=0,a}(),g=function(a){for(var b=0,c=[],e=0|a.length/4;0<e--;){var f=(d[a.charCodeAt(b)]<<18)+(d[a.charCodeAt(b+1)]<<12)+(d[a.charCodeAt(b+2)]<<6)+d[a.charCodeAt(b+3)];c.push(255&f>>16),c.push(255&f>>8),c.push(255&f),b+=4}return c&&(\\\"=\\\"==a.charAt(b-2)?(c.pop(),c.pop()):\\\"=\\\"==a.charAt(b-1)&&c.pop()),c},h={};h.encode=function(a){for(var b=[],c=0;c<a.length;++c)b.push(a.charCodeAt(c));return b},h.decode=function(b){for(var c=0;c<s.length;++c)a[c]=String.fromCharCode(a[c]);return a.join(\\\"\\\")},f.decodeArray=function(a){var b=g(a);return new Uint8Array(b)},f.encodeASCII=function(a){var b=h.encode(a);return c(b)},f.decodeASCII=function(a){var b=g(a);return h.decode(b)},f.encode=function(a){var b=e.encode(a);return c(b)},f.decode=function(a){var b=g(a);return e.decode(b)}}(\\\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\\\"),\\\"undefined\\\"!=typeof d&&(d.decode=f.decode,d.decodeArray=f.decodeArray)},{}],2:[function(a,b,c){\\\"use strict\\\";!function(a){var b={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},c=function(a){var c=a;return b.hasOwnProperty(a)&&(c=b[a]),String.fromCharCode(c)},d=15,e=32,f={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},g={17:2,18:4,21:6,22:8,23:10,19:13,20:15},h={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},i={25:2,26:4,29:6,30:8,31:10,27:13,28:15},j=[\\\"white\\\",\\\"green\\\",\\\"blue\\\",\\\"cyan\\\",\\\"red\\\",\\\"yellow\\\",\\\"magenta\\\",\\\"black\\\",\\\"transparent\\\"],k={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(a){this.time=a},log:function(a,b){var c=this.verboseFilter[a];this.verboseLevel>=c&&console.log(this.time+\\\" [\\\"+a+\\\"] \\\"+b)}},l=function(a){for(var b=[],c=0;c<a.length;c++)b.push(a[c].toString(16));return b},m=function(a,b,c,d,e){this.foreground=a||\\\"white\\\",this.underline=b||!1,this.italics=c||!1,this.background=d||\\\"black\\\",this.flash=e||!1};m.prototype={reset:function(){this.foreground=\\\"white\\\",this.underline=!1,this.italics=!1,this.background=\\\"black\\\",this.flash=!1},setStyles:function(a){for(var b=[\\\"foreground\\\",\\\"underline\\\",\\\"italics\\\",\\\"background\\\",\\\"flash\\\"],c=0;c<b.length;c++){var d=b[c];a.hasOwnProperty(d)&&(this[d]=a[d])}},isDefault:function(){return\\\"white\\\"===this.foreground&&!this.underline&&!this.italics&&\\\"black\\\"===this.background&&!this.flash},equals:function(a){return this.foreground===a.foreground&&this.underline===a.underline&&this.italics===a.italics&&this.background===a.background&&this.flash===a.flash},copy:function(a){this.foreground=a.foreground,this.underline=a.underline,this.italics=a.italics,this.background=a.background,this.flash=a.flash},toString:function(){return\\\"color=\\\"+this.foreground+\\\", underline=\\\"+this.underline+\\\", italics=\\\"+this.italics+\\\", background=\\\"+this.background+\\\", flash=\\\"+this.flash}};var n=function(a,b,c,d,e,f){this.uchar=a||\\\" \\\",this.penState=new m(b,c,d,e,f)};n.prototype={reset:function(){this.uchar=\\\" \\\",this.penState.reset()},setChar:function(a,b){this.uchar=a,this.penState.copy(b)},setPenState:function(a){this.penState.copy(a)},equals:function(a){return this.uchar===a.uchar&&this.penState.equals(a.penState)},copy:function(a){this.uchar=a.uchar,this.penState.copy(a.penState)},isEmpty:function(){return\\\" \\\"===this.uchar&&this.penState.isDefault()}};var o=function(){this.chars=[];for(var a=0;a<e;a++)this.chars.push(new n);this.pos=0,this.currPenState=new m};o.prototype={equals:function(a){for(var b=!0,c=0;c<e;c++)if(!this.chars[c].equals(a.chars[c])){b=!1;break}return b},copy:function(a){for(var b=0;b<e;b++)this.chars[b].copy(a.chars[b])},isEmpty:function(){for(var a=!0,b=0;b<e;b++)if(!this.chars[b].isEmpty()){a=!1;break}return a},setCursor:function(a){this.pos!==a&&(this.pos=a),this.pos<0?(k.log(\\\"ERROR\\\",\\\"Negative cursor position \\\"+this.pos),this.pos=0):this.pos>e&&(k.log(\\\"ERROR\\\",\\\"Too large cursor position \\\"+this.pos),this.pos=e)},moveCursor:function(a){var b=this.pos+a;if(a>1)for(var c=this.pos+1;c<b+1;c++)this.chars[c].setPenState(this.currPenState);this.setCursor(b)},backSpace:function(){this.moveCursor(-1),this.chars[this.pos].setChar(\\\" \\\",this.currPenState)},insertChar:function(a){a>=144&&this.backSpace();var b=c(a);return this.pos>=e?void k.log(\\\"ERROR\\\",\\\"Cannot insert \\\"+a.toString(16)+\\\" (\\\"+b+\\\") at position \\\"+this.pos+\\\". Skipping it!\\\"):(this.chars[this.pos].setChar(b,this.currPenState),void this.moveCursor(1))},clearFromPos:function(a){var b;for(b=a;b<e;b++)this.chars[b].reset()},clear:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},clearToEndOfRow:function(){this.clearFromPos(this.pos)},getTextString:function(){for(var a=[],b=!0,c=0;c<e;c++){var d=this.chars[c].uchar;\\\" \\\"!==d&&(b=!1),a.push(d)}return b?\\\"\\\":a.join(\\\"\\\")},setPenStyles:function(a){this.currPenState.setStyles(a);var b=this.chars[this.pos];b.setPenState(this.currPenState)}};var p=function(){this.rows=[];for(var a=0;a<d;a++)this.rows.push(new o);this.currRow=d-1,this.nrRollUpRows=null,this.reset()};p.prototype={reset:function(){for(var a=0;a<d;a++)this.rows[a].clear();this.currRow=d-1},equals:function(a){for(var b=!0,c=0;c<d;c++)if(!this.rows[c].equals(a.rows[c])){b=!1;break}return b},copy:function(a){for(var b=0;b<d;b++)this.rows[b].copy(a.rows[b])},isEmpty:function(){for(var a=!0,b=0;b<d;b++)if(!this.rows[b].isEmpty()){a=!1;break}return a},backSpace:function(){var a=this.rows[this.currRow];a.backSpace()},clearToEndOfRow:function(){var a=this.rows[this.currRow];a.clearToEndOfRow()},insertChar:function(a){var b=this.rows[this.currRow];b.insertChar(a)},setPen:function(a){var b=this.rows[this.currRow];b.setPenStyles(a)},moveCursor:function(a){var b=this.rows[this.currRow];b.moveCursor(a)},setCursor:function(a){k.log(\\\"INFO\\\",\\\"setCursor: \\\"+a);var b=this.rows[this.currRow];b.setCursor(a)},setPAC:function(a){k.log(\\\"INFO\\\",\\\"pacData = \\\"+JSON.stringify(a));var b=a.row-1;this.nrRollUpRows&&b<this.nrRollUpRows-1&&(b=this.nrRollUpRows-1),this.currRow=b;var c=this.rows[this.currRow];if(null!==a.indent){var d=a.indent,e=Math.max(d-1,0);c.setCursor(a.indent),a.color=c.chars[e].penState.foreground}var f={foreground:a.color,underline:a.underline,italics:a.italics,background:\\\"black\\\",flash:!1};this.setPen(f)},setBkgData:function(a){k.log(\\\"INFO\\\",\\\"bkgData = \\\"+JSON.stringify(a)),this.backSpace(),this.setPen(a),this.insertChar(32)},setRollUpRows:function(a){this.nrRollUpRows=a},rollUp:function(){if(null===this.nrRollUpRows)return void k.log(\\\"DEBUG\\\",\\\"roll_up but nrRollUpRows not set yet\\\");k.log(\\\"TEXT\\\",this.getDisplayText());var a=this.currRow+1-this.nrRollUpRows,b=this.rows.splice(a,1)[0];b.clear(),this.rows.splice(this.currRow,0,b),k.log(\\\"INFO\\\",\\\"Rolling up\\\")},getDisplayText:function(a){a=a||!1;for(var b=[],c=\\\"\\\",e=-1,f=0;f<d;f++){var g=this.rows[f].getTextString();g&&(e=f+1,a?b.push(\\\"Row \\\"+e+': \\\"'+g+'\\\"'):b.push(g.trim()))}return b.length>0&&(c=a?\\\"[\\\"+b.join(\\\" | \\\")+\\\"]\\\":b.join(\\\"\\\\n\\\")),c},getTextAndFormat:function(){return this.rows}};var q=function(a,b){this.chNr=a,this.outputFilter=b,this.mode=null,this.verbose=0,this.displayedMemory=new p,this.nonDisplayedMemory=new p,this.lastOutputScreen=new p,this.currRollUpRow=this.displayedMemory.rows[d-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null};q.prototype={modes:[\\\"MODE_ROLL-UP\\\",\\\"MODE_POP-ON\\\",\\\"MODE_PAINT-ON\\\",\\\"MODE_TEXT\\\"],reset:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[d-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},getHandler:function(){return this.outputFilter},setHandler:function(a){this.outputFilter=a},setPAC:function(a){this.writeScreen.setPAC(a)},setBkgData:function(a){this.writeScreen.setBkgData(a)},setMode:function(a){a!==this.mode&&(this.mode=a,k.log(\\\"INFO\\\",\\\"MODE=\\\"+a),\\\"MODE_POP-ON\\\"==this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),\\\"MODE_ROLL-UP\\\"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=a)},insertChars:function(a){for(var b=0;b<a.length;b++)this.writeScreen.insertChar(a[b]);var c=this.writeScreen===this.displayedMemory?\\\"DISP\\\":\\\"NON_DISP\\\";k.log(\\\"INFO\\\",c+\\\": \\\"+this.writeScreen.getDisplayText(!0)),\\\"MODE_PAINT-ON\\\"!==this.mode&&\\\"MODE_ROLL-UP\\\"!==this.mode||(k.log(\\\"TEXT\\\",\\\"DISPLAYED: \\\"+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},cc_RCL:function(){k.log(\\\"INFO\\\",\\\"RCL - Resume Caption Loading\\\"),this.setMode(\\\"MODE_POP-ON\\\")},cc_BS:function(){k.log(\\\"INFO\\\",\\\"BS - BackSpace\\\"),\\\"MODE_TEXT\\\"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},cc_AOF:function(){},cc_AON:function(){},cc_DER:function(){k.log(\\\"INFO\\\",\\\"DER- Delete to End of Row\\\"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},cc_RU:function(a){k.log(\\\"INFO\\\",\\\"RU(\\\"+a+\\\") - Roll Up\\\"),this.writeScreen=this.displayedMemory,this.setMode(\\\"MODE_ROLL-UP\\\"),this.writeScreen.setRollUpRows(a)},cc_FON:function(){k.log(\\\"INFO\\\",\\\"FON - Flash On\\\"),this.writeScreen.setPen({flash:!0})},cc_RDC:function(){k.log(\\\"INFO\\\",\\\"RDC - Resume Direct Captioning\\\"),this.setMode(\\\"MODE_PAINT-ON\\\")},cc_TR:function(){k.log(\\\"INFO\\\",\\\"TR\\\"),this.setMode(\\\"MODE_TEXT\\\")},cc_RTD:function(){k.log(\\\"INFO\\\",\\\"RTD\\\"),this.setMode(\\\"MODE_TEXT\\\")},cc_EDM:function(){k.log(\\\"INFO\\\",\\\"EDM - Erase Displayed Memory\\\"),this.displayedMemory.reset(),this.outputDataUpdate()},cc_CR:function(){k.log(\\\"CR - Carriage Return\\\"),this.writeScreen.rollUp(),this.outputDataUpdate()},cc_ENM:function(){k.log(\\\"INFO\\\",\\\"ENM - Erase Non-displayed Memory\\\"),this.nonDisplayedMemory.reset()},cc_EOC:function(){if(k.log(\\\"INFO\\\",\\\"EOC - End Of Caption\\\"),\\\"MODE_POP-ON\\\"===this.mode){var a=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=a,this.writeScreen=this.nonDisplayedMemory,k.log(\\\"TEXT\\\",\\\"DISP: \\\"+this.displayedMemory.getDisplayText())}this.outputDataUpdate()},cc_TO:function(a){k.log(\\\"INFO\\\",\\\"TO(\\\"+a+\\\") - Tab Offset\\\"),this.writeScreen.moveCursor(a)},cc_MIDROW:function(a){var b={flash:!1};if(b.underline=a%2===1,b.italics=a>=46,b.italics)b.foreground=\\\"white\\\";else{var c=Math.floor(a/2)-16,d=[\\\"white\\\",\\\"green\\\",\\\"blue\\\",\\\"cyan\\\",\\\"red\\\",\\\"yellow\\\",\\\"magenta\\\"];b.foreground=d[c]}k.log(\\\"INFO\\\",\\\"MIDROW: \\\"+JSON.stringify(b)),this.writeScreen.setPen(b)},outputDataUpdate:function(){var a=k.time;null!==a&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(a,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,a,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:a):this.cueStartTime=a,this.lastOutputScreen.copy(this.displayedMemory))},cueSplitAtTime:function(a){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,a,this.displayedMemory),this.cueStartTime=a))}};var r=function(a,b,c){this.field=a||1,this.outputs=[b,c],this.channels=[new q(1,b),new q(2,c)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}};r.prototype={getHandler:function(a){return this.channels[a].getHandler()},setHandler:function(a,b){this.channels[a].setHandler(b)},addData:function(a,b){var c,d,e,f=!1;this.lastTime=a,k.setTime(a);for(var g=0;g<b.length;g+=2)if(d=127&b[g],e=127&b[g+1],0!==d||0!==e){if(k.log(\\\"DATA\\\",\\\"[\\\"+l([b[g],b[g+1]])+\\\"] -> (\\\"+l([d,e])+\\\")\\\"),c=this.parseCmd(d,e),c||(c=this.parseMidrow(d,e)),c||(c=this.parsePAC(d,e)),c||(c=this.parseBackgroundAttributes(d,e)),!c&&(f=this.parseChars(d,e)))if(this.currChNr&&this.currChNr>=0){var h=this.channels[this.currChNr-1];h.insertChars(f)}else k.log(\\\"WARNING\\\",\\\"No channel found yet. TEXT-MODE?\\\");c?this.dataCounters.cmd+=2:f?this.dataCounters.char+=2:(this.dataCounters.other+=2,k.log(\\\"WARNING\\\",\\\"Couldn't parse cleaned data \\\"+l([d,e])+\\\" orig: \\\"+l([b[g],b[g+1]])))}else this.dataCounters.padding+=2},parseCmd:function(a,b){var c=null,d=(20===a||28===a)&&32<=b&&b<=47,e=(23===a||31===a)&&33<=b&&b<=35;if(!d&&!e)return!1;if(a===this.lastCmdA&&b===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,k.log(\\\"DEBUG\\\",\\\"Repeated command (\\\"+l([a,b])+\\\") is dropped\\\"),!0;c=20===a||23===a?1:2;var f=this.channels[c-1];return 20===a||28===a?32===b?f.cc_RCL():33===b?f.cc_BS():34===b?f.cc_AOF():35===b?f.cc_AON():36===b?f.cc_DER():37===b?f.cc_RU(2):38===b?f.cc_RU(3):39===b?f.cc_RU(4):40===b?f.cc_FON():41===b?f.cc_RDC():42===b?f.cc_TR():43===b?f.cc_RTD():44===b?f.cc_EDM():45===b?f.cc_CR():46===b?f.cc_ENM():47===b&&f.cc_EOC():f.cc_TO(b-32),this.lastCmdA=a,this.lastCmdB=b,this.currChNr=c,!0},parseMidrow:function(a,b){var c=null;if((17===a||25===a)&&32<=b&&b<=47){if(c=17===a?1:2,c!==this.currChNr)return k.log(\\\"ERROR\\\",\\\"Mismatch channel in midrow parsing\\\"),!1;var d=this.channels[c-1];return d.cc_MIDROW(b),k.log(\\\"DEBUG\\\",\\\"MIDROW (\\\"+l([a,b])+\\\")\\\"),!0}return!1},parsePAC:function(a,b){var c=null,d=null,e=(17<=a&&a<=23||25<=a&&a<=31)&&64<=b&&b<=127,j=(16===a||24===a)&&64<=b&&b<=95;if(!e&&!j)return!1;if(a===this.lastCmdA&&b===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,!0;c=a<=23?1:2,d=64<=b&&b<=95?1===c?f[a]:h[a]:1===c?g[a]:i[a];var k=this.interpretPAC(d,b),l=this.channels[c-1];return l.setPAC(k),this.lastCmdA=a,this.lastCmdB=b,this.currChNr=c,!0},interpretPAC:function(a,b){var c=b,d={color:null,italics:!1,indent:null,underline:!1,row:a};return c=b>95?b-96:b-64,d.underline=1===(1&c),c<=13?d.color=[\\\"white\\\",\\\"green\\\",\\\"blue\\\",\\\"cyan\\\",\\\"red\\\",\\\"yellow\\\",\\\"magenta\\\",\\\"white\\\"][Math.floor(c/2)]:c<=15?(d.italics=!0,d.color=\\\"white\\\"):d.indent=4*Math.floor((c-16)/2),d},parseChars:function(a,b){var d=null,e=null,f=null;if(a>=25?(d=2,f=a-8):(d=1,f=a),17<=f&&f<=19){var g=b;g=17===f?b+80:18===f?b+112:b+144,k.log(\\\"INFO\\\",\\\"Special char '\\\"+c(g)+\\\"' in channel \\\"+d),e=[g]}else 32<=a&&a<=127&&(e=0===b?[a]:[a,b]);if(e){var h=l(e);k.log(\\\"DEBUG\\\",\\\"Char codes =  \\\"+h.join(\\\",\\\")),this.lastCmdA=null,this.lastCmdB=null}return e},parseBackgroundAttributes:function(a,b){var c,d,e,f,g=(16===a||24===a)&&32<=b&&b<=47,h=(23===a||31===a)&&45<=b&&b<=47;return!(!g&&!h)&&(c={},16===a||24===a?(d=Math.floor((b-32)/2),c.background=j[d],b%2===1&&(c.background=c.background+\\\"_semi\\\")):45===b?c.background=\\\"transparent\\\":(c.foreground=\\\"black\\\",47===b&&(c.underline=!0)),e=a<24?1:2,f=this.channels[e-1],f.setBkgData(c),this.lastCmdA=null,this.lastCmdB=null,!0)},reset:function(){for(var a=0;a<this.channels.length;a++)this.channels[a]&&this.channels[a].reset();this.lastCmdA=null,this.lastCmdB=null},cueSplitAtTime:function(a){for(var b=0;b<this.channels.length;b++)this.channels[b]&&this.channels[b].cueSplitAtTime(a)}};var s=function(a,b,c){for(var d=0,e=b,f=0,g=[],h=function(a,b,c,d){if(4!==a||b<8)return null;var e=c.getUint8(d),f=c.getUint16(d+1),g=c.getUint32(d+3),h=c.getUint8(d+7);return 181==e&&49==f&&1195456820==g&&3==h};e<b+c;){if(d=a.getUint32(e),f=31&a.getUint8(e+4),6===f)for(var i=e+5,j=-1;i<e+4+d-1;){j=0;for(var k=255;255===k;)k=a.getUint8(i),j+=k,i++;var l=0;for(k=255;255===k;)k=a.getUint8(i),l+=k,i++;h(j,l,a,i)&&g.push([i,l]),i+=l}e+=d+4}return g},t=function(a,b){var c=b[0],d=[[],[]];c+=8;var e=31&a.getUint8(c);c+=2;for(var f=0;f<e;f++){var g=a.getUint8(c),h=4&g,i=3&g;c++;var j=a.getUint8(c);c++;var k=a.getUint8(c);c++,h&&(127&j)+(127&k)!==0&&(0===i?(d[0].push(j),d[0].push(k)):1===i&&(d[1].push(j),d[1].push(k)))}return d};a.logger=k,a.PenState=m,a.CaptionScreen=p,a.Cea608Parser=r,a.findCea608Nalus=s,a.extractCea608DataFromRange=t}(\\\"undefined\\\"==typeof c?(void 0).cea608parser={}:c)},{}],3:[function(a,b,c){\\\"use strict\\\";function d(a){var b,c,d;for(b=[],d=0,c=a.length;d<c;d+=1)a[d].isRoot?b.push(\\\"root\\\"):b.push(a[d].name);var e=function(a,b){var c;if(null!==a&&null!==b)for(c in a)a.hasOwnProperty(c)&&(b.hasOwnProperty(c)||(b[c]=a[c]))},f=function(a,b,c){var d,f,g,h,i;if(null!==a&&0!==a.length)for(d=0,f=a.length;d<f;d+=1)g=a[d],b.hasOwnProperty(g.name)&&(c.hasOwnProperty(g.name)?g.merge&&(h=b[g.name],i=c[g.name],\\\"object\\\"==typeof h&&\\\"object\\\"==typeof i?e(h,i):null!=g.mergeFunction?c[g.name]=g.mergeFunction(h,i):c[g.name]=h+i):c[g.name]=b[g.name])},g=function a(b,c){var d,e,g,h,i,j,k,l=b;if(null!==l.children&&0!==l.children.length)for(d=0,e=l.children.length;d<e;d+=1)if(j=l.children[d],c.hasOwnProperty(j.name))if(j.isArray)for(i=c[j.name+\\\"_asArray\\\"],g=0,h=i.length;g<h;g+=1)k=i[g],f(l.properties,c,k),a(j,k);else k=c[j.name],f(l.properties,c,k),a(j,k)},h=function c(d){var e,f,h,i,j,k,l;if(null===d)return d;if(\\\"object\\\"!=typeof d)return d;for(e=0,f=b.length;e<f;e+=1)\\\"root\\\"===b[e]&&(j=a[e],k=d,g(j,k));for(i in d)if(d.hasOwnProperty(i)&&\\\"__children\\\"!=i){if(h=b.indexOf(i),h!==-1)if(j=a[h],j.isArray)for(l=d[i+\\\"_asArray\\\"],e=0,f=l.length;e<f;e+=1)k=l[e],g(j,k);else k=d[i],g(j,k);c(d[i])}return d};return{run:h}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0}),c.default=d,b.exports=c.default},{}],4:[function(a,b,c){\\\"use strict\\\";function d(a,b,c){function d(a){var b=a.localName;return null==b&&(b=a.baseName),null!=b&&\\\"\\\"!=b||(b=a.nodeName),b}function e(a){return a.prefix}function f(a){return\\\"string\\\"==typeof a?a.replace(/&/g,\\\"&amp;\\\").replace(/</g,\\\"&lt;\\\").replace(/>/g,\\\"&gt;\\\").replace(/\\\"/g,\\\"&quot;\\\").replace(/'/g,\\\"&#x27;\\\").replace(/\\\\//g,\\\"&#x2F;\\\"):a}function g(a){return a.replace(/&amp;/g,\\\"&\\\").replace(/&lt;/g,\\\"<\\\").replace(/&gt;/g,\\\">\\\").replace(/&quot;/g,'\\\"').replace(/&#x27;/g,\\\"'\\\").replace(/&#x2F;/g,\\\"/\\\")}function h(f){if(f.nodeType==u.DOCUMENT_NODE){var i,j,k,l=f.firstChild;for(j=0,k=f.childNodes.length;j<k;j+=1)if(f.childNodes[j].nodeType!==u.COMMENT_NODE){l=f.childNodes[j];break}if(c)i=h(l);else{i={};var m=d(l);i[m]=h(l)}return i}if(f.nodeType==u.ELEMENT_NODE){var i=new Object;i.__cnt=0;for(var n=[],o=f.childNodes,p=0;p<o.length;p++){var l=o.item(p),m=d(l);if(i.__cnt++,null==i[m]){var q=h(l);if(\\\"#text\\\"!=m||/[^\\\\s]/.test(q)){var r={};r[m]=q,n.push(r)}i[m]=q,i[m+\\\"_asArray\\\"]=new Array(1),i[m+\\\"_asArray\\\"][0]=i[m]}else{if(null!=i[m]&&!(i[m]instanceof Array)){var s=i[m];i[m]=new Array,i[m][0]=s,i[m+\\\"_asArray\\\"]=i[m]}for(var v=0;null!=i[m][v];)v++;var q=h(l);if(\\\"#text\\\"!=m||/[^\\\\s]/.test(q)){var r={};r[m]=q,n.push(r)}i[m][v]=q}}i.__children=n;for(var w=0;w<f.attributes.length;w++){var x=f.attributes.item(w);i.__cnt++;for(var y=x.value,z=0,A=a.length;z<A;z++){var B=a[z];B.test(x)&&(y=B.converter(x.value))}i[b+x.name]=y}var C=e(f);return null!=C&&\\\"\\\"!=C&&(i.__cnt++,i.__prefix=C),1==i.__cnt&&null!=i[\\\"#text\\\"]&&(i=i[\\\"#text\\\"]),null!=i[\\\"#text\\\"]&&(i.__text=i[\\\"#text\\\"],t&&(i.__text=g(i.__text)),delete i[\\\"#text\\\"],delete i[\\\"#text_asArray\\\"]),null!=i[\\\"#cdata-section\\\"]&&(i.__cdata=i[\\\"#cdata-section\\\"],delete i[\\\"#cdata-section\\\"],delete i[\\\"#cdata-section_asArray\\\"]),null==i.__text&&null==i.__cdata||(i.toString=function(){return(null!=this.__text?this.__text:\\\"\\\")+(null!=this.__cdata?this.__cdata:\\\"\\\")}),i}return f.nodeType==u.TEXT_NODE||f.nodeType==u.CDATA_SECTION_NODE?f.nodeValue:f.nodeType==u.COMMENT_NODE?null:void 0}function i(a,b,c,d){var e=\\\"<\\\"+(null!=a&&null!=a.__prefix?a.__prefix+\\\":\\\":\\\"\\\")+b;if(null!=c)for(var f=0;f<c.length;f++){var g=c[f],h=a[g];e+=\\\" \\\"+g.substr(1)+\\\"='\\\"+h+\\\"'\\\"}return e+=d?\\\"/>\\\":\\\">\\\"}function j(a,b){return\\\"</\\\"+(null!=a.__prefix?a.__prefix+\\\":\\\":\\\"\\\")+b+\\\">\\\"}function k(a,b){return a.indexOf(b,a.length-b.length)!==-1}function l(a,b){return!!(k(b.toString(),\\\"_asArray\\\")||0==b.toString().indexOf(\\\"_\\\")||a[b]instanceof Function)}function m(a){var b=0;if(a instanceof Object)for(var c in a)l(a,c)||b++;return b}function n(a){var b=[];if(a instanceof Object)for(var c in a)c.toString().indexOf(\\\"__\\\")==-1&&0==c.toString().indexOf(\\\"_\\\")&&b.push(c);return b}function o(a){var b=\\\"\\\";return null!=a.__cdata&&(b+=\\\"<![CDATA[\\\"+a.__cdata+\\\"]]>\\\"),null!=a.__text&&(b+=t?f(a.__text):a.__text),b}function p(a){var b=\\\"\\\";return a instanceof Object?b+=o(a):null!=a&&(b+=t?f(a):a),b}function q(a,b,c){var d=\\\"\\\";if(0==a.length)d+=i(a,b,c,!0);else for(var e=0;e<a.length;e++)d+=i(a[e],b,n(a[e]),!1),d+=r(a[e]),d+=j(a[e],b);return d}function r(a){var b=\\\"\\\",c=m(a);if(c>0)for(var d in a)if(!l(a,d)){var e=a[d],f=n(e);if(null==e||void 0==e)b+=i(e,d,f,!0);else if(e instanceof Object)if(e instanceof Array)b+=q(e,d,f);else{var g=m(e);g>0||null!=e.__text||null!=e.__cdata?(b+=i(e,d,f,!1),b+=r(e),b+=j(e,d)):b+=i(e,d,f,!0)}else b+=i(e,d,f,!1),b+=p(e),b+=j(e,d)}return b+=p(a)}null!==b&&void 0!==b||(b=\\\"_\\\"),null!==c&&void 0!==c||(c=!1);var s=\\\"1.0.11\\\",t=!1,u={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};this.parseXmlString=function(a){var b,c,d;if(window.DOMParser){c=new window.DOMParser;try{d=c.parseFromString(\\\"<\\\",\\\"text/xml\\\").getElementsByTagName(\\\"parsererror\\\")[0].namespaceURI}catch(e){}try{b=c.parseFromString(a,\\\"text/xml\\\"),d&&b.getElementsByTagNameNS(d,\\\"parsererror\\\").length&&(b=void 0)}catch(e){}}else 0==a.indexOf(\\\"<?\\\")&&(a=a.substr(a.indexOf(\\\"?>\\\")+2)),b=new ActiveXObject(\\\"Microsoft.XMLDOM\\\"),b.async=\\\"false\\\",b.loadXML(a);return b},this.xml2json=function(a){return h(a)},this.xml_str2json=function(a){var b=this.parseXmlString(a);return b?this.xml2json(b):void 0},this.json2xml_str=function(a){return r(a)},this.json2xml=function(a){var b=this.json2xml_str(a);return this.parseXmlString(b)},this.getVersion=function(){return s},this.escapeMode=function(a){t=a}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0}),c.default=d,b.exports=c.default},{}],5:[function(a,b,c){(function(b){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=a(51),f=d(e),g=a(106),h=d(g),i=a(75),j=d(i),k=a(53),l=d(k),m=a(11),n=window||b,o=n.dashjs;o||(o=n.dashjs={}),o.MediaPlayer=f.default,o.Protection=h.default,o.MetricsReporting=j.default,o.MediaPlayerFactory=l.default,o.Version=(0,m.getVersionString)(),c.default=o,c.MediaPlayer=f.default,c.Protection=h.default,c.MetricsReporting=j.default,c.MediaPlayerFactory=l.default}).call(this,\\\"undefined\\\"!=typeof global?global:\\\"undefined\\\"!=typeof self?self:\\\"undefined\\\"!=typeof window?window:{})},{106:106,11:11,51:51,53:53,75:75}],6:[function(a,b,c){/*! codem-isoboxer v0.2.2 https://github.com/madebyhiro/codem-isoboxer/blob/master/LICENSE.txt */\\nvar d={};d.parseBuffer=function(a){return new e(a).parse()},d.Utils={},d.Utils.dataViewToString=function(a,b){var c=b||\\\"utf-8\\\";if(\\\"undefined\\\"!=typeof TextDecoder)return new TextDecoder(c).decode(a);var d=[],e=0;if(\\\"utf-8\\\"===c)for(;e<a.byteLength;){var f=a.getUint8(e++);f<128||(f<224?(f=(31&f)<<6,f|=63&a.getUint8(e++)):f<240?(f=(15&f)<<12,f|=(63&a.getUint8(e++))<<6,f|=63&a.getUint8(e++)):(f=(7&f)<<18,f|=(63&a.getUint8(e++))<<12,f|=(63&a.getUint8(e++))<<6,f|=63&a.getUint8(e++))),d.push(String.fromCharCode(f))}else for(;e<a.byteLength;)d.push(String.fromCharCode(a.getUint8(e++)));return d.join(\\\"\\\")},\\\"undefined\\\"!=typeof c&&(c.parseBuffer=d.parseBuffer,c.Utils=d.Utils),d.Cursor=function(a){this.offset=\\\"undefined\\\"==typeof a?0:a};var e=function(a){this._raw=new DataView(a),this._cursor=new d.Cursor,this.boxes=[]};e.prototype.fetch=function(a){var b=this.fetchAll(a,!0);return b.length?b[0]:null},e.prototype.fetchAll=function(a,b){var c=[];return e._sweep.call(this,a,c,b),c},e.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var a=f.parse(this);if(\\\"undefined\\\"==typeof a.type)break;this.boxes.push(a)}return this},e._sweep=function(a,b,c){this.type&&this.type==a&&b.push(this);for(var d in this.boxes){if(b.length&&c)return;e._sweep.call(this.boxes[d],a,b,c)}};var f=function(){this._cursor=new d.Cursor};f.parse=function(a){var b=new f;return b._offset=a._cursor.offset,b._root=a._root?a._root:a,b._raw=a._raw,b._parent=a,b._parseBox(),a._cursor.offset=b._raw.byteOffset+b._raw.byteLength,b},f.prototype._readInt=function(a){var b=null;switch(a){case 8:b=this._raw.getInt8(this._cursor.offset-this._raw.byteOffset);break;case 16:b=this._raw.getInt16(this._cursor.offset-this._raw.byteOffset);break;case 32:b=this._raw.getInt32(this._cursor.offset-this._raw.byteOffset);break;case 64:var c=this._raw.getInt32(this._cursor.offset-this._raw.byteOffset),d=this._raw.getInt32(this._cursor.offset-this._raw.byteOffset+4);b=c*Math.pow(2,32)+d}return this._cursor.offset+=a>>3,b},f.prototype._readUint=function(a){var b=null;switch(a){case 8:b=this._raw.getUint8(this._cursor.offset-this._raw.byteOffset);break;case 16:b=this._raw.getUint16(this._cursor.offset-this._raw.byteOffset);break;case 24:var c=this._raw.getUint16(this._cursor.offset-this._raw.byteOffset),d=this._raw.getUint8(this._cursor.offset-this._raw.byteOffset+2);b=(c<<8)+d;break;case 32:b=this._raw.getUint32(this._cursor.offset-this._raw.byteOffset);break;case 64:var c=this._raw.getUint32(this._cursor.offset-this._raw.byteOffset),d=this._raw.getUint32(this._cursor.offset-this._raw.byteOffset+4);b=c*Math.pow(2,32)+d}return this._cursor.offset+=a>>3,b},f.prototype._readString=function(a){for(var b=\\\"\\\",c=0;c<a;c++){var d=this._readUint(8);b+=String.fromCharCode(d)}return b},f.prototype._readTerminatedString=function(){for(var a=\\\"\\\";;){var b=this._readUint(8);if(0==b)break;a+=String.fromCharCode(b)}return a},f.prototype._readTemplate=function(a){var b=this._readUint(a/2),c=this._readUint(a/2);return b+c/Math.pow(2,a/2)},f.prototype._parseBox=function(){if(this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)return void(this._root._incomplete=!0);switch(this.size=this._readUint(32),this.type=this._readString(4),1==this.size&&(this.largesize=this._readUint(64)),\\\"uuid\\\"==this.type&&(this.usertype=this._readString(16)),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset,this._raw.byteLength-this._cursor.offset);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}!this._incomplete&&this._boxParsers[this.type]&&this._boxParsers[this.type].call(this)},f.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},f.prototype._boxParsers={},[\\\"moov\\\",\\\"trak\\\",\\\"tref\\\",\\\"mdia\\\",\\\"minf\\\",\\\"stbl\\\",\\\"edts\\\",\\\"dinf\\\",\\\"mvex\\\",\\\"moof\\\",\\\"traf\\\",\\\"mfra\\\",\\\"udta\\\",\\\"meco\\\",\\\"strk\\\",\\\"vttc\\\"].forEach(function(a){f.prototype._boxParsers[a]=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(f.parse(this))}}),f.prototype._boxParsers.elst=function(){this._parseFullBox(),this.entry_count=this._readUint(32),this.entries=[];for(var a=1;a<=this.entry_count;a++){var b={};1==this.version?(b.segment_duration=this._readUint(64),b.media_time=this._readInt(64)):(b.segment_duration=this._readUint(32),b.media_time=this._readInt(32)),b.media_rate_integer=this._readInt(16),b.media_rate_fraction=this._readInt(16),this.entries.push(b)}},f.prototype._boxParsers.emsg=function(){this._parseFullBox(),this.scheme_id_uri=this._readTerminatedString(),this.value=this._readTerminatedString(),this.timescale=this._readUint(32),this.presentation_time_delta=this._readUint(32),this.event_duration=this._readUint(32),this.id=this._readUint(32),this.message_data=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset))},f.prototype._boxParsers.free=f.prototype._boxParsers.skip=function(){this.data=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset))},f.prototype._boxParsers.ftyp=f.prototype._boxParsers.styp=function(){for(this.major_brand=this._readString(4),this.minor_versions=this._readUint(32),this.compatible_brands=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.compatible_brands.push(this._readString(4))},f.prototype._boxParsers.hdlr=function(){this._parseFullBox(),this.pre_defined=this._readUint(32),this.handler_type=this._readString(4),this.reserved=[this._readUint(32),this._readUint(32),this._readUint(32)],this.name=this._readTerminatedString()},f.prototype._boxParsers.mdat=function(){this.data=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset))},f.prototype._boxParsers.mdhd=function(){this._parseFullBox(),1==this.version?(this.creation_time=this._readUint(64),this.modification_time=this._readUint(64),this.timescale=this._readUint(32),this.duration=this._readUint(64)):(this.creation_time=this._readUint(32),this.modification_time=this._readUint(32),this.timescale=this._readUint(32),this.duration=this._readUint(32));var a=this._readUint(16);this.pad=a>>15,this.language=String.fromCharCode((a>>10&31)+96,(a>>5&31)+96,(31&a)+96),this.pre_defined=this._readUint(16)},f.prototype._boxParsers.mfhd=function(){this._parseFullBox(),this.sequence_number=this._readUint(32)},f.prototype._boxParsers.mvhd=function(){this._parseFullBox(),1==this.version?(this.creation_time=this._readUint(64),this.modification_time=this._readUint(64),this.timescale=this._readUint(32),this.duration=this._readUint(64)):(this.creation_time=this._readUint(32),this.modification_time=this._readUint(32),this.timescale=this._readUint(32),this.duration=this._readUint(32)),this.rate=this._readTemplate(32),this.volume=this._readTemplate(16),this.reserved1=this._readUint(16),this.reserved2=[this._readUint(32),this._readUint(32)],this.matrix=[];for(var a=0;a<9;a++)this.matrix.push(this._readTemplate(32));this.pre_defined=[];for(var a=0;a<6;a++)this.pre_defined.push(this._readUint(32));this.next_track_ID=this._readUint(32)},f.prototype._boxParsers.payl=function(){var a=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset));this.cue_text=d.Utils.dataViewToString(a)},f.prototype._boxParsers.sidx=function(){this._parseFullBox(),this.reference_ID=this._readUint(32),this.timescale=this._readUint(32),0==this.version?(this.earliest_presentation_time=this._readUint(32),this.first_offset=this._readUint(32)):(this.earliest_presentation_time=this._readUint(64),this.first_offset=this._readUint(64)),this.reserved=this._readUint(16),this.reference_count=this._readUint(16),this.references=[];for(var a=0;a<this.reference_count;a++){var b={},c=this._readUint(32);b.reference_type=c>>31&1,b.referenced_size=2147483647&c,b.subsegment_duration=this._readUint(32);var d=this._readUint(32);b.starts_with_SAP=d>>31&1,b.SAP_type=d>>28&7,b.SAP_delta_time=268435455&d,this.references.push(b)}},f.prototype._boxParsers.ssix=function(){this._parseFullBox(),this.subsegment_count=this._readUint(32),this.subsegments=[];for(var a=0;a<this.subsegment_count;a++){var b={};b.ranges_count=this._readUint(32),b.ranges=[];for(var c=0;c<b.ranges_count;c++){var d={};d.level=this._readUint(8),d.range_size=this._readUint(24),b.ranges.push(d)}this.subsegments.push(b)}},f.prototype._boxParsers.tfdt=function(){this._parseFullBox(),1==this.version?this.baseMediaDecodeTime=this._readUint(64):this.baseMediaDecodeTime=this._readUint(32)},f.prototype._boxParsers.tfhd=function(){this._parseFullBox(),this.track_ID=this._readUint(32),1&this.flags&&(this.base_data_offset=this._readUint(64)),2&this.flags&&(this.sample_description_offset=this._readUint(32)),8&this.flags&&(this.default_sample_duration=this._readUint(32)),16&this.flags&&(this.default_sample_size=this._readUint(32)),32&this.flags&&(this.default_sample_flags=this._readUint(32))},f.prototype._boxParsers.tkhd=function(){this._parseFullBox(),1==this.version?(this.creation_time=this._readUint(64),this.modification_time=this._readUint(64),this.track_ID=this._readUint(32),this.reserved1=this._readUint(32),this.duration=this._readUint(64)):(this.creation_time=this._readUint(32),this.modification_time=this._readUint(32),this.track_ID=this._readUint(32),this.reserved1=this._readUint(32),this.duration=this._readUint(32)),this.reserved2=[this._readUint(32),this._readUint(32)],this.layer=this._readUint(16),this.alternate_group=this._readUint(16),this.volume=this._readTemplate(16),this.reserved3=this._readUint(16),this.matrix=[];for(var a=0;a<9;a++)this.matrix.push(this._readTemplate(32));this.width=this._readUint(32),this.height=this._readUint(32)},f.prototype._boxParsers.trun=function(){this._parseFullBox(),this.sample_count=this._readUint(32),1&this.flags&&(this.data_offset=this._readInt(32)),4&this.flags&&(this.first_sample_flags=this._readUint(32)),this.samples=[];for(var a=0;a<this.sample_count;a++){var b={};256&this.flags&&(b.sample_duration=this._readUint(32)),512&this.flags&&(b.sample_size=this._readUint(32)),1024&this.flags&&(b.sample_flags=this._readUint(32)),2048&this.flags&&(0==this.version?b.sample_composition_time_offset=this._readUint(32):b.sample_composition_time_offset=this._readInt(32)),this.samples.push(b)}},f.prototype._boxParsers.vlab=function(){var a=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset));this.source_label=d.Utils.dataViewToString(a)},f.prototype._boxParsers.vttC=function(){var a=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset));this.config=d.Utils.dataViewToString(a)},f.prototype._boxParsers.vtte=function(){}},{}],7:[function(a,b,c){var d=c.decimalAdjust=function(a,b,c){return\\\"undefined\\\"==typeof c||0===+c?Math[a](b):(b=+b,c=+c,isNaN(b)||\\\"number\\\"!=typeof c||c%1!==0?NaN:(b=b.toString().split(\\\"e\\\"),b=Math[a](+(b[0]+\\\"e\\\"+(b[1]?+b[1]-c:-c))),b=b.toString().split(\\\"e\\\"),+(b[0]+\\\"e\\\"+(b[1]?+b[1]+c:c))))};b.exports={round10:function(a,b){return d(\\\"round\\\",a,b)},floor10:function(a,b){return d(\\\"floor\\\",a,b)},ceil10:function(a,b){return d(\\\"ceil\\\",a,b)}},b.exports.polyfill=function(){Math.round10||(Math.round10=b.exports.round10),Math.floor10||(Math.floor10=b.exports.floor10),Math.ceil10||(Math.ceil10=b.exports.ceil10)}},{}],8:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){k=!0,l=!0,m=(new Date).getTime()}function b(a){l=a}function c(a){k=a}function d(){return k}function e(){var a=\\\"\\\",b=null;l&&(b=(new Date).getTime(),a+=\\\"[\\\"+(b-m)+\\\"]\\\"),a.length>0&&(a+=\\\" \\\"),Array.apply(null,arguments).forEach(function(b){a+=b+\\\" \\\"}),k&&console.log(a),h.trigger(i.default.LOG,{message:a})}var f=this.context,h=(0,g.default)(f).getInstance(),j=void 0,k=void 0,l=void 0,m=void 0;return j={log:e,setLogTimestampVisible:b,setLogToBrowserConsole:c,getLogToBrowserConsole:d},a(),j}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(9),g=d(f),h=a(13),i=d(h),j=a(10),k=d(j);e.__dashjs_factory_name=\\\"Debug\\\",c.default=k.default.getSingletonFactory(e),b.exports=c.default},{10:10,13:13,9:9}],9:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a,b,c){var e=arguments.length<=3||void 0===arguments[3]?h:arguments[3];if(!a)throw new Error(\\\"event type cannot be null or undefined\\\");if(!b||\\\"function\\\"!=typeof b)throw new Error(\\\"listener must be a function: \\\"+b);if(!(d(a,b,c)>=0)){f[a]=f[a]||[];var g={callback:b,scope:c,priority:e},i=f[a].some(function(b,c){if(e>b.priority)return f[a].splice(c,0,g),!0});i||f[a].push(g)}}function b(a,b,c){if(a&&b&&f[a]){var e=d(a,b,c);e<0||f[a].splice(e,1)}}function c(a,b){if(a&&f[a]){if(b=b||{},b.hasOwnProperty(\\\"type\\\"))throw new Error(\\\"'type' is a reserved word for event dispatching\\\");b.type=a,f[a].forEach(function(a){return a.callback.call(a.scope,b)})}}function d(a,b,c){var d=-1;return f[a]?(f[a].some(function(a,e){if(a.callback===b&&(!c||c===a.scope))return d=e,!0}),d):d}function e(){f={}}var f={},g={on:a,off:b,trigger:c,reset:e};return g}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f),h=0,i=5e3;e.__dashjs_factory_name=\\\"EventBus\\\";var j=g.default.getSingletonFactory(e);j.EVENT_PRIORITY_LOW=h,j.EVENT_PRIORITY_HIGH=i,c.default=j,b.exports=c.default},{10:10}],10:[function(a,b,c){\\\"use strict\\\";Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var d=function(){function a(a,b,c,d){var e=g(d);!e[a]&&b&&(e[a]={instance:b,override:c})}function b(a,b){for(var c in j){var d=j[c];if(d.context===a&&d.name===b)return d.instance}return null}function c(a,b,c){for(var d in j){var e=j[d];if(e.context===a&&e.name===b)return void(j[d].instance=c)}j.push({name:b,context:a,instance:c})}function d(a){return function(b){return void 0===b&&(b={}),{create:function(){return f(a.__dashjs_factory_name,a.apply({context:b},arguments),b,arguments)}}}}function e(a){return function(c){var d=void 0;return void 0===c&&(c={}),{getInstance:function(){return d||(d=b(c,a.__dashjs_factory_name)),d||(d=f(a.__dashjs_factory_name,a.apply({context:c},arguments),c,arguments),j.push({name:a.__dashjs_factory_name,context:c,instance:d})),d}}}}function f(a,b,c,d){var e=g(c),f=e[a];if(f){var i=f.instance;if(!f.override)return i.apply({context:c,factory:h},d);i=i.apply({context:c,factory:h,parent:b},d);for(var j in i)b.hasOwnProperty(j)&&(b[j]=i[j])}return b}function g(a){var b=void 0;return i.forEach(function(c){c===a&&(b=c)}),b||(b=i.push(a)),b}var h=void 0,i=[],j=[];return h={extend:a,getSingletonInstance:b,setSingletonInstance:c,getSingletonFactory:e,getClassFactory:d}}();c.default=d,b.exports=c.default},{}],11:[function(a,b,c){\\\"use strict\\\";function d(){return e}Object.defineProperty(c,\\\"__esModule\\\",{value:!0}),c.getVersionString=d;var e=\\\"2.3.0\\\"},{}],12:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}function f(a,b){if(\\\"function\\\"!=typeof b&&null!==b)throw new TypeError(\\\"Super expression must either be null or a function, not \\\"+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var g=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if(\\\"value\\\"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}},h=a(14),i=d(h),j=function(a){function b(){e(this,b),g(Object.getPrototypeOf(b.prototype),\\\"constructor\\\",this).call(this),this.AST_IN_FUTURE=\\\"astinfuture\\\",this.BUFFERING_COMPLETED=\\\"bufferingCompleted\\\",this.BUFFER_CLEARED=\\\"bufferCleared\\\",this.BUFFER_LEVEL_UPDATED=\\\"bufferLevelUpdated\\\",this.BYTES_APPENDED=\\\"bytesAppended\\\",this.CHECK_FOR_EXISTENCE_COMPLETED=\\\"checkForExistenceCompleted\\\",this.CHUNK_APPENDED=\\\"chunkAppended\\\",this.CURRENT_TRACK_CHANGED=\\\"currenttrackchanged\\\",this.DATA_UPDATE_COMPLETED=\\\"dataUpdateCompleted\\\",this.DATA_UPDATE_STARTED=\\\"dataUpdateStarted\\\",this.FRAGMENT_LOADING_COMPLETED=\\\"fragmentLoadingCompleted\\\",this.FRAGMENT_LOADING_STARTED=\\\"fragmentLoadingStarted\\\",this.FRAGMENT_LOADING_ABANDONED=\\\"fragmentLoadingAbandoned\\\",this.INITIALIZATION_LOADED=\\\"initializationLoaded\\\",this.INIT_FRAGMENT_LOADED=\\\"initFragmentLoaded\\\",this.INIT_REQUESTED=\\\"initRequested\\\",this.INTERNAL_MANIFEST_LOADED=\\\"internalManifestLoaded\\\",this.LIVE_EDGE_SEARCH_COMPLETED=\\\"liveEdgeSearchCompleted\\\",this.LOADING_COMPLETED=\\\"loadingCompleted\\\",this.LOADING_PROGRESS=\\\"loadingProgress\\\",this.MANIFEST_UPDATED=\\\"manifestUpdated\\\",this.MEDIA_FRAGMENT_LOADED=\\\"mediaFragmentLoaded\\\",this.QUOTA_EXCEEDED=\\\"quotaExceeded\\\",this.REPRESENTATION_UPDATED=\\\"representationUpdated\\\",this.SEGMENTS_LOADED=\\\"segmentsLoaded\\\",this.SERVICE_LOCATION_BLACKLIST_CHANGED=\\\"serviceLocationBlacklistChanged\\\",this.SOURCEBUFFER_APPEND_COMPLETED=\\\"sourceBufferAppendCompleted\\\",this.SOURCEBUFFER_REMOVE_COMPLETED=\\\"sourceBufferRemoveCompleted\\\",this.STREAMS_COMPOSED=\\\"streamsComposed\\\",this.STREAM_BUFFERING_COMPLETED=\\\"streamBufferingCompleted\\\",this.STREAM_COMPLETED=\\\"streamCompleted\\\",this.STREAM_INITIALIZED=\\\"streaminitialized\\\",this.STREAM_TEARDOWN_COMPLETE=\\\"streamTeardownComplete\\\",this.TIMED_TEXT_REQUESTED=\\\"timedTextRequested\\\",this.TIME_SYNCHRONIZATION_COMPLETED=\\\"timeSynchronizationComplete\\\",this.URL_RESOLUTION_FAILED=\\\"urlResolutionFailed\\\",this.WALLCLOCK_TIME_UPDATED=\\\"wallclockTimeUpdated\\\",this.XLINK_ALL_ELEMENTS_LOADED=\\\"xlinkAllElementsLoaded\\\",this.XLINK_ELEMENT_LOADED=\\\"xlinkElementLoaded\\\",this.XLINK_READY=\\\"xlinkReady\\\"}return f(b,a),b}(i.default);c.default=j,b.exports=c.default},{14:14}],13:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}function f(a,b){if(\\\"function\\\"!=typeof b&&null!==b)throw new TypeError(\\\"Super expression must either be null or a function, not \\\"+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var g=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if(\\\"value\\\"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}},h=a(12),i=d(h),j=function(a){function b(){e(this,b),g(Object.getPrototypeOf(b.prototype),\\\"constructor\\\",this).apply(this,arguments)}return f(b,a),b}(i.default),k=new j;c.default=k,b.exports=c.default},{12:12}],14:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,\\\"value\\\"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(){d(this,a)}return e(a,[{key:\\\"extend\\\",value:function(a,b){if(a){var c=!!b&&b.override,d=!!b&&b.publicOnly;for(var e in a)!a.hasOwnProperty(e)||this[e]&&!c||d&&a[e].indexOf(\\\"public_\\\")===-1||(this[e]=a[e])}}}]),a}();c.default=f,b.exports=c.default},{}],15:[function(a,b,c){\\\"use strict\\\";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function e(a){return a&&a.__esModule?a:{default:a}}function f(){function a(a){a&&a.dashManifestModel&&(I=a.dashManifestModel)}function b(){J=[],K={}}function c(a,b){return b.getRepresentationForQuality(a.quality)}function d(a){return K[a.streamInfo.id][a.index]}function e(a){for(var b=J.length,c=0;c<b;c++){var d=J[c];if(a.id===d.id)return d}return null}function f(a,b){var c=new h.default,d=b.adaptation.period.mpd.manifest.Period_asArray[b.adaptation.period.index].AdaptationSet_asArray[b.adaptation.index],e=I.getRepresentationFor(b.index,d);return c.id=b.id,c.quality=b.index,c.bandwidth=I.getBandwidth(e),c.DVRWindow=b.segmentAvailabilityRange,c.fragmentDuration=b.segmentDuration||(b.segments&&b.segments.length>0?b.segments[0].duration:NaN),c.MSETimeOffset=b.MSETimeOffset,c.useCalculatedLiveEdgeTime=b.useCalculatedLiveEdgeTime,c.mediaInfo=g(a,b.adaptation),c}function g(a,b){var c,d=new j.default,e=b.period.mpd.manifest.Period_asArray[b.period.index].AdaptationSet_asArray[b.index];return d.id=b.id,d.index=b.index,d.type=b.type,d.streamInfo=k(a,b.period),d.representationCount=I.getRepresentationCount(e),d.lang=I.getLanguageForAdaptation(e),c=I.getViewpointForAdaptation(e),d.viewpoint=c?c.value:void 0,d.accessibility=I.getAccessibilityForAdaptation(e).map(function(a){var b=a.value,c=b;return a.schemeIdUri&&a.schemeIdUri.search(\\\"cea-608\\\")>=0&&\\\"undefined\\\"!=typeof t.default&&(c=b?\\\"cea-608:\\\"+b:\\\"cea-608\\\",d.embeddedCaptions=!0),c}),d.audioChannelConfiguration=I.getAudioChannelConfigurationForAdaptation(e).map(function(a){return a.value}),d.roles=I.getRolesForAdaptation(e).map(function(a){return a.value}),d.codec=I.getCodec(e),d.mimeType=I.getMimeType(e),d.contentProtection=I.getContentProtectionData(e),d.bitrateList=I.getBitrateListForAdaptation(e),d.contentProtection&&d.contentProtection.forEach(function(a){a.KID=I.getKID(a)}),d.isText=I.getIsTextTrack(d.mimeType),d}function i(a,b,c){a.id=b,a.index=100+parseInt(b.substring(2,3)),a.type=\\\"embeddedText\\\",a.codec=\\\"cea-608-in-SEI\\\",a.isText=!0,a.isEmbedded=!0,a.lang=b+\\\" \\\"+c,a.roles=[\\\"caption\\\"]}function k(a,b){var c=new l.default,d=1;return c.id=b.id,c.index=b.index,c.start=b.start,c.duration=b.duration,c.manifestInfo=m(a,b.mpd),c.isLast=1===a.Period_asArray.length||Math.abs(c.start+c.duration-c.manifestInfo.duration)<d,c.isFirst=1===a.Period_asArray.length||I.getRegularPeriods(a,I.getMpd(a))[0].id===b.id,c}function m(a,b){var c=new n.default;return c.DVRWindowSize=b.timeShiftBufferDepth,c.loadedTime=b.manifest.loadedTime,c.availableFrom=b.availabilityStartTime,c.minBufferTime=b.manifest.minBufferTime,c.maxFragmentDuration=b.maxSegmentDuration,c.duration=I.getDuration(a),c.isDynamic=I.getIsDynamic(a),c}function o(a,b,c){var d=I.getAdaptationForType(a,b.index,c,b);if(!d)return null;var f=e(b),h=f.id,i=I.getIndexForAdaptation(d,a,b.index);return K[h]=K[h]||I.getAdaptationsForPeriod(a,f),g(a,K[h][i])}function q(a,b,c){var d,f,h,j,k,l,m=e(b),n=m.id,o=I.getAdaptationsForType(a,b.index,\\\"embeddedText\\\"!==c?c:\\\"video\\\"),p=[];if(!o)return p;for(K[n]=K[n]||I.getAdaptationsForPeriod(a,m),j=0,l=o.length;j<l;j++){if(d=o[j],h=I.getIndexForAdaptation(d,a,b.index),f=g(a,K[n][h]),\\\"embeddedText\\\"===c){var q=f.accessibility.length;for(k=0;k<q;k++)if(f){var r=f.accessibility[k];if(0===r.indexOf(\\\"cea-608:\\\")){var s=r.substring(8),t=s.split(\\\";\\\");if(\\\"CC\\\"===t[0].substring(0,2))for(k=0;k<t.length;k++)f||(f=g.call(this,a,K[n][h])),i(f,t[k].substring(0,3),t[k].substring(4)),p.push(f),f=null;else for(k=0;k<t.length;k++)f||(f=g.call(this,a,K[n][h])),i(f,\\\"CC\\\"+(k+1),t[k]),p.push(f),f=null}else 0===r.indexOf(\\\"cea-608\\\")&&(i(f,\\\"CC1\\\",\\\"eng\\\"),p.push(f),f=null)}}f&&\\\"embeddedText\\\"!==c&&p.push(f)}return p}function r(a){var b,c,d,e=[];if(!a)return null;for(b=I.getMpd(a),J=I.getRegularPeriods(a,b),b.checkTime=I.getCheckTime(a,J[0]),K={},c=J.length,d=0;d<c;d++)e.push(k(a,J[d]));return e}function s(a){var b=I.getMpd(a);return m(a,b)}function u(a,b){var c=a.getRepresentationController().getRepresentationForQuality(b);return a.getIndexHandler().getInitRequest(c)}function w(a,b){var d=c(b,a.getRepresentationController());return a.getIndexHandler().getNextSegmentRequest(d)}function x(a,b,d,e){var f=c(b,a.getRepresentationController());return a.getIndexHandler().getSegmentRequestForTime(f,d,e)}function y(a,b,d){var e=c(b,a.getRepresentationController());return a.getIndexHandler().generateSegmentRequestForTime(e,d)}function z(a){return a.getIndexHandler().getCurrentTime()}function A(a,b){return a.getIndexHandler().setCurrentTime(b)}function B(a,b){var c,f,g=e(b.getStreamInfo()),h=b.getMediaInfo(),i=d(h),j=b.getType();c=h.id,f=c?I.getAdaptationForId(c,a,g.index):I.getAdaptationForIndex(h.index,a,g.index),b.getRepresentationController().updateData(f,i,j)}function C(a,b,c){var d=b.getRepresentationForQuality(c);return d?f(a,d):null}function D(a,b){var c=b.getCurrentRepresentation();return c?f(a,c):null}function E(a,b,c){var d=new p.default,e=a.scheme_id_uri,f=a.value,g=a.timescale,h=a.presentation_time_delta,i=a.event_duration,j=a.id,k=a.message_data,l=c*g+h;return b[e]?(d.eventStream=b[e],d.eventStream.value=f,d.eventStream.timescale=g,d.duration=i,d.id=j,d.presentationTime=l,d.messageData=k,d.presentationTimeDelta=h,d):null}function F(a,b,f){var g=[];return b instanceof l.default?g=I.getEventsForPeriod(a,e(b)):b instanceof j.default?g=I.getEventStreamForAdaptationSet(a,d(b)):b instanceof h.default&&(g=I.getEventStreamForRepresentation(a,c(b,f.getRepresentationController()))),g}function G(){J=[],K={}}var H=void 0,I=void 0,J=void 0,K=void 0;return H={initialize:b,convertDataToTrack:f,convertDataToMedia:g,convertDataToStream:k,getDataForTrack:c,getDataForMedia:d,getDataForStream:e,getStreamsInfo:r,getManifestInfo:s,getMediaInfoForType:o,getAllMediaInfoForType:q,getCurrentRepresentationInfo:D,getRepresentationInfoForQuality:C,updateData:B,getInitRequest:u,getNextFragmentRequest:w,getFragmentRequestForTime:x,generateFragmentRequestForTime:y,getIndexHandlerTime:z,setIndexHandlerTime:A,getEventsFor:F,getEvent:E,setConfig:a,reset:G,metricsList:v}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var g=a(172),h=e(g),i=a(167),j=e(i),k=a(169),l=e(k),m=a(166),n=e(m),o=a(41),p=e(o),q=a(10),r=e(q),s=a(2),t=e(s),u=a(20),v=d(u);f.__dashjs_factory_name=\\\"DashAdapter\\\",c.default=r.default.getSingletonFactory(f),b.exports=c.default},{10:10,166:166,167:167,169:169,172:172,2:2,20:20,41:41}],16:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){U=-1,Y=0,Z=NaN,M.on(l.default.INITIALIZATION_LOADED,I,T),M.on(l.default.SEGMENTS_LOADED,J,T)}function c(b){$=b,X=$.getType(),W=$.isDynamic(),_=(0,w.default)(K).create(a,W)}function d(){return $}function e(a){Y=a}function f(){return Y}function h(){return U}function k(){return Z}function m(){_=null,Y=0,Z=NaN,V=NaN,U=-1,W=null,X=null,$=null,M.off(l.default.INITIALIZATION_LOADED,I,T),M.off(l.default.SEGMENTS_LOADED,J,T)}function o(a){return a.split(\\\"$$\\\").join(\\\"$\\\")}function p(a,b){if(null===b||a.indexOf(\\\"$RepresentationID$\\\")===-1)return a;var c=b.toString();return a.split(\\\"$RepresentationID$\\\").join(c)}function q(a,b,c){var d,e,f=S.resolve(c.path);return f&&b!==f.url&&N.isRelative(b)?(d=f.url,e=f.serviceLocation,b&&(d+=b)):d=b,!N.isRelative(d)&&(a.url=d,a.serviceLocation=e,!0)}function s(a,b){var c,d,e=new g.default;if(c=a.adaptation.period,e.mediaType=b,e.type=j.HTTPRequest.INIT_SEGMENT_TYPE,e.range=a.range,d=c.start,e.availabilityStartTime=P.calcAvailabilityStartTimeFromPresentationTime(d,a.adaptation.period.mpd,W),e.availabilityEndTime=P.calcAvailabilityEndTimeFromPresentationTime(d+c.duration,c.mpd,W),e.quality=a.index,e.mediaInfo=$.getMediaInfo(),q(e,a.initialization,a))return e}function v(a){var b;return a?b=s(a,X):null}function y(a){var b,c,d,e=a.adaptation.period,f=a.segmentInfoType,g=!1;return U<0?g=!1:W||U<a.availableSegmentsNumber?(c=(0,u.getSegmentByIndex)(U,a),c&&(d=c.presentationStartTime-e.start,b=a.adaptation.period.duration,L(a.segmentInfoType+\\\": \\\"+d+\\\" / \\\"+b),g=(\\\"SegmentTimeline\\\"!==f||!W)&&d>=b)):g=!0,g}function z(a){return _.getSegments(a,V,U,A)}function A(a,b){if(a.segments=b,b&&b.length>0&&(Z=isNaN(Z)?b[0].presentationStartTime:Math.min(b[0].presentationStartTime,Z)),W&&isNaN(P.getExpectedLiveEdge())){var c=b.length-1,d=b[c],e=d.presentationStartTime,f=R.getMetricsFor(\\\"stream\\\");P.setExpectedLiveEdge(e),R.updateManifestUpdateInfo(Q.getCurrentManifestUpdate(f),{presentationStartTime:e})}}function B(a){if(!a)throw new i.default(\\\"no representation\\\");return a.segments=null,z(a),a}function C(a,b){var c,d=a.initialization,e=\\\"BaseURL\\\"!==a.segmentInfoType&&\\\"SegmentBase\\\"!==a.segmentInfoType&&!a.indexRange;return a.segmentDuration||a.segments||B(a),a.segmentAvailabilityRange=null,a.segmentAvailabilityRange=P.calcSegmentAvailabilityRange(a,W),a.segmentAvailabilityRange.end<a.segmentAvailabilityRange.start&&!a.useCalculatedLiveEdgeTime?(c=new i.default(x,\\\"no segments are available yet\\\",{availabilityDelay:a.segmentAvailabilityRange.start-a.segmentAvailabilityRange.end}),void M.trigger(l.default.REPRESENTATION_UPDATED,{sender:this,representation:a,error:c})):(b||(U=-1),a.segmentDuration&&B(a),d||O.loadInitialization(a),e||O.loadSegments(a,X,a.indexRange),void(d&&e&&M.trigger(l.default.REPRESENTATION_UPDATED,{sender:this,representation:a})))}function D(a,b,c){var d,e,f,g,h,i=b.segments,j=i?i.length:null,k=-1;if(i&&j>0)for(h=0;h<j;h++)if(e=i[h],f=e.presentationStartTime,g=e.duration,d=void 0===c||null===c?g/2:c,a+d>=f&&a-d<f+g){k=e.availabilityIdx;break}return k}function E(a){if(null===a||void 0===a)return null;var b=new g.default,c=a.representation,d=c.adaptation.period.mpd.manifest.Period_asArray[c.adaptation.period.index].AdaptationSet_asArray[c.adaptation.index].Representation_asArray[c.index].bandwidth,e=a.media;return e=(0,u.replaceTokenForTemplate)(e,\\\"Number\\\",a.replacementNumber),e=(0,u.replaceTokenForTemplate)(e,\\\"Time\\\",a.replacementTime),e=(0,u.replaceTokenForTemplate)(e,\\\"Bandwidth\\\",d),e=p(e,c.id),e=o(e),b.mediaType=X,b.type=j.HTTPRequest.MEDIA_SEGMENT_TYPE,b.range=a.mediaRange,b.startTime=a.presentationStartTime,b.duration=a.duration,b.timescale=c.timescale,b.availabilityStartTime=a.availabilityStartTime,b.availabilityEndTime=a.availabilityEndTime,b.wallStartTime=a.wallStartTime,b.quality=c.index,b.index=a.availabilityIdx,b.mediaInfo=$.getMediaInfo(),b.adaptationIndex=c.adaptation.index,q(b,e,c)?b:void 0}function F(a,b,c){var d,e,f,h=U,i=!!c&&c.keepIdx,j=c?c.timeThreshold:null,k=!(!c||!c.ignoreIsFinished);return a?(V!==b&&(V=b,L(\\\"Getting the request for \\\"+X+\\\" time : \\\"+b)),U=D(b,a,j),z(a),U<0&&(U=D(b,a,j)),U>0&&L(\\\"Index for \\\"+X+\\\" time \\\"+b+\\\" is \\\"+U),f=!k&&y(a),f?(d=new g.default,d.action=g.default.ACTION_COMPLETE,d.index=U,d.mediaType=X,d.mediaInfo=$.getMediaInfo(),L(\\\"Signal complete.\\\",d)):(e=(0,u.getSegmentByIndex)(U,a),d=E(e)),i&&h>=0&&(U=\\\"SegmentTimeline\\\"===a.segmentInfoType&&W?U:h),d):null}function G(a,b){var c=(a.segmentAvailabilityRange.end-a.segmentAvailabilityRange.start)/2;return a.segments=null,a.segmentAvailabilityRange={start:b-c,end:b+c},F(a,b,{keepIdx:!1,ignoreIsFinished:!0})}function H(a){var b,c,d;return a&&U!==-1?(V=null,U++,L(\\\"Getting the next request at index: \\\"+U),d=y(a),d?(b=new g.default,b.action=g.default.ACTION_COMPLETE,b.index=U,b.mediaType=X,b.mediaInfo=$.getMediaInfo(),L(\\\"Signal complete.\\\")):(z(a),c=(0,u.getSegmentByIndex)(U,a),b=E(c),!c&&W&&U--),b):null}function I(a){var b=a.representation;b.segments&&M.trigger(l.default.REPRESENTATION_UPDATED,{sender:this,representation:b})}function J(a){if(!a.error&&X===a.mediaType){var b,c,d,e,f=a.segments,g=a.representation,h=[],i=0;for(b=0,c=f.length;b<c;b++)d=f[b],e=(0,u.getTimeBasedSegment)(P,W,g,d.startTime,d.duration,d.timescale,d.media,d.mediaRange,i),h.push(e),e=null,i++;g.segmentAvailabilityRange={start:h[0].presentationStartTime,end:h[c-1].presentationStartTime},g.availableSegmentsNumber=c,A(g,h),g.initialization&&M.trigger(l.default.REPRESENTATION_UPDATED,{sender:this,\\nrepresentation:g})}}var K=this.context,L=(0,r.default)(K).getInstance().log,M=(0,n.default)(K).getInstance(),N=(0,t.default)(K).getInstance(),O=a.segmentBaseLoader,P=a.timelineConverter,Q=a.dashMetrics,R=a.metricsModel,S=a.baseURLController,T=void 0,U=void 0,V=void 0,W=void 0,X=void 0,Y=void 0,Z=void 0,$=void 0,_=void 0;return T={initialize:c,getStreamProcessor:d,getInitRequest:v,getSegmentRequestForTime:F,getNextSegmentRequest:H,generateSegmentRequestForTime:G,updateRepresentation:C,setCurrentTime:e,getCurrentTime:f,getCurrentIndex:h,getEarliestTime:k,reset:m},b(),T}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(163),g=d(f),h=a(162),i=d(h),j=a(179),k=a(13),l=d(k),m=a(9),n=d(m),o=a(10),p=d(o),q=a(8),r=d(q),s=a(158),t=d(s),u=a(35),v=a(34),w=d(v),x=1;e.__dashjs_factory_name=\\\"DashHandler\\\";var y=p.default.getClassFactory(e);y.SEGMENTS_UNAVAILABLE_ERROR_CODE=x,c.default=y,b.exports=c.default},{10:10,13:13,158:158,162:162,163:163,179:179,34:34,35:35,8:8,9:9}],17:[function(a,b,c){\\\"use strict\\\";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function e(a){return a&&a.__esModule?a:{default:a}}function f(){function a(a,b){var c,d=C.getValue(),e=d.Period_asArray[b];return c=x(e,a),null===c?null:c.bandwidth}function b(a,b){var c,d=C.getValue(),e=d.Period_asArray[b];return c=w(e,a)}function c(a,b){var c,d=C.getValue(),e=d.Period_asArray[b];return c=z(e,a)}function d(a){return m(a,o.TRACK_SWITCH)}function e(a){return m(a,o.BUFFER_LEVEL)}function f(a){var b=e(a);return b?(0,p.round10)(b.level/1e3,-3):0}function h(a){return a.RequestsQueue}function j(a){if(null===a)return null;var b,c,d=a.HttpList,e=null;if(null===d||d.length<=0)return null;for(b=d.length,c=b-1;c>=0;){if(d[c].responsecode){e=d[c];break}c--}return e}function l(a){return null===a?[]:a.HttpList?a.HttpList:[]}function m(a,b){if(null===a)return null;var c=a[b];if(null===c)return null;var d=c.length;return d<=0?null:c[d-1]}function n(a){return m(a,o.DROPPED_FRAMES)}function q(a){return m(a,o.SCHEDULING_INFO)}function r(a){return m(a,o.MANIFEST_UPDATE)}function s(a){return m(a,o.DVR_INFO)}function t(a,b){var c,d,e,f={};if(null===a)return null;for(c=l(a),e=c.length-1;e>=0;e--)if(d=c[e],d.type===g.HTTPRequest.MPD_TYPE){f=v(d._responseHeaders);break}return void 0===f[b]?null:f[b]}function u(a,b){if(null===a)return null;var c,d=j(a);return null===d||null===d._responseHeaders?null:(c=v(d._responseHeaders),void 0===c[b]?null:c[b])}function v(a){var b={};if(!a)return b;for(var c=a.split(\\\"\\\\r\\\\n\\\"),d=0,e=c.length;d<e;d++){var f=c[d],g=f.indexOf(\\\": \\\");g>0&&(b[f.substring(0,g)]=f.substring(g+2))}return b}function w(a,b){var c=x(a,b,!0);return null!==c?c:-1}function x(a,b,c){var d,e,f,g,h,i;for(e=a.AdaptationSet_asArray,h=0;h<e.length;h+=1)for(d=e[h],g=d.Representation_asArray,i=0;i<g.length;i+=1)if(f=g[i],b===f.id)return c?i:f;return null}function y(a,b){return(0,k.default)(B).getInstance().getIsTypeOf(a,b)}function z(a,b){var c,d,e,f;if(!a||!b)return-1;for(d=a.AdaptationSet_asArray,f=0;f<d.length;f+=1)if(c=d[f],e=c.Representation_asArray,y(c,b))return e.length;return-1}var A=void 0,B=this.context,C=(0,i.default)(B).getInstance();return A={getBandwidthForRepresentation:a,getIndexForRepresentation:b,getMaxIndexForBufferType:c,getCurrentRepresentationSwitch:d,getLatestBufferLevelVO:e,getCurrentBufferLevel:f,getCurrentHttpRequest:j,getHttpRequests:l,getCurrentDroppedFrames:n,getCurrentSchedulingInfo:q,getCurrentDVRInfo:s,getCurrentManifestUpdate:r,getLatestFragmentRequestHeaderValueByID:u,getLatestMPDRequestHeaderValueByID:t,getRequestsQueue:h}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var g=a(179),h=a(100),i=e(h),j=a(22),k=e(j),l=a(10),m=e(l),n=a(20),o=d(n),p=a(7);f.__dashjs_factory_name=\\\"DashMetrics\\\",c.default=m.default.getSingletonFactory(f),b.exports=c.default},{10:10,100:100,179:179,20:20,22:22,7:7}],18:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){u=(0,m.default)(n).getInstance(),v=(0,s.default)(n).getInstance(),x=(0,g.default)(n).getInstance()}function b(a){a.baseURLController&&(y=a.baseURLController)}function c(a,b){var d=!0,e=null,f=null,g=new XMLHttpRequest,i=y.resolve(a.path),k=b||{url:i?i.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500,request:g};p(\\\"Start searching for initialization.\\\"),g.onload=function(){g.status<200||g.status>299||(d=!1,k.bytesLoaded=k.range.end,f=v.parse(g.response),e=h(f),e?(a.range=e,a.initialization=k.url,r.trigger(o.default.INITIALIZATION_LOADED,{representation:a})):(k.range.end=k.bytesLoaded+k.bytesToLoad,c(a,k)))},g.onloadend=g.onerror=function(){d&&(d=!1,u.downloadError(\\\"initialization\\\",k.url,g),r.trigger(o.default.INITIALIZATION_LOADED,{representation:a}))},j(g,k),p(\\\"Perform init search: \\\"+k.url)}function d(a,b,c,e,g){if(c&&(void 0===c.start||void 0===c.end)){var h=c?c.toString().split(\\\"-\\\"):null;c=h?{start:parseFloat(h[0]),end:parseFloat(h[1])}:null}g=g?g:l;var i=!0,k=null,m=null,n=!!c,o=new XMLHttpRequest,q=y.resolve(a.path),r={url:q?q.url:void 0,range:n?c:{start:0,end:1500},searching:!n,bytesLoaded:e?e.bytesLoaded:0,bytesToLoad:1500,request:o};o.onload=function(){if(!(o.status<200||o.status>299)){var c=r.bytesToLoad,e=o.response.byteLength;if(i=!1,r.bytesLoaded=r.range.end-r.range.start,k=v.parse(o.response),m=k.getBox(\\\"sidx\\\"),m&&m.isComplete){var h,j,l=m.references;if(null!==l&&void 0!==l&&l.length>0&&(h=1===l[0].reference_type),h){p(\\\"Initiate multiple SIDX load.\\\"),r.range.end=r.range.start+m.size;var n,q,s,t,u,w=[],x=0,y=(m.offset||r.range.start)+m.size,z=function(c){c?(w=w.concat(c),x++,x>=q&&g(w,a,b)):g(null,a,b)};for(n=0,q=l.length;n<q;n++)s=y,t=y+l[n].referenced_size-1,y+=l[n].referenced_size,u={start:s,end:t},d(a,null,u,r,z)}else p(\\\"Parsing segments from SIDX.\\\"),j=f(m,r),g(j,a,b)}else{if(m)r.range.start=m.offset||r.range.start,r.range.end=r.range.start+(m.size||c);else{if(e<r.bytesLoaded)return void g(null,a,b);var A=k.getLastBox();A&&A.size?(r.range.start=A.offset+A.size,r.range.end=r.range.start+c):r.range.end+=c}d(a,b,r.range,r,g)}}},o.onloadend=o.onerror=function(){i&&(i=!1,u.downloadError(\\\"SIDX\\\",r.url,o),g(null,a,b))},j(o,r),p(\\\"Perform SIDX load: \\\"+r.url)}function e(){u=null,v=null,x=null,p=null}function f(a,b){for(var c,d,e,f,g=a.references,h=g.length,j=a.timescale,k=a.earliest_presentation_time,l=b.range.start+a.offset+a.first_offset+a.size,m=[],n=0;n<h;n++)e=g[n].subsegment_duration,f=g[n].referenced_size,c=new i.default,c.duration=e,c.media=b.url,c.startTime=k,c.timescale=j,d=l+f-1,c.mediaRange=l+\\\"-\\\"+d,m.push(c),k+=e,l+=f;return m}function h(a){var b,c,d=a.getBox(\\\"ftyp\\\"),e=a.getBox(\\\"moov\\\"),f=null;return p(\\\"Searching for initialization.\\\"),e&&e.isComplete&&(b=d?d.offset:e.offset,c=e.offset+e.size-1,f=b+\\\"-\\\"+c,p(\\\"Found the initialization.  Range: \\\"+f)),f}function j(a,b){b.url&&(a.open(\\\"GET\\\",x.modifyRequestURL(b.url)),a.responseType=\\\"arraybuffer\\\",a.setRequestHeader(\\\"Range\\\",\\\"bytes=\\\"+b.range.start+\\\"-\\\"+b.range.end),a=x.modifyRequestHeader(a),a.send(null))}function l(a,b,c){a?r.trigger(o.default.SEGMENTS_LOADED,{segments:a,representation:b,mediaType:c}):r.trigger(o.default.SEGMENTS_LOADED,{segments:null,representation:b,mediaType:c,error:new k.default(null,\\\"error loading segments\\\",null)})}var n=this.context,p=(0,w.default)(n).getInstance().log,r=(0,q.default)(n).getInstance(),t=void 0,u=void 0,v=void 0,x=void 0,y=void 0;return t={setConfig:b,initialize:a,loadInitialization:c,loadSegments:d,reset:e}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(156),g=d(f),h=a(46),i=d(h),j=a(162),k=d(j),l=a(151),m=d(l),n=a(13),o=d(n),p=a(9),q=d(p),r=a(146),s=d(r),t=a(10),u=d(t),v=a(8),w=d(v);e.__dashjs_factory_name=\\\"SegmentBaseLoader\\\",c.default=u.default.getSingletonFactory(e),b.exports=c.default},{10:10,13:13,146:146,151:151,156:156,162:162,46:46,8:8,9:9}],19:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){y={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:\\\"getMatroskaUint\\\"},Duration:{tag:17545,required:!0,parse:\\\"getMatroskaFloat\\\"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:\\\"getMatroskaUint\\\"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:\\\"getMatroskaUint\\\"},CueClusterPosition:{tag:241,required:!0,parse:\\\"getMatroskaUint\\\"},CueBlockNumber:{tag:21368}}}}},Void:{tag:236,required:!0}}}function b(){A=(0,q.default)(p).getInstance(),B=(0,s.default)(p).getInstance(),D=(0,z.default)(p).create({errHandler:A,metricsModel:C,requestModifier:B})}function c(a){if(!a.baseURLController||!a.metricsModel)throw new Error(\\\"Missing config parameter(s)\\\");E=a.baseURLController,C=a.metricsModel}function d(a){var b=[],c=void 0,d=void 0,e=void 0,f=(0,k.default)(p).create({data:a}),g=void 0;for(f.consumeTag(y.Segment.Cues),d=f.getMatroskaCodedNum();f.moreData()&&f.consumeTagAndSize(y.Segment.Cues.CuePoint,!0);){for(c={},c.CueTime=f.parseTag(y.Segment.Cues.CuePoint.CueTime),c.CueTracks=[];f.moreData()&&f.consumeTagAndSize(y.Segment.Cues.CuePoint.CueTrackPositions,!0);){if(e={},e.Track=f.parseTag(y.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),0===e.Track)throw new Error(\\\"Cue track cannot be 0\\\");e.ClusterPosition=f.parseTag(y.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition),f.getPos()+4>d||!f.consumeTag(y.Segment.Cues.CuePoint.CueTrackPositions.CueBlockNumber,!0)?c.CueTracks.push(e):(g=f.getMatroskaCodedNum(),e.BlockNumber=f.getMatroskaUint(g),c.CueTracks.push(e))}if(0===c.CueTracks.length)throw new Error(\\\"Mandatory cuetrack not found\\\");b.push(c)}if(0===b.length)throw new Error(\\\"mandatory cuepoint not found\\\");return b}function e(a,b,c,e,f){var g=void 0,h=void 0,i=void 0,j=void 0,k=void 0,l=void 0,m=void 0,n=void 0;for(h=d(a),i=[],k=0,l=h.length;k<l;k+=1)j=new u.default,g=0,g=k<h.length-1?h[k+1].CueTime-h[k].CueTime:f-h[k].CueTime,j.duration=g,j.media=b,j.startTime=h[k].CueTime,j.timescale=1e3,m=h[k].CueTracks[0].ClusterPosition+c,n=k<h.length-1?h[k+1].CueTracks[0].ClusterPosition+c-1:e-1,j.mediaRange=m+\\\"-\\\"+n,i.push(j);return r(\\\"Parsed cues: \\\"+i.length+\\\" cues.\\\"),i}function f(a,b,c,d){var f=(0,k.default)(p).create({data:a}),g=void 0,h=void 0,i=c.split(\\\"-\\\"),j=null,l={url:b,range:{start:parseFloat(i[0]),end:parseFloat(i[1])},request:j},n=void 0,o=void 0;for(r(\\\"Parse EBML header: \\\"+l.url),f.skipOverElement(y.EBML),f.consumeTag(y.Segment),n=f.getMatroskaCodedNum(),n+=f.getPos(),o=f.getPos();f.moreData()&&!f.consumeTagAndSize(y.Segment.Info,!0);)if(!(f.skipOverElement(y.Segment.SeekHead,!0)||f.skipOverElement(y.Segment.Tracks,!0)||f.skipOverElement(y.Segment.Cues,!0)||f.skipOverElement(y.Void,!0)))throw new Error(\\\"no valid top level element found\\\");for(;void 0===g;){var q=f.getMatroskaCodedNum(!0),s=f.getMatroskaCodedNum();switch(q){case y.Segment.Info.Duration.tag:g=f[y.Segment.Info.Duration.parse](s);break;default:f.setPos(f.getPos()+s)}}j=m(l);var t=function(a){h=e(a,l.url,o,n,g),d(h)},u=function(){r(\\\"Download Error: Cues \\\"+l.url),d(null)};D.load({request:j,success:t,error:u}),r(\\\"Perform cues load: \\\"+l.url+\\\" bytes=\\\"+l.range.start+\\\"-\\\"+l.range.end)}function h(a,b){var c=null,d=E.resolve(a.path),e=d?d.url:void 0,f=a.range.split(\\\"-\\\"),h=b||{range:{start:parseFloat(f[0]),end:parseFloat(f[1])},request:c,url:e,init:!0};r(\\\"Start loading initialization.\\\"),c=m(h);var i=function(){a.initialization=h.url,t.trigger(g.default.INITIALIZATION_LOADED,{representation:a})},j=function(){t.trigger(g.default.INITIALIZATION_LOADED,{representation:a})};D.load({request:c,success:i,error:j}),r(\\\"Perform init load: \\\"+h.url)}function j(a,b,c,d){var e=null,g=E.resolve(a.path),h=g?g.url:void 0,i=8192,j={bytesLoaded:0,bytesToLoad:i,range:{start:0,end:i},request:e,url:h,init:!1};d=d?d:l,e=m(j),r(\\\"Parsing ebml header\\\");var k=function(e){f(e,h,c,function(c){d(c,a,b)})},n=function(){d(null,a,b)};D.load({request:e,success:k,error:n})}function l(a,b,c){a?t.trigger(g.default.SEGMENTS_LOADED,{segments:a,representation:b,mediaType:c}):t.trigger(g.default.SEGMENTS_LOADED,{segments:null,representation:b,mediaType:c,error:new Error(null,\\\"error loading segments\\\",null)})}function m(a){var b=new x.default;return b.type=a.init?v.HTTPRequest.INIT_SEGMENT_TYPE:v.HTTPRequest.MEDIA_SEGMENT_TYPE,b.url=a.url,b.range=a.range.start+\\\"-\\\"+a.range.end,b}function n(){A=null,B=null,r=null}var p=this.context,r=(0,o.default)(p).getInstance().log,t=(0,i.default)(p).getInstance(),w=void 0,y=void 0,A=void 0,B=void 0,C=void 0,D=void 0,E=void 0;return w={setConfig:c,initialize:b,loadInitialization:h,loadSegments:j,reset:n},a(),w}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(13),g=d(f),h=a(9),i=d(h),j=a(150),k=d(j),l=a(10),m=d(l),n=a(8),o=d(n),p=a(151),q=d(p),r=a(156),s=d(r),t=a(46),u=d(t),v=a(179),w=a(163),x=d(w),y=a(58),z=d(y);e.__dashjs_factory_name=\\\"WebmSegmentBaseLoader\\\",c.default=m.default.getSingletonFactory(e),b.exports=c.default},{10:10,13:13,150:150,151:151,156:156,163:163,179:179,46:46,58:58,8:8,9:9}],20:[function(a,b,c){\\\"use strict\\\";Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var d=\\\"TcpList\\\";c.TCP_CONNECTION=d;var e=\\\"HttpList\\\";c.HTTP_REQUEST=e;var f=\\\"RepSwitchList\\\";c.TRACK_SWITCH=f;var g=\\\"BufferLevel\\\";c.BUFFER_LEVEL=g;var h=\\\"BufferState\\\";c.BUFFER_STATE=h;var i=\\\"DVRInfo\\\";c.DVR_INFO=i;var j=\\\"DroppedFrames\\\";c.DROPPED_FRAMES=j;var k=\\\"SchedulingInfo\\\";c.SCHEDULING_INFO=k;var l=\\\"RequestsQueue\\\";c.REQUESTS_QUEUE=l;var m=\\\"ManifestUpdate\\\";c.MANIFEST_UPDATE=m;var n=\\\"ManifestUpdatePeriodInfo\\\";c.MANIFEST_UPDATE_STREAM_INFO=n;var o=\\\"ManifestUpdateRepresentationInfo\\\";c.MANIFEST_UPDATE_TRACK_INFO=o;var p=\\\"PlayList\\\";c.PLAY_LIST=p;var q=\\\"DVBErrors\\\";c.DVB_ERRORS=q},{}],21:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){P=null,Q=-1,R=!0,S=[],V=(0,m.default)(M).getInstance(),X=(0,q.default)(M).getInstance(),Y=(0,o.default)(M).getInstance(),Z=(0,s.default)(M).getInstance(),$=(0,u.default)(M).getInstance(),_=(0,y.default)(M).getInstance(),aa=(0,k.default)(M).getInstance(),ba=(0,g.default)(M).getInstance(),ca=(0,i.default)(M).getInstance(),da=(0,w.default)(M).getInstance(),N.on(E.default.QUALITY_CHANGE_REQUESTED,K,O),N.on(E.default.REPRESENTATION_UPDATED,G,O),N.on(E.default.WALLCLOCK_TIME_UPDATED,H,O),N.on(E.default.BUFFER_LEVEL_UPDATED,J,O),N.on(E.default.LIVE_EDGE_SEARCH_COMPLETED,I,O)}function b(a){a.abrController&&(V=a.abrController)}function c(a){U=a,W=U.getIndexHandler()}function d(){return U}function e(){return P}function f(){return Q}function h(){return R}function j(){return T}function l(){N.off(E.default.QUALITY_CHANGE_REQUESTED,K,O),N.off(E.default.REPRESENTATION_UPDATED,G,O),N.off(E.default.WALLCLOCK_TIME_UPDATED,H,O),N.off(E.default.BUFFER_LEVEL_UPDATED,J,O),N.off(E.default.LIVE_EDGE_SEARCH_COMPLETED,I,O),P=null,Q=-1,R=!0,S=[],V=null,X=null,Y=null,Z=null,$=null,_=null,aa=null,ba=null,ca=null,da=null}function n(a,b,c){var d,e,f=null,g=U.getStreamInfo(),h=V.getTopQualityIndexFor(c,g.id);if(R=!0,N.trigger(E.default.DATA_UPDATE_STARTED,{sender:this}),S=z(b),null===P&&\\\"fragmentedText\\\"!==c?(e=V.getAverageThroughput(c),f=e||V.getInitialBitrateFor(c,g),d=V.getQualityForBitrate(U.getMediaInfo(),f)):d=V.getQualityFor(c,g),d>h&&(d=h),T=t(d),P=a,\\\"video\\\"!==c&&\\\"audio\\\"!==c&&\\\"fragmentedText\\\"!==c)return R=!1,void N.trigger(E.default.DATA_UPDATE_COMPLETED,{sender:this,data:P,currentRepresentation:T});for(var i=0;i<S.length;i++)W.updateRepresentation(S[i],!0)}function p(){var a=new Date,b=j(),c=1e3*Y.getTime();$.addRepresentationSwitch(b.adaptation.type,a,c,b.id)}function r(){var a=aa.calcSegmentAvailabilityRange(T,U.isDynamic());$.addDVRInfo(U.getType(),Y.getTime(),U.getStreamInfo().manifestInfo,a)}function t(a){return S[a]}function v(a){return S.indexOf(a)}function x(){for(var a=0,b=S.length;a<b;a++){var c=S[a].segmentInfoType;if(null===S[a].segmentAvailabilityRange||null===S[a].initialization||(\\\"SegmentBase\\\"===c||\\\"BaseURL\\\"===c)&&!S[a].segments)return!1}return!0}function z(a){var b,c=Z.getValue();return Q=ba.getIndexForAdaptation(P,c,a.period.index),b=ba.getRepresentationsForAdaptation(c,a)}function B(a){for(var b,c=0,d=S.length;c<d;c++)b=S[c],b.segmentAvailabilityRange=aa.calcSegmentAvailabilityRange(b,a)}function D(){S.forEach(function(a){a.segmentAvailabilityRange=null})}function F(a){var b=a,c=function(){if(!h()){R=!0,N.trigger(E.default.DATA_UPDATE_STARTED,{sender:O}),D();for(var a=0;a<S.length;a++)W.updateRepresentation(S[a],!0)}};R=!1,N.trigger(E.default.AST_IN_FUTURE,{delay:b}),setTimeout(c,b)}function G(a){if(a.sender.getStreamProcessor()===U&&h()){var b,c,d,e=a.representation,f=$.getMetricsFor(\\\"stream\\\"),g=$.getMetricsFor(j().adaptation.type),i=ca.getCurrentManifestUpdate(f),k=!1,l=0;if(\\\"dynamic\\\"===e.adaptation.period.mpd.manifest.type){var m=e.segmentAvailabilityRange.end-e.segmentAvailabilityRange.start,n=Y.computeLiveDelay(T.segmentDuration,U.getStreamInfo().manifestInfo.DVRWindowSize);l=1e3*(n-m)}if(l>0)return r(),F(l),c=new A.default(L,\\\"Segments update failed\\\",null),void N.trigger(E.default.DATA_UPDATE_COMPLETED,{sender:this,data:P,currentRepresentation:T,error:c});if(i){for(var o=0;o<i.trackInfo.length;o++)if(b=i.trackInfo[o],b.index===e.index&&b.mediaType===U.getType()){k=!0;break}k||$.addManifestUpdateRepresentationInfo(i,e.id,e.index,e.adaptation.period.index,U.getType(),e.presentationTimeOffset,e.startNumber,e.segmentInfoType)}x()&&(R=!1,V.setPlaybackQuality(U.getType(),U.getStreamInfo(),v(T)),$.updateManifestUpdateInfo(i,{latency:T.segmentAvailabilityRange.end-Y.getTime()}),d=ca.getCurrentRepresentationSwitch(g),d||p(),N.trigger(E.default.DATA_UPDATE_COMPLETED,{sender:this,data:P,currentRepresentation:T}))}}function H(a){a.isDynamic&&B(a.isDynamic)}function I(a){if(!a.error){B(!0),W.updateRepresentation(T,!1);var b=Z.getValue(),c=T.adaptation.period,d=X.getActiveStreamInfo();d.isLast&&(c.mpd.checkTime=ba.getCheckTime(b,c),c.duration=ba.getEndTimeForLastPeriod(Z.getValue(),c)-c.start,d.duration=c.duration)}}function J(a){a.sender.getStreamProcessor()===U&&r()}function K(a){a.mediaType===U.getType()&&U.getStreamInfo().id===a.streamInfo.id&&a.oldQuality!==a.newQuality&&(T=t(a.newQuality),_.setSavedBitrateSettings(a.mediaType,T.bandwidth),p())}var L=1,M=this.context,N=(0,C.default)(M).getInstance(),O=void 0,P=void 0,Q=void 0,R=void 0,S=void 0,T=void 0,U=void 0,V=void 0,W=void 0,X=void 0,Y=void 0,Z=void 0,$=void 0,_=void 0,aa=void 0,ba=void 0,ca=void 0,da=void 0;return O={initialize:c,setConfig:b,getData:e,getDataIndex:f,isUpdating:h,updateData:n,getStreamProcessor:d,getCurrentRepresentation:j,getRepresentationForQuality:t,reset:l},a(),O}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(22),g=d(f),h=a(17),i=d(h),j=a(37),k=d(j),l=a(60),m=d(l),n=a(68),o=d(n),p=a(71),q=d(p),r=a(100),s=d(r),t=a(102),u=d(t),v=a(101),w=d(v),x=a(149),y=d(x),z=a(162),A=d(z),B=a(9),C=d(B),D=a(13),E=d(D),F=a(10),G=d(F);e.__dashjs_factory_name=\\\"RepresentationController\\\",c.default=G.default.getClassFactory(e),b.exports=c.default},{10:10,100:100,101:101,102:102,13:13,149:149,162:162,17:17,22:22,37:37,60:60,68:68,71:71,9:9}],22:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a,b){var c,d,e,f=!1,g=!1,h=a.ContentComponent_asArray,i=\\\"text\\\"!==b?new RegExp(b):new RegExp(\\\"(vtt|ttml)\\\");if(a.Representation_asArray.length>0&&a.Representation_asArray[0].hasOwnProperty(\\\"codecs\\\")){var j=a.Representation_asArray[0].codecs;if(\\\"stpp\\\"===j||\\\"wvtt\\\"===j)return\\\"fragmentedText\\\"===b}if(h){if(h.length>1)return\\\"muxed\\\"===b;h[0]&&h[0].contentType===b&&(f=!0,g=!0)}if(a.hasOwnProperty(\\\"mimeType\\\")&&(f=i.test(a.mimeType),g=!0),!g)for(c=0,d=a.Representation_asArray.length;!g&&c<d;)e=a.Representation_asArray[c],e.hasOwnProperty(\\\"mimeType\\\")&&(f=i.test(e.mimeType),g=!0),c++;return f}function b(b){return a(b,\\\"audio\\\")}function c(b){return a(b,\\\"video\\\")}function d(b){return a(b,\\\"fragmentedText\\\")}function e(b){return a(b,\\\"text\\\")}function f(b){return a(b,\\\"muxed\\\")}function h(a){return\\\"text/vtt\\\"===a||\\\"application/ttml+xml\\\"===a}function j(a){var b=\\\"\\\";return a.hasOwnProperty(\\\"lang\\\")&&(b=a.lang.replace(/[^A-Za-z0-9-]/g,\\\"\\\")),b}function l(a){return a.hasOwnProperty(\\\"Viewpoint\\\")?a.Viewpoint:null}function n(a){return a.hasOwnProperty(\\\"Role_asArray\\\")?a.Role_asArray:[]}function p(a){return a.hasOwnProperty(\\\"Accessibility_asArray\\\")?a.Accessibility_asArray:[]}function r(a){return a.hasOwnProperty(\\\"AudioChannelConfiguration_asArray\\\")?a.AudioChannelConfiguration_asArray:[]}function t(a){return n(a).filter(function(a){return\\\"main\\\"===a.value})[0]}function v(){return function(a,b){return a.bandwidth-b.bandwidth}}function x(a){return void 0!==a.Representation_asArray&&null!==a.Representation_asArray&&a.Representation_asArray.sort(v()),a}function z(a,b,c){var d,e,f=b.Period_asArray[c].AdaptationSet_asArray;for(d=0,e=f.length;d<e;d++)if(f[d].hasOwnProperty(\\\"id\\\")&&f[d].id===a)return f[d];return null}function B(a,b,c){var d=b.Period_asArray[c].AdaptationSet_asArray;return d[a]}function D(a,b,c){var d,e,f=b.Period_asArray[c].AdaptationSet_asArray;for(d=0,e=f.length;d<e;d++)if(f[d]===a)return d;return-1}function E(b,c,d){var e,f,g=b.Period_asArray[c].AdaptationSet_asArray,h=[];for(e=0,f=g.length;e<f;e++)a(g[e],d)&&h.push(x(g[e]));return h}function F(a,b,c,d){var e=E(a,b,c);if(!e||0===e.length)return null;if(e.length>1&&d)for(var f=la.getCurrentTrackFor(c,d),g=ma.getAllMediaInfoForType(a,d,c),h=0,i=e.length;h<i;h++){if(f&&la.isTracksEqual(f,g[h]))return e[h];if(t(e[h]))return e[h]}return e[0]}function G(a){var b=a.Representation_asArray[0];return b.mimeType+';codecs=\\\"'+b.codecs+'\\\"'}function H(a){return a.Representation_asArray[0].mimeType}function I(a){return a&&a.hasOwnProperty(\\\"cenc:default_KID\\\")?a[\\\"cenc:default_KID\\\"]:null}function J(a){return a&&a.hasOwnProperty(\\\"ContentProtection_asArray\\\")&&0!==a.ContentProtection_asArray.length?a.ContentProtection_asArray:null}function K(a){var b=!1;return a.hasOwnProperty(\\\"type\\\")&&(b=\\\"dynamic\\\"===a.type),b}function L(a){var b,c,d=K(a);return b=!isNaN(a.timeShiftBufferDepth),c=d&&b}function M(a,b){var c=!1;return a.profiles&&a.profiles.length>0&&(c=a.profiles.indexOf(b)!==-1),c}function N(a){return M(a,\\\"urn:mpeg:dash:profile:isoff-on-demand:2011\\\")}function O(a){return M(a,\\\"urn:dvb:dash:profile:dvb-dash:2014\\\")}function P(a){var b;return b=a.hasOwnProperty(\\\"mediaPresentationDuration\\\")?a.mediaPresentationDuration:Number.MAX_VALUE}function Q(a){return a.bandwidth}function R(a){var b=NaN,c=2;return a.hasOwnProperty(\\\"minimumUpdatePeriod\\\")&&(b=Math.max(parseFloat(a.minimumUpdatePeriod),c)),b}function S(a){return a.Representation_asArray.length}function T(a){if(!a||!a.Representation_asArray||!a.Representation_asArray.length)return null;for(var b=x(a),c=b.Representation_asArray,d=c.length,e=[],f=0;f<d;f++)e.push({bandwidth:c[f].bandwidth,width:c[f].width||0,height:c[f].height||0});return e}function U(a,b){return b.Representation_asArray[a]}function V(a,b){for(var c,d,e,f,i,j=x(a.Period_asArray[b.period.index].AdaptationSet_asArray[b.index]),k=[],l=0;l<j.Representation_asArray.length;l++)f=j.Representation_asArray[l],c=new g.default,c.index=l,c.adaptation=b,f.hasOwnProperty(\\\"id\\\")&&(c.id=f.id),f.hasOwnProperty(\\\"bandwidth\\\")&&(c.bandwidth=f.bandwidth),f.hasOwnProperty(\\\"maxPlayoutRate\\\")&&(c.maxPlayoutRate=f.maxPlayoutRate),f.hasOwnProperty(\\\"SegmentBase\\\")?(e=f.SegmentBase,c.segmentInfoType=\\\"SegmentBase\\\"):f.hasOwnProperty(\\\"SegmentList\\\")?(e=f.SegmentList,e.hasOwnProperty(\\\"SegmentTimeline\\\")?(c.segmentInfoType=\\\"SegmentTimeline\\\",i=e.SegmentTimeline.S_asArray[e.SegmentTimeline.S_asArray.length-1],(!i.hasOwnProperty(\\\"r\\\")||i.r>=0)&&(c.useCalculatedLiveEdgeTime=!0)):(c.segmentInfoType=\\\"SegmentList\\\",c.useCalculatedLiveEdgeTime=!0)):f.hasOwnProperty(\\\"SegmentTemplate\\\")?(e=f.SegmentTemplate,e.hasOwnProperty(\\\"SegmentTimeline\\\")?(c.segmentInfoType=\\\"SegmentTimeline\\\",i=e.SegmentTimeline.S_asArray[e.SegmentTimeline.S_asArray.length-1],(!i.hasOwnProperty(\\\"r\\\")||i.r>=0)&&(c.useCalculatedLiveEdgeTime=!0)):c.segmentInfoType=\\\"SegmentTemplate\\\",e.hasOwnProperty(\\\"initialization\\\")&&(c.initialization=e.initialization.split(\\\"$Bandwidth$\\\").join(f.bandwidth).split(\\\"$RepresentationID$\\\").join(f.id))):(e=f.BaseURL,c.segmentInfoType=\\\"BaseURL\\\"),e.hasOwnProperty(\\\"Initialization\\\")?(d=e.Initialization,d.hasOwnProperty(\\\"sourceURL\\\")?c.initialization=d.sourceURL:d.hasOwnProperty(\\\"range\\\")&&(c.range=d.range)):f.hasOwnProperty(\\\"mimeType\\\")&&h(f.mimeType)&&(c.range=0),e.hasOwnProperty(\\\"timescale\\\")&&(c.timescale=e.timescale),e.hasOwnProperty(\\\"duration\\\")&&(c.segmentDuration=e.duration/c.timescale),e.hasOwnProperty(\\\"startNumber\\\")&&(c.startNumber=e.startNumber),e.hasOwnProperty(\\\"indexRange\\\")&&(c.indexRange=e.indexRange),e.hasOwnProperty(\\\"presentationTimeOffset\\\")&&(c.presentationTimeOffset=e.presentationTimeOffset/c.timescale),c.MSETimeOffset=ka.calcMSETimeOffset(c),c.path=[b.period.index,b.index,l],k.push(c);return k}function W(a,e){for(var g,h,j=a.Period_asArray[e.index],k=[],l=0;l<j.AdaptationSet_asArray.length;l++)h=j.AdaptationSet_asArray[l],g=new i.default,h.hasOwnProperty(\\\"id\\\")&&(g.id=h.id),g.index=l,g.period=e,f(h)?g.type=\\\"muxed\\\":b(h)?g.type=\\\"audio\\\":c(h)?g.type=\\\"video\\\":d(h)?g.type=\\\"fragmentedText\\\":g.type=\\\"text\\\",k.push(g);return k}function X(a,b){var c,d,e=K(a),f=[],g=null,h=null,i=null,j=null;for(d=0,c=a.Period_asArray.length;d<c;d++)h=a.Period_asArray[d],h.hasOwnProperty(\\\"start\\\")?(j=new k.default,j.start=h.start):null!==g&&h.hasOwnProperty(\\\"duration\\\")&&null!==i?(j=new k.default,j.start=i.start+i.duration,j.duration=h.duration):0!==d||e||(j=new k.default,j.start=0),null!==i&&isNaN(i.duration)&&(i.duration=j.start-i.start),null!==j&&(j.id=Y(h)),null!==j&&h.hasOwnProperty(\\\"duration\\\")&&(j.duration=h.duration),null!==j&&(j.index=d,j.mpd=b,f.push(j),g=h,i=j),h=null,j=null;return 0===f.length?f:(null!==i&&isNaN(i.duration)&&(i.duration=aa(a,i)-i.start),f)}function Y(a){if(!a)throw new Error(\\\"Period cannot be null or undefined\\\");var b=k.default.DEFAULT_ID;return a.hasOwnProperty(\\\"id\\\")&&\\\"__proto__\\\"!==a.id&&(b=a.id),b}function Z(a){var b=new m.default;return b.manifest=a,a.hasOwnProperty(\\\"availabilityStartTime\\\")?b.availabilityStartTime=new Date(a.availabilityStartTime.getTime()):b.availabilityStartTime=new Date(a.loadedTime.getTime()),a.hasOwnProperty(\\\"availabilityEndTime\\\")&&(b.availabilityEndTime=new Date(a.availabilityEndTime.getTime())),a.hasOwnProperty(\\\"suggestedPresentationDelay\\\")&&(b.suggestedPresentationDelay=a.suggestedPresentationDelay),a.hasOwnProperty(\\\"timeShiftBufferDepth\\\")&&(b.timeShiftBufferDepth=a.timeShiftBufferDepth),a.hasOwnProperty(\\\"maxSegmentDuration\\\")&&(b.maxSegmentDuration=a.maxSegmentDuration),b}function $(a,b){return ka.calcPresentationTimeFromWallTime(a.loadedTime,b)}function _(a,b){var c,d=NaN;return a.hasOwnProperty(\\\"minimumUpdatePeriod\\\")&&(c=$(a,b),d=c+a.minimumUpdatePeriod),d}function aa(a,b){var c,d=_(a,b);if(a.mediaPresentationDuration)c=a.mediaPresentationDuration;else{if(isNaN(d))throw new Error(\\\"Must have @mediaPresentationDuration or @minimumUpdatePeriod on MPD or an explicit @duration on the last period.\\\");c=d}return c}function ba(a,b){var c=a.Period_asArray,d=c[b.index].EventStream_asArray,e=[];if(d)for(var f=0;f<d.length;f++){var g=new A.default;if(g.period=b,g.timescale=1,!d[f].hasOwnProperty(\\\"schemeIdUri\\\"))throw new Error(\\\"Invalid EventStream. SchemeIdUri has to be set\\\");g.schemeIdUri=d[f].schemeIdUri,d[f].hasOwnProperty(\\\"timescale\\\")&&(g.timescale=d[f].timescale),d[f].hasOwnProperty(\\\"value\\\")&&(g.value=d[f].value);for(var h=0;h<d[f].Event_asArray.length;h++){var i=new w.default;i.presentationTime=0,i.eventStream=g,d[f].Event_asArray[h].hasOwnProperty(\\\"presentationTime\\\")&&(i.presentationTime=d[f].Event_asArray[h].presentationTime),d[f].Event_asArray[h].hasOwnProperty(\\\"duration\\\")&&(i.duration=d[f].Event_asArray[h].duration),d[f].Event_asArray[h].hasOwnProperty(\\\"id\\\")&&(i.id=d[f].Event_asArray[h].id),e.push(i)}}return e}function ca(a,b){var c=[];if(!a)return c;for(var d=0;d<a.length;d++){var e=new A.default;if(e.timescale=1,e.representation=b,!a[d].hasOwnProperty(\\\"schemeIdUri\\\"))throw new Error(\\\"Invalid EventStream. SchemeIdUri has to be set\\\");e.schemeIdUri=a[d].schemeIdUri,a[d].hasOwnProperty(\\\"timescale\\\")&&(e.timescale=a[d].timescale),a[d].hasOwnProperty(\\\"value\\\")&&(e.value=a[d].value),c.push(e)}return c}function da(a,b){var c=a.Period_asArray[b.period.index].AdaptationSet_asArray[b.index].InbandEventStream_asArray;return ca(c,null)}function ea(a,b){var c=a.Period_asArray[b.adaptation.period.index].AdaptationSet_asArray[b.adaptation.index].Representation_asArray[b.index].InbandEventStream_asArray;return ca(c,b)}function fa(a){var b=K(a),c=a.hasOwnProperty(\\\"availabilityStartTime\\\"),d=a.UTCTiming_asArray,e=[];return(b||c)&&d&&d.forEach(function(a){var b=new o.default;a.hasOwnProperty(\\\"schemeIdUri\\\")&&(b.schemeIdUri=a.schemeIdUri,a.hasOwnProperty(\\\"value\\\")&&(b.value=a.value.toString(),e.push(b)))}),e}function ga(a){var b=[],c=a.BaseURL_asArray||[a.baseUri],d=!1;return c.some(function(c){if(c){var e=new y.default,f=c.__text||c;return na.isRelative(f)&&(d=!0,a.baseUri&&(f=a.baseUri+f)),e.url=f,c.hasOwnProperty(\\\"serviceLocation\\\")&&c.serviceLocation.length?e.serviceLocation=c.serviceLocation:e.serviceLocation=f,c.hasOwnProperty(\\\"dvb:priority\\\")&&(e.dvb_priority=c[\\\"dvb:priority\\\"]),c.hasOwnProperty(\\\"dvb:weight\\\")&&(e.dvb_weight=c[\\\"dvb:weight\\\"]),b.push(e),d}}),b}function ha(a){return a.hasOwnProperty(\\\"Location\\\")&&(a.Location=a.Location_asArray[0]),a.Location}var ia=void 0,ja=this.context,ka=(0,q.default)(ja).getInstance(),la=(0,s.default)(ja).getInstance(),ma=(0,u.default)(ja).getInstance(),na=(0,C.default)(ja).getInstance();return ia={getIsTypeOf:a,getIsAudio:b,getIsVideo:c,getIsText:e,getIsMuxed:f,getIsTextTrack:h,getIsFragmentedText:d,getIsMain:t,getLanguageForAdaptation:j,getViewpointForAdaptation:l,getRolesForAdaptation:n,getAccessibilityForAdaptation:p,getAudioChannelConfigurationForAdaptation:r,processAdaptation:x,getAdaptationForIndex:B,getIndexForAdaptation:D,getAdaptationForId:z,getAdaptationsForType:E,getAdaptationForType:F,getCodec:G,getMimeType:H,getKID:I,getContentProtectionData:J,getIsDynamic:K,getIsDVR:L,getIsOnDemand:N,getIsDVB:O,getDuration:P,getBandwidth:Q,getRefreshDelay:R,getRepresentationCount:S,getBitrateListForAdaptation:T,getRepresentationFor:U,getRepresentationsForAdaptation:V,getAdaptationsForPeriod:W,getRegularPeriods:X,getPeriodId:Y,getMpd:Z,getFetchTime:$,getCheckTime:_,getEndTimeForLastPeriod:aa,getEventsForPeriod:ba,getEventStreams:ca,getEventStreamForAdaptationSet:da,getEventStreamForRepresentation:ea,getUTCTimingSources:fa,getBaseURLsFromElement:ga,getRepresentationSortFunction:v,getLocation:ha}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(45),g=d(f),h=a(39),i=d(h),j=a(44),k=d(j),l=a(43),m=d(l),n=a(47),o=d(n),p=a(37),q=d(p),r=a(66),s=d(r),t=a(15),u=d(t),v=a(41),w=d(v),x=a(40),y=d(x),z=a(42),A=d(z),B=a(158),C=d(B),D=a(10),E=d(D);e.__dashjs_factory_name=\\\"DashManifestModel\\\",c.default=E.default.getSingletonFactory(e),b.exports=c.default},{10:10,15:15,158:158,37:37,39:39,40:40,41:41,42:42,43:43,44:44,45:45,47:47,66:66}],23:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){h=[new q.default,new s.default,new u.default],i=new o.default(h,\\\"\\\",(!0)),j=new m.default([new w.default,new y.default])}function b(a,b){var c;try{var f=window.performance.now();if(c=i.xml_str2json(a),!c)throw new Error(\\\"parser error\\\");var g=window.performance.now();j.run(c);var k=window.performance.now();b.setMatchers(h),b.setIron(j),d(\\\"Parsing complete: ( xml2json: \\\"+(g-f).toPrecision(3)+\\\"ms, objectiron: \\\"+(k-g).toPrecision(3)+\\\"ms, total: \\\"+((k-f)/1e3).toPrecision(3)+\\\"s)\\\")}catch(l){return e.manifestError(\\\"parsing the manifest failed\\\",\\\"parse\\\",a,l),null}return c}var c=this.context,d=(0,k.default)(c).getInstance().log,e=(0,g.default)(c).getInstance(),f=void 0,h=void 0,i=void 0,j=void 0;return f={\\nparse:b},a(),f}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(151),g=d(f),h=a(10),i=d(h),j=a(8),k=d(j),l=a(3),m=d(l),n=a(4),o=d(n),p=a(30),q=d(p),r=a(29),s=d(r),t=a(31),u=d(t),v=a(26),w=d(v),x=a(27),y=d(x);e.__dashjs_factory_name=\\\"DashParser\\\",c.default=i.default.getClassFactory(e),b.exports=c.default},{10:10,151:151,26:26,27:27,29:29,3:3,30:30,31:31,4:4,8:8}],24:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,\\\"value\\\"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(b,c){d(this,a);var e=function(a){return a&&a.length&&a.charAt(0)===a.charAt(0).toUpperCase()};this._name=b,this._merge=void 0!==c?c:e(b)}return e(a,[{key:\\\"name\\\",get:function(){return this._name}},{key:\\\"merge\\\",get:function(){return this._merge}}]),a}();c.default=f,b.exports=c.default},{}],25:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,\\\"value\\\"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=a(24),h=d(g),i=function(){function a(b,c,d,f,g){var i=this;e(this,a),this._name=b||\\\"\\\",this._properties=[],this._children=d||[],this._isRoot=f||!1,this._isArray=g||!0,Array.isArray(c)&&c.forEach(function(a){i._properties.push(new h.default(a))})}return f(a,[{key:\\\"name\\\",get:function(){return this._name}},{key:\\\"isRoot\\\",get:function(){return this._isRoot}},{key:\\\"isArray\\\",get:function(){return this._isArray}},{key:\\\"children\\\",get:function(){return this._children}},{key:\\\"properties\\\",get:function(){return this._properties}}]),a}();c.default=i,b.exports=c.default},{24:24}],26:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}function f(a,b){if(\\\"function\\\"!=typeof b&&null!==b)throw new TypeError(\\\"Super expression must either be null or a function, not \\\"+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var g=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if(\\\"value\\\"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}},h=a(25),i=d(h),j=function(a){function b(){e(this,b);var a=[\\\"profiles\\\",\\\"width\\\",\\\"height\\\",\\\"sar\\\",\\\"frameRate\\\",\\\"audioSamplingRate\\\",\\\"mimeType\\\",\\\"segmentProfiles\\\",\\\"codecs\\\",\\\"maximumSAPPeriod\\\",\\\"startWithSAP\\\",\\\"maxPlayoutRate\\\",\\\"codingDependency\\\",\\\"scanType\\\",\\\"FramePacking\\\",\\\"AudioChannelConfiguration\\\",\\\"ContentProtection\\\",\\\"EssentialProperty\\\",\\\"SupplementalProperty\\\",\\\"InbandEventStream\\\"];return g(Object.getPrototypeOf(b.prototype),\\\"constructor\\\",this).call(this,\\\"AdaptationSet\\\",a,[new i.default(\\\"Representation\\\",a,[new i.default(\\\"SubRepresentation\\\",a)])])}return f(b,a),b}(i.default);c.default=j,b.exports=c.default},{25:25}],27:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}function f(a,b){if(\\\"function\\\"!=typeof b&&null!==b)throw new TypeError(\\\"Super expression must either be null or a function, not \\\"+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var g=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if(\\\"value\\\"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}},h=a(25),i=d(h),j=function(a){function b(){e(this,b);var a=[\\\"SegmentBase\\\",\\\"SegmentTemplate\\\",\\\"SegmentList\\\"];return g(Object.getPrototypeOf(b.prototype),\\\"constructor\\\",this).call(this,\\\"Period\\\",a,[new i.default(\\\"AdaptationSet\\\",a,[new i.default(\\\"Representation\\\",a)])])}return f(b,a),b}(i.default);c.default=j,b.exports=c.default},{25:25}],28:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,\\\"value\\\"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(b,c){d(this,a),this._test=b,this._converter=c}return e(a,[{key:\\\"test\\\",get:function(){return this._test}},{key:\\\"converter\\\",get:function(){return this._converter}}]),a}();c.default=f,b.exports=c.default},{}],29:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}function f(a,b){if(\\\"function\\\"!=typeof b&&null!==b)throw new TypeError(\\\"Super expression must either be null or a function, not \\\"+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var g=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if(\\\"value\\\"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}},h=a(28),i=d(h),j=60,k=60,l=1e3,m=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\\\\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/,n=function(a){function b(){e(this,b),g(Object.getPrototypeOf(b.prototype),\\\"constructor\\\",this).call(this,function(a){return m.test(a.value)},function(a){var b=m.exec(a),c=void 0;if(c=Date.UTC(parseInt(b[1],10),parseInt(b[2],10)-1,parseInt(b[3],10),parseInt(b[4],10),parseInt(b[5],10),b[6]&&parseInt(b[6],10)||0,b[7]&&parseFloat(b[7])*l||0),b[9]&&b[10]){var d=parseInt(b[9],10)*k+parseInt(b[10],10);c+=(\\\"+\\\"===b[8]?-1:1)*d*j*l}return new Date(c)})}return f(b,a),b}(i.default);c.default=n,b.exports=c.default},{28:28}],30:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}function f(a,b){if(\\\"function\\\"!=typeof b&&null!==b)throw new TypeError(\\\"Super expression must either be null or a function, not \\\"+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var g=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if(\\\"value\\\"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}},h=a(28),i=d(h),j=/^([-])?P(([\\\\d.]*)Y)?(([\\\\d.]*)M)?(([\\\\d.]*)D)?T?(([\\\\d.]*)H)?(([\\\\d.]*)M)?(([\\\\d.]*)S)?/,k=31536e3,l=2592e3,m=86400,n=3600,o=60,p=function(a){function b(){e(this,b),g(Object.getPrototypeOf(b.prototype),\\\"constructor\\\",this).call(this,function(a){for(var b=[\\\"minBufferTime\\\",\\\"mediaPresentationDuration\\\",\\\"minimumUpdatePeriod\\\",\\\"timeShiftBufferDepth\\\",\\\"maxSegmentDuration\\\",\\\"maxSubsegmentDuration\\\",\\\"suggestedPresentationDelay\\\",\\\"start\\\",\\\"starttime\\\",\\\"duration\\\"],c=b.length,d=0;d<c;d++)if(a.nodeName===b[d])return j.test(a.value);return!1},function(a){var b=j.exec(a),c=parseFloat(b[2]||0)*k+parseFloat(b[4]||0)*l+parseFloat(b[6]||0)*m+parseFloat(b[8]||0)*n+parseFloat(b[10]||0)*o+parseFloat(b[12]||0);return void 0!==b[1]&&(c=-c),c})}return f(b,a),b}(i.default);c.default=p,b.exports=c.default},{28:28}],31:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}function f(a,b){if(\\\"function\\\"!=typeof b&&null!==b)throw new TypeError(\\\"Super expression must either be null or a function, not \\\"+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var g=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if(\\\"value\\\"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}},h=a(28),i=d(h),j=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/,k=function(a){function b(){e(this,b),g(Object.getPrototypeOf(b.prototype),\\\"constructor\\\",this).call(this,function(a){return j.test(a.value)},function(a){return parseFloat(a)})}return f(b,a),b}(i.default);c.default=k,b.exports=c.default},{28:28}],32:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a){a&&a.boxParser&&(e=a.boxParser)}function b(a){var b,c,d,f,g,h,i,j,k,l,m,n=e.parse(a),o=n.getBox(\\\"tfhd\\\"),p=n.getBox(\\\"tfdt\\\"),q=n.getBox(\\\"trun\\\"),r=n.getBox(\\\"moof\\\"),s=n.getBox(\\\"mfhd\\\");for(l=s.sequence_number,d=q.sample_count,g=p.baseMediaDecodeTime,k=(o.base_data_offset||0)+(q.data_offset||0),h=[],j=0;j<d;j++)i=q.samples[j],b=void 0!==i.sample_duration?i.sample_duration:o.default_sample_duration,f=void 0!==i.sample_size?i.sample_size:o.default_sample_size,c=void 0!==i.sample_composition_time_offset?i.sample_composition_time_offset:0,h.push({dts:g,cts:g+c,duration:b,offset:r.offset+k,size:f}),k+=f,g+=b;return m=g-p.baseMediaDecodeTime,{sampleList:h,sequenceNumber:l,totalDuration:m}}function c(a){var b=e.parse(a),c=b.getBox(\\\"mdhd\\\");return c?c.timescale:NaN}var d=void 0,e=void 0;return d={getSamplesInfo:b,getMediaTimescaleFromMoov:c,setConfig:a}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f);e.__dashjs_factory_name=\\\"FragmentedTextBoxParser\\\",c.default=g.default.getSingletonFactory(e),b.exports=c.default},{10:10}],33:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){function c(a,c,e,f){var g,i,j,k,l,m,n,o=a.adaptation.period.mpd.manifest.Period_asArray[a.adaptation.period.index].AdaptationSet_asArray[a.adaptation.index].Representation_asArray[a.index].SegmentList,p=o.SegmentURL_asArray.length,q=[];for(n=a.startNumber,k=(0,h.decideSegmentListRangeForTemplate)(d,b,a,c,e,f),l=Math.max(k.start,0),m=Math.min(k.end,o.SegmentURL_asArray.length-1),g=l;g<=m;g++)j=o.SegmentURL_asArray[g],i=(0,h.getIndexBasedSegment)(d,b,a,g),i.replacementTime=(n+g-1)*a.segmentDuration,i.media=j.media?j.media:\\\"\\\",i.mediaRange=j.mediaRange,i.index=j.index,i.indexRange=j.indexRange,q.push(i),i=null;return a.availableSegmentsNumber=p,q}var d=a.timelineConverter,e=void 0;return e={getSegments:c}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f),h=a(35);e.__dashjs_factory_name=\\\"ListSegmentsGetter\\\";var i=g.default.getClassFactory(e);c.default=i,b.exports=c.default},{10:10,35:35}],34:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){function c(){h=(0,i.default)(f).create(a,b),j=(0,k.default)(f).create(a,b),l=(0,m.default)(f).create(a,b)}function d(a,b,c,d,f){var g,i=a.segmentInfoType;return\\\"SegmentBase\\\"!==i&&\\\"BaseURL\\\"!==i&&e(a,c)?(\\\"SegmentTimeline\\\"===i?g=h.getSegments(a,b,c,f):\\\"SegmentTemplate\\\"===i?g=j.getSegments(a,b,c,f):\\\"SegmentList\\\"===i&&(g=l.getSegments(a,b,c,f)),d&&d(a,g)):g=a.segments,g}function e(a,b){var c,d,e=a.segments,f=!1;return e&&0!==e.length?(d=e[0].availabilityIdx,c=e[e.length-1].availabilityIdx,f=b<d||b>c):f=!0,f}var f=this.context,g=void 0,h=void 0,j=void 0,l=void 0;return g={getSegments:d},c(),g}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f),h=a(38),i=d(h),j=a(36),k=d(j),l=a(33),m=d(l);e.__dashjs_factory_name=\\\"SegmentsGetter\\\";var n=g.default.getClassFactory(e);c.default=n,b.exports=c.default},{10:10,33:33,36:36,38:38}],35:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){for(;a.length<b;)a=\\\"0\\\"+a;return a}function f(a,b){return a.representation.startNumber+b}function g(a,b,c){for(var d,f,g,h,i,j,k=\\\"%0\\\",l=b.length,m=k.length;;){if(d=a.indexOf(\\\"$\\\"+b),d<0)return a;if(f=a.indexOf(\\\"$\\\",d+l),f<0)return a;if(g=a.indexOf(k,d+l),g>d&&g<f)switch(h=a.charAt(f-1),i=parseInt(a.substring(g+m,f-1),10),h){case\\\"d\\\":case\\\"i\\\":case\\\"u\\\":j=e(c.toString(),i);break;case\\\"x\\\":j=e(c.toString(16),i);break;case\\\"X\\\":j=e(c.toString(16),i).toUpperCase();break;case\\\"o\\\":j=e(c.toString(8),i);break;default:return a}else j=c;a=a.substring(0,d)+j+a.substring(f+1)}}function h(a,b,c,d){var e,g,h,i;return g=c.segmentDuration,isNaN(g)&&(g=c.adaptation.period.duration),h=c.adaptation.period.start+d*g,i=h+g,e=new n.default,e.representation=c,e.duration=g,e.presentationStartTime=h,e.mediaStartTime=a.calcMediaTimeFromPresentationTime(e.presentationStartTime,c),e.availabilityStartTime=a.calcAvailabilityStartTimeFromPresentationTime(e.presentationStartTime,c.adaptation.period.mpd,b),e.availabilityEndTime=a.calcAvailabilityEndTimeFromPresentationTime(i,c.adaptation.period.mpd,b),e.wallStartTime=a.calcWallTimeForSegment(e,b),e.replacementNumber=f(e,d),e.availabilityIdx=d,e}function i(a,b,c,d,e,h,i,j,k){var l,m,o,p=d/h,q=Math.min(e/h,c.adaptation.period.mpd.maxSegmentDuration);return l=a.calcPresentationTimeFromMediaTime(p,c),m=l+q,o=new n.default,o.representation=c,o.duration=q,o.mediaStartTime=p,o.presentationStartTime=l,o.availabilityStartTime=c.adaptation.period.mpd.manifest.loadedTime,o.availabilityEndTime=a.calcAvailabilityEndTimeFromPresentationTime(m,c.adaptation.period.mpd,b),o.wallStartTime=a.calcWallTimeForSegment(o,b),o.replacementTime=d,o.replacementNumber=f(o,k),i=g(i,\\\"Number\\\",o.replacementNumber),i=g(i,\\\"Time\\\",o.replacementTime),o.media=i,o.mediaRange=j,o.availabilityIdx=k,o}function j(a,b){if(!b||!b.segments)return null;var c,d,e=b.segments.length;if(a<e&&(c=b.segments[a],c&&c.availabilityIdx===a))return c;for(d=0;d<e;d++)if(c=b.segments[d],c&&c.availabilityIdx===a)return c;return null}function k(a,b,c,d,e){var f,g,h,i=2,j=e||10,k=0,l=Number.POSITIVE_INFINITY;return b&&!a.isTimeSyncCompleted()?h={start:k,end:l}:!b&&c||d<0?null:(f=Math.max(d-i,k),g=Math.min(d+j,l),h={start:f,end:g})}function l(a,b,c,d,e,f){var g,h,i,k=c.segmentDuration,l=c.adaptation.period.mpd.manifest.minBufferTime,m=c.segmentAvailabilityRange,n={start:a.calcPeriodRelativeTimeFromMpdRelativeTime(c,m.start),end:a.calcPeriodRelativeTimeFromMpdRelativeTime(c,m.end)},o=c.segments,p=2*k,q=f||Math.max(2*l,10*k),r=NaN,s=null;return n.start=Math.max(n.start,0),b&&!a.isTimeSyncCompleted()?(g=Math.floor(n.start/k),h=Math.floor(n.end/k),i={start:g,end:h}):(o&&o.length>0?(s=j(e,c),r=s?a.calcPeriodRelativeTimeFromMpdRelativeTime(c,s.presentationStartTime):e>0?e*k:a.calcPeriodRelativeTimeFromMpdRelativeTime(c,d)):r=e>0?e*k:b?n.end:n.start,g=Math.floor(Math.max(r-p,n.start)/k),h=Math.floor(Math.min(g+q/k,n.end/k)),i={start:g,end:h})}Object.defineProperty(c,\\\"__esModule\\\",{value:!0}),c.replaceTokenForTemplate=g,c.getIndexBasedSegment=h,c.getTimeBasedSegment=i,c.getSegmentByIndex=j,c.decideSegmentListRangeForTimeline=k,c.decideSegmentListRangeForTemplate=l;var m=a(46),n=d(m)},{46:46}],36:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){function c(a,c,e,f){var g,i,j,k,l,m=a.adaptation.period.mpd.manifest.Period_asArray[a.adaptation.period.index].AdaptationSet_asArray[a.adaptation.index].Representation_asArray[a.index].SegmentTemplate,n=a.segmentDuration,o=a.segmentAvailabilityRange,p=[],q=null,r=null;for(l=a.startNumber,g=isNaN(n)&&!b?{start:l,end:l}:(0,h.decideSegmentListRangeForTemplate)(d,b,a,c,e,f),j=g.start,k=g.end,i=j;i<=k;i++)r=(0,h.getIndexBasedSegment)(d,b,a,i),r.replacementTime=(l+i-1)*a.segmentDuration,q=m.media,q=(0,h.replaceTokenForTemplate)(q,\\\"Number\\\",r.replacementNumber),q=(0,h.replaceTokenForTemplate)(q,\\\"Time\\\",r.replacementTime),r.media=q,p.push(r),r=null;return isNaN(n)?a.availableSegmentsNumber=1:a.availableSegmentsNumber=Math.ceil((o.end-o.start)/n),p}var d=a.timelineConverter,e=void 0;return e={getSegments:c}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f),h=a(35);e.__dashjs_factory_name=\\\"TemplateSegmentsGetter\\\";var i=g.default.getClassFactory(e);c.default=i,b.exports=c.default},{10:10,35:35}],37:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){z=0,A=!1,B=NaN,x.on(i.default.LIVE_EDGE_SEARCH_COMPLETED,s,this),x.on(i.default.TIME_SYNCHRONIZATION_COMPLETED,t,this)}function b(){return A}function c(a){A=a}function d(){return z}function e(){return B}function f(a){B=a}function h(a,b,c,d){var e=NaN;return e=d?c&&b.timeShiftBufferDepth!=Number.POSITIVE_INFINITY?new Date(b.availabilityStartTime.getTime()+1e3*(a+b.timeShiftBufferDepth)):b.availabilityEndTime:c?new Date(b.availabilityStartTime.getTime()+1e3*(a-z)):b.availabilityStartTime}function j(a,b,c){return h.call(this,a,b,c)}function k(a,b,c){return h.call(this,a,b,c,!0)}function l(a,b){return(a.getTime()-b.mpd.availabilityStartTime.getTime()+1e3*z)/1e3}function m(a,b){var c=b.adaptation.period.start,d=b.presentationTimeOffset;return a+(c-d)}function n(a,b){var c=b.adaptation.period.start,d=b.presentationTimeOffset;return a-c+d}function o(a,b){var c,d,e;return b&&(c=a.representation.adaptation.period.mpd.suggestedPresentationDelay,d=a.presentationStartTime+c,e=new Date(a.availabilityStartTime.getTime()+1e3*d)),e}function p(a,b){var c,d,e=a.adaptation.period.start,f=e+a.adaptation.period.duration,g={start:e,end:f},h=a.segmentDuration||(a.segments&&a.segments.length?a.segments[a.segments.length-1].duration:0);if(!b)return g;if(!A&&a.segmentAvailabilityRange)return a.segmentAvailabilityRange;c=a.adaptation.period.mpd.checkTime,d=l(new Date,a.adaptation.period),e=Math.max(d-a.adaptation.period.mpd.timeShiftBufferDepth,a.adaptation.period.start);var i=isNaN(c)?d:Math.min(c,d),j=a.adaptation.period.start+a.adaptation.period.duration;return f=(i>=j&&i-h<j?j:i)-h,g={start:e,end:f}}function q(a,b){var c=a.adaptation.period.start;return b-c}function r(a,b){var c=a.adaptation.period.start;return b+c}function s(a){A||a.error||(z+=a.liveEdge-(B+a.searchTime),A=!0)}function t(a){A||a.error||(z=a.offset/1e3,A=!0)}function u(a){var b=a.presentationTimeOffset,c=a.adaptation.period.start;return c-b}function v(){x.off(i.default.LIVE_EDGE_SEARCH_COMPLETED,s,this),x.off(i.default.TIME_SYNCHRONIZATION_COMPLETED,t,this),z=0,A=!1,B=NaN}var w=this.context,x=(0,g.default)(w).getInstance(),y=void 0,z=void 0,A=void 0,B=void 0;return y={initialize:a,isTimeSyncCompleted:b,setTimeSyncCompleted:c,getClientTimeOffset:d,getExpectedLiveEdge:e,setExpectedLiveEdge:f,calcAvailabilityStartTimeFromPresentationTime:j,calcAvailabilityEndTimeFromPresentationTime:k,calcPresentationTimeFromWallTime:l,calcPresentationTimeFromMediaTime:m,calcPeriodRelativeTimeFromMpdRelativeTime:q,calcMpdRelativeTimeFromPeriodRelativeTime:r,calcMediaTimeFromPresentationTime:n,calcSegmentAvailabilityRange:p,calcWallTimeForSegment:o,calcMSETimeOffset:u,reset:v}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(9),g=d(f),h=a(13),i=d(h),j=a(10),k=d(j);e.__dashjs_factory_name=\\\"TimelineConverter\\\",c.default=k.default.getSingletonFactory(e),b.exports=c.default},{10:10,13:13,9:9}],38:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){function c(a,c,e,f){var g,i,j,k,l,m,n,o,p,q,r,s,t,u,v=a.adaptation.period.mpd.manifest.Period_asArray[a.adaptation.period.index].AdaptationSet_asArray[a.adaptation.index].Representation_asArray[a.index].SegmentTemplate||a.adaptation.period.mpd.manifest.Period_asArray[a.adaptation.period.index].AdaptationSet_asArray[a.adaptation.index].Representation_asArray[a.index].SegmentList,w=v.SegmentTimeline,x=v.SegmentURL_asArray,y=a.availableSegmentsNumber>0,z=10,A=0,B=0,C=-1,D=[],E=!1,F=function(c,e){var f=v.media,g=c.mediaRange;return x&&(f=x[e].media||\\\"\\\",g=x[e].mediaRange),(0,h.getTimeBasedSegment)(d,b,a,A,c.d,u,f,g,C)};for(u=a.timescale,g=w.S_asArray,p=(0,h.decideSegmentListRangeForTimeline)(d,b,c,e,f),p?(s=p.start,t=p.end):r=d.calcMediaTimeFromPresentationTime(c||0,a),j=0,k=g.length;j<k;j++){if(i=g[j],m=0,i.hasOwnProperty(\\\"r\\\")&&(m=i.r),i.hasOwnProperty(\\\"t\\\")&&(A=i.t,B=A/u),m<0){if(o=g[j+1],o&&o.hasOwnProperty(\\\"t\\\"))n=o.t/u;else{var G=a.segmentAvailabilityRange?a.segmentAvailabilityRange.end:d.calcSegmentAvailabilityRange(a,b).end;n=d.calcMediaTimeFromPresentationTime(G,a),a.segmentDuration=i.d/u}m=Math.ceil((n-B)/(i.d/u))-1}if(q){if(y)break;C+=m+1}else for(l=0;l<=m;l++){if(C++,p){if(C>t){if(q=!0,y)break;continue}C>=s&&D.push(F(i,C))}else{if(D.length>z){if(q=!0,y)break;continue}E?D.push(F(i,C)):B>=r-i.d/u*1.5&&(E=!0,D.push(F(i,C)))}A+=i.d,B=A/u}}return y||(a.availableSegmentsNumber=C+1),D}var d=a.timelineConverter,e=void 0;return e={getSegments:c}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f),h=a(35);e.__dashjs_factory_name=\\\"TimelineSegmentsGetter\\\";var i=g.default.getClassFactory(e);c.default=i,b.exports=c.default},{10:10,35:35}],39:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){d(this,a),this.period=null,this.index=-1,this.type=null};c.default=e,b.exports=c.default},{}],40:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=1,f=1,g=function a(b,c,g,h){d(this,a),this.url=b||\\\"\\\",this.serviceLocation=c||b||\\\"\\\",this.dvb_priority=g||e,this.dvb_weight=h||f};g.DEFAULT_DVB_PRIORITY=e,g.DEFAULT_DVB_WEIGHT=f,c.default=g,b.exports=c.default},{}],41:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){d(this,a),this.duration=NaN,this.presentationTime=NaN,this.id=NaN,this.messageData=\\\"\\\",this.eventStream=null,this.presentationTimeDelta=NaN};c.default=e,b.exports=c.default},{}],42:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){d(this,a),this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value=\\\"\\\",this.schemeIdUri=\\\"\\\"};c.default=e,b.exports=c.default},{}],43:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){d(this,a),this.manifest=null,this.suggestedPresentationDelay=0,this.availabilityStartTime=null,this.availabilityEndTime=Number.POSITIVE_INFINITY,this.timeShiftBufferDepth=Number.POSITIVE_INFINITY,this.maxSegmentDuration=Number.POSITIVE_INFINITY,this.checkTime=NaN,this.clientServerTimeShift=0,this.isClientServerTimeSyncCompleted=!1};c.default=e,b.exports=c.default},{}],44:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){d(this,a),this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null};e.DEFAULT_ID=\\\"defaultId\\\",c.default=e,b.exports=c.default},{}],45:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){d(this,a),this.id=null,this.index=-1,this.adaptation=null,this.segmentInfoType=null,this.initialization=null,this.segmentDuration=NaN,this.timescale=1,this.startNumber=1,this.indexRange=null,this.range=null,this.presentationTimeOffset=0,this.MSETimeOffset=NaN,this.segmentAvailabilityRange=null,this.availableSegmentsNumber=0,this.bandwidth=NaN,this.maxPlayoutRate=NaN};c.default=e,b.exports=c.default},{}],46:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){d(this,a),this.indexRange=null,this.index=null,this.mediaRange=null,this.media=null,this.duration=NaN,this.replacementTime=null,this.replacementNumber=NaN,this.mediaStartTime=NaN,this.presentationStartTime=NaN,this.availabilityStartTime=NaN,this.availabilityEndTime=NaN,this.availabilityIdx=NaN,this.wallStartTime=NaN,this.representation=null};c.default=e,b.exports=c.default},{}],47:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){d(this,a),this.schemeIdUri=\\\"\\\",this.value=\\\"\\\"};c.default=e,b.exports=c.default},{}],48:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){n=(0,g.default)(h).create({errHandler:a.errHandler,metricsModel:a.metricsModel,requestModifier:a.requestModifier})}function c(a){var b=function(b){j.trigger(o.default.CHECK_FOR_EXISTENCE_COMPLETED,{request:a,exists:b})};if(a){var c=new i.default(a.url);n.load({request:c,success:function(){b(!0)},error:function(){b(!1)}})}else b(!1)}function d(a){var b=function(b,c){j.trigger(o.default.LOADING_COMPLETED,{request:a,response:b||null,error:c||null,sender:l})};a?n.load({request:a,progress:function(){j.trigger(o.default.LOADING_PROGRESS,{request:a})},success:function(a){b(a)},error:function(a,c,d){b(void 0,new k.default(r,d,c))}}):b(void 0,new k.default(s,t))}function e(){n&&n.abort()}function f(){n&&(n.abort(),n=null)}var h=this.context,j=(0,m.default)(h).getInstance(),l=void 0,n=void 0;return l={checkForExistence:c,load:d,abort:e,reset:f},b(),l}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(58),g=d(f),h=a(164),i=d(h),j=a(162),k=d(j),l=a(9),m=d(l),n=a(13),o=d(n),p=a(10),q=d(p),r=1,s=2,t=\\\"request is null\\\";e.__dashjs_factory_name=\\\"FragmentLoader\\\";var u=q.default.getClassFactory(e);u.FRAGMENT_LOADER_ERROR_LOADING_FAILURE=r,u.FRAGMENT_LOADER_ERROR_NULL_REQUEST=s,c.default=u,b.exports=c.default},{10:10,13:13,162:162,164:164,58:58,9:9}],49:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){h.on(t.default.XLINK_READY,c,n),q=(0,i.default)(f).create({errHandler:a.errHandler,metricsModel:a.metricsModel,requestModifier:a.requestModifier}),s=(0,g.default)(f).create({errHandler:a.errHandler,metricsModel:a.metricsModel,requestModifier:a.requestModifier})}function c(a){h.trigger(t.default.INTERNAL_MANIFEST_LOADED,{manifest:a.manifest})}function d(a){var b=new m.default(a,p.HTTPRequest.MPD_TYPE);q.load({request:b,success:function(b,c,d){var e,f;d.responseURL&&d.responseURL!==a?(f=j.parseBaseUrl(d.responseURL),e=d.responseURL):(j.isRelative(a)&&(a=j.parseBaseUrl(window.location.href)+a),f=j.parseBaseUrl(a));var g=l.parse(b,s);g?(g.url=e||a,g.originalUrl||(g.originalUrl=g.url),g.baseUri=f,g.loadedTime=new Date,s.resolveManifestOnLoad(g)):h.trigger(t.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new o.default(w,y)})},error:function(b,c,d){h.trigger(t.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new o.default(x,\\\"Failed loading manifest: \\\"+a+\\\", \\\"+d)})}})}function e(){h.off(t.default.XLINK_READY,c,n),s&&(s.reset(),s=null),q&&(q.abort(),q=null)}var f=this.context,h=(0,r.default)(f).getInstance(),j=(0,k.default)(f).getInstance(),l=a.parser,n=void 0,q=void 0,s=void 0;return n={load:d,reset:e},b(),n}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(74),g=d(f),h=a(58),i=d(h),j=a(158),k=d(j),l=a(170),m=d(l),n=a(162),o=d(n),p=a(179),q=a(9),r=d(q),s=a(13),t=d(s),u=a(10),v=d(u),w=1,x=2,y=\\\"parsing failed\\\";e.__dashjs_factory_name=\\\"ManifestLoader\\\";var z=v.default.getClassFactory(e);z.MANIFEST_LOADER_ERROR_PARSING_FAILURE=w,z.MANIFEST_LOADER_ERROR_LOADING_FAILURE=x,c.default=z,b.exports=c.default},{10:10,13:13,158:158,162:162,170:170,179:179,58:58,74:74,9:9}],50:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a){a&&(a.manifestModel&&(z=a.manifestModel),a.dashManifestModel&&(A=a.dashManifestModel))}function b(a){y=a,u=NaN,v=null,x=!1,w=!0,s.on(i.default.STREAMS_COMPOSED,p,this),s.on(i.default.PLAYBACK_STARTED,n,this),s.on(i.default.PLAYBACK_PAUSED,o,this),s.on(i.default.INTERNAL_MANIFEST_LOADED,l,this)}function c(a){j(a)}function d(){return y}function e(){s.off(i.default.PLAYBACK_STARTED,n,this),s.off(i.default.PLAYBACK_PAUSED,o,this),s.off(i.default.STREAMS_COMPOSED,p,this),s.off(i.default.INTERNAL_MANIFEST_LOADED,l,this),w=!0,x=!1,f(),u=NaN}function f(){null!==v&&(clearInterval(v),v=null)}function h(){f(),isNaN(u)||(r(\\\"Refresh manifest in \\\"+u+\\\" seconds.\\\"),v=setTimeout(k,Math.min(1e3*u,Math.pow(2,31)-1),this))}function j(a){var b,c,d=new Date;z.setValue(a),r(\\\"Manifest has been refreshed at \\\"+d+\\\"[\\\"+d.getTime()/1e3+\\\"] \\\"),b=A.getRefreshDelay(a),c=((new Date).getTime()-a.loadedTime.getTime())/1e3,u=Math.max(b-c,0),s.trigger(i.default.MANIFEST_UPDATED,{manifest:a}),w||h()}function k(){var a,b;if(!w&&!x){x=!0,a=z.getValue(),b=a.url;var c=A.getLocation(a);c&&(b=c),y.load(b)}}function l(a){a.error||j(a.manifest)}function n(){w=!1,h()}function o(){w=!0,f()}function p(){x=!1}var q=this.context,r=(0,m.default)(q).getInstance().log,s=(0,g.default)(q).getInstance(),t=void 0,u=void 0,v=void 0,w=void 0,x=void 0,y=void 0,z=void 0,A=void 0;return t={initialize:b,setManifest:c,getManifestLoader:d,setConfig:a,reset:e}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(9),g=d(f),h=a(13),i=d(h),j=a(10),k=d(j),l=a(8),m=d(l);e.__dashjs_factory_name=\\\"ManifestUpdater\\\",c.default=k.default.getSingletonFactory(e),b.exports=c.default},{10:10,13:13,8:8,9:9}],51:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){_b=!1,ac=!1,bc=!0,ec=null,$b=null,gc=null,ea.default.extend(ga.default),ic=(0,I.default)(Ub).getInstance()}function b(a,b,c){return kc=(0,u.default)(Ub).getInstance(),jc=(0,s.default)(Ub).getInstance(),kc.supportsMediaSource()?void(_b||(_b=!0,cc=(0,M.default)(Ub).getInstance(),nc=(0,i.default)(Ub).getInstance(),dc=(0,m.default)(Ub).getInstance(),dc.initialize(),pc=(0,pa.default)(Ub).getInstance(),oc=(0,ra.default)(Ub).getInstance(),hc=(0,K.default)(Ub).getInstance(),hc.setConfig({adapter:Jb()}),db(),oa(void 0===c||c),a&&zb(a),b&&Db(b),Xb(\\\"[dash.js \\\"+R()+\\\"] MediaPlayer has been initialized\\\"))):void jc.capabilityError(\\\"mediasource\\\")}function c(){return!!qc&&!!Zb}function d(){if(!ac)throw Qb;(!bc||f()&&ac)&&nc.play()}function e(){if(!ac)throw Qb;nc.pause()}function f(){if(!ac)throw Qb;return nc.isPaused()}function h(){if(!ac)throw Qb;return nc.isSeeking()}function j(a){if(!qc)throw Rb;yb().muted=a}function l(){if(!qc)throw Rb;return yb().muted}function n(a){if(!qc)throw Rb;yb().volume=a}function p(){if(!qc)throw Rb;return yb().volume}function r(a){var b=[\\\"video\\\",\\\"audio\\\",\\\"fragmentedText\\\"];if(a){\\nif(b.indexOf(a)!==-1){var c=va().getCurrentBufferLevel(wa(a));return c?c:NaN}return Xb(\\\"Warning  - getBufferLength requested for invalid type\\\"),NaN}return b.map(function(a){return Ka(a).length>0?va().getCurrentBufferLevel(wa(a)):Number.MAX_VALUE}).reduce(function(a,b){return Math.min(a,b)})}function t(){var a=Mb();return a?a.manifestInfo.DVRWindowSize:0}function v(a){var b=Mb();if(!b)return 0;var c=b.range.start+a;return c>b.range.end&&(c=b.range.end),c}function x(a){if(!ac)throw Qb;var b=nc.getIsDynamic()?v(a):a;nc.seek(b)}function z(a){if(!ac)throw Qb;var b=yb().currentTime;if(void 0!==a)b=lc.getTimeRelativeToStreamId(b,a);else if(nc.getIsDynamic()){var c=Mb();b=null===c?0:B()-(c.range.end-c.time)}return b}function B(){if(!ac)throw Qb;var a=yb().duration;if(nc.getIsDynamic()){var b,c=Mb();if(!c)return 0;b=c.range.end-c.range.start,a=b<c.manifestInfo.DVRWindowSize?b:c.manifestInfo.DVRWindowSize}return a}function D(){if(!ac)throw Qb;return z()<0?NaN:Nb(z())}function F(){if(!ac)throw Qb;return Nb(B())}function H(a,b,c){var d=new Date(1e3*a),e=d.toLocaleDateString(b),f=d.toLocaleTimeString(b,{hour12:c});return f+\\\" \\\"+e}function J(a){a=Math.max(a,0);var b=Math.floor(a/3600),c=Math.floor(a%3600/60),d=Math.floor(a%3600%60);return(0===b?\\\"\\\":b<10?\\\"0\\\"+b.toString()+\\\":\\\":b.toString()+\\\":\\\")+(c<10?\\\"0\\\"+c.toString():c.toString())+\\\":\\\"+(d<10?\\\"0\\\"+d.toString():d.toString())}function L(a,b,c){ia.default.extend(a,b,c,Ub)}function N(a,b,c){Vb.on(a,b,c)}function P(a,b,c){Vb.off(a,b,c)}function R(){return(0,ja.getVersionString)()}function T(){return Wb}function V(){if(!qc)throw Rb;return qc}function X(a){ic.setLiveDelayFragmentCount(a)}function Z(a){ic.setLiveDelay(a)}function _(a){ic.setUseSuggestedPresentationDelay(a)}function ba(a,b){ic.setLastBitrateCachingInfo(a,b)}function da(a,b){ic.setLastMediaSettingsCachingInfo(a,b)}function fa(a,b){cc.setMaxAllowedBitrateFor(a,b)}function ha(a){return cc.getMaxAllowedBitrateFor(a)}function ka(a,b){cc.setMaxAllowedRepresentationRatioFor(a,b)}function ma(a){return cc.getMaxAllowedRepresentationRatioFor(a)}function oa(a){bc=a}function qa(){return bc}function sa(a){ic.setScheduleWhilePaused(a)}function ua(){return ic.getScheduleWhilePaused()}function va(){return oc}function wa(a){return hc.getReadOnlyMetricsFor(a)}function xa(a){if(!ac)throw Qb;return cc.getQualityFor(a,lc.getActiveStreamInfo())}function ya(a,b){if(!ac)throw Qb;cc.setPlaybackQuality(a,lc.getActiveStreamInfo(),b)}function za(){return cc.getLimitBitrateByPortal()}function Aa(a){cc.setLimitBitrateByPortal(a)}function Ba(){return cc.getUsePixelRatioInLimitBitrateByPortal()}function Ca(a){cc.setUsePixelRatioInLimitBitrateByPortal(a)}function Da(a){if(!ac)throw Qb;void 0===rc&&(rc=(0,C.default)(Ub).getInstance());for(var b=yb().textTracks,c=b.length,d=0;d<c;d++){var e=b[d],f=a===d?\\\"showing\\\":\\\"hidden\\\";e.mode!==f&&(e.mode=f)}rc.setTextTrack()}function Ea(a){if(!ac)throw Qb;var b=Ob();return b?b.getBitrateListFor(a):[]}function Fa(a,b){cc.setInitialBitrateFor(a,b)}function Ga(a){if(!ac)throw Qb;return cc.getInitialBitrateFor(a)}function Ha(a,b){cc.setInitialRepresentationRatioFor(a,b)}function Ia(a){return cc.getInitialRepresentationRatioFor(a)}function Ja(a){if(!ac)throw Qb;return gc.getStreamsInfo(a)}function Ka(a){if(!ac)throw Qb;var b=lc.getActiveStreamInfo();return b?dc.getTracksFor(a,b):[]}function La(a,b,c){if(!ac)throw Qb;return c=c||gc.getStreamsInfo(b)[0],c?gc.getAllMediaInfoForType(b,c,a):[]}function Ma(a){if(!ac)throw Qb;var b=lc.getActiveStreamInfo();return b?dc.getCurrentTrackFor(a,b):null}function Na(a,b){dc.setInitialSettings(a,b)}function Oa(a){return dc.getInitialSettings(a)}function Pa(a){if(!ac)throw Qb;dc.setTrack(a)}function Qa(a){return dc.getSwitchMode(a)}function Ra(a,b){dc.setSwitchMode(a,b)}function Sa(a){dc.setSelectionModeForInitialTrack(a)}function Ta(){return dc.getSelectionModeForInitialTrack()}function Ua(){return cc.getAutoSwitchBitrateFor(\\\"video\\\")||cc.getAutoSwitchBitrateFor(\\\"audio\\\")}function Va(a){cc.setAutoSwitchBitrateFor(\\\"video\\\",a),cc.setAutoSwitchBitrateFor(\\\"audio\\\",a)}function Wa(a){return cc.getAutoSwitchBitrateFor(a)}function Xa(a,b){cc.setAutoSwitchBitrateFor(a,b)}function Ya(a){ic.setFastSwitchEnabled(a)}function Za(){return ic.getFastSwitchEnabled()}function $a(a){ic.setBufferOccupancyABREnabled(a)}function _a(a,b){var c=Hb(),d=this,e=function a(e){e.error?b(null,e.error):b(e.manifest),Vb.off(ea.default.INTERNAL_MANIFEST_LOADED,a,d),c.reset()};Vb.on(ea.default.INTERNAL_MANIFEST_LOADED,e,d);var f=(0,E.default)(Ub).getInstance();f.initialize(),c.load(f.parseURI(a))}function ab(a,b){bb(a,b);var c=new g.default;c.schemeIdUri=a,c.value=b,ic.getUTCTimingSources().push(c)}function bb(a,b){var c=ic.getUTCTimingSources();c.forEach(function(d,e){d.schemeIdUri===a&&d.value===b&&c.splice(e,1)})}function cb(){ic.setUTCTimingSources([])}function db(){ab(I.default.DEFAULT_UTC_TIMING_SOURCE.scheme,I.default.DEFAULT_UTC_TIMING_SOURCE.value)}function eb(a){ic.setUseManifestDateHeaderTimeSource(a)}function fb(a){ic.setBufferToKeep(a)}function gb(a){ic.setBufferPruningInterval(a)}function hb(a){ic.setStableBufferTime(a)}function ib(a){ic.setBufferTimeAtTopQuality(a)}function jb(a){ic.setBufferTimeAtTopQualityLongForm(a)}function kb(a){ic.setLongFormContentDurationThreshold(a)}function lb(a){ic.setRichBufferThreshold(a)}function mb(a){ic.setBandwidthSafetyFactor(a)}function nb(){return ic.getBandwidthSafetyFactor()}function ob(a){ic.setAbandonLoadTimeout(a)}function pb(a){ic.setFragmentRetryAttempts(a)}function qb(a){ic.setFragmentRetryInterval(a)}function rb(a){ic.setXHRWithCredentials(a)}function sb(){return Kb()}function tb(a){ec=a}function ub(a){$b=a}function vb(a){var b=(0,w.default)(Ub).getInstance();b.setConfig({videoModel:qc}),b.initialize(),b.displayCConTop(a)}function wb(){return qc?qc.getVideoContainer():null}function xb(a){if(!qc)throw Rb;qc.setVideoContainer(a)}function yb(){if(!qc)throw Rb;return qc.getElement()}function zb(a){if(!_b)throw Tb;qc=null,a&&(qc=(0,S.default)(Ub).getInstance(),qc.initialize(),qc.setElement(a),Kb(),Lb()),Fb()}function Ab(){return qc?qc.getTTMLRenderingDiv():null}function Bb(a){if(!qc)throw Rb;qc.setTTMLRenderingDiv(a)}function Cb(){if(!Zb)throw Sb;return Zb}function Db(a){if(!_b)throw Tb;if(\\\"string\\\"==typeof a){var b=(0,E.default)(Ub).getInstance();b.initialize(),Zb=b.parseURI(a)}else Zb=a;Fb()}function Eb(){Db(null),zb(null),$b=null,ec=null}function Fb(){ac?(ac=!1,gc.reset(),lc.reset(),nc.reset(),cc.reset(),mc.reset(),dc.reset(),lc=null,fc=null,c()&&Pb()):c()&&Pb()}function Gb(){var a=(0,W.default)(Ub).getInstance();a.initialize();var b=(0,Q.default)(Ub).getInstance();b.initialize();var c=(0,y.default)(Ub).getInstance();c.setConfig({dashManifestModel:pc}),dc.initialize(),dc.setConfig({errHandler:jc}),mc=(0,U.default)(Ub).getInstance(),mc.initialize(),mc.setConfig({abrRulesCollection:b,synchronizationRulesCollection:a}),lc=(0,k.default)(Ub).getInstance(),lc.setConfig({capabilities:kc,manifestLoader:Hb(),manifestModel:(0,G.default)(Ub).getInstance(),dashManifestModel:pc,protectionController:ec,adapter:gc,metricsModel:hc,dashMetrics:oc,liveEdgeFinder:(0,q.default)(Ub).getInstance(),mediaSourceController:(0,Y.default)(Ub).getInstance(),timeSyncController:(0,O.default)(Ub).getInstance(),baseURLController:(0,$.default)(Ub).getInstance(),errHandler:jc,timelineConverter:(0,ta.default)(Ub).getInstance()}),lc.initialize(bc,$b),cc.setConfig({abrRulesCollection:b,rulesController:mc,streamController:lc})}function Hb(){return(0,o.default)(Ub).create({errHandler:jc,parser:Ib(),metricsModel:hc,requestModifier:(0,A.default)(Ub).getInstance()})}function Ib(){return(0,na.default)(Ub).create()}function Jb(){return gc=(0,la.default)(Ub).getInstance(),gc.initialize(),gc.setConfig({dashManifestModel:pc}),gc}function Kb(){if(ec)return ec;var a=dashjs.Protection;if(\\\"function\\\"==typeof a){var b=a(Ub).create();return ea.default.extend(a.events),ga.default.extend(a.events,{publicOnly:!0}),ec=b.createProtectionSystem({log:Xb,videoModel:qc,capabilities:kc,eventBus:Vb,adapter:gc})}return null}function Lb(){if(fc)return fc;var a=dashjs.MetricsReporting;if(\\\"function\\\"==typeof a){var b=a(Ub).create();return fc=b.createMetricsReporting({log:Xb,eventBus:Vb,mediaElement:yb(),dashManifestModel:pc,metricsModel:hc})}return null}function Mb(){var a=hc.getReadOnlyMetricsFor(\\\"video\\\")||hc.getReadOnlyMetricsFor(\\\"audio\\\");return oc.getCurrentDVRInfo(a)}function Nb(a){var b,c,d=Mb();return d?(b=d.manifestInfo.availableFrom.getTime()/1e3,c=a+(b+d.range.start)):0}function Ob(){if(!ac)throw Qb;var a=lc.getActiveStreamInfo();return a?lc.getStreamById(a.id):null}function Pb(){ac||(ac=!0,Xb(\\\"Playback Initialized\\\"),Gb(),\\\"string\\\"==typeof Zb?lc.load(Zb):lc.loadWithManifest(Zb))}var Qb=\\\"You must first call play() to init playback before calling this method\\\",Rb=\\\"You must first call attachView() to set the video element before calling this method\\\",Sb=\\\"You must first call attachSource() with a valid source before calling this method\\\",Tb=\\\"MediaPlayer not initialized!\\\",Ub=this.context,Vb=(0,ca.default)(Ub).getInstance(),Wb=(0,aa.default)(Ub).getInstance(),Xb=Wb.log,Yb=void 0,Zb=void 0,$b=void 0,_b=void 0,ac=void 0,bc=void 0,cc=void 0,dc=void 0,ec=void 0,fc=void 0,gc=void 0,hc=void 0,ic=void 0,jc=void 0,kc=void 0,lc=void 0,mc=void 0,nc=void 0,oc=void 0,pc=void 0,qc=void 0,rc=void 0;return Yb={initialize:b,on:N,off:P,extend:L,attachView:zb,attachSource:Db,isReady:c,play:d,isPaused:f,pause:e,isSeeking:h,seek:x,setMute:j,isMuted:l,setVolume:n,getVolume:p,time:z,duration:B,timeAsUTC:D,durationAsUTC:F,getActiveStream:Ob,getDVRWindowSize:t,getDVRSeekOffset:v,convertToTimeCode:J,formatUTC:H,getVersion:R,getDebug:T,getBufferLength:r,getVideoModel:V,getVideoContainer:wb,getTTMLRenderingDiv:Ab,getVideoElement:yb,getSource:Cb,setLiveDelayFragmentCount:X,setLiveDelay:Z,useSuggestedPresentationDelay:_,enableLastBitrateCaching:ba,enableLastMediaSettingsCaching:da,setMaxAllowedBitrateFor:fa,getMaxAllowedBitrateFor:ha,setMaxAllowedRepresentationRatioFor:ka,getMaxAllowedRepresentationRatioFor:ma,setAutoPlay:oa,getAutoPlay:qa,setScheduleWhilePaused:sa,getScheduleWhilePaused:ua,getDashMetrics:va,getMetricsFor:wa,getQualityFor:xa,setQualityFor:ya,getLimitBitrateByPortal:za,setLimitBitrateByPortal:Aa,getUsePixelRatioInLimitBitrateByPortal:Ba,setUsePixelRatioInLimitBitrateByPortal:Ca,setTextTrack:Da,getBitrateInfoListFor:Ea,setInitialBitrateFor:Fa,getInitialBitrateFor:Ga,setInitialRepresentationRatioFor:Ha,getInitialRepresentationRatioFor:Ia,getStreamsFromManifest:Ja,getTracksFor:Ka,getTracksForTypeFromManifest:La,getCurrentTrackFor:Ma,setInitialMediaSettingsFor:Na,getInitialMediaSettingsFor:Oa,setCurrentTrack:Pa,getTrackSwitchModeFor:Qa,setTrackSwitchModeFor:Ra,setSelectionModeForInitialTrack:Sa,getSelectionModeForInitialTrack:Ta,getAutoSwitchQuality:Ua,setAutoSwitchQuality:Va,setFastSwitchEnabled:Ya,getFastSwitchEnabled:Za,getAutoSwitchQualityFor:Wa,setAutoSwitchQualityFor:Xa,enableBufferOccupancyABR:$a,setBandwidthSafetyFactor:mb,getBandwidthSafetyFactor:nb,setAbandonLoadTimeout:ob,retrieveManifest:_a,addUTCTimingSource:ab,removeUTCTimingSource:bb,clearDefaultUTCTimingSources:cb,restoreDefaultUTCTimingSources:db,setBufferToKeep:fb,setBufferPruningInterval:gb,setStableBufferTime:hb,setBufferTimeAtTopQuality:ib,setFragmentLoaderRetryAttempts:pb,setFragmentLoaderRetryInterval:qb,setXHRWithCredentials:rb,setBufferTimeAtTopQualityLongForm:jb,setLongFormContentDurationThreshold:kb,setRichBufferThreshold:lb,getProtectionController:sb,attachProtectionController:tb,setProtectionData:ub,enableManifestDateHeaderTimeSource:eb,displayCaptionsOnTop:vb,attachVideoContainer:xb,attachTTMLRenderingDiv:Bb,reset:Eb},a(),Yb}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(47),g=d(f),h=a(68),i=d(h),j=a(71),k=d(j),l=a(66),m=d(l),n=a(49),o=d(n),p=a(154),q=d(p),r=a(151),s=d(r),t=a(147),u=d(t),v=a(57),w=d(v),x=a(70),y=d(x),z=a(156),A=d(z),B=a(56),C=d(B),D=a(103),E=d(D),F=a(100),G=d(F),H=a(101),I=d(H),J=a(102),K=d(J),L=a(60),M=d(L),N=a(73),O=d(N),P=a(131),Q=d(P),R=a(104),S=d(R),T=a(129),U=d(T),V=a(144),W=d(V),X=a(67),Y=d(X),Z=a(61),$=d(Z),_=a(8),aa=d(_),ba=a(9),ca=d(ba),da=a(13),ea=d(da),fa=a(52),ga=d(fa),ha=a(10),ia=d(ha),ja=a(11),ka=a(15),la=d(ka),ma=a(23),na=d(ma),oa=a(22),pa=d(oa),qa=a(17),ra=d(qa),sa=a(37),ta=d(sa);e.__dashjs_factory_name=\\\"MediaPlayer\\\";var ua=ia.default.getClassFactory(e);ua.events=ga.default,c.default=ua,b.exports=c.default},{10:10,100:100,101:101,102:102,103:103,104:104,11:11,129:129,13:13,131:131,144:144,147:147,15:15,151:151,154:154,156:156,17:17,22:22,23:23,37:37,47:47,49:49,52:52,56:56,57:57,60:60,61:61,66:66,67:67,68:68,70:70,71:71,73:73,8:8,9:9}],52:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}function f(a,b){if(\\\"function\\\"!=typeof b&&null!==b)throw new TypeError(\\\"Super expression must either be null or a function, not \\\"+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var g=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if(\\\"value\\\"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}},h=a(14),i=d(h),j=function(a){function b(){e(this,b),g(Object.getPrototypeOf(b.prototype),\\\"constructor\\\",this).call(this),this.BUFFER_EMPTY=\\\"bufferstalled\\\",this.BUFFER_LOADED=\\\"bufferloaded\\\",this.BUFFER_LEVEL_STATE_CHANGED=\\\"bufferStateChanged\\\",this.ERROR=\\\"error\\\",this.LOG=\\\"log\\\",this.MANIFEST_LOADED=\\\"manifestloaded\\\",this.METRICS_CHANGED=\\\"metricschanged\\\",this.METRIC_CHANGED=\\\"metricchanged\\\",this.METRIC_ADDED=\\\"metricadded\\\",this.METRIC_UPDATED=\\\"metricupdated\\\",this.PERIOD_SWITCH_COMPLETED=\\\"streamswitchcompleted\\\",this.PERIOD_SWITCH_STARTED=\\\"streamswitchstarted\\\",this.QUALITY_CHANGE_REQUESTED=\\\"qualityChangeRequested\\\",this.QUALITY_CHANGE_RENDERED=\\\"qualityChangeRendered\\\",this.STREAM_INITIALIZED=\\\"streaminitialized\\\",this.TEXT_TRACKS_ADDED=\\\"alltexttracksadded\\\",this.TEXT_TRACK_ADDED=\\\"texttrackadded\\\",this.CAN_PLAY=\\\"canPlay\\\",this.PLAYBACK_ENDED=\\\"playbackEnded\\\",this.PLAYBACK_ERROR=\\\"playbackError\\\",this.PLAYBACK_NOT_ALLOWED=\\\"playbackNotAllowed\\\",this.PLAYBACK_METADATA_LOADED=\\\"playbackMetaDataLoaded\\\",this.PLAYBACK_PAUSED=\\\"playbackPaused\\\",this.PLAYBACK_PLAYING=\\\"playbackPlaying\\\",this.PLAYBACK_PROGRESS=\\\"playbackProgress\\\",this.PLAYBACK_RATE_CHANGED=\\\"playbackRateChanged\\\",this.PLAYBACK_SEEKED=\\\"playbackSeeked\\\",this.PLAYBACK_SEEKING=\\\"playbackSeeking\\\",this.PLAYBACK_STARTED=\\\"playbackStarted\\\",this.PLAYBACK_TIME_UPDATED=\\\"playbackTimeUpdated\\\"}return f(b,a),b}(i.default),k=new j;c.default=k,b.exports=c.default},{14:14}],53:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a,b,c){if(!a||\\\"VIDEO\\\"!==a.nodeName)return null;if(a._dashjs_player)return a._dashjs_player;var e,f=a.id||a.name||\\\"video element\\\";if(b=b||[].slice.call(a.querySelectorAll(\\\"source\\\")).filter(function(a){return a.type==d})[0],!b&&a.src)b=document.createElement(\\\"source\\\"),b.src=a.src;else if(!b&&!a.src)return null;return c=c||{},e=(0,h.default)(c).create(),e.initialize(a,b.src,a.autoplay),e.getDebug().log(\\\"Converted \\\"+f+\\\" to dash.js player and added content: \\\"+b.src),a._dashjs_player=e,e}function b(b,e){var f=[];b=b||\\\"[data-dashjs-player]\\\",e=e||document;for(var g=e.querySelectorAll(b),h=0;h<g.length;h++){var i=a(g[h],null);f.push(i)}for(var j=e.querySelectorAll('source[type=\\\"'+d+'\\\"]'),h=0;h<j.length;h++){var k=c(j[h]),i=a(k,null);f.push(i)}return f}function c(a){for(var b=!0;b;){var c=a;if(b=!1,\\\"video\\\"===c.nodeName.toLowerCase())return c;a=c.parentNode,b=!0}}var d=\\\"application/dash+xml\\\";return{create:a,createAll:b}}function f(){window.removeEventListener(\\\"load\\\",f),i.createAll()}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var g=a(51),h=d(g),i=e(),j=window&&window.dashjs&&window.dashjs.skipAutoCreate;!j&&window&&window.addEventListener&&(\\\"complete\\\"===window.document.readyState?i.createAll():window.addEventListener(\\\"load\\\",f)),c.default=i,b.exports=c.default},{51:51}],54:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){ja=[],ka=!1,la=!1,ma=null,na={},oa=!1,pa=!1,ra=(0,g.default)($).getInstance(),sa=(0,w.default)($).getInstance(),wa=(0,q.default)($).getInstance(),ta=(0,k.default)($).getInstance(),ua=(0,o.default)($).create(),xa=(0,O.default)($).getInstance(),aa.on(I.default.BUFFERING_COMPLETED,U,ia),aa.on(I.default.DATA_UPDATE_COMPLETED,V,ia)}function c(a,b){ma=a,qa=b,qa&&(aa.on(I.default.KEY_ERROR,D,ia),aa.on(I.default.SERVER_CERTIFICATE_UPDATED,D,ia),aa.on(I.default.LICENSE_REQUEST_COMPLETE,D,ia),aa.on(I.default.KEY_SYSTEM_SELECTED,D,ia),aa.on(I.default.KEY_SESSION_CREATED,D,ia))}function d(a){ka?T():(aa.on(I.default.CURRENT_TRACK_CHANGED,J,ia),Q(a))}function e(){for(var a=ja.length,b=0;b<a;b++)ja[b].reset();ja=[],ka=!1,la=!1,x(),aa.off(I.default.CURRENT_TRACK_CHANGED,J,ia)}function f(){sa&&(sa.pause(),sa=null),ua&&(ua.reset(),ua=null),ra.abortSearch(),e(),ta=null,wa=null,ca=null,ba=null,da=null,ea=null,_=null,fa=null,oa=!1,pa=!1,na={},aa.off(I.default.DATA_UPDATE_COMPLETED,V,ia),aa.off(I.default.BUFFERING_COMPLETED,U,ia),aa.off(I.default.KEY_ERROR,D,ia),aa.off(I.default.SERVER_CERTIFICATE_UPDATED,D,ia),aa.off(I.default.LICENSE_REQUEST_COMPLETE,D,ia),aa.off(I.default.KEY_SYSTEM_SELECTED,D,ia),aa.off(I.default.KEY_SESSION_CREATED,D,ia)}function h(){return ma.duration}function j(){return ma.start}function l(){return ma.index}function n(){return ma.id}function p(){return ma}function r(a){return null!==S(a)}function t(a){var b=S(a);return wa.getBitrateList(b)}function v(){va&&va.start()}function x(){va&&va.clear()}function z(){return ka}function B(){return pa}function D(a){a.error&&(fa.mediaKeySessionError(a.error),_(a.error),f())}function F(a){return\\\"text\\\"===a.type?a.mimeType:a.type}function H(a,b,c){var d,e,f=a.type;if(\\\"muxed\\\"===f&&a)return e=\\\"Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines\\\",_(e),fa.manifestError(e,\\\"multiplexedrep\\\",ba.getValue()),!1;if(\\\"text\\\"===f||\\\"fragmentedText\\\"===f||\\\"embeddedText\\\"===f)return!0;if(d=a.codec,_(f+\\\" codec: \\\"+d),a.contentProtection&&!ea.supportsEncryptedMedia())fa.capabilityError(\\\"encryptedmedia\\\");else if(!ea.supportsCodec((0,s.default)($).getInstance().getElement(),d))return e=f+\\\"Codec (\\\"+d+\\\") is not supported.\\\",fa.manifestError(e,\\\"codec\\\",c),_(e),!1;return!0}function J(a){if(a.newMediaInfo.streamInfo.id===ma.id){var b=W(a.oldMediaInfo);if(b){var c=sa.getTime(),d=b.getBuffer(),e=a.newMediaInfo,f=ba.getValue(),g=ja.indexOf(b),h=b.getMediaSource();\\\"fragmentedText\\\"!==e.type?(b.reset(!0),N(e,f,h,{buffer:d,replaceIdx:g,currentTime:c}),sa.seek(sa.getTime())):b.updateMediaInfo(f,e)}}}function L(a){var b=a.split(\\\"/\\\")[1];return\\\"webm\\\"===b.toLowerCase()}function M(a){var b=L(a.mimeType)?(0,C.default)($).getInstance():(0,A.default)($).getInstance();b.setConfig({baseURLController:ha,metricsModel:(0,u.default)($).getInstance()}),b.initialize();var c=(0,y.default)($).create({segmentBaseLoader:b,timelineConverter:ga,dashMetrics:(0,E.default)($).getInstance(),metricsModel:(0,u.default)($).getInstance(),baseURLController:ha});return c}function N(a,b,c,d){var e=(0,i.default)($).create({indexHandler:M(a),timelineConverter:ga,adapter:da,manifestModel:ba}),f=da.getAllMediaInfoForType(b,ma,a.type);if(e.initialize(F(a),ua,c,ia,va),wa.updateTopQualityIndex(a),d?(e.setBuffer(d.buffer),e.getIndexHandler().setCurrentTime(d.currentTime),ja[d.replaceIdx]=e):ja.push(e),\\\"text\\\"===a.type||\\\"fragmentedText\\\"===a.type){for(var g,h=0;h<f.length;h++)f[h].index===a.index&&(g=h),e.updateMediaInfo(b,f[h]);\\\"fragmentedText\\\"===a.type&&e.updateMediaInfo(b,f[g])}else e.updateMediaInfo(b,a);return e}function P(a,b){var c,d=ba.getValue(),e=da.getAllMediaInfoForType(d,ma,a),f=null;if(!e||0===e.length)return void _(\\\"No \\\"+a+\\\" data.\\\");for(var g=0,h=e.length;g<h;g++)if(f=e[g],\\\"embeddedText\\\"===a)xa.addEmbeddedTrack(f);else{if(!H(f,b,d))continue;ta.isMultiTrackSupportedByType(f.type)&&ta.addTrack(f,ma)}\\\"embeddedText\\\"!==a&&0!==ta.getTracksFor(a,ma).length&&(ta.checkInitialMediaSettingsForType(a,ma),c=ta.getCurrentTrackFor(a,ma),N(c,d,b))}function Q(a){var b,c=ba.getValue();if(va=(0,m.default)($).getInstance(),va.initialize(),va.setConfig({manifestModel:ba,manifestUpdater:ca}),b=da.getEventsFor(c,ma),va.addInlineEvents(b),oa=!0,P(\\\"video\\\",a),P(\\\"audio\\\",a),P(\\\"text\\\",a),P(\\\"fragmentedText\\\",a),P(\\\"embeddedText\\\",a),P(\\\"muxed\\\",a),T(),la=!0,oa=!1,0===ja.length){var d=\\\"No streams to play.\\\";fa.manifestError(d,\\\"nostreams\\\",c),_(d)}else ra.initialize(ga,ja[0]),R()}function R(){var a=ja.length,b=!!na.audio||!!na.video,c=b?new Error(Z,\\\"Data update failed\\\",null):null,d=0;for(d;d<a;d++)if(ja[d].isUpdating()||oa)return;pa=!0,ka=!0,la&&(qa&&qa.initialize(ba.getValue(),S(\\\"audio\\\"),S(\\\"video\\\")),aa.trigger(I.default.STREAM_INITIALIZED,{streamInfo:ma,error:c}))}function S(a){for(var b=ja.length,c=null,d=0;d<b;d++)if(c=ja[d],c.getType()===a)return c.getMediaInfo();return null}function T(){for(var a=0,b=ja.length;a<b;a++)ja[a].createBuffer()}function U(a){if(a.streamInfo===ma){var b=X(),c=b.length,d=0;for(d;d<c;d++)if(!b[d].isBufferingCompleted())return;aa.trigger(I.default.STREAM_BUFFERING_COMPLETED,{streamInfo:ma})}}function V(a){var b=a.sender.getStreamProcessor();b.getStreamInfo()===ma&&(na[b.getType()]=a.error,R())}function W(a){if(!a)return!1;var b=X();return b.filter(function(b){return b.getType()===a.type})[0]}function X(){var a,b,c=ja.length,d=[],e=0;for(e;e<c;e++)b=ja[e],a=b.getType(),\\\"audio\\\"!==a&&\\\"video\\\"!==a&&\\\"fragmentedText\\\"!==a||d.push(b);return d}function Y(a){_(\\\"Manifest updated... updating data system wide.\\\");var b=ba.getValue();if(ka=!1,oa=!0,pa=!1,ma=a,va){var c=da.getEventsFor(b,ma);va.addInlineEvents(c)}for(var d=0,e=ja.length;d<e;d++){var f=ja[d],g=da.getMediaInfoForType(b,ma,f.getType());wa.updateTopQualityIndex(g),f.updateMediaInfo(b,g)}oa=!1,R()}var Z=1,$=this.context,_=(0,K.default)($).getInstance().log,aa=(0,G.default)($).getInstance(),ba=a.manifestModel,ca=a.manifestUpdater,da=a.adapter,ea=a.capabilities,fa=a.errHandler,ga=a.timelineConverter,ha=a.baseURLController,ia=void 0,ja=void 0,ka=void 0,la=void 0,ma=void 0,na=void 0,oa=void 0,pa=void 0,qa=void 0,ra=void 0,sa=void 0,ta=void 0,ua=void 0,va=void 0,wa=void 0,xa=void 0;return ia={initialize:c,activate:d,deactivate:e,getDuration:h,getStartTime:j,getStreamIndex:l,getId:n,getStreamInfo:p,hasMedia:r,getBitrateListFor:t,startEventController:v,isActivated:z,isInitialized:B,updateData:Y,reset:f,getProcessors:X},b(),ia}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(154),g=d(f),h=a(55),i=d(h),j=a(66),k=d(j),l=a(64),m=d(l),n=a(65),o=d(n),p=a(60),q=d(p),r=a(104),s=d(r),t=a(102),u=d(t),v=a(68),w=d(v),x=a(16),y=d(x),z=a(18),A=d(z),B=a(19),C=d(B),D=a(17),E=d(D),F=a(9),G=d(F),H=a(13),I=d(H),J=a(8),K=d(J),L=a(10),M=d(L),N=a(56),O=d(N);e.__dashjs_factory_name=\\\"Stream\\\",c.default=M.default.getClassFactory(e),b.exports=c.default},{10:10,102:102,104:104,13:13,154:154,16:16,17:17,18:18,19:19,55:55,56:56,60:60,64:64,65:65,66:66,68:68,8:8,9:9}],55:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){ca=[]}function c(a,b,c,d,e){ba=a,da=d,ea=e,ja=b,_=da.getStreamInfo().manifestInfo.isDynamic,W.initialize(this),fa=(0,g.default)(V).getInstance(),fa.initialize(ba,this),ga=U(a),ha=(0,q.default)(V).create({metricsModel:(0,w.default)(V).getInstance(),manifestModel:Z,adapter:Y,dashMetrics:(0,I.default)(V).getInstance(),dashManifestModel:(0,G.default)(V).getInstance(),timelineConverter:X,rulesController:(0,s.default)(V).getInstance(),mediaPlayerModel:(0,u.default)(V).getInstance()}),ga.initialize(ba,c,this),ha.initialize(ba,this),ka=(0,y.default)(V).create({metricsModel:(0,w.default)(V).getInstance(),errHandler:(0,M.default)(V).getInstance(),requestModifier:(0,A.default)(V).getInstance()}),la=ha.getFragmentModel(),la.setLoader(ka),ia=(0,K.default)(V).create(),ia.initialize(this)}function d(a){W.reset(),ga&&(ga.reset(a),ga=null),ha&&(ha.reset(),ha=null),ia&&(ia.reset(),ia=null),ja=null,ka=null,ea=null,da=null,_=null,aa=null,ca=[],ba=null}function e(){return ia.isUpdating()}function f(){return ba}function h(){return fa}function j(){return ia}function l(){return ka}function n(){return W}function p(){return ja}function r(){return ga.getBuffer()}function t(a){ga.setBuffer(a)}function v(){return ga}function x(){return la}function z(){return da.getStreamInfo()}function B(a,b){b===aa||b&&aa&&b.type!==aa.type||(aa=b),ca.indexOf(b)===-1&&ca.push(b),Y.updateData(a,this)}function D(){return ca}function F(){return aa}function H(){return ga.getMediaSource()}function J(){return ha}function L(){return ea}function N(){ha.start()}function O(){ha.stop()}function P(){return Y.getCurrentRepresentationInfo(Z.getValue(),ia)}function Q(a){return Y.getRepresentationInfoForQuality(Z.getValue(),ia,a)}function R(){return ga.getIsBufferingCompleted()}function S(){return ga.getBuffer()||ga.createBuffer(aa)}function T(){return _}function U(a){var b=null;return b=\\\"video\\\"===a||\\\"audio\\\"===a||\\\"fragmentedText\\\"===a?(0,i.default)(V).create({metricsModel:(0,w.default)(V).getInstance(),manifestModel:Z,sourceBufferController:(0,C.default)(V).getInstance(),errHandler:(0,M.default)(V).getInstance(),streamController:(0,k.default)(V).getInstance(),mediaController:(0,m.default)(V).getInstance(),adapter:Y,textSourceBuffer:(0,E.default)(V).getInstance()}):(0,o.default)(V).create({errHandler:(0,M.default)(V).getInstance(),sourceBufferController:(0,C.default)(V).getInstance()})}var V=this.context,W=a.indexHandler,X=a.timelineConverter,Y=a.adapter,Z=a.manifestModel,$=void 0,_=void 0,aa=void 0,ba=void 0,ca=void 0,da=void 0,ea=void 0,fa=void 0,ga=void 0,ha=void 0,ia=void 0,ja=void 0,ka=void 0,la=void 0;return $={initialize:c,isUpdating:e,getType:f,getBufferController:v,getABRController:h,getFragmentLoader:l,getFragmentModel:x,getScheduleController:J,getEventController:L,getFragmentController:p,getRepresentationController:j,getIndexHandler:n,getCurrentRepresentationInfo:P,getRepresentationInfoForQuality:Q,isBufferingCompleted:R,createBuffer:S,getStreamInfo:z,updateMediaInfo:B,getMediaInfoArr:D,getMediaInfo:F,getMediaSource:H,getBuffer:r,setBuffer:t,start:N,stop:O,isDynamic:T,reset:d},b(),$}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(60),g=d(f),h=a(63),i=d(h),j=a(71),k=d(j),l=a(66),m=d(l),n=a(72),o=d(n),p=a(69),q=d(p),r=a(129),s=d(r),t=a(101),u=d(t),v=a(102),w=d(v),x=a(48),y=d(x),z=a(156),A=d(z),B=a(70),C=d(B),D=a(56),E=d(D),F=a(22),G=d(F),H=a(17),I=d(H),J=a(21),K=d(J),L=a(151),M=d(L),N=a(10),O=d(N);e.__dashjs_factory_name=\\\"StreamProcessor\\\",c.default=O.default.getClassFactory(e),b.exports=c.default},{10:10,101:101,102:102,129:129,151:151,156:156,17:17,21:21,22:22,48:48,56:56,60:60,63:63,66:66,69:69,70:70,71:71,72:72}],56:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a,c){M=!1,N=null,U=null,V=!1,W=NaN,X=[],$=null,E||b();var d=c.getStreamProcessor();if(R=d.getMediaInfoArr(),S.setConfig({videoModel:Y}),S.initialize(),T=!K.getIsTextTrack(a),H=(0,k.default)(C).getInstance(),Q=(0,i.default)(C).getInstance(),Q.setConfig({boxParser:H}),T){U=d.getFragmentModel(),this.buffered=(0,m.default)(C).create(),X=L.getTracksFor(\\\"fragmentedText\\\",Z.getActiveStreamInfo());for(var e=L.getCurrentTrackFor(\\\"fragmentedText\\\",Z.getActiveStreamInfo()),f=0;f<X.length;f++)if(X[f]===e){_=f;break}}}function b(){aa=[],R=[],Y=(0,s.default)(C).getInstance(),S=(0,u.default)(C).getInstance(),S.setConfig({videoModel:Y}),S.initialize(),H=(0,k.default)(C).getInstance(),Q=(0,i.default)(C).getInstance(),Q.setConfig({boxParser:H}),T=!1,_=null,ba=!1,ca=0,fa=[],ea=[],da=null,E=!0}function c(a,b){function c(a,b){var c=new g.default,d={subtitle:\\\"subtitles\\\",caption:\\\"captions\\\"},e=function(){var a=b.roles.length>0?d[b.roles[0]]:d.caption;return a=a===d.caption||a===d.subtitle?a:d.caption},f=function(){var a=!1;return b.codec&&b.codec.search(\\\"stpp\\\")>=0&&(a=!0),b.mimeType&&b.mimeType.search(\\\"ttml\\\")>=0&&(a=!0),a};c.captionData=a,c.lang=b.lang,c.label=b.id,c.index=b.index,c.isTTML=f(),c.video=Y.getElement(),c.defaultTrack=A(b),c.isFragmented=T,c.isEmbedded=!!b.isEmbedded,c.kind=e();var h=(R?R.length:0)+aa.length;S.addTextTrack(c,h)}var e,f,h,i,j,k=b.mediaInfo,l=k.type,m=k.mimeType,n=k.codec||m;if(!n)return void D(\\\"No text type defined\\\");if(\\\"fragmentedText\\\"===l)if(V)if(i=Q.getSamplesInfo(a),f=i.sampleList,!$&&f.length>0&&($=f[0].cts-b.start*W),n.search(\\\"stpp\\\")>=0)for(N=null!==N?N:B(n),h=0;h<f.length;h++){var p=f[h],q=p.cts,r=q-$;this.buffered.add(r/W,(r+p.duration)/W);var s=new DataView(a,p.offset,p.size);j=w.default.Utils.dataViewToString(s,\\\"utf-8\\\");try{e=N.parse(j,q/W,(q+p.duration)/W),S.addCaptions(_,$/W,e)}catch(t){D(\\\"TTML parser error: \\\"+t.message)}}else{var u=[];for(h=0;h<f.length;h++){var v=f[h];v.cts-=$,this.buffered.add(v.cts/W,(v.cts+v.duration)/W);for(var x=a.slice(v.offset,v.offset+v.size),z=w.default.parseBuffer(x),C=0;C<z.boxes.length;C++){var E=z.boxes[C];if(D(\\\"VTT box1: \\\"+E.type),\\\"vtte\\\"!==E.type&&\\\"vttc\\\"===E.type){D(\\\"VTT vttc boxes.length = \\\"+E.boxes.length);for(var F=0;F<E.boxes.length;F++){var G=E.boxes[F];if(D(\\\"VTT box2: \\\"+G.type),\\\"payl\\\"===G.type){var H=G.cue_text;D(\\\"VTT cue_text = \\\"+H);var J=v.cts/W,K=(v.cts+v.duration)/W;u.push({start:J,end:K,data:H,styles:{}}),D(\\\"VTT \\\"+J+\\\"-\\\"+K+\\\" : \\\"+H)}}}}}u.length>0&&S.addCaptions(_,0,u)}else{for(V=!0,h=0;h<R.length;h++)c(null,R[h]);W=Q.getMediaTimescaleFromMoov(a)}else if(\\\"text\\\"===l){var s=new DataView(a,0,a.byteLength);j=w.default.Utils.dataViewToString(s,\\\"utf-8\\\");try{e=B(n).parse(j),c(e,k)}catch(t){I.timedTextError(t,\\\"parse\\\",j)}}else if(\\\"video\\\"===l)if(\\\"InitializationSegment\\\"===b.segmentType){if(0===ca)for(ca=Q.getMediaTimescaleFromMoov(a),h=0;h<aa.length;h++)c(null,aa[h])}else{if(0===ca)return void D(\\\"CEA-608: No timescale for embeddedTextTrack yet\\\");var L=function(a,b){function c(a,c,d){var e=null;if(Y.getTTMLRenderingDiv())e=o(Y.getElement(),a,c,d);else{var f=d.getDisplayText();e=[{start:a,end:c,data:f,styles:{}}]}e&&S.addCaptions(b,0,e)}return c};i=Q.getSamplesInfo(a);var M=i.sequenceNumber;if(!fa[0]&&!fa[1]){var O=void 0,P=void 0,U=void 0;for(h=0;h<aa.length;h++){if(\\\"CC1\\\"===aa[h].id?(O=0,U=S.getTrackIdxForId(\\\"CC1\\\")):\\\"CC3\\\"===aa[h].id&&(O=1,U=S.getTrackIdxForId(\\\"CC3\\\")),U===-1)return void D(\\\"CEA-608: data before track is ready.\\\");P=L(this,U),fa[h]=new y.default.Cea608Parser(h,{newCue:P},null)}}if(ca&&ea.indexOf(M)==-1){if(null!==da&&M!==da+1)for(h=0;h<fa.length;h++)fa[h]&&fa[h].reset();for(var X=d(a),Z=0;Z<fa.length;Z++){var ba=X.fields[Z],ga=fa[Z];if(ga){for(h=0;h<ba.length;h++)ga.addData(ba[h][0]/ca,ba[h][1]);X.endTime&&ga.cueSplitAtTime(X.endTime/ca)}}da=M,ea.push(M)}}}function d(a){var b=function(a,b,c){var d=a.length;if(d>0){if(b>=a[d-1][0])a.push([b,c]);else for(var e=d-1;e>=0;e--)if(b<a[e][0]){a.splice(e,0,[b,c]);break}}else a.push([b,c])},c=H.parse(a),d=c.getBox(\\\"moof\\\"),e=c.getBox(\\\"tfdt\\\"),f=c.getBoxes(\\\"trun\\\"),g=null;if(0===f.length)return null;g=f[0],f.length>1&&D(\\\"Warning: Too many truns\\\");for(var h=d.offset+g.data_offset,i=g.sample_count,j=h,k=e.baseMediaDecodeTime,l=new DataView(a),m={startTime:null,endTime:null,fields:[[],[]]},n=0,o=0;o<i;o++){for(var p=g.samples[o],q=k+n+p.sample_composition_time_offset,r=y.default.findCea608Nalus(l,j,p.sample_size),s=0;s<r.length;s++)for(var t=y.default.extractCea608DataFromRange(l,r[s]),u=0;u<2;u++)t[u].length>0&&b(m.fields[u],q,t[u]);n+=p.sample_duration,j+=p.sample_size}var v=k+n;return m.startTime=k,m.endTime=v,m}function e(a){for(var b=\\\"\\\",c=0;c<a.length;++c){var d=a[c];b+=d.uchar}var e=b.length,f=b.replace(/^\\\\s+/,\\\"\\\").length;return e-f}function f(a){return\\\"left: \\\"+3.125*a.x+\\\"%; top: \\\"+6.66*a.y1+\\\"%; width: \\\"+(100-3.125*a.x)+\\\"%; height: \\\"+6.66*Math.max(a.y2-1-a.y1,1)+\\\"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;\\\";\\n}function h(a){return\\\"red\\\"==a?\\\"rgb(255, 0, 0)\\\":\\\"green\\\"==a?\\\"rgb(0, 255, 0)\\\":\\\"blue\\\"==a?\\\"rgb(0, 0, 255)\\\":\\\"cyan\\\"==a?\\\"rgb(0, 255, 255)\\\":\\\"magenta\\\"==a?\\\"rgb(255, 0, 255)\\\":\\\"yellow\\\"==a?\\\"rgb(255, 255, 0)\\\":\\\"white\\\"==a?\\\"rgb(255, 255, 255)\\\":\\\"black\\\"==a?\\\"rgb(0, 0, 0)\\\":a}function j(a,b){var c=a.videoHeight/15;return b?\\\"font-size: \\\"+c+\\\"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: \\\"+(b.foreground?h(b.foreground):\\\"rgb(255, 255, 255)\\\")+\\\"; font-style: \\\"+(b.italics?\\\"italic\\\":\\\"normal\\\")+\\\"; text-decoration: \\\"+(b.underline?\\\"underline\\\":\\\"none\\\")+\\\"; white-space: pre; background-color: \\\"+(b.background?h(b.background):\\\"transparent\\\")+\\\";\\\":\\\"font-size: \\\"+c+\\\"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;\\\"}function l(a){var b=a.replace(/^\\\\s+/g,\\\"\\\");return b}function n(a){var b=a.replace(/\\\\s+$/g,\\\"\\\");return b}function o(a,b,c,d){var g=null,h=null,i=!1,k=-1,m={start:b,end:c,spans:[]},o=\\\"style_cea608_white_black\\\",p={},q={},r=[],s=void 0,t=void 0;for(s=0;s<15;++s){var u=d.rows[s],v=\\\"\\\",w=null;if(!1===u.isEmpty()){var x=e(u.chars);null===g&&(g={x:x,y1:s,y2:s+1,p:[]}),x!==k&&i&&(g.p.push(m),m={start:b,end:c,spans:[]},g.y2=s,g.name=\\\"region_\\\"+g.x+\\\"_\\\"+g.y1+\\\"_\\\"+g.y2,!1===p.hasOwnProperty(g.name)?(r.push(g),p[g.name]=g):(h=p[g.name],h.p.contat(g.p)),g={x:x,y1:s,y2:s+1,p:[]});for(var y=0;y<u.chars.length;++y){var z=u.chars[y],A=z.penState;if(null===w||!A.equals(w)){v.trim().length>0&&(m.spans.push({name:o,line:v,row:s}),v=\\\"\\\");var B=\\\"style_cea608_\\\"+A.foreground+\\\"_\\\"+A.background;A.underline&&(B+=\\\"_underline\\\"),A.italics&&(B+=\\\"_italics\\\"),q.hasOwnProperty(B)||(q[B]=JSON.parse(JSON.stringify(A))),w=A,o=B}v+=z.uchar}v.trim().length>0&&m.spans.push({name:o,line:v,row:s}),i=!0,k=x}else i=!1,k=-1,g&&(g.p.push(m),m={start:b,end:c,spans:[]},g.y2=s,g.name=\\\"region_\\\"+g.x+\\\"_\\\"+g.y1+\\\"_\\\"+g.y2,!1===p.hasOwnProperty(g.name)?(r.push(g),p[g.name]=g):(h=p[g.name],h.p.contat(g.p)),g=null)}g&&(g.p.push(m),g.y2=s+1,g.name=\\\"region_\\\"+g.x+\\\"_\\\"+g.y1+\\\"_\\\"+g.y2,!1===p.hasOwnProperty(g.name)?(r.push(g),p[g.name]=g):(h=p[g.name],h.p.contat(g.p)),g=null);var C=[];for(s=0;s<r.length;++s){var D=r[s],E=\\\"sub_cea608_\\\"+F++,G=document.createElement(\\\"div\\\");G.id=E;var H=f(D);G.style.cssText=\\\"position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;\\\"+H;var I=document.createElement(\\\"div\\\");I.className=\\\"paragraph bodyStyle\\\",I.style.cssText=j(a);var J=document.createElement(\\\"div\\\");J.className=\\\"cueUniWrapper\\\",J.style.cssText=\\\"unicode-bidi: normal; direction: ltr;\\\";for(var K=0;K<D.p.length;++K){var L=D.p[K],M=0;for(t=0;t<L.spans.length;++t){var N=L.spans[t];if(N.line.length>0){if(0!==t&&M!=N.row){var O=document.createElement(\\\"br\\\");O.className=\\\"lineBreak\\\",J.appendChild(O)}var P=!1;M===N.row&&(P=!0),M=N.row;var Q=q[N.name],R=document.createElement(\\\"span\\\");R.className=\\\"spanPadding \\\"+N.name+\\\" customSpanColor\\\",R.style.cssText=j(a,Q),0!==t&&P?t===L.spans.length-1?R.textContent=n(N.line):R.textContent=N.line:0===t&&L.spans.length>1&&N.row===L.spans[1].row?R.textContent=l(N.line):R.textContent=N.line.trim(),J.appendChild(R)}}}I.appendChild(J),G.appendChild(I);var S={bodyStyle:90};for(t in q)q.hasOwnProperty(t)&&(S[t]=90);C.push({type:\\\"html\\\",start:b,end:c,cueHTMLElement:G,cueID:E,cellResolution:[32,15],isFromCEA608:!0,regions:r,regionID:D.name,videoHeight:a.videoHeight,videoWidth:a.videoWidth,fontSize:S||{defaultFontSize:\\\"100\\\"},lineHeight:{},linePadding:{}})}return C}function p(){S.deleteAllTextTracks(),M=!1,N=null,Q=null,R=null,S=null,T=!1,U=null,V=!1,W=NaN,X=[],Y=null,Z=null,E=!1,aa=null}function r(a){E||b(),\\\"CC1\\\"===a.id||\\\"CC3\\\"===a.id?aa.push(a):D(\\\"Warning: Embedded track \\\"+a.id+\\\" not supported!\\\")}function t(){E=!1,aa=[],fa=[null,null],ea=[],da=null}function v(){return M}function x(a){a&&(a.errHandler&&(I=a.errHandler),a.adapter&&(J=a.adapter),a.dashManifestModel&&(K=a.dashManifestModel),a.mediaController&&(L=a.mediaController),a.videoModel&&(Y=a.videoModel),a.streamController&&(Z=a.streamController),a.textTracks&&(S=a.textTracks),a.VTTParser&&(O=a.VTTParser),a.TTMLParser&&(P=a.TTMLParser))}function z(){for(var a=Y.getElement(),b=a.textTracks,c=b.length,d=c-aa.length,e=S.getCurrentTrackIdx(),f=0;f<c;f++){var g=b[f];if(M=\\\"showing\\\"!==g.mode,\\\"showing\\\"===g.mode){if(e!==f&&(S.setCurrentTrackIdx(f),S.addCaptions(f,0,null),T&&f<d)){var h=L.getCurrentTrackFor(\\\"fragmentedText\\\",Z.getActiveStreamInfo()),i=X[f];i!==h&&(U.abortRequests(),S.deleteTrackCues(h),L.setTrack(i),_=f)}break}}M&&S.setCurrentTrackIdx(-1)}function A(a){var b=!1;return aa.length>1?b=a.id&&\\\"CC1\\\"===a.id:1===aa.length?a.id&&\\\"CC\\\"===a.id.substring(0,2)&&(b=!0):b=a.index===R[0].index,b}function B(a){var b;return a.search(\\\"vtt\\\")>=0?b=O:(a.search(\\\"ttml\\\")>=0||a.search(\\\"stpp\\\")>=0)&&(b=P,b.setConfig({videoModel:Y})),b}var C=this.context,D=(0,q.default)(C).getInstance().log,E=!1,F=0,G=void 0,H=void 0,I=void 0,J=void 0,K=void 0,L=void 0,M=void 0,N=void 0,O=void 0,P=void 0,Q=void 0,R=void 0,S=void 0,T=void 0,U=void 0,V=void 0,W=void 0,X=void 0,Y=void 0,Z=void 0,$=void 0,_=void 0,aa=void 0,ba=void 0,ca=void 0,da=void 0,ea=void 0,fa=void 0;return G={initialize:a,append:c,abort:p,getAllTracksAreDisabled:v,setTextTrack:z,setConfig:x,addEmbeddedTrack:r,resetEmbedded:t}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(171),g=d(f),h=a(32),i=d(h),j=a(146),k=d(j),l=a(148),m=d(l),n=a(10),o=d(n),p=a(8),q=d(p),r=a(104),s=d(r),t=a(57),u=d(t),v=a(6),w=d(v),x=a(2),y=d(x);e.__dashjs_factory_name=\\\"TextSourceBuffer\\\",c.default=o.default.getSingletonFactory(e),b.exports=c.default},{10:10,104:104,146:146,148:148,171:171,2:2,32:32,57:57,6:6,8:8}],57:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){D=window.VTTCue||window.TextTrackCue,G=[],H=[],I=-1,J=0,K=0,L=0,M=0,N=null,O=null,R=!1,S=2147483647,P=!!navigator.userAgent.match(/Chrome/)&&!navigator.userAgent.match(/Edge/),void 0!==document.fullscreenElement?Q=\\\"fullscreenElement\\\":void 0!==document.webkitIsFullScreen?Q=\\\"webkitIsFullScreen\\\":document.msFullscreenElement?Q=\\\"msFullscreenElement\\\":document.mozFullScreen&&(Q=\\\"mozFullScreen\\\")}function b(a){var b=G[a].kind,c=void 0!==G[a].label?G[a].label:G[a].lang,d=G[a].lang,e=P?document.createElement(\\\"track\\\"):F.addTextTrack(b,c,d);return P&&(e.kind=b,e.label=c,e.srclang=d),e}function c(a){R=a,N&&!document[Q]&&(N.style.zIndex=a?S:null)}function d(a,c){if(G.length===c)return void B(\\\"Trying to add too many tracks.\\\");if(G.push(a),void 0===F&&(F=a.video),G.length===c){G.sort(function(a,b){return a.index-b.index}),N=E.getTTMLRenderingDiv();for(var d=-1,e=0;e<G.length;e++){var f=b.call(this,e);H.push(f),G[e].defaultTrack&&(f.default=!0,d=e),P&&F.appendChild(f);var g=F.textTracks[e];g.nonAddedCues=[],N&&(G[e].isTTML||G[e].isEmbedded)?g.renderingType=\\\"html\\\":g.renderingType=\\\"default\\\",this.addCaptions(e,0,G[e].captionData),A.trigger(i.default.TEXT_TRACK_ADDED)}q.call(this,d),d>=0&&(F.textTracks[d].mode=\\\"showing\\\",this.addCaptions(d,0,null)),A.trigger(i.default.TEXT_TRACKS_ADDED,{index:I,tracks:G})}}function e(a,b,c,d,e,f){var g=a/b,h=c/d,i=0,j=0;g>h?(j=b,i=j/d*c):(i=a,j=i/c*d);var k=0,l=0,m=0,n=0,o=i/j;return o>e?(n=j,m=j/(1/e),k=(a-m)/2,l=0):(m=i,n=i/e,k=0,l=(b-n)/2),f?{x:k+.1*m,y:l+.1*n,w:.8*m,h:.8*n}:{x:k,y:l,w:m,h:n}}function f(){var a=this.getCurrentTextTrack();if(a&&\\\"html\\\"===a.renderingType){var b=F.clientWidth/F.clientHeight,c=!1;a.isFromCEA608&&(b=3.5/3,c=!0);var d=e.call(this,F.clientWidth,F.clientHeight,F.videoWidth,F.videoHeight,b,c),f=d.w,g=d.h;if(f!=L||g!=M){J=d.x,K=d.y,L=f,M=g,N.style.left=J+\\\"px\\\",N.style.top=K+\\\"px\\\",N.style.width=L+\\\"px\\\",N.style.height=M+\\\"px\\\";for(var h=0;a.activeCues&&h<a.activeCues.length;++h){var i=a.activeCues[h];i.scaleCue(i)}Q&&document[Q]||R?N.style.zIndex=S:N.style.zIndex=null}}}function h(a,b){var c=Math.round(.01*a*b).toString()+\\\"px\\\";return c}function j(a){var b=L,c=M;if(b*c!==0&&a.layout){var d=a.layout,e=h(d.left,b),f=h(d.top,c),g=h(d.width,b),i=h(d.height,c);N.style.left=e,N.style.top=f,N.style.width=g,N.style.height=i;var j=N.firstChild;j&&j.style&&(j.style.left=\\\"0px\\\",j.style.top=\\\"0px\\\",j.style.width=g,j.style.height=i)}}function k(a){var b,c,d,e=L,f=M,g=[e/a.cellResolution[0],f/a.cellResolution[1]];if(a.linePadding)for(b in a.linePadding)if(a.linePadding.hasOwnProperty(b)){var h=a.linePadding[b];c=(h*g[0]).toString();for(var i=document.getElementsByClassName(\\\"spanPadding\\\"),j=0;j<i.length;j++)i[j].style.cssText=i[j].style.cssText.replace(/(padding-left\\\\s*:\\\\s*)[\\\\d.,]+(?=\\\\s*px)/gi,\\\"$1\\\"+c),i[j].style.cssText=i[j].style.cssText.replace(/(padding-right\\\\s*:\\\\s*)[\\\\d.,]+(?=\\\\s*px)/gi,\\\"$1\\\"+c)}if(a.fontSize)for(b in a.fontSize)if(a.fontSize.hasOwnProperty(b)){var k=a.fontSize[b]/100;c=(k*g[1]).toString(),d=\\\"defaultFontSize\\\"!==b?document.getElementsByClassName(b):document.getElementsByClassName(\\\"paragraph\\\");for(var l=0;l<d.length;l++)d[l].style.cssText=d[l].style.cssText.replace(/(font-size\\\\s*:\\\\s*)[\\\\d.,]+(?=\\\\s*px)/gi,\\\"$1\\\"+c)}if(a.lineHeight)for(b in a.lineHeight)if(a.lineHeight.hasOwnProperty(b)){var m=a.lineHeight[b]/100;c=(m*g[1]).toString(),d=document.getElementsByClassName(b);for(var n=0;n<d.length;n++)d[n].style.cssText=d[n].style.cssText.replace(/(line-height\\\\s*:\\\\s*)[\\\\d.,]+(?=\\\\s*px)/gi,\\\"$1\\\"+c)}}function l(a,b,c){var d=a>=0?F.textTracks[a]:null,e=this;if(d){if(\\\"showing\\\"!==d.mode)return void(c&&c.length>0&&(d.nonAddedCues=d.nonAddedCues.concat(c)));if(c||(c=d.nonAddedCues,d.nonAddedCues=[]),c&&0!==c.length)for(var g in c){var h,i=c[g];d.cellResolution=i.cellResolution,d.isFromCEA608=i.isFromCEA608,O||\\\"html\\\"!==i.type&&\\\"image\\\"!==i.type||(O=setInterval(f.bind(this),500)),\\\"image\\\"===i.type?(h=new D(i.start-b,i.end-b,\\\"\\\"),h.image=i.data,h.id=i.id,h.size=0,h.type=\\\"image\\\",h.layout=i.layout,h.scaleCue=j.bind(e),h.onenter=function(){if(N&&\\\"showing\\\"===d.mode){var a=new Image;a.id=\\\"ttmlImage_\\\"+this.id,a.src=this.image,a.style.cssText=\\\"z-index: 2147483648; pointer-events: none; display: block; visibility: visible !important; position: relative !important;\\\",N.appendChild(a),j.call(e,this)}},h.onexit=function(){if(N)for(var a=N.childNodes,b=0;b<a.length;b++)a[b].id===\\\"ttmlImage_\\\"+this.id&&N.removeChild(a[b])}):\\\"html\\\"===i.type?(h=new D(i.start-b,i.end-b,\\\"\\\"),h.cueHTMLElement=i.cueHTMLElement,h.regions=i.regions,h.regionID=i.regionID,h.cueID=i.cueID,h.videoWidth=i.videoWidth,h.videoHeight=i.videoHeight,h.cellResolution=i.cellResolution,h.fontSize=i.fontSize,h.lineHeight=i.lineHeight,h.linePadding=i.linePadding,h.scaleCue=k.bind(e),N.style.left=J+\\\"px\\\",N.style.top=K+\\\"px\\\",N.style.width=L+\\\"px\\\",N.style.height=M+\\\"px\\\",h.onenter=function(){\\\"showing\\\"===d.mode&&(B(\\\"Cue \\\"+this.startTime+\\\"-\\\"+this.endTime+\\\" : \\\"+this.cueHTMLElement.id+\\\" : \\\"+this.cueHTMLElement.innerText),N.appendChild(this.cueHTMLElement),k.call(e,this))},h.onexit=function(){for(var a=N.childNodes,b=0;b<a.length;++b)a[b].id===this.cueID&&N.removeChild(a[b])}):(h=new D(i.start-b,i.end-b,i.data),i.styles&&(void 0!==i.styles.align&&h.hasOwnProperty(\\\"align\\\")&&(h.align=i.styles.align),void 0!==i.styles.line&&h.hasOwnProperty(\\\"line\\\")&&(h.line=i.styles.line),void 0!==i.styles.position&&h.hasOwnProperty(\\\"position\\\")&&(h.position=i.styles.position),void 0!==i.styles.size&&h.hasOwnProperty(\\\"size\\\")&&(h.size=i.styles.size))),d.addCue(h)}}}function n(){return I>=0?F.textTracks[I]:null}function o(){return I}function p(a){for(var b=-1,c=0;c<F.textTracks.length;c++)if(F.textTracks[c].label===a){b=c;break}return b}function q(a){if(I=a,x.call(this),a>=0){var b=F.textTracks[a];\\\"html\\\"===b.renderingType?v.call(this):w.call(this)}else w.call(this)}function r(a){return F.textTracks[a]}function s(a){if(a.cues){for(var b=a.cues,c=b.length-1,d=c;d>=0;d--)a.removeCue(b[d]);a.mode=\\\"disabled\\\"}}function t(){for(var a=H.length,b=0;b<a;b++)if(P)F.removeChild(H[b]);else{var c=r.call(this,b);c.nonAddedCues=[],s.call(this,c)}H=[],G=[],O&&(clearInterval(O),O=null),x.call(this)}function u(a){F.removeChild(H[a]),H.splice(a,1)}function v(){if(P){var a=document.getElementById(\\\"native-cue-style\\\");if(!a){a=document.createElement(\\\"style\\\"),a.id=\\\"native-cue-style\\\",document.head.appendChild(a);var b=a.sheet;F.id?b.insertRule(\\\"#\\\"+F.id+\\\"::cue {background: transparent}\\\",0):0!==F.classList.length?b.insertRule(\\\".\\\"+F.className+\\\"::cue {background: transparent}\\\",0):b.insertRule(\\\"video::cue {background: transparent}\\\",0)}}}function w(){if(P){var a=document.getElementById(\\\"native-cue-style\\\");a&&document.head.removeChild(a)}}function x(){if(N)for(;N.firstChild;)N.removeChild(N.firstChild)}function y(a){a&&a.videoModel&&(E=a.videoModel)}var z=this.context,A=(0,g.default)(z).getInstance(),B=(0,m.default)(z).getInstance().log,C=void 0,D=void 0,E=void 0,F=void 0,G=void 0,H=void 0,I=void 0,J=void 0,K=void 0,L=void 0,M=void 0,N=void 0,O=void 0,P=void 0,Q=void 0,R=void 0,S=void 0;return C={initialize:a,displayCConTop:c,addTextTrack:d,addCaptions:l,getTextTrack:r,getCurrentTextTrack:n,getCurrentTrackIdx:o,setCurrentTrackIdx:q,getTrackIdxForId:p,deleteTrackCues:s,deleteAllTextTracks:t,deleteTextTrack:u,setConfig:y}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(9),g=d(f),h=a(13),i=d(h),j=a(10),k=d(j),l=a(8),m=d(l);e.__dashjs_factory_name=\\\"TextTracks\\\",c.default=k.default.getSingletonFactory(e),b.exports=c.default},{10:10,13:13,8:8,9:9}],58:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function f(a){function b(){var a;p=[],q=[],r=[],a={},e(a,g.HTTPRequest.MPD_TYPE,m.default.DOWNLOAD_ERROR_ID_MANIFEST),e(a,g.HTTPRequest.XLINK_EXPANSION_TYPE,m.default.DOWNLOAD_ERROR_ID_XLINK),e(a,g.HTTPRequest.INIT_SEGMENT_TYPE,m.default.DOWNLOAD_ERROR_ID_INITIALIZATION),e(a,g.HTTPRequest.MEDIA_SEGMENT_TYPE,m.default.DOWNLOAD_ERROR_ID_CONTENT),e(a,g.HTTPRequest.INDEX_SEGMENT_TYPE,m.default.DOWNLOAD_ERROR_ID_CONTENT),e(a,g.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,m.default.DOWNLOAD_ERROR_ID_CONTENT),e(a,g.HTTPRequest.OTHER_TYPE,m.default.DOWNLOAD_ERROR_ID_CONTENT),s=a}function c(a,b){var d=a.request,e=new XMLHttpRequest,f=[],g=!0,h=!0,k=new Date,m=k,o=0,t=function(a){h=!1,d.requestStartDate=k,d.requestEndDate=new Date,d.firstByteDate=d.firstByteDate||k,d.checkExistenceOnly||l.addHttpRequest(d.mediaType,null,d.type,d.url,e.responseURL||null,d.serviceLocation||null,d.range||null,d.requestStartDate,d.firstByteDate,d.requestEndDate,e.status,d.duration,e.getAllResponseHeaders(),a?f:null)},u=function(){p.indexOf(e)!==-1&&(p.splice(p.indexOf(e),1),h&&(t(!1),b>0?(b--,r.push(setTimeout(function(){c(a,b)},i.getRetryIntervalForType(d.type)))):(j.downloadError(s[d.type],d.url,d),a.error&&a.error(d,\\\"error\\\",e.statusText),a.complete&&a.complete(d,e.statusText))))},v=function(b){var c=new Date;g&&(g=!1,(!b.lengthComputable||b.lengthComputable&&b.total!==b.loaded)&&(d.firstByteDate=c)),b.lengthComputable&&(d.bytesLoaded=b.loaded,d.bytesTotal=b.total),f.push({s:m,d:c.getTime()-m.getTime(),b:[b.loaded?b.loaded-o:0]}),m=c,o=b.loaded,a.progress&&a.progress()},w=function(){e.status>=200&&e.status<=299&&(t(!0),a.success&&a.success(e.response,e.statusText,e),a.complete&&a.complete(d,e.statusText))};try{var x=n.modifyRequestURL(d.url),y=d.checkExistenceOnly?\\\"HEAD\\\":\\\"GET\\\";e.open(y,x,!0),d.responseType&&(e.responseType=d.responseType),d.range&&e.setRequestHeader(\\\"Range\\\",\\\"bytes=\\\"+d.range),d.requestStartDate||(d.requestStartDate=k),e=n.modifyRequestHeader(e),e.withCredentials=i.getXHRWithCredentials(),e.onload=w,e.onloadend=u,e.onerror=u,e.onprogress=v;var z=(new Date).getTime();isNaN(d.delayLoadingTime)||z>=d.delayLoadingTime?(p.push(e),e.send()):!function(){var a={xhr:e};q.push(a),a.delayTimeout=setTimeout(function(){if(q.indexOf(a)!==-1){q.splice(q.indexOf(a),1);try{p.push(a.xhr),a.xhr.send()}catch(b){a.xhr.onerror()}}},d.delayLoadingTime-z)}()}catch(A){e.onerror()}}function d(a){a.request&&c(a,i.getRetryAttemptsForType(a.request.type))}function f(){r.forEach(function(a){return clearTimeout(a)}),r=[],q.forEach(function(a){return clearTimeout(a.delayTimeout)}),q=[],p.forEach(function(a){a.onloadend=a.onerror=a.onprogress=void 0,a.abort()}),p=[]}var h=this.context,i=(0,k.default)(h).getInstance(),j=a.errHandler,l=a.metricsModel,n=a.requestModifier,o=void 0,p=void 0,q=void 0,r=void 0,s=void 0;return o={load:d,abort:f},b(),o}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var g=a(179),h=a(10),i=d(h),j=a(101),k=d(j),l=a(151),m=d(l);f.__dashjs_factory_name=\\\"XHRLoader\\\";var n=i.default.getClassFactory(f);c.default=n,b.exports=c.default},{10:10,101:101,151:151,179:179}],59:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(a,b,c){var e=function(d,e){b.resolved=!0,b.resolvedContent=d?d:null,f.trigger(p.default.XLINK_ELEMENT_LOADED,{element:b,resolveObject:c,error:d||e?null:new g.default(s,\\\"Failed loading Xlink element: \\\"+a)})};if(a===d)e(null,!0);else{var i=new l.default(a,j.HTTPRequest.XLINK_TYPE);h.load({request:i,success:function(a){e(a)},error:function(){e(null)}})}}function c(){h&&(h.abort(),h=null)}var d=\\\"urn:mpeg:dash:resolve-to-zero:2013\\\",e=this.context,f=(0,n.default)(e).getInstance(),h=(0,i.default)(e).create({errHandler:a.errHandler,metricsModel:a.metricsModel,requestModifier:a.requestModifier}),k=void 0;return k={load:b,reset:c}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(162),g=d(f),h=a(58),i=d(h),j=a(179),k=a(170),l=d(k),m=a(9),n=d(m),o=a(13),p=d(o),q=a(10),r=d(q),s=1;e.__dashjs_factory_name=\\\"XlinkLoader\\\";var t=r.default.getClassFactory(e);t.XLINK_LOADER_ERROR_LOADING_FAILURE=s,c.default=t,b.exports=c.default},{10:10,13:13,162:162,170:170,179:179,58:58,9:9}],60:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){ha={video:!0,audio:!0},ia={},ja={},ka={},la={},ma={},na={},pa={},oa={},ra=!1,sa=!1,xa=(0,k.default)(ba).getInstance(),wa=(0,o.default)(ba).getInstance(),ta=(0,y.default)(ba).getInstance(),ua=(0,A.default)(ba).getInstance(),va=(0,C.default)(ba).getInstance()}function b(a,b){oa[a]=b,pa[a]=pa[a]||{},pa[a].state=E,ca.on(u.default.LOADING_PROGRESS,aa,this)}function c(a){a&&(a.abrRulesCollection&&(ea=a.abrRulesCollection),a.rulesController&&(fa=a.rulesController),a.streamController&&(ga=a.streamController))}function d(a,b){var c;return ia[b]=ia[b]||{},ia[b].hasOwnProperty(a)||(ia[b][a]=0),c=Z(ia[b][a],a),c=$(c,a,ia[b][a]),c=_(c,a)}function e(a){var b=xa.getSavedBitrateSettings(a);if(!la.hasOwnProperty(a))if(ma.hasOwnProperty(a)){var c=ta.getValue(),d=ua.getAdaptationForType(c,0,a).Representation;if(Array.isArray(d)){var e=Math.max(Math.round(d.length*ma[a])-1,0);la[a]=d[e].bandwidth}else la[a]=0}else isNaN(b)?la[a]=\\\"video\\\"===a?F:G:la[a]=b;return la[a]}function f(a,b){la[a]=b}function h(a){return ma.hasOwnProperty(a)?ma[a]:null}function j(a,b){ma[a]=b}function l(a){return la.hasOwnProperty(\\\"max\\\")&&la.max.hasOwnProperty(a)?la.max[a]:NaN}function n(a,b){la.max=la.max||{},la.max[a]=b}function p(a){return ma.hasOwnProperty(\\\"max\\\")&&ma.max.hasOwnProperty(a)?ma.max[a]:1}function r(a,b){ma.max=ma.max||{},ma.max[a]=b}function t(a){return ha[a]}function v(a,b){ha[a]=b}function w(){return ra}function x(a){ra=a}function z(){return sa}function B(a){sa=a}function I(a,b){var c=a.getType(),e=a.getStreamInfo(),f=e.id,h=function(a){var g=d(c,f),h=a.value;h<0&&(h=0),h>g&&(h=g);var i=U(c,e);h!==i&&(pa[c].state===E||h>i)&&(X(c,f,a.confidence),K(c,e,i,h,a.reason)),b&&b()};if(t(c)){var i=ea.getRules(m.default.QUALITY_SWITCH_RULES);fa.applyRules(i,a,h,U(c,e),function(a,b){return a=a===g.default.NO_CHANGE?0:a,Math.max(a,b)})}else b&&b()}function J(a,b,c,e){var f=b.id,g=U(a,b),h=null!==c&&!isNaN(c)&&c%1===0;if(!h)throw new Error(\\\"argument is not an integer\\\");c!==g&&c>=0&&c<=d(a,f)&&K(a,b,g,c,e)}function K(a,b,c,d,e){V(a,b.id,d),ca.trigger(u.default.QUALITY_CHANGE_REQUESTED,{mediaType:a,streamInfo:b,oldQuality:c,newQuality:d,reason:e})}function L(a,b){pa[a].state=b}function M(a){return pa[a].state}function N(a,b){var c=O(a);if(!c||0===c.length)return H;for(var d=c.length-1;d>=0;d--){var e=c[d];if(1e3*b>=e.bitrate)return d}return 0}function O(a){if(!a||!a.bitrateList)return null;for(var b,c=a.bitrateList,d=a.type,e=[],f=0,g=c.length;f<g;f++)b=new i.default,b.mediaType=d,b.qualityIndex=f,b.bitrate=c[f].bandwidth,b.width=c[f].width,b.height=c[f].height,e.push(b);return e}function P(a,b){na[a]=b}function Q(a){return na[a]}function R(a){var b=a.type,c=a.streamInfo.id,d=a.representationCount-1;return Y(b,c,d),d}function S(a){var b,c=a.id,e=U(\\\"audio\\\",a),f=U(\\\"video\\\",a);return b=e===d(\\\"audio\\\",c)&&f===d(\\\"video\\\",c)}function T(){ca.off(u.default.LOADING_PROGRESS,aa,this),clearTimeout(qa),qa=null,a()}function U(a,b){var c,d=b.id;return ja[d]=ja[d]||{},ja[d].hasOwnProperty(a)||(ja[d][a]=H),c=ja[d][a]}function V(a,b,c){ja[b]=ja[b]||{},ja[b][a]=c}function W(a,b){var c;return ka[b]=ka[b]||{},ka[b].hasOwnProperty(a)||(ka[b][a]=0),c=ka[b][a]}function X(a,b,c){ka[b]=ka[b]||{},ka[b][a]=c}function Y(a,b,c){ia[b]=ia[b]||{},ia[b][a]=c}function Z(a,b){var c=l(b);if(isNaN(c)||!oa[b])return a;var d=N(oa[b].getMediaInfo(),c);return Math.min(a,d)}function $(a,b,c){var d=p(b);return isNaN(d)||d>=1||d<0?a:Math.min(a,Math.round(c*d))}function _(a,b){if(\\\"video\\\"!==b||!ra||!oa[b])return a;var c=sa&&window.hasOwnProperty(\\\"devicePixelRatio\\\"),d=c?window.devicePixelRatio:1,e=va.getElement(),f=e.clientWidth*d,g=e.clientHeight*d,h=ta.getValue(),i=ua.getAdaptationForType(h,0,b).Representation,j=a;if(f>0&&g>0){for(;j>0&&i[j]&&f<i[j].width&&f-i[j-1].width<i[j].width-f;)j-=1;i.length-2>=j&&i[j].width===i[j+1].width&&(j=Math.min(a,j+1))}return j}function aa(a){var b=a.request.mediaType;if(t(b)){var c=function(){var c=ea.getRules(m.default.ABANDON_FRAGMENT_RULES),d=oa[b].getScheduleController();if(!d)return{v:void 0};var e=function(c){if(c.confidence===g.default.STRONG&&c.value<U(b,ga.getActiveStreamInfo())){var e=d.getFragmentModel(),f=e.getRequests({state:q.default.FRAGMENT_MODEL_LOADING,index:a.request.index})[0];f&&(e.abortRequests(),L(b,D),J(b,ga.getActiveStreamInfo(),c.value,c.reason),ca.trigger(u.default.FRAGMENT_LOADING_ABANDONED,{streamProcessor:oa[b],request:f,mediaType:b}),clearTimeout(qa),qa=setTimeout(function(){L(b,E),qa=null},wa.getAbandonLoadTimeout()))}};fa.applyRules(c,oa[b],e,a,function(a,b){return b})}();if(\\\"object\\\"==typeof c)return c.v}}var ba=this.context,ca=(0,s.default)(ba).getInstance(),da=void 0,ea=void 0,fa=void 0,ga=void 0,ha=void 0,ia=void 0,ja=void 0,ka=void 0,la=void 0,ma=void 0,na=void 0,oa=void 0,pa=void 0,qa=void 0,ra=void 0,sa=void 0,ta=void 0,ua=void 0,va=void 0,wa=void 0,xa=void 0;return da={isPlayingAtTopQuality:S,updateTopQualityIndex:R,getAverageThroughput:Q,getBitrateList:O,getQualityForBitrate:N,getMaxAllowedBitrateFor:l,setMaxAllowedBitrateFor:n,getMaxAllowedRepresentationRatioFor:p,setMaxAllowedRepresentationRatioFor:r,getInitialBitrateFor:e,setInitialBitrateFor:f,getInitialRepresentationRatioFor:h,setInitialRepresentationRatioFor:j,setAutoSwitchBitrateFor:v,getAutoSwitchBitrateFor:t,setLimitBitrateByPortal:x,getLimitBitrateByPortal:w,getUsePixelRatioInLimitBitrateByPortal:z,setUsePixelRatioInLimitBitrateByPortal:B,getConfidenceFor:W,getQualityFor:U,getAbandonmentStateFor:M,setAbandonmentStateFor:L,setPlaybackQuality:J,getPlaybackQuality:I,setAverageThroughput:P,getTopQualityIndexFor:d,initialize:b,setConfig:c,reset:T},a(),da}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(130),g=d(f),h=a(160),i=d(h),j=a(149),k=d(j),l=a(131),m=d(l),n=a(101),o=d(n),p=a(99),q=d(p),r=a(9),s=d(r),t=a(13),u=d(t),v=a(10),w=d(v),x=a(100),y=d(x),z=a(22),A=d(z),B=a(104),C=d(B),D=\\\"abandonload\\\",E=\\\"allowload\\\",F=1e3,G=100,H=0;e.__dashjs_factory_name=\\\"AbrController\\\";var I=w.default.getSingletonFactory(e);I.ABANDON_LOAD=D,I.QUALITY_DEFAULT=H,c.default=I,b.exports=c.default},{10:10,100:100,101:101,104:104,13:13,130:130,131:131,149:149,160:160,22:22,9:9,99:99}],61:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a){o.invalidateSelectedIndexes(a.entry)}function b(){o=(0,g.default)(j).create(),p=(0,i.default)(j).create(),l.on(s.default.SERVICE_LOCATION_BLACKLIST_CHANGED,a,h)}function c(a){o.update(a),p.chooseSelectorFromManifest(a)}function d(a){var b=o.getForPath(a),c=b.reduce(function(a,b){var c=p.select(b);return c&&(n.isRelative(c.url)?a.url+=c.url:n.isPathAbsolute(c.url)?a.url=n.parseOrigin(a.url)+c.url:(a.url=c.url,a.serviceLocation=c.serviceLocation)),a},new m.default);if(!n.isRelative(c.url))return c}function e(){o.reset(),p.reset()}function f(a){c(a)}var h=void 0,j=this.context,l=(0,q.default)(j).getInstance(),n=(0,k.default)(j).getInstance(),o=void 0,p=void 0;return h={reset:e,initialize:f,resolve:d},b(),h}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(98),g=d(f),h=a(145),i=d(h),j=a(158),k=d(j),l=a(40),m=d(l),n=a(10),o=d(n),p=a(9),q=d(p),r=a(13),s=d(r);e.__dashjs_factory_name=\\\"BaseURLController\\\",c.default=o.default.getSingletonFactory(e),b.exports=c.default},{10:10,13:13,145:145,158:158,40:40,9:9,98:98}],62:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(a){return!!(g.length&&a&&a.length)&&g.indexOf(a)!==-1}function c(a){g.indexOf(a)===-1&&(g.push(a),h.trigger(j,{entry:a}))}function d(a){a.error&&c(a.request.serviceLocation)}function e(){k&&h.on(k,d,this)}function f(){g=[]}var g=[],h=(0,i.default)(this.context).getInstance(),j=a.updateEventName,k=a.loadFailedEventName;return e(),{add:c,contains:b,reset:f}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f),h=a(9),i=d(h);e.__dashjs_factory_name=\\\"BlackListController\\\",c.default=g.default.getClassFactory(e),b.exports=c.default},{10:10,9:9}],63:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){oa=m.default.QUALITY_DEFAULT,pa=!1,qa=0,ra=Number.POSITIVE_INFINITY,ta=0,ua=0,wa=null,xa=E,za=0,Aa=!1,Ba=!1,Ca=!1,Da=!1}function c(a,b,c){va=a,$(b),Fa=c,Ia=(0,i.default)(ca).getInstance(),Ea=(0,o.default)(ca).getInstance(),Ga=(0,m.default)(ca).getInstance(),Ja=(0,C.default)(ca).getInstance(),Ha=Fa.getScheduleController(),oa=Ga.getQualityFor(va,Fa.getStreamInfo()),ea.on(u.default.DATA_UPDATE_COMPLETED,O,this),ea.on(u.default.INIT_FRAGMENT_LOADED,f,this),ea.on(u.default.MEDIA_FRAGMENT_LOADED,j,this),ea.on(u.default.QUALITY_CHANGE_REQUESTED,p,this),ea.on(u.default.STREAM_COMPLETED,P,this),ea.on(u.default.PLAYBACK_PROGRESS,t,this),ea.on(u.default.PLAYBACK_TIME_UPDATED,t,this),ea.on(u.default.PLAYBACK_RATE_CHANGED,S,this),ea.on(u.default.PLAYBACK_SEEKING,r,this),ea.on(u.default.WALLCLOCK_TIME_UPDATED,R,this),ea.on(u.default.CURRENT_TRACK_CHANGED,Q,this,s.default.EVENT_PRIORITY_HIGH),ea.on(u.default.SOURCEBUFFER_APPEND_COMPLETED,n,this),ea.on(u.default.SOURCEBUFFER_REMOVE_COMPLETED,M,this)}function d(a){if(!a||!sa||!Fa)return null;var b=null;try{b=ha.createSourceBuffer(sa,a),b&&b.hasOwnProperty(\\\"initialize\\\")&&b.initialize(va,this)}catch(c){ia.mediaSourceError(\\\"Error creating \\\"+va+\\\" source buffer.\\\")}return X(b),N(Fa.getRepresentationInfoForQuality(oa).MSETimeOffset),b}function e(){return Fa.getStreamInfo().id===ja.getActiveStreamInfo().id}function f(a){a.fragmentModel===Fa.getFragmentModel()&&(da(\\\"Init fragment finished loading saving to\\\",va+\\\"'s init cache\\\"),Ja.save(a.chunk),l(a.chunk))}function h(a,b){var c=Ja.extract(a,va,b);c?l(c):ea.trigger(u.default.INIT_REQUESTED,{sender:na})}function j(a){if(a.fragmentModel===Fa.getFragmentModel()){var b=a.chunk,c=b.bytes,d=b.quality,e=Fa.getRepresentationInfoForQuality(d),f=ga.getValue(),h=la.getEventsFor(f,e.mediaInfo,Fa),i=la.getEventsFor(f,e,Fa);if(h.length>0||i.length>0){var j=Fa.getFragmentModel().getRequests({state:g.default.FRAGMENT_MODEL_EXECUTED,quality:d,index:b.index})[0],k=G(c,j,h,i);Fa.getEventController().addInbandEvents(k)}b.bytes=H(c),l(b)}}function l(a){Ba=!0,ya=a,ha.append(wa,a),\\\"video\\\"===a.mediaInfo.type&&a.mediaInfo.embeddedCaptions&&ma.append(a.bytes,a)}function n(a){if(wa===a.buffer){if(a.error||!I())return a.error.code===k.default.QUOTA_EXCEEDED_ERROR_CODE&&(ra=.8*ha.getTotalBufferedTime(wa)),void(a.error.code!==k.default.QUOTA_EXCEEDED_ERROR_CODE&&I()||(ea.trigger(u.default.QUOTA_EXCEEDED,{sender:na,criticalBufferLevel:ra}),L(K())));isNaN(ya.index)||(ta=Math.max(ya.index,ta),y());var b=ha.getAllRanges(wa);if(b&&b.length>0)for(var c=0,d=b.length;c<d;c++)da(\\\"Buffered Range for type:\\\",va,\\\":\\\",b.start(c),\\\" - \\\",b.end(c));t(),Ba=!1,ea.trigger(u.default.BYTES_APPENDED,{sender:na,quality:ya.quality,startTime:ya.start,index:ya.index,bufferedRanges:b})}}function p(a){oa!==a.newQuality&&va===a.mediaType&&Fa.getStreamInfo().id===a.streamInfo.id&&(N(Fa.getRepresentationInfoForQuality(a.newQuality).MSETimeOffset),oa=a.newQuality)}function r(){ua=0,pa=!1,t()}function t(){v(),x()}function v(){qa=ha.getBufferLength(wa,Ea.getTime()),ea.trigger(u.default.BUFFER_LEVEL_UPDATED,{sender:na,bufferLevel:qa}),z()}function x(){e()&&(fa.addBufferState(va,xa,Ha.getBufferTarget()),fa.addBufferLevel(va,new Date,1e3*qa))}function y(){var a=ta===ua-1;a&&!pa&&(pa=!0,ea.trigger(u.default.BUFFERING_COMPLETED,{sender:na,streamInfo:Fa.getStreamInfo()}))}function z(){B(qa<F&&!pa?E:D)}function B(a){xa===a||\\\"fragmentedText\\\"===va&&ma.getAllTracksAreDisabled()||(xa=a,x(),ea.trigger(u.default.BUFFER_LEVEL_STATE_CHANGED,{sender:na,state:a,mediaType:va,streamInfo:Fa.getStreamInfo()}),ea.trigger(a===D?u.default.BUFFER_LOADED:u.default.BUFFER_EMPTY,{mediaType:va}),da(a===D?\\\"Got enough buffer to start.\\\":\\\"Waiting for more buffer before starting playback.\\\"))}function G(a,b,c,d){var e=Math.max(isNaN(b.startTime)?0:b.startTime,0),f=[],g=[];Da=!1;for(var h=c.concat(d),i=0,j=h.length;i<j;i++)f[h[i].schemeIdUri]=h[i];for(var k=(0,w.default)(ca).getInstance().parse(a),l=k.getBoxes(\\\"emsg\\\"),i=0,j=l.length;i<j;i++){var m=la.getEvent(l[i],f,e);m&&g.push(m)}return g}function H(a){if(!Da)return a;for(var b=a.length,c=Math.pow(256,2),d=Math.pow(256,3),e=new Uint8Array(a.length),f=0,g=0;f<b;){var h=String.fromCharCode(a[f+4],a[f+5],a[f+6],a[f+7]),i=a[f]*d+a[f+1]*c+256*a[f+2]+1*a[f+3];if(\\\"emsg\\\"!=h)for(var j=f;j<f+i;j++)e[g]=a[j],g++;f+=i}return e.subarray(0,g)}function I(){var a=ha.getTotalBufferedTime(wa);return a<ra}function J(){if(\\\"fragmentedText\\\"!==va){var a=wa.buffered.length?wa.buffered.start(0):0,b=Ea.getTime()-a-Ia.getBufferToKeep();b>0&&(da(\\\"pruning buffer: \\\"+b+\\\" seconds.\\\"),Ca=!0,ha.remove(wa,0,Math.round(a+b),sa))}}function K(){if(!wa)return null;var a=Ea.getTime(),b=Fa.getFragmentModel().getRequests({state:g.default.FRAGMENT_MODEL_EXECUTED,time:a})[0],c=ha.getBufferRange(wa,a),d=b&&!isNaN(b.startTime)?b.startTime:Math.floor(a);return null===c&&wa.buffered.length>0&&(d=wa.buffered.end(wa.buffered.length-1)),{start:wa.buffered.start(0),end:d}}function L(a){a&&wa&&ha.remove(wa,a.start,a.end,sa)}function M(a){wa===a.buffer&&(Ca&&(Ca=!1),v(),ea.trigger(u.default.BUFFER_CLEARED,{sender:na,from:a.from,to:a.to,hasEnoughSpaceToAppend:I()}))}function N(a){wa&&wa.timestampOffset!==a&&!isNaN(a)&&(wa.timestampOffset=a)}function O(a){a.sender.getStreamProcessor()!==Fa||a.error||N(a.currentRepresentation.MSETimeOffset)}function P(a){a.fragmentModel===Fa.getFragmentModel()&&(ua=a.request.index,y())}function Q(a){wa&&a.newMediaInfo.type===va&&a.newMediaInfo.streamInfo.id===Fa.getStreamInfo().id&&ka.getSwitchMode(va)===q.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE&&L(K())}function R(){za++;var a=za*(Ia.getWallclockTimeUpdateInterval()/1e3);a>=Ia.getBufferPruningInterval()&&!Ba&&(za=0,J())}function S(){z()}function T(){return va}function U(){return Fa}function V(a){Fa=a}function W(){return wa}function X(a){wa=a}function Y(){return qa}function Z(){return ra}function $(a){sa=a}function _(){return sa}function aa(){return pa}function ba(a){ea.off(u.default.DATA_UPDATE_COMPLETED,O,this),ea.off(u.default.QUALITY_CHANGE_REQUESTED,p,this),ea.off(u.default.INIT_FRAGMENT_LOADED,f,this),ea.off(u.default.MEDIA_FRAGMENT_LOADED,j,this),ea.off(u.default.STREAM_COMPLETED,P,this),\\nea.off(u.default.CURRENT_TRACK_CHANGED,Q,this),ea.off(u.default.PLAYBACK_PROGRESS,t,this),ea.off(u.default.PLAYBACK_TIME_UPDATED,t,this),ea.off(u.default.PLAYBACK_RATE_CHANGED,S,this),ea.off(u.default.PLAYBACK_SEEKING,r,this),ea.off(u.default.WALLCLOCK_TIME_UPDATED,R,this),ea.off(u.default.SOURCEBUFFER_APPEND_COMPLETED,n,this),ea.off(u.default.SOURCEBUFFER_REMOVE_COMPLETED,M,this),ra=Number.POSITIVE_INFINITY,xa=E,oa=m.default.QUALITY_DEFAULT,ua=0,ta=0,ya=null,Aa=!1,pa=!1,Ba=!1,Ca=!1,Ea=null,Fa=null,Ga=null,Ha=null,a||(ha.abort(sa,wa),ha.removeSourceBuffer(sa,wa)),wa=null}var ca=this.context,da=(0,A.default)(ca).getInstance().log,ea=(0,s.default)(ca).getInstance(),fa=a.metricsModel,ga=a.manifestModel,ha=a.sourceBufferController,ia=a.errHandler,ja=a.streamController,ka=a.mediaController,la=a.adapter,ma=a.textSourceBuffer,na=void 0,oa=void 0,pa=void 0,qa=void 0,ra=void 0,sa=void 0,ta=void 0,ua=void 0,va=void 0,wa=void 0,xa=void 0,ya=void 0,za=void 0,Aa=void 0,Ba=void 0,Ca=void 0,Da=void 0,Ea=void 0,Fa=void 0,Ga=void 0,Ha=void 0,Ia=void 0,Ja=void 0;return na={initialize:c,createBuffer:d,getType:T,getStreamProcessor:U,setStreamProcessor:V,getBuffer:W,setBuffer:X,getBufferLevel:Y,getCriticalBufferLevel:Z,setMediaSource:$,getMediaSource:_,getIsBufferingCompleted:aa,switchInitData:h,reset:ba},b(),na}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(99),g=d(f),h=a(101),i=d(h),j=a(70),k=d(j),l=a(60),m=d(l),n=a(68),o=d(n),p=a(66),q=d(p),r=a(9),s=d(r),t=a(13),u=d(t),v=a(146),w=d(v),x=a(10),y=d(x),z=a(8),A=d(z),B=a(152),C=d(B),D=\\\"bufferLoaded\\\",E=\\\"bufferStalled\\\",F=.5;e.__dashjs_factory_name=\\\"BufferController\\\";var G=y.default.getClassFactory(e);G.BUFFER_LOADED=D,G.BUFFER_EMPTY=E,c.default=G,b.exports=c.default},{10:10,101:101,13:13,146:146,152:152,60:60,66:66,68:68,70:70,8:8,9:9,99:99}],64:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){D=!1,u={},v={},w={},x=null,y=100,z=y/1e3,C=(0,g.default)(q).getInstance()}function b(){null!==x&&D&&(clearInterval(x),x=null,D=!1)}function c(){r(\\\"Start Event Controller\\\"),D||isNaN(y)||(D=!0,x=setInterval(h,y))}function d(a){if(u={},a)for(var b=0;b<a.length;b++){var c=a[b];u[c.id]=c,r(\\\"Add inline event with id \\\"+c.id)}r(\\\"Added \\\"+a.length+\\\" inline events\\\")}function e(a){for(var b=0;b<a.length;b++){var c=a[b];c.id in v?r(\\\"Repeated event with id \\\"+c.id):(v[c.id]=c,r(\\\"Add inband event with id \\\"+c.id))}}function f(){if(w)for(var a=C.getTime(),b=Object.keys(w),c=0;c<b.length;c++){var d=b[c],e=w[d];null!==e&&(e.duration+e.presentationTime)/e.eventStream.timescale<a&&(r(\\\"Remove Event \\\"+d+\\\" at time \\\"+a),e=null,delete w[d])}}function h(){j(v),j(u),f()}function i(){var a=A.getValue(),b=a.url;a.hasOwnProperty(\\\"Location\\\")&&(b=a.Location),r(\\\"Refresh manifest @ \\\"+b),B.getManifestLoader().load(b)}function j(a){var b,c=C.getTime();if(a)for(var d=Object.keys(a),e=0;e<d.length;e++){var f=d[e],g=a[f];void 0!==g&&(b=g.presentationTime/g.eventStream.timescale,(0===b||b<=c&&b+z>c)&&(r(\\\"Start Event \\\"+f+\\\" at \\\"+c),g.duration>0&&(w[f]=g),g.eventStream.schemeIdUri==o&&g.eventStream.value==p?i():s.trigger(g.eventStream.schemeIdUri,{event:g}),delete a[f]))}}function l(a){a&&(a.manifestModel&&(A=a.manifestModel),a.manifestUpdater&&(B=a.manifestUpdater))}function n(){b(),u=null,v=null,w=null,C=null}var o=\\\"urn:mpeg:dash:event:2012\\\",p=1,q=this.context,r=(0,k.default)(q).getInstance().log,s=(0,m.default)(q).getInstance(),t=void 0,u=void 0,v=void 0,w=void 0,x=void 0,y=void 0,z=void 0,A=void 0,B=void 0,C=void 0,D=void 0;return t={initialize:a,addInlineEvents:d,addInbandEvents:e,clear:b,start:c,setConfig:l,reset:n}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(68),g=d(f),h=a(10),i=d(h),j=a(8),k=d(j),l=a(9),m=d(l);e.__dashjs_factory_name=\\\"EventController\\\",c.default=i.default.getSingletonFactory(e),b.exports=c.default},{10:10,68:68,8:8,9:9}],65:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){r={},o.on(p.default.FRAGMENT_LOADING_COMPLETED,i,q)}function b(a){var b=null;return null!==a&&void 0!==a&&a.byteLength>0&&(b=new Uint8Array(a)),b}function c(a){var b=r[a];return b||(b=(0,j.default)(k).create({metricsModel:(0,l.default)(k).getInstance()}),r[a]=b),b}function d(a){return a&&a.type&&a.type===f.HTTPRequest.INIT_SEGMENT_TYPE}function e(){o.off(p.default.FRAGMENT_LOADING_COMPLETED,i,this);for(var a in r)r[a].reset();r={}}function g(a,b,c){var d=new h.default;return d.streamId=c,d.mediaInfo=b.mediaInfo,d.segmentType=b.type,d.start=b.startTime,d.duration=b.duration,d.end=d.start+d.duration,d.bytes=a,d.index=b.index,d.quality=b.quality,d}function i(a){if(r[a.request.mediaType]===a.sender){var b=a.sender.getScheduleController(),c=a.request,e=a.response,f=d(c),h=b.getStreamProcessor().getStreamInfo().id;if(!e)return void m(\\\"No \\\"+c.mediaType+\\\" bytes to push.\\\");var i=g(e,c,h);o.trigger(f?p.default.INIT_FRAGMENT_LOADED:p.default.MEDIA_FRAGMENT_LOADED,{chunk:i,fragmentModel:a.sender})}}var k=this.context,m=(0,t.default)(k).getInstance().log,o=(0,n.default)(k).getInstance(),q=void 0,r=void 0;return q={process:b,getModel:c,isInitializationRequest:d,reset:e},a(),q}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(179),g=a(161),h=d(g),i=a(99),j=d(i),k=a(102),l=d(k),m=a(9),n=d(m),o=a(13),p=d(o),q=a(10),r=d(q),s=a(8),t=d(s);e.__dashjs_factory_name=\\\"FragmentController\\\",c.default=r.default.getClassFactory(e),b.exports=c.default},{10:10,102:102,13:13,161:161,179:179,8:8,9:9,99:99}],66:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){N={},E(),D()}function b(a,b){var c=k(a),e=d(a,b),f=[];return\\\"fragmentedText\\\"===a?void h(e[0]):(c||(c=L.getSavedMediaSettings(a),j(a,c)),void(e&&0!==e.length&&(c&&e.forEach(function(a){C(c,a)&&f.push(a)}),h(0===f.length?F(e):f.length>1?F(f):f[0]))))}function c(a){var b=a?a.type:null,c=a?a.streamInfo.id:null,d=k(b);return!(!a||!x(b))&&(N[c]=N[c]||G(),!(N[c][b].list.indexOf(a)>=0)&&(N[c][b].list.push(a),d&&C(d,a)&&!e(b,a.streamInfo)&&h(a),!0))}function d(a,b){if(!a||!b)return[];var c=b.id;return N[c]&&N[c][a]?N[c][a].list:[]}function e(a,b){return!a||!b||b&&!N[b.id]?null:N[b.id][a].current}function f(a){var b=a.type,c=a.streamInfo.id;return N[c]&&N[c][b]&&y(N[c][b].current,a)}function h(a){if(a){var b=a.type,c=a.streamInfo,d=c.id,f=e(b,c);if(N[d]&&N[d][b]&&(!f||!y(a,f))){N[d][b].current=a,f&&J.trigger(g.default.CURRENT_TRACK_CHANGED,{oldMediaInfo:f,newMediaInfo:a,switchMode:Q[b]});var h=B(a);h&&N[d][b].storeLastSettings&&(h.roles&&(h.role=h.roles[0],delete h.roles),h.accessibility&&(h.accessibility=h.accessibility[0]),h.audioChannelConfiguration&&(h.audioChannelConfiguration=h.audioChannelConfiguration[0]),L.setSavedMediaSettings(b,h))}}}function j(a,b){a&&b&&(O[a]=b)}function k(a){return a?O[a]:null}function l(a,b){var c=S.indexOf(b)!==-1;return c?void(Q[a]=b):void I(\\\"track switch mode is not supported: \\\"+b)}function n(a){return Q[a]}function p(a){var b=T.indexOf(a)!==-1;return b?void(P=a):void I(\\\"track selection mode is not supported: \\\"+a)}function w(){return P||v}function x(a){return\\\"audio\\\"===a||\\\"video\\\"===a||\\\"text\\\"===a||\\\"fragmentedText\\\"===a}function y(a,b){var c=a.id===b.id,d=a.viewpoint===b.viewpoint,e=a.lang===b.lang,f=a.roles.toString()===b.roles.toString(),g=a.accessibility.toString()===b.accessibility.toString(),h=a.audioChannelConfiguration.toString()===b.audioChannelConfiguration.toString();return c&&d&&e&&f&&g&&h}function z(a){a&&a.errHandler&&(R=a.errHandler)}function A(){a(),K.resetEmbedded()}function B(a){var b={lang:a.lang,viewpoint:a.viewpoint,roles:a.roles,accessibility:a.accessibility,audioChannelConfiguration:a.audioChannelConfiguration},c=b.lang||b.viewpoint||b.role&&b.role.length>0||b.accessibility&&b.accessibility.length>0||b.audioChannelConfiguration&&b.audioChannelConfiguration.length>0;return c?b:null}function C(a,b){var c=!a.lang||a.lang===b.lang,d=!a.viewpoint||a.viewpoint===b.viewpoint,e=!a.role||!!b.roles.filter(function(b){return b===a.role})[0],f=!a.accessibility||!!b.accessibility.filter(function(b){return b===a.accessibility})[0],g=!a.audioChannelConfiguration||!!b.audioChannelConfiguration.filter(function(b){return b===a.audioChannelConfiguration})[0];return c&&d&&e&&f&&g}function D(){Q={audio:s,video:r}}function E(){O={audio:null,video:null}}function F(a){var b=w(),c=[],d=function(a){var b,c=0,d=[];return a.forEach(function(a){b=Math.max.apply(Math,a.bitrateList.map(function(a){return a.bandwidth})),b>c?(c=b,d=[a]):b===c&&d.push(a)}),d},e=function(a){var b,c=0,d=[];return a.forEach(function(a){b=a.representationCount,b>c?(c=b,d=[a]):b===c&&d.push(a)}),d};switch(b){case t:c=d(a),c.length>1&&(c=e(c));break;case u:c=e(a),c.length>1&&(c=d(a));break;default:I(\\\"track selection mode is not supported: \\\"+b)}return c[0]}function G(){return{audio:{list:[],storeLastSettings:!0,current:null},video:{list:[],storeLastSettings:!0,current:null},text:{list:[],storeLastSettings:!0,current:null},fragmentedText:{list:[],storeLastSettings:!0,current:null}}}var H=this.context,I=(0,m.default)(H).getInstance().log,J=(0,i.default)(H).getInstance(),K=(0,o.default)(H).getInstance(),L=(0,q.default)(H).getInstance(),M=void 0,N=void 0,O=void 0,P=void 0,Q=void 0,R=void 0,S=[s,r],T=[t,u];return M={initialize:a,checkInitialMediaSettingsForType:b,addTrack:c,getTracksFor:d,getCurrentTrackFor:e,isCurrentTrack:f,setTrack:h,setInitialSettings:j,getInitialSettings:k,setSwitchMode:l,getSwitchMode:n,setSelectionModeForInitialTrack:p,getSelectionModeForInitialTrack:w,isMultiTrackSupportedByType:x,isTracksEqual:y,setConfig:z,reset:A}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(13),g=d(f),h=a(9),i=d(h),j=a(10),k=d(j),l=a(8),m=d(l),n=a(56),o=d(n),p=a(149),q=d(p),r=\\\"neverReplace\\\",s=\\\"alwaysReplace\\\",t=\\\"highestBitrate\\\",u=\\\"widestRange\\\",v=t;e.__dashjs_factory_name=\\\"MediaController\\\";var w=k.default.getSingletonFactory(e);w.TRACK_SWITCH_MODE_NEVER_REPLACE=r,w.TRACK_SWITCH_MODE_ALWAYS_REPLACE=s,w.TRACK_SELECTION_MODE_HIGHEST_BITRATE=t,w.TRACK_SELECTION_MODE_WIDEST_RANGE=u,w.DEFAULT_INIT_TRACK_SELECTION_MODE=v,c.default=w,b.exports=c.default},{10:10,13:13,149:149,56:56,8:8,9:9}],67:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){var a=\\\"WebKitMediaSource\\\"in window,b=\\\"MediaSource\\\"in window;return b?new MediaSource:a?new WebKitMediaSource:null}function b(a,b){var c=window.URL.createObjectURL(a);return b.setSource(c),c}function c(a){a.setSource(null)}function d(a,b){return a.duration!=b&&(a.duration=b),a.duration}function e(a){var b=a.sourceBuffers,c=b.length,d=0;if(\\\"open\\\"===a.readyState){for(d;d<c;d++){if(b[d].updating)return;if(0===b[d].buffered.length)return}a.endOfStream()}}var f=void 0;return f={createMediaSource:a,attachMediaSource:b,detachMediaSource:c,setDuration:d,signalEndOfStream:e}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f);e.__dashjs_factory_name=\\\"MediaSourceController\\\",c.default=g.default.getSingletonFactory(e),b.exports=c.default},{10:10}],68:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){ma=0,na=NaN,oa=null,ra=null,ta=!1,pa={},sa=(0,k.default)(_).getInstance()}function b(a){qa=a,da=la.getElement(),Z(),ra=qa.manifestInfo.isDynamic,na=qa.start,ba.on(o.default.DATA_UPDATE_COMPLETED,I,this),ba.on(o.default.LIVE_EDGE_SEARCH_COMPLETED,J,this),ba.on(o.default.BYTES_APPENDED,X,this),ba.on(o.default.BUFFER_LEVEL_STATE_CHANGED,Y,this),ba.on(o.default.PERIOD_SWITCH_STARTED,c,this),ta&&(ta=!1,j())}function c(a){a.fromStreamInfo&&pa[a.fromStreamInfo.id]&&delete pa[a.fromStreamInfo.id]}function d(){return C(!0)+qa.duration-r()}function e(){return r()>0}function f(){return qa.id}function h(){return qa.duration}function j(){if(da){da.autoplay=!0;var a=da.play();a&&\\\"undefined\\\"!=typeof Promise&&a instanceof Promise&&a.catch(function(a){\\\"NotAllowedError\\\"===a.name&&ba.trigger(o.default.PLAYBACK_NOT_ALLOWED),aa(\\\"Caught pending play exception - continuing (\\\"+a+\\\")\\\")})}else ta=!0}function l(){if(da)return da.paused}function n(){da&&(da.pause(),da.autoplay=!1)}function p(){if(da)return da.seeking}function q(a){la&&(aa(\\\"Requesting seek to time: \\\"+a),la.setCurrentTime(a))}function r(){if(da)return da.currentTime}function t(){if(da)return da.playbackRate}function u(){if(da)return da.played}function v(){if(da)return da.ended}function w(){return ra}function x(a){na=a}function y(){return na}function z(a,b){var c=ja.getMpd(ia.getValue()),d=void 0,e=10;d=sa.getUseSuggestedPresentationDelay()&&c.hasOwnProperty(\\\"suggestedPresentationDelay\\\")?c.suggestedPresentationDelay:sa.getLiveDelay()?sa.getLiveDelay():isNaN(a)?2*qa.manifestInfo.minBufferTime:a*sa.getLiveDelayFragmentCount();var f=Math.max(b-e,b/2);return Math.min(d,f)}function A(){la&&da&&(ba.off(o.default.DATA_UPDATE_COMPLETED,I,this),ba.off(o.default.BUFFER_LEVEL_STATE_CHANGED,Y,this),ba.off(o.default.LIVE_EDGE_SEARCH_COMPLETED,J,this),ba.off(o.default.BYTES_APPENDED,X,this),F(),$()),la=null,qa=null,da=null,ra=null,a()}function B(a){a&&(a.streamController&&(ea=a.streamController),a.timelineConverter&&(fa=a.timelineConverter),a.metricsModel&&(ga=a.metricsModel),a.dashMetrics&&(ha=a.dashMetrics),a.manifestModel&&(ia=a.manifestModel),a.dashManifestModel&&(ja=a.dashManifestModel),a.adapter&&(ka=a.adapter),a.videoModel&&(la=a.videoModel))}function C(a){var b=void 0,c=(0,i.default)(_).getInstance().getURIFragmentData(),d=parseInt(c.s,10),e=parseInt(c.t,10),f=NaN;if(a||(f=isNaN(d)?e:d),ra)!isNaN(f)&&f>1262304e3&&(b=f-qa.manifestInfo.availableFrom.getTime()/1e3,(b>na||b<na-qa.manifestInfo.DVRWindowSize)&&(b=null)),b=b||na;else if(!isNaN(f)&&f<Math.max(qa.manifestInfo.duration,qa.duration)&&f>=0)b=f;else{var g=pa[qa.id];void 0===g&&(g=ea.getActiveStreamCommonEarliestTime()),b=Math.max(g,qa.start)}return b}function D(a){var b,c=ga.getReadOnlyMetricsFor(\\\"video\\\")||ga.getReadOnlyMetricsFor(\\\"audio\\\"),d=ha.getCurrentDVRInfo(c),e=d?d.range:null;return e?a>=e.start&&a<=e.end?a:b=Math.max(e.end-2*qa.manifestInfo.minBufferTime,e.start):NaN}function E(){if(null===oa){var a=function(){W()};oa=setInterval(a,sa.getWallclockTimeUpdateInterval())}}function F(){clearInterval(oa),oa=null}function G(){var a=C(!1);a>0&&(q(a),aa(\\\"Starting playback at offset: \\\"+a))}function H(){if(!l()&&ra&&0!==da.readyState){var a=r(),b=D(a),c=!isNaN(b)&&b!==a;c&&q(b)}}function I(a){if(!a.error){var b=ka.convertDataToTrack(ia.getValue(),a.currentRepresentation),c=b.mediaInfo.streamInfo;qa.id===c.id&&(qa=c,H())}}function J(a){a.error||0===da.readyState||G()}function K(){ba.trigger(o.default.CAN_PLAY)}function L(){aa(\\\"Native video element event: play\\\"),H(),E(),ba.trigger(o.default.PLAYBACK_STARTED,{startTime:r()})}function M(){aa(\\\"Native video element event: playing\\\"),ba.trigger(o.default.PLAYBACK_PLAYING,{playingTime:r()})}function N(){aa(\\\"Native video element event: pause\\\"),ba.trigger(o.default.PLAYBACK_PAUSED,{ended:v()})}function O(){var a=r();aa(\\\"Seeking to: \\\"+a),E(),ba.trigger(o.default.PLAYBACK_SEEKING,{seekTime:a})}function P(){aa(\\\"Native video element event: seeked\\\"),ba.trigger(o.default.PLAYBACK_SEEKED)}function Q(){var a=r();a!==ma&&(ma=a,ba.trigger(o.default.PLAYBACK_TIME_UPDATED,{timeToEnd:d(),time:a}))}function R(){ba.trigger(o.default.PLAYBACK_PROGRESS)}function S(){var a=t();aa(\\\"Native video element event: ratechange: \\\",a),ba.trigger(o.default.PLAYBACK_RATE_CHANGED,{playbackRate:a})}function T(){aa(\\\"Native video element event: loadedmetadata\\\"),(!ra&&qa.isFirst||fa.isTimeSyncCompleted())&&G(),ba.trigger(o.default.PLAYBACK_METADATA_LOADED),E()}function U(){aa(\\\"Native video element event: ended\\\"),n(),F(),ba.trigger(o.default.PLAYBACK_ENDED)}function V(a){var b=a.target||a.srcElement;ba.trigger(o.default.PLAYBACK_ERROR,{error:b.error})}function W(){ba.trigger(o.default.WALLCLOCK_TIME_UPDATED,{isDynamic:ra,time:new Date})}function X(a){var b=a.bufferedRanges;if(b&&b.length){var c=Math.max(b.start(0),qa.start),d=void 0===pa[qa.id]?c:Math.max(pa[qa.id],c);d!==pa[qa.id]&&(!ra&&C(!0)<d&&r()<d&&q(d),pa[qa.id]=d)}}function Y(a){a.streamInfo.id===qa.id&&la.setStallState(a.mediaType,a.state===g.default.BUFFER_EMPTY)}function Z(){da.addEventListener(\\\"canplay\\\",K),da.addEventListener(\\\"play\\\",L),da.addEventListener(\\\"playing\\\",M),da.addEventListener(\\\"pause\\\",N),da.addEventListener(\\\"error\\\",V),da.addEventListener(\\\"seeking\\\",O),da.addEventListener(\\\"seeked\\\",P),da.addEventListener(\\\"timeupdate\\\",Q),da.addEventListener(\\\"progress\\\",R),da.addEventListener(\\\"ratechange\\\",S),da.addEventListener(\\\"loadedmetadata\\\",T),da.addEventListener(\\\"ended\\\",U)}function $(){da.removeEventListener(\\\"canplay\\\",K),da.removeEventListener(\\\"play\\\",L),da.removeEventListener(\\\"playing\\\",M),da.removeEventListener(\\\"pause\\\",N),da.removeEventListener(\\\"error\\\",V),da.removeEventListener(\\\"seeking\\\",O),da.removeEventListener(\\\"seeked\\\",P),da.removeEventListener(\\\"timeupdate\\\",Q),da.removeEventListener(\\\"progress\\\",R),da.removeEventListener(\\\"ratechange\\\",S),da.removeEventListener(\\\"loadedmetadata\\\",T),da.removeEventListener(\\\"ended\\\",U)}var _=this.context,aa=(0,s.default)(_).getInstance().log,ba=(0,m.default)(_).getInstance(),ca=void 0,da=void 0,ea=void 0,fa=void 0,ga=void 0,ha=void 0,ia=void 0,ja=void 0,ka=void 0,la=void 0,ma=void 0,na=void 0,oa=void 0,pa=void 0,qa=void 0,ra=void 0,sa=void 0,ta=void 0;return ca={initialize:b,setConfig:B,getStreamStartTime:C,getTimeToStreamEnd:d,isPlaybackStarted:e,getStreamId:f,getStreamDuration:h,getTime:r,getPlaybackRate:t,getPlayedRanges:u,getEnded:v,getIsDynamic:w,setLiveStartTime:x,getLiveStartTime:y,computeLiveDelay:z,play:j,isPaused:l,pause:n,isSeeking:p,seek:q,reset:A},a(),ca}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(63),g=d(f),h=a(103),i=d(h),j=a(101),k=d(j),l=a(9),m=d(l),n=a(13),o=d(n),p=a(10),q=d(p),r=a(8),s=d(r);e.__dashjs_factory_name=\\\"PlaybackController\\\",c.default=q.default.getSingletonFactory(e),b.exports=c.default},{10:10,101:101,103:103,13:13,63:63,8:8,9:9}],69:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){wa=!0,Ra=NaN,Qa=NaN,Sa=[],xa=!1,ya=null,za=null,Aa=!0,Ba=!1,Ca=0,Ea=NaN}function c(a,b){ra=a,Ia=b,La=(0,F.default)(ga).getInstance(),Fa=(0,h.default)(ga).getInstance(),Ga=(0,n.default)(ga).getInstance(),Ha=(0,j.default)(ga).getInstance(),Ja=(0,N.default)(ga).getInstance(),Ka=Ia.getFragmentController(),Ma=Ia.getBufferController(),ta=Ka.getModel(ra),ta.setScheduleController(this),ua=Ia.isDynamic(),Pa=pa.getScheduleWhilePaused(),Na=(0,p.default)(ga).create({dashMetrics:(0,z.default)(ga).getInstance(),metricsModel:(0,v.default)(ga).getInstance(),textSourceBuffer:(0,t.default)(ga).getInstance()}),Oa=(0,r.default)(ga).create({adapter:(0,B.default)(ga).getInstance(),sourceBufferController:(0,D.default)(ga).getInstance(),textSourceBuffer:(0,t.default)(ga).getInstance()}),na.getIsTextTrack(ra)&&ia.on(J.default.TIMED_TEXT_REQUESTED,R,this),ia.on(J.default.LIVE_EDGE_SEARCH_COMPLETED,V,this),ia.on(J.default.QUALITY_CHANGE_REQUESTED,s,this),ia.on(J.default.DATA_UPDATE_STARTED,K,this),ia.on(J.default.DATA_UPDATE_COMPLETED,w,this),ia.on(J.default.FRAGMENT_LOADING_COMPLETED,C,this),ia.on(J.default.STREAM_COMPLETED,A,this),ia.on(J.default.STREAM_INITIALIZED,y,this),ia.on(J.default.BUFFER_LEVEL_STATE_CHANGED,M,this),ia.on(J.default.BUFFER_CLEARED,L,this),ia.on(J.default.BYTES_APPENDED,G,this),ia.on(J.default.INIT_REQUESTED,m,this),ia.on(J.default.QUOTA_EXCEEDED,O,this),ia.on(J.default.BUFFER_LEVEL_STATE_CHANGED,M,this),ia.on(J.default.PLAYBACK_STARTED,S,this),ia.on(J.default.PLAYBACK_SEEKING,T,this),ia.on(J.default.PLAYBACK_RATE_CHANGED,U,this),ia.on(J.default.PLAYBACK_TIME_UPDATED,E,this),ia.on(J.default.URL_RESOLUTION_FAILED,Q,this),ia.on(J.default.FRAGMENT_LOADING_ABANDONED,I,this)}function d(){sa&&(ea(),xa=!1,wa?o(va.quality):k(0),wa&&(wa=!1),ha(\\\"Schedule controller starting for \\\"+ra))}function e(){xa||(xa=!0,clearTimeout(Da),ha(\\\"Schedule controller stopping for \\\"+ra))}function g(){if(!(xa||Ba||!Ma||Fa.isPaused()&&!Pa)){i();var a=Sa.length>0,b=Na.execute(Ia,ra,Ja.isVideoTrackPresent());if(b||a){var c=function(){if(va.quality!==Ra)Ra=va.quality,Ma.switchInitData(Ia.getStreamInfo().id,va.quality);else{var a=Oa.execute(Ia,Sa.shift());a?ta.executeRequest(a):(Ba=!1,k(250))}};Ba=!0,a?c():Ha.getPlaybackQuality(Ia,c)}else k(500)}}function i(){var a=1.5*va.fragmentDuration,b=ta.getRequests({state:x.default.FRAGMENT_MODEL_EXECUTED,time:Fa.getTime()+a,threshold:0})[0];b&&Sa.indexOf(b)===-1&&!na.getIsTextTrack(ra)&&(!Ga.isCurrentTrack(b.mediaInfo)||pa.getFastSwitchEnabled()&&b.quality<va.quality&&Ma.getBufferLevel()>=a&&Ha.getAbandonmentStateFor(ra)!==j.default.ABANDON_LOAD?(q(b),ha(\\\"Reloading outdated fragment at index: \\\",b.index)):b.quality>va.quality&&X(Fa.getTime()+Ma.getBufferLevel()))}function k(a){clearTimeout(Da),Da=setTimeout(g,a)}function m(a){a.sender.getStreamProcessor()===Ia&&o(va.quality)}function o(a){Ra=a;var b=la.getInitRequest(Ia,a);b&&(Ba=!0,ta.executeRequest(b))}function q(a){Sa.push(a)}function s(a){if(ra===a.mediaType&&Ia.getStreamInfo().id===a.streamInfo.id){if(va=Ia.getRepresentationInfoForQuality(a.newQuality),null===va||void 0===va)throw new Error(\\\"Unexpected error! - currentRepresentationInfo is null or undefined\\\");da(new Date,f.PlayListTrace.REPRESENTATION_SWITCH_STOP_REASON),ea()}}function u(a){var b=ta.getRequests({state:x.default.FRAGMENT_MODEL_EXECUTED,time:Fa.getTime(),threshold:0})[0];b&&Fa.getTime()>=b.startTime&&(b.quality!==Qa&&a&&ia.trigger(J.default.QUALITY_CHANGE_RENDERED,{mediaType:ra,oldQuality:Qa,newQuality:b.quality}),Qa=b.quality)}function w(a){a.error||a.sender.getStreamProcessor()!==Ia||(va=la.convertDataToTrack(ka.getValue(),a.currentRepresentation))}function y(a){a.error||Ia.getStreamInfo().id!==a.streamInfo.id||(va=Ia.getCurrentRepresentationInfo(),ua&&null===La.getLiveEdge()||(sa=!0),xa&&d())}function A(a){a.fragmentModel===ta&&(e(),Ba=!1,ha(\\\"Stream is complete\\\"))}function C(a){a.sender===ta&&(na.getIsTextTrack(ra)&&(Ba=!1),a.error&&a.serviceLocation&&!xa&&q(a.request))}function E(){u(!0)}function G(a){a.sender.getStreamProcessor()===Ia&&(Ba=!1,k(0))}function I(a){a.streamProcessor===Ia&&(q(a.request),Ba=!1,k(0))}function K(a){a.sender.getStreamProcessor()===Ia&&e()}function L(a){a.sender.getStreamProcessor()===Ia&&(ta.removeExecutedRequestsBeforeTime(a.to),a.hasEnoughSpaceToAppend&&!Ma.getIsBufferingCompleted()&&xa&&d())}function M(a){a.sender.getStreamProcessor()!==Ia||a.state!==l.default.BUFFER_EMPTY||Fa.isSeeking()||(ha(\\\"Buffer is empty! Stalling!\\\"),da(new Date,f.PlayListTrace.REBUFFERING_REASON))}function O(a){a.sender.getStreamProcessor()===Ia&&e()}function Q(){ta.abortRequests(),e()}function R(a){a.sender.getStreamProcessor()===Ia&&o(a.index)}function S(){xa&&d()}function T(a){Ea=a.seekTime,Z(0),xa&&d();var b=ma.getCurrentManifestUpdate(ja.getMetricsFor(\\\"stream\\\")),c=va.DVRWindow?va.DVRWindow.end-Fa.getTime():NaN;ja.updateManifestUpdateInfo(b,{latency:c})}function U(a){za&&(za.playbackspeed=a.playbackRate.toString())}function V(a){if(!a.error){var b=va.mediaInfo.streamInfo.manifestInfo.DVRWindowSize/2,c=a.liveEdge-Fa.computeLiveDelay(va.fragmentDuration,b),e=ma.getCurrentManifestUpdate(ja.getMetricsFor(\\\"stream\\\")),f=Fa.getLiveStartTime(),g=la.getFragmentRequestForTime(Ia,va,c,{ignoreIsFinished:!0});Ea=f,(isNaN(f)||g.startTime>f)&&(Fa.setLiveStartTime(g.startTime),Ea=g.startTime),ja.updateManifestUpdateInfo(e,{currentTime:Ea,presentationStartTime:a.liveEdge,latency:a.liveEdge-Ea,clientTimeOffset:oa.getClientTimeOffset()}),sa=!0,xa&&d()}}function W(){return Ea}function X(a){Ea=a}function Y(){return ta}function Z(a){Ca=a}function $(){return Ca}function _(){return Ia}function aa(){return Na.getBufferTarget(Ia,ra,Ja.isVideoTrackPresent())}function ba(a){ya=a}function ca(a,b){da(a,b),ya=null}function da(a,b){if(ya&&Aa===!1){var c=za.start,d=a.getTime()-c.getTime();za.duration=d,za.stopreason=b,ya.trace.push(za),Aa=!0}}function ea(){ya&&Aa===!0&&va&&(Aa=!1,za=new f.PlayListTrace,za.representationid=va.id,za.start=new Date,za.mstart=1e3*Fa.getTime(),za.playbackspeed=Fa.getPlaybackRate().toString())}function fa(){ia.off(J.default.LIVE_EDGE_SEARCH_COMPLETED,V,this),ia.off(J.default.DATA_UPDATE_STARTED,K,this),ia.off(J.default.DATA_UPDATE_COMPLETED,w,this),ia.off(J.default.BUFFER_LEVEL_STATE_CHANGED,M,this),ia.off(J.default.QUALITY_CHANGE_REQUESTED,s,this),ia.off(J.default.FRAGMENT_LOADING_COMPLETED,C,this),ia.off(J.default.STREAM_COMPLETED,A,this),ia.off(J.default.STREAM_INITIALIZED,y,this),ia.off(J.default.QUOTA_EXCEEDED,O,this),ia.off(J.default.BYTES_APPENDED,G,this),ia.off(J.default.BUFFER_CLEARED,L,this),ia.off(J.default.INIT_REQUESTED,m,this),ia.off(J.default.PLAYBACK_RATE_CHANGED,U,this),ia.off(J.default.PLAYBACK_SEEKING,T,this),ia.off(J.default.PLAYBACK_STARTED,S,this),ia.off(J.default.PLAYBACK_TIME_UPDATED,E,this),ia.off(J.default.URL_RESOLUTION_FAILED,Q,this),ia.off(J.default.FRAGMENT_LOADING_ABANDONED,I,this),na.getIsTextTrack(ra)&&ia.off(J.default.TIMED_TEXT_REQUESTED,R,this),e(),u(!1),Ba=!1,Ca=0,Ea=NaN,Fa=null,ya=null}var ga=this.context,ha=(0,P.default)(ga).getInstance().log,ia=(0,H.default)(ga).getInstance(),ja=a.metricsModel,ka=a.manifestModel,la=a.adapter,ma=a.dashMetrics,na=a.dashManifestModel,oa=a.timelineConverter,pa=a.mediaPlayerModel,qa=void 0,ra=void 0,sa=void 0,ta=void 0,ua=void 0,va=void 0,wa=void 0,xa=void 0,ya=void 0,za=void 0,Aa=void 0,Ba=void 0,Ca=void 0,Da=void 0,Ea=void 0,Fa=void 0,Ga=void 0,Ha=void 0,Ia=void 0,Ja=void 0,Ka=void 0,La=void 0,Ma=void 0,Na=void 0,Oa=void 0,Pa=void 0,Qa=void 0,Ra=void 0,Sa=void 0;return qa={initialize:c,getStreamProcessor:_,getSeekTarget:W,setSeekTarget:X,getFragmentModel:Y,setTimeToLoadDelay:Z,getTimeToLoadDelay:$,replaceRequest:q,start:d,stop:e,reset:fa,setPlayList:ba,getBufferTarget:aa,finalisePlayList:ca},b(),qa}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(181),g=a(68),h=d(g),i=a(60),j=d(i),k=a(63),l=d(k),m=a(66),n=d(m),o=a(140),p=d(o),q=a(141),r=d(q),s=a(56),t=d(s),u=a(102),v=d(u),w=a(99),x=d(w),y=a(17),z=d(y),A=a(15),B=d(A),C=a(70),D=d(C),E=a(154),F=d(E),G=a(9),H=d(G),I=a(13),J=d(I),K=a(10),L=d(K),M=a(71),N=d(M),O=a(8),P=d(O);e.__dashjs_factory_name=\\\"ScheduleController\\\",c.default=L.default.getClassFactory(e),b.exports=c.default},{10:10,102:102,13:13,140:140,141:141,15:15,154:154,17:17,181:181,56:56,60:60,63:63,66:66,68:68,70:70,71:71,8:8,9:9,99:99}],70:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a,b){var c=b.codec,d=null;try{if(c.match(/application\\\\/mp4;\\\\s*codecs=\\\"(stpp|wvtt)\\\"/i))throw new y.default(\\\"not really supported\\\");d=a.addSourceBuffer(c)}catch(e){if(!b.isText&&c.indexOf('codecs=\\\"stpp\\\"')===-1&&c.indexOf('codecs=\\\"wvtt\\\"')===-1)throw e;d=(0,g.default)(t).getInstance(),d.setConfig({errHandler:(0,m.default)(t).getInstance(),adapter:(0,k.default)(t).getInstance(),dashManifestModel:z,mediaController:(0,i.default)(t).getInstance(),videoModel:(0,w.default)(t).getInstance(),streamController:(0,o.default)(t).getInstance(),textTracks:(0,q.default)(t).getInstance(),VTTParser:(0,s.default)(t).getInstance(),TTMLParser:(0,u.default)(t).getInstance()})}return d}function b(a,b){try{a.removeSourceBuffer(b)}catch(c){}}function c(a,b,c){var d,e,f=null,g=0,h=0,i=null,j=null,k=0,l=c||.15;try{f=a.buffered}catch(m){return null}if(null!==f&&void 0!==f){for(e=0,d=f.length;e<d;e++)if(g=f.start(e),h=f.end(e),null===i)k=Math.abs(g-b),b>=g&&b<h?(i=g,j=h):k<=l&&(i=g,j=h);else{if(k=g-j,!(k<=l))break;j=h}if(null!==i)return{start:i,end:j}}return null}function d(a){var b=null;try{return b=a.buffered}catch(c){return null}}function e(a){var b,c,e=d(a),f=0;if(!e)return f;for(c=0,b=e.length;c<b;c++)f+=e.end(c)-e.start(c);return f}function f(a,b,d){var e,f;return e=c(a,b,d),f=null===e?0:e.end-b}function h(a,b){if(!b)return null;var c,e,f,g,h,i,j,k,l,m=d(b);if(!m)return null;for(var n=0,o=m.length;n<o;n++){if(k=a.length>n,h=k?{start:a.start(n),end:a.end(n)}:null,c=m.start(n),e=m.end(n),!h)return l={start:c,end:e};if(f=h.start===c,g=h.end===e,!f||!g){if(f)l={start:h.end,end:e};else{if(!g)return l={start:c,end:e};l={start:c,end:h.start}}return i=a.length>n+1?{start:a.start(n+1),end:a.end(n+1)}:null,j=n+1<o?{start:m.start(n+1),end:m.end(n+1)}:null,!i||j&&j.start===i.start&&j.end===i.end||(l.end=i.start),l}}return null}function j(a,b){var c=b.bytes,d=\\\"append\\\"in a?\\\"append\\\":\\\"appendBuffer\\\"in a?\\\"appendBuffer\\\":null,e=\\\"Object\\\"===Object.prototype.toString.call(a).slice(8,-1);if(d)try{r(a,function(){e?a[d](c,b):a[d](c),r(a,function(){v.trigger(C.default.SOURCEBUFFER_APPEND_COMPLETED,{buffer:a,bytes:c})})})}catch(f){v.trigger(C.default.SOURCEBUFFER_APPEND_COMPLETED,{buffer:a,bytes:c,error:new y.default(f.code,f.message,null)})}}function l(a,b,c,d){try{r(a,function(){b>=0&&c>b&&\\\"ended\\\"!==d.readyState&&a.remove(b,c),r(a,function(){v.trigger(C.default.SOURCEBUFFER_REMOVE_COMPLETED,{buffer:a,from:b,to:c})})})}catch(e){v.trigger(C.default.SOURCEBUFFER_REMOVE_COMPLETED,{buffer:a,from:b,to:c,error:new y.default(e.code,e.message,null)})}}function n(a,b){try{\\\"open\\\"===a.readyState?b.abort():b.setTextTrack&&\\\"ended\\\"===a.readyState&&b.abort()}catch(c){}}function p(a){a&&a.dashManifestModel&&(z=a.dashManifestModel)}function r(a,b){var c,d=50,e=function(){a.updating||(clearInterval(c),b())},f=function c(){a.updating||(a.removeEventListener(\\\"updateend\\\",c,!1),b())};if(!a.updating)return void b();if(\\\"function\\\"==typeof a.addEventListener)try{a.addEventListener(\\\"updateend\\\",f,!1)}catch(g){c=setInterval(e,d)}else c=setInterval(e,d)}var t=this.context,v=(0,A.default)(t).getInstance(),x=void 0,z=void 0;return x={append:j,remove:l,abort:n,createSourceBuffer:a,removeSourceBuffer:b,getBufferRange:c,getAllRanges:d,getTotalBufferedTime:e,getBufferLength:f,getRangeDifference:h,setConfig:p}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(56),g=d(f),h=a(66),i=d(h),j=a(15),k=d(j),l=a(151),m=d(l),n=a(71),o=d(n),p=a(57),q=d(p),r=a(159),s=d(r),t=a(157),u=d(t),v=a(104),w=d(v),x=a(162),y=d(x),z=a(9),A=d(z),B=a(13),C=d(B),D=a(10),E=d(D),F=22;e.__dashjs_factory_name=\\\"SourceBufferController\\\";var G=E.default.getSingletonFactory(e);G.QUOTA_EXCEEDED_ERROR_CODE=F,c.default=G,b.exports=c.default},{10:10,104:104,13:13,15:15,151:151,157:157,159:159,162:162,56:56,57:57,66:66,71:71,9:9}],71:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){oa=null,ma=[],ya=(0,u.default)(V).getInstance(),qa=!0,ra=!1,sa=!1,za=!1,Aa=!0,Ba=null,ta=!1,ua=!1}function b(a,b){qa=a,pa=b,la.initialize(),ja=(0,B.default)(V).getInstance(),$=(0,k.default)(V).getInstance(),$.setConfig({log:W,manifestModel:aa,dashManifestModel:ba}),$.initialize(_),wa=(0,s.default)(V).getInstance(),xa=(0,g.default)(V).getInstance(),xa.setConfig({streamController:Y,timelineConverter:la,metricsModel:da,dashMetrics:ea,manifestModel:aa,dashManifestModel:ba,adapter:ca,videoModel:wa}),X.on(o.default.TIME_SYNCHRONIZATION_COMPLETED,I,this),X.on(o.default.PLAYBACK_SEEKING,n,this),X.on(o.default.PLAYBACK_TIME_UPDATED,j,this),X.on(o.default.PLAYBACK_ENDED,l,this),X.on(o.default.PLAYBACK_ERROR,h,this),X.on(o.default.PLAYBACK_STARTED,p,this),X.on(o.default.PLAYBACK_PAUSED,r,this),X.on(o.default.MANIFEST_UPDATED,J,this),X.on(o.default.STREAM_BUFFERING_COMPLETED,t,this)}function c(a,b){b=b||new Date,Ba&&(na&&na.getProcessors().forEach(function(c){var d=c.getScheduleController();d&&d.finalisePlayList(b,a)}),da.addPlayList(Ba),Ba=null)}function d(a){Ba=new x.PlayList,Ba.start=new Date,Ba.mstart=1e3*xa.getTime(),Ba.starttype=a,na&&na.getProcessors().forEach(function(a){var b=a.getScheduleController();b&&b.setPlayList(Ba)})}function e(a,b,c){X.trigger(a,{fromStreamInfo:b?b.getStreamInfo():null,toStreamInfo:c.getStreamInfo()})}function f(){na.isActivated()&&Aa&&0===na.getStreamInfo().index&&(na.startEventController(),qa&&xa.play())}function h(a){if(a.error){var b=\\\"\\\";switch(a.error.code){case 1:b=\\\"MEDIA_ERR_ABORTED\\\";break;case 2:b=\\\"MEDIA_ERR_NETWORK\\\";break;case 3:b=\\\"MEDIA_ERR_DECODE\\\";break;case 4:b=\\\"MEDIA_ERR_SRC_NOT_SUPPORTED\\\";break;case 5:b=\\\"MEDIA_ERR_ENCRYPTED\\\";break;default:\\nb=\\\"UNKNOWN\\\"}ta=!0,a.error.msExtendedCode&&(b+=\\\" (0x\\\"+(a.error.msExtendedCode>>>0).toString(16).toUpperCase()+\\\")\\\"),W(\\\"Video Element Error: \\\"+b),a.error&&W(a.error),ka.mediaSourceError(b),T()}}function j(a){if(K()){var b=wa.getPlaybackQuality();b&&da.addDroppedFrames(\\\"video\\\",b)}xa.isSeeking()||a.timeToEnd<U&&ga.signalEndOfStream(va)}function l(){var a=v();a&&C(na,a,NaN),c(a?x.PlayListTrace.END_OF_PERIOD_STOP_REASON:x.PlayListTrace.END_OF_CONTENT_STOP_REASON)}function n(a){var b=w(a.seekTime);b&&b!==na?(c(x.PlayListTrace.END_OF_PERIOD_STOP_REASON),C(na,b,a.seekTime)):c(x.PlayListTrace.USER_REQUEST_STOP_REASON),d(x.PlayList.SEEK_START_REASON)}function p(){Aa?(Aa=!1,d(x.PlayList.INITIAL_PLAYOUT_START_REASON)):za&&(za=!1,d(x.PlayList.RESUME_FROM_PAUSE_START_REASON))}function r(a){a.ended||(za=!0,c(x.PlayListTrace.USER_REQUEST_STOP_REASON))}function t(a){va&&a.streamInfo.isLast&&ga.signalEndOfStream(va)}function v(){var a=na.getStreamInfo().start,b=na.getStreamInfo().duration;return ma.filter(function(c){return c.getStreamInfo().start===a+b})[0]}function w(a){var b=0,c=null,d=ma.length;d>0&&(b+=ma[0].getStartTime());for(var e=0;e<d;e++)if(c=ma[e],b+=c.getDuration(),a<b)return c;return null}function y(a,b){for(var c=null,d=0,e=0,f=null,g=ma.length,h=0;h<g;h++){if(c=ma[h],e=c.getStartTime(),f=c.getDuration(),Number.isFinite(e)&&(d=e),c.getId()===b)return a-d;Number.isFinite(f)&&(d+=f)}return null}function A(){var a=[];return na.getProcessors().forEach(function(b){a.push(b.getIndexHandler().getEarliestTime())}),Math.min.apply(Math,a)}function C(a,b,c){function d(){isNaN(c)?!function(){var a=xa.getStreamStartTime(!0);na.getProcessors().forEach(function(b){ca.setIndexHandlerTime(b,a)}),xa.seek(a)}():xa.seek(c),xa.play(),na.startEventController(),ra=!1,e(o.default.PERIOD_SWITCH_COMPLETED,a,b)}!ra&&a&&b&&a!==b&&(ra=!0,e(o.default.PERIOD_SWITCH_STARTED,a,b),a.deactivate(),na=b,xa.initialize(na.getStreamInfo()),Ca=L(),D(d))}function D(a){function b(){W(\\\"MediaSource is open!\\\"),window.URL.revokeObjectURL(c),va.removeEventListener(\\\"sourceopen\\\",b),va.removeEventListener(\\\"webkitsourceopen\\\",b),E(),na.activate(va),a&&a()}var c=void 0;va?ga.detachMediaSource(wa):va=ga.createMediaSource(),va.addEventListener(\\\"sourceopen\\\",b,!1),va.addEventListener(\\\"webkitsourceopen\\\",b,!1),c=ga.attachMediaSource(va,wa),W(\\\"MediaSource attached to element.  Waiting on open...\\\")}function E(){var a,b;a=na.getStreamInfo().manifestInfo.duration,b=ga.setDuration(va,a),W(\\\"Duration successfully set to: \\\"+b)}function F(){var a,b,c,d,f,g,h,j=aa.getValue(),k=da.getMetricsFor(\\\"stream\\\"),l=ea.getCurrentManifestUpdate(k),m=[];if(j){g=ca.getStreamsInfo(j),oa&&(X.trigger(o.default.PROTECTION_CREATED,{controller:oa,manifest:j}),oa.setMediaElement(wa.getElement()),pa&&oa.setProtectionData(pa));try{if(0===g.length)throw new Error(\\\"There are no streams\\\");for(da.updateManifestUpdateInfo(l,{currentTime:xa.getTime(),buffered:wa.getElement().buffered,presentationStartTime:g[0].start,clientTimeOffset:la.getClientTimeOffset()}),sa=!0,d=0,b=g.length;d<b;d++){for(a=g[d],f=0,c=ma.length;f<c;f++)ma[f].getId()===a.id&&(h=ma[f],m.push(h),h.updateData(a));h||(h=(0,i.default)(V).create({manifestModel:aa,manifestUpdater:$,adapter:ca,timelineConverter:la,capabilities:Z,errHandler:ka,baseURLController:ia}),h.initialize(a,oa),X.on(o.default.STREAM_INITIALIZED,H,this),m.push(h),na&&h.updateData(a)),da.addManifestUpdateStreamInfo(l,a.id,a.index,a.start,a.duration),h=null}ma=m,na||(na=ma[0],e(o.default.PERIOD_SWITCH_STARTED,null,na),xa.initialize(na.getStreamInfo()),e(o.default.PERIOD_SWITCH_COMPLETED,null,na)),va||D(),sa=!1,G()}catch(n){ka.manifestError(n.message,\\\"nostreamscomposed\\\",j),ua=!0,T()}}}function G(){if(!sa){var a=ma.length,b=0;for(f(),b;b<a;b++)if(!ma[b].isInitialized())return;X.trigger(o.default.STREAMS_COMPOSED)}}function H(){G()}function I(){F()}function J(a){if(a.error)ua=!0,T();else{var b,c,d=a.manifest,e=ca.getStreamsInfo(d)[0],f=ca.getMediaInfoForType(d,e,\\\"video\\\")||ca.getMediaInfoForType(d,e,\\\"audio\\\");f&&(b=ca.getDataForMedia(f),c=ba.getRepresentationsForAdaptation(d,b)[0].useCalculatedLiveEdgeTime,c&&(W(\\\"SegmentTimeline detected using calculated Live Edge Time\\\"),ya.setUseManifestDateHeaderTimeSource(!1)));var g=ba.getUTCTimingSources(a.manifest),h=!ba.getIsDynamic(d)||c?g:g.concat(ya.getUTCTimingSources()),i=(0,q.default)(V).getInstance().isManifestHTTPS();h.forEach(function(a){a.value.replace(/.*?:\\\\/\\\\//g,\\\"\\\")===u.default.DEFAULT_UTC_TIMING_SOURCE.value.replace(/.*?:\\\\/\\\\//g,\\\"\\\")&&(a.value=a.value.replace(i?new RegExp(/^(http:)?\\\\/\\\\//i):new RegExp(/^(https:)?\\\\/\\\\//i),i?\\\"https://\\\":\\\"http://\\\"),W(\\\"Matching default timing source protocol to manifest protocol: \\\",a.value))}),ia.initialize(d),ha.setConfig({metricsModel:da,dashMetrics:ea}),ha.initialize(h,ya.getUseManifestDateHeaderTimeSource())}}function K(){return void 0===Ca&&(Ca=L()),Ca}function L(){var a=!1;return na.getProcessors().forEach(function(b){\\\"video\\\"===b.getMediaInfo().type&&(a=!0)}),a}function M(){return qa}function N(){return na?na.getStreamInfo():null}function O(a){return na.getId()===a.id}function P(a){return ma.filter(function(b){return b.getId()===a})[0]}function Q(a){_.load(a)}function R(a){$.setManifest(a)}function S(a){a&&(a.capabilities&&(Z=a.capabilities),a.manifestLoader&&(_=a.manifestLoader),a.manifestModel&&(aa=a.manifestModel),a.dashManifestModel&&(ba=a.dashManifestModel),a.protectionController&&(oa=a.protectionController),a.adapter&&(ca=a.adapter),a.metricsModel&&(da=a.metricsModel),a.dashMetrics&&(ea=a.dashMetrics),a.liveEdgeFinder&&(fa=a.liveEdgeFinder),a.mediaSourceController&&(ga=a.mediaSourceController),a.timeSyncController&&(ha=a.timeSyncController),a.baseURLController&&(ia=a.baseURLController),a.errHandler&&(ka=a.errHandler),a.timelineConverter&&(la=a.timelineConverter))}function T(){ha.reset(),c(ta||ua?x.PlayListTrace.FAILURE_STOP_REASON:x.PlayListTrace.USER_REQUEST_STOP_REASON);for(var a=0,b=ma.length;a<b;a++){var d=ma[a];X.off(o.default.STREAM_INITIALIZED,H,this),d.reset(ta)}ma=[],X.off(o.default.PLAYBACK_TIME_UPDATED,j,this),X.off(o.default.PLAYBACK_SEEKING,n,this),X.off(o.default.PLAYBACK_ERROR,h,this),X.off(o.default.PLAYBACK_STARTED,p,this),X.off(o.default.PLAYBACK_PAUSED,r,this),X.off(o.default.PLAYBACK_ENDED,l,this),X.off(o.default.MANIFEST_UPDATED,J,this),X.off(o.default.STREAM_BUFFERING_COMPLETED,t,this),ia.reset(),$.reset(),da.clearAllCurrentMetrics(),aa.setValue(null),_.reset(),la.reset(),fa.reset(),ca.reset(),ja.reset(),ra=!1,sa=!1,na=null,ta=!1,ua=!1,Ca=void 0,Aa=!0,za=!1,va&&(ga.detachMediaSource(wa),va=null),wa=null,oa&&(oa.setMediaElement(null),oa=null,pa=null,aa.getValue()&&X.trigger(o.default.PROTECTION_DESTROYED,{data:aa.getValue().url})),X.trigger(o.default.STREAM_TEARDOWN_COMPLETE)}var U=1,V=this.context,W=(0,z.default)(V).getInstance().log,X=(0,m.default)(V).getInstance(),Y=void 0,Z=void 0,$=void 0,_=void 0,aa=void 0,ba=void 0,ca=void 0,da=void 0,ea=void 0,fa=void 0,ga=void 0,ha=void 0,ia=void 0,ja=void 0,ka=void 0,la=void 0,ma=void 0,na=void 0,oa=void 0,pa=void 0,qa=void 0,ra=void 0,sa=void 0,ta=void 0,ua=void 0,va=void 0,wa=void 0,xa=void 0,ya=void 0,za=void 0,Aa=void 0,Ba=void 0,Ca=void 0;return Y={initialize:b,getAutoPlay:M,getActiveStreamInfo:N,isStreamActive:O,isVideoTrackPresent:K,getStreamById:P,getTimeRelativeToStreamId:y,load:Q,loadWithManifest:R,getActiveStreamCommonEarliestTime:A,setConfig:S,reset:T},a(),Y}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(68),g=d(f),h=a(54),i=d(h),j=a(50),k=d(j),l=a(9),m=d(l),n=a(13),o=d(n),p=a(103),q=d(p),r=a(104),s=d(r),t=a(101),u=d(t),v=a(10),w=d(v),x=a(181),y=a(8),z=d(y),A=a(152),B=d(A);e.__dashjs_factory_name=\\\"StreamController\\\",c.default=w.default.getSingletonFactory(e),b.exports=c.default},{10:10,101:101,103:103,104:104,13:13,152:152,181:181,50:50,54:54,68:68,8:8,9:9}],72:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){s=!1,t=null,u=null,v=null,w=null,x=null,o.on(i.default.DATA_UPDATE_COMPLETED,l,this),o.on(i.default.INIT_FRAGMENT_LOADED,m,this)}function c(a,b,c){v=a,h(b),w=c,x=w.getRepresentationController()}function d(a){try{u=p.createSourceBuffer(t,a),s||(u.hasOwnProperty(\\\"initialize\\\")&&u.initialize(v,this),s=!0)}catch(b){q.mediaSourceError(\\\"Error creating \\\"+v+\\\" source buffer.\\\")}return u}function e(){return u}function f(a){u=a}function h(a){t=a}function j(){return w}function k(a){o.off(i.default.DATA_UPDATE_COMPLETED,l,this),o.off(i.default.INIT_FRAGMENT_LOADED,m,this),a||(p.abort(t,u),p.removeSourceBuffer(t,u))}function l(a){a.sender.getStreamProcessor()===w&&o.trigger(i.default.TIMED_TEXT_REQUESTED,{index:0,sender:a.sender})}function m(a){a.fragmentModel===w.getFragmentModel()&&a.chunk.bytes&&p.append(u,a.chunk)}var n=this.context,o=(0,g.default)(n).getInstance(),p=a.sourceBufferController,q=a.errHandler,r=void 0,s=void 0,t=void 0,u=void 0,v=void 0,w=void 0,x=void 0;return r={initialize:c,createBuffer:d,getBuffer:e,setBuffer:f,getStreamProcessor:j,setMediaSource:h,reset:k},b(),r}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(9),g=d(f),h=a(13),i=d(h),j=a(10),k=d(j);e.__dashjs_factory_name=\\\"TextController\\\",c.default=k.default.getClassFactory(e),b.exports=c.default},{10:10,13:13,9:9}],73:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a,b){H=b,E=0,F=!1,G=!1,I={\\\"urn:mpeg:dash:utc:http-head:2014\\\":v,\\\"urn:mpeg:dash:utc:http-xsdate:2014\\\":u.bind(null,m),\\\"urn:mpeg:dash:utc:http-iso:2014\\\":u.bind(null,n),\\\"urn:mpeg:dash:utc:direct:2014\\\":t,\\\"urn:mpeg:dash:utc:http-head:2012\\\":v,\\\"urn:mpeg:dash:utc:http-xsdate:2012\\\":u.bind(null,m),\\\"urn:mpeg:dash:utc:http-iso:2012\\\":u.bind(null,n),\\\"urn:mpeg:dash:utc:direct:2012\\\":t,\\\"urn:mpeg:dash:utc:http-ntp:2014\\\":s,\\\"urn:mpeg:dash:utc:ntp:2014\\\":s,\\\"urn:mpeg:dash:utc:sntp:2014\\\":s},e()||(y(a),f(!0))}function b(a){a&&(a.metricsModel&&(J=a.metricsModel),a.dashMetrics&&(K=a.dashMetrics))}function c(){return j()}function d(a){F=a}function e(){return F}function f(a){G=a}function h(a){E=a}function j(){return E}function l(a){var b,c,d=60,e=60,f=1e3,g=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\\\\.[0-9]*)?)?(?:([+\\\\-])([0-9]{2})([0-9]{2}))?/,h=g.exec(a);return b=Date.UTC(parseInt(h[1],10),parseInt(h[2],10)-1,parseInt(h[3],10),parseInt(h[4],10),parseInt(h[5],10),h[6]&&(parseInt(h[6],10)||0),h[7]&&parseFloat(h[7])*f||0),h[9]&&h[10]&&(c=parseInt(h[9],10)*e+parseInt(h[10],10),b+=(\\\"+\\\"===h[8]?-1:1)*c*d*f),new Date(b).getTime()}function m(a){var b=Date.parse(a);return isNaN(b)&&(b=l(a)),b}function n(a){return Date.parse(a)}function r(a){return Date.parse(a)}function s(a,b,c){c()}function t(a,b,c){var d=m(a);return isNaN(d)?void c():void b(d)}function u(a,b,c,d,e){var f,g,h=!1,i=new XMLHttpRequest,j=e?\\\"HEAD\\\":\\\"GET\\\",k=b.match(/\\\\S+/g);b=k.shift(),f=function(){h||(h=!0,k.length?u(a,k.join(\\\" \\\"),c,d,e):d())},g=function(){var b,d;200===i.status&&(b=e?i.getResponseHeader(\\\"Date\\\"):i.response,d=a(b),isNaN(d)||(c(d),h=!0))},i.open(j,b),i.timeout=q||0,i.onload=g,i.onloadend=f,i.send()}function v(a,b,c){u(r,a,b,c,!0)}function w(){var a=J.getReadOnlyMetricsFor(\\\"stream\\\"),b=K.getLatestMPDRequestHeaderValueByID(a,\\\"Date\\\"),c=null!==b?new Date(b).getTime():Number.NaN;isNaN(c)?x(!0):(h(c-(new Date).getTime()),x(!1,c/1e3,E))}function x(a,b,c){d(!1),C.trigger(k.default.TIME_SYNCHRONIZATION_COMPLETED,{time:b,offset:c,error:a?new g.default(p):null})}function y(a,b){var c=b||0,e=a[c],f=function(a,b){var c=!a||!b;c&&H?w():x(c,a,b)};d(!0),e?I.hasOwnProperty(e.schemeIdUri)?I[e.schemeIdUri](e.value,function(a){var b=(new Date).getTime(),c=a-b;h(c),B(\\\"Local time:      \\\"+new Date(b)),B(\\\"Server time:     \\\"+new Date(a)),B(\\\"Difference (ms): \\\"+c),f(a,c)},function(){y(a,c+1)}):y(a,c+1):(h(0),f())}function z(){f(!1),d(!1)}var A=this.context,B=(0,o.default)(A).getInstance().log,C=(0,i.default)(A).getInstance(),D=void 0,E=void 0,F=void 0,G=void 0,H=void 0,I=void 0,J=void 0,K=void 0;return D={initialize:a,getOffsetToDeviceTimeMs:c,setConfig:b,reset:z}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(162),g=d(f),h=a(9),i=d(h),j=a(13),k=d(j),l=a(10),m=d(l),n=a(8),o=d(n),p=1,q=5e3;e.__dashjs_factory_name=\\\"TimeSyncController\\\";var r=m.default.getSingletonFactory(e);r.TIME_SYNC_FAILED_ERROR_CODE=p,r.HTTP_TIMEOUT_MS=q,c.default=r,b.exports=c.default},{10:10,13:13,162:162,8:8,9:9}],74:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){A.on(k.default.XLINK_ELEMENT_LOADED,j,C),H=(0,g.default)(z).create({errHandler:a.errHandler,metricsModel:a.metricsModel,requestModifier:a.requestModifier})}function c(a){D=a}function d(a){E=a}function e(a){var b;G=new o.default(D,\\\"\\\",(!0)),F=a,b=m(F.Period_asArray,F,t,r),h(b,t,r)}function f(){A.off(k.default.XLINK_ELEMENT_LOADED,j,C),H&&(H.reset(),H=null)}function h(a,b,c){var d,e,f,g={};for(g.elements=a,g.type=b,g.resolveType=c,0===g.elements.length&&l(g),f=0;f<g.elements.length;f++)d=g.elements[f],e=B.isHTTPURL(d.url)?d.url:d.originalContent.BaseURL+d.url,H.load(e,d,g)}function j(a){var b,c,d,e=\\\"<response>\\\",f=\\\"</response>\\\",g=\\\"\\\";b=a.element,c=a.resolveObject,b.resolvedContent&&(d=b.resolvedContent.indexOf(\\\">\\\")+1,g=b.resolvedContent.substr(0,d)+e+b.resolvedContent.substr(d)+f,b.resolvedContent=G.xml_str2json(g)),x(c)&&l(c)}function l(a){var b,c,d=[];if(n(a),a.resolveType===s&&A.trigger(k.default.XLINK_READY,{manifest:F}),a.resolveType===r)switch(a.type){case t:for(b=0;b<F[t+\\\"_asArray\\\"].length;b++)c=F[t+\\\"_asArray\\\"][b],c.hasOwnProperty(u+\\\"_asArray\\\")&&(d=d.concat(m(c[u+\\\"_asArray\\\"],c,u,r))),c.hasOwnProperty(v+\\\"_asArray\\\")&&(d=d.concat(m(c[v+\\\"_asArray\\\"],c,v,r)));h(d,u,r);break;case u:A.trigger(k.default.XLINK_READY,{manifest:F})}}function m(a,b,c,d){var e,f,g,h=[];for(f=a.length-1;f>=0;f--)e=a[f],e.hasOwnProperty(\\\"xlink:href\\\")&&e[\\\"xlink:href\\\"]===w&&a.splice(f,1);for(f=0;f<a.length;f++)e=a[f],e.hasOwnProperty(\\\"xlink:href\\\")&&e.hasOwnProperty(\\\"xlink:actuate\\\")&&e[\\\"xlink:actuate\\\"]===d&&(g=p(e[\\\"xlink:href\\\"],b,c,f,d,e),h.push(g));return h}function n(a){var b,c,d,e,f,g,h=[];for(e=a.elements.length-1;e>=0;e--){if(b=a.elements[e],c=b.type+\\\"_asArray\\\",!b.resolvedContent||y())delete b.originalContent[\\\"xlink:actuate\\\"],delete b.originalContent[\\\"xlink:href\\\"],h.push(b.originalContent);else if(b.resolvedContent)for(f=0;f<b.resolvedContent[c].length;f++)d=b.resolvedContent[c][f],h.push(d);for(b.parentElement[c].splice(b.index,1),g=0;g<h.length;g++)b.parentElement[c].splice(b.index+g,0,h[g]);h=[]}a.elements.length>0&&E.run(F)}function p(a,b,c,d,e,f){return{url:a,parentElement:b,type:c,index:d,resolveType:e,originalContent:f,resolvedContent:null,resolved:!1}}function x(a){var b,c;for(b=0;b<a.elements.length;b++)if(c=a.elements[b],c.resolved===!1)return!1;return!0}function y(){return!1}var z=this.context,A=(0,i.default)(z).getInstance(),B=(0,q.default)(z).getInstance(),C=void 0,D=void 0,E=void 0,F=void 0,G=void 0,H=void 0;return C={resolveManifestOnLoad:e,setMatchers:c,setIron:d,reset:f},b(),C}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(59),g=d(f),h=a(9),i=d(h),j=a(13),k=d(j),l=a(10),m=d(l),n=a(4),o=d(n),p=a(158),q=d(p),r=\\\"onLoad\\\",s=\\\"onActuate\\\",t=\\\"Period\\\",u=\\\"AdaptationSet\\\",v=\\\"EventStream\\\",w=\\\"urn:mpeg:dash:resolve-to-zero:2013\\\";e.__dashjs_factory_name=\\\"XlinkController\\\",c.default=m.default.getClassFactory(e),b.exports=c.default},{10:10,13:13,158:158,4:4,59:59,9:9}],75:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a){return f=(0,g.default)(d).getInstance({eventBus:a.eventBus,metricsModel:a.metricsModel}),(0,k.default)(d).create(a)}function b(){return(0,o.default)(d).getInstance()}function c(){return(0,m.default)(d).getInstance()}var d=this.context,e=void 0,f=void 0;return e={createMetricsReporting:a,getReportingFactory:b,getMetricsHandlerFactory:c}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(89),g=d(f),h=a(76),i=d(h),j=a(77),k=d(j),l=a(82),m=d(l),n=a(87),o=d(n),p=a(10),q=d(p);e.__dashjs_factory_name=\\\"MetricsReporting\\\";var r=q.default.getClassFactory(e);r.events=i.default,c.default=r,b.exports=c.default},{10:10,76:76,77:77,82:82,87:87,89:89}],76:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}function f(a,b){if(\\\"function\\\"!=typeof b&&null!==b)throw new TypeError(\\\"Super expression must either be null or a function, not \\\"+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var g=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if(\\\"value\\\"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}},h=a(14),i=d(h),j=function(a){function b(){e(this,b),g(Object.getPrototypeOf(b.prototype),\\\"constructor\\\",this).call(this),this.METRICS_INITIALISATION_COMPLETE=\\\"internal_metricsReportingInitialized\\\",this.BECAME_REPORTING_PLAYER=\\\"internal_becameReportingPlayer\\\"}return f(b,a),b}(i.default),k=new j;c.default=k,b.exports=c.default},{14:14}],77:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(b){if(!b.error){var c=Object.keys(e),d=(0,i.default)(f).getInstance({dashManifestModel:a.dashManifestModel}).getMetrics(b.manifest);d.forEach(function(b){var d=JSON.stringify(b);if(e.hasOwnProperty(d))c.splice(d,1);else try{var h=(0,g.default)(f).create(a);h.initialize(b),e[d]=h}catch(i){}}),c.forEach(function(a){e[a].reset(),delete e[a]}),h.trigger(m.default.METRICS_INITIALISATION_COMPLETE)}}function c(){Object.keys(e).forEach(function(a){e[a].reset()}),e={}}function d(){h.on(o.default.MANIFEST_UPDATED,b),h.on(o.default.STREAM_TEARDOWN_COMPLETE,c)}var e={},f=this.context,h=a.eventBus;return d(),{}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(78),g=d(f),h=a(91),i=d(h),j=a(10),k=d(j),l=a(76),m=d(l),n=a(13),o=d(n);e.__dashjs_factory_name=\\\"MetricsCollectionController\\\",c.default=k.default.getClassFactory(e),b.exports=c.default},{10:10,13:13,76:76,78:78,91:91}],78:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(b){try{f=(0,i.default)(h).create({mediaElement:a.mediaElement}),f.initialize(b.Range),e=(0,k.default)(h).create({log:a.log}),e.initialize(b.Reporting,f),d=(0,m.default)(h).create({log:a.log,eventBus:a.eventBus}),d.initialize(b.metrics,e)}catch(g){throw c(),g}}function c(){d&&d.reset(),e&&e.reset(),f&&f.reset()}var d=void 0,e=void 0,f=void 0,g=void 0,h=this.context;return g={initialize:b,reset:c}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f),h=a(80),i=d(h),j=a(81),k=d(j),l=a(79),m=d(l);e.__dashjs_factory_name=\\\"MetricsController\\\",c.default=g.default.getClassFactory(e),b.exports=c.default},{10:10,79:79,80:80,81:81}],79:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(a){e.forEach(function(b){b.handleNewMetric(a.metric,a.value,a.mediaType)})}function c(a,c){a.split(\\\",\\\").forEach(function(a,b,d){var f;if(a.indexOf(\\\"(\\\")!==-1&&a.indexOf(\\\")\\\")===-1){var g=d[b+1];g&&g.indexOf(\\\"(\\\")===-1&&g.indexOf(\\\")\\\")!==-1&&(a+=\\\",\\\"+g,delete d[b+1])}f=j.create(a,c),f&&e.push(f)}),i.on(k.default.METRIC_ADDED,b,f),i.on(k.default.METRIC_UPDATED,b,f)}function d(){i.off(k.default.METRIC_ADDED,b,f),i.off(k.default.METRIC_UPDATED,b,f),e.forEach(function(a){return a.reset()}),e=[]}var e=[],f=void 0,h=this.context,i=a.eventBus,j=(0,g.default)(h).getInstance({log:a.log,eventBus:a.eventBus});return f={initialize:c,reset:d}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(82),g=d(f),h=a(10),i=d(h),j=a(52),k=d(j);e.__dashjs_factory_name=\\\"MetricsHandlersController\\\",c.default=i.default.getClassFactory(e),b.exports=c.default},{10:10,52:52,82:82}],80:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(a){a&&a.length&&(a.forEach(function(a){var b=a.starttime,c=b+a.duration;j.add(b,c)}),f=!!a[0]._useWallClockTime)}function c(){j.clear()}function d(){j=(0,i.default)(g).create()}function e(){var a,b=j.length;if(!b)return!0;a=f?(new Date).getTime()/1e3:k.currentTime;for(var c=0;c<b;c+=1){var d=j.start(c),e=j.end(c);if(d<=a&&a<e)return!0}return!1}var f=!1,g=this.context,h=void 0,j=void 0,k=a.mediaElement;return h={initialize:b,reset:c,isEnabled:e},d(),h}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f),h=a(148),i=d(h);e.__dashjs_factory_name=\\\"RangeController\\\",c.default=g.default.getClassFactory(e),b.exports=c.default},{10:10,148:148}],81:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(a,b){a.some(function(a){var c=g.create(a,b);if(c)return e.push(c),!0})}function c(){e.forEach(function(a){return a.reset()}),e=[]}function d(a,b){e.forEach(function(c){return c.report(a,b)})}var e=[],f=void 0,g=(0,i.default)(this.context).getInstance({log:a.log});return f={initialize:b,reset:c,report:d}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f),h=a(87),i=d(h);e.__dashjs_factory_name=\\\"ReportingController\\\",c.default=g.default.getClassFactory(e),b.exports=c.default},{10:10,87:87}],82:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(b,c){var d,e=b.match(g);if(e){try{d=j[e[1]](h).create({eventBus:a.eventBus}),d.initialize(e[1],c,e[3],e[5])}catch(i){d=null,f(\\\"MetricsHandlerFactory: Could not create handler for type \\\"+e[1]+\\\" with args \\\"+e[3]+\\\", \\\"+e[5]+\\\" (\\\"+i.message+\\\")\\\")}return d}}function c(a,b){j[a]=b}function d(a){delete j[a]}var e=void 0,f=a.log,g=/([a-zA-Z]*)(\\\\(([0-9]*)(\\\\,\\\\s*([a-zA-Z]*))?\\\\))?/,h=this.context,j={BufferLevel:i.default,DVBErrors:k.default,HttpList:m.default,PlayList:o.default,RepSwitchList:o.default,TcpList:o.default};return e={create:b,register:c,unregister:d}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f),h=a(83),i=d(h),j=a(84),k=d(j),l=a(86),m=d(l),n=a(85),o=d(n);e.__dashjs_factory_name=\\\"MetricsHandlerFactory\\\",c.default=g.default.getSingletonFactory(e),b.exports=c.default},{10:10,83:83,84:84,85:85,86:86}],83:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){try{return Object.keys(o).map(function(a){return o[a]}).reduce(function(a,b){return a.level<b.level?a:b})}catch(a){return}}function b(){var b=a();b&&l!==b.t&&(l=b.t,g.report(j,b))}function c(a,c,d){c&&(h=n.validateN(d),g=c,j=n.reconstructFullMetricName(a,d),k=setInterval(b,h))}function d(){clearInterval(k),k=null,h=0,g=null,l=null}function e(a,b,c){\\\"BufferLevel\\\"===a&&(o[c]=b)}var f=void 0,g=void 0,h=void 0,j=void 0,k=void 0,l=void 0,m=this.context,n=(0,i.default)(m).getInstance(),o=[];return f={initialize:c,reset:d,handleNewMetric:e}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f),h=a(90),i=d(h);e.__dashjs_factory_name=\\\"BufferLevelHandler\\\",c.default=g.default.getClassFactory(e),b.exports=c.default},{10:10,90:90}],84:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){h.off(i.default.METRICS_INITIALISATION_COMPLETE,b,this),h.trigger(i.default.BECAME_REPORTING_PLAYER)}function c(a,c){c&&(g=c,h.on(i.default.METRICS_INITIALISATION_COMPLETE,b,this))}function d(){g=null}function e(a,b){\\\"DVBErrors\\\"===a&&g&&g.report(a,b)}var f=void 0,g=void 0,h=a.eventBus;return f={initialize:c,reset:d,handleNewMetric:e}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f),h=a(76),i=d(h);c.default=g.default.getClassFactory(e),b.exports=c.default},{10:10,76:76}],85:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a,b){e=a,f=b}function b(){f=null,e=void 0}function c(a,b){a===e&&f&&f.report(e,b)}var d=void 0,e=void 0,f=void 0;return d={initialize:a,reset:b,handleNewMetric:c}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f);e.__dashjs_factory_name=\\\"GenericMetricHandler\\\",c.default=g.default.getClassFactory(e),b.exports=c.default},{10:10}],86:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){var a=l;a.length&&f&&f.report(j,a),l=[]}function b(b,c,d,e){c&&(g=m.validateN(d),f=c,e&&e.length&&(h=e),j=m.reconstructFullMetricName(b,d,e),k=setInterval(a,g))}function c(){clearInterval(k),k=null,g=null,h=null,l=[],f=null}function d(a,b){\\\"HttpList\\\"===a&&(h&&h!==b.type||l.push(b))}var e=void 0,f=void 0,g=void 0,h=void 0,j=void 0,k=void 0,l=[],m=(0,i.default)(this.context).getInstance();return e={initialize:b,reset:c,handleNewMetric:d}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f),h=a(90),i=d(h);e.__dashjs_factory_name=\\\"HttpListHandler\\\",c.default=g.default.getClassFactory(e),b.exports=c.default},{10:10,90:90}],87:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(a,b){var c;try{c=e[a.schemeIdUri](f).create(),c.initialize(a,b)}catch(d){c=null,g(\\\"ReportingFactory: could not create Reporting with schemeIdUri \\\"+a.schemeIdUri+\\\" (\\\"+d.message+\\\")\\\")}return c}function c(a,b){e[a]=b}function d(a){delete e[a]}var e={\\\"urn:dvb:dash:reporting:2014\\\":i.default},f=this.context,g=a.log,h=void 0;return h={create:b,register:c,unregister:d}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f),h=a(88),i=d(h);e.__dashjs_factory_name=\\\"ReportingFactory\\\",c.default=g.default.getSingletonFactory(e),b.exports=c.default},{10:10,88:88}],88:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a,b,c){var d=new XMLHttpRequest,e=function(){var a=q.indexOf(d);a!==-1&&(q.splice(a,1),d.status>=200&&d.status<300?b&&b():c&&c())};q.push(d);try{d.open(\\\"GET\\\",a),d.onloadend=e,d.onerror=e,d.send()}catch(f){d.onerror()}}function b(b,c){Array.isArray(c)||(c=[c]),l&&o.isEnabled()&&c.forEach(function(c){var d=g.serialise(c);j&&\\\"DVBErrors\\\"!==b&&(d=\\\"metricname=\\\"+b+\\\"&\\\"+d),d=n+\\\"?\\\"+d,a(d,null,function(){l=!1})})}function c(a,b){var c;if(o=b,n=a[\\\"dvb:reportingUrl\\\"],!n)throw new Error(\\\"required parameter missing (dvb:reportingUrl)\\\");m||(c=a[\\\"dvb:probability\\\"]||a[\\\"dvb:priority\\\"]||0,c&&(1e3===c||c/1e3>=h.random())&&(l=!0),m=!0)}function d(){p||(q.forEach(function(a){return a.abort()}),q=[]),m=!1,l=!1,n=null,o=null}var e=void 0,f=this.context,g=(0,i.default)(f).getInstance(),h=(0,k.default)(f).getInstance(),j=!0,l=!1,m=!1,n=null,o=null,p=!0,q=[];return e={report:b,initialize:c,reset:d}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f),h=a(92),i=d(h),j=a(93),k=d(j);e.__dashjs_factory_name=\\\"DVBReporting\\\",c.default=g.default.getClassFactory(e),b.exports=c.default},{10:10,92:92,93:93}],89:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(a){var b=new g.default;if(r){for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);b.mpdurl||(b.mpdurl=r.originalUrl||r.url),b.terror||(b.terror=new Date),q.addDVBErrors(b)}}function c(a){a.error||(r=a.manifest)}function d(a){b({errorcode:g.default.BASE_URL_CHANGED,servicelocation:a.entry})}function e(){b({errorcode:g.default.BECAME_REPORTER})}function f(a){(0===a.responsecode||a.responsecode>=400||a.responsecode<100||a.responsecode>=600)&&b({errorcode:a.responsecode||g.default.CONNECTION_ERROR,url:a.url,terror:a.tresponse,servicelocation:a._serviceLocation})}function h(a){switch(a.metric){case\\\"HttpList\\\":f(a.value)}}function j(a){var c,d=a.error?a.error.code:0;switch(d){case MediaError.MEDIA_ERR_NETWORK:c=g.default.CONNECTION_ERROR;break;case MediaError.MEDIA_ERR_DECODE:c=g.default.CORRUPT_MEDIA_OTHER;break;default:return}b({errorcode:c})}function l(){p.on(i.default.MANIFEST_UPDATED,c,o),p.on(i.default.SERVICE_LOCATION_BLACKLIST_CHANGED,d,o),p.on(k.default.METRIC_ADDED,h,o),p.on(k.default.METRIC_UPDATED,h,o),p.on(k.default.PLAYBACK_ERROR,j,o),p.on(m.default.BECAME_REPORTING_PLAYER,e,o)}function n(){p.off(i.default.MANIFEST_UPDATED,c,o),p.off(i.default.SERVICE_LOCATION_BLACKLIST_CHANGED,d,o),p.off(k.default.METRIC_ADDED,h,o),p.off(k.default.METRIC_UPDATED,h,o),p.off(k.default.PLAYBACK_ERROR,j,o),p.off(m.default.BECAME_REPORTING_PLAYER,e,o)}var o=void 0,p=a.eventBus,q=a.metricsModel,r=void 0;return o={initialise:l,reset:n},l(),o}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(94),g=d(f),h=a(13),i=d(h),j=a(52),k=d(j),l=a(76),m=d(l),n=a(10),o=d(n);e.__dashjs_factory_name=\\\"DVBErrorsTranslator\\\",c.default=o.default.getSingletonFactory(e),b.exports=c.default},{10:10,13:13,52:52,76:76,94:94}],90:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){return{reconstructFullMetricName:function(a,b,c){var d=a;return b&&(d+=\\\"(\\\"+b,c&&c.length&&(d+=\\\",\\\"+c),d+=\\\")\\\"),d},validateN:function(a){if(!a)throw new Error(\\\"missing n\\\");if(isNaN(a))throw new Error(\\\"n is NaN\\\");if(a<0)throw new Error(\\\"n must be positive\\\");return a}}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f);e.__dashjs_factory_name=\\\"HandlerHelpers\\\",c.default=g.default.getSingletonFactory(e),b.exports=c.default},{10:10}],91:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(a,b,c){var d,f,g=e.getMpd(a),h=0;return b?h=g.availabilityStartTime.getTime()/1e3:(d=this.getRegularPeriods(a,g),d.length&&(h=d[0].start)),f=h,c&&c.hasOwnProperty(\\\"starttime\\\")&&(f+=c.starttime),f}function c(a){var c=[];return a.Metrics_asArray&&a.Metrics_asArray.forEach(function(d){var f=new g.default,h=e.getIsDynamic(a);d.hasOwnProperty(\\\"metrics\\\")&&(f.metrics=d.metrics,d.Range_asArray&&d.Range_asArray.forEach(function(c){var d=new i.default;d.starttime=b(a,h,c),c.hasOwnProperty(\\\"duration\\\")?d.duration=c.duration:d.duration=e.getDuration(a),d._useWallClockTime=h,f.Range.push(d)}),d.Reporting_asArray&&(d.Reporting_asArray.forEach(function(a){var b=new k.default;if(a.hasOwnProperty(\\\"schemeIdUri\\\")){b.schemeIdUri=a.schemeIdUri;for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);f.Reporting.push(b)}}),c.push(f)))}),c}var d=void 0,e=a.dashManifestModel;return d={getMetrics:c}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(95),g=d(f),h=a(96),i=d(h),j=a(97),k=d(j),l=a(10),m=d(l);e.__dashjs_factory_name=\\\"ManifestParsing\\\",c.default=m.default.getSingletonFactory(e),b.exports=c.default},{10:10,95:95,96:96,97:97}],92:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(b){var c,d,e=[],f=[];for(c in b)if(b.hasOwnProperty(c)&&0!==c.indexOf(\\\"_\\\")){if(d=b[c],void 0!==d&&null!==d||(d=\\\"\\\"),Array.isArray(d)){if(!d.length)continue;f=[],d.forEach(function(b){var c=\\\"Object\\\"!==Object.prototype.toString.call(b).slice(8,-1);f.push(c?b:a(b))}),d=encodeURIComponent(f.join(\\\",\\\"))}else\\\"string\\\"==typeof d?d=encodeURIComponent(d):d instanceof Date?d=d.toISOString():\\\"number\\\"==typeof d&&(d=Math.round(d));e.push(c+\\\"=\\\"+d)}return e.join(\\\"&\\\")}return{serialise:a}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f);e.__dashjs_factory_name=\\\"MetricSerialiser\\\",c.default=g.default.getSingletonFactory(e),b.exports=c.default},{10:10}],93:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){c&&(g||(g=new d(f)),c.getRandomValues(g),h=0)}function b(b,d){var f;return b||(b=0),d||(d=1),c?(h===g.length&&a(),f=g[h]/e,h+=1):f=Math.random(),f*(d-b)+b}var c=window.crypto||window.msCrypto,d=Uint32Array,e=Math.pow(2,8*d.BYTES_PER_ELEMENT)-1,f=10,g=void 0,h=void 0,i=void 0;return i={random:b},a(),i}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f);e.__dashjs_factory_name=\\\"RNG\\\",c.default=g.default.getSingletonFactory(e),b.exports=c.default},{10:10}],94:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){\\nd(this,a),this.mpdurl=null,this.errorcode=null,this.terror=null,this.url=null,this.ipaddress=null,this.servicelocation=null};e.SSL_CONNECTION_FAILED_PREFIX=\\\"SSL\\\",e.DNS_RESOLUTION_FAILED=\\\"C00\\\",e.HOST_UNREACHABLE=\\\"C01\\\",e.CONNECTION_REFUSED=\\\"C02\\\",e.CONNECTION_ERROR=\\\"C03\\\",e.CORRUPT_MEDIA_ISOBMFF=\\\"M00\\\",e.CORRUPT_MEDIA_OTHER=\\\"M01\\\",e.BASE_URL_CHANGED=\\\"F00\\\",e.BECAME_REPORTER=\\\"S00\\\",c.default=e,b.exports=c.default},{}],95:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){d(this,a),this.metrics=\\\"\\\",this.Range=[],this.Reporting=[]};c.default=e,b.exports=c.default},{}],96:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){d(this,a),this.starttime=0,this.duration=1/0,this._useWallClockTime=!1};c.default=e,b.exports=c.default},{}],97:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){d(this,a),this.schemeIdUri=\\\"\\\",this.value=\\\"\\\"};c.default=e,b.exports=c.default},{}],98:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}function f(){function a(){l=new n}function b(a,b,c){var d=p.getBaseURLsFromElement(c);a[b]?q.areSimpleEquivalent(d,a[b].data.baseUrls)||(a[b].data.baseUrls=d,a[b].data.selectedIdx=m):a[b]=new n(d)}function c(a){var c=p.getBaseURLsFromElement(a);q.areSimpleEquivalent(c,l.data.baseUrls)||(l.data.baseUrls=c,l.data.selectedIdx=m),a.Period_asArray&&a.Period_asArray.forEach(function(a,c){b(l.children,c,a),a.AdaptationSet_asArray&&a.AdaptationSet_asArray.forEach(function(a,d){b(l.children[c].children,d,a),a.Representation_asArray&&a.Representation_asArray.sort(p.getRepresentationSortFunction()).forEach(function(a,e){b(l.children[c].children[d].children,e,a)})})})}function d(a,b){var c=b||l;a(c.data),c.children&&c.children.forEach(function(b){return d(a,b)})}function e(a){d(function(b){isNaN(b.selectedIdx)||a===b.baseUrls[b.selectedIdx].serviceLocation&&(b.selectedIdx=m)})}function f(a){c(a)}function g(){l=new n}function i(a){var b=l,c=[b.data];return a.forEach(function(a){b=b.children[a],b&&c.push(b.data)}),c.filter(function(a){return a.baseUrls.length})}var k=void 0,l=void 0,o=this.context,p=(0,h.default)(o).getInstance(),q=(0,j.default)(o).getInstance();return k={reset:g,update:f,getForPath:i,invalidateSelectedIndexes:e},a(),k}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var g=a(22),h=d(g),i=a(155),j=d(i),k=a(10),l=d(k),m=NaN,n=function a(b,c){e(this,a),this.data={baseUrls:b||null,selectedIdx:c||m},this.children=[]};f.__dashjs_factory_name=\\\"BaseURLTreeModel\\\",c.default=l.default.getClassFactory(f),b.exports=c.default},{10:10,155:155,22:22}],99:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){D=null,G=null,E=[],F=[],A.on(i.default.LOADING_COMPLETED,w,C)}function c(a){G=a}function d(a){D=a}function e(){return D}function f(a){var b=function(a,b){return a.action===m.default.ACTION_COMPLETE&&a.action===b.action},c=function(a,b){return!isNaN(a.index)&&a.startTime===b.startTime&&a.adaptationIndex===b.adaptationIndex},d=function(a,b){return isNaN(a.index)&&isNaN(b.index)&&a.quality===b.quality},e=function(e){var f=!1;return e.some(function(e){if(c(a,e)||d(a,e)||b(a,e))return f=!0}),f};return e(E)}function h(a){var b=a.state instanceof Array?a.state:[a.state],c=[];return b.forEach(function(b){var d=u(b);c=c.concat(t(d,a))}),c}function j(a){E=E.filter(function(b){return isNaN(b.startTime)||b.startTime>=a})}function k(){G.abort(),F=[]}function l(a){switch(a.action){case m.default.ACTION_COMPLETE:E.push(a),v(a,q),A.trigger(i.default.STREAM_COMPLETED,{request:a,fragmentModel:this});break;case m.default.ACTION_DOWNLOAD:v(a,p),F.push(a),n(a);break;default:z(\\\"Unknown request action.\\\")}}function n(a){A.trigger(i.default.FRAGMENT_LOADING_STARTED,{sender:C,request:a}),G.load(a)}function r(a,b,c){for(var d=a.length-1,e=d;e>=0;e--){var f=a[e],g=f.startTime,h=g+f.duration;if(c=void 0!==c?c:f.duration/2,!isNaN(g)&&!isNaN(h)&&b+c>=g&&b-c<h||isNaN(g)&&isNaN(b))return f}return null}function t(a,b){return b.hasOwnProperty(\\\"time\\\")?[r(a,b.time,b.threshold)]:a.filter(function(a){for(var c in b)if(\\\"state\\\"!==c&&b.hasOwnProperty(c)&&a[c]!=b[c])return!1;return!0})}function u(a){var b=void 0;switch(a){case p:b=F;break;case q:b=E;break;default:b=[]}return b}function v(a,b){B.addSchedulingInfo(a.mediaType,new Date,a.type,a.startTime,a.availabilityStartTime,a.duration,a.quality,a.range,b),B.addRequestsQueue(a.mediaType,F,E)}function w(a){a.sender===G&&(F.splice(F.indexOf(a.request),1),a.response&&!a.error&&E.push(a.request),v(a.request,a.error?s:q),A.trigger(i.default.FRAGMENT_LOADING_COMPLETED,{request:a.request,response:a.response,error:a.error,sender:this}))}function x(){A.off(i.default.LOADING_COMPLETED,w,this),G&&(G.reset(),G=null),E=[],F=[]}var y=this.context,z=(0,o.default)(y).getInstance().log,A=(0,g.default)(y).getInstance(),B=a.metricsModel,C=void 0,D=void 0,E=void 0,F=void 0,G=void 0;return C={setLoader:c,setScheduleController:d,getScheduleController:e,getRequests:h,isFragmentLoaded:f,removeExecutedRequestsBeforeTime:j,abortRequests:k,executeRequest:l,reset:x},b(),C}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(9),g=d(f),h=a(13),i=d(h),j=a(10),k=d(j),l=a(163),m=d(l),n=a(8),o=d(n),p=\\\"loading\\\",q=\\\"executed\\\",r=\\\"canceled\\\",s=\\\"failed\\\";e.__dashjs_factory_name=\\\"FragmentModel\\\";var t=k.default.getClassFactory(e);t.FRAGMENT_MODEL_LOADING=p,t.FRAGMENT_MODEL_EXECUTED=q,t.FRAGMENT_MODEL_CANCELED=r,t.FRAGMENT_MODEL_FAILED=s,c.default=t,b.exports=c.default},{10:10,13:13,163:163,8:8,9:9}],100:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){return f}function b(a){f=a,a&&d.trigger(i.default.MANIFEST_LOADED,{data:a})}var c=this.context,d=(0,g.default)(c).getInstance(),e=void 0,f=void 0;return e={getValue:a,setValue:b}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(9),g=d(f),h=a(13),i=d(h),j=a(10),k=d(j);e.__dashjs_factory_name=\\\"ManifestModel\\\",c.default=k.default.getSingletonFactory(e),b.exports=c.default},{10:10,13:13,9:9}],101:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function f(){function a(){var a,b;ya=[],xa=!1,wa=!0,Ba=!0,Qa=!1,Sa=!1,Ea={enabled:!0,ttl:l},Fa={enabled:!0,ttl:m},za=k,Aa=void 0,Ca=p,Da=q,Ga=NaN,Ha=t,Ia=u,Ja=v,Ka=w,La=n,Ma=o,Pa=D,Ra=E,a={},e(a,i.HTTPRequest.MPD_TYPE,z),e(a,i.HTTPRequest.XLINK_EXPANSION_TYPE,B),e(a,i.HTTPRequest.MEDIA_SEGMENT_TYPE,x),e(a,i.HTTPRequest.INIT_SEGMENT_TYPE,x),e(a,i.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,x),e(a,i.HTTPRequest.INDEX_SEGMENT_TYPE,x),e(a,i.HTTPRequest.OTHER_TYPE,x),Na=a,b={},e(b,i.HTTPRequest.MPD_TYPE,A),e(b,i.HTTPRequest.XLINK_EXPANSION_TYPE,C),e(b,i.HTTPRequest.MEDIA_SEGMENT_TYPE,y),e(b,i.HTTPRequest.INIT_SEGMENT_TYPE,y),e(b,i.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,y),e(b,i.HTTPRequest.INDEX_SEGMENT_TYPE,y),e(b,i.HTTPRequest.OTHER_TYPE,y),Oa=b}function b(a){Qa=a}function c(){return Qa}function d(a){La=a}function f(){return La}function g(a){Ma=a}function h(){return Ma}function j(a){Ga=a}function F(){return isNaN(Ga)?Sa?s:r:Ga}function G(a){Ha=a}function H(){return Ha}function I(a){Ia=a}function J(){return Ia}function K(a){Ja=a}function L(){return Ja}function M(a){Ka=a}function N(){return Ka}function O(a){Ca=a}function P(){return Ca}function Q(a,b){Ea.enabled=a,void 0===b||isNaN(b)||\\\"number\\\"!=typeof b||(Ea.ttl=b)}function R(){return Ea}function S(a,b){Fa.enabled=a,void 0===b||isNaN(b)||\\\"number\\\"!=typeof b||(Fa.ttl=b)}function T(){return Fa}function U(a){Da=a}function V(){return Da}function W(a){Na[i.HTTPRequest.MEDIA_SEGMENT_TYPE]=a}function X(a,b){Na[a]=b}function Y(){return Na[i.HTTPRequest.MEDIA_SEGMENT_TYPE]}function Z(a){return Na[a]}function $(a){Oa[i.HTTPRequest.MEDIA_SEGMENT_TYPE]=a}function _(a,b){Oa[a]=b}function aa(){return Oa[i.HTTPRequest.MEDIA_SEGMENT_TYPE]}function ba(a){return Oa[a]}function ca(a){Pa=a}function da(){return Pa}function ea(a){Ba=a}function fa(){return Ba}function ga(a){za=a}function ha(a){Aa=a}function ia(){return za}function ja(){return Aa}function ka(a){wa=a}function la(){return wa}function ma(a){xa=a}function na(){return xa}function oa(a){ya=a}function pa(){return ya}function qa(a){Ra=!!a}function ra(){return Ra}function sa(){return Sa}function ta(a){Sa=a}function ua(){}var va=void 0,wa=void 0,xa=void 0,ya=void 0,za=void 0,Aa=void 0,Ba=void 0,Ca=void 0,Da=void 0,Ea=void 0,Fa=void 0,Ga=void 0,Ha=void 0,Ia=void 0,Ja=void 0,Ka=void 0,La=void 0,Ma=void 0,Na=void 0,Oa=void 0,Pa=void 0,Qa=void 0,Ra=void 0,Sa=void 0;return va={setBufferOccupancyABREnabled:b,getBufferOccupancyABREnabled:c,setBandwidthSafetyFactor:d,getBandwidthSafetyFactor:f,setAbandonLoadTimeout:g,getAbandonLoadTimeout:h,setLastBitrateCachingInfo:Q,getLastBitrateCachingInfo:R,setLastMediaSettingsCachingInfo:S,getLastMediaSettingsCachingInfo:T,setStableBufferTime:j,getStableBufferTime:F,setBufferTimeAtTopQuality:G,getBufferTimeAtTopQuality:H,setBufferTimeAtTopQualityLongForm:I,getBufferTimeAtTopQualityLongForm:J,setLongFormContentDurationThreshold:K,getLongFormContentDurationThreshold:L,setRichBufferThreshold:M,getRichBufferThreshold:N,setBufferToKeep:O,getBufferToKeep:P,setBufferPruningInterval:U,getBufferPruningInterval:V,setFragmentRetryAttempts:W,getFragmentRetryAttempts:Y,setRetryAttemptsForType:X,getRetryAttemptsForType:Z,setFragmentRetryInterval:$,getFragmentRetryInterval:aa,setRetryIntervalForType:_,getRetryIntervalForType:ba,setWallclockTimeUpdateInterval:ca,getWallclockTimeUpdateInterval:da,setScheduleWhilePaused:ea,getScheduleWhilePaused:fa,getUseSuggestedPresentationDelay:na,setUseSuggestedPresentationDelay:ma,setLiveDelayFragmentCount:ga,getLiveDelayFragmentCount:ia,getLiveDelay:ja,setLiveDelay:ha,setUseManifestDateHeaderTimeSource:ka,getUseManifestDateHeaderTimeSource:la,setUTCTimingSources:oa,getUTCTimingSources:pa,setXHRWithCredentials:qa,getXHRWithCredentials:ra,setFastSwitchEnabled:ta,getFastSwitchEnabled:sa,reset:ua},a(),va}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var g=a(10),h=d(g),i=a(179),j={scheme:\\\"urn:mpeg:dash:utc:http-xsdate:2014\\\",value:\\\"http://time.akamai.com/?iso\\\"},k=4,l=36e4,m=36e4,n=.9,o=1e4,p=30,q=30,r=12,s=20,t=30,u=60,v=600,w=20,x=3,y=1e3,z=3,A=500,B=1,C=500,D=50,E=!1;f.__dashjs_factory_name=\\\"MediaPlayerModel\\\";var F=h.default.getSingletonFactory(f);F.DEFAULT_UTC_TIMING_SOURCE=j,c.default=F,b.exports=c.default},{10:10,179:179}],102:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){T={}}function b(a){a&&a.adapter&&(S=a.adapter)}function c(){Q.trigger(C.default.METRICS_CHANGED)}function d(a){Q.trigger(C.default.METRIC_CHANGED,{mediaType:a}),c()}function e(a,b,c){Q.trigger(C.default.METRIC_UPDATED,{mediaType:a,metric:b,value:c}),d(a)}function f(a,b,c){Q.trigger(C.default.METRIC_ADDED,{mediaType:a,metric:b,value:c}),d(a)}function h(a){delete T[a],d(a)}function k(){T={},c()}function m(a){return T.hasOwnProperty(a)?T[a]:null}function o(a){var b;return T.hasOwnProperty(a)?b=T[a]:(b=new g.default,T[a]=b),b}function q(a,b,c,d,e,g){var h=new i.default;return h.tcpid=b,h.dest=c,h.topen=d,h.tclose=e,h.tconnect=g,o(a).TcpList.push(h),f(a,S.metricsList.TCP_CONNECTION,h),h}function s(a,b,c,d){var e=new j.HTTPRequestTrace;return e.s=b,e.d=c,e.b=d,a.trace.push(e),a.interval||(a.interval=0),a.interval+=c,e}function v(a,b,c,d,e,g,h,i,k,l,m,n,p,q){var r=new j.HTTPRequest;return e&&e!==d&&(v(a,null,c,d,null,null,h,i,null,null,null,n,null,null),r.actualurl=e),r.tcpid=b,r.type=c,r.url=d,r.range=h,r.trequest=i,r.tresponse=k,r.responsecode=m,r._tfinish=l,r._stream=a,r._mediaduration=n,r._responseHeaders=p,r._serviceLocation=g,q?q.forEach(function(a){s(r,a.s,a.d,a.b)}):(delete r.interval,delete r.trace),o(a).HttpList.push(r),f(a,S.metricsList.HTTP_REQUEST,r),r}function x(a,b,c,d,e){var g=new l.default;return g.t=b,g.mt=c,g.to=d,e?g.lto=e:delete g.lto,o(a).RepSwitchList.push(g),f(a,S.metricsList.TRACK_SWITCH,g),g}function z(a,b,c){var d=new n.default;return d.t=b,d.level=c,o(a).BufferLevel.push(d),f(a,S.metricsList.BUFFER_LEVEL,d),d}function B(a,b,c){var d=new p.default;return d.target=c,d.state=b,o(a).BufferState.push(d),f(a,S.metricsList.BUFFER_STATE,d),d}function D(a,b,c,d){var e=new r.default;return e.time=b,e.range=d,e.manifestInfo=c,o(a).DVRInfo.push(e),f(a,S.metricsList.DVR_INFO,e),e}function E(a,b){var c=new t.default,d=o(a).DroppedFrames;return c.time=b.creationTime,c.droppedFrames=b.droppedVideoFrames,d.length>0&&d[d.length-1]==c?d[d.length-1]:(d.push(c),f(a,S.metricsList.DROPPED_FRAMES,c),c)}function F(a,b,c,d,e,g,h,i,j){var k=new w.default;return k.mediaType=a,k.t=b,k.type=c,k.startTime=d,k.availabilityStartTime=e,k.duration=g,k.quality=h,k.range=i,k.state=j,o(a).SchedulingInfo.push(k),f(a,S.metricsList.SCHEDULING_INFO,k),k}function H(a,b,c){var d=new A.default;d.loadingRequests=b,d.executedRequests=c,o(a).RequestsQueue=d,f(a,S.metricsList.REQUESTS_QUEUE,d)}function I(a,b,c,d,e,g,h,i,j,k){var l=new u.ManifestUpdate,m=o(\\\"stream\\\");return l.mediaType=a,l.type=b,l.requestTime=c,l.fetchTime=d,l.availabilityStartTime=e,l.presentationStartTime=g,l.clientTimeOffset=h,l.currentTime=i,l.buffered=j,l.latency=k,m.ManifestUpdate.push(l),f(a,S.metricsList.MANIFEST_UPDATE,l),l}function J(a,b){if(a){for(var c in b)a[c]=b[c];e(a.mediaType,S.metricsList.MANIFEST_UPDATE,a)}}function K(a,b,c,d,f){if(a){var g=new u.ManifestUpdateStreamInfo;return g.id=b,g.index=c,g.start=d,g.duration=f,a.streamInfo.push(g),e(a.mediaType,S.metricsList.MANIFEST_UPDATE_STREAM_INFO,a),g}return null}function L(a,b,c,d,f,g,h,i){if(a){var j=new u.ManifestUpdateTrackInfo;return j.id=b,j.index=c,j.streamIndex=d,j.mediaType=f,j.startNumber=h,j.fragmentInfoType=i,j.presentationTimeOffset=g,a.trackInfo.push(j),e(a.mediaType,S.metricsList.MANIFEST_UPDATE_TRACK_INFO,a),j}return null}function M(a){var b=\\\"stream\\\";return a.trace&&Array.isArray(a.trace)?a.trace.forEach(function(a){a.hasOwnProperty(\\\"subreplevel\\\")&&!a.subreplevel&&delete a.subreplevel}):delete a.trace,o(b).PlayList.push(a),f(b,S.metricsList.PLAY_LIST,a),a}function N(a){var b=\\\"stream\\\";return o(b).DVBErrors.push(a),f(b,S.metricsList.DVB_ERRORS,a),a}function O(a,b){var c=new G.default;return c._s=b,o(a).BolaState=[c],f(a,\\\"BolaState\\\",c),c}var P=this.context,Q=(0,y.default)(P).getInstance(),R=void 0,S=void 0,T=void 0;return R={metricsChanged:c,metricChanged:d,metricUpdated:e,metricAdded:f,clearCurrentMetricsForType:h,clearAllCurrentMetrics:k,getReadOnlyMetricsFor:m,getMetricsFor:o,addTcpConnection:q,addHttpRequest:v,addRepresentationSwitch:x,addBufferLevel:z,addBufferState:B,addDVRInfo:D,addDroppedFrames:E,addSchedulingInfo:F,addRequestsQueue:H,addManifestUpdate:I,updateManifestUpdateInfo:J,addManifestUpdateStreamInfo:K,addManifestUpdateRepresentationInfo:L,addPlayList:M,addDVBErrors:N,updateBolaState:O,setConfig:b},a(),R}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(168),g=d(f),h=a(185),i=d(h),j=a(179),k=a(182),l=d(k),m=a(175),n=d(m),o=a(176),p=d(o),q=a(177),r=d(q),s=a(178),t=d(s),u=a(180),v=a(184),w=d(v),x=a(9),y=d(x),z=a(183),A=d(z),B=a(13),C=d(B),D=a(10),E=d(D),F=a(174),G=d(F);e.__dashjs_factory_name=\\\"MetricsModel\\\",c.default=E.default.getSingletonFactory(e),b.exports=c.default},{10:10,13:13,168:168,174:174,175:175,176:176,177:177,178:178,179:179,180:180,182:182,183:183,184:184,185:185,9:9}],103:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){h=new g.default,i=[],j=!1}function b(){return h}function c(){return i}function d(){return j}function e(a){function b(a,b,c,d){var e=d[0].split(/[=]/);return d.push({key:e[0],value:e[1]}),d.shift(),d}function c(a,b,c){return b>0&&(l&&0===i.length?i=c[b].split(/[&]/):m&&(e=c[b].split(/[&]/))),c}if(!a)return null;var d,e=[],f=new RegExp(/[?]/),g=new RegExp(/[#]/),k=new RegExp(/^(https:)?\\\\/\\\\//i),l=f.test(a),m=g.test(a);return j=k.test(a),d=a.split(/[?#]/).map(c),i.length>0&&(i=i.reduce(b,null)),e.length>0&&(e=e.reduce(b,null),e.forEach(function(a){h[a.key]=a.value})),a}var f=void 0,h=void 0,i=void 0,j=void 0;return f={initialize:a,parseURI:e,getURIFragmentData:b,getURIQueryData:c,isManifestHTTPS:d}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(173),g=d(f),h=a(10),i=d(h);e.__dashjs_factory_name=\\\"URIQueryAndFragmentModel\\\",c.default=i.default.getSingletonFactory(e),b.exports=c.default},{10:10,173:173}],104:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){v=[]}function b(a){!s||s.readyState<2||(s.playbackRate=a)}function c(a){if(s.currentTime!=a)try{s.currentTime=a}catch(b){0===s.readyState&&b.code===b.INVALID_STATE_ERR&&setTimeout(function(){s.currentTime=a},400)}}function d(){return s}function e(a){s=a,s.preload=\\\"auto\\\"}function f(a){a?s.src=a:(s.removeAttribute(\\\"src\\\"),s.load())}function g(){return s.src}function h(){return u}function i(a){u=a}function j(){return t}function k(a){t=a,t.style.position=\\\"absolute\\\",t.style.display=\\\"flex\\\",t.style.overflow=\\\"hidden\\\",t.style.pointerEvents=\\\"none\\\",t.style.top=0,t.style.left=0}function l(a,b){p(a,b)}function m(){return v.length>0}function n(a){var c=void 0;null===a||s.seeking||v.indexOf(a)!==-1||(v.push(a),1===v.length&&(c=document.createEvent(\\\"Event\\\"),c.initEvent(\\\"waiting\\\",!0,!1),w=s.playbackRate,b(0),s.dispatchEvent(c)))}function o(a){var c=v.indexOf(a),d=void 0;null!==a&&(c!==-1&&v.splice(c,1),m()===!1&&0===s.playbackRate&&(d=document.createEvent(\\\"Event\\\"),d.initEvent(\\\"playing\\\",!0,!1),b(w||1),s.dispatchEvent(d)))}function p(a,b){b?n(a):o(a)}function q(){var a=\\\"webkitDroppedFrameCount\\\"in s,b=\\\"getVideoPlaybackQuality\\\"in s,c=null;return b?c=s.getVideoPlaybackQuality():a&&(c={droppedVideoFrames:s.webkitDroppedFrameCount,creationTime:new Date}),c}var r=void 0,s=void 0,t=void 0,u=void 0,v=void 0,w=void 0;return r={initialize:a,setCurrentTime:c,setStallState:l,getElement:d,setElement:e,setSource:f,getSource:g,getVideoContainer:h,setVideoContainer:i,getTTMLRenderingDiv:j,setTTMLRenderingDiv:k,getPlaybackQuality:q}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f);e.__dashjs_factory_name=\\\"VideoModel\\\",c.default=g.default.getSingletonFactory(e),b.exports=c.default},{10:10}],105:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,\\\"value\\\"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=a(1),h=d(g),i=function(){function a(){e(this,a)}return f(a,null,[{key:\\\"findCencContentProtection\\\",value:function(a){for(var b=null,c=0;c<a.length;++c){var d=a[c];\\\"urn:mpeg:dash:mp4protection:2011\\\"===d.schemeIdUri.toLowerCase()&&\\\"cenc\\\"===d.value.toLowerCase()&&(b=d)}return b}},{key:\\\"getPSSHData\\\",value:function(a){var b=8,c=new DataView(a),d=c.getUint8(b);return b+=20,d>0&&(b+=4+16*c.getUint32(b)),b+=4,a.slice(b)}},{key:\\\"getPSSHForKeySystem\\\",value:function(b,c){var d=a.parsePSSHList(c);return d.hasOwnProperty(b.uuid.toLowerCase())?d[b.uuid.toLowerCase()]:null}},{key:\\\"parseInitDataFromContentProtection\\\",value:function(a){return\\\"pssh\\\"in a?h.default.decodeArray(a.pssh.__text).buffer:null}},{key:\\\"parsePSSHList\\\",value:function(a){if(null===a)return[];for(var b=new DataView(a),c=!1,d={},e=0;!c;){var f,g,h,i,j,k=e;if(e>=b.buffer.byteLength)break;if(f=b.getUint32(e),g=e+f,e+=4,1886614376===b.getUint32(e))if(e+=4,h=b.getUint8(e),0===h||1===h){e++,e+=3,i=\\\"\\\";var l,m;for(l=0;l<4;l++)m=b.getUint8(e+l).toString(16),i+=1===m.length?\\\"0\\\"+m:m;for(e+=4,i+=\\\"-\\\",l=0;l<2;l++)m=b.getUint8(e+l).toString(16),i+=1===m.length?\\\"0\\\"+m:m;for(e+=2,i+=\\\"-\\\",l=0;l<2;l++)m=b.getUint8(e+l).toString(16),i+=1===m.length?\\\"0\\\"+m:m;for(e+=2,i+=\\\"-\\\",l=0;l<2;l++)m=b.getUint8(e+l).toString(16),i+=1===m.length?\\\"0\\\"+m:m;for(e+=2,i+=\\\"-\\\",l=0;l<6;l++)m=b.getUint8(e+l).toString(16),i+=1===m.length?\\\"0\\\"+m:m;e+=6,i=i.toLowerCase(),j=b.getUint32(e),e+=4,d[i]=b.buffer.slice(k,g),e=g}else e=g;else e=g}return d}}]),a}();c.default=i,b.exports=c.default},{1:1}],106:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a){var c=null,d=(0,i.default)(e).getInstance();d.setConfig({log:a.log}),d.initialize();var f=b(a);return!c&&f&&(c=(0,g.default)(e).create({protectionModel:f,protectionKeyController:d,adapter:a.adapter,eventBus:a.eventBus,log:a.log}),a.capabilities.setEncryptedMediaSupported(!0)),c}function b(a){var b=a.log,d=a.eventBus,f=a.videoModel.getElement();return void 0!==f.onencrypted&&void 0!==f.mediaKeys&&void 0!==navigator.requestMediaKeySystemAccess&&\\\"function\\\"==typeof navigator.requestMediaKeySystemAccess?(b(\\\"EME detected on this user agent! (ProtectionModel_21Jan2015)\\\"),(0,m.default)(e).create({log:b,eventBus:d})):c(f,u)?(b(\\\"EME detected on this user agent! (ProtectionModel_3Feb2014)\\\"),(0,o.default)(e).create({log:b,eventBus:d,api:c(f,u)})):c(f,t)?(b(\\\"EME detected on this user agent! (ProtectionModel_01b)\\\"),(0,q.default)(e).create({log:b,eventBus:d,api:c(f,t)})):(b(\\\"No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!\\\"),null)}function c(a,b){for(var c=0;c<b.length;c++){var d=b[c];if(\\\"function\\\"==typeof a[d[Object.keys(d)[0]]])return d}return null}var d=void 0,e=this.context;return d={createProtectionSystem:a}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(108),g=d(f),h=a(109),i=d(h),j=a(107),k=d(j),l=a(114),m=d(l),n=a(115),o=d(n),p=a(113),q=d(p),r=a(10),s=d(r),t=[{generateKeyRequest:\\\"generateKeyRequest\\\",addKey:\\\"addKey\\\",cancelKeyRequest:\\\"cancelKeyRequest\\\",needkey:\\\"needkey\\\",keyerror:\\\"keyerror\\\",keyadded:\\\"keyadded\\\",keymessage:\\\"keymessage\\\"},{generateKeyRequest:\\\"webkitGenerateKeyRequest\\\",addKey:\\\"webkitAddKey\\\",cancelKeyRequest:\\\"webkitCancelKeyRequest\\\",needkey:\\\"webkitneedkey\\\",keyerror:\\\"webkitkeyerror\\\",keyadded:\\\"webkitkeyadded\\\",keymessage:\\\"webkitkeymessage\\\"}],u=[{setMediaKeys:\\\"setMediaKeys\\\",MediaKeys:\\\"MediaKeys\\\",release:\\\"close\\\",needkey:\\\"needkey\\\",error:\\\"keyerror\\\",message:\\\"keymessage\\\",ready:\\\"keyadded\\\",close:\\\"keyclose\\\"},{setMediaKeys:\\\"msSetMediaKeys\\\",MediaKeys:\\\"MSMediaKeys\\\",release:\\\"close\\\",needkey:\\\"msneedkey\\\",error:\\\"mskeyerror\\\",message:\\\"mskeymessage\\\",ready:\\\"mskeyadded\\\",close:\\\"mskeyclose\\\"}];e.__dashjs_factory_name=\\\"Protection\\\";var v=s.default.getClassFactory(e);v.events=k.default,c.default=v,b.exports=c.default},{10:10,107:107,108:108,109:109,113:113,114:114,115:115}],107:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}function f(a,b){if(\\\"function\\\"!=typeof b&&null!==b)throw new TypeError(\\\"Super expression must either be null or a function, not \\\"+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var g=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if(\\\"value\\\"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}},h=a(14),i=d(h),j=function(a){function b(){e(this,b),g(Object.getPrototypeOf(b.prototype),\\\"constructor\\\",this).call(this),this.INTERNAL_KEY_MESSAGE=\\\"internalKeyMessage\\\",this.INTERNAL_KEY_SYSTEM_SELECTED=\\\"internalKeySystemSelected\\\",this.KEY_ADDED=\\\"public_keyAdded\\\",this.KEY_ERROR=\\\"public_keyError\\\",this.KEY_MESSAGE=\\\"public_keyMessage\\\",this.KEY_SESSION_CLOSED=\\\"public_keySessionClosed\\\",this.KEY_SESSION_CREATED=\\\"public_keySessionCreated\\\",this.KEY_SESSION_REMOVED=\\\"public_keySessionRemoved\\\",this.KEY_STATUSES_CHANGED=\\\"public_keyStatusesChanged\\\",this.KEY_SYSTEM_ACCESS_COMPLETE=\\\"keySystemAccessComplete\\\",this.KEY_SYSTEM_SELECTED=\\\"public_keySystemSelected\\\",this.LICENSE_REQUEST_COMPLETE=\\\"public_licenseRequestComplete\\\",this.NEED_KEY=\\\"needkey\\\",this.PROTECTION_CREATED=\\\"public_protectioncreated\\\",this.PROTECTION_DESTROYED=\\\"public_protectiondestroyed\\\",this.SERVER_CERTIFICATE_UPDATED=\\\"serverCertificateUpdated\\\",this.TEARDOWN_COMPLETE=\\\"protectionTeardownComplete\\\",this.VIDEO_ELEMENT_SELECTED=\\\"videoElementSelected\\\"}return f(b,a),b}(i.default),k=new j;c.default=k,b.exports=c.default},{14:14}],108:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){D=x.getKeySystems(),E=[],I=!1,J=\\\"temporary\\\",K=\\\"\\\",i.default.extend(q.default.events)}function c(a,b,c){if(!I){var d;b||c||(d=z.getStreamsInfo(a)[0]),F=b||(d?z.getMediaInfoForType(a,d,\\\"audio\\\"):null),G=c||(d?z.getMediaInfoForType(a,d,\\\"video\\\"):null);var e=G?G:F,f=x.getSupportedKeySystemsFromContentProtection(e.contentProtection);f&&f.length>0&&t(f,!0),I=!0}}function d(a){var b=g.default.getPSSHForKeySystem(L,a);if(b){for(var c=y.getAllInitData(),d=0;d<c.length;d++)if(x.initDataEquals(b,c[d]))return void B(\\\"DRM: Ignoring initData because we have already seen it!\\\");try{y.createKeySession(b,J)}catch(e){A.trigger(i.default.KEY_SESSION_CREATED,{data:null,error:\\\"Error creating key session! \\\"+e.message})}}else A.trigger(i.default.KEY_SESSION_CREATED,{data:null,error:\\\"Selected key system is \\\"+L.systemString+\\\".  needkey/encrypted event contains no initData corresponding to that key system!\\\"})}function e(a){y.loadKeySession(a)}function f(a){y.removeKeySession(a)}function h(a){y.closeKeySession(a)}function j(a){y.setServerCertificate(a)}function l(a){a?(y.setMediaElement(a),A.on(i.default.NEED_KEY,w,this),A.on(i.default.INTERNAL_KEY_MESSAGE,v,this)):null===a&&(y.setMediaElement(a),A.off(i.default.NEED_KEY,w,this),A.off(i.default.INTERNAL_KEY_MESSAGE,v,this))}function n(a){J=a}function o(a){K=a}function p(a){H=a}function r(){l(null),L=void 0,y&&(y.reset(),y=null)}function s(a){var b=null,c=a.systemString;return H&&(b=c in H?H[c]:null),b}function t(a,b){var c=this,e=[],f=[];G&&f.push(new k.default(G.codec,K)),F&&e.push(new k.default(F.codec,K));var g,h=new m.default(e,f,\\\"optional\\\",\\\"temporary\\\"===J?\\\"optional\\\":\\\"required\\\",[J]),j=[];if(L){for(g=0;g<a.length;g++)if(L===a[g].ks){var l=function(){j.push({ks:a[g].ks,configs:[h]});var e=function e(f){A.off(i.default.KEY_SYSTEM_ACCESS_COMPLETE,e,c),f.error?b||A.trigger(i.default.KEY_SYSTEM_SELECTED,{error:\\\"DRM: KeySystem Access Denied! -- \\\"+f.error}):(B(\\\"DRM: KeySystem Access Granted\\\"),A.trigger(i.default.KEY_SYSTEM_SELECTED,{data:f.data}),d(a[g].initData))};return A.on(i.default.KEY_SYSTEM_ACCESS_COMPLETE,e,c),y.requestKeySystemAccess(j),\\\"break\\\"}();if(\\\"break\\\"===l)break}}else if(void 0===L){L=null,E.push(a);for(var n=0;n<a.length;n++)j.push({ks:a[n].ks,configs:[h]});var o,p=function a(d){A.off(i.default.KEY_SYSTEM_ACCESS_COMPLETE,a,c),d.error?(L=void 0,A.off(i.default.INTERNAL_KEY_SYSTEM_SELECTED,q,c),b||A.trigger(i.default.KEY_SYSTEM_SELECTED,{data:null,error:\\\"DRM: KeySystem Access Denied! -- \\\"+d.error})):(o=d.data,B(\\\"DRM: KeySystem Access Granted (\\\"+o.keySystem.systemString+\\\")!  Selecting key system...\\\"),y.selectKeySystem(o))},q=function a(e){if(A.off(i.default.INTERNAL_KEY_SYSTEM_SELECTED,a,c),A.off(i.default.KEY_SYSTEM_ACCESS_COMPLETE,p,c),e.error)L=void 0,b||A.trigger(i.default.KEY_SYSTEM_SELECTED,{data:null,error:\\\"DRM: Error selecting key system! -- \\\"+e.error});else{L=y.getKeySystem(),A.trigger(i.default.KEY_SYSTEM_SELECTED,{data:o});for(var f=0;f<E.length;f++)for(g=0;g<E[f].length;g++)if(L===E[f][g].ks){d(E[f][g].initData);break}}};A.on(i.default.INTERNAL_KEY_SYSTEM_SELECTED,q,c),A.on(i.default.KEY_SYSTEM_ACCESS_COMPLETE,p,c),y.requestKeySystemAccess(j)}else E.push(a)}function u(a,b){A.trigger(i.default.LICENSE_REQUEST_COMPLETE,{data:a,error:b})}function v(a){if(B(\\\"DRM: onKeyMessage\\\"),a.error)return void B(a.error);var b=a.data;A.trigger(i.default.KEY_MESSAGE,{data:b});var c=b.messageType?b.messageType:\\\"license-request\\\",d=b.message,e=b.sessionToken,f=s(L),h=L.systemString,j=x.getLicenseServer(L,f,c),k={sessionToken:e,messageType:c};if(!j)return B(\\\"DRM: License server request not required for this message (type = \\\"+a.data.messageType+\\\").  Session ID = \\\"+e.getSessionID()),void u(k);if(x.isClearKey(L)){var l=x.processClearKeyLicenseRequest(f,d);if(l)return B(\\\"DRM: ClearKey license request handled by application!\\\"),u(k),void y.updateKeySession(e,l)}var m=new XMLHttpRequest,n=null;if(f)if(f.serverURL){var o=f.serverURL;\\\"string\\\"==typeof o&&\\\"\\\"!==o?n=o:\\\"object\\\"==typeof o&&o.hasOwnProperty(c)&&(n=o[c])}else f.laURL&&\\\"\\\"!==f.laURL&&(n=f.laURL);else n=L.getLicenseServerURLFromInitData(g.default.getPSSHData(e.initData)),n||(n=a.data.laURL);if(n=j.getServerURLFromMessage(n,d,c),!n)return void u(k,\\\"DRM: No license server URL specified!\\\");m.open(j.getHTTPMethod(c),n,!0),m.responseType=j.getResponseType(h,c),m.onload=function(){200==this.status?(u(k),y.updateKeySession(e,j.getLicenseMessage(this.response,h,c))):u(k,\\\"DRM: \\\"+h+' update, XHR status is \\\"'+this.statusText+'\\\" ('+this.status+\\\"), expected to be 200. readyState is \\\"+this.readyState+\\\".  Response is \\\"+(this.response?j.getErrorResponse(this.response,h,c):\\\"NONE\\\"))},m.onabort=function(){u(k,\\\"DRM: \\\"+h+' update, XHR aborted. status is \\\"'+this.statusText+'\\\" ('+this.status+\\\"), readyState is \\\"+this.readyState)},m.onerror=function(){u(k,\\\"DRM: \\\"+h+' update, XHR error. status is \\\"'+this.statusText+'\\\" ('+this.status+\\\"), readyState is \\\"+this.readyState)};var p=function(a){var b;if(a)for(b in a)\\\"authorization\\\"===b.toLowerCase()&&(m.withCredentials=!0),m.setRequestHeader(b,a[b])};f&&p(f.httpRequestHeaders),p(L.getRequestHeadersFromMessage(d)),f&&f.withCredentials&&(m.withCredentials=!0),m.send(L.getLicenseRequestFromMessage(d))}function w(a){if(B(\\\"DRM: onNeedKey\\\"),\\\"cenc\\\"!==a.key.initDataType)return void B(\\\"DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: \\\"+a.key.initDataType);var b=a.key.initData;ArrayBuffer.isView(b)&&(b=b.buffer),B(\\\"DRM: initData:\\\",String.fromCharCode.apply(null,new Uint8Array(b)));var c=x.getSupportedKeySystems(b,H);return 0===c.length?void B(\\\"DRM: Received needkey event with initData, but we don't support any of the key systems!\\\"):void t(c,!1)}var x=a.protectionKeyController,y=a.protectionModel,z=a.adapter,A=a.eventBus,B=a.log,C=void 0,D=void 0,E=void 0,F=void 0,G=void 0,H=void 0,I=void 0,J=void 0,K=void 0,L=void 0;return C={initialize:c,createKeySession:d,loadKeySession:e,removeKeySession:f,closeKeySession:h,setServerCertificate:j,setMediaElement:l,setSessionType:n,setRobustnessLevel:o,setProtectionData:p,reset:r},b(),C}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(105),g=d(f),h=a(13),i=d(h),j=a(126),k=d(j),l=a(125),m=d(l),n=a(10),o=d(n),p=a(106),q=d(p);e.__dashjs_factory_name=\\\"ProtectionController\\\",c.default=o.default.getClassFactory(e),b.exports=c.default},{10:10,105:105,106:106,125:125,126:126,13:13}],109:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a){a&&a.log&&(t=a.log)}function b(){v=[];var a;a=(0,m.default)(p).getInstance(),v.push(a),a=(0,k.default)(p).getInstance(),v.push(a),a=(0,i.default)(p).getInstance(),v.push(a),w=a}function c(){return v}function d(a){for(var b=0;b<v.length;b++)if(v[b].systemString===a)return v[b];return null}function e(a){return a===w}function f(a,b){if(a.byteLength===b.byteLength){for(var c=new Uint8Array(a),d=new Uint8Array(b),e=0;e<c.length;e++)if(c[e]!==d[e])return!1;return!0}return!1}function h(a){\\nvar b,c,d,e,f=[];if(a)for(d=0;d<v.length;++d)for(c=v[d],e=0;e<a.length;++e)if(b=a[e],b.schemeIdUri.toLowerCase()===c.schemeIdURI){var g=c.getInitData(b);g&&f.push({ks:v[d],initData:g})}return f}function j(a,b){var c,d=[],e=g.default.parsePSSHList(a);for(c=0;c<v.length;++c){var f=v[c].systemString,h=!b||f in b;v[c].uuid in e&&h&&d.push({ks:v[c],initData:e[v[c].uuid]})}return d}function l(a,b,c){if(\\\"license-release\\\"===c||\\\"individualization-request\\\"===c)return null;var d=null;return b&&b.hasOwnProperty(\\\"drmtoday\\\")?d=(0,o.default)(p).getInstance():\\\"com.widevine.alpha\\\"===a.systemString?d=(0,s.default)(p).getInstance():\\\"com.microsoft.playready\\\"===a.systemString?d=(0,q.default)(p).getInstance():\\\"org.w3.clearkey\\\"===a.systemString&&(d=(0,u.default)(p).getInstance()),d}function n(a,b){try{return w.getClearKeysFromProtectionData(a,b)}catch(c){return t(\\\"Failed to retrieve clearkeys from ProtectionData\\\"),null}}var p=this.context,r=void 0,t=void 0,v=void 0,w=void 0;return r={initialize:b,isClearKey:e,initDataEquals:f,getKeySystems:c,getKeySystemBySystemString:d,getSupportedKeySystemsFromContentProtection:h,getSupportedKeySystems:j,getLicenseServer:l,processClearKeyLicenseRequest:n,setConfig:a}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(105),g=d(f),h=a(110),i=d(h),j=a(112),k=d(j),l=a(111),m=d(l),n=a(117),o=d(n),p=a(118),q=d(p),r=a(119),s=d(r),t=a(116),u=d(t),v=a(10),w=d(v);e.__dashjs_factory_name=\\\"ProtectionKeyController\\\",c.default=w.default.getSingletonFactory(e),b.exports=c.default},{10:10,105:105,110:110,111:111,112:112,116:116,117:117,118:118,119:119}],110:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a,b){var c=null;if(a){for(var d=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(b))),e=[],f=0;f<d.kids.length;f++){var h=d.kids[f],j=a.clearkeys.hasOwnProperty(h)?a.clearkeys[h]:null;if(!j)throw new Error(\\\"DRM: ClearKey keyID (\\\"+h+\\\") is not known!\\\");e.push(new g.default(h,j))}c=new i.default(e)}return c}function b(a){return k.default.parseInitDataFromContentProtection(a)}function c(){return null}function d(a){return new Uint8Array(a)}function e(){return null}var f=void 0;return f={uuid:n,schemeIdURI:p,systemString:o,getInitData:b,getRequestHeadersFromMessage:c,getLicenseRequestFromMessage:d,getLicenseServerURLFromInitData:e,getClearKeysFromProtectionData:a}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(123),g=d(f),h=a(120),i=d(h),j=a(105),k=d(j),l=a(10),m=d(l),n=\\\"1077efec-c0b2-4d02-ace3-3c1e52e2fb4b\\\",o=\\\"org.w3.clearkey\\\",p=\\\"urn:uuid:\\\"+n;e.__dashjs_factory_name=\\\"KeySystemClearKey\\\",c.default=m.default.getSingletonFactory(e),b.exports=c.default},{10:10,105:105,120:120,123:123}],111:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a){var b,c,d={},e=new DOMParser,f=\\\"utf16\\\"===h?new Uint16Array(a):new Uint8Array(a);b=String.fromCharCode.apply(null,f),c=e.parseFromString(b,\\\"application/xml\\\");for(var g=c.getElementsByTagName(\\\"name\\\"),i=c.getElementsByTagName(\\\"value\\\"),j=0;j<g.length;j++)d[g[j].childNodes[0].nodeValue]=i[j].childNodes[0].nodeValue;return d.hasOwnProperty(\\\"Content\\\")&&(d[\\\"Content-Type\\\"]=d.Content,delete d.Content),d}function b(a){var b,c,d=null,e=new DOMParser,f=\\\"utf16\\\"===h?new Uint16Array(a):new Uint8Array(a);if(b=String.fromCharCode.apply(null,f),c=e.parseFromString(b,\\\"application/xml\\\"),c.getElementsByTagName(\\\"Challenge\\\")[0]){var g=c.getElementsByTagName(\\\"Challenge\\\")[0].childNodes[0].nodeValue;g&&(d=m.default.decode(g))}return d}function c(a){if(a)for(var b=new DataView(a),c=b.getUint16(4,!0),d=6,e=new DOMParser,f=0;f<c;f++){var g=b.getUint16(d,!0);d+=2;var h=b.getUint16(d,!0);if(d+=2,1===g){var i=a.slice(d,d+h),j=String.fromCharCode.apply(null,new Uint16Array(i)),k=e.parseFromString(j,\\\"application/xml\\\");if(k.getElementsByTagName(\\\"LA_URL\\\")[0]){var l=k.getElementsByTagName(\\\"LA_URL\\\")[0].childNodes[0].nodeValue;if(l)return l}if(k.getElementsByTagName(\\\"LUI_URL\\\")[0]){var m=k.getElementsByTagName(\\\"LUI_URL\\\")[0].childNodes[0].nodeValue;if(m)return m}}else d+=h}return null}function d(a){var b,c,d,e,f,h=new Uint8Array([112,115,115,104,0,0,0,0]),i=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),j=0,k=null;if(\\\"pssh\\\"in a)return g.default.parseInitDataFromContentProtection(a);if(\\\"pro\\\"in a)k=m.default.decodeArray(a.pro.__text);else{if(!(\\\"prheader\\\"in a))return null;k=m.default.decodeArray(a.prheader.__text)}return b=k.length,c=4+h.length+i.length+4+b,d=new ArrayBuffer(c),e=new Uint8Array(d),f=new DataView(d),f.setUint32(j,c),j+=4,e.set(h,j),j+=h.length,e.set(i,j),j+=i.length,f.setUint32(j,b),j+=4,e.set(k,j),j+=b,e.buffer}function e(a){if(\\\"utf8\\\"!==a&&\\\"utf16\\\"!==a)throw new i.default(\\\"Illegal PlayReady message format! -- \\\"+a);h=a}var f=void 0,h=\\\"utf16\\\";return f={uuid:n,schemeIdURI:p,systemString:o,getInitData:d,getRequestHeadersFromMessage:a,getLicenseRequestFromMessage:b,getLicenseServerURLFromInitData:c,setPlayReadyMessageFormat:e}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(105),g=d(f),h=a(162),i=d(h),j=a(10),k=d(j),l=a(1),m=d(l),n=\\\"9a04f079-9840-4286-ab92-e65be0885f95\\\",o=\\\"com.microsoft.playready\\\",p=\\\"urn:uuid:\\\"+n;e.__dashjs_factory_name=\\\"KeySystemPlayReady\\\",c.default=k.default.getSingletonFactory(e),b.exports=c.default},{1:1,10:10,105:105,162:162}],112:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a){return g.default.parseInitDataFromContentProtection(a)}function b(){return null}function c(a){return new Uint8Array(a)}function d(){return null}var e=void 0;return e={uuid:j,schemeIdURI:l,systemString:k,getInitData:a,getRequestHeadersFromMessage:b,getLicenseRequestFromMessage:c,getLicenseServerURLFromInitData:d}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(105),g=d(f),h=a(10),i=d(h),j=\\\"edef8ba9-79d6-4ace-a3c8-27dcd51d21ed\\\",k=\\\"com.widevine.alpha\\\",l=\\\"urn:uuid:\\\"+j;e.__dashjs_factory_name=\\\"KeySystemWidevine\\\",c.default=i.default.getSingletonFactory(e),b.exports=c.default},{10:10,105:105}],113:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){E=null,F=null,I=[],J=[],G=(0,g.default)(z).getInstance(),H=(0,u.default)(z).getInstance(),L=w()}function c(){E&&y();for(var a=0;a<J.length;a++)p(J[a]);A.trigger(s.default.TEARDOWN_COMPLETE)}function d(){return F}function e(){for(var a=[],b=0;b<I.length;b++)a.push(I[b].initData);for(var b=0;b<J.length;b++)a.push(J[b].initData);return a}function f(a){var b=E;b||(b=document.createElement(\\\"video\\\"));for(var c=!1,d=0;d<a.length;d++)for(var e=a[d].ks.systemString,f=a[d].configs,g=null,h=null,i=0;i<f.length;i++){var j=f[i].videoCapabilities;if(j&&0!==j.length){h=[];for(var k=0;k<j.length;k++)\\\"\\\"!==b.canPlayType(j[k].contentType,e)&&h.push(j[k])}if(!(!g&&!h||g&&0===g.length||h&&0===h.length)){c=!0;var l=new o.default(g,h),m=G.getKeySystemBySystemString(e);A.trigger(s.default.KEY_SYSTEM_ACCESS_COMPLETE,{data:new q.default(m,l)});break}}c||A.trigger(s.default.KEY_SYSTEM_ACCESS_COMPLETE,{error:\\\"Key system access denied! -- No valid audio/video content configurations detected!\\\"})}function h(a){F=a.keySystem,A.trigger(s.default.INTERNAL_KEY_SYSTEM_SELECTED)}function j(a){E!==a&&(E&&y(),E=a,E&&(E.addEventListener(C.keyerror,L),E.addEventListener(C.needkey,L),E.addEventListener(C.keymessage,L),E.addEventListener(C.keyadded,L),A.trigger(s.default.VIDEO_ELEMENT_SELECTED)))}function l(a){if(!F)throw new Error(\\\"Can not create sessions until you have selected a key system\\\");if(K||0===J.length){var b={sessionID:null,initData:a,getSessionID:function(){return this.sessionID},getExpirationTime:function(){return NaN},getSessionType:function(){return\\\"temporary\\\"}};return I.push(b),E[C.generateKeyRequest](F.systemString,new Uint8Array(a)),b}throw new Error(\\\"Multiple sessions not allowed!\\\")}function n(a,b){var c=a.sessionID;if(G.isClearKey(F))for(var d=0;d<b.keyPairs.length;d++)E[C.addKey](F.systemString,b.keyPairs[d].key,b.keyPairs[d].keyID,c);else E[C.addKey](F.systemString,new Uint8Array(b),a.initData,c)}function p(a){E[C.cancelKeyRequest](F.systemString,a.sessionID)}function r(){}function t(){}function v(){}function w(){return{handleEvent:function(a){var b=null;switch(a.type){case C.needkey:var c=ArrayBuffer.isView(a.initData)?a.initData.buffer:a.initData;A.trigger(s.default.NEED_KEY,{key:new i.default(c,\\\"cenc\\\")});break;case C.keyerror:if(b=x(J,a.sessionId),b||(b=x(I,a.sessionId)),b){var d=\\\"\\\";switch(a.errorCode.code){case 1:d+=\\\"MEDIA_KEYERR_UNKNOWN - An unspecified error occurred. This value is used for errors that don't match any of the other codes.\\\";break;case 2:d+=\\\"MEDIA_KEYERR_CLIENT - The Key System could not be installed or updated.\\\";break;case 3:d+=\\\"MEDIA_KEYERR_SERVICE - The message passed into update indicated an error from the license service.\\\";break;case 4:d+=\\\"MEDIA_KEYERR_OUTPUT - There is no available output device with the required characteristics for the content protection system.\\\";break;case 5:d+=\\\"MEDIA_KEYERR_HARDWARECHANGE - A hardware configuration change caused a content protection error.\\\";break;case 6:d+=\\\"MEDIA_KEYERR_DOMAIN - An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain.\\\"}d+=\\\"  System Code = \\\"+a.systemCode,A.trigger(s.default.KEY_ERROR,{data:new k.default(b,d)})}else B(\\\"No session token found for key error\\\");break;case C.keyadded:b=x(J,a.sessionId),b||(b=x(I,a.sessionId)),b?(B(\\\"DRM: Key added.\\\"),A.trigger(s.default.KEY_ADDED,{data:b})):B(\\\"No session token found for key added\\\");break;case C.keymessage:if(K=null!==a.sessionId&&void 0!==a.sessionId,K?(b=x(J,a.sessionId),!b&&I.length>0&&(b=I.shift(),J.push(b),b.sessionID=a.sessionId)):I.length>0&&(b=I.shift(),J.push(b),0!==I.length&&H.mediaKeyMessageError(\\\"Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!\\\")),b){var e=ArrayBuffer.isView(a.message)?a.message.buffer:a.message;b.keyMessage=e,A.trigger(s.default.INTERNAL_KEY_MESSAGE,{data:new m.default(b,e,a.defaultURL)})}else B(\\\"No session token found for key message\\\")}}}}function x(a,b){if(b&&a){for(var c=a.length,d=0;d<c;d++)if(a[d].sessionID==b)return a[d];return null}return null}function y(){E.removeEventListener(C.keyerror,L),E.removeEventListener(C.needkey,L),E.removeEventListener(C.keymessage,L),E.removeEventListener(C.keyadded,L)}var z=this.context,A=a.eventBus,B=a.log,C=a.api,D=void 0,E=void 0,F=void 0,G=void 0,H=void 0,I=void 0,J=void 0,K=void 0,L=void 0;return D={getAllInitData:e,requestKeySystemAccess:f,getKeySystem:d,selectKeySystem:h,setMediaElement:j,createKeySession:l,updateKeySession:n,closeKeySession:p,setServerCertificate:r,loadKeySession:t,removeKeySession:v,reset:c},b(),D}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(109),g=d(f),h=a(127),i=d(h),j=a(121),k=d(j),l=a(122),m=d(l),n=a(125),o=d(n),p=a(124),q=d(p),r=a(13),s=d(r),t=a(151),u=d(t),v=a(10),w=d(v);e.__dashjs_factory_name=\\\"ProtectionModel_01b\\\",c.default=w.default.getClassFactory(e),b.exports=c.default},{10:10,109:109,121:121,122:122,124:124,125:125,127:127,13:13,151:151}],114:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){A=null,B=null,C=null,D=[],F=(0,g.default)(G).getInstance(),E=w()}function c(){var a,b=D.length;if(0!==b)for(var c=function(a){x(a),0===D.length&&(B?(B.removeEventListener(\\\"encrypted\\\",E),B.setMediaKeys(null).then(function(){H.trigger(q.default.TEARDOWN_COMPLETE)})):H.trigger(q.default.TEARDOWN_COMPLETE))},d=0;d<b;d++)a=D[d],function(b){a.session.closed.then(function(){c(b)}),v(a).catch(function(){c(b)})}(a);else H.trigger(q.default.TEARDOWN_COMPLETE)}function d(){return A}function e(){for(var a=[],b=0;b<D.length;b++)a.push(D[b].initData);return a}function f(a){u(a,0)}function h(a){a.mksa.createMediaKeys().then(function(b){A=a.keySystem,C=b,B&&B.setMediaKeys(C),H.trigger(q.default.INTERNAL_KEY_SYSTEM_SELECTED)}).catch(function(){H.trigger(q.default.INTERNAL_KEY_SYSTEM_SELECTED,{error:\\\"Error selecting keys system (\\\"+a.keySystem.systemString+\\\")! Could not create MediaKeys -- TODO\\\"})})}function j(a){B!==a&&(B&&(B.removeEventListener(\\\"encrypted\\\",E),B.setMediaKeys(null)),B=a,B&&(B.addEventListener(\\\"encrypted\\\",E),C&&B.setMediaKeys(C)))}function l(a){if(!A||!C)throw new Error(\\\"Can not set server certificate until you have selected a key system\\\");C.setServerCertificate(a).then(function(){I(\\\"DRM: License server certificate successfully updated.\\\"),H.trigger(q.default.SERVER_CERTIFICATE_UPDATED)}).catch(function(a){H.trigger(q.default.SERVER_CERTIFICATE_UPDATED,{error:\\\"Error updating server certificate -- \\\"+a.name})})}function n(a,b){if(!A||!C)throw new Error(\\\"Can not create sessions until you have selected a key system\\\");var c=C.createSession(b),d=y(c,a,b);c.generateRequest(\\\"cenc\\\",a).then(function(){I(\\\"DRM: Session created.  SessionID = \\\"+d.getSessionID()),H.trigger(q.default.KEY_SESSION_CREATED,{data:d})}).catch(function(a){x(d),H.trigger(q.default.KEY_SESSION_CREATED,{data:null,error:\\\"Error generating key request -- \\\"+a.name})})}function p(a,b){var c=a.session;F.isClearKey(A)&&(b=b.toJWK()),c.update(b).catch(function(b){H.trigger(q.default.KEY_ERROR,{data:new k.default(a,\\\"Error sending update() message! \\\"+b.name)})})}function r(a){if(!A||!C)throw new Error(\\\"Can not load sessions until you have selected a key system\\\");var b=C.createSession();b.load(a).then(function(c){if(c){var d=y(b);I(\\\"DRM: Session created.  SessionID = \\\"+d.getSessionID()),H.trigger(q.default.KEY_SESSION_CREATED,{data:d})}else H.trigger(q.default.KEY_SESSION_CREATED,{data:null,error:\\\"Could not load session! Invalid Session ID (\\\"+a+\\\")\\\"})}).catch(function(b){H.trigger(q.default.KEY_SESSION_CREATED,{data:null,error:\\\"Could not load session (\\\"+a+\\\")! \\\"+b.name})})}function s(a){var b=a.session;b.remove().then(function(){I(\\\"DRM: Session removed.  SessionID = \\\"+a.getSessionID()),H.trigger(q.default.KEY_SESSION_REMOVED,{data:a.getSessionID()})},function(b){H.trigger(q.default.KEY_SESSION_REMOVED,{data:null,error:\\\"Error removing session (\\\"+a.getSessionID()+\\\"). \\\"+b.name})})}function t(a){v(a).catch(function(b){x(a),H.trigger(q.default.KEY_SESSION_CLOSED,{data:null,error:\\\"Error closing session (\\\"+a.getSessionID()+\\\") \\\"+b.name})})}function u(a,b){!function(b){var c=a[b].ks,d=a[b].configs;navigator.requestMediaKeySystemAccess(c.systemString,d).then(function(a){var b=\\\"function\\\"==typeof a.getConfiguration?a.getConfiguration():null,d=new o.default(c,b);d.mksa=a,H.trigger(q.default.KEY_SYSTEM_ACCESS_COMPLETE,{data:d})}).catch(function(){++b<a.length?u(a,b):H.trigger(q.default.KEY_SYSTEM_ACCESS_COMPLETE,{error:\\\"Key system access denied!\\\"})})}(b)}function v(a){var b=a.session;return b.removeEventListener(\\\"keystatuseschange\\\",a),b.removeEventListener(\\\"message\\\",a),b.close()}function w(){return{handleEvent:function(a){switch(a.type){case\\\"encrypted\\\":if(a.initData){var b=ArrayBuffer.isView(a.initData)?a.initData.buffer:a.initData;H.trigger(q.default.NEED_KEY,{key:new i.default(b,a.initDataType)})}}}}}function x(a){for(var b=0;b<D.length;b++)if(D[b]===a){D.splice(b,1);break}}function y(a,b,c){var d={session:a,initData:b,handleEvent:function(a){switch(a.type){case\\\"keystatuseschange\\\":H.trigger(q.default.KEY_STATUSES_CHANGED,{data:this});break;case\\\"message\\\":var b=ArrayBuffer.isView(a.message)?a.message.buffer:a.message;H.trigger(q.default.INTERNAL_KEY_MESSAGE,{data:new m.default(this,b,(void 0),a.messageType)})}},getSessionID:function(){return a.sessionId},getExpirationTime:function(){return a.expiration},getKeyStatuses:function(){return a.keyStatuses},getSessionType:function(){return c}};return a.addEventListener(\\\"keystatuseschange\\\",d),a.addEventListener(\\\"message\\\",d),a.closed.then(function(){x(d),I(\\\"DRM: Session closed.  SessionID = \\\"+d.getSessionID()),H.trigger(q.default.KEY_SESSION_CLOSED,{data:d.getSessionID()})}),D.push(d),d}var z,A,B,C,D,E,F,G=this.context,H=a.eventBus,I=a.log;return z={getAllInitData:e,requestKeySystemAccess:f,getKeySystem:d,selectKeySystem:h,setMediaElement:j,setServerCertificate:l,createKeySession:n,updateKeySession:p,loadKeySession:r,removeKeySession:s,closeKeySession:t,reset:c},b(),z}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(109),g=d(f),h=a(127),i=d(h),j=a(121),k=d(j),l=a(122),m=d(l),n=a(124),o=d(n),p=a(13),q=d(p),r=a(10),s=d(r);e.__dashjs_factory_name=\\\"ProtectionModel_21Jan2015\\\",c.default=s.default.getClassFactory(e),b.exports=c.default},{10:10,109:109,121:121,122:122,124:124,127:127,13:13}],115:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){D=null,E=null,F=null,G=null,H=[],J=(0,g.default)(y).getInstance(),I=v()}function c(){try{for(var a=0;a<H.length;a++)p(H[a]);D&&D.removeEventListener(B.needkey,I),z.trigger(s.default.TEARDOWN_COMPLETE)}catch(b){z.trigger(s.default.TEARDOWN_COMPLETE,{error:\\\"Error tearing down key sessions and MediaKeys! -- \\\"+b.message})}}function d(){return E}function e(){for(var a=[],b=0;b<H.length;b++)a.push(H[b].initData);return a}function f(a){for(var b=!1,c=0;c<a.length;c++)for(var d=a[c].ks.systemString,e=a[c].configs,f=null,g=null,h=0;h<e.length;h++){var i=e[h].audioCapabilities,j=e[h].videoCapabilities;if(i&&0!==i.length){f=[];for(var k=0;k<i.length;k++)window[B.MediaKeys].isTypeSupported(d,i[k].contentType)&&f.push(i[k])}if(j&&0!==j.length){g=[];for(var l=0;l<j.length;l++)window[B.MediaKeys].isTypeSupported(d,j[l].contentType)&&g.push(j[l])}if(!(!f&&!g||f&&0===f.length||g&&0===g.length)){b=!0;var m=new o.default(f,g),n=J.getKeySystemBySystemString(d);z.trigger(s.default.KEY_SYSTEM_ACCESS_COMPLETE,{data:new q.default(n,m)});break}}b||z.trigger(s.default.KEY_SYSTEM_ACCESS_COMPLETE,{error:\\\"Key system access denied! -- No valid audio/video content configurations detected!\\\"})}function h(a){try{F=a.mediaKeys=new window[B.MediaKeys](a.keySystem.systemString),E=a.keySystem,G=a,D&&w(),z.trigger(s.default.INTERNAL_KEY_SYSTEM_SELECTED)}catch(b){z.trigger(s.default.INTERNAL_KEY_SYSTEM_SELECTED,{error:\\\"Error selecting keys system (\\\"+E.systemString+\\\")! Could not create MediaKeys -- TODO\\\"})}}function j(a){D!==a&&(D&&D.removeEventListener(B.needkey,I),D=a,D&&(D.addEventListener(B.needkey,I),F&&w()))}function l(a){if(!E||!F||!G)throw new Error(\\\"Can not create sessions until you have selected a key system\\\");var b=null;if(null!==G.ksConfiguration.videoCapabilities&&G.ksConfiguration.videoCapabilities.length>0&&(b=G.ksConfiguration.videoCapabilities[0]),null===b&&null!==G.ksConfiguration.audioCapabilities&&G.ksConfiguration.audioCapabilities.length>0&&(b=G.ksConfiguration.audioCapabilities[0]),null===b)throw new Error(\\\"Can not create sessions for unknown content types.\\\");var c=b.contentType,d=F.createSession(c,new Uint8Array(a)),e=x(d,a);d.addEventListener(B.error,e),d.addEventListener(B.message,e),d.addEventListener(B.ready,e),d.addEventListener(B.close,e),H.push(e),A(\\\"DRM: Session created.  SessionID = \\\"+e.getSessionID()),z.trigger(s.default.KEY_SESSION_CREATED,{data:e})}function n(a,b){var c=a.session;J.isClearKey(E)?c.update(new Uint8Array(b.toJWK())):c.update(new Uint8Array(b))}function p(a){var b=a.session;b.removeEventListener(B.error,a),b.removeEventListener(B.message,a),b.removeEventListener(B.ready,a),b.removeEventListener(B.close,a);for(var c=0;c<H.length;c++)if(H[c]===a){H.splice(c,1);break}b[B.release]()}function r(){}function t(){}function u(){}function v(){return{handleEvent:function(a){switch(a.type){case B.needkey:if(a.initData){var b=ArrayBuffer.isView(a.initData)?a.initData.buffer:a.initData;z.trigger(s.default.NEED_KEY,{key:new i.default(b,\\\"cenc\\\")})}}}}}function w(){var a=null,b=function(){D.removeEventListener(\\\"loadedmetadata\\\",a),D[B.setMediaKeys](F),z.trigger(s.default.VIDEO_ELEMENT_SELECTED)};D.readyState>=1?b():(a=b.bind(this),D.addEventListener(\\\"loadedmetadata\\\",a))}function x(a,b){return{session:a,initData:b,getSessionID:function(){return this.session.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return\\\"temporary\\\"},handleEvent:function(a){switch(a.type){case B.error:var b=\\\"KeyError\\\";z.trigger(s.default.KEY_ERROR,{data:new k.default(this,b)});break;case B.message:var c=ArrayBuffer.isView(a.message)?a.message.buffer:a.message;z.trigger(s.default.INTERNAL_KEY_MESSAGE,{data:new m.default(this,c,a.destinationURL)});break;case B.ready:A(\\\"DRM: Key added.\\\"),z.trigger(s.default.KEY_ADDED);break;case B.close:A(\\\"DRM: Session closed.  SessionID = \\\"+this.getSessionID()),z.trigger(s.default.KEY_SESSION_CLOSED,{data:this.getSessionID()})}}}}var y=this.context,z=a.eventBus,A=a.log,B=a.api,C=void 0,D=void 0,E=void 0,F=void 0,G=void 0,H=void 0,I=void 0,J=void 0;return C={getAllInitData:e,requestKeySystemAccess:f,getKeySystem:d,selectKeySystem:h,setMediaElement:j,createKeySession:l,updateKeySession:n,closeKeySession:p,setServerCertificate:r,loadKeySession:t,removeKeySession:u,reset:c},b(),C}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(109),g=d(f),h=a(127),i=d(h),j=a(121),k=d(j),l=a(122),m=d(l),n=a(125),o=d(n),p=a(124),q=d(p),r=a(13),s=d(r),t=a(10),u=d(t);e.__dashjs_factory_name=\\\"ProtectionModel_3Feb2014\\\",c.default=u.default.getClassFactory(e),b.exports=c.default},{10:10,109:109,121:121,122:122,124:124,125:125,127:127,13:13}],116:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a,b){var c=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(b)));a+=\\\"/?\\\";for(var d=0;d<c.kids.length;d++)a+=c.kids[d]+\\\"&\\\";return a=a.substring(0,a.length-1)}function b(){return\\\"GET\\\"}function c(){return\\\"json\\\"}function d(a){if(!a.hasOwnProperty(\\\"keys\\\"))return null;for(var b=[],c=0;c<a.keys.length;c++){var d=a.keys[c],e=d.kid.replace(/=/g,\\\"\\\"),f=d.k.replace(/=/g,\\\"\\\");b.push(new g.default(e,f))}return new i.default(b)}function e(a){return String.fromCharCode.apply(null,new Uint8Array(a))}var f=void 0;return f={getServerURLFromMessage:a,getHTTPMethod:b,getResponseType:c,getLicenseMessage:d,getErrorResponse:e}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(123),g=d(f),h=a(120),i=d(h),j=a(10),k=d(j);e.__dashjs_factory_name=\\\"ClearKey\\\",c.default=k.default.getSingletonFactory(e),b.exports=c.default},{10:10,120:120,123:123}],117:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a){return a}function b(){return\\\"POST\\\"}function c(a){return f[a].responseType}function d(a,b){return f[b].getLicenseMessage(a)}function e(a,b){return f[b].getErrorResponse(a)}var f={\\\"com.widevine.alpha\\\":{responseType:\\\"json\\\",getLicenseMessage:function(a){return i.default.decodeArray(a.license)},getErrorResponse:function(a){return a}},\\\"com.microsoft.playready\\\":{responseType:\\\"arraybuffer\\\",getLicenseMessage:function(a){return a},getErrorResponse:function(a){return String.fromCharCode.apply(null,new Uint8Array(a))}}},g=void 0;return g={getServerURLFromMessage:a,getHTTPMethod:b,getResponseType:c,getLicenseMessage:d,getErrorResponse:e}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f),h=a(1),i=d(h);e.__dashjs_factory_name=\\\"DRMToday\\\",c.default=g.default.getSingletonFactory(e),b.exports=c.default},{1:1,10:10}],118:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a){return a}function b(){return\\\"POST\\\"}function c(){return\\\"arraybuffer\\\"}function d(a){return a}function e(a){return String.fromCharCode.apply(null,new Uint8Array(a))}var f=void 0;return f={getServerURLFromMessage:a,getHTTPMethod:b,getResponseType:c,getLicenseMessage:d,getErrorResponse:e}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f);e.__dashjs_factory_name=\\\"PlayReady\\\",c.default=g.default.getSingletonFactory(e),b.exports=c.default},{10:10}],119:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a){return a}function b(){return\\\"POST\\\"}function c(){return\\\"arraybuffer\\\"}function d(a){return a}function e(a){return String.fromCharCode.apply(null,new Uint8Array(a))}var f=void 0;return f={getServerURLFromMessage:a,getHTTPMethod:b,getResponseType:c,getLicenseMessage:d,getErrorResponse:e}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f);e.__dashjs_factory_name=\\\"Widevine\\\",c.default=g.default.getSingletonFactory(e),b.exports=c.default},{10:10}],120:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,\\\"value\\\"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(b,c){if(d(this,a),c&&\\\"persistent\\\"!==c&&\\\"temporary\\\"!==c)throw new Error(\\\"Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'\\\");this.keyPairs=b,this.type=c}return e(a,[{key:\\\"toJWK\\\",value:function(){var a,b=this.keyPairs.length,c={keys:[]};for(a=0;a<b;a++){var d={kty:\\\"oct\\\",alg:\\\"A128KW\\\",kid:this.keyPairs[a].keyID,k:this.keyPairs[a].key};c.keys.push(d)}this.type&&(c.type=this.type);var e=JSON.stringify(c),f=e.length,g=new ArrayBuffer(f),h=new Uint8Array(g);for(a=0;a<f;a++)h[a]=e.charCodeAt(a);return g}}]),a}();c.default=f,b.exports=c.default},{}],121:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(b,c){d(this,a),this.sessionToken=b,this.error=c};c.default=e,b.exports=c.default},{}],122:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(b,c,e,f){d(this,a),this.sessionToken=b,this.message=c,this.defaultURL=e,this.messageType=f?f:\\\"license-request\\\"};c.default=e,b.exports=c.default},{}],123:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(b,c){d(this,a),this.keyID=b,this.key=c};c.default=e,b.exports=c.default},{}],124:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(b,c){d(this,a),this.keySystem=b,this.ksConfiguration=c};c.default=e,b.exports=c.default},{}],125:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(b,c,e,f,g){d(this,a),this.initDataTypes=[\\\"cenc\\\"],this.audioCapabilities=b,this.videoCapabilities=c,this.distinctiveIdentifier=e,this.persistentState=f,this.sessionTypes=g};c.default=e,b.exports=c.default},{}],126:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(b,c){d(this,a),this.contentType=b,this.robustness=c};c.default=e,b.exports=c.default},{}],127:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(b,c){d(this,a),this.initData=b,this.initDataType=c};c.default=e,b.exports=c.default},{}],128:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){return i.mediaInfo.streamInfo}function c(){return i.mediaInfo}function d(){return i}function e(){return k}function f(){return i.mediaInfo.streamInfo.manifestInfo}function g(){return j}var h=void 0,i=a.streamProcessor.getCurrentRepresentationInfo(),j=a.streamProcessor,k=a.currentValue;return h={getStreamInfo:b,getMediaInfo:c,getTrackInfo:d,getCurrentValue:e,getManifestInfo:f,getStreamProcessor:g}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f);e.__dashjs_factory_name=\\\"RulesContext\\\",c.default=g.default.getClassFactory(e),b.exports=c.default},{10:10}],129:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){j={}}function b(a){a&&(a.abrRulesCollection&&(j[p]=a.abrRulesCollection),a.synchronizationRulesCollection&&(j[q]=a.synchronizationRulesCollection))}function c(a,b,c,d,f){var g,h,j={},k={},l=a.length,m=l,n=e(b,d),o=function(a){var b,e,g;if(a.value!==i.default.NO_CHANGE){var h=f(j[a.priority],a.value);h!==j[a.priority]&&(j[a.priority]=h,k[a.priority]=a.reason)}--l||(j[i.default.WEAK]!==i.default.NO_CHANGE&&(g=i.default.WEAK,b=j[i.default.WEAK],e=k[i.default.WEAK]),j[i.default.DEFAULT]!==i.default.NO_CHANGE&&(g=i.default.DEFAULT,b=j[i.default.DEFAULT],e=k[i.default.DEFAULT]),j[i.default.STRONG]!==i.default.NO_CHANGE&&(g=i.default.STRONG,b=j[i.default.STRONG],e=k[i.default.STRONG]),g!=i.default.STRONG&&g!=i.default.WEAK&&(g=i.default.DEFAULT),c(void 0!==b?{value:b,confidence:g,reason:e}:{value:d,confidence:g,reason:{name:\\\"NO_CHANGE\\\"}}))};for(j[i.default.STRONG]=i.default.NO_CHANGE,j[i.default.WEAK]=i.default.NO_CHANGE,j[i.default.DEFAULT]=i.default.NO_CHANGE,h=0;h<m;h++)g=a[h],g.execute(n,o)}function d(){var a,b,c=j[p],d=j[q],e=(c.getRules(k.default.QUALITY_SWITCH_RULES)||[]).concat(c.getRules(k.default.ABANDON_FRAGMENT_RULES)||[]).concat(d.getRules(m.default.TIME_SYNCHRONIZED_RULES)||[]).concat(d.getRules(m.default.BEST_GUESS_RULES)||[]),f=e.length;for(b=0;b<f;b++)a=e[b],\\\"function\\\"==typeof a.reset&&a.reset();j={}}function e(a,b){return(0,g.default)(f).create({streamProcessor:a,currentValue:b})}var f=this.context,h=void 0,j=void 0;return h={initialize:a,setConfig:b,applyRules:c,reset:d}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(128),g=d(f),h=a(130),i=d(h),j=a(131),k=d(j),l=a(144),m=d(l),n=a(10),o=d(n),p=0,q=1;e.__dashjs_factory_name=\\\"RulesController\\\";var r=o.default.getSingletonFactory(e);r.ABR_RULE=p,r.SYNC_RULE=q,c.default=r,b.exports=c.default},{10:10,128:128,130:130,131:131,144:144}],130:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b,c){var d=void 0===a?h:a,e=void 0===b?i:b,f=void 0===c?null:c,g={value:d,priority:e,reason:f};return g}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f),h=999,i=.5,j=1,k=0;e.__dashjs_factory_name=\\\"SwitchRequest\\\";var l=g.default.getClassFactory(e);l.NO_CHANGE=h,l.DEFAULT=i,l.STRONG=j,l.WEAK=k,c.default=l,b.exports=c.default},{10:10}],131:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){e=[],f=[];var a=(0,u.default)(c).getInstance(),b=(0,w.default)(c).getInstance(),d=(0,s.default)(c).getInstance();d.getBufferOccupancyABREnabled()?(e.push((0,o.default)(c).create({metricsModel:a,dashMetrics:(0,w.default)(c).getInstance()})),f.push((0,q.default)(c).create({metricsModel:a,dashMetrics:(0,w.default)(c).getInstance()}))):(e.push((0,g.default)(c).create({metricsModel:a,dashMetrics:b})),e.push((0,i.default)(c).create({metricsModel:a,dashMetrics:b})),e.push((0,k.default)(c).create({metricsModel:a})),f.push((0,m.default)(c).create()))}function b(a){switch(a){case z:return e;case A:return f;default:return null}}var c=this.context,d=void 0,e=void 0,f=void 0;return d={initialize:a,getRules:b}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(137),g=d(f),h=a(135),i=d(h),j=a(136),k=d(j),l=a(132),m=d(l),n=a(134),o=d(n),p=a(133),q=d(p),r=a(101),s=d(r),t=a(102),u=d(t),v=a(17),w=d(v),x=a(10),y=d(x),z=\\\"qualitySwitchRules\\\",A=\\\"abandonFragmentRules\\\";e.__dashjs_factory_name=\\\"ABRRulesCollection\\\";var B=y.default.getSingletonFactory(e);B.QUALITY_SWITCH_RULES=z,B.ABANDON_FRAGMENT_RULES=A,c.default=B,b.exports=c.default},{10:10,101:101,102:102,132:132,133:133,134:134,135:135,136:136,137:137,17:17}],132:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){o={},p={},q=[],r=(0,i.default)(l).getInstance();\\n}function b(a,b){o[a]=o[a]||{},o[a][b]=o[a][b]||{}}function c(a,b){q[a]=q[a]||[],q[a].push(b)}function d(a,d){var f=a.getMediaInfo(),i=f.type,m=a.getCurrentValue().request,s=(0,g.default)(l).create(g.default.NO_CHANGE,g.default.WEAK,{name:e.__dashjs_factory_name});if(!isNaN(m.index)){b(i,m.index);var t=o[i][m.index];if(null===t||null===m.firstByteDate||p.hasOwnProperty(t.id))return void d(s);if(void 0===t.firstByteTime&&(q[i]=[],t.firstByteTime=m.firstByteDate.getTime(),t.segmentDuration=m.duration,t.bytesTotal=m.bytesTotal,t.id=m.index),t.bytesLoaded=m.bytesLoaded,t.elapsedTime=(new Date).getTime()-t.firstByteTime,t.bytesLoaded>0&&t.elapsedTime>0&&c(i,Math.round(8*t.bytesLoaded/t.elapsedTime)),q[i].length>=k&&t.elapsedTime>j&&t.bytesLoaded<t.bytesTotal){var u=q[i].reduce(function(a,b){return a+b},0);if(t.measuredBandwidthInKbps=Math.round(u/q[i].length),t.estimatedTimeOfDownload=(8*t.bytesTotal/t.measuredBandwidthInKbps/1e3).toFixed(2),t.estimatedTimeOfDownload<t.segmentDuration*h||0===a.getTrackInfo().quality)return void d(s);if(!p.hasOwnProperty(t.id)){var v=a.getStreamProcessor().getABRController(),w=t.bytesTotal-t.bytesLoaded,x=v.getBitrateList(f),y=v.getQualityForBitrate(f,t.measuredBandwidthInKbps*r.getBandwidthSafetyFactor()),z=t.bytesTotal*x[y].bitrate/x[v.getQualityFor(i,f.streamInfo)].bitrate;w>z&&(s.value=y,s.priority=g.default.STRONG,s.reason.throughput=t.measuredBandwidthInKbps,p[t.id]=t,n(\\\"AbandonRequestsRule ( \\\",i,\\\"frag id\\\",t.id,\\\") is asking to abandon and switch to quality to \\\",y,\\\" measured bandwidth was\\\",t.measuredBandwidthInKbps),delete o[i][t.id])}}else t.bytesLoaded===t.bytesTotal&&delete o[i][t.id]}d(s)}function f(){a()}var h=1.8,j=500,k=5,l=this.context,n=(0,m.default)(l).getInstance().log,o=void 0,p=void 0,q=void 0,r=void 0,s={execute:d,reset:f};return a(),s}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(130),g=d(f),h=a(101),i=d(h),j=a(10),k=d(j),l=a(8),m=d(l);e.__dashjs_factory_name=\\\"AbandonRequestsRule\\\",c.default=k.default.getClassFactory(e),b.exports=c.default},{10:10,101:101,130:130,8:8}],133:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){s={},t=(0,i.default)(l).getInstance()}function c(a,b,c){s[a]={index:b,quality:c}}function d(a,b,c){var d=s[a];return!d||(b!==d.index||c<d.quality)}function f(a,b){var f=a.getMediaInfo(),h=f.type,i=q.getReadOnlyMetricsFor(h),m=a.getCurrentValue(),r=m.request,t=(0,g.default)(l).create(g.default.NO_CHANGE,g.default.WEAK,{name:e.__dashjs_factory_name});if(0===i.BolaState.length)return n(\\\"WARNING: executing BolaAbandonRule before initializing BolaRule\\\"),s[h]=null,void b(t);var u=i.BolaState[0]._s,v=r.index,w=r.quality;if(isNaN(v)||0===w||!d(h,v,w)||!r.firstByteDate)return void b(t);var x=Date.now(),y=x-r.firstByteDate.getTime(),z=r.bytesLoaded,A=r.bytesTotal,B=A-z,C=r.duration,D=p.getCurrentBufferLevel(i)?p.getCurrentBufferLevel(i):0,E=D+u.virtualBuffer,F=8*z/(.001*y),G=u.bandwidthSafetyFactor*F,H=.001*(r.firstByteDate.getTime()-r.requestStartDate.getTime());H<.001*k&&(H=.001*k);var I=H+8*A/G,J=\\\"\\\";o.default.BOLA_DEBUG&&(J=\\\"index=\\\"+v+\\\" quality=\\\"+w+\\\" bytesLoaded/bytesTotal=\\\"+z+\\\"/\\\"+A+\\\" bufferLevel=\\\"+D+\\\" timeSince1stByte=\\\"+(y/1e3).toFixed(3)+\\\" estThroughput=\\\"+(G/1e6).toFixed(3)+\\\" latency=\\\"+H.toFixed(3));var K=A*u.bitrates[0]/u.bitrates[w],L=B-H*G/8;if(L<1&&(L=1),y<j||B<=K||D>u.bufferTarget||L<=K||I<=C)return void b(t);var M=E-H;M<0&&(M=0);for(var N=0;N+1<w&&A*u.bitrates[N+1]/u.bitrates[w]<L;)++N;var O=w;if(u.state===o.default.BOLA_STATE_STARTUP){O=0;for(var P=0;P<=N&&(K=A*u.bitrates[P]/u.bitrates[w],!(8*K/C>G));++P)O=P}else for(var Q=(u.Vp*(u.utilities[w]+u.gp)-M)/L,P=0;P<=N;++P){K=A*u.bitrates[P]/u.bitrates[w];var R=(u.Vp*(u.utilities[P]+u.gp)-M)/K;R>Q&&(O=P,Q=R)}var S=u.rebufferSafetyFactor*F*(D-H)/8;if(O===w&&L>S&&(O=N),O===w)return void b(t);for(;O>0&&(K=A*u.bitrates[O]/u.bitrates[w],!(K<=S));)--O;u.lastQuality=O,q.updateBolaState(h,u),o.default.BOLA_DEBUG&&n(\\\"BolaDebug \\\"+h+\\\" BolaAbandonRule abandon to \\\"+O+\\\" - \\\"+J),c(h,v,w),t.value=O,t.priority=g.default.STRONG,t.reason.state=u.state,t.reason.throughput=F,t.reason.bufferLevel=D,t.reason.bytesLoaded=r.bytesLoaded,t.reason.bytesTotal=r.bytesTotal,t.reason.elapsedTimeMs=y,b(t)}function h(){s={}}var j=500,k=200,l=this.context,n=(0,m.default)(l).getInstance().log,p=a.dashMetrics,q=a.metricsModel,r=void 0,s=void 0,t=void 0;return r={execute:f,reset:h},b(),r}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(130),g=d(f),h=a(101),i=d(h),j=a(10),k=d(j),l=a(8),m=d(l),n=a(134),o=d(n);e.__dashjs_factory_name=\\\"BolaAbandonRule\\\",c.default=k.default.getClassFactory(e),b.exports=c.default},{10:10,101:101,130:130,134:134,8:8}],134:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){N={},O=[],P=(0,k.default)(H).getInstance(),Q=(0,m.default)(H).getInstance(),R=(0,p.default)(H).getInstance(),L.on(t.default.BUFFER_EMPTY,q,M),L.on(t.default.PLAYBACK_SEEKING,s,M),L.on(t.default.PERIOD_SWITCH_STARTED,u,M)}function c(a){return a.map(function(a){return Math.log(a)})}function d(a,b,d,e){var f=NaN;if(e?(f=0,e.forEach(function(a,b){a>e[f]&&(f=b)})):(e=c(d),f=e.length-1),0===f)return null;var g=1-e[0]+(e[f]-e[0])/(b/a-1),h=a/(e[0]+g-1);return{utilities:e,gp:g,Vp:h}}function f(a){var b={},c=a.getMediaInfo(),e=a.getStreamProcessor(),f=a.getStreamInfo(),g=a.getTrackInfo(),h=e.isDynamic(),i=f.manifestInfo.duration,j=g.fragmentDuration,k=c.bitrateList.map(function(a){return a.bandwidth}),l=d(A,B,k,null);if(null===l)return b.state=w,b;if(b.state=x,b.bitrates=k,b.utilities=l.utilities,b.Vp=l.Vp,b.gp=l.gp,b.isDynamic=h,b.movieDuration=i,b.fragmentDuration=j,b.bandwidthSafetyFactor=P.getBandwidthSafetyFactor(),b.rebufferSafetyFactor=C,b.bufferTarget=P.getStableBufferTime(),b.lastQuality=0,b.virtualBuffer=0,b.throughputCount=h?F:G,z){for(var m=\\\"\\\",n=0;n<k.length;++n){var o=l.utilities[n],p=k[n],q=0;if(n>0){var r=l.utilities[n-1],s=k[n-1];q=l.Vp*((r*p-o*s)/(p-s)+l.gp)}var t=l.Vp*(o+l.gp);m+=\\\"\\\\n\\\"+n+\\\":\\\"+(1e-6*k[n]).toFixed(3)+\\\"Mbps \\\"+q.toFixed(3)+\\\"/\\\"+t.toFixed(3)}I(\\\"BolaDebug \\\"+c.type+\\\" bitrates\\\"+m)}return b}function h(a,b){for(var c=a.bitrates.length,d=NaN,e=NaN,f=0;f<c;++f){var g=(a.Vp*(a.utilities[f]+a.gp)-b)/a.bitrates[f];(isNaN(e)||g>=e)&&(e=g,d=f)}return d}function i(a,b){for(var c=J.getHttpRequests(a),d=[],e=c.length-1;e>=0&&d.length<b;--e){var f=c[e];f.type===n.HTTPRequest.MEDIA_SEGMENT_TYPE&&f._tfinish&&f.tresponse&&f.trace&&d.push(f)}return d}function j(a,b,c){var d=i(a,b);if(0===d.length)return 0;for(var e=0,f=\\\"\\\",g=0;g<d.length;++g){var h=.001*(d[g]._tfinish.getTime()-d[g].trequest.getTime()),j=8*d[g].trace.reduce(function(a,b){return a+b.b[0]},0);z&&(f+=\\\" \\\"+(1e-6*j).toFixed(3)+\\\"/\\\"+h.toFixed(3)+\\\"=\\\"+(1e-6*j/h).toFixed(3)+\\\"Mbps\\\"),e+=h/j}return z&&I(\\\"BolaDebug \\\"+c+\\\" BolaRule recent throughput = \\\"+(d.length/(1e6*e)).toFixed(3)+\\\"Mbps:\\\"+f),d.length/e}function l(a,b){var c=0;return a.bitrates.some(function(a,d){return a>b||(c=d,!1)}),c}function o(a,b){var c=i(a,1);if(0===c.length)return 0;var d=c[0],e=Date.now(),f=d._tfinish.getTime();f>e&&(f=e);var g=N[b];N[b]=e;var h=0;return h=g&&g>f?e-g:e-f,h<=0?0:.001*h}function q(){z&&I(\\\"BolaDebug BUFFER_EMPTY\\\"),O.forEach(function(a){var b=K.getReadOnlyMetricsFor(a);if(0!==b.BolaState.length){var c=b.BolaState[0]._s;c.state===y&&(c.virtualBuffer=0,K.updateBolaState(a,c))}})}function s(a){z&&I(\\\"BolaDebug PLAYBACK_SEEKING \\\"+a.seekTime.toFixed(3)),O.forEach(function(a){var b=K.getReadOnlyMetricsFor(a);if(0!==b.BolaState.length){var c=b.BolaState[0]._s;c.state!==w&&(c.state=x),K.updateBolaState(a,c)}})}function u(){}function D(a,b){var c=a.getStreamProcessor();c.getScheduleController().setTimeToLoadDelay(0);var d=(0,g.default)(H).create(g.default.NO_CHANGE,g.default.WEAK,{name:e.__dashjs_factory_name}),i=a.getMediaInfo(),k=i.type,m=K.getReadOnlyMetricsFor(k);if(0===m.BolaState.length){z&&I(\\\"BolaDebug \\\"+k+\\\"\\\\nBolaDebug \\\"+k+\\\" BolaRule for state=- fragmentStart=\\\"+R.getIndexHandlerTime(a.getStreamProcessor()).toFixed(3));var n=f(a);K.updateBolaState(k,n);var p=0;if(n.state!==w){O.push(k);var q=j(m,n.throughputCount,k);if(0===q)return z&&I(\\\"BolaDebug \\\"+k+\\\" BolaRule quality unchanged for INITIALIZE\\\"),void b(d);p=l(n,q*n.bandwidthSafetyFactor),n.lastQuality=p,d.value=p,d.priority=g.default.DEFAULT,d.reason.state=n.state,d.reason.throughput=q}return z&&I(\\\"BolaDebug \\\"+k+\\\" BolaRule quality \\\"+p+\\\" for INITIALIZE\\\"),void b(d)}var r=m.BolaState[0]._s;if(r.state===w)return z&&I(\\\"BolaDebug \\\"+k+\\\" BolaRule quality 0 for ONE_BITRATE\\\"),void b(d);var s=r.bitrates,t=r.utilities;z&&I(\\\"BolaDebug \\\"+k+\\\"\\\\nBolaDebug \\\"+k+\\\" EXECUTE BolaRule for state=\\\"+r.state+\\\" fragmentStart=\\\"+R.getIndexHandlerTime(a.getStreamProcessor()).toFixed(3));var u=J.getCurrentBufferLevel(m)?J.getCurrentBufferLevel(m):0,v=j(m,r.throughputCount,k);u<=.1&&(r.virtualBuffer=0);var A=o(m,k);A>0&&(r.virtualBuffer+=A),r.virtualBuffer<0&&(r.virtualBuffer=0);var B=u+r.virtualBuffer,D=h(r,B);if(z&&I(\\\"BolaDebug \\\"+k+\\\" BolaRule bufferLevel=\\\"+u.toFixed(3)+\\\"(+\\\"+r.virtualBuffer.toFixed(3)+\\\"=\\\"+B.toFixed(3)+\\\") recentThroughput=\\\"+(1e-6*v).toFixed(3)+\\\" tentativeQuality=\\\"+D),r.state===x){var p=l(r,v*r.bandwidthSafetyFactor);if(u>r.fragmentDuration/C){r.state=y;for(var E=0,F=0;F<p;++F){var G=r.Vp*(r.gp+(s[p]*t[F]-s[F]*t[p])/(s[p]-s[F]));G>E&&(E=G)}E>u&&(r.virtualBuffer=E-u)}return z&&I(\\\"BolaDebug \\\"+k+\\\" BolaRule quality \\\"+p+\\\" for STARTUP\\\"),r.lastQuality=p,K.updateBolaState(k,r),d.value=p,d.priority=g.default.DEFAULT,d.reason.state=x,d.reason.throughput=v,void b(d)}if(D>r.lastQuality){var p=l(r,v);D>p&&(p<r.lastQuality&&(p=r.lastQuality),D=p)}if(v>0)for(var L=C*v*u/r.fragmentDuration;D>0&&s[D]>L;)--D;var M=0,N=r.Vp*(t[D]+r.gp);M=B-N,M>0&&(M>r.virtualBuffer?(M-=r.virtualBuffer,r.virtualBuffer=0):(r.virtualBuffer-=M,M=0)),M>0?D===s.length-1?M=0:c.getScheduleController().setTimeToLoadDelay(1e3*M):M=0,r.lastQuality=D,K.updateBolaState(k,r),d.value=D,d.priority=g.default.DEFAULT,d.reason.state=r.state,d.reason.throughput=v,d.reason.bufferLevel=u,z&&I(\\\"BolaDebug \\\"+k+\\\" BolaRule quality \\\"+D+\\\" delay=\\\"+M.toFixed(3)+\\\" for STEADY\\\"),b(d)}function E(){L.off(t.default.BUFFER_EMPTY,q,M),L.off(t.default.PLAYBACK_SEEKING,s,M),L.off(t.default.PERIOD_SWITCH_STARTED,u,M),b()}var F=2,G=3,H=this.context,I=(0,v.default)(H).getInstance().log,J=a.dashMetrics,K=a.metricsModel,L=(0,r.default)(H).getInstance(),M=void 0,N=void 0,O=void 0,P=void 0,Q=void 0,R=void 0;return M={execute:D,reset:E},b(),M}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(130),g=d(f),h=a(10),i=d(h),j=a(101),k=d(j),l=a(68),m=d(l),n=a(179),o=a(15),p=d(o),q=a(9),r=d(q),s=a(13),t=d(s),u=a(8),v=d(u),w=0,x=1,y=2,z=!1,A=10,B=30,C=.5;e.__dashjs_factory_name=\\\"BolaRule\\\";var D=i.default.getClassFactory(e);D.BOLA_STATE_ONE_BITRATE=w,D.BOLA_STATE_STARTUP=x,D.BOLA_STATE_STEADY=y,D.BOLA_DEBUG=z,c.default=D,b.exports=c.default},{10:10,101:101,13:13,130:130,15:15,179:179,68:68,8:8,9:9}],135:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){n=0,p=(0,i.default)(h).getInstance()}function c(a,b){var c=(new Date).getTime()/1e3,d=a.getMediaInfo(),f=a.getTrackInfo(),i=d.type,o=isNaN(f.fragmentDuration)?2:f.fragmentDuration/2,q=a.getCurrentValue(),r=a.getStreamProcessor(),s=r.getABRController(),t=l.getReadOnlyMetricsFor(i),u=m.getCurrentBufferLevel(t),v=t.BufferState.length>0?t.BufferState[t.BufferState.length-1]:null,w=!1,x=d.representationCount-1,y=(0,g.default)(h).create(g.default.NO_CHANGE,g.default.WEAK,{name:e.__dashjs_factory_name});return c-n<o||s.getAbandonmentStateFor(i)===k.default.ABANDON_LOAD?void b(y):(null!==v&&u>v.target&&(w=u-v.target>p.getRichBufferThreshold(),w&&d.representationCount>1&&(y.value=x,y.priority=g.default.STRONG,y.reason.bufferLevel=u,y.reason.bufferTarget=v.target)),y.value!==g.default.NO_CHANGE&&y.value!==q&&j(\\\"BufferOccupancyRule requesting switch to index: \\\",y.value,\\\"type: \\\",i,\\\" Priority: \\\",y.priority===g.default.DEFAULT?\\\"Default\\\":y.priority===g.default.STRONG?\\\"Strong\\\":\\\"Weak\\\"),void b(y))}function d(){n=0}var f=void 0,h=this.context,j=(0,o.default)(h).getInstance().log,l=a.metricsModel,m=a.dashMetrics,n=void 0,p=void 0;return f={execute:c,reset:d},b(),f}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(130),g=d(f),h=a(101),i=d(h),j=a(60),k=d(j),l=a(10),m=d(l),n=a(8),o=d(n);e.__dashjs_factory_name=\\\"BufferOccupancyRule\\\",c.default=m.default.getClassFactory(e),b.exports=c.default},{10:10,101:101,130:130,60:60,8:8}],136:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){r={},s=0,t=1e3,n.on(m.default.PLAYBACK_SEEKING,f,p)}function c(a,b){var c=(new Date).getTime(),f=a.getMediaInfo().type,h=a.getCurrentValue(),k=o.getReadOnlyMetricsFor(f),m=k.BufferState.length>0?k.BufferState[k.BufferState.length-1]:null,n=(0,g.default)(j).create(g.default.NO_CHANGE,g.default.WEAK,{name:e.__dashjs_factory_name});return c-s<t||null===m?void b(n):(d(f,m.state),m.state===i.default.BUFFER_EMPTY&&void 0!==r[f].firstBufferLoadedEvent&&(n.value=0,n.priority=g.default.STRONG,n.reason.bufferState=m.state,n=(0,g.default)(j).create(0,g.default.STRONG)),n.value!==g.default.NO_CHANGE&&n.value!==h&&l(\\\"InsufficientBufferRule requesting switch to index: \\\",n.value,\\\"type: \\\",f,\\\" Priority: \\\",n.priority===g.default.DEFAULT?\\\"Default\\\":n.priority===g.default.STRONG?\\\"Strong\\\":\\\"Weak\\\"),s=c,void b(n))}function d(a,b){r[a]=r[a]||{},r[a].state=b,b!==i.default.BUFFER_LOADED||r[a].firstBufferLoadedEvent||(r[a].firstBufferLoadedEvent=!0)}function f(){r={}}function h(){n.off(m.default.PLAYBACK_SEEKING,f,p),r={},s=0}var j=this.context,l=(0,q.default)(j).getInstance().log,n=(0,k.default)(j).getInstance(),o=a.metricsModel,p=void 0,r=void 0,s=void 0,t=void 0;return p={execute:c,reset:h},b(),p}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(130),g=d(f),h=a(63),i=d(h),j=a(9),k=d(j),l=a(13),m=d(l),n=a(10),o=d(n),p=a(8),q=d(p);e.__dashjs_factory_name=\\\"InsufficientBufferRule\\\",c.default=o.default.getClassFactory(e),b.exports=c.default},{10:10,13:13,130:130,63:63,8:8,9:9}],137:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){z=[],A={audio:{threshold:s,value:NaN},video:{threshold:q,value:NaN}},B=(0,m.default)(v).getInstance()}function c(a,b){z[a]=z[a]||[],z[a].push(b)}function d(a,b){var c=Math.min(z[a].length,b?o:p),d=z[a].slice(c*-1,z[a].length);return d.length>1&&d.reduce(function(a,b){return(a*u<=b||a>=b*t)&&c++,b}),c=Math.min(z[a].length,c),z[a].slice(c*-1,z[a].length)}function f(a,b){var c=d(a,b),e=0;if(c.length>0){var f=c.reduce(function(a,b){return a+b},0);e=f/c.length}return z[a].length>=l&&z[a].shift(),e/1e3*B.getBandwidthSafetyFactor()}function h(a,b){var d=a.getMediaInfo(),h=d.type,j=a.getCurrentValue(),l=y.getReadOnlyMetricsFor(h),m=a.getStreamProcessor(),o=m.getABRController(),p=m.isDynamic(),q=x.getCurrentHttpRequest(l),r=l.BufferState.length>0?l.BufferState[l.BufferState.length-1]:null,s=(0,g.default)(v).create(g.default.NO_CHANGE,g.default.WEAK,{name:e.__dashjs_factory_name});if(!l||!q||q.type!==n.HTTPRequest.MEDIA_SEGMENT_TYPE||!r)return void b(s);var t=void 0;if(q.trace&&q.trace.length){t=q._tfinish.getTime()-q.tresponse.getTime()+1;var u=q.trace.reduce(function(a,b){return a+b.b[0]},0),z=Math.round(8*u/(t/1e3));t<=A[h].threshold?A[h].value=z/1e3:(A[h].value=NaN,c(h,z))}var B=Math.round(isNaN(A[h].value)?f(h,p):A[h].value);if(o.setAverageThroughput(h,B),o.getAbandonmentStateFor(h)!==k.default.ABANDON_LOAD){if(r.state===i.default.BUFFER_LOADED||p){var C=o.getQualityForBitrate(d,B);m.getScheduleController().setTimeToLoadDelay(0),s.value=C,s.priority=g.default.DEFAULT,s.reason.throughput=B}s.value!==g.default.NO_CHANGE&&s.value!==j&&w(\\\"ThroughputRule requesting switch to index: \\\",s.value,\\\"type: \\\",h,\\\" Priority: \\\",s.priority===g.default.DEFAULT?\\\"Default\\\":s.priority===g.default.STRONG?\\\"Strong\\\":\\\"Weak\\\",\\\"Average throughput\\\",Math.round(B),\\\"kbps\\\")}b(s)}function j(){b()}var l=20,o=3,p=4,q=50,s=5,t=1.3,u=1.3,v=this.context,w=(0,r.default)(v).getInstance().log,x=a.dashMetrics,y=a.metricsModel,z=void 0,A=void 0,B=void 0,C={execute:h,reset:j};return b(),C}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(130),g=d(f),h=a(63),i=d(h),j=a(60),k=d(j),l=a(101),m=d(l),n=a(179),o=a(10),p=d(o),q=a(8),r=d(q);e.__dashjs_factory_name=\\\"ThroughputRule\\\",c.default=p.default.getClassFactory(e),b.exports=c.default},{10:10,101:101,130:130,179:179,60:60,63:63,8:8}],138:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(a){var b,c=0;return a&&a.some(function(a,b){return c=b,!d.contains(a.serviceLocation)})&&(b=a[c]),b}var c=void 0,d=a.blacklistController;return c={select:b}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f);e.__dashjs_factory_name=\\\"BasicSelector\\\",c.default=g.default.getClassFactory(e),b.exports=c.default},{10:10}],139:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(a){var b=[],c=function(a){return!b.length||!a.dvb_priority||b.indexOf(a.dvb_priority)===-1},d=function(a){return!f.contains(a.serviceLocation)||(a.dvb_priority&&b.push(a.dvb_priority),!1)};return a.filter(d).filter(c)}function c(a){var b,c,d=function(a,b){var c=a.dvb_priority-b.dvb_priority;return isNaN(c)?0:c},e=function(a,b,c){return!b||c[0].dvb_priority&&a.dvb_priority&&c[0].dvb_priority===a.dvb_priority},f=0,g=[],h=0;if(c=a.sort(d).filter(e),c.length)return c.length>1&&(c.forEach(function(a){f+=a.dvb_weight,g.push(f)}),b=Math.floor(Math.random()*(f-1)),g.every(function(a,c){return h=c,!(b<a)})),c[h]}function d(a){return a&&c(b(a))}var e=void 0,f=a.blacklistController;return e={select:d}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f);e.__dashjs_factory_name=\\\"DVBSelector\\\",c.default=g.default.getClassFactory(e),b.exports=c.default},{10:10}],140:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){k=(0,g.default)(e).getInstance(),l=(0,i.default)(e).getInstance()}function c(a,b,c){var e=f.getCurrentBufferLevel(h.getReadOnlyMetricsFor(b));return e<d(a,b,c)}function d(a,b,c){var d=NaN,e=a.getCurrentRepresentationInfo();if(\\\"fragmentedText\\\"===b)d=j.getAllTracksAreDisabled()?0:e.fragmentDuration;else if(\\\"audio\\\"===b&&c){var g=f.getCurrentBufferLevel(h.getReadOnlyMetricsFor(\\\"video\\\"));d=Math.floor(Math.max(g,e.fragmentDuration))}else{var i=e.mediaInfo.streamInfo,l=a.getABRController();if(l.isPlayingAtTopQuality(i)){var m=i.manifestInfo.duration>=k.getLongFormContentDurationThreshold();d=m?k.getBufferTimeAtTopQualityLongForm():k.getBufferTimeAtTopQuality()}else d=k.getStableBufferTime()}return d}var e=this.context,f=a.dashMetrics,h=a.metricsModel,j=a.textSourceBuffer,k=void 0,l=void 0,m={execute:c,getBufferTarget:d};return b(),m}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(101),g=d(f),h=a(68),i=d(h),j=a(10),k=d(j);e.__dashjs_factory_name=\\\"BufferLevelRule\\\",c.default=k.default.getClassFactory(e),b.exports=c.default},{10:10,101:101,68:68}],141:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(a,b){var c=a.getCurrentRepresentationInfo(),g=c.mediaInfo,i=g.type,j=a.getScheduleController(),k=j.getSeekTarget(),l=!isNaN(k),m=a.getBuffer(),n=l?k:e.getIndexHandlerTime(a);if(isNaN(n)||\\\"fragmentedText\\\"===i&&h.getAllTracksAreDisabled())return null;if(l&&j.setSeekTarget(NaN),m){var o=f.getBufferRange(a.getBuffer(),n);null!==o&&(d(\\\"Prior to making a request for time, NextFragmentRequestRule is aligning index handler's currentTime with bufferedRange.end.\\\",n,\\\" was changed to \\\",o.end),n=o.end)}var p=void 0;return b?(n=b.startTime+b.duration/2,p=e.getFragmentRequestForTime(a,c,n,{timeThreshold:0,ignoreIsFinished:!0})):(p=e.getFragmentRequestForTime(a,c,n,{keepIdx:!l}),p&&a.getFragmentModel().isFragmentLoaded(p)&&(p=e.getNextFragmentRequest(a,c)),p&&(e.setIndexHandlerTime(a,p.startTime+p.duration),p.delayLoadingTime=(new Date).getTime()+j.getTimeToLoadDelay(),j.setTimeToLoadDelay(0))),p}var c=this.context,d=(0,g.default)(c).getInstance().log,e=a.adapter,f=a.sourceBufferController,h=a.textSourceBuffer,i={execute:b};return i}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(8),g=d(f),h=a(10),i=d(h);e.__dashjs_factory_name=\\\"NextFragmentRequestRule\\\",c.default=i.default.getClassFactory(e),b.exports=c.default},{10:10,8:8}],142:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){r=NaN,s=null,t=NaN,u=null,v=!1,w=NaN,x=g.default.DEFAULT}function c(a,b){var c,d;if(y=b,A=a.getStreamProcessor(),z=A.getFragmentLoader(),u=a.getTrackInfo(),w=u.fragmentDuration,d=u.DVRWindow,r=d.end,u.useCalculatedLiveEdgeTime){var i=p.getExpectedLiveEdge();return p.setExpectedLiveEdge(r),void y((0,g.default)(l).create(i,x))}s={start:Math.max(0,r-n),end:r+n},t=Math.floor((d.end-d.start)/2),c=o.getFragmentRequestForTime(A,u,r,{ignoreIsFinished:!0}),e(r,h,f,c)}function d(){r=NaN,s=null,t=NaN,u=null,v=!1,w=NaN,A=null,z=null}function e(a,b,c,d){var f;if(null===d)f=o.generateFragmentRequestForTime(A,u,a),e(a,b,c,f);else{var g=function d(e){m.off(k.default.CHECK_FOR_EXISTENCE_COMPLETED,d,this),e.exists?b(e.request,a):c(e.request,a)};m.on(k.default.CHECK_FOR_EXISTENCE_COMPLETED,g,this),z.checkForExistence(d)}}function f(a,b){var c,d,i;return v?void j(!1,b):(i=b-r,c=i>0?r-i:r+Math.abs(i)+t,void(c<s.start&&c>s.end?y((0,g.default)(l).create(null,x)):(d=o.getFragmentRequestForTime(A,u,c,{ignoreIsFinished:!0}),e(c,h,f,d))))}function h(a,b){var c,d,f=a.startTime;if(!v){if(!u.fragmentDuration)return void y((0,g.default)(l).create(f,x));if(v=!0,s.end=f+2*t,b===r)return d=b+w,c=o.getFragmentRequestForTime(A,u,d,{ignoreIsFinished:!0}),void e(d,function(){j(!0,d)},function(){y((0,g.default)(l).create(d,x))},c)}j(!0,b)}function j(a,b){var c,d,i;a?s.start=b:s.end=b,c=Math.floor(s.end-s.start)<=w,c?y((0,g.default)(l).create(a?b:b-w,x)):(i=(s.start+s.end)/2,d=o.getFragmentRequestForTime(A,u,i,{ignoreIsFinished:!0}),e(i,h,f,d))}var l=this.context,m=(0,i.default)(l).getInstance(),o=a.adapter,p=a.timelineConverter,q=void 0,r=void 0,s=void 0,t=void 0,u=void 0,v=void 0,w=void 0,x=void 0,y=void 0,z=void 0,A=void 0;return q={execute:c,reset:d},b(),q}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(130),g=d(f),h=a(9),i=d(h),j=a(13),k=d(j),l=a(10),m=d(l),n=43200;e.__dashjs_factory_name=\\\"LiveEdgeBinarySearchRule\\\",c.default=m.default.getClassFactory(e),b.exports=c.default},{10:10,13:13,130:130,9:9}],143:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(a,b){var c=a.getTrackInfo(),f=c.DVRWindow.end,h=g.default.DEFAULT;if(c.useCalculatedLiveEdgeTime){var i=e.getExpectedLiveEdge();e.setExpectedLiveEdge(f),b((0,g.default)(d).create(i,h))}else b((0,g.default)(d).create(f,h))}var c=void 0,d=this.context,e=a.timelineConverter;return c={execute:b}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(130),g=d(f),h=a(10),i=d(h);e.__dashjs_factory_name=\\\"LiveEdgeWithTimeSynchronizationRule\\\",c.default=i.default.getClassFactory(e),b.exports=c.default},{10:10,130:130}],144:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){e=[],f=[],e.push((0,m.default)(c).create({timelineConverter:(0,i.default)(c).getInstance()})),f.push((0,k.default)(c).create({timelineConverter:(0,i.default)(c).getInstance(),adapter:(0,o.default)(c).getInstance()}))}function b(a){switch(a){case p:return e;case q:return f;default:return null}}var c=this.context,d=void 0,e=void 0,f=void 0;return d={initialize:a,getRules:b}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f),h=a(37),i=d(h),j=a(142),k=d(j),l=a(143),m=d(l),n=a(15),o=d(n),p=\\\"withAccurateTimeSourceRules\\\",q=\\\"bestGuestRules\\\";e.__dashjs_factory_name=\\\"SynchronizationRulesCollection\\\";var r=g.default.getSingletonFactory(e);r.TIME_SYNCHRONIZED_RULES=p,r.BEST_GUESS_RULES=q,c.default=r,b.exports=c.default},{10:10,142:142,143:143,15:15,37:37}],145:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){l=(0,m.default)(e).create({updateEventName:i.default.SERVICE_LOCATION_BLACKLIST_CHANGED,loadFailedEventName:i.default.FRAGMENT_LOADING_COMPLETED}),n=(0,q.default)(e).create({blacklistController:l}),p=(0,o.default)(e).create({blacklistController:l}),r=n}function b(a){r=h.getIsDVB(a)?p:n}function c(a){var b=a.baseUrls,c=a.selectedIdx;if(!isNaN(c))return b[c];var d=r.select(b);return d?(a.selectedIdx=b.indexOf(d),d):void f.trigger(i.default.URL_RESOLUTION_FAILED,{error:new Error(t,u)})}function d(){l.reset()}var e=this.context,f=(0,g.default)(e).getInstance(),h=(0,k.default)(e).getInstance(),j=void 0,l=void 0,n=void 0,p=void 0,r=void 0;return j={chooseSelectorFromManifest:b,select:c,reset:d},a(),j}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(9),g=d(f),h=a(13),i=d(h),j=a(22),k=d(j),l=a(62),m=d(l),n=a(139),o=d(n),p=a(138),q=d(p),r=a(10),s=d(r),t=1,u=\\\"Failed to resolve a valid URL\\\";e.__dashjs_factory_name=\\\"BaseURLSelector\\\";var v=s.default.getClassFactory(e);v.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=t,v.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE=u,c.default=v,b.exports=c.default},{10:10,13:13,138:138,139:139,22:22,62:62,9:9}],146:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a){if(!a)return null;void 0===a.fileStart&&(a.fileStart=0);var b=k.default.parseBuffer(a),d=(0,g.default)(c).create();return d.setData(b),d}var b=void 0,c=this.context;return b={parse:a}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(153),g=d(f),h=a(10),i=d(h),j=a(6),k=d(j);e.__dashjs_factory_name=\\\"BoxParser\\\",c.default=i.default.getSingletonFactory(e),b.exports=c.default},{10:10,153:153,6:6}],147:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){g=!1}function b(){var a=\\\"WebKitMediaSource\\\"in window,b=\\\"MediaSource\\\"in window;return a||b}function c(){return g}function d(a){g=a}function e(a,b){var c=a.canPlayType(b);return\\\"probably\\\"===c||\\\"maybe\\\"===c}var f=void 0,g=void 0;return f={supportsMediaSource:b,supportsEncryptedMedia:c,supportsCodec:e,setEncryptedMediaSupported:d},a(),f}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f);e.__dashjs_factory_name=\\\"Capabilities\\\",c.default=g.default.getSingletonFactory(e),b.exports=c.default},{10:10}],148:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a,b){var c=0;for(c=0;c<this.customTimeRangeArray.length&&a>this.customTimeRangeArray[c].start;c++);for(this.customTimeRangeArray.splice(c,0,{start:a,end:b}),c=0;c<this.customTimeRangeArray.length-1;c++)this.mergeRanges(c,c+1)&&c--;this.length=this.customTimeRangeArray.length}function b(){this.customTimeRangeArray=[],this.length=0}function c(a,b){for(var c=0;c<this.customTimeRangeArray.length;c++)if(a<=this.customTimeRangeArray[c].start&&b>=this.customTimeRangeArray[c].end)this.customTimeRangeArray.splice(c,1),c--;else{if(a>this.customTimeRangeArray[c].start&&b<this.customTimeRangeArray[c].end){this.customTimeRangeArray.splice(c+1,0,{start:b,end:this.customTimeRangeArray[c].end}),this.customTimeRangeArray[c].end=a;break}a>this.customTimeRangeArray[c].start&&a<this.customTimeRangeArray[c].end?this.customTimeRangeArray[c].end=a:b>this.customTimeRangeArray[c].start&&b<this.customTimeRangeArray[c].end&&(this.customTimeRangeArray[c].start=b)}this.length=this.customTimeRangeArray.length}function d(a,b){var c=this.customTimeRangeArray[a],d=this.customTimeRangeArray[b];return c.start<=d.start&&d.start<=c.end&&c.end<=d.end?(c.end=d.end,this.customTimeRangeArray.splice(b,1),!0):d.start<=c.start&&c.start<=d.end&&d.end<=c.end?(c.start=d.start,this.customTimeRangeArray.splice(b,1),!0):d.start<=c.start&&c.start<=d.end&&c.end<=d.end?(this.customTimeRangeArray.splice(a,1),!0):c.start<=d.start&&d.start<=c.end&&d.end<=c.end&&(this.customTimeRangeArray.splice(b,1),!0)}function e(a){return this.customTimeRangeArray[a].start}function f(a){return this.customTimeRangeArray[a].end}var g=[],h=0;return{customTimeRangeArray:g,length:h,add:a,clear:b,remove:c,mergeRanges:d,start:e,end:f}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f);e.__dashjs_factory_name=\\\"CustomTimeRanges\\\",c.default=g.default.getClassFactory(e),b.exports=c.default},{10:10}],149:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a){if(void 0!==t)return t;t=!1;var b,c=\\\"1\\\",d=\\\"1\\\";try{\\\"undefined\\\"!=typeof window&&(b=window[a])}catch(e){return r(\\\"Warning: DOMStorage access denied: \\\"+e.message),t}if(!b||a!==o&&a!==p)return t;try{b.setItem(c,d),b.removeItem(c),t=!0}catch(e){r(\\\"Warning: DOMStorage is supported, but cannot be used: \\\"+e.message)}return t}function b(){a(o)&&l.forEach(function(a){var b=localStorage.getItem(a.oldKey);if(b){localStorage.removeItem(a.oldKey);try{localStorage.setItem(a.newKey,b)}catch(c){r(c.message)}}})}function c(){u=(0,i.default)(q).getInstance(),b()}function d(){var a=6e5;return Math.round((new Date).getTime()/a)*a}function e(b,c){return a(b)&&u[\\\"get\\\"+c+\\\"CachingInfo\\\"]().enabled}function f(a){if(!e(o,\\\"LastMediaSettings\\\"))return null;var b=n.replace(/\\\\?/,a),c=JSON.parse(localStorage.getItem(b))||{},d=(new Date).getTime()-parseInt(c.timestamp,10)>=u.getLastMediaSettingsCachingInfo().ttl||!1,f=c.settings;return d&&(localStorage.removeItem(b),f=null),f}function g(a){var b=NaN;if(e(o,\\\"LastBitrate\\\")){var c=m.replace(/\\\\?/,a),d=JSON.parse(localStorage.getItem(c))||{},f=(new Date).getTime()-parseInt(d.timestamp,10)>=u.getLastBitrateCachingInfo().ttl||!1,g=parseInt(d.bitrate,10);isNaN(g)||f?f&&localStorage.removeItem(c):(b=g,r(\\\"Last saved bitrate for \\\"+a+\\\" was \\\"+g))}return b}function h(a,b){if(e(o,\\\"LastMediaSettings\\\")){var c=n.replace(/\\\\?/,a);try{localStorage.setItem(c,JSON.stringify({settings:b,timestamp:d()}))}catch(f){r(f.message)}}}function j(a,b){if(e(o,\\\"LastBitrate\\\")&&b){var c=m.replace(/\\\\?/,a);try{localStorage.setItem(c,JSON.stringify({bitrate:b/1e3,timestamp:d()}))}catch(f){r(f.message)}}}var q=this.context,r=(0,k.default)(q).getInstance().log,s=void 0,t=void 0,u=void 0;return s={getSavedBitrateSettings:g,setSavedBitrateSettings:j,getSavedMediaSettings:f,setSavedMediaSettings:h,isSupported:a},c(),s}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f),h=a(101),i=d(h),j=a(8),k=d(j),l=[{oldKey:\\\"dashjs_vbitrate\\\",newKey:\\\"dashjs_video_bitrate\\\"},{oldKey:\\\"dashjs_abitrate\\\",newKey:\\\"dashjs_audio_bitrate\\\"},{oldKey:\\\"dashjs_vsettings\\\",newKey:\\\"dashjs_video_settings\\\"},{oldKey:\\\"dashjs_asettings\\\",newKey:\\\"dashjs_audio_settings\\\"}],m=\\\"dashjs_?_bitrate\\\",n=\\\"dashjs_?_settings\\\",o=\\\"localStorage\\\",p=\\\"sessionStorage\\\";e.__dashjs_factory_name=\\\"DOMStorage\\\";var q=g.default.getSingletonFactory(e);c.default=q,b.exports=c.default},{10:10,101:101,8:8}],150:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(){return o}function c(a){o=a}function d(a,b){var c=!0,d=0,e=void 0,f=void 0;if(void 0===b&&(b=!1),a.tag>16777215?(n.getUint32(o)!==a.tag&&(c=!1),d=4):a.tag>65535?(e=n.getUint16(o),f=n.getUint8(o+2),256*e+f!==a.tag&&(c=!1),d=3):a.tag>255?(n.getUint16(o)!==a.tag&&(c=!1),d=2):(n.getUint8(o)!==a.tag&&(c=!1),d=1),!c&&a.required&&!b)throw new i.default(\\\"required tag not found\\\");return c&&(o+=d),c}function e(a,b){var c=d(a,b);return c&&h(),c}function f(a){var b=void 0;return d(a),b=h(),m[a.parse](b)}function g(a,b){var c=d(a,b),e=void 0;return c&&(e=h(),o+=e),c}function h(a){var b=1,c=128,d=8,e=-1,f=0,g=n.getUint8(o),h=void 0;for(h=0;h<d;h+=1){if((g&c)===c){f=void 0===a?g&~c:g,e=h;break}c>>=1}for(h=0;h<e;h+=1,b+=1)f=f<<8|255&n.getUint8(o+b);return o+=b,f}function j(a){var b=void 0;switch(a){case 4:b=n.getFloat32(o),o+=4;break;case 8:b=n.getFloat64(o),o+=8}return b}function k(a){var b=0,c=void 0;for(c=0;c<a;c+=1)b<<=8,b|=255&n.getUint8(o+c);return o+=a,b}function l(){return o<n.byteLength}var m=void 0,n=new DataView(a.data),o=0;return m={getPos:b,\\nsetPos:c,consumeTag:d,consumeTagAndSize:e,parseTag:f,skipOverElement:g,getMatroskaCodedNum:h,getMatroskaFloat:j,getMatroskaUint:k,moreData:l}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f),h=a(162),i=d(h);e.__dashjs_factory_name=\\\"EBMLParser\\\",c.default=g.default.getClassFactory(e),b.exports=c.default},{10:10,162:162}],151:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a){l.trigger(i.default.ERROR,{error:\\\"capability\\\",event:a})}function b(a,b,c){l.trigger(i.default.ERROR,{error:\\\"download\\\",event:{id:a,url:b,request:c}})}function c(a,b,c,d){l.trigger(i.default.ERROR,{error:\\\"manifestError\\\",event:{message:a,id:b,manifest:c,event:d}})}function d(a,b,c){l.trigger(i.default.ERROR,{error:\\\"cc\\\",event:{message:a,id:b,cc:c}})}function e(a){l.trigger(i.default.ERROR,{error:\\\"mediasource\\\",event:a})}function f(a){l.trigger(i.default.ERROR,{error:\\\"key_session\\\",event:a})}function h(a){l.trigger(i.default.ERROR,{error:\\\"key_message\\\",event:a})}var j=void 0,k=this.context,l=(0,g.default)(k).getInstance();return j={capabilityError:a,downloadError:b,manifestError:c,timedTextError:d,mediaSourceError:e,mediaKeySessionError:f,mediaKeyMessageError:h}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(9),g=d(f),h=a(13),i=d(h),j=a(10),k=d(j),l=\\\"mediasource\\\",m=\\\"mediakeys\\\",n=\\\"manifest\\\",o=\\\"SIDX\\\",p=\\\"content\\\",q=\\\"initialization\\\",r=\\\"xlink\\\",s=\\\"codec\\\",t=\\\"parse\\\",u=\\\"nostreams\\\",v=\\\"parse\\\";e.__dashjs_factory_name=\\\"ErrorHandler\\\";var w=k.default.getSingletonFactory(e);w.CAPABILITY_ERROR_MEDIASOURCE=l,w.CAPABILITY_ERROR_MEDIAKEYS=m,w.DOWNLOAD_ERROR_ID_MANIFEST=n,w.DOWNLOAD_ERROR_ID_SIDX=o,w.DOWNLOAD_ERROR_ID_CONTENT=p,w.DOWNLOAD_ERROR_ID_INITIALIZATION=q,w.DOWNLOAD_ERROR_ID_XLINK=r,w.MANIFEST_ERROR_ID_CODEC=s,w.MANIFEST_ERROR_ID_PARSE=t,w.MANIFEST_ERROR_ID_NOSTREAMS=u,w.TIMED_TEXT_ERROR_ID_PARSE=v,c.default=w,b.exports=c.default},{10:10,13:13,9:9}],152:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a){var b=a.streamId,c=a.mediaInfo.type,e=a.quality;d[b]=d[b]||{},d[b][c]=d[b][c]||{},d[b][c][e]=a}function b(a,b,c){return d[a][b][c]}function c(){d={}}var d={},e={save:a,extract:b,reset:c};return e}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f);e.__dashjs_factory_name=\\\"InitCache\\\",c.default=g.default.getSingletonFactory(e),b.exports=c.default},{10:10}],153:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a){return a&&k&&k.boxes&&0!==k.boxes.length?i(k.fetch(a)):null}function b(a){for(var b,c=k.fetchAll(a),d=[],e=0,f=c.length;e<f;e++)b=i(c[e]),b&&d.push(b);return d}function c(a){k=a}function d(){if(!k||!k.boxes||!k.boxes.length)return null;var a=k.boxes[k.boxes.length-1].type,c=b(a);return c[c.length-1]}function e(){return k._cursor.offset}function f(){l={offset:\\\"_offset\\\",size:\\\"size\\\",type:\\\"type\\\"},m={references:\\\"references\\\",timescale:\\\"timescale\\\",earliest_presentation_time:\\\"earliest_presentation_time\\\",first_offset:\\\"first_offset\\\"},n={reference_type:\\\"reference_type\\\",referenced_size:\\\"referenced_size\\\",subsegment_duration:\\\"subsegment_duration\\\"},o={id:\\\"id\\\",value:\\\"value\\\",timescale:\\\"timescale\\\",scheme_id_uri:\\\"scheme_id_uri\\\",presentation_time_delta:\\\"presentation_time_delta\\\",event_duration:\\\"event_duration\\\",message_data:\\\"message_data\\\"},p={timescale:\\\"timescale\\\"},q={sequence_number:\\\"sequence_number\\\"},r={base_data_offset:\\\"base_data_offset\\\",sample_description_index:\\\"sample_description_index\\\",default_sample_duration:\\\"default_sample_duration\\\",default_sample_size:\\\"default_sample_size\\\",default_sample_flags:\\\"default_sample_flags\\\",flags:\\\"flags\\\"},s={version:\\\"version\\\",baseMediaDecodeTime:\\\"baseMediaDecodeTime\\\",flags:\\\"flags\\\"},t={sample_count:\\\"sample_count\\\",first_sample_flags:\\\"first_sample_flags\\\",data_offset:\\\"data_offset\\\",flags:\\\"flags\\\",samples:\\\"samples\\\"},u={sample_size:\\\"sample_size\\\",sample_duration:\\\"sample_duration\\\",sample_composition_time_offset:\\\"sample_composition_time_offset\\\"}}function h(a,b,c){for(var d in c)b[d]=a[c[d]]}function i(a){if(!a)return null;var b,c,d=new g.default;switch(h(a,d,l),a.hasOwnProperty(\\\"_incomplete\\\")&&(d.isComplete=!a._incomplete),d.type){case\\\"sidx\\\":if(h(a,d,m),d.references)for(b=0,c=d.references.length;b<c;b++)h(a.references[b],d.references[b],n);break;case\\\"emsg\\\":h(a,d,o);break;case\\\"mdhd\\\":h(a,d,p);break;case\\\"mfhd\\\":h(a,d,q);break;case\\\"tfhd\\\":h(a,d,r);break;case\\\"tfdt\\\":h(a,d,s);break;case\\\"trun\\\":if(h(a,d,t),d.samples)for(b=0,c=d.samples.length;b<c;b++)h(a.samples[b],d.samples[b],u)}return d}var j=void 0,k=void 0,l=void 0,m=void 0,n=void 0,o=void 0,p=void 0,q=void 0,r=void 0,s=void 0,t=void 0,u=void 0;return j={getBox:a,getBoxes:b,setData:c,getLastBox:d,getOffset:e},f(),j}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(165),g=d(f),h=a(10),i=d(h);e.__dashjs_factory_name=\\\"IsoFile\\\",c.default=i.default.getClassFactory(e),b.exports=c.default},{10:10,165:165}],154:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a,b){n=a,p=b,s=!1,t=NaN,v=null,q=(0,o.default)(h).getInstance(),w=g.default.BEST_GUESS_RULES,j.on(m.default.STREAM_INITIALIZED,f,this)}function b(){s=!1,t=NaN}function c(){return v}function d(){j.off(m.default.STREAM_INITIALIZED,f,this),b(),v=null,n=null,p=null,s=!1,t=NaN,w=null,q=null}function e(a){var b=((new Date).getTime()-t)/1e3;v=a.value,j.trigger(m.default.LIVE_EDGE_SEARCH_COMPLETED,{liveEdge:v,searchTime:b,error:null===v?new i.default(r,\\\"live edge has not been found\\\",null):null})}function f(a){!p.isDynamic()||s||a.error||(w=n.isTimeSyncCompleted()?g.default.TIME_SYNCHRONIZED_RULES:g.default.BEST_GUESS_RULES,u=(0,g.default)(h).getInstance().getRules(w),s=!0,t=(new Date).getTime(),q.applyRules(u,p,e,null,function(a,b){return b}))}var h=this.context,j=(0,k.default)(h).getInstance(),l=void 0,n=void 0,p=void 0,q=void 0,s=void 0,t=void 0,u=void 0,v=void 0,w=void 0;return l={initialize:a,abortSearch:b,getLiveEdge:c,reset:d}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(144),g=d(f),h=a(162),i=d(h),j=a(9),k=d(j),l=a(13),m=d(l),n=a(129),o=d(n),p=a(10),q=d(p),r=1;e.__dashjs_factory_name=\\\"LiveEdgeFinder\\\";var s=q.default.getSingletonFactory(e);s.LIVE_EDGE_NOT_FOUND_ERROR_CODE=r,c.default=s,b.exports=c.default},{10:10,129:129,13:13,144:144,162:162,9:9}],155:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a,b){return JSON.stringify(a)===JSON.stringify(b)}var b=void 0;return b={areSimpleEquivalent:a}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f);e.__dashjs_factory_name=\\\"ObjectUtils\\\",c.default=g.default.getSingletonFactory(e),b.exports=c.default},{10:10}],156:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a){return a}function b(a){return a}var c=void 0;return c={modifyRequestURL:a,modifyRequestHeader:b}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f);e.__dashjs_factory_name=\\\"RequestModifier\\\",c.default=g.default.getSingletonFactory(e),b.exports=c.default},{10:10}],157:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a){a&&a.videoModel&&(ba=a.videoModel)}function b(a){if(a.hasOwnProperty(\\\"begin\\\")&&a.hasOwnProperty(\\\"end\\\")){var b=o(a.begin),c=o(a.end);return[b,c]}return null}function c(){var a=\\\"cue_TTML_\\\"+ca;return ca++,a}function d(a,b,c){function d(a,b){if(a.hasOwnProperty(b)){var c=a[b];f.indexOf(c)<0&&f.push(c)}}for(var e=[],f=[],g=[],h=0;h<a.length;h++){var i=a[h];d(i,\\\"begin\\\"),d(i,\\\"end\\\")}if(0===f.length)return g;if(\\\"undefined\\\"!=typeof b&&\\\"undefined\\\"!=typeof c){for(var h=0;h<f.length;h++){var j=o(f[h]);b<j&&j<c&&e.push(j)}e.push(b),e.push(c)}else for(var h=0;h<f.length;h++)e.push(o(f[h]));e.sort(function(a,b){return a-b});for(var h=0;h<e.length-1;h++)g.push([e[h],e[h+1]]);return g}function e(a,b){return\\\"undefined\\\"!=typeof startInterval&&a<b&&(a=b),a}function f(a,b){return\\\"undefined\\\"!=typeof b&&a>b&&(a=b),a}function g(a,b,c){var d=o(a.begin),g=o(a.end);return d=e(d,b),g=f(g,c),\\\"undefined\\\"!=typeof b&&\\\"undefined\\\"!=typeof c&&(g<b||d>c)?(L(\\\"TTML: Cue \\\"+d+\\\"-\\\"+g+\\\" outside interval \\\"+b+\\\"-\\\"+c),null):[d,g]}function h(a,c){var d=!0;if(a.hasOwnProperty(\\\"span\\\")){var e=b(a.span);null!==e&&(d=e[0]<c[1]&&e[1]>c[0])}return d}function j(a,e,f){var j=void 0,k=void 0,l=void 0,m=void 0,n=void 0,o=\\\"\\\",r=new i.default([],\\\"\\\",(!1));if(O=r.xml_str2json(a),!O)throw new Error(\\\"TTML document could not be parsed\\\");if(ba.getTTMLRenderingDiv()&&(n=\\\"html\\\"),j=O.tt,!j)throw new Error(\\\"TTML document lacks tt element\\\");var s=p(j,\\\"http://www.w3.org/ns/ttml\\\");if(s&&q(j,s),m=j[\\\"tts:extent\\\"],k=j.head,!k)throw new Error(\\\"TTML document lacks head element\\\");if(k.layout&&(Q=k.layout.region_asArray),k.styling&&(P=k.styling.style_asArray),l=j.body,!l)throw new Error(\\\"TTML document lacks body element\\\");var w=E(),x=ba.getElement().clientWidth,y=ba.getElement().clientHeight,z=[x/w[0],y/w[1]];V[\\\"font-size\\\"]=z[1]+\\\"px;\\\";var D=[];if(Q)for(var J=0;J<Q.length;J++)D.push(B(JSON.parse(JSON.stringify(Q[J])),z));var K=p(O.tt,\\\"http://www.w3.org/ns/ttml#parameter\\\");j.hasOwnProperty(K+\\\":frameRate\\\")&&(j.frameRate=parseInt(j[K+\\\":frameRate\\\"],10));for(var M=[],N=j.body_asArray[0].__children,U=0;U<N.length;U++){var W=N[U].div,X=null;if(null===(X=b(W))){var Y=W.p_asArray;if(null===X&&(!Y||0===Y.length))return o=\\\"TTML has div that contains no timing and no paragraphs.\\\",L(o),M;for(var Z=0;Z<Y.length;Z++){var $=Y[Z],_=$.span_asArray,aa=[];if($.hasOwnProperty(\\\"begin\\\")&&$.hasOwnProperty(\\\"end\\\")){var ca=g($,e,f);null!==ca&&aa.push(ca)}else aa=d(_,e,f);if(0!==aa.length)for(var da=$.__children,ea=0;ea<aa.length;ea++){for(var fa=aa[ea],ga=[],ha=0;ha<da.length;ha++){var ia=da[ha];h(ia,fa)&&ga.push(ia)}if(0!==ga.length)if(\\\"html\\\"===n){S={},T={},R={};var ja=H($,W,z),ka=I($,z),la=ka[1];ka=ka[0];var ma=document.createElement(\\\"div\\\");ma.className=la;var na=G(ga,z);na.className=\\\"cueDirUniWrapper\\\",t(\\\"unicode-bidi\\\",ka)&&(na.style.cssText+=u(\\\"unicode-bidi\\\",ka),v(\\\"unicode-bidi\\\",ka)),t(\\\"direction\\\",ka)&&(na.style.cssText+=u(\\\"direction\\\",ka),v(\\\"direction\\\",ka)),t(\\\"padding-left\\\",ka)&&t(\\\"padding-right\\\",ka)&&(na.innerHTML=F(na,ka)),t(\\\"padding-left\\\",ka)&&t(\\\"padding-right\\\",ka)&&(v(\\\"padding-left\\\",ka),v(\\\"padding-right\\\",ka));var oa=\\\"\\\";if(t(\\\"regionID\\\",ja)){var pa=u(\\\"regionID\\\",ja);oa=pa.slice(pa.indexOf(\\\":\\\")+1,pa.length-1)}ka&&(ma.style.cssText=ka.join(\\\" \\\")+\\\"display:flex;\\\"),ja&&(ja=ja.join(\\\" \\\")),ma.appendChild(na);var qa=document.createElement(\\\"div\\\");qa.appendChild(ma),qa.id=c(),qa.style.cssText=\\\"position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;\\\"+ja,0===Object.keys(R).length&&(R.defaultFontSize=\\\"100\\\"),M.push({start:fa[0],end:fa[1],type:\\\"html\\\",cueHTMLElement:qa,regions:D,regionID:oa,cueID:qa.id,videoHeight:y,videoWidth:x,cellResolution:w,fontSize:R||{defaultFontSize:\\\"100\\\"},lineHeight:S,linePadding:T})}else{var ra=\\\"\\\",sa=ga;sa.length&&sa.forEach(function(a){if(a.hasOwnProperty(\\\"span\\\")){var b=a.span.__children;b.forEach(function(a){b.hasOwnProperty(\\\"metadata\\\")||(a.hasOwnProperty(\\\"#text\\\")?ra+=a[\\\"#text\\\"].replace(/[\\\\r\\\\n]+/gm,\\\" \\\").trim():\\\"br\\\"in a&&(ra+=\\\"\\\\n\\\"))})}else ra+=a.hasOwnProperty(\\\"br\\\")?\\\"\\\\n\\\":a[\\\"#text\\\"].replace(/[\\\\r\\\\n]+/gm,\\\" \\\").trim()}),M.push({start:fa[0],end:fa[1],data:ra,type:\\\"text\\\"})}}else o=\\\"TTML: Empty paragraph\\\"}}else{var ta=void 0;if(W.region){var ua=C(Q,W.region);ta=A(ua,m)}ta||(ta=A(W,m));var va=j.head.metadata.image_asArray;if(void 0!==W[\\\"smpte:backgroundImage\\\"])for(var wa=0;wa<va.length;wa++)\\\"#\\\"+va[wa][\\\"xml:id\\\"]===W[\\\"smpte:backgroundImage\\\"]&&M.push({start:X[0],end:X[1],id:c(),data:\\\"data:image/\\\"+va[wa].imagetype.toLowerCase()+\\\";base64, \\\"+va[wa].__text,type:\\\"image\\\",layout:ta})}}if(\\\"\\\"!==o&&L(o),M.length>0)return M;throw new Error(o)}function n(){N=/^([0-9][0-9]+):([0-5][0-9]):([0-5][0-9])|(60)(\\\\.([0-9])+)?$/,R={},S={},T={},U={top:\\\"auto;\\\",left:\\\"auto;\\\",width:\\\"90%;\\\",height:\\\"10%;\\\",\\\"align-items\\\":\\\"flex-start;\\\",overflow:\\\"visible;\\\",\\\"-ms-writing-mode\\\":\\\"lr-tb, horizontal-tb;\\\",\\\"-webkit-writing-mode\\\":\\\"horizontal-tb;\\\",\\\"-moz-writing-mode\\\":\\\"horizontal-tb;\\\",\\\"writing-mode\\\":\\\"horizontal-tb;\\\"},V={color:\\\"rgb(255,255,255);\\\",direction:\\\"ltr;\\\",\\\"font-family\\\":\\\"monospace, sans-serif;\\\",\\\"font-style\\\":\\\"normal;\\\",\\\"line-height\\\":\\\"normal;\\\",\\\"font-weight\\\":\\\"normal;\\\",\\\"text-align\\\":\\\"start;\\\",\\\"justify-content\\\":\\\"flex-start;\\\",\\\"text-decoration\\\":\\\"none;\\\",\\\"unicode-bidi\\\":\\\"normal;\\\",\\\"white-space\\\":\\\"normal;\\\",width:\\\"100%;\\\"},W={monospace:\\\"font-family: monospace;\\\",sansSerif:\\\"font-family: sans-serif;\\\",serif:\\\"font-family: serif;\\\",monospaceSansSerif:\\\"font-family: monospace, sans-serif;\\\",monospaceSerif:\\\"font-family: monospace, serif;\\\",proportionalSansSerif:\\\"font-family: Arial;\\\",proportionalSerif:\\\"font-family: Times New Roman;\\\",default:\\\"font-family: monospace, sans-serif;\\\"},X={right:[\\\"justify-content: flex-end;\\\",\\\"text-align: right;\\\"],start:[\\\"justify-content: flex-start;\\\",\\\"text-align: start;\\\"],center:[\\\"justify-content: center;\\\",\\\"text-align: center;\\\"],end:[\\\"justify-content: flex-end;\\\",\\\"text-align: end;\\\"],left:[\\\"justify-content: flex-start;\\\",\\\"text-align: left;\\\"]},Y={start:\\\"text-align: start;\\\",center:\\\"text-align: center;\\\",end:\\\"text-align: end;\\\",auto:\\\"\\\"},Z={wrap:\\\"white-space: normal;\\\",noWrap:\\\"white-space: nowrap;\\\"},$={normal:\\\"unicode-bidi: normal;\\\",embed:\\\"unicode-bidi: embed;\\\",bidiOverride:\\\"unicode-bidi: bidi-override;\\\"},_={before:\\\"align-items: flex-start;\\\",center:\\\"align-items: center;\\\",after:\\\"align-items: flex-end;\\\"},aa={lrtb:\\\"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;\\\",rltb:\\\"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;unicode-bidi: bidi-override;\\\",tbrl:\\\"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;\\\",tblr:\\\"-webkit-writing-mode: vertical-lr;writing-mode: vertical-lr;-webkit-text-orientation: upright;text-orientation: upright;\\\",lr:\\\"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;\\\",rl:\\\"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;\\\",tb:\\\"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;\\\"}}function o(a){var b,c,d,e=N.test(a);if(!e)return NaN;if(b=a.split(\\\":\\\"),c=parseFloat(b[0])*l+parseFloat(b[1])*m+parseFloat(b[2]),b[3]){if(d=O.tt.frameRate,!d||isNaN(d))return NaN;c+=parseFloat(b[3])/d}return c}function p(a,b){var c=Object.keys(a).filter(function(c){return(\\\"xmlns\\\"===c.split(\\\":\\\")[0]||\\\"xmlns\\\"===c.split(\\\":\\\")[1])&&a[c]===b}).map(function(a){return a.split(\\\":\\\")[2]||a.split(\\\":\\\")[1]});return 1!=c.length?null:c[0]}function q(a,b){for(var c in a)if(a.hasOwnProperty(c)){if((\\\"object\\\"==typeof a[c]||a[c]instanceof Object)&&!Array.isArray(a[c]))q(a[c],b);else if(Array.isArray(a[c]))for(var d=0;d<a[c].length;d++)q(a[c][d],b);var e=c.slice(c.indexOf(b)+b.length+1);a[e]=a[c],delete a[c]}}function r(a){return a.replace(/([a-z])([A-Z])/g,\\\"$1-$2\\\").toLowerCase()}function s(a){var b=a.slice(1),c=b.match(/.{2}/g),d=parseFloat(parseInt(parseInt(c[3],16)/255*1e3,10)/1e3),e=c.slice(0,3).map(function(a){return parseInt(a,16)});return\\\"rgba(\\\"+e.join(\\\",\\\")+\\\",\\\"+d+\\\");\\\"}function t(a,b){for(var c=0;c<b.length;c++)if(b[c].indexOf(a)>-1)return!0;return!1}function u(a,b){for(var c=0;c<b.length;c++)if(b[c].indexOf(a)>-1)return b[c];return null}function v(a,b){b.splice(b.indexOf(u(a,b)),1)}function w(a,b){for(var c=0;c<a.length;c++)for(var d=0;d<b.length;d++)a[c]&&a[c].split(\\\":\\\")[0].indexOf(b[d].split(\\\":\\\")[0])>-1&&a.splice(c,1);return a.concat(b)}function x(a,b,c){var d=[];for(var e in a)if(a.hasOwnProperty(e)){var f=e.replace(\\\"ebutts:\\\",\\\"\\\");f=f.replace(\\\"xml:\\\",\\\"\\\"),f=f.replace(\\\"tts:\\\",\\\"\\\"),f=r(f),a[f]=a[e],delete a[e]}if(\\\"line-padding\\\"in a){var g=parseFloat(a[\\\"line-padding\\\"].slice(a[\\\"line-padding\\\"].indexOf(\\\":\\\")+1,a[\\\"line-padding\\\"].indexOf(\\\"c\\\")));\\\"id\\\"in a&&(T[a.id]=g);var h=g*b[0]+\\\"px;\\\";d.push(\\\"padding-left:\\\"+h),d.push(\\\"padding-right:\\\"+h)}if(\\\"font-size\\\"in a){var i=parseFloat(a[\\\"font-size\\\"].slice(a[\\\"font-size\\\"].indexOf(\\\":\\\")+1,a[\\\"font-size\\\"].indexOf(\\\"%\\\")));\\\"id\\\"in a&&(R[a.id]=i);var j=i/100*b[1]+\\\"px;\\\";d.push(\\\"font-size:\\\"+j)}if(\\\"line-height\\\"in a)if(\\\"normal\\\"===a[\\\"line-height\\\"])d.push(\\\"line-height: normal;\\\");else{var k=parseFloat(a[\\\"line-height\\\"].slice(a[\\\"line-height\\\"].indexOf(\\\":\\\")+1,a[\\\"line-height\\\"].indexOf(\\\"%\\\")));\\\"id\\\"in a&&(S[a.id]=k);var l=k/100*b[1]+\\\"px;\\\";d.push(\\\"line-height:\\\"+l)}\\\"font-family\\\"in a&&(a[\\\"font-family\\\"]in W?d.push(W[a[\\\"font-family\\\"]]):d.push(\\\"font-family:\\\"+a[\\\"font-family\\\"]+\\\";\\\")),\\\"text-align\\\"in a&&a[\\\"text-align\\\"]in X&&(d.push(X[a[\\\"text-align\\\"]][0]),d.push(X[a[\\\"text-align\\\"]][1])),\\\"multi-row-align\\\"in a&&(t(\\\"text-align\\\",d)&&\\\"auto\\\"!=a[\\\"multi-row-align\\\"]&&v(\\\"text-align\\\",d),a[\\\"multi-row-align\\\"]in Y&&d.push(Y[a[\\\"multi-row-align\\\"]]));var m;return\\\"background-color\\\"in a&&(a[\\\"background-color\\\"].indexOf(\\\"#\\\")>-1&&a[\\\"background-color\\\"].length-1===8?(m=s(a[\\\"background-color\\\"]),d.push(\\\"background-color: \\\"+m)):d.push(\\\"background-color:\\\"+a[\\\"background-color\\\"]+\\\";\\\")),\\\"color\\\"in a&&(a.color.indexOf(\\\"#\\\")>-1&&a.color.length-1===8?(m=s(a.color),d.push(\\\"color: \\\"+m)):d.push(\\\"color:\\\"+a.color+\\\";\\\")),\\\"wrap-option\\\"in a&&(a[\\\"wrap-option\\\"]in Z?d.push(Z[a[\\\"wrap-option\\\"]]):d.push(\\\"white-space:\\\"+a[\\\"wrap-option\\\"])),\\\"unicode-bidi\\\"in a&&(a[\\\"unicode-bidi\\\"]in $?d.push($[a[\\\"unicode-bidi\\\"]]):d.push(\\\"unicode-bidi:\\\"+a[\\\"unicode-bidi\\\"])),\\\"font-style\\\"in a&&d.push(\\\"font-style:\\\"+a[\\\"font-style\\\"]+\\\";\\\"),\\\"font-weight\\\"in a&&d.push(\\\"font-weight:\\\"+a[\\\"font-weight\\\"]+\\\";\\\"),\\\"direction\\\"in a&&d.push(\\\"direction:\\\"+a.direction+\\\";\\\"),\\\"text-decoration\\\"in a&&d.push(\\\"text-decoration:\\\"+a[\\\"text-decoration\\\"]+\\\";\\\"),c&&(d=d.concat(B(a,b))),O.tt.hasOwnProperty(\\\"xml:space\\\")&&\\\"preserve\\\"===O.tt[\\\"xml:space\\\"]&&d.push(\\\"white-space: pre;\\\"),d}function y(a,b){for(var c=0;c<a.length;c++){var d=a[c];if(d[\\\"xml:id\\\"]===b||d.id===b)return d}return null}function z(a,b,c){var d=[],e=a.match(/\\\\S+/g);return e.forEach(function(a){var e=y(P,a);if(e){var f=x(JSON.parse(JSON.stringify(e)),b,c);d=d.concat(f)}}),d}function A(a,b){var c=/([\\\\d\\\\.]+)(%|px)\\\\s+([\\\\d\\\\.]+)(%|px)/;if(\\\"tts:extent\\\"in a&&\\\"tts:origin\\\"in a){var d=c.exec(a[\\\"tts:extent\\\"]),e=c.exec(a[\\\"tts:origin\\\"]);if(null===d||null===e)return L(\\\"Bad extent or origin: \\\"+a[\\\"tts:extent\\\"]+\\\" \\\"+a[\\\"tts:origin\\\"]),null;var f=parseFloat(d[1]),g=parseFloat(d[3]),h=parseFloat(e[1]),i=parseFloat(e[3]);if(b){var j=c.exec(b);if(null===j||\\\"px\\\"!==j[2]||\\\"px\\\"!==j[4])return L(\\\"Bad tt.extent: \\\"+b),null;var k=parseFloat(j[1]),l=parseFloat(j[3]);\\\"px\\\"===d[2]&&(f=f/k*100),\\\"px\\\"===d[4]&&(g=g/l*100),\\\"px\\\"===e[2]&&(h=h/k*100),\\\"px\\\"===e[4]&&(i=i/l*100)}return{left:h,top:i,width:f,height:g}}return null}function B(a,b){var c=[];for(var d in a){var e=d.replace(\\\"tts:\\\",\\\"\\\");e=e.replace(\\\"xml:\\\",\\\"\\\"),e=r(e),a[e]=a[d],e!==d&&delete a[d]}if(\\\"extent\\\"in a){var f=a.extent.split(/\\\\s/);c.push(\\\"width: \\\"+f[0]+\\\";\\\"),c.push(\\\"height: \\\"+f[1]+\\\";\\\")}if(\\\"origin\\\"in a){var g=a.origin.split(/\\\\s/);c.push(\\\"left: \\\"+g[0]+\\\";\\\"),c.push(\\\"top: \\\"+g[1]+\\\";\\\")}if(\\\"display-align\\\"in a&&c.push(_[a[\\\"display-align\\\"]]),\\\"writing-mode\\\"in a&&c.push(aa[a[\\\"writing-mode\\\"]]),\\\"style\\\"in a){var h=z(a.style,b,!0);c=c.concat(h)}return\\\"padding\\\"in a&&c.push(\\\"padding:\\\"+a.padding+\\\";\\\"),\\\"overflow\\\"in a&&c.push(\\\"overflow:\\\"+a.overflow+\\\";\\\"),\\\"show-background\\\"in a&&c.push(\\\"show-background:\\\"+a[\\\"show-background\\\"]+\\\";\\\"),\\\"id\\\"in a&&c.push(\\\"regionID:\\\"+a.id+\\\";\\\"),c}function C(a,b){for(var c=0;c<a.length;c++){var d=a[c];if(d[\\\"xml:id\\\"]===b||d.id===b)return d}return null}function D(a,b){var c=[],d=a.match(/\\\\S+/g);return d.forEach(function(a){var d=C(Q,a);if(d){var e=B(JSON.parse(JSON.stringify(d)),b);c=c.concat(e)}}),c}function E(){var a=[32,15];return O.tt.hasOwnProperty(\\\"ttp:cellResolution\\\")?O.tt[\\\"ttp:cellResolution\\\"].split(\\\" \\\").map(parseFloat):a}function F(a,b){for(var c=u(\\\"padding-left\\\",b),d=u(\\\"padding-right\\\",b),e=c.concat(\\\" \\\"+d+\\\" \\\"),f=\\\"\\\",g=\\\"\\\",h=\\\"\\\",i=Array.prototype.slice.call(a.children),j=a.getElementsByClassName(\\\"lineBreak\\\")[0],k=i.indexOf(j),l=[];k!=-1;)l.push(k),k=i.indexOf(j,k+1);var m=\\\"</span>\\\",n=\\\"<br>\\\",o='<span class=\\\"spanPadding\\\" style=\\\"-webkit-box-decoration-break: clone; box-decoration-break: clone; ';if(l.length)l.forEach(function(a,b){if(0===b){for(var c=\\\"\\\",d=0;d<a;d++)f+=i[d].outerHTML,0===d&&(c=e.concat(i[d].style.cssText));f=o+c+'\\\">'+f}for(var j=\\\"\\\",k=a+1;k<i.length;k++)g+=i[k].outerHTML,k===i.length-1&&(j+=e.concat(i[k].style.cssText));g=o+j+'\\\">'+g,f&&g&&b===l.length-1?h+=f+m+n+g+m:f&&g&&b!==l.length-1?h+=f+m+n+g+m+n:f&&!g?h+=f+m:!f&&g&&b===l.length-1?h+=g+m:!f&&g&&b!==l.length-1&&(h+=g+m+n)});else{for(var p=\\\"\\\",q=0;q<i.length;q++)p+=i[q].style.cssText;h=o+e+p+'\\\">'+a.innerHTML+m}return h}function G(a,b){var c=document.createElement(\\\"div\\\");return a.forEach(function(a){if(!a.hasOwnProperty(\\\"metadata\\\"))if(a.hasOwnProperty(\\\"span\\\")){var d=a.span.__children,e=document.createElement(\\\"span\\\");if(a.span.hasOwnProperty(\\\"style\\\")){var f=z(a.span.style,b);e.className=\\\"spanPadding \\\"+a.span.style,e.style.cssText=f.join(\\\" \\\")}d.forEach(function(a){if(!d.hasOwnProperty(\\\"metadata\\\"))if(a.hasOwnProperty(\\\"#text\\\")){var b=document.createTextNode(a[\\\"#text\\\"]);e.appendChild(b)}else if(\\\"br\\\"in a){e.hasChildNodes()&&c.appendChild(e);var f=document.createElement(\\\"br\\\");f.className=\\\"lineBreak\\\",c.appendChild(f);var g=document.createElement(\\\"span\\\");g.className=e.className,g.style.cssText=e.style.cssText,e=g}}),c.appendChild(e)}else if(a.hasOwnProperty(\\\"br\\\")){var g=document.createElement(\\\"br\\\");g.className=\\\"lineBreak\\\",c.appendChild(g)}else if(a.hasOwnProperty(\\\"#text\\\")){var h=document.createElement(\\\"span\\\");h.textContent=a[\\\"#text\\\"],c.appendChild(h)}}),c}function H(a,b,c){var d,e,f=[],g=a.region,h=b.region;return h&&(d=D(h,c)),g?(e=f.concat(D(g,c)),f=d?w(d,e):e):d&&(f=d),J(f,U),f}function I(a,b){var c,d,e,f=[],g=a.style,h=O.tt.body.style,i=O.tt.body.div.style,j=\\\"\\\";return h&&(c=z(h,b),j=\\\"paragraph \\\"+h),i&&(d=z(i,b),c?(d=w(c,d),j+=\\\" \\\"+i):j=\\\"paragraph \\\"+i),g?(e=z(g,b),c&&d?(f=w(d,e),j+=\\\" \\\"+g):c?(f=w(c,e),j+=\\\" \\\"+g):d?(f=w(d,e),j+=\\\" \\\"+g):(f=e,j=\\\"paragraph \\\"+g)):c&&!d?f=c:!c&&d&&(f=d),J(f,V),[f,j]}function J(a,b){for(var c in b)b.hasOwnProperty(c)&&(t(c,a)||a.push(c+\\\":\\\"+b[c]))}var K=this.context,L=(0,k.default)(K).getInstance().log,M=void 0,N=void 0,O=void 0,P=void 0,Q=void 0,R=void 0,S=void 0,T=void 0,U=void 0,V=void 0,W=void 0,X=void 0,Y=void 0,Z=void 0,$=void 0,_=void 0,aa=void 0,ba=void 0,ca=0;return M={parse:j,setConfig:a},n(),M}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f),h=a(4),i=d(h),j=a(8),k=d(j),l=3600,m=60;e.__dashjs_factory_name=\\\"TTMLParser\\\",c.default=g.default.getSingletonFactory(e),b.exports=c.default},{10:10,4:4,8:8}],158:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a){var b=\\\"\\\";return a.indexOf(\\\"/\\\")!==-1&&(a.indexOf(\\\"?\\\")!==-1&&(a=a.substring(0,a.indexOf(\\\"?\\\"))),b=a.substring(0,a.lastIndexOf(\\\"/\\\")+1)),b}function b(a){var b=a.match(i);return b?b[1]:\\\"\\\"}function c(a){return!g.test(a)}function d(a){return g.test(a)&&\\\"/\\\"===a.charAt(0)}function e(a){return h.test(a)}var f=void 0,g=/^(?:(?:[a-z]+:)?\\\\/)?\\\\//i,h=/^https?:\\\\/\\\\//i,i=/^(https?:\\\\/\\\\/[^\\\\/]+)\\\\/?/i;return f={parseBaseUrl:a,parseOrigin:b,isRelative:c,isPathAbsolute:d,isHTTPURL:e}}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f);e.__dashjs_factory_name=\\\"URLUtils\\\",c.default=g.default.getSingletonFactory(e),b.exports=c.default},{10:10}],159:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(){k=/(?:\\\\r\\\\n|\\\\r|\\\\n)/gm,l=/-->/,m=/(^[\\\\s]+|[\\\\s]+$)/g,n=/\\\\s\\\\b/g}function b(a){var b,e,g=[];a=a.split(k),b=a.length,e=-1;for(var i=0;i<b;i++){var j=a[i];if(j.length>0&&\\\"WEBVTT\\\"!==j&&j.match(l)){var n=d(j),o=n.cuePoints,p=n.styles,q=f(a,i+1),r=c(o[0].replace(m,\\\"\\\")),s=c(o[1].replace(m,\\\"\\\"));!isNaN(r)&&!isNaN(s)&&r>=e&&s>r?\\\"\\\"!==q?(e=r,g.push({start:r,end:s,data:q,styles:p})):h(\\\"Skipping cue due to empty/malformed cue text\\\"):h(\\\"Skipping cue due to incorrect cue timing\\\")}}return g}function c(a){var b=a.split(\\\":\\\"),c=b.length-1;return a=60*parseInt(b[c-1],10)+parseFloat(b[c]),2===c&&(a+=3600*parseInt(b[0],10)),a}function d(a){var b=a.split(l),c=b[1].split(n);return c.shift(),b[1]=c[0],c.shift(),{cuePoints:b,styles:e(c)}}function e(a){var b={};return a.forEach(function(a){if(a.split(/:/).length>1){var c=a.split(/:/)[1];c&&c.search(/%/)!=-1&&(c=parseInt(c.replace(/%/,\\\"\\\"),10)),(a.match(/align/)||a.match(/A/))&&(b.align=c),(a.match(/line/)||a.match(/L/))&&(b.line=c),(a.match(/position/)||a.match(/P/))&&(b.position=c),(a.match(/size/)||a.match(/S/))&&(b.size=c)}}),b}function f(a,b){for(var c,d=b,e=\\\"\\\",f=\\\"\\\";\\\"\\\"!==a[d]&&d<a.length;)d++;if(c=d-b,c>1)for(var g=0;g<c;g++){if(f=a[b+g],f.match(l)){e=\\\"\\\";break}e+=f,g!==c-1&&(e+=\\\"\\\\n\\\")}else f=a[b],f.match(l)||(e=f);return decodeURI(e)}var g=this.context,h=(0,i.default)(g).getInstance().log,j=void 0,k=void 0,l=void 0,m=void 0,n=void 0;return j={parse:b},a(),j}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(10),g=d(f),h=a(8),i=d(h);e.__dashjs_factory_name=\\\"VTTParser\\\",c.default=g.default.getSingletonFactory(e),b.exports=c.default},{10:10,8:8}],160:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){d(this,a),this.mediaType=null,this.bitrate=null,this.width=null,this.height=null,this.qualityIndex=NaN};c.default=e,b.exports=c.default},{}],161:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){d(this,a),this.streamId=null,this.mediaInfo=null,this.segmentType=null,this.quality=NaN,this.index=NaN,this.bytes=null,this.start=NaN,this.end=NaN,this.duration=NaN};c.default=e,b.exports=c.default},{}],162:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(b,c,e){d(this,a),this.code=b||null,this.message=c||null,this.data=e||null};c.default=e,b.exports=c.default},{}],163:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){d(this,a),this.action=a.ACTION_DOWNLOAD,this.startTime=NaN,this.mediaType=null,this.mediaInfo=null,this.type=null,this.duration=NaN,this.timescale=NaN,this.range=null,this.url=null,this.serviceLocation=null,this.requestStartDate=null,this.firstByteDate=null,this.requestEndDate=null,this.quality=NaN,this.index=NaN,this.availabilityStartTime=null,this.availabilityEndTime=null,this.wallStartTime=null,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.responseType=\\\"arraybuffer\\\"};e.ACTION_DOWNLOAD=\\\"download\\\",e.ACTION_COMPLETE=\\\"complete\\\",c.default=e,b.exports=c.default},{}],164:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}function f(a,b){if(\\\"function\\\"!=typeof b&&null!==b)throw new TypeError(\\\"Super expression must either be null or a function, not \\\"+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var g=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if(\\\"value\\\"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}},h=a(163),i=d(h),j=function(a){function b(a){e(this,b),g(Object.getPrototypeOf(b.prototype),\\\"constructor\\\",this).call(this),this.url=a||null,this.checkForExistenceOnly=!0}return f(b,a),b}(i.default);c.default=j,b.exports=c.default},{163:163}],165:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){d(this,a),this.offset=NaN,this.type=null,this.size=NaN,this.isComplete=!0};c.default=e,b.exports=c.default},{}],166:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){d(this,a),this.DVRWindowSize=NaN,this.loadedTime=null,this.availableFrom=null,this.minBufferTime=NaN,this.duration=NaN,this.isDynamic=!1,this.maxFragmentDuration=null};c.default=e,b.exports=c.default},{}],167:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){d(this,a),this.id=null,this.index=null,this.type=null,this.streamInfo=null,this.representationCount=0,this.lang=null,this.viewpoint=null,this.accessibility=null,this.audioChannelConfiguration=null,this.roles=null,this.codec=null,this.mimeType=null,this.contentProtection=null,this.isText=!1,this.KID=null,this.bitrateList=null};c.default=e,b.exports=c.default},{}],168:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){d(this,a),this.TcpList=[],this.HttpList=[],this.RepSwitchList=[],this.BufferLevel=[],this.BufferState=[],this.PlayList=[],this.DroppedFrames=[],this.SchedulingInfo=[],this.DVRInfo=[],this.ManifestUpdate=[],this.RequestsQueue=null,this.DVBErrors=[],this.BolaState=[]};c.default=e,b.exports=c.default},{}],169:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){d(this,a),this.id=null,this.index=null,this.start=NaN,this.duration=NaN,this.manifestInfo=null,this.isLast=!0,this.isFirst=!0};c.default=e,b.exports=c.default},{}],170:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}function f(a,b){if(\\\"function\\\"!=typeof b&&null!==b)throw new TypeError(\\\"Super expression must either be null or a function, not \\\"+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var g=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if(\\\"value\\\"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}},h=a(163),i=d(h),j=function(a){function b(a,c){e(this,b),g(Object.getPrototypeOf(b.prototype),\\\"constructor\\\",this).call(this),this.url=a||null,this.type=c||null,this.mediaType=\\\"stream\\\",this.responseType=\\\"text\\\"}return f(b,a),b}(i.default);c.default=j,b.exports=c.default},{163:163}],171:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){d(this,a),this.video=null,this.captionData=null,this.label=null,this.lang=null,this.defaultTrack=!1,this.kind=null,this.isFragmented=!1,this.isEmbedded=!1};c.default=e,b.exports=c.default},{}],172:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){d(this,a),this.id=null,this.quality=null,this.DVRWindow=null,this.fragmentDuration=null,this.mediaInfo=null,this.MSETimeOffset=null};c.default=e,b.exports=c.default},{}],173:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){\\nd(this,a),this.t=null,this.xywh=null,this.track=null,this.id=null,this.s=null};c.default=e,b.exports=c.default},{}],174:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){d(this,a),this._s=void 0};c.default=e,b.exports=c.default},{}],175:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){d(this,a),this.t=null,this.level=null};c.default=e,b.exports=c.default},{}],176:[function(a,b,c){\\\"use strict\\\";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var f=a(63),g=d(f),h=function a(){e(this,a),this.target=null,this.state=g.default.BUFFER_EMPTY};c.default=h,b.exports=c.default},{63:63}],177:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){d(this,a),this.time=null,this.range=null,this.manifestInfo=null};c.default=e,b.exports=c.default},{}],178:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){d(this,a),this.time=null,this.droppedFrames=null};c.default=e,b.exports=c.default},{}],179:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){d(this,a),this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this._stream=null,this._tfinish=null,this._mediaduration=null,this._responseHeaders=null,this._serviceLocation=null},f=function a(){d(this,a),this.s=null,this.d=null,this.b=[]};e.MPD_TYPE=\\\"MPD\\\",e.XLINK_EXPANSION_TYPE=\\\"XLinkExpansion\\\",e.INIT_SEGMENT_TYPE=\\\"InitializationSegment\\\",e.INDEX_SEGMENT_TYPE=\\\"IndexSegment\\\",e.MEDIA_SEGMENT_TYPE=\\\"MediaSegment\\\",e.BITSTREAM_SWITCHING_SEGMENT_TYPE=\\\"BitstreamSwitchingSegment\\\",e.OTHER_TYPE=\\\"other\\\",c.HTTPRequest=e,c.HTTPRequestTrace=f},{}],180:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){d(this,a),this.mediaType=null,this.type=null,this.requestTime=null,this.fetchTime=null,this.availabilityStartTime=null,this.presentationStartTime=0,this.clientTimeOffset=0,this.currentTime=null,this.buffered=null,this.latency=0,this.streamInfo=[],this.trackInfo=[]},f=function a(){d(this,a),this.id=null,this.index=null,this.start=null,this.duration=null},g=function a(){d(this,a),this.id=null,this.index=null,this.mediaType=null,this.streamIndex=null,this.presentationTimeOffset=null,this.startNumber=null,this.fragmentInfoType=null};c.ManifestUpdate=e,c.ManifestUpdateStreamInfo=f,c.ManifestUpdateTrackInfo=g},{}],181:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){d(this,a),this.start=null,this.mstart=null,this.starttype=null,this.trace=[]};e.INITIAL_PLAYOUT_START_REASON=\\\"initial_playout\\\",e.SEEK_START_REASON=\\\"seek\\\",e.RESUME_FROM_PAUSE_START_REASON=\\\"resume\\\",e.METRICS_COLLECTION_START_REASON=\\\"metrics_collection_start\\\";var f=function a(){d(this,a),this.representationid=null,this.subreplevel=null,this.start=null,this.mstart=null,this.duration=null,this.playbackspeed=null,this.stopreason=null};f.REPRESENTATION_SWITCH_STOP_REASON=\\\"representation_switch\\\",f.REBUFFERING_REASON=\\\"rebuffering\\\",f.USER_REQUEST_STOP_REASON=\\\"user_request\\\",f.END_OF_PERIOD_STOP_REASON=\\\"end_of_period\\\",f.END_OF_CONTENT_STOP_REASON=\\\"end_of_content\\\",f.METRICS_COLLECTION_STOP_REASON=\\\"metrics_collection_end\\\",f.FAILURE_STOP_REASON=\\\"failure\\\",c.PlayList=e,c.PlayListTrace=f},{}],182:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){d(this,a),this.t=null,this.mt=null,this.to=null,this.lto=null};c.default=e,b.exports=c.default},{}],183:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){d(this,a),this.loadingRequests=[],this.executedRequests=[]};c.default=e,b.exports=c.default},{}],184:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){d(this,a),this.mediaType=null,this.t=null,this.type=null,this.startTime=null,this.availabilityStartTime=null,this.duration=null,this.quality=null,this.range=null,this.state=null};c.default=e,b.exports=c.default},{}],185:[function(a,b,c){\\\"use strict\\\";function d(a,b){if(!(a instanceof b))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(c,\\\"__esModule\\\",{value:!0});var e=function a(){d(this,a),this.tcpid=null,this.dest=null,this.topen=null,this.tclose=null,this.tconnect=null};c.default=e,b.exports=c.default},{}]},{},[5]);\\n//# sourceMappingURL=dash.all.min.js.map\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/raw-loader!./~/dashjs/dist/dash.all.min.js\n// module id = 644\n// module chunks = 1","module.exports = \"!function(e){if(\\\"object\\\"==typeof exports&&\\\"undefined\\\"!=typeof module)module.exports=e();else if(\\\"function\\\"==typeof define&&define.amd)define([],e);else{var t;t=\\\"undefined\\\"!=typeof window?window:\\\"undefined\\\"!=typeof global?global:\\\"undefined\\\"!=typeof self?self:this,t.Hls=e()}}(function(){var e;return function e(t,r,i){function a(s,o){if(!r[s]){if(!t[s]){var l=\\\"function\\\"==typeof require&&require;if(!o&&l)return l(s,!0);if(n)return n(s,!0);var u=new Error(\\\"Cannot find module '\\\"+s+\\\"'\\\");throw u.code=\\\"MODULE_NOT_FOUND\\\",u}var d=r[s]={exports:{}};t[s][0].call(d.exports,function(e){var r=t[s][1][e];return a(r?r:e)},d,d.exports,e,t,r,i)}return r[s].exports}for(var n=\\\"function\\\"==typeof require&&require,s=0;s<i.length;s++)a(i[s]);return a}({1:[function(e,t,r){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function a(e){return\\\"function\\\"==typeof e}function n(e){return\\\"number\\\"==typeof e}function s(e){return\\\"object\\\"==typeof e&&null!==e}function o(e){return void 0===e}t.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(e){if(!n(e)||e<0||isNaN(e))throw TypeError(\\\"n must be a positive number\\\");return this._maxListeners=e,this},i.prototype.emit=function(e){var t,r,i,n,l,u;if(this._events||(this._events={}),\\\"error\\\"===e&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var d=new Error('Uncaught, unspecified \\\"error\\\" event. ('+t+\\\")\\\");throw d.context=t,d}if(r=this._events[e],o(r))return!1;if(a(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:n=Array.prototype.slice.call(arguments,1),r.apply(this,n)}else if(s(r))for(n=Array.prototype.slice.call(arguments,1),u=r.slice(),i=u.length,l=0;l<i;l++)u[l].apply(this,n);return!0},i.prototype.addListener=function(e,t){var r;if(!a(t))throw TypeError(\\\"listener must be a function\\\");return this._events||(this._events={}),this._events.newListener&&this.emit(\\\"newListener\\\",e,a(t.listener)?t.listener:t),this._events[e]?s(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,s(this._events[e])&&!this._events[e].warned&&(r=o(this._maxListeners)?i.defaultMaxListeners:this._maxListeners,r&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,\\\"function\\\"==typeof console.trace)),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(e,t){function r(){this.removeListener(e,r),i||(i=!0,t.apply(this,arguments))}if(!a(t))throw TypeError(\\\"listener must be a function\\\");var i=!1;return r.listener=t,this.on(e,r),this},i.prototype.removeListener=function(e,t){var r,i,n,o;if(!a(t))throw TypeError(\\\"listener must be a function\\\");if(!this._events||!this._events[e])return this;if(r=this._events[e],n=r.length,i=-1,r===t||a(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit(\\\"removeListener\\\",e,t);else if(s(r)){for(o=n;o-- >0;)if(r[o]===t||r[o].listener&&r[o].listener===t){i=o;break}if(i<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(i,1),this._events.removeListener&&this.emit(\\\"removeListener\\\",e,t)}return this},i.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)\\\"removeListener\\\"!==t&&this.removeAllListeners(t);return this.removeAllListeners(\\\"removeListener\\\"),this._events={},this}if(r=this._events[e],a(r))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},i.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?a(this._events[e])?[this._events[e]]:this._events[e].slice():[]},i.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(a(t))return 1;if(t)return t.length}return 0},i.listenerCount=function(e,t){return e.listenerCount(t)}},{}],2:[function(t,r,i){!function(t){var a={buildAbsoluteURL:function(e,t){if(t=t.trim(),/^[a-z]+:/i.test(t))return t;var r=null,i=null,n=/^([^#]*)(.*)$/.exec(t);n&&(i=n[2],t=n[1]);var s=/^([^\\\\?]*)(.*)$/.exec(t);s&&(r=s[2],t=s[1]);var o=/^([^#]*)(.*)$/.exec(e);o&&(e=o[1]);var l=/^([^\\\\?]*)(.*)$/.exec(e);l&&(e=l[1]);var u=/^(([a-z]+:)?\\\\/\\\\/[a-z0-9\\\\.\\\\-_~]+(:[0-9]+)?)?(\\\\/.*)$/i.exec(e);if(!u)throw new Error(\\\"Error trying to parse base URL.\\\");var d=u[2]||\\\"\\\",h=u[1]||\\\"\\\",f=u[4],c=null;return c=/^\\\\/\\\\//.test(t)?d+\\\"//\\\"+a.buildAbsolutePath(\\\"\\\",t.substring(2)):/^\\\\//.test(t)?h+\\\"/\\\"+a.buildAbsolutePath(\\\"\\\",t.substring(1)):a.buildAbsolutePath(h+f,t),r&&(c+=r),i&&(c+=i),c},buildAbsolutePath:function(e,t){for(var r,i,a=t,n=\\\"\\\",s=e.replace(/[^\\\\/]*$/,a.replace(/(\\\\/|^)(?:\\\\.?\\\\/+)+/g,\\\"$1\\\")),o=0;i=s.indexOf(\\\"/../\\\",o),i>-1;o=i+r)r=/^\\\\/(?:\\\\.\\\\.\\\\/)*/.exec(s.slice(i))[0].length,n=(n+s.substring(o,i)).replace(new RegExp(\\\"(?:\\\\\\\\/+[^\\\\\\\\/]*){0,\\\"+(r-1)/3+\\\"}$\\\"),\\\"/\\\");return n+s.substr(o)}};\\\"object\\\"==typeof i&&\\\"object\\\"==typeof r?r.exports=a:\\\"function\\\"==typeof e&&e.amd?e([],function(){return a}):\\\"object\\\"==typeof i?i.URLToolkit=a:t.URLToolkit=a}(this)},{}],3:[function(e,t,r){var i=arguments[3],a=arguments[4],n=arguments[5],s=JSON.stringify;t.exports=function(e,t){function r(e){p[e]=!0;for(var t in a[e][1]){var i=a[e][1][t];p[i]||r(i)}}for(var o,l=Object.keys(n),u=0,d=l.length;u<d;u++){var h=l[u],f=n[h].exports;if(f===e||f&&f.default===e){o=h;break}}if(!o){o=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var c={},u=0,d=l.length;u<d;u++){var h=l[u];c[h]=h}a[o]=[Function([\\\"require\\\",\\\"module\\\",\\\"exports\\\"],\\\"(\\\"+e+\\\")(self)\\\"),c]}var v=Math.floor(Math.pow(16,8)*Math.random()).toString(16),g={};g[o]=o,a[v]=[Function([\\\"require\\\"],\\\"var f = require(\\\"+s(o)+\\\");(f.default ? f.default : f)(self);\\\"),g];var p={};r(v);var y=\\\"(\\\"+i+\\\")({\\\"+Object.keys(p).map(function(e){return s(e)+\\\":[\\\"+a[e][0]+\\\",\\\"+s(a[e][1])+\\\"]\\\"}).join(\\\",\\\")+\\\"},{},[\\\"+s(v)+\\\"])\\\",m=window.URL||window.webkitURL||window.mozURL||window.msURL,E=new Blob([y],{type:\\\"text/javascript\\\"});if(t&&t.bare)return E;var b=m.createObjectURL(E),R=new Worker(b);return R.objectURL=b,R}},{}],4:[function(e,t,r){\\\"use strict\\\";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}function n(e,t){if(!e)throw new ReferenceError(\\\"this hasn't been initialised - super() hasn't been called\\\");return!t||\\\"object\\\"!=typeof t&&\\\"function\\\"!=typeof t?e:t}function s(e,t){if(\\\"function\\\"!=typeof t&&null!==t)throw new TypeError(\\\"Super expression must either be null or a function, not \\\"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),l=e(28),u=i(l),d=e(27),h=i(d),f=e(30),c=i(f),v=e(26),g=e(45),p=e(9),y=i(p),m=function(e){function t(e){a(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,u.default.FRAG_LOADING,u.default.FRAG_LOADED,u.default.FRAG_BUFFERED,u.default.ERROR));return r.lastLoadedFragLevel=0,r._autoLevelCapping=-1,r._nextAutoLevel=-1,r.hls=e,r.onCheck=r.abandonRulesCheck.bind(r),r}return s(t,e),o(t,[{key:\\\"destroy\\\",value:function(){this.clearTimer(),h.default.prototype.destroy.call(this)}},{key:\\\"onFragLoading\\\",value:function(e){var t=e.frag;if(\\\"main\\\"===t.type){if(this.timer||(this.timer=setInterval(this.onCheck,100)),!this.bwEstimator){var r=this.hls,i=e.frag.level,a=r.levels[i].details.live,n=r.config,s=void 0,o=void 0;a?(s=n.abrEwmaFastLive,o=n.abrEwmaSlowLive):(s=n.abrEwmaFastVoD,o=n.abrEwmaSlowVoD),this.bwEstimator=new y.default(r,o,s,n.abrEwmaDefaultEstimate)}this.fragCurrent=t}}},{key:\\\"abandonRulesCheck\\\",value:function(){var e=this.hls,t=e.media,r=this.fragCurrent,i=r.loader;if(!i||i.stats&&i.stats.aborted)return g.logger.warn(\\\"frag loader destroy or aborted, disarm abandonRules\\\"),void this.clearTimer();var a=i.stats;if(t&&(!t.paused&&0!==t.playbackRate||!t.readyState)&&r.autoLevel&&r.level){var n=performance.now()-a.trequest,s=Math.abs(t.playbackRate);if(n>500*r.duration/s){var o=e.levels,l=Math.max(1,a.bw?a.bw/8:1e3*a.loaded/n),d=a.total?a.total:Math.max(a.loaded,Math.round(r.duration*o[r.level].bitrate/8)),h=t.currentTime,f=(d-a.loaded)/l,v=(c.default.bufferInfo(t,h,e.config.maxBufferHole).end-h)/s;if(v<2*r.duration/s&&f>v){var p=void 0,y=void 0;for(y=r.level-1;y>=0&&(p=r.duration*o[y].bitrate/(6.4*l),!(p<v));y--);p<f&&(y=Math.max(0,y),g.logger.warn(\\\"loading too slow, abort fragment loading and switch to level \\\"+y+\\\":fragLoadedDelay[\\\"+y+\\\"]<fragLoadedDelay[\\\"+(r.level-1)+\\\"];bufferStarvationDelay:\\\"+p.toFixed(1)+\\\"<\\\"+f.toFixed(1)+\\\":\\\"+v.toFixed(1)),e.nextLoadLevel=y,this.bwEstimator.sample(n,a.loaded),i.abort(),this.clearTimer(),e.trigger(u.default.FRAG_LOAD_EMERGENCY_ABORTED,{frag:r,stats:a}))}}}}},{key:\\\"onFragLoaded\\\",value:function(e){var t=e.frag;if(\\\"main\\\"===t.type&&(this.clearTimer(),this.lastLoadedFragLevel=t.level,this._nextAutoLevel=-1,e.frag.bitrateTest)){var r=e.stats;r.tparsed=r.tbuffered=r.tload,this.onFragBuffered(e)}}},{key:\\\"onFragBuffered\\\",value:function(e){var t=e.stats,r=e.frag;if(t.aborted!==!0&&1===r.loadCounter&&\\\"main\\\"===r.type&&(!r.bitrateTest||t.tload===t.tbuffered)){var i=t.tbuffered-t.trequest;g.logger.log(\\\"latency/loading/parsing/append/kbps:\\\"+Math.round(t.tfirst-t.trequest)+\\\"/\\\"+Math.round(t.tload-t.tfirst)+\\\"/\\\"+Math.round(t.tparsed-t.tload)+\\\"/\\\"+Math.round(t.tbuffered-t.tparsed)+\\\"/\\\"+Math.round(8*t.loaded/(t.tbuffered-t.trequest))),this.bwEstimator.sample(i,t.loaded),r.bitrateTest?this.bitrateTestDelay=i/1e3:this.bitrateTestDelay=0}}},{key:\\\"onError\\\",value:function(e){switch(e.details){case v.ErrorDetails.FRAG_LOAD_ERROR:case v.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer()}}},{key:\\\"clearTimer\\\",value:function(){this.timer&&(clearInterval(this.timer),this.timer=null)}},{key:\\\"findBestLevel\\\",value:function(e,t,r,i,a,n,s,o,l){for(var u=a;u>=i;u--){var d=l[u],h=d.details,f=h?h.totalduration/h.fragments.length:t,c=!!h&&h.live,v=void 0;v=u<=e?s*r:o*r;var p=l[u].bitrate,y=p*f/v;if(g.logger.trace(\\\"level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: \\\"+u+\\\"/\\\"+Math.round(v)+\\\"/\\\"+p+\\\"/\\\"+f+\\\"/\\\"+n+\\\"/\\\"+y),v>p&&(!y||c||y<n))return u}return-1}},{key:\\\"autoLevelCapping\\\",get:function(){return this._autoLevelCapping},set:function(e){this._autoLevelCapping=e}},{key:\\\"nextAutoLevel\\\",get:function(){var e=this._nextAutoLevel,t=this.bwEstimator,r=this.hls,i=r.levels,a=r.config.minAutoBitrate;if(!(e===-1||t&&t.canEstimate()))return Math.min(e,this.maxAutoLevel);var n=this.nextABRAutoLevel;if(e!==-1&&(n=Math.min(e,n)),void 0!==a)for(;i[n].bitrate<a;)n++;return n},set:function(e){this._nextAutoLevel=e}},{key:\\\"minAutoLevel\\\",get:function(){for(var e=this.hls,t=e.levels,r=e.config.minAutoBitrate,i=0;i<t.length;i++)if(t[i].bitrate>r)return i;return 0}},{key:\\\"maxAutoLevel\\\",get:function(){var e,t=this.hls.levels,r=this._autoLevelCapping;return e=r===-1&&t&&t.length?t.length-1:r}},{key:\\\"nextABRAutoLevel\\\",get:function(){var e=this.hls,t=this.maxAutoLevel,r=e.levels,i=e.config,a=this.minAutoLevel,n=e.media,s=this.lastLoadedFragLevel,o=this.fragCurrent?this.fragCurrent.duration:0,l=n?n.currentTime:0,u=n&&0!==n.playbackRate?Math.abs(n.playbackRate):1,d=this.bwEstimator?this.bwEstimator.getEstimate():i.abrEwmaDefaultEstimate,h=(c.default.bufferInfo(n,l,i.maxBufferHole).end-l)/u,f=this.findBestLevel(s,o,d,a,t,h,i.abrBandWidthFactor,i.abrBandWidthUpFactor,r);if(f>=0)return f;g.logger.trace(\\\"rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering\\\");var v=i.maxStarvationDelay,p=i.abrBandWidthFactor,y=i.abrBandWidthUpFactor;if(0===h){var m=this.bitrateTestDelay;m&&(v=i.maxLoadingDelay-m,g.logger.trace(\\\"bitrate test took \\\"+Math.round(1e3*m)+\\\"ms, set first fragment max fetchDuration to \\\"+Math.round(1e3*v)+\\\" ms\\\"),p=y=1)}return f=this.findBestLevel(s,o,d,a,t,h+v,p,y,r),Math.max(f,0)}}]),t}(h.default);r.default=m},{26:26,27:27,28:28,30:30,45:45,9:9}],5:[function(e,t,r){\\\"use strict\\\";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}function n(e,t){if(!e)throw new ReferenceError(\\\"this hasn't been initialised - super() hasn't been called\\\");return!t||\\\"object\\\"!=typeof t&&\\\"function\\\"!=typeof t?e:t}function s(e,t){if(\\\"function\\\"!=typeof t&&null!==t)throw new TypeError(\\\"Super expression must either be null or a function, not \\\"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),l=e(41),u=i(l),d=e(30),h=i(d),f=e(22),c=i(f),v=e(28),g=i(v),p=e(27),y=i(p),m=e(31),E=i(m),b=e(47),R=i(b),_=e(26),k=e(45),T={STOPPED:\\\"STOPPED\\\",STARTING:\\\"STARTING\\\",IDLE:\\\"IDLE\\\",PAUSED:\\\"PAUSED\\\",KEY_LOADING:\\\"KEY_LOADING\\\",FRAG_LOADING:\\\"FRAG_LOADING\\\",FRAG_LOADING_WAITING_RETRY:\\\"FRAG_LOADING_WAITING_RETRY\\\",WAITING_TRACK:\\\"WAITING_TRACK\\\",PARSING:\\\"PARSING\\\",PARSED:\\\"PARSED\\\",ENDED:\\\"ENDED\\\",ERROR:\\\"ERROR\\\"},A=function(e){function t(e){a(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,g.default.MEDIA_ATTACHED,g.default.MEDIA_DETACHING,g.default.AUDIO_TRACKS_UPDATED,g.default.AUDIO_TRACK_SWITCH,g.default.AUDIO_TRACK_LOADED,g.default.KEY_LOADED,g.default.FRAG_LOADED,g.default.FRAG_PARSING_INIT_SEGMENT,g.default.FRAG_PARSING_DATA,g.default.FRAG_PARSED,g.default.ERROR,g.default.BUFFER_CREATED,g.default.BUFFER_APPENDED,g.default.BUFFER_FLUSHED));return r.config=e.config,r.audioCodecSwap=!1,r.ticks=0,r.ontick=r.tick.bind(r),r}return s(t,e),o(t,[{key:\\\"destroy\\\",value:function(){this.stopLoad(),this.timer&&(clearInterval(this.timer),this.timer=null),y.default.prototype.destroy.call(this),this.state=T.STOPPED}},{key:\\\"startLoad\\\",value:function(e){if(this.tracks){var t=this.media,r=this.lastCurrentTime;this.stopLoad(),this.timer||(this.timer=setInterval(this.ontick,100)),this.fragLoadError=0,t&&r?(k.logger.log(\\\"configure startPosition @\\\"+r),this.state=T.IDLE):(this.lastCurrentTime=this.startPosition?this.startPosition:e,this.state=T.STARTING),this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()}else this.startPosition=e,this.state=T.STOPPED}},{key:\\\"stopLoad\\\",value:function(){var e=this.fragCurrent;e&&(e.loader&&e.loader.abort(),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=T.STOPPED}},{key:\\\"tick\\\",value:function(){this.ticks++,1===this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)}},{key:\\\"doTick\\\",value:function(){var e,t,r,i=this.hls,a=i.config;switch(this.state){case T.ERROR:case T.PAUSED:break;case T.STARTING:this.state=T.WAITING_TRACK,this.loadedmetadata=!1;break;case T.IDLE:if(!this.media&&(this.startFragRequested||!a.startFragPrefetch))break;e=this.loadedmetadata?this.media.currentTime:this.nextLoadPosition;var n=this.mediaBuffer?this.mediaBuffer:this.media,s=h.default.bufferInfo(n,e,a.maxBufferHole),o=s.len,l=s.end,d=this.fragPrevious,f=a.maxMaxBufferLength;if(o<f&&this.trackId<this.tracks.length){if(r=this.tracks[this.trackId].details,\\\"undefined\\\"==typeof r){this.state=T.WAITING_TRACK;break}if(!r.live&&d&&d.sn===r.endSN&&(!this.media.seeking||this.media.duration-l<d.duration/2)){this.hls.trigger(g.default.BUFFER_EOS,{type:\\\"audio\\\"}),this.state=T.ENDED;break}var c=r.fragments,v=c.length,p=c[0].start,y=c[v-1].start+c[v-1].duration,m=void 0;if(l<p?m=c[0]:!function(){var e=void 0,t=a.maxFragLookUpTolerance;l<y?(l>y-t&&(t=0),e=u.default.search(c,function(e){return e.start+e.duration-t<=l?1:e.start-t>l?-1:0})):e=c[v-1],e&&(m=e,p=e.start,d&&m.level===d.level&&m.sn===d.sn&&(m.sn<r.endSN?(m=c[m.sn+1-r.startSN],k.logger.log(\\\"SN just loaded, load next one: \\\"+m.sn)):m=null))}(),m)if(null!=m.decryptdata.uri&&null==m.decryptdata.key)k.logger.log(\\\"Loading key for \\\"+m.sn+\\\" of [\\\"+r.startSN+\\\" ,\\\"+r.endSN+\\\"],track \\\"+this.trackId),this.state=T.KEY_LOADING,i.trigger(g.default.KEY_LOADING,{frag:m});else{if(k.logger.log(\\\"Loading \\\"+m.sn+\\\" of [\\\"+r.startSN+\\\" ,\\\"+r.endSN+\\\"],track \\\"+this.trackId+\\\", currentTime:\\\"+e+\\\",bufferEnd:\\\"+l.toFixed(3)),void 0!==this.fragLoadIdx?this.fragLoadIdx++:this.fragLoadIdx=0,m.loadCounter){m.loadCounter++;var E=a.fragLoadingLoopThreshold;if(m.loadCounter>E&&Math.abs(this.fragLoadIdx-m.loadIdx)<E)return void i.trigger(g.default.ERROR,{type:_.ErrorTypes.MEDIA_ERROR,details:_.ErrorDetails.FRAG_LOOP_LOADING_ERROR,fatal:!1,frag:m})}else m.loadCounter=1;m.loadIdx=this.fragLoadIdx,this.fragCurrent=m,this.startFragRequested=!0,i.trigger(g.default.FRAG_LOADING,{frag:m}),this.state=T.FRAG_LOADING}}break;case T.WAITING_TRACK:t=this.tracks[this.trackId],t&&t.details&&(this.state=T.IDLE);break;case T.FRAG_LOADING_WAITING_RETRY:var b=performance.now(),R=this.retryDate;n=this.media;var A=n&&n.seeking;(!R||b>=R||A)&&(k.logger.log(\\\"audioStreamController: retryDate reached, switch back to IDLE state\\\"),this.state=T.IDLE);break;case T.STOPPED:case T.FRAG_LOADING:case T.PARSING:case T.PARSED:case T.ENDED:}}},{key:\\\"onMediaAttached\\\",value:function(e){var t=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener(\\\"seeking\\\",this.onvseeking),t.addEventListener(\\\"ended\\\",this.onvended);var r=this.config;this.tracks&&r.autoStartLoad&&this.startLoad(r.startPosition)}},{key:\\\"onMediaDetaching\\\",value:function(){var e=this.media;e&&e.ended&&(k.logger.log(\\\"MSE detaching and video ended, reset startPosition\\\"),this.startPosition=this.lastCurrentTime=0);var t=this.tracks;t&&t.forEach(function(e){e.details&&e.details.fragments.forEach(function(e){e.loadCounter=void 0})}),e&&(e.removeEventListener(\\\"seeking\\\",this.onvseeking),e.removeEventListener(\\\"ended\\\",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=null,this.loadedmetadata=!1,this.stopLoad()}},{key:\\\"onMediaSeeking\\\",value:function(){this.state===T.ENDED&&(this.state=T.IDLE),this.media&&(this.lastCurrentTime=this.media.currentTime),void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold),this.tick()}},{key:\\\"onMediaEnded\\\",value:function(){this.startPosition=this.lastCurrentTime=0}},{key:\\\"onAudioTracksUpdated\\\",value:function(e){k.logger.log(\\\"audio tracks updated\\\"),this.tracks=e.audioTracks}},{key:\\\"onAudioTrackSwitch\\\",value:function(e){var t=!!e.url;this.trackId=e.id,this.state=T.IDLE,this.fragCurrent=null,this.state=T.PAUSED,t?this.timer||(this.timer=setInterval(this.ontick,100)):this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.hls.trigger(g.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:\\\"audio\\\"}),this.tick()}},{key:\\\"onAudioTrackLoaded\\\",value:function(e){var t=e.details,r=e.id,i=this.tracks[r],a=t.totalduration;if(k.logger.log(\\\"track \\\"+r+\\\" loaded [\\\"+t.startSN+\\\",\\\"+t.endSN+\\\"],duration:\\\"+a),t.PTSKnown=!1,i.details=t,!this.startFragRequested){if(this.startPosition===-1){var n=t.startTimeOffset;isNaN(n)?this.startPosition=0:(k.logger.log(\\\"start time offset found in playlist, adjust startPosition to \\\"+n),this.startPosition=n)}this.nextLoadPosition=this.startPosition}this.state===T.WAITING_TRACK&&(this.state=T.IDLE),this.tick()}},{key:\\\"onKeyLoaded\\\",value:function(){this.state===T.KEY_LOADING&&(this.state=T.IDLE,this.tick())}},{key:\\\"onFragLoaded\\\",value:function(e){var t=this.fragCurrent;if(this.state===T.FRAG_LOADING&&t&&\\\"audio\\\"===e.frag.type&&e.frag.level===t.level&&e.frag.sn===t.sn){this.state=T.PARSING,this.stats=e.stats;var r=this.tracks[this.trackId],i=r.details,a=i.totalduration,n=t.start,s=t.level,o=t.sn,l=this.config.defaultAudioCodec||r.audioCodec;this.pendingAppending=0,this.demuxer||(this.demuxer=new c.default(this.hls,\\\"audio\\\")),k.logger.log(\\\"Demuxing \\\"+o+\\\" of [\\\"+i.startSN+\\\" ,\\\"+i.endSN+\\\"],track \\\"+s);var u=i.PTSKnown||!i.live;this.demuxer.push(e.payload,l,null,n,t.cc,s,o,a,t.decryptdata,u)}this.fragLoadError=0}},{key:\\\"onFragParsingInitSegment\\\",value:function(e){var t=this.fragCurrent;if(t&&\\\"audio\\\"===e.id&&e.sn===t.sn&&e.level===t.level&&this.state===T.PARSING){var r=e.tracks,i=void 0;if(i=r.audio){i.levelCodec=\\\"mp4a.40.2\\\",i.id=e.id,this.hls.trigger(g.default.BUFFER_CODECS,r),k.logger.log(\\\"audio track:audio,container:\\\"+i.container+\\\",codecs[level/parsed]=[\\\"+i.levelCodec+\\\"/\\\"+i.codec+\\\"]\\\");var a=i.initSegment;a&&(this.pendingAppending++,this.hls.trigger(g.default.BUFFER_APPENDING,{type:\\\"audio\\\",data:a,parent:\\\"audio\\\",content:\\\"initSegment\\\"})),this.tick()}}}},{key:\\\"onFragParsingData\\\",value:function(e){var t=this,r=this.fragCurrent;if(r&&\\\"audio\\\"===e.id&&e.sn===r.sn&&e.level===r.level&&this.state===T.PARSING){var i=this.tracks[this.trackId],a=this.fragCurrent;k.logger.log(\\\"parsed \\\"+e.type+\\\",PTS:[\\\"+e.startPTS.toFixed(3)+\\\",\\\"+e.endPTS.toFixed(3)+\\\"],DTS:[\\\"+e.startDTS.toFixed(3)+\\\"/\\\"+e.endDTS.toFixed(3)+\\\"],nb:\\\"+e.nb),E.default.updateFragPTSDTS(i.details,a.sn,e.startPTS,e.endPTS),[e.data1,e.data2].forEach(function(r){r&&(t.pendingAppending++,t.hls.trigger(g.default.BUFFER_APPENDING,{type:e.type,data:r,parent:\\\"audio\\\",content:\\\"data\\\"}))}),this.nextLoadPosition=e.endPTS,this.tick()}}},{key:\\\"onFragParsed\\\",value:function(e){var t=this.fragCurrent;t&&\\\"audio\\\"===e.id&&e.sn===t.sn&&e.level===t.level&&this.state===T.PARSING&&(this.stats.tparsed=performance.now(),this.state=T.PARSED,this._checkAppendedParsed())}},{key:\\\"onBufferCreated\\\",value:function(e){var t=e.tracks.audio;t&&(this.mediaBuffer=t.buffer,this.loadedmetadata=!0)}},{key:\\\"onBufferAppended\\\",value:function(e){if(\\\"audio\\\"===e.parent)switch(this.state){case T.PARSING:case T.PARSED:this.pendingAppending--,this._checkAppendedParsed()}}},{key:\\\"_checkAppendedParsed\\\",value:function(){if(this.state===T.PARSED&&0===this.pendingAppending){var e=this.fragCurrent,t=this.stats;if(e){this.fragPrevious=e,t.tbuffered=performance.now(),this.hls.trigger(g.default.FRAG_BUFFERED,{stats:t,frag:e,id:\\\"audio\\\"});var r=this.mediaBuffer?this.mediaBuffer:this.media;k.logger.log(\\\"audio buffered : \\\"+R.default.toString(r.buffered)),this.state=T.IDLE}this.tick()}}},{key:\\\"onError\\\",value:function(e){var t=e.frag;if(!t||\\\"audio\\\"===t.type)switch(e.details){case _.ErrorDetails.FRAG_LOAD_ERROR:case _.ErrorDetails.FRAG_LOAD_TIMEOUT:if(!e.fatal){var r=this.fragLoadError;r?r++:r=1;var i=this.config;if(r<=i.fragLoadingMaxRetry){this.fragLoadError=r,t.loadCounter=0;var a=Math.min(Math.pow(2,r-1)*i.fragLoadingRetryDelay,i.fragLoadingMaxRetryTimeout);k.logger.warn(\\\"audioStreamController: frag loading failed, retry in \\\"+a+\\\" ms\\\"),this.retryDate=performance.now()+a,this.state=T.FRAG_LOADING_WAITING_RETRY}else k.logger.error(\\\"audioStreamController: \\\"+e.details+\\\" reaches max retry, redispatch as fatal ...\\\"),e.fatal=!0,this.hls.trigger(g.default.ERROR,e),this.state=T.ERROR}break;case _.ErrorDetails.FRAG_LOOP_LOADING_ERROR:case _.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case _.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:case _.ErrorDetails.KEY_LOAD_ERROR:case _.ErrorDetails.KEY_LOAD_TIMEOUT:this.state!==T.ERROR&&(this.state=e.fatal?T.ERROR:T.IDLE,k.logger.warn(\\\"audioStreamController: \\\"+e.details+\\\" while loading frag,switch to \\\"+this.state+\\\" state ...\\\"))}}},{key:\\\"onBufferFlushed\\\",value:function(){this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold,this.state=T.IDLE,this.fragPrevious=null,this.tick()}}]),t}(y.default);r.default=A},{22:22,26:26,27:27,28:28,30:30,31:31,41:41,45:45,47:47}],6:[function(e,t,r){\\\"use strict\\\";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}function n(e,t){if(!e)throw new ReferenceError(\\\"this hasn't been initialised - super() hasn't been called\\\");return!t||\\\"object\\\"!=typeof t&&\\\"function\\\"!=typeof t?e:t}function s(e,t){if(\\\"function\\\"!=typeof t&&null!==t)throw new TypeError(\\\"Super expression must either be null or a function, not \\\"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),l=e(28),u=i(l),d=e(27),h=i(d),f=e(45),c=function(e){function t(e){return a(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,u.default.MANIFEST_LOADING,u.default.MANIFEST_LOADED,u.default.AUDIO_TRACK_LOADED))}return s(t,e),o(t,[{key:\\\"destroy\\\",value:function(){h.default.prototype.destroy.call(this)}},{key:\\\"onManifestLoading\\\",value:function(){this.tracks=[],this.trackId=-1}},{key:\\\"onManifestLoaded\\\",value:function(e){var t=this,r=e.audioTracks||[],i=!1;this.tracks=r,this.hls.trigger(u.default.AUDIO_TRACKS_UPDATED,{audioTracks:r});var a=0;r.forEach(function(e){return e.default?(t.audioTrack=a,void(i=!0)):void a++}),i===!1&&r.length&&(f.logger.log(\\\"no default audio track defined, use first audio track as default\\\"),this.audioTrack=0)}},{key:\\\"onAudioTrackLoaded\\\",value:function(e){e.id<this.tracks.length&&(f.logger.log(\\\"audioTrack \\\"+e.id+\\\" loaded\\\"),this.tracks[e.id].details=e.details,e.details.live&&!this.timer&&(this.timer=setInterval(this.ontick,1e3*e.details.targetduration)),!e.details.live&&this.timer&&(clearInterval(this.timer),this.timer=null))}},{key:\\\"setAudioTrackInternal\\\",value:function(e){if(e>=0&&e<this.tracks.length){this.timer&&(clearInterval(this.timer),this.timer=null),this.trackId=e,f.logger.log(\\\"switching to audioTrack \\\"+e);var t=this.tracks[e],r=t.type,i=t.url;this.hls.trigger(u.default.AUDIO_TRACK_SWITCH,{id:e,type:r,url:i});var a=t.details;!i||void 0!==a&&a.live!==!0||(f.logger.log(\\\"(re)loading playlist for audioTrack \\\"+e),this.hls.trigger(u.default.AUDIO_TRACK_LOADING,{url:i,id:e}))}}},{key:\\\"audioTracks\\\",get:function(){return this.tracks}},{key:\\\"audioTrack\\\",get:function(){return this.trackId},set:function(e){this.trackId===e&&void 0!==this.tracks[e].details||this.setAudioTrackInternal(e)}}]),t}(h.default);r.default=c},{27:27,28:28,45:45}],7:[function(e,t,r){\\\"use strict\\\";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}function n(e,t){if(!e)throw new ReferenceError(\\\"this hasn't been initialised - super() hasn't been called\\\");return!t||\\\"object\\\"!=typeof t&&\\\"function\\\"!=typeof t?e:t}function s(e,t){if(\\\"function\\\"!=typeof t&&null!==t)throw new TypeError(\\\"Super expression must either be null or a function, not \\\"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),l=e(28),u=i(l),d=e(27),h=i(d),f=e(45),c=e(26),v=function(e){function t(e){a(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,u.default.MEDIA_ATTACHING,u.default.MEDIA_DETACHING,u.default.MANIFEST_PARSED,u.default.BUFFER_RESET,u.default.BUFFER_APPENDING,u.default.BUFFER_CODECS,u.default.BUFFER_EOS,u.default.BUFFER_FLUSHING,u.default.LEVEL_UPDATED));return r._msDuration=null,r._levelDuration=null,r.onsbue=r.onSBUpdateEnd.bind(r),r.onsbe=r.onSBUpdateError.bind(r),r.pendingTracks={},r}return s(t,e),o(t,[{key:\\\"destroy\\\",value:function(){h.default.prototype.destroy.call(this)}},{key:\\\"onManifestParsed\\\",value:function(e){var t=e.audio,r=e.video,i=0;e.altAudio&&(t||r)&&(i=(t?1:0)+(r?1:0),f.logger.log(i+\\\" sourceBuffer(s) expected\\\")),this.sourceBufferNb=i}},{key:\\\"onMediaAttaching\\\",value:function(e){var t=this.media=e.media;if(t){var r=this.mediaSource=new MediaSource;this.onmso=this.onMediaSourceOpen.bind(this),this.onmse=this.onMediaSourceEnded.bind(this),this.onmsc=this.onMediaSourceClose.bind(this),r.addEventListener(\\\"sourceopen\\\",this.onmso),r.addEventListener(\\\"sourceended\\\",this.onmse),r.addEventListener(\\\"sourceclose\\\",this.onmsc),t.src=URL.createObjectURL(r)}}},{key:\\\"onMediaDetaching\\\",value:function(){f.logger.log(\\\"media source detaching\\\");var e=this.mediaSource;if(e){if(\\\"open\\\"===e.readyState)try{e.endOfStream()}catch(e){f.logger.warn(\\\"onMediaDetaching:\\\"+e.message+\\\" while calling endOfStream\\\")}e.removeEventListener(\\\"sourceopen\\\",this.onmso),e.removeEventListener(\\\"sourceended\\\",this.onmse),e.removeEventListener(\\\"sourceclose\\\",this.onmsc),this.media&&(this.media.removeAttribute(\\\"src\\\"),this.media.load()),this.mediaSource=null,this.media=null,this.pendingTracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.onmso=this.onmse=this.onmsc=null,this.hls.trigger(u.default.MEDIA_DETACHED)}},{key:\\\"onMediaSourceOpen\\\",value:function(){f.logger.log(\\\"media source opened\\\"),this.hls.trigger(u.default.MEDIA_ATTACHED,{media:this.media});var e=this.mediaSource;e&&e.removeEventListener(\\\"sourceopen\\\",this.onmso),this.checkPendingTracks()}},{key:\\\"checkPendingTracks\\\",value:function(){var e=this.pendingTracks,t=Object.keys(e).length;t&&(this.sourceBufferNb<=t||0===this.sourceBufferNb)&&(this.createSourceBuffers(e),this.pendingTracks={},this.doAppending())}},{key:\\\"onMediaSourceClose\\\",value:function(){f.logger.log(\\\"media source closed\\\")}},{key:\\\"onMediaSourceEnded\\\",value:function(){f.logger.log(\\\"media source ended\\\")}},{key:\\\"onSBUpdateEnd\\\",value:function(){this._needsFlush&&this.doFlush(),this._needsEos&&this.checkEos(),this.appending=!1,this.hls.trigger(u.default.BUFFER_APPENDED,{parent:this.parent}),this._needsFlush||this.doAppending(),this.updateMediaElementDuration()}},{key:\\\"onSBUpdateError\\\",value:function(e){f.logger.error(\\\"sourceBuffer error:\\\"+e),this.hls.trigger(u.default.ERROR,{type:c.ErrorTypes.MEDIA_ERROR,details:c.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})}},{key:\\\"onBufferReset\\\",value:function(){var e=this.sourceBuffer;for(var t in e){var r=e[t];try{this.mediaSource.removeSourceBuffer(r),r.removeEventListener(\\\"updateend\\\",this.onsbue),r.removeEventListener(\\\"error\\\",this.onsbe)}catch(e){}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}},{key:\\\"onBufferCodecs\\\",value:function(e){if(0===Object.keys(this.sourceBuffer).length){for(var t in e)this.pendingTracks[t]=e[t];var r=this.mediaSource;r&&\\\"open\\\"===r.readyState&&this.checkPendingTracks()}}},{key:\\\"createSourceBuffers\\\",value:function(e){var t=this.sourceBuffer,r=this.mediaSource;for(var i in e)if(!t[i]){var a=e[i],n=a.levelCodec||a.codec,s=a.container+\\\";codecs=\\\"+n;f.logger.log(\\\"creating sourceBuffer(\\\"+s+\\\")\\\");try{var o=t[i]=r.addSourceBuffer(s);o.addEventListener(\\\"updateend\\\",this.onsbue),o.addEventListener(\\\"error\\\",this.onsbe),a.buffer=o}catch(e){f.logger.error(\\\"error while trying to add sourceBuffer:\\\"+e.message),this.hls.trigger(u.default.ERROR,{type:c.ErrorTypes.MEDIA_ERROR,details:c.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:e,mimeType:s})}}this.hls.trigger(u.default.BUFFER_CREATED,{tracks:e})}},{key:\\\"onBufferAppending\\\",value:function(e){this._needsFlush||(this.segments?this.segments.push(e):this.segments=[e],this.doAppending())}},{key:\\\"onBufferAppendFail\\\",value:function(e){f.logger.error(\\\"sourceBuffer error:\\\"+e.event),this.hls.trigger(u.default.ERROR,{\\ntype:c.ErrorTypes.MEDIA_ERROR,details:c.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1,frag:this.fragCurrent})}},{key:\\\"onBufferEos\\\",value:function(e){var t=this.sourceBuffer,r=e.type;for(var i in t)r&&i!==r||t[i].ended||(t[i].ended=!0,f.logger.log(i+\\\" sourceBuffer now EOS\\\"));this.checkEos()}},{key:\\\"checkEos\\\",value:function(){var e=this.sourceBuffer,t=this.mediaSource;if(!t||\\\"open\\\"!==t.readyState)return void(this._needsEos=!1);for(var r in e){if(!e[r].ended)return;if(e[r].updating)return void(this._needsEos=!0)}f.logger.log(\\\"all media data available, signal endOfStream() to MediaSource and stop loading fragment\\\"),t.endOfStream(),this._needsEos=!1}},{key:\\\"onBufferFlushing\\\",value:function(e){this.flushRange.push({start:e.startOffset,end:e.endOffset,type:e.type}),this.flushBufferCounter=0,this.doFlush()}},{key:\\\"onLevelUpdated\\\",value:function(e){var t=e.details;0!==t.fragments.length&&(this._levelDuration=t.totalduration+t.fragments[0].start,this.updateMediaElementDuration())}},{key:\\\"updateMediaElementDuration\\\",value:function(){var e=this.media,t=this.mediaSource,r=this.sourceBuffer,i=this._levelDuration;if(null!==i&&e&&t&&r&&0!==e.readyState&&\\\"open\\\"===t.readyState){for(var a in r)if(r[a].updating)return;null===this._msDuration&&(this._msDuration=t.duration),i>this._msDuration&&i>e.duration&&(f.logger.log(\\\"Updating mediasource duration to \\\"+i.toFixed(3)),this._msDuration=t.duration=i)}}},{key:\\\"doFlush\\\",value:function(){for(;this.flushRange.length;){var e=this.flushRange[0];if(!this.flushBuffer(e.start,e.end,e.type))return void(this._needsFlush=!0);this.flushRange.shift(),this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var t=0,r=this.sourceBuffer;for(var i in r)t+=r[i].buffered.length;this.appended=t,this.hls.trigger(u.default.BUFFER_FLUSHED)}}},{key:\\\"doAppending\\\",value:function(){var e=this.hls,t=this.sourceBuffer,r=this.segments;if(Object.keys(t).length){if(this.media.error)return this.segments=[],void f.logger.error(\\\"trying to append although a media error occured, flush segment and abort\\\");if(this.appending)return;if(r&&r.length){var i=r.shift();try{var a=i.type;t[a]?(t[a].ended=!1,this.parent=i.parent,t[a].appendBuffer(i.data),this.appendError=0,this.appended++,this.appending=!0):this.onSBUpdateEnd()}catch(t){f.logger.error(\\\"error while trying to append buffer:\\\"+t.message),r.unshift(i);var n={type:c.ErrorTypes.MEDIA_ERROR};if(22===t.code)return this.segments=[],n.details=c.ErrorDetails.BUFFER_FULL_ERROR,void e.trigger(u.default.ERROR,n);if(this.appendError?this.appendError++:this.appendError=1,n.details=c.ErrorDetails.BUFFER_APPEND_ERROR,n.frag=this.fragCurrent,this.appendError>e.config.appendErrorMaxRetry)return f.logger.log(\\\"fail \\\"+e.config.appendErrorMaxRetry+\\\" times to append segment in sourceBuffer\\\"),r=[],n.fatal=!0,void e.trigger(u.default.ERROR,n);n.fatal=!1,e.trigger(u.default.ERROR,n)}}}}},{key:\\\"flushBuffer\\\",value:function(e,t,r){var i,a,n,s,o,l,u=this.sourceBuffer;if(Object.keys(u).length){if(f.logger.log(\\\"flushBuffer,pos/start/end: \\\"+this.media.currentTime+\\\"/\\\"+e+\\\"/\\\"+t),this.flushBufferCounter<this.appended){for(var d in u)if(!r||d===r){if(i=u[d],i.ended=!1,i.updating)return f.logger.warn(\\\"cannot flush, sb updating in progress\\\"),!1;for(a=0;a<i.buffered.length;a++)if(n=i.buffered.start(a),s=i.buffered.end(a),navigator.userAgent.toLowerCase().indexOf(\\\"firefox\\\")!==-1&&t===Number.POSITIVE_INFINITY?(o=e,l=t):(o=Math.max(n,e),l=Math.min(s,t)),Math.min(l,s)-o>.5)return this.flushBufferCounter++,f.logger.log(\\\"flush \\\"+d+\\\" [\\\"+o+\\\",\\\"+l+\\\"], of [\\\"+n+\\\",\\\"+s+\\\"], pos:\\\"+this.media.currentTime),i.remove(o,l),!1}}else f.logger.warn(\\\"abort flushing too many retries\\\");f.logger.log(\\\"buffer flushed\\\")}return!0}}]),t}(h.default);r.default=v},{26:26,27:27,28:28,45:45}],8:[function(e,t,r){\\\"use strict\\\";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}function n(e,t){if(!e)throw new ReferenceError(\\\"this hasn't been initialised - super() hasn't been called\\\");return!t||\\\"object\\\"!=typeof t&&\\\"function\\\"!=typeof t?e:t}function s(e,t){if(\\\"function\\\"!=typeof t&&null!==t)throw new TypeError(\\\"Super expression must either be null or a function, not \\\"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),l=e(28),u=i(l),d=e(27),h=i(d),f=function(e){function t(e){return a(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,u.default.FPS_DROP_LEVEL_CAPPING,u.default.MEDIA_ATTACHING,u.default.MANIFEST_PARSED))}return s(t,e),o(t,[{key:\\\"destroy\\\",value:function(){this.hls.config.capLevelToPlayerSize&&(this.media=this.restrictedLevels=null,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer)))}},{key:\\\"onFpsDropLevelCapping\\\",value:function(e){this.restrictedLevels||(this.restrictedLevels=[]),this.isLevelRestricted(e.droppedLevel)||this.restrictedLevels.push(e.droppedLevel)}},{key:\\\"onMediaAttaching\\\",value:function(e){this.media=e.media instanceof HTMLVideoElement?e.media:null}},{key:\\\"onManifestParsed\\\",value:function(e){this.hls.config.capLevelToPlayerSize&&(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.levels=e.levels,this.hls.firstLevel=this.getMaxLevel(e.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}},{key:\\\"detectPlayerSize\\\",value:function(){if(this.media){var e=this.levels?this.levels.length:0;e&&(this.hls.autoLevelCapping=this.getMaxLevel(e-1),this.hls.autoLevelCapping>this.autoLevelCapping&&this.hls.streamController.nextLevelSwitch(),this.autoLevelCapping=this.hls.autoLevelCapping)}}},{key:\\\"getMaxLevel\\\",value:function(e){var t=0,r=void 0,i=void 0,a=this.mediaWidth,n=this.mediaHeight,s=0,o=0;for(r=0;r<=e&&(i=this.levels[r],!this.isLevelRestricted(r))&&(t=r,s=i.width,o=i.height,!(a<=s||n<=o));r++);return t}},{key:\\\"isLevelRestricted\\\",value:function(e){return!(!this.restrictedLevels||this.restrictedLevels.indexOf(e)===-1)}},{key:\\\"contentScaleFactor\\\",get:function(){var e=1;try{e=window.devicePixelRatio}catch(e){}return e}},{key:\\\"mediaWidth\\\",get:function(){var e=void 0;return this.media&&(e=this.media.width||this.media.clientWidth||this.media.offsetWidth,e*=this.contentScaleFactor),e}},{key:\\\"mediaHeight\\\",get:function(){var e=void 0;return this.media&&(e=this.media.height||this.media.clientHeight||this.media.offsetHeight,e*=this.contentScaleFactor),e}}]),t}(h.default);r.default=f},{27:27,28:28}],9:[function(e,t,r){\\\"use strict\\\";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),s=e(44),o=i(s),l=function(){function e(t,r,i,n){a(this,e),this.hls=t,this.defaultEstimate_=n,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new o.default(r),this.fast_=new o.default(i)}return n(e,[{key:\\\"sample\\\",value:function(e,t){e=Math.max(e,this.minDelayMs_);var r=8e3*t/e,i=e/1e3;this.fast_.sample(i,r),this.slow_.sample(i,r)}},{key:\\\"canEstimate\\\",value:function(){var e=this.fast_;return e&&e.getTotalWeight()>=this.minWeight_}},{key:\\\"getEstimate\\\",value:function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}},{key:\\\"destroy\\\",value:function(){}}]),e}();r.default=l},{44:44}],10:[function(e,t,r){\\\"use strict\\\";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}function n(e,t){if(!e)throw new ReferenceError(\\\"this hasn't been initialised - super() hasn't been called\\\");return!t||\\\"object\\\"!=typeof t&&\\\"function\\\"!=typeof t?e:t}function s(e,t){if(\\\"function\\\"!=typeof t&&null!==t)throw new TypeError(\\\"Super expression must either be null or a function, not \\\"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),l=e(28),u=i(l),d=e(27),h=i(d),f=e(45),c=function(e){function t(e){return a(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,u.default.MEDIA_ATTACHING))}return s(t,e),o(t,[{key:\\\"destroy\\\",value:function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1}},{key:\\\"onMediaAttaching\\\",value:function(e){this.hls.config.capLevelOnFPSDrop&&(this.video=e.media instanceof HTMLVideoElement?e.media:null,\\\"function\\\"==typeof this.video.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),this.hls.config.fpsDroppedMonitoringPeriod))}},{key:\\\"checkFPS\\\",value:function(e,t,r){var i=performance.now();if(t){if(this.lastTime){var a=i-this.lastTime,n=r-this.lastDroppedFrames,s=t-this.lastDecodedFrames,o=1e3*n/a;if(this.hls.trigger(u.default.FPS_DROP,{currentDropped:n,currentDecoded:s,totalDroppedFrames:r}),o>0&&n>this.hls.config.fpsDroppedMonitoringThreshold*s){var l=this.hls.currentLevel;f.logger.warn(\\\"drop FPS ratio greater than max allowed value for currentLevel: \\\"+l),l>0&&(this.hls.autoLevelCapping===-1||this.hls.autoLevelCapping>=l)&&(l-=1,this.hls.trigger(u.default.FPS_DROP_LEVEL_CAPPING,{level:l,droppedLevel:this.hls.currentLevel}),this.hls.autoLevelCapping=l,this.hls.streamController.nextLevelSwitch())}}this.lastTime=i,this.lastDroppedFrames=r,this.lastDecodedFrames=t}}},{key:\\\"checkFPSInterval\\\",value:function(){if(this.video)if(this.isVideoPlaybackQualityAvailable){var e=this.video.getVideoPlaybackQuality();this.checkFPS(this.video,e.totalVideoFrames,e.droppedVideoFrames)}else this.checkFPS(this.video,this.video.webkitDecodedFrameCount,this.video.webkitDroppedFrameCount)}}]),t}(h.default);r.default=c},{27:27,28:28,45:45}],11:[function(e,t,r){\\\"use strict\\\";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}function n(e,t){if(!e)throw new ReferenceError(\\\"this hasn't been initialised - super() hasn't been called\\\");return!t||\\\"object\\\"!=typeof t&&\\\"function\\\"!=typeof t?e:t}function s(e,t){if(\\\"function\\\"!=typeof t&&null!==t)throw new TypeError(\\\"Super expression must either be null or a function, not \\\"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),l=e(28),u=i(l),d=e(27),h=i(d),f=e(45),c=e(26),v=e(30),g=i(v),p=function(e){function t(e){a(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,u.default.MANIFEST_LOADED,u.default.LEVEL_LOADED,u.default.ERROR));return r.ontick=r.tick.bind(r),r._manualLevel=r._autoLevelCapping=-1,r}return s(t,e),o(t,[{key:\\\"destroy\\\",value:function(){this.timer&&(clearTimeout(this.timer),this.timer=null),this._manualLevel=-1}},{key:\\\"startLoad\\\",value:function(){this.canload=!0,this.timer&&this.tick()}},{key:\\\"stopLoad\\\",value:function(){this.canload=!1}},{key:\\\"onManifestLoaded\\\",value:function(e){var t,r,i=[],a=[],n={},s=!1,o=!1,l=this.hls;if(e.levels.forEach(function(e){e.videoCodec&&(s=!0),(e.audioCodec||e.attrs&&e.attrs.AUDIO)&&(o=!0);var t=n[e.bitrate];void 0===t?(n[e.bitrate]=i.length,e.url=[e.url],e.urlId=0,i.push(e)):i[t].url.push(e.url)}),s&&o?i.forEach(function(e){e.videoCodec&&a.push(e)}):a=i,a=a.filter(function(e){var t=function(e){return MediaSource.isTypeSupported(\\\"audio/mp4;codecs=\\\"+e)},r=function(e){return MediaSource.isTypeSupported(\\\"video/mp4;codecs=\\\"+e)},i=e.audioCodec,a=e.videoCodec;return(!i||t(i))&&(!a||r(a))}),a.length){for(t=a[0].bitrate,a.sort(function(e,t){return e.bitrate-t.bitrate}),this._levels=a,r=0;r<a.length;r++)if(a[r].bitrate===t){this._firstLevel=r,f.logger.log(\\\"manifest loaded,\\\"+a.length+\\\" level(s) found, first bitrate:\\\"+t);break}l.trigger(u.default.MANIFEST_PARSED,{levels:this._levels,firstLevel:this._firstLevel,stats:e.stats,audio:o,video:s,altAudio:e.audioTracks.length>0})}else l.trigger(u.default.ERROR,{type:c.ErrorTypes.MEDIA_ERROR,details:c.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:l.url,reason:\\\"no level with compatible codecs found in manifest\\\"})}},{key:\\\"setLevelInternal\\\",value:function(e){var t=this._levels;if(e>=0&&e<t.length){this.timer&&(clearTimeout(this.timer),this.timer=null),this._level!==e&&(f.logger.log(\\\"switching to level \\\"+e),this._level=e),this.hls.trigger(u.default.LEVEL_SWITCH,{level:e});var r=t[e],i=r.details;if(!i||i.live===!0){var a=r.urlId;this.hls.trigger(u.default.LEVEL_LOADING,{url:r.url[a],level:e,id:a})}}else this.hls.trigger(u.default.ERROR,{type:c.ErrorTypes.OTHER_ERROR,details:c.ErrorDetails.LEVEL_SWITCH_ERROR,level:e,fatal:!1,reason:\\\"invalid level idx\\\"})}},{key:\\\"onError\\\",value:function(e){if(!e.fatal){var t=e.details,r=this.hls,i=void 0,a=void 0,n=!1;switch(t){case c.ErrorDetails.FRAG_LOAD_ERROR:case c.ErrorDetails.FRAG_LOAD_TIMEOUT:case c.ErrorDetails.FRAG_LOOP_LOADING_ERROR:case c.ErrorDetails.KEY_LOAD_ERROR:case c.ErrorDetails.KEY_LOAD_TIMEOUT:i=e.frag.level;break;case c.ErrorDetails.LEVEL_LOAD_ERROR:case c.ErrorDetails.LEVEL_LOAD_TIMEOUT:i=e.context.level,n=!0}if(void 0!==i)if(a=this._levels[i],a.urlId<a.url.length-1)a.urlId++,a.details=void 0,f.logger.warn(\\\"level controller,\\\"+t+\\\" for level \\\"+i+\\\": switching to redundant stream id \\\"+a.urlId);else{var s=this._manualLevel===-1&&i;if(s)f.logger.warn(\\\"level controller,\\\"+t+\\\": emergency switch-down for next fragment\\\"),r.abrController.nextAutoLevel=0;else if(a&&a.details&&a.details.live)f.logger.warn(\\\"level controller,\\\"+t+\\\" on live stream, discard\\\"),n&&(this._level=void 0);else if(t===c.ErrorDetails.LEVEL_LOAD_ERROR||t===c.ErrorDetails.LEVEL_LOAD_TIMEOUT){var o=this.hls,l=o.media,d=l&&g.default.isBuffered(l,l.currentTime)&&g.default.isBuffered(l,l.currentTime+.5);if(d){var h=o.config.levelLoadingRetryDelay;f.logger.warn(\\\"level controller,\\\"+t+\\\", but media buffered, retry in \\\"+h+\\\"ms\\\"),this.timer=setTimeout(this.ontick,h)}else f.logger.error(\\\"cannot recover \\\"+t+\\\" error\\\"),this._level=void 0,this.timer&&(clearTimeout(this.timer),this.timer=null),e.fatal=!0,o.trigger(u.default.ERROR,e)}}}}},{key:\\\"onLevelLoaded\\\",value:function(e){if(e.level===this._level){var t=e.details;if(t.live){var r=1e3*(t.averagetargetduration?t.averagetargetduration:t.targetduration),i=this._levels[e.level],a=i.details;a&&t.endSN===a.endSN&&(r/=2,f.logger.log(\\\"same live playlist, reload twice faster\\\")),r-=performance.now()-e.stats.trequest,r=Math.max(1e3,Math.round(r)),f.logger.log(\\\"live playlist, reload in \\\"+r+\\\" ms\\\"),this.timer=setTimeout(this.ontick,r)}else this.timer=null}}},{key:\\\"tick\\\",value:function(){var e=this._level;if(void 0!==e&&this.canload){var t=this._levels[e],r=t.urlId;this.hls.trigger(u.default.LEVEL_LOADING,{url:t.url[r],level:e,id:r})}}},{key:\\\"levels\\\",get:function(){return this._levels}},{key:\\\"level\\\",get:function(){return this._level},set:function(e){var t=this._levels;t&&t.length>e&&(this._level===e&&void 0!==t[e].details||this.setLevelInternal(e))}},{key:\\\"manualLevel\\\",get:function(){return this._manualLevel},set:function(e){this._manualLevel=e,void 0===this._startLevel&&(this._startLevel=e),e!==-1&&(this.level=e)}},{key:\\\"firstLevel\\\",get:function(){return this._firstLevel},set:function(e){this._firstLevel=e}},{key:\\\"startLevel\\\",get:function(){if(void 0===this._startLevel){var e=this.hls.config.startLevel;return void 0!==e?e:this._firstLevel}return this._startLevel},set:function(e){this._startLevel=e}},{key:\\\"nextLoadLevel\\\",get:function(){return this._manualLevel!==-1?this._manualLevel:this.hls.abrController.nextAutoLevel},set:function(e){this.level=e,this._manualLevel===-1&&(this.hls.abrController.nextAutoLevel=e)}}]),t}(h.default);r.default=p},{26:26,27:27,28:28,30:30,45:45}],12:[function(e,t,r){\\\"use strict\\\";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}function n(e,t){if(!e)throw new ReferenceError(\\\"this hasn't been initialised - super() hasn't been called\\\");return!t||\\\"object\\\"!=typeof t&&\\\"function\\\"!=typeof t?e:t}function s(e,t){if(\\\"function\\\"!=typeof t&&null!==t)throw new TypeError(\\\"Super expression must either be null or a function, not \\\"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),l=e(41),u=i(l),d=e(30),h=i(d),f=e(22),c=i(f),v=e(28),g=i(v),p=e(27),y=i(p),m=e(31),E=i(m),b=e(47),R=i(b),_=e(26),k=e(45),T={STOPPED:\\\"STOPPED\\\",IDLE:\\\"IDLE\\\",KEY_LOADING:\\\"KEY_LOADING\\\",FRAG_LOADING:\\\"FRAG_LOADING\\\",FRAG_LOADING_WAITING_RETRY:\\\"FRAG_LOADING_WAITING_RETRY\\\",WAITING_LEVEL:\\\"WAITING_LEVEL\\\",PARSING:\\\"PARSING\\\",PARSED:\\\"PARSED\\\",BUFFER_FLUSHING:\\\"BUFFER_FLUSHING\\\",ENDED:\\\"ENDED\\\",ERROR:\\\"ERROR\\\"},A=function(e){function t(e){a(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,g.default.MEDIA_ATTACHED,g.default.MEDIA_DETACHING,g.default.MANIFEST_LOADING,g.default.MANIFEST_PARSED,g.default.LEVEL_LOADED,g.default.KEY_LOADED,g.default.FRAG_LOADED,g.default.FRAG_LOAD_EMERGENCY_ABORTED,g.default.FRAG_PARSING_INIT_SEGMENT,g.default.FRAG_PARSING_DATA,g.default.FRAG_PARSED,g.default.ERROR,g.default.AUDIO_TRACK_SWITCH,g.default.BUFFER_CREATED,g.default.BUFFER_APPENDED,g.default.BUFFER_FLUSHED));return r.config=e.config,r.audioCodecSwap=!1,r.ticks=0,r.ontick=r.tick.bind(r),r}return s(t,e),o(t,[{key:\\\"destroy\\\",value:function(){this.stopLoad(),this.timer&&(clearInterval(this.timer),this.timer=null),y.default.prototype.destroy.call(this),this.state=T.STOPPED}},{key:\\\"startLoad\\\",value:function(e){if(this.levels){var t=this.media,r=this.lastCurrentTime,i=this.hls;if(this.stopLoad(),this.timer||(this.timer=setInterval(this.ontick,100)),this.level=-1,this.fragLoadError=0,t&&r>0?(k.logger.log(\\\"configure startPosition @\\\"+r.toFixed(3)),this.lastPaused||(k.logger.log(\\\"resuming video\\\"),t.play())):this.lastCurrentTime=this.startPosition?this.startPosition:e,!this.startFragRequested){var a=i.startLevel;a===-1&&(a=0,this.bitrateTest=!0),this.level=i.nextLoadLevel=a,this.loadedmetadata=!1}this.state=T.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()}else k.logger.warn(\\\"cannot start loading as manifest not parsed yet\\\"),this.state=T.STOPPED}},{key:\\\"stopLoad\\\",value:function(){var e=this.fragCurrent;e&&(e.loader&&e.loader.abort(),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=T.STOPPED}},{key:\\\"tick\\\",value:function(){this.ticks++,1===this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)}},{key:\\\"doTick\\\",value:function(){switch(this.state){case T.ERROR:break;case T.BUFFER_FLUSHING:this.fragLoadError=0;break;case T.IDLE:if(!this._doTickIdle())return;break;case T.WAITING_LEVEL:var e=this.levels[this.level];e&&e.details&&(this.state=T.IDLE);break;case T.FRAG_LOADING_WAITING_RETRY:var t=performance.now(),r=this.retryDate;(!r||t>=r||this.media&&this.media.seeking)&&(k.logger.log(\\\"mediaController: retryDate reached, switch back to IDLE state\\\"),this.state=T.IDLE);break;case T.ERROR:case T.PAUSED:case T.STOPPED:case T.FRAG_LOADING:case T.PARSING:case T.PARSED:case T.ENDED:}this._checkBuffer(),this._checkFragmentChanged()}},{key:\\\"_doTickIdle\\\",value:function(){var e=this.hls,t=e.config,r=this.media;if(void 0!==this.levelLastLoaded&&!r&&(this.startFragRequested||!t.startFragPrefetch))return!0;var i=void 0;i=this.loadedmetadata?r.currentTime:this.nextLoadPosition;var a=e.nextLoadLevel,n=this.levels[a],s=n.bitrate,o=void 0;o=s?Math.max(8*t.maxBufferSize/s,t.maxBufferLength):t.maxBufferLength,o=Math.min(o,t.maxMaxBufferLength);var l=h.default.bufferInfo(this.mediaBuffer?this.mediaBuffer:r,i,t.maxBufferHole),u=l.len;if(u>=o)return!0;k.logger.trace(\\\"buffer length of \\\"+u.toFixed(3)+\\\" is below max of \\\"+o.toFixed(3)+\\\". checking for more payload ...\\\"),this.level=e.nextLoadLevel=a;var d=n.details;if(\\\"undefined\\\"==typeof d||d.live&&this.levelLastLoaded!==a)return this.state=T.WAITING_LEVEL,!0;var f=this.fragPrevious;if(!d.live&&f&&f.sn===d.endSN&&(!r.seeking&&l.len||r.duration-l.end<=f.duration/2)){var c={};return this.altAudio&&(c.type=\\\"video\\\"),this.hls.trigger(g.default.BUFFER_EOS,c),this.state=T.ENDED,!0}return this._fetchPayloadOrEos({pos:i,bufferInfo:l,levelDetails:d})}},{key:\\\"_fetchPayloadOrEos\\\",value:function(e){var t=e.pos,r=e.bufferInfo,i=e.levelDetails,a=this.fragPrevious,n=this.level,s=i.fragments,o=s.length;if(0===o)return!1;var l=s[0].start,u=s[o-1].start+s[o-1].duration,d=r.end,h=void 0;if(i.live){var f=this.config.initialLiveManifestSize;if(o<f)return k.logger.warn(\\\"Can not start playback of a level, reason: not enough fragments \\\"+o+\\\" < \\\"+f),!1;if(h=this._ensureFragmentAtLivePoint({levelDetails:i,bufferEnd:d,start:l,end:u,fragPrevious:a,fragments:s,fragLen:o}),null===h)return!1}else d<l&&(h=s[0]);return h||(h=this._findFragment({start:l,fragPrevious:a,fragLen:o,fragments:s,bufferEnd:d,end:u,levelDetails:i})),!h||this._loadFragmentOrKey({frag:h,level:n,levelDetails:i,pos:t,bufferEnd:d})}},{key:\\\"_ensureFragmentAtLivePoint\\\",value:function(e){var t=e.levelDetails,r=e.bufferEnd,i=e.start,a=e.end,n=e.fragPrevious,s=e.fragments,o=e.fragLen,l=this.hls.config,u=this.media,d=void 0,h=void 0!==l.liveMaxLatencyDuration?l.liveMaxLatencyDuration:l.liveMaxLatencyDurationCount*t.targetduration;if(r<Math.max(i,a-h)){var f=this.liveSyncPosition=this.computeLivePosition(i,t);k.logger.log(\\\"buffer end: \\\"+r.toFixed(3)+\\\" is located too far from the end of live sliding playlist, reset currentTime to : \\\"+f.toFixed(3)),r=f,u&&u.readyState&&u.duration>f&&(u.currentTime=f)}if(t.PTSKnown&&r>a&&u&&u.readyState)return null;if(this.startFragRequested&&!t.PTSKnown){if(n){var c=n.sn+1;c>=t.startSN&&c<=t.endSN&&(d=s[c-t.startSN],k.logger.log(\\\"live playlist, switching playlist, load frag with next SN: \\\"+d.sn))}d||(d=s[Math.min(o-1,Math.round(o/2))],k.logger.log(\\\"live playlist, switching playlist, unknown, load middle frag : \\\"+d.sn))}return d}},{key:\\\"_findFragment\\\",value:function(e){var t=e.start,r=e.fragPrevious,i=e.fragLen,a=e.fragments,n=e.bufferEnd,s=e.end,o=e.levelDetails,l=this.hls.config,d=void 0,h=void 0,f=l.maxFragLookUpTolerance;if(n<s?(n>s-f&&(f=0),h=u.default.search(a,function(e){return e.start+e.duration-f<=n?1:e.start-f>n&&e.start?-1:0})):h=a[i-1],h&&(d=h,t=h.start,r&&d.level===r.level&&d.sn===r.sn))if(d.sn<o.endSN){var c=r.deltaPTS,v=d.sn-o.startSN;c&&c>l.maxBufferHole&&r.dropped&&v?(d=a[v-1],k.logger.warn(\\\"SN just loaded, with large PTS gap between audio and video, maybe frag is not starting with a keyframe ? load previous one to try to overcome this\\\"),r.loadCounter--):(d=a[v+1],k.logger.log(\\\"SN just loaded, load next one: \\\"+d.sn))}else d=null;return d}},{key:\\\"_loadFragmentOrKey\\\",value:function(e){var t=e.frag,r=e.level,i=e.levelDetails,a=e.pos,n=e.bufferEnd,s=this.hls,o=s.config;if(null==t.decryptdata.uri||null!=t.decryptdata.key){if(k.logger.log(\\\"Loading \\\"+t.sn+\\\" of [\\\"+i.startSN+\\\" ,\\\"+i.endSN+\\\"],level \\\"+r+\\\", currentTime:\\\"+a.toFixed(3)+\\\",bufferEnd:\\\"+n.toFixed(3)),void 0!==this.fragLoadIdx?this.fragLoadIdx++:this.fragLoadIdx=0,t.loadCounter){t.loadCounter++;var l=o.fragLoadingLoopThreshold;if(t.loadCounter>l&&Math.abs(this.fragLoadIdx-t.loadIdx)<l)return s.trigger(g.default.ERROR,{type:_.ErrorTypes.MEDIA_ERROR,details:_.ErrorDetails.FRAG_LOOP_LOADING_ERROR,fatal:!1,frag:t}),!1}else t.loadCounter=1;return t.loadIdx=this.fragLoadIdx,this.fragCurrent=t,this.startFragRequested=!0,t.autoLevel=s.autoLevelEnabled,t.bitrateTest=this.bitrateTest,s.trigger(g.default.FRAG_LOADING,{frag:t}),this.state=T.FRAG_LOADING,!0}k.logger.log(\\\"Loading key for \\\"+t.sn+\\\" of [\\\"+i.startSN+\\\" ,\\\"+i.endSN+\\\"],level \\\"+r),this.state=T.KEY_LOADING,s.trigger(g.default.KEY_LOADING,{frag:t})}},{key:\\\"getBufferRange\\\",value:function(e){var t,r,i=this.bufferRange;if(i)for(t=i.length-1;t>=0;t--)if(r=i[t],e>=r.start&&e<=r.end)return r;return null}},{key:\\\"followingBufferRange\\\",value:function(e){return e?this.getBufferRange(e.end+.5):null}},{key:\\\"_checkFragmentChanged\\\",value:function(){var e,t,r=this.media;if(r&&r.readyState&&r.seeking===!1&&(t=r.currentTime,t>r.playbackRate*this.lastCurrentTime&&(this.lastCurrentTime=t),h.default.isBuffered(r,t)?e=this.getBufferRange(t):h.default.isBuffered(r,t+.1)&&(e=this.getBufferRange(t+.1)),e)){var i=e.frag;i!==this.fragPlaying&&(this.fragPlaying=i,this.hls.trigger(g.default.FRAG_CHANGED,{frag:i}))}}},{key:\\\"immediateLevelSwitch\\\",value:function(){if(k.logger.log(\\\"immediateLevelSwitch\\\"),!this.immediateSwitch){this.immediateSwitch=!0;var e=this.media,t=void 0;e?(t=e.paused,e.pause()):t=!0,this.previouslyPaused=t}var r=this.fragCurrent;r&&r.loader&&r.loader.abort(),this.fragCurrent=null,this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold,this.state=T.BUFFER_FLUSHING,this.hls.trigger(g.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY})}},{key:\\\"immediateLevelSwitchEnd\\\",value:function(){var e=this.media;e&&e.buffered.length&&(this.immediateSwitch=!1,h.default.isBuffered(e,e.currentTime)&&(e.currentTime-=1e-4),this.previouslyPaused||e.play())}},{key:\\\"nextLevelSwitch\\\",value:function(){var e=this.media;if(e&&e.readyState){var t=void 0,r=void 0,i=void 0;if(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold,r=this.getBufferRange(e.currentTime),r&&r.start>1&&(this.state=T.BUFFER_FLUSHING,this.hls.trigger(g.default.BUFFER_FLUSHING,{startOffset:0,endOffset:r.start-1})),e.paused)t=0;else{var a=this.hls.nextLoadLevel,n=this.levels[a],s=this.fragLastKbps;t=s&&this.fragCurrent?this.fragCurrent.duration*n.bitrate/(1e3*s)+1:0}if(i=this.getBufferRange(e.currentTime+t),i&&(i=this.followingBufferRange(i))){var o=this.fragCurrent;o&&o.loader&&o.loader.abort(),this.fragCurrent=null,this.state=T.BUFFER_FLUSHING,this.hls.trigger(g.default.BUFFER_FLUSHING,{startOffset:i.start,endOffset:Number.POSITIVE_INFINITY})}}}},{key:\\\"onMediaAttached\\\",value:function(e){var t=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener(\\\"seeking\\\",this.onvseeking),t.addEventListener(\\\"seeked\\\",this.onvseeked),t.addEventListener(\\\"ended\\\",this.onvended);var r=this.config;this.levels&&r.autoStartLoad&&this.hls.startLoad(r.startPosition)}},{key:\\\"onMediaDetaching\\\",value:function(){var e=this.media;e&&e.ended&&(k.logger.log(\\\"MSE detaching and video ended, reset startPosition\\\"),this.startPosition=this.lastCurrentTime=0);var t=this.levels;t&&t.forEach(function(e){e.details&&e.details.fragments.forEach(function(e){e.loadCounter=void 0})}),e&&(e.removeEventListener(\\\"seeking\\\",this.onvseeking),e.removeEventListener(\\\"seeked\\\",this.onvseeked),e.removeEventListener(\\\"ended\\\",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=null,this.loadedmetadata=!1,this.stopLoad()}},{key:\\\"onMediaSeeking\\\",value:function(){var e=this.media,t=e?e.currentTime:void 0,r=this.config;if(k.logger.log(\\\"media seeking to \\\"+t.toFixed(3)),this.state===T.FRAG_LOADING){var i=h.default.bufferInfo(e,t,this.config.maxBufferHole),a=this.fragCurrent;if(0===i.len&&a){var n=r.maxFragLookUpTolerance,s=a.start-n,o=a.start+a.duration+n;t<s||t>o?(a.loader&&(k.logger.log(\\\"seeking outside of buffer while fragment load in progress, cancel fragment load\\\"),a.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=T.IDLE):k.logger.log(\\\"seeking outside of buffer but within currently loaded fragment range\\\")}}else this.state===T.ENDED&&(this.state=T.IDLE);e&&(this.lastCurrentTime=t),this.state!==T.FRAG_LOADING&&void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*r.fragLoadingLoopThreshold),this.tick()}},{key:\\\"onMediaSeeked\\\",value:function(){k.logger.log(\\\"media seeked to \\\"+this.media.currentTime.toFixed(3)),this.tick()}},{key:\\\"onMediaEnded\\\",value:function(){k.logger.log(\\\"media ended\\\"),this.startPosition=this.lastCurrentTime=0}},{key:\\\"onManifestLoading\\\",value:function(){k.logger.log(\\\"trigger BUFFER_RESET\\\"),this.hls.trigger(g.default.BUFFER_RESET),this.bufferRange=[],this.stalled=!1,this.startPosition=this.lastCurrentTime=0}},{key:\\\"onManifestParsed\\\",value:function(e){var t,r=!1,i=!1;e.levels.forEach(function(e){t=e.audioCodec,t&&(t.indexOf(\\\"mp4a.40.2\\\")!==-1&&(r=!0),t.indexOf(\\\"mp4a.40.5\\\")!==-1&&(i=!0))}),this.audioCodecSwitch=r&&i,this.audioCodecSwitch&&k.logger.log(\\\"both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC\\\"),this.levels=e.levels,this.startLevelLoaded=!1,this.startFragRequested=!1;var a=this.config;a.autoStartLoad&&this.hls.startLoad(a.startPosition)}},{key:\\\"onLevelLoaded\\\",value:function(e){var t=e.details,r=e.level,i=this.levels[r],a=t.totalduration,n=0;if(k.logger.log(\\\"level \\\"+r+\\\" loaded [\\\"+t.startSN+\\\",\\\"+t.endSN+\\\"],duration:\\\"+a),this.levelLastLoaded=r,t.live){var s=i.details;s&&t.fragments.length>0?(E.default.mergeDetails(s,t),n=t.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(n,s),t.PTSKnown?k.logger.log(\\\"live playlist sliding:\\\"+n.toFixed(3)):k.logger.log(\\\"live playlist - outdated PTS, unknown sliding\\\")):(t.PTSKnown=!1,k.logger.log(\\\"live playlist - first load, unknown sliding\\\"))}else t.PTSKnown=!1;if(i.details=t,this.hls.trigger(g.default.LEVEL_UPDATED,{details:t,level:r}),this.startFragRequested===!1){if(this.startPosition===-1||this.lastCurrentTime===-1){var o=t.startTimeOffset;isNaN(o)?t.live?(this.startPosition=this.computeLivePosition(n,t),k.logger.log(\\\"configure startPosition to \\\"+this.startPosition)):this.startPosition=0:(o<0&&(k.logger.log(\\\"negative start time offset \\\"+o+\\\", count from end of last fragment\\\"),o=n+a+o),k.logger.log(\\\"start time offset found in playlist, adjust startPosition to \\\"+o),this.startPosition=o)}this.nextLoadPosition=this.startPosition}this.state===T.WAITING_LEVEL&&(this.state=T.IDLE),this.tick()}},{key:\\\"onKeyLoaded\\\",value:function(){this.state===T.KEY_LOADING&&(this.state=T.IDLE,this.tick())}},{key:\\\"onFragLoaded\\\",value:function(e){var t=this.fragCurrent,r=e.frag;if(this.state===T.FRAG_LOADING&&t&&\\\"main\\\"===r.type&&r.level===t.level&&r.sn===t.sn){var i=e.stats,a=this.levels[t.level],n=a.details;if(k.logger.log(\\\"Loaded  \\\"+t.sn+\\\" of [\\\"+n.startSN+\\\" ,\\\"+n.endSN+\\\"],level \\\"+t.level),this.bitrateTest=!1,r.bitrateTest===!0&&this.hls.nextLoadLevel)this.state=T.IDLE,this.startFragRequested=!1,i.tparsed=i.tbuffered=performance.now(),this.hls.trigger(g.default.FRAG_BUFFERED,{stats:i,frag:t,id:\\\"main\\\"}),this.tick();else{this.state=T.PARSING,this.stats=i;var s=n.totalduration,o=isNaN(t.startDTS)?t.start:t.startDTS,l=t.level,u=t.sn,d=this.config.defaultAudioCodec||a.audioCodec;\\nthis.audioCodecSwap&&(k.logger.log(\\\"swapping playlist audio codec\\\"),void 0===d&&(d=this.lastAudioCodec),d&&(d=d.indexOf(\\\"mp4a.40.5\\\")!==-1?\\\"mp4a.40.2\\\":\\\"mp4a.40.5\\\")),this.pendingAppending=0,k.logger.log(\\\"Parsing \\\"+u+\\\" of [\\\"+n.startSN+\\\" ,\\\"+n.endSN+\\\"],level \\\"+l+\\\", cc \\\"+t.cc);var h=this.demuxer;h||(h=this.demuxer=new c.default(this.hls,\\\"main\\\"));var f=n.PTSKnown||!n.live;h.push(e.payload,d,a.videoCodec,o,t.cc,l,u,s,t.decryptdata,f)}}this.fragLoadError=0}},{key:\\\"onFragParsingInitSegment\\\",value:function(e){var t=this.fragCurrent;if(t&&\\\"main\\\"===e.id&&e.sn===t.sn&&e.level===t.level&&this.state===T.PARSING){var r,i,a=e.tracks;if(a.audio&&this.altAudio&&delete a.audio,i=a.audio){var n=this.levels[this.level].audioCodec,s=navigator.userAgent.toLowerCase();n&&this.audioCodecSwap&&(k.logger.log(\\\"swapping playlist audio codec\\\"),n=n.indexOf(\\\"mp4a.40.5\\\")!==-1?\\\"mp4a.40.2\\\":\\\"mp4a.40.5\\\"),this.audioCodecSwitch&&1!==i.metadata.channelCount&&s.indexOf(\\\"firefox\\\")===-1&&(n=\\\"mp4a.40.5\\\"),s.indexOf(\\\"android\\\")!==-1&&(n=\\\"mp4a.40.2\\\",k.logger.log(\\\"Android: force audio codec to\\\"+n)),i.levelCodec=n,i.id=e.id}if(i=a.video,i&&(i.levelCodec=this.levels[this.level].videoCodec,i.id=e.id),e.unique){var o={codec:\\\"\\\",levelCodec:\\\"\\\"};for(r in e.tracks)i=a[r],o.container=i.container,o.codec&&(o.codec+=\\\",\\\",o.levelCodec+=\\\",\\\"),i.codec&&(o.codec+=i.codec),i.levelCodec&&(o.levelCodec+=i.levelCodec);a={audiovideo:o}}this.hls.trigger(g.default.BUFFER_CODECS,a);for(r in a){i=a[r],k.logger.log(\\\"main track:\\\"+r+\\\",container:\\\"+i.container+\\\",codecs[level/parsed]=[\\\"+i.levelCodec+\\\"/\\\"+i.codec+\\\"]\\\");var l=i.initSegment;l&&(this.pendingAppending++,this.hls.trigger(g.default.BUFFER_APPENDING,{type:r,data:l,parent:\\\"main\\\",content:\\\"initSegment\\\"}))}this.tick()}}},{key:\\\"onFragParsingData\\\",value:function(e){var t=this,r=this.fragCurrent;if(r&&\\\"main\\\"===e.id&&e.sn===r.sn&&e.level===r.level&&(\\\"audio\\\"!==e.type||!this.altAudio)&&this.state===T.PARSING){var i=this.levels[this.level],a=this.fragCurrent;k.logger.log(\\\"Parsed \\\"+e.type+\\\",PTS:[\\\"+e.startPTS.toFixed(3)+\\\",\\\"+e.endPTS.toFixed(3)+\\\"],DTS:[\\\"+e.startDTS.toFixed(3)+\\\"/\\\"+e.endDTS.toFixed(3)+\\\"],nb:\\\"+e.nb+\\\",dropped:\\\"+(e.dropped||0));var n=E.default.updateFragPTSDTS(i.details,a.sn,e.startPTS,e.endPTS,e.startDTS,e.endDTS),s=this.hls;s.trigger(g.default.LEVEL_PTS_UPDATED,{details:i.details,level:this.level,drift:n}),\\\"video\\\"===e.type&&(a.dropped=e.dropped),[e.data1,e.data2].forEach(function(r){r&&(t.pendingAppending++,s.trigger(g.default.BUFFER_APPENDING,{type:e.type,data:r,parent:\\\"main\\\",content:\\\"data\\\"}))}),this.nextLoadPosition=e.endPTS,this.bufferRange.push({type:e.type,start:e.startPTS,end:e.endPTS,frag:a}),this.tick()}}},{key:\\\"onFragParsed\\\",value:function(e){var t=this.fragCurrent;t&&\\\"main\\\"===e.id&&e.sn===t.sn&&e.level===t.level&&this.state===T.PARSING&&(this.stats.tparsed=performance.now(),this.state=T.PARSED,this._checkAppendedParsed())}},{key:\\\"onAudioTrackSwitch\\\",value:function(e){var t=!!e.url;if(t)this.videoBuffer&&this.mediaBuffer!==this.videoBuffer&&(k.logger.log(\\\"switching on alternate audio, use video.buffered to schedule main fragment loading\\\"),this.mediaBuffer=this.videoBuffer);else if(this.mediaBuffer!==this.media){k.logger.log(\\\"switching on main audio, use media.buffered to schedule main fragment loading\\\"),this.mediaBuffer=this.media;var r=this.fragCurrent;r.loader&&(k.logger.log(\\\"switching to main audio track, cancel main fragment load\\\"),r.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=T.IDLE}this.altAudio=t}},{key:\\\"onBufferCreated\\\",value:function(e){var t=e.tracks,r=void 0,i=void 0,a=!1;for(var n in t){var s=t[n];\\\"main\\\"===s.id?(i=n,r=s,\\\"video\\\"===n&&(this.videoBuffer=t[n].buffer)):a=!0}a&&r?(k.logger.log(\\\"alternate track found, use \\\"+i+\\\".buffered to schedule main fragment loading\\\"),this.mediaBuffer=r.buffer):this.mediaBuffer=this.media}},{key:\\\"onBufferAppended\\\",value:function(e){if(\\\"main\\\"===e.parent)switch(this.state){case T.PARSING:case T.PARSED:this.pendingAppending--,this._checkAppendedParsed()}}},{key:\\\"_checkAppendedParsed\\\",value:function(){if(this.state===T.PARSED&&0===this.pendingAppending){var e=this.fragCurrent,t=this.stats;if(e){this.fragPrevious=e,t.tbuffered=performance.now(),this.fragLastKbps=Math.round(8*t.total/(t.tbuffered-t.tfirst)),this.hls.trigger(g.default.FRAG_BUFFERED,{stats:t,frag:e,id:\\\"main\\\"});var r=this.mediaBuffer?this.mediaBuffer:this.media;k.logger.log(\\\"main buffered : \\\"+R.default.toString(r.buffered)),this.state=T.IDLE}this.tick()}}},{key:\\\"onError\\\",value:function(e){var t=e.frag||this.fragCurrent;if(!t||\\\"main\\\"===t.type){var r=this.media,i=r&&h.default.isBuffered(r,r.currentTime)&&h.default.isBuffered(r,r.currentTime+.5);switch(e.details){case _.ErrorDetails.FRAG_LOAD_ERROR:case _.ErrorDetails.FRAG_LOAD_TIMEOUT:case _.ErrorDetails.KEY_LOAD_ERROR:case _.ErrorDetails.KEY_LOAD_TIMEOUT:if(!e.fatal){var a=this.fragLoadError;a?a++:a=1;var n=this.config;if(a<=n.fragLoadingMaxRetry||i||t.autoLevel&&t.level){this.fragLoadError=a,t.loadCounter=0;var s=Math.min(Math.pow(2,a-1)*n.fragLoadingRetryDelay,n.fragLoadingMaxRetryTimeout);k.logger.warn(\\\"mediaController: frag loading failed, retry in \\\"+s+\\\" ms\\\"),this.retryDate=performance.now()+s,this.state=T.FRAG_LOADING_WAITING_RETRY}else k.logger.error(\\\"mediaController: \\\"+e.details+\\\" reaches max retry, redispatch as fatal ...\\\"),e.fatal=!0,this.hls.trigger(g.default.ERROR,e),this.state=T.ERROR}break;case _.ErrorDetails.FRAG_LOOP_LOADING_ERROR:e.fatal||(i?(this._reduceMaxBufferLength(t.duration),this.state=T.IDLE):t.autoLevel&&0!==t.level||(e.fatal=!0,this.hls.trigger(g.default.ERROR,e),this.state=T.ERROR));break;case _.ErrorDetails.LEVEL_LOAD_ERROR:case _.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==T.ERROR&&(e.fatal?(this.state=T.ERROR,k.logger.warn(\\\"streamController: \\\"+e.details+\\\",switch to \\\"+this.state+\\\" state ...\\\")):this.state===T.WAITING_LEVEL&&(this.state=T.IDLE));break;case _.ErrorDetails.BUFFER_FULL_ERROR:this.state!==T.PARSING&&this.state!==T.PARSED||(i?(this._reduceMaxBufferLength(t.duration),this.state=T.IDLE):(k.logger.warn(\\\"buffer full error also media.currentTime is not buffered, flush everything\\\"),this.fragCurrent=null,this.state=T.PAUSED,this.hls.trigger(g.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY})))}}}},{key:\\\"_reduceMaxBufferLength\\\",value:function(e){var t=this.config;t.maxMaxBufferLength>=e&&(t.maxMaxBufferLength/=2,k.logger.warn(\\\"reduce max buffer length to \\\"+t.maxMaxBufferLength+\\\"s and switch to IDLE state\\\"),this.fragLoadIdx+=2*t.fragLoadingLoopThreshold)}},{key:\\\"_checkBuffer\\\",value:function(){var e=this.media;if(e&&e.readyState){var t=e.currentTime,r=e.buffered;if(!this.loadedmetadata&&r.length){this.loadedmetadata=!0;var i=this.startPosition,a=h.default.isBuffered(e,i);t===i&&a||(k.logger.log(\\\"target start position:\\\"+i),a||(i=r.start(0),k.logger.log(\\\"target start position not buffered, seek to buffered.start(0) \\\"+i)),k.logger.log(\\\"adjust currentTime from \\\"+t+\\\" to \\\"+i),e.currentTime=i)}else if(this.immediateSwitch)this.immediateLevelSwitchEnd();else{var n=h.default.bufferInfo(e,t,0),s=!(e.paused||e.ended||0===e.buffered.length),o=.5,l=t>e.playbackRate*this.lastCurrentTime,u=this.config;if(this.stalled&&l&&(this.stalled=!1,k.logger.log(\\\"playback not stuck anymore @\\\"+t)),s&&n.len<=o&&(l?(o=0,this.seekHoleNudgeDuration=0):this.stalled?this.seekHoleNudgeDuration+=u.seekHoleNudgeDuration:(this.seekHoleNudgeDuration=0,k.logger.log(\\\"playback seems stuck @\\\"+t),this.hls.trigger(g.default.ERROR,{type:_.ErrorTypes.MEDIA_ERROR,details:_.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1}),this.stalled=!0),n.len<=o)){var d=n.nextStart,f=d-t;if(d&&f<u.maxSeekHole&&f>0){k.logger.log(\\\"adjust currentTime from \\\"+e.currentTime+\\\" to next buffered @ \\\"+d+\\\" + nudge \\\"+this.seekHoleNudgeDuration);var c=d+this.seekHoleNudgeDuration-e.currentTime;e.currentTime=d+this.seekHoleNudgeDuration,this.hls.trigger(g.default.ERROR,{type:_.ErrorTypes.MEDIA_ERROR,details:_.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,hole:c})}}}}}},{key:\\\"onFragLoadEmergencyAborted\\\",value:function(){this.state=T.IDLE,this.loadedmetadata||(this.startFragRequested=!1),this.tick()}},{key:\\\"onBufferFlushed\\\",value:function(){var e=this.mediaBuffer?this.mediaBuffer:this.media,t=this.bufferRange,r=[],i=void 0,a=void 0;for(a=0;a<t.length;a++)i=t[a],h.default.isBuffered(e,(i.start+i.end)/2)&&r.push(i);this.bufferRange=r,this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold,this.state=T.IDLE,this.fragPrevious=null}},{key:\\\"swapAudioCodec\\\",value:function(){this.audioCodecSwap=!this.audioCodecSwap}},{key:\\\"computeLivePosition\\\",value:function(e,t){var r=void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*t.targetduration;return e+Math.max(0,t.totalduration-r)}},{key:\\\"state\\\",set:function(e){if(this.state!==e){var t=this.state;this._state=e,k.logger.log(\\\"engine state transition from \\\"+t+\\\" to \\\"+e),this.hls.trigger(g.default.STREAM_STATE_TRANSITION,{previousState:t,nextState:e})}},get:function(){return this._state}},{key:\\\"currentLevel\\\",get:function(){var e=this.media;if(e){var t=this.getBufferRange(e.currentTime);if(t)return t.frag.level}return-1}},{key:\\\"nextBufferRange\\\",get:function(){var e=this.media;return e?this.followingBufferRange(this.getBufferRange(e.currentTime)):null}},{key:\\\"nextLevel\\\",get:function(){var e=this.nextBufferRange;return e?e.frag.level:-1}},{key:\\\"liveSyncPosition\\\",get:function(){return this._liveSyncPosition},set:function(e){this._liveSyncPosition=e}}]),t}(y.default);r.default=A},{22:22,26:26,27:27,28:28,30:30,31:31,41:41,45:45,47:47}],13:[function(e,t,r){\\\"use strict\\\";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}function n(e,t){if(!e)throw new ReferenceError(\\\"this hasn't been initialised - super() hasn't been called\\\");return!t||\\\"object\\\"!=typeof t&&\\\"function\\\"!=typeof t?e:t}function s(e,t){if(\\\"function\\\"!=typeof t&&null!==t)throw new TypeError(\\\"Super expression must either be null or a function, not \\\"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),l=e(28),u=i(l),d=e(27),h=i(d),f=e(42),c=i(f),v=function(e){function t(e){a(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,u.default.MEDIA_ATTACHING,u.default.MEDIA_DETACHING,u.default.FRAG_PARSING_USERDATA,u.default.MANIFEST_LOADING,u.default.FRAG_LOADED,u.default.LEVEL_SWITCH));if(r.hls=e,r.config=e.config,r.enabled=!0,r.Cues=e.config.cueHandler,r.config.enableCEA708Captions){var i=r,s={newCue:function(e,t,r){if(!i.textTrack1){var a=i.getExistingTrack(\\\"1\\\");if(a){i.textTrack1=a,i.clearCurrentCues(i.textTrack1);var n=new window.Event(\\\"addtrack\\\");n.track=i.textTrack1,i.media.dispatchEvent(n)}else i.textTrack1=i.createTextTrack(\\\"captions\\\",\\\"English\\\",\\\"en\\\"),i.textTrack1.textTrack1=!0}i.Cues.newCue(i.textTrack1,e,t,r)}},o={newCue:function(e,t,r){if(!i.textTrack2){var a=i.getExistingTrack(\\\"2\\\");if(a){i.textTrack2=a,i.clearCurrentCues(i.textTrack2);var n=new window.Event(\\\"addtrack\\\");n.track=i.textTrack2,i.media.dispatchEvent(n)}else i.textTrack2=i.createTextTrack(\\\"captions\\\",\\\"Spanish\\\",\\\"es\\\"),i.textTrack2.textTrack2=!0}i.Cues.newCue(i.textTrack2,e,t,r)}};r.cea608Parser=new c.default(0,s,o)}return r}return s(t,e),o(t,[{key:\\\"clearCurrentCues\\\",value:function(e){if(e&&e.cues)for(;e.cues.length>0;)e.removeCue(e.cues[0])}},{key:\\\"getExistingTrack\\\",value:function(e){var t=this.media;if(t)for(var r=0;r<t.textTracks.length;r++){var i=t.textTracks[r],a=\\\"textTrack\\\"+e;if(i[a]===!0)return i}return null}},{key:\\\"createTextTrack\\\",value:function(e,t,r){if(this.media)return this.media.addTextTrack(e,t,r)}},{key:\\\"destroy\\\",value:function(){h.default.prototype.destroy.call(this)}},{key:\\\"onMediaAttaching\\\",value:function(e){this.media=e.media}},{key:\\\"onMediaDetaching\\\",value:function(){}},{key:\\\"onManifestLoading\\\",value:function(){this.lastPts=Number.NEGATIVE_INFINITY}},{key:\\\"onLevelSwitch\\\",value:function(){\\\"NONE\\\"===this.hls.currentLevel.closedCaptions?this.enabled=!1:this.enabled=!0}},{key:\\\"onFragLoaded\\\",value:function(e){if(\\\"main\\\"===e.frag.type){var t=e.frag.start;t<=this.lastPts&&(this.clearCurrentCues(this.textTrack1),this.clearCurrentCues(this.textTrack2)),this.lastPts=t}}},{key:\\\"onFragParsingUserdata\\\",value:function(e){if(this.enabled&&this.config.enableCEA708Captions)for(var t=0;t<e.samples.length;t++){var r=this.extractCea608Data(e.samples[t].bytes);this.cea608Parser.addData(e.samples[t].pts,r)}}},{key:\\\"extractCea608Data\\\",value:function(e){for(var t,r,i,a,n,s=31&e[0],o=2,l=[],u=0;u<s;u++)t=e[o++],r=127&e[o++],i=127&e[o++],a=0!==(4&t),n=3&t,0===r&&0===i||a&&0===n&&(l.push(r),l.push(i));return l}}]),t}(h.default);r.default=v},{27:27,28:28,42:42}],14:[function(e,t,r){\\\"use strict\\\";function i(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),n=function(){function e(t){i(this,e),this.aesIV=t}return a(e,[{key:\\\"decrypt\\\",value:function(e,t){return window.crypto.subtle.decrypt({name:\\\"AES-CBC\\\",iv:this.aesIV},t,e)}}]),e}();r.default=n},{}],15:[function(e,t,r){\\\"use strict\\\";function i(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),n=function(){function e(){i(this,e),this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[],this.subMix[0]=new Uint32Array(256),this.subMix[1]=new Uint32Array(256),this.subMix[2]=new Uint32Array(256),this.subMix[3]=new Uint32Array(256),this.invSubMix=[],this.invSubMix[0]=new Uint32Array(256),this.invSubMix[1]=new Uint32Array(256),this.invSubMix[2]=new Uint32Array(256),this.invSubMix[3]=new Uint32Array(256),this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}return a(e,[{key:\\\"uint8ArrayToUint32Array_\\\",value:function(e){for(var t=new DataView(e),r=new Uint32Array(4),i=0;i<r.length;i++)r[i]=t.getUint32(4*i);return r}},{key:\\\"initTable\\\",value:function(){var e=this.sBox,t=this.invSBox,r=this.subMix[0],i=this.subMix[1],a=this.subMix[2],n=this.subMix[3],s=this.invSubMix[0],o=this.invSubMix[1],l=this.invSubMix[2],u=this.invSubMix[3],d=new Uint32Array(256),h=0,f=0,c=0;for(c=0;c<256;c++)c<128?d[c]=c<<1:d[c]=c<<1^283;for(c=0;c<256;c++){var v=f^f<<1^f<<2^f<<3^f<<4;v=v>>>8^255&v^99,e[h]=v,t[v]=h;var g=d[h],p=d[g],y=d[p],m=257*d[v]^16843008*v;r[h]=m<<24|m>>>8,i[h]=m<<16|m>>>16,a[h]=m<<8|m>>>24,n[h]=m,m=16843009*y^65537*p^257*g^16843008*h,s[v]=m<<24|m>>>8,o[v]=m<<16|m>>>16,l[v]=m<<8|m>>>24,u[v]=m,h?(h=g^d[d[d[y^g]]],f^=d[d[f]]):h=f=1}}},{key:\\\"expandKey\\\",value:function(e){for(var t=this.uint8ArrayToUint32Array_(e),r=!0,i=0;i<t.length&&r;)r=t[i]===this.key[i],i++;if(!r){this.key=t;var a=this.keySize=t.length;if(4!==a&&6!==a&&8!==a)throw new Error(\\\"Invalid aes key size=\\\"+a);var n=this.ksRows=4*(a+6+1),s=void 0,o=void 0,l=this.keySchedule=new Uint32Array(this.ksRows).fill(0),u=this.invKeySchedule=new Uint32Array(this.ksRows).fill(0),d=this.sBox,h=this.rcon,f=this.invSubMix[0],c=this.invSubMix[1],v=this.invSubMix[2],g=this.invSubMix[3],p=void 0,y=void 0;for(s=0;s<n;s++)s<a?p=l[s]=t[s]:(y=p,s%a===0?(y=y<<8|y>>>24,y=d[y>>>24]<<24|d[y>>>16&255]<<16|d[y>>>8&255]<<8|d[255&y],y^=h[s/a|0]<<24):a>6&&s%a===4&&(y=d[y>>>24]<<24|d[y>>>16&255]<<16|d[y>>>8&255]<<8|d[255&y]),l[s]=p=(l[s-a]^y)>>>0);for(o=0;o<n;o++)s=n-o,y=3&o?l[s]:l[s-4],o<4||s<=4?u[o]=y:u[o]=f[d[y>>>24]]^c[d[y>>>16&255]]^v[d[y>>>8&255]]^g[d[255&y]],u[o]=u[o]>>>0}}},{key:\\\"networkToHostOrderSwap\\\",value:function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24}},{key:\\\"decrypt\\\",value:function(e,t,r){for(var i,a,n=this.keySize+6,s=this.invKeySchedule,o=this.invSBox,l=this.invSubMix[0],u=this.invSubMix[1],d=this.invSubMix[2],h=this.invSubMix[3],f=this.uint8ArrayToUint32Array_(r),c=f[0],v=f[1],g=f[2],p=f[3],y=new Int32Array(e),m=new Int32Array(y.length),E=void 0,b=void 0,R=void 0,_=void 0,k=void 0,T=void 0,A=void 0,S=void 0,L=void 0,D=void 0,w=void 0,O=void 0;t<y.length;){for(L=this.networkToHostOrderSwap(y[t]),D=this.networkToHostOrderSwap(y[t+1]),w=this.networkToHostOrderSwap(y[t+2]),O=this.networkToHostOrderSwap(y[t+3]),k=L^s[0],T=O^s[1],A=w^s[2],S=D^s[3],i=4,a=1;a<n;a++)E=l[k>>>24]^u[T>>16&255]^d[A>>8&255]^h[255&S]^s[i],b=l[T>>>24]^u[A>>16&255]^d[S>>8&255]^h[255&k]^s[i+1],R=l[A>>>24]^u[S>>16&255]^d[k>>8&255]^h[255&T]^s[i+2],_=l[S>>>24]^u[k>>16&255]^d[T>>8&255]^h[255&A]^s[i+3],k=E,T=b,A=R,S=_,i+=4;E=o[k>>>24]<<24^o[T>>16&255]<<16^o[A>>8&255]<<8^o[255&S]^s[i],b=o[T>>>24]<<24^o[A>>16&255]<<16^o[S>>8&255]<<8^o[255&k]^s[i+1],R=o[A>>>24]<<24^o[S>>16&255]<<16^o[k>>8&255]<<8^o[255&T]^s[i+2],_=o[S>>>24]<<24^o[k>>16&255]<<16^o[T>>8&255]<<8^o[255&A]^s[i+3],i+=3,m[t]=this.networkToHostOrderSwap(E^c),m[t+1]=this.networkToHostOrderSwap(_^v),m[t+2]=this.networkToHostOrderSwap(R^g),m[t+3]=this.networkToHostOrderSwap(b^p),c=L,v=D,g=w,p=O,t+=4}return m.buffer}},{key:\\\"destroy\\\",value:function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0}}]),e}();r.default=n},{}],16:[function(e,t,r){\\\"use strict\\\";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),s=e(14),o=i(s),l=e(17),u=i(l),d=e(15),h=i(d),f=e(26),c=e(45),v=function(){function e(t){a(this,e),this.hls=t;try{var r=window?window.crypto:crypto;this.subtle=r.subtle||r.webkitSubtle}catch(e){}this.disableWebCrypto=!this.supportsWebCrypto()}return n(e,[{key:\\\"supportsWebCrypto\\\",value:function(){return this.subtle&&\\\"https:\\\"===window.location.protocol}},{key:\\\"decrypt\\\",value:function(e,t,r,i){var a=this;this.disableWebCrypto&&this.hls.config.enableSoftwareAES?(c.logger.log(\\\"decrypting by JavaScript Implementation\\\"),this.decryptor||(this.decryptor=new h.default),this.decryptor.expandKey(t),i(this.decryptor.decrypt(e,0,r))):(c.logger.log(\\\"decrypting by WebCrypto API\\\"),this.key!==t&&(this.key=t,this.fastAesKey=new u.default(t)),this.fastAesKey.expandKey().then(function(t){var a=new o.default(r);a.decrypt(e,t).then(function(e){i(e)})}).catch(function(n){a.onWebCryptoError(n,e,t,r,i)}))}},{key:\\\"onWebCryptoError\\\",value:function(e,t,r,i,a){this.hls.config.enableSoftwareAES?(c.logger.log(\\\"disabling to use WebCrypto API\\\"),this.disableWebCrypto=!0,this.decrypt(t,r,i,a)):(c.logger.error(\\\"decrypting error : \\\"+e.message),this.hls.trigger(Event.ERROR,{type:f.ErrorTypes.MEDIA_ERROR,details:f.ErrorDetails.FRAG_DECRYPT_ERROR,fatal:!0,reason:e.message}))}},{key:\\\"destroy\\\",value:function(){this.decryptor&&(this.decryptor.destroy(),this.decryptor=void 0)}}]),e}();r.default=v},{14:14,15:15,17:17,26:26,45:45}],17:[function(e,t,r){\\\"use strict\\\";function i(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),n=function(){function e(t){i(this,e),this.key=t}return a(e,[{key:\\\"expandKey\\\",value:function(){return window.crypto.subtle.importKey(\\\"raw\\\",this.key,{name:\\\"AES-CBC\\\"},!1,[\\\"encrypt\\\",\\\"decrypt\\\"])}}]),e}();r.default=n},{}],18:[function(e,t,r){\\\"use strict\\\";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),s=e(19),o=i(s),l=e(45),u=e(24),d=i(u),h=function(){function e(t,r,i,n){a(this,e),this.observer=t,this.id=r,this.remuxerClass=i,this.config=n,this.remuxer=new this.remuxerClass(t,r,n),this.insertDiscontinuity()}return n(e,[{key:\\\"insertDiscontinuity\\\",value:function(){this._aacTrack={container:\\\"audio/adts\\\",type:\\\"audio\\\",id:-1,sequenceNumber:0,samples:[],len:0}}},{key:\\\"push\\\",value:function(e,t,r,i,a,n,s,u,h){var f,c,v,g,p,y,m,E,b,R,_=new d.default(e),k=90*_.timeStamp,T=!1;for(a!==this.lastCC?(l.logger.log(this.id+\\\" discontinuity detected\\\"),this.lastCC=a,this.insertDiscontinuity(),this.remuxer.switchLevel(),this.remuxer.insertDiscontinuity()):n!==this.lastLevel?(l.logger.log(\\\"audio track switch detected\\\"),this.lastLevel=n,this.remuxer.switchLevel(),this.insertDiscontinuity()):s===this.lastSN+1&&(T=!0),f=this._aacTrack,this.lastSN=s,this.lastLevel=n,y=_.length,b=e.length;y<b-1&&(255!==e[y]||240!==(240&e[y+1]));y++);for(f.audiosamplerate||(c=o.default.getAudioConfig(this.observer,e,y,t),f.config=c.config,f.audiosamplerate=c.samplerate,f.channelCount=c.channelCount,f.codec=c.codec,f.duration=u,l.logger.log(\\\"parsed codec:\\\"+f.codec+\\\",rate:\\\"+c.samplerate+\\\",nb channel:\\\"+c.channelCount)),p=0,g=9216e4/f.audiosamplerate;y+5<b&&(m=1&e[y+1]?7:9,v=(3&e[y+3])<<11|e[y+4]<<3|(224&e[y+5])>>>5,v-=m,v>0&&y+m+v<=b);)for(E=k+p*g,R={unit:e.subarray(y+m,y+m+v),pts:E,dts:E},f.samples.push(R),f.len+=v,y+=v+m,p++;y<b-1&&(255!==e[y]||240!==(240&e[y+1]));y++);this.remuxer.remux(n,s,this._aacTrack,{samples:[]},{samples:[{pts:k,dts:k,unit:_.payload}]},{samples:[]},i,T,h)}},{key:\\\"destroy\\\",value:function(){}}],[{key:\\\"probe\\\",value:function(e){var t,r,i=new d.default(e);if(i.hasTimeStamp)for(t=i.length,r=e.length;t<r-1;t++)if(255===e[t]&&240===(240&e[t+1]))return!0;return!1}}]),e}();r.default=h},{19:19,24:24,45:45}],19:[function(e,t,r){\\\"use strict\\\";function i(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),n=e(45),s=e(26),o=function(){function e(){i(this,e)}return a(e,null,[{key:\\\"getAudioConfig\\\",value:function(e,t,r,i){var a,o,l,u,d,h=navigator.userAgent.toLowerCase(),f=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];return a=((192&t[r+2])>>>6)+1,o=(60&t[r+2])>>>2,o>f.length-1?void e.trigger(Event.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:\\\"invalid ADTS sampling index:\\\"+o}):(u=(1&t[r+2])<<2,u|=(192&t[r+3])>>>6,n.logger.log(\\\"manifest codec:\\\"+i+\\\",ADTS data:type:\\\"+a+\\\",sampleingIndex:\\\"+o+\\\"[\\\"+f[o]+\\\"Hz],channelConfig:\\\"+u),/firefox|OPR/i.test(h)?o>=6?(a=5,d=new Array(4),l=o-3):(a=2,d=new Array(2),l=o):h.indexOf(\\\"android\\\")!==-1?(a=2,d=new Array(2),l=o):(a=5,d=new Array(4),i&&(i.indexOf(\\\"mp4a.40.29\\\")!==-1||i.indexOf(\\\"mp4a.40.5\\\")!==-1)||!i&&o>=6?l=o-3:((i&&i.indexOf(\\\"mp4a.40.2\\\")!==-1&&o>=6&&1===u||!i&&1===u)&&(a=2,d=new Array(2)),l=o)),d[0]=a<<3,d[0]|=(14&o)>>1,d[1]|=(1&o)<<7,d[1]|=u<<3,5===a&&(d[1]|=(14&l)>>1,d[2]=(1&l)<<7,d[2]|=8,d[3]=0),{config:d,samplerate:f[o],channelCount:u,codec:\\\"mp4a.40.\\\"+a})}}]),e}();r.default=o},{26:26,45:45}],20:[function(e,t,r){\\\"use strict\\\";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),s=e(28),o=i(s),l=e(26),u=e(18),d=i(u),h=e(25),f=i(h),c=e(38),v=i(c),g=e(39),p=i(g),y=function(){function e(t,r,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;a(this,e),this.hls=t,this.id=r,this.config=this.hls.config||n,this.typeSupported=i}return n(e,[{key:\\\"destroy\\\",value:function(){var e=this.demuxer;e&&e.destroy()}},{key:\\\"push\\\",value:function(e,t,r,i,a,n,s,u,h){var c=this.demuxer;if(!c){var g=this.hls,y=this.id;if(f.default.probe(e))c=this.typeSupported.mp2t===!0?new f.default(g,y,p.default,this.config):new f.default(g,y,v.default,this.config);else{if(!d.default.probe(e))return void g.trigger(o.default.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,id:y,details:l.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:\\\"no demux matching with content found\\\"});c=new d.default(g,y,v.default,this.config)}this.demuxer=c}c.push(e,t,r,i,a,n,s,u,h)}}]),e}();r.default=y},{18:18,25:25,26:26,28:28,38:38,39:39}],21:[function(e,t,r){\\\"use strict\\\";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var a=e(20),n=i(a),s=e(28),o=i(s),l=e(45),u=e(1),d=i(u),h=function(e){var t=new d.default;t.trigger=function(e){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];t.emit.apply(t,[e,e].concat(i))},t.off=function(e){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];t.removeListener.apply(t,[e].concat(i))};var r=function(t,r){e.postMessage({event:t,data:r})};e.addEventListener(\\\"message\\\",function(i){var a=i.data;switch(a.cmd){case\\\"init\\\":var s=JSON.parse(a.config);e.demuxer=new n.default(t,a.id,a.typeSupported,s);try{(0,l.enableLogs)(s.debug)}catch(e){}r(\\\"init\\\",null);break;case\\\"demux\\\":e.demuxer.push(new Uint8Array(a.data),a.audioCodec,a.videoCodec,a.timeOffset,a.cc,a.level,a.sn,a.duration,a.accurateTimeOffset)}}),t.on(o.default.FRAG_PARSING_INIT_SEGMENT,r),t.on(o.default.FRAG_PARSED,r),t.on(o.default.ERROR,r),t.on(o.default.FRAG_PARSING_METADATA,r),t.on(o.default.FRAG_PARSING_USERDATA,r),t.on(o.default.FRAG_PARSING_DATA,function(t,r){var i=r.data1.buffer,a=r.data2.buffer;delete r.data1,delete r.data2,e.postMessage({event:t,data:r,data1:i,data2:a},[i,a])})};r.default=h},{1:1,20:20,28:28,45:45}],22:[function(e,t,r){\\\"use strict\\\";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),s=e(28),o=i(s),l=e(20),u=i(l),d=e(21),h=i(d),f=e(45),c=e(16),v=i(c),g=e(26),p=function(){function t(r,i){a(this,t),this.hls=r,this.id=i;var n={mp4:MediaSource.isTypeSupported(\\\"video/mp4\\\"),mp2t:r.config.enableMP2TPassThrough&&MediaSource.isTypeSupported(\\\"video/mp2t\\\")};if(r.config.enableWorker&&\\\"undefined\\\"!=typeof Worker){f.logger.log(\\\"demuxing in webworker\\\");var s=void 0;try{var l=e(3);s=this.w=l(h.default),this.onwmsg=this.onWorkerMessage.bind(this),s.addEventListener(\\\"message\\\",this.onwmsg),s.onerror=function(e){r.trigger(o.default.ERROR,{type:g.ErrorTypes.OTHER_ERROR,details:g.ErrorDetails.INTERNAL_EXCEPTION,fatal:!0,event:\\\"demuxerWorker\\\",err:{message:e.message+\\\" (\\\"+e.filename+\\\":\\\"+e.lineno+\\\")\\\"}})},s.postMessage({cmd:\\\"init\\\",typeSupported:n,id:i,config:JSON.stringify(r.config)})}catch(e){f.logger.error(\\\"error while initializing DemuxerWorker, fallback on DemuxerInline\\\"),s&&URL.revokeObjectURL(s.objectURL),this.demuxer=new u.default(r,i,n)}}else this.demuxer=new u.default(r,i,n);this.demuxInitialized=!0}return n(t,[{key:\\\"destroy\\\",value:function(){var e=this.w;if(e)e.removeEventListener(\\\"message\\\",this.onwmsg),e.terminate(),this.w=null;else{var t=this.demuxer;t&&(t.destroy(),this.demuxer=null)}var r=this.decrypter;r&&(r.destroy(),this.decrypter=null)}},{key:\\\"pushDecrypted\\\",value:function(e,t,r,i,a,n,s,o,l){var u=this.w;if(u)u.postMessage({cmd:\\\"demux\\\",data:e,audioCodec:t,videoCodec:r,timeOffset:i,cc:a,level:n,sn:s,duration:o,accurateTimeOffset:l},[e]);else{var d=this.demuxer;d&&d.push(new Uint8Array(e),t,r,i,a,n,s,o,l)}}},{key:\\\"push\\\",value:function(e,t,r,i,a,n,s,l,u,d){if(e.byteLength>0&&null!=u&&null!=u.key&&\\\"AES-128\\\"===u.method){null==this.decrypter&&(this.decrypter=new v.default(this.hls));var h=this,f=performance.now();this.decrypter.decrypt(e,u.key.buffer,u.iv.buffer,function(e){h.hls.trigger(o.default.FRAG_DECRYPTED,{level:n,sn:s,stats:{tstart:f,tdecrypt:performance.now()}}),h.pushDecrypted(e,t,r,i,a,n,s,l,d)})}else this.pushDecrypted(e,t,r,i,a,n,s,l,d)}},{key:\\\"onWorkerMessage\\\",value:function(e){var t=e.data,r=this.hls;switch(t.event){case\\\"init\\\":URL.revokeObjectURL(this.w.objectURL);break;case o.default.FRAG_PARSING_DATA:t.data.data1=new Uint8Array(t.data1),t.data.data2=new Uint8Array(t.data2);default:r.trigger(t.event,t.data)}}}]),t}();r.default=p},{16:16,20:20,21:21,26:26,28:28,3:3,45:45}],23:[function(e,t,r){\\\"use strict\\\";function i(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),n=e(45),s=function(){function e(t){i(this,e),this.data=t,this.bytesAvailable=this.data.byteLength,this.word=0,this.bitsAvailable=0}return a(e,[{key:\\\"loadWord\\\",value:function(){var e=this.data.byteLength-this.bytesAvailable,t=new Uint8Array(4),r=Math.min(4,this.bytesAvailable);if(0===r)throw new Error(\\\"no bytes available\\\");t.set(this.data.subarray(e,e+r)),this.word=new DataView(t.buffer).getUint32(0),this.bitsAvailable=8*r,this.bytesAvailable-=r}},{key:\\\"skipBits\\\",value:function(e){var t;this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,t=e>>3,e-=t>>3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)}},{key:\\\"readBits\\\",value:function(e){var t=Math.min(this.bitsAvailable,e),r=this.word>>>32-t;return e>32&&n.logger.error(\\\"Cannot read more than 32 bits at a time\\\"),this.bitsAvailable-=t,this.bitsAvailable>0?this.word<<=t:this.bytesAvailable>0&&this.loadWord(),t=e-t,t>0&&this.bitsAvailable?r<<t|this.readBits(t):r}},{key:\\\"skipLZ\\\",value:function(){var e;for(e=0;e<this.bitsAvailable;++e)if(0!==(this.word&2147483648>>>e))return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()}},{key:\\\"skipUEG\\\",value:function(){this.skipBits(1+this.skipLZ())}},{key:\\\"skipEG\\\",value:function(){this.skipBits(1+this.skipLZ())}},{key:\\\"readUEG\\\",value:function(){var e=this.skipLZ();return this.readBits(e+1)-1}},{key:\\\"readEG\\\",value:function(){var e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)}},{key:\\\"readBoolean\\\",value:function(){return 1===this.readBits(1)}},{key:\\\"readUByte\\\",value:function(){return this.readBits(8)}},{key:\\\"readUShort\\\",value:function(){return this.readBits(16)}},{key:\\\"readUInt\\\",value:function(){return this.readBits(32);\\n}},{key:\\\"skipScalingList\\\",value:function(e){var t,r,i=8,a=8;for(t=0;t<e;t++)0!==a&&(r=this.readEG(),a=(i+r+256)%256),i=0===a?i:a}},{key:\\\"readSPS\\\",value:function(){var e,t,r,i,a,n,s,o,l,u=0,d=0,h=0,f=0,c=1;if(this.readUByte(),e=this.readUByte(),t=this.readBits(5),this.skipBits(3),r=this.readUByte(),this.skipUEG(),100===e||110===e||122===e||244===e||44===e||83===e||86===e||118===e||128===e){var v=this.readUEG();if(3===v&&this.skipBits(1),this.skipUEG(),this.skipUEG(),this.skipBits(1),this.readBoolean())for(o=3!==v?8:12,l=0;l<o;l++)this.readBoolean()&&(l<6?this.skipScalingList(16):this.skipScalingList(64))}this.skipUEG();var g=this.readUEG();if(0===g)this.readUEG();else if(1===g)for(this.skipBits(1),this.skipEG(),this.skipEG(),i=this.readUEG(),l=0;l<i;l++)this.skipEG();if(this.skipUEG(),this.skipBits(1),a=this.readUEG(),n=this.readUEG(),s=this.readBits(1),0===s&&this.skipBits(1),this.skipBits(1),this.readBoolean()&&(u=this.readUEG(),d=this.readUEG(),h=this.readUEG(),f=this.readUEG()),this.readBoolean()&&this.readBoolean()){var p=void 0,y=this.readUByte();switch(y){case 1:p=[1,1];break;case 2:p=[12,11];break;case 3:p=[10,11];break;case 4:p=[16,11];break;case 5:p=[40,33];break;case 6:p=[24,11];break;case 7:p=[20,11];break;case 8:p=[32,11];break;case 9:p=[80,33];break;case 10:p=[18,11];break;case 11:p=[15,11];break;case 12:p=[64,33];break;case 13:p=[160,99];break;case 14:p=[4,3];break;case 15:p=[3,2];break;case 16:p=[2,1];break;case 255:p=[this.readUByte()<<8|this.readUByte(),this.readUByte()<<8|this.readUByte()]}p&&(c=p[0]/p[1])}return{width:Math.ceil((16*(a+1)-2*u-2*d)*c),height:(2-s)*(n+1)*16-(s?2:4)*(h+f)}}},{key:\\\"readSliceType\\\",value:function(){return this.readUByte(),this.readUEG(),this.readUEG()}}]),e}();r.default=s},{45:45}],24:[function(e,t,r){\\\"use strict\\\";function i(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),n=e(45),s=function(){function e(t){i(this,e),this._hasTimeStamp=!1;for(var r,a,s,o,l,u,d,h,f=0;;)if(d=this.readUTF(t,f,3),f+=3,\\\"ID3\\\"===d)f+=3,r=127&t[f++],a=127&t[f++],s=127&t[f++],o=127&t[f++],l=(r<<21)+(a<<14)+(s<<7)+o,u=f+l,this._parseID3Frames(t,f,u),f=u;else{if(\\\"3DI\\\"!==d)return f-=3,h=f,void(h&&(this.hasTimeStamp||n.logger.warn(\\\"ID3 tag found, but no timestamp\\\"),this._length=h,this._payload=t.subarray(0,h)));f+=7,n.logger.log(\\\"3DI footer found, end: \\\"+f)}}return a(e,[{key:\\\"readUTF\\\",value:function(e,t,r){var i=\\\"\\\",a=t,n=t+r;do i+=String.fromCharCode(e[a++]);while(a<n);return i}},{key:\\\"_parseID3Frames\\\",value:function(e,t,r){for(var i,a,s,o,l;t+8<=r;)switch(i=this.readUTF(e,t,4),t+=4,a=e[t++]<<24+e[t++]<<16+e[t++]<<8+e[t++],o=e[t++]<<8+e[t++],s=t,i){case\\\"PRIV\\\":if(\\\"com.apple.streaming.transportStreamTimestamp\\\"===this.readUTF(e,t,44)){t+=44,t+=4;var u=1&e[t++];this._hasTimeStamp=!0,l=((e[t++]<<23)+(e[t++]<<15)+(e[t++]<<7)+e[t++])/45,u&&(l+=47721858.84),l=Math.round(l),n.logger.trace(\\\"ID3 timestamp found: \\\"+l),this._timeStamp=l}}}},{key:\\\"hasTimeStamp\\\",get:function(){return this._hasTimeStamp}},{key:\\\"timeStamp\\\",get:function(){return this._timeStamp}},{key:\\\"length\\\",get:function(){return this._length}},{key:\\\"payload\\\",get:function(){return this._payload}}]),e}();r.default=s},{45:45}],25:[function(e,t,r){\\\"use strict\\\";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),s=e(19),o=i(s),l=e(28),u=i(l),d=e(23),h=i(d),f=e(45),c=e(26),v=function(){function e(t,r,i,n){a(this,e),this.observer=t,this.id=r,this.remuxerClass=i,this.config=n,this.lastCC=0,this.remuxer=new this.remuxerClass(t,r,n)}return n(e,[{key:\\\"switchLevel\\\",value:function(){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack={container:\\\"video/mp2t\\\",type:\\\"video\\\",id:-1,sequenceNumber:0,samples:[],len:0,dropped:0},this._aacTrack={container:\\\"video/mp2t\\\",type:\\\"audio\\\",id:-1,sequenceNumber:0,samples:[],len:0},this._id3Track={type:\\\"id3\\\",id:-1,sequenceNumber:0,samples:[],len:0},this._txtTrack={type:\\\"text\\\",id:-1,sequenceNumber:0,samples:[],len:0},this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.remuxer.switchLevel()}},{key:\\\"insertDiscontinuity\\\",value:function(){this.switchLevel(),this.remuxer.insertDiscontinuity()}},{key:\\\"push\\\",value:function(e,t,r,i,a,n,s,o,l){var d,h,v,g,p,y,m=e.length,E=this.remuxer.passthrough,b=!1;this.audioCodec=t,this.videoCodec=r,this._duration=o,this.contiguous=!1,this.accurateTimeOffset=l,a!==this.lastCC&&(f.logger.log(\\\"discontinuity detected\\\"),this.insertDiscontinuity(),this.lastCC=a),n!==this.lastLevel?(f.logger.log(\\\"level switch detected\\\"),this.switchLevel(),this.lastLevel=n):s===this.lastSN+1&&(this.contiguous=!0),this.lastSN=s;var R=this.pmtParsed,_=this._avcTrack,k=this._aacTrack,T=this._id3Track,A=_.id,S=k.id,L=T.id,D=this._pmtId,w=_.pesData,O=k.pesData,P=T.pesData,I=this._parsePAT,C=this._parsePMT,M=this._parsePES,x=this._parseAVCPES.bind(this),N=this._parseAACPES.bind(this),F=this._parseID3PES.bind(this);for(m-=m%188,d=0;d<m;d+=188)if(71===e[d]){if(h=!!(64&e[d+1]),v=((31&e[d+1])<<8)+e[d+2],g=(48&e[d+3])>>4,g>1){if(p=d+5+e[d+4],p===d+188)continue}else p=d+4;switch(v){case A:if(h){if(w&&(y=M(w))&&(x(y,!1),E&&_.codec&&(S===-1||k.codec)))return void this.remux(n,s,e,i);w={data:[],size:0}}w&&(w.data.push(e.subarray(p,d+188)),w.size+=d+188-p);break;case S:if(h){if(O&&(y=M(O))&&(N(y),E&&k.codec&&(A===-1||_.codec)))return void this.remux(n,s,e,i);O={data:[],size:0}}O&&(O.data.push(e.subarray(p,d+188)),O.size+=d+188-p);break;case L:h&&(P&&(y=M(P))&&F(y),P={data:[],size:0}),P&&(P.data.push(e.subarray(p,d+188)),P.size+=d+188-p);break;case 0:h&&(p+=e[p]+1),D=this._pmtId=I(e,p);break;case D:h&&(p+=e[p]+1);var U=C(e,p);A=U.avc,A>0&&(_.id=A),S=U.aac,S>0&&(k.id=S),L=U.id3,L>0&&(T.id=L),b&&!R&&(f.logger.log(\\\"reparse from beginning\\\"),b=!1,d=-188),R=this.pmtParsed=!0;break;case 17:case 8191:break;default:b=!0}}else this.observer.trigger(u.default.ERROR,{type:c.ErrorTypes.MEDIA_ERROR,id:this.id,details:c.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:\\\"TS packet did not start with 0x47\\\"});w&&(y=M(w))?(x(y,!0),_.pesData=null):_.pesData=w,O&&(y=M(O))?(N(y),k.pesData=null):(O&&O.size&&f.logger.log(\\\"last AAC PES packet truncated,might overlap between fragments\\\"),k.pesData=O),P&&(y=M(P))?(F(y),T.pesData=null):T.pesData=P,this.remux(n,s,null,i)}},{key:\\\"remux\\\",value:function(e,t,r,i){var a=this._avcTrack,n=a.samples,s=n.reduce(function(e,t){var r=t.units.units.reduce(function(e,t){return{len:e.len+t.data.length,nbNalu:e.nbNalu+1}},{len:0,nbNalu:0});return t.length=r.len,{len:e.len+r.len,nbNalu:e.nbNalu+r.nbNalu}},{len:0,nbNalu:0});a.len=s.len,a.nbNalu=s.nbNalu,this.remuxer.remux(e,t,this._aacTrack,this._avcTrack,this._id3Track,this._txtTrack,i,this.contiguous,this.accurateTimeOffset,r)}},{key:\\\"destroy\\\",value:function(){this.switchLevel(),this._initPTS=this._initDTS=void 0,this._duration=0}},{key:\\\"_parsePAT\\\",value:function(e,t){return(31&e[t+10])<<8|e[t+11]}},{key:\\\"_parsePMT\\\",value:function(e,t){var r,i,a,n,s={aac:-1,avc:-1,id3:-1};for(r=(15&e[t+1])<<8|e[t+2],i=t+3+r-4,a=(15&e[t+10])<<8|e[t+11],t+=12+a;t<i;){switch(n=(31&e[t+1])<<8|e[t+2],e[t]){case 15:s.aac===-1&&(s.aac=n);break;case 21:s.id3===-1&&(s.id3=n);break;case 27:s.avc===-1&&(s.avc=n);break;case 36:f.logger.warn(\\\"HEVC stream type found, not supported for now\\\");break;default:f.logger.log(\\\"unkown stream type:\\\"+e[t])}t+=((15&e[t+3])<<8|e[t+4])+5}return s}},{key:\\\"_parsePES\\\",value:function(e){var t,r,i,a,n,s,o,l,u,d=0,h=e.data;if(!e||0===e.size)return null;for(;h[0].length<19&&h.length>1;){var f=new Uint8Array(h[0].length+h[1].length);f.set(h[0]),f.set(h[1],h[0].length),h[0]=f,h.splice(1,1)}if(t=h[0],i=(t[0]<<16)+(t[1]<<8)+t[2],1===i){if(a=(t[4]<<8)+t[5],a&&a>e.size-6)return null;for(r=t[7],192&r&&(o=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2,o>4294967295&&(o-=8589934592),64&r?(l=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2,l>4294967295&&(l-=8589934592)):l=o),n=t[8],u=n+9,e.size-=u,s=new Uint8Array(e.size);h.length;){t=h.shift();var c=t.byteLength;if(u){if(u>c){u-=c;continue}t=t.subarray(u),c-=u,u=0}s.set(t,d),d+=c}return a&&(a-=n+3),{data:s,pts:o,dts:l,len:a}}return null}},{key:\\\"pushAccesUnit\\\",value:function(e,t){e.units.units.length&&(!this.config.forceKeyFrameOnDiscontinuity||e.key===!0||t.sps&&(t.samples.length||this.contiguous)?t.samples.push(e):t.dropped++),e.debug.length&&f.logger.log(e.pts+\\\"/\\\"+e.dts+\\\":\\\"+e.debug+\\\",\\\"+e.units.length)}},{key:\\\"_parseAVCPES\\\",value:function(e,t){var r,i,a,n=this,s=this._avcTrack,o=this._parseAVCNALu(e.data),l=!1,u=this.avcSample;e.data=null,o.forEach(function(t){switch(t.type){case 1:i=!0,l&&u&&(u.debug+=\\\"NDR \\\");break;case 5:i=!0,u||(u=n.avcSample=n._createAVCSample(!0,e.pts,e.dts,\\\"\\\")),l&&(u.debug+=\\\"IDR \\\"),u.key=!0;break;case 6:i=!0,l&&u&&(u.debug+=\\\"SEI \\\"),r=new h.default(n.discardEPB(t.data)),r.readUByte();for(var o=0,d=0,f=!1,c=0;!f&&r.bytesAvailable>1;){o=0;do c=r.readUByte(),o+=c;while(255===c);d=0;do c=r.readUByte(),d+=c;while(255===c);if(4===o&&0!==r.bytesAvailable){f=!0;var v=r.readUByte();if(181===v){var g=r.readUShort();if(49===g){var p=r.readUInt();if(1195456820===p){var y=r.readUByte();if(3===y){var m=r.readUByte(),E=r.readUByte(),b=31&m,R=[m,E];for(a=0;a<b;a++)R.push(r.readUByte()),R.push(r.readUByte()),R.push(r.readUByte());n._insertSampleInOrder(n._txtTrack.samples,{type:3,pts:e.pts,bytes:R})}}}}}else if(d<r.bytesAvailable)for(a=0;a<d;a++)r.readUByte()}break;case 7:if(i=!0,l&&u&&(u.debug+=\\\"SPS \\\"),!s.sps){r=new h.default(t.data);var _=r.readSPS();s.width=_.width,s.height=_.height,s.sps=[t.data],s.duration=n._duration;var k=t.data.subarray(1,4),T=\\\"avc1.\\\";for(a=0;a<3;a++){var A=k[a].toString(16);A.length<2&&(A=\\\"0\\\"+A),T+=A}s.codec=T}break;case 8:i=!0,l&&u&&(u.debug+=\\\"PPS \\\"),s.pps||(s.pps=[t.data]);break;case 9:i=!1,u&&n.pushAccesUnit(u,s),u=n.avcSample=n._createAVCSample(!1,e.pts,e.dts,l?\\\"AUD \\\":\\\"\\\");break;case 12:i=!1;break;default:i=!1,u&&(u.debug+=\\\"unknown NAL \\\"+t.type+\\\" \\\")}if(u&&i){var S=u.units;S.units.push(t)}}),t&&u&&(this.pushAccesUnit(u,s),this.avcSample=null)}},{key:\\\"_createAVCSample\\\",value:function(e,t,r,i){return{key:e,pts:t,dts:r,units:{units:[],length:0},debug:i}}},{key:\\\"_insertSampleInOrder\\\",value:function(e,t){var r=e.length;if(r>0){if(t.pts>=e[r-1].pts)e.push(t);else for(var i=r-1;i>=0;i--)if(t.pts<e[i].pts){e.splice(i,0,t);break}}else e.push(t)}},{key:\\\"_getLastNalUnit\\\",value:function(){var e=this.avcSample,t=void 0;if(!e||0===e.units.units.length){var r=this._avcTrack,i=r.samples;e=i[i.length-1]}if(e){var a=e.units.units;t=a[a.length-1]}return t}},{key:\\\"_parseAVCNALu\\\",value:function(e){for(var t,r,i,a,n,s=0,o=e.byteLength,l=this._avcTrack,u=l.naluState||0,d=u,h=[],f=-1;s<o;)switch(t=e[s++],u){case 0:0===t&&(u=1);break;case 1:u=0===t?2:0;break;case 2:case 3:if(0===t)u=3;else if(1===t){if(f>=0)i={data:e.subarray(f,s-u-1),type:n},h.push(i);else{var c=this._getLastNalUnit();if(c&&(d&&s<=4-d&&c.state&&(c.data=c.data.subarray(0,c.data.byteLength-d)),r=s-u-1,r>0)){var v=new Uint8Array(c.data.byteLength+r);v.set(c.data,0),v.set(e.subarray(0,r),c.data.byteLength),c.data=v}}s<o?(a=31&e[s],f=s,n=a,u=0):u=-1}else u=0;break;case-1:f=0,n=31&t,u=0}if(f>=0&&u>=0&&(i={data:e.subarray(f,o),type:n,state:u},h.push(i)),0===h.length){var g=this._getLastNalUnit();if(g){var p=new Uint8Array(g.data.byteLength+e.byteLength);p.set(g.data,0),p.set(e,g.data.byteLength),g.data=p}}return l.naluState=u,h}},{key:\\\"discardEPB\\\",value:function(e){for(var t,r,i=e.byteLength,a=[],n=1;n<i-2;)0===e[n]&&0===e[n+1]&&3===e[n+2]?(a.push(n+2),n+=2):n++;if(0===a.length)return e;t=i-a.length,r=new Uint8Array(t);var s=0;for(n=0;n<t;s++,n++)s===a[0]&&(s++,a.shift()),r[n]=e[s];return r}},{key:\\\"_parseAACPES\\\",value:function(e){var t,r,i,a,n,s,l,d,h,v=this._aacTrack,g=e.data,p=e.pts,y=0,m=this.aacOverFlow,E=this.aacLastPTS;if(m){var b=new Uint8Array(m.byteLength+g.byteLength);b.set(m,0),b.set(g,m.byteLength),g=b}for(n=y,d=g.length;n<d-1&&(255!==g[n]||240!==(240&g[n+1]));n++);if(n){var R,_;if(n<d-1?(R=\\\"AAC PES did not start with ADTS header,offset:\\\"+n,_=!1):(R=\\\"no ADTS header found in AAC PES\\\",_=!0),f.logger.warn(\\\"parsing error:\\\"+R),this.observer.trigger(u.default.ERROR,{type:c.ErrorTypes.MEDIA_ERROR,id:this.id,details:c.ErrorDetails.FRAG_PARSING_ERROR,fatal:_,reason:R}),_)return}if(v.audiosamplerate||(t=o.default.getAudioConfig(this.observer,g,n,this.audioCodec),v.config=t.config,v.audiosamplerate=t.samplerate,v.channelCount=t.channelCount,v.codec=t.codec,v.duration=this._duration,f.logger.log(\\\"parsed codec:\\\"+v.codec+\\\",rate:\\\"+t.samplerate+\\\",nb channel:\\\"+t.channelCount)),a=0,i=9216e4/v.audiosamplerate,m&&E){var k=E+i;Math.abs(k-p)>1&&(f.logger.log(\\\"AAC: align PTS for overlapping frames by \\\"+Math.round((k-p)/90)),p=k)}for(;n+5<d&&(s=1&g[n+1]?7:9,r=(3&g[n+3])<<11|g[n+4]<<3|(224&g[n+5])>>>5,r-=s,r>0&&n+s+r<=d);)for(l=p+a*i,h={unit:g.subarray(n+s,n+s+r),pts:l,dts:l},v.samples.push(h),v.len+=r,n+=r+s,a++;n<d-1&&(255!==g[n]||240!==(240&g[n+1]));n++);m=n<d?g.subarray(n,d):null,this.aacOverFlow=m,this.aacLastPTS=l}},{key:\\\"_parseID3PES\\\",value:function(e){this._id3Track.samples.push(e)}}],[{key:\\\"probe\\\",value:function(e){return e.length>=564&&71===e[0]&&71===e[188]&&71===e[376]}}]),e}();r.default=v},{19:19,23:23,26:26,28:28,45:45}],26:[function(e,t,r){\\\"use strict\\\";Object.defineProperty(r,\\\"__esModule\\\",{value:!0});r.ErrorTypes={NETWORK_ERROR:\\\"networkError\\\",MEDIA_ERROR:\\\"mediaError\\\",OTHER_ERROR:\\\"otherError\\\"},r.ErrorDetails={MANIFEST_LOAD_ERROR:\\\"manifestLoadError\\\",MANIFEST_LOAD_TIMEOUT:\\\"manifestLoadTimeOut\\\",MANIFEST_PARSING_ERROR:\\\"manifestParsingError\\\",MANIFEST_INCOMPATIBLE_CODECS_ERROR:\\\"manifestIncompatibleCodecsError\\\",LEVEL_LOAD_ERROR:\\\"levelLoadError\\\",LEVEL_LOAD_TIMEOUT:\\\"levelLoadTimeOut\\\",LEVEL_SWITCH_ERROR:\\\"levelSwitchError\\\",AUDIO_TRACK_LOAD_ERROR:\\\"audioTrackLoadError\\\",AUDIO_TRACK_LOAD_TIMEOUT:\\\"audioTrackLoadTimeOut\\\",FRAG_LOAD_ERROR:\\\"fragLoadError\\\",FRAG_LOOP_LOADING_ERROR:\\\"fragLoopLoadingError\\\",FRAG_LOAD_TIMEOUT:\\\"fragLoadTimeOut\\\",FRAG_DECRYPT_ERROR:\\\"fragDecryptError\\\",FRAG_PARSING_ERROR:\\\"fragParsingError\\\",KEY_LOAD_ERROR:\\\"keyLoadError\\\",KEY_LOAD_TIMEOUT:\\\"keyLoadTimeOut\\\",BUFFER_ADD_CODEC_ERROR:\\\"bufferAddCodecError\\\",BUFFER_APPEND_ERROR:\\\"bufferAppendError\\\",BUFFER_APPENDING_ERROR:\\\"bufferAppendingError\\\",BUFFER_STALLED_ERROR:\\\"bufferStalledError\\\",BUFFER_FULL_ERROR:\\\"bufferFullError\\\",BUFFER_SEEK_OVER_HOLE:\\\"bufferSeekOverHole\\\",INTERNAL_EXCEPTION:\\\"internalException\\\"}},{}],27:[function(e,t,r){\\\"use strict\\\";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var n=\\\"function\\\"==typeof Symbol&&\\\"symbol\\\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\\\"function\\\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\\\"symbol\\\":typeof e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),o=e(45),l=e(26),u=e(28),d=i(u),h=function(){function e(t){a(this,e),this.hls=t,this.onEvent=this.onEvent.bind(this);for(var r=arguments.length,i=Array(r>1?r-1:0),n=1;n<r;n++)i[n-1]=arguments[n];this.handledEvents=i,this.useGenericHandler=!0,this.registerListeners()}return s(e,[{key:\\\"destroy\\\",value:function(){this.unregisterListeners()}},{key:\\\"isEventHandler\\\",value:function(){return\\\"object\\\"===n(this.handledEvents)&&this.handledEvents.length&&\\\"function\\\"==typeof this.onEvent}},{key:\\\"registerListeners\\\",value:function(){this.isEventHandler()&&this.handledEvents.forEach(function(e){if(\\\"hlsEventGeneric\\\"===e)throw new Error(\\\"Forbidden event name: \\\"+e);this.hls.on(e,this.onEvent)}.bind(this))}},{key:\\\"unregisterListeners\\\",value:function(){this.isEventHandler()&&this.handledEvents.forEach(function(e){this.hls.off(e,this.onEvent)}.bind(this))}},{key:\\\"onEvent\\\",value:function(e,t){this.onEventGeneric(e,t)}},{key:\\\"onEventGeneric\\\",value:function(e,t){var r=function(e,t){var r=\\\"on\\\"+e.replace(\\\"hls\\\",\\\"\\\");if(\\\"function\\\"!=typeof this[r])throw new Error(\\\"Event \\\"+e+\\\" has no generic handler in this \\\"+this.constructor.name+\\\" class (tried \\\"+r+\\\")\\\");return this[r].bind(this,t)};try{r.call(this,e,t).call()}catch(t){o.logger.error(\\\"internal error happened while processing \\\"+e+\\\":\\\"+t.message),this.hls.trigger(d.default.ERROR,{type:l.ErrorTypes.OTHER_ERROR,details:l.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:e,err:t})}}}]),e}();r.default=h},{26:26,28:28,45:45}],28:[function(e,t,r){\\\"use strict\\\";t.exports={MEDIA_ATTACHING:\\\"hlsMediaAttaching\\\",MEDIA_ATTACHED:\\\"hlsMediaAttached\\\",MEDIA_DETACHING:\\\"hlsMediaDetaching\\\",MEDIA_DETACHED:\\\"hlsMediaDetached\\\",BUFFER_RESET:\\\"hlsBufferReset\\\",BUFFER_CODECS:\\\"hlsBufferCodecs\\\",BUFFER_CREATED:\\\"hlsBufferCreated\\\",BUFFER_APPENDING:\\\"hlsBufferAppending\\\",BUFFER_APPENDED:\\\"hlsBufferAppended\\\",BUFFER_EOS:\\\"hlsBufferEos\\\",BUFFER_FLUSHING:\\\"hlsBufferFlushing\\\",BUFFER_FLUSHED:\\\"hlsBufferFlushed\\\",MANIFEST_LOADING:\\\"hlsManifestLoading\\\",MANIFEST_LOADED:\\\"hlsManifestLoaded\\\",MANIFEST_PARSED:\\\"hlsManifestParsed\\\",LEVEL_LOADING:\\\"hlsLevelLoading\\\",LEVEL_LOADED:\\\"hlsLevelLoaded\\\",LEVEL_UPDATED:\\\"hlsLevelUpdated\\\",LEVEL_PTS_UPDATED:\\\"hlsLevelPtsUpdated\\\",LEVEL_SWITCH:\\\"hlsLevelSwitch\\\",AUDIO_TRACKS_UPDATED:\\\"hlsAudioTracksUpdated\\\",AUDIO_TRACK_SWITCH:\\\"hlsAudioTrackSwitch\\\",AUDIO_TRACK_LOADING:\\\"hlsAudioTrackLoading\\\",AUDIO_TRACK_LOADED:\\\"hlsAudioTrackLoaded\\\",FRAG_LOADING:\\\"hlsFragLoading\\\",FRAG_LOAD_PROGRESS:\\\"hlsFragLoadProgress\\\",FRAG_LOAD_EMERGENCY_ABORTED:\\\"hlsFragLoadEmergencyAborted\\\",FRAG_LOADED:\\\"hlsFragLoaded\\\",FRAG_DECRYPTED:\\\"hlsFragDecrypted\\\",FRAG_PARSING_INIT_SEGMENT:\\\"hlsFragParsingInitSegment\\\",FRAG_PARSING_USERDATA:\\\"hlsFragParsingUserdata\\\",FRAG_PARSING_METADATA:\\\"hlsFragParsingMetadata\\\",FRAG_PARSING_DATA:\\\"hlsFragParsingData\\\",FRAG_PARSED:\\\"hlsFragParsed\\\",FRAG_BUFFERED:\\\"hlsFragBuffered\\\",FRAG_CHANGED:\\\"hlsFragChanged\\\",FPS_DROP:\\\"hlsFpsDrop\\\",FPS_DROP_LEVEL_CAPPING:\\\"hlsFpsDropLevelCapping\\\",ERROR:\\\"hlsError\\\",DESTROYING:\\\"hlsDestroying\\\",KEY_LOADING:\\\"hlsKeyLoading\\\",KEY_LOADED:\\\"hlsKeyLoaded\\\",STREAM_STATE_TRANSITION:\\\"hlsStreamStateTransition\\\"}},{}],29:[function(e,t,r){\\\"use strict\\\";function i(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),n=function(){function e(){i(this,e)}return a(e,null,[{key:\\\"getSilentFrame\\\",value:function(e){return 1===e?new Uint8Array([0,200,0,128,35,128]):2===e?new Uint8Array([33,0,73,144,2,25,0,35,128]):3===e?new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]):4===e?new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]):5===e?new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]):6===e?new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]):null}}]),e}();r.default=n},{}],30:[function(e,t,r){\\\"use strict\\\";function i(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),n=function(){function e(){i(this,e)}return a(e,null,[{key:\\\"isBuffered\\\",value:function(e,t){if(e)for(var r=e.buffered,i=0;i<r.length;i++)if(t>=r.start(i)&&t<=r.end(i))return!0;return!1}},{key:\\\"bufferInfo\\\",value:function(e,t,r){if(e){var i,a=e.buffered,n=[];for(i=0;i<a.length;i++)n.push({start:a.start(i),end:a.end(i)});return this.bufferedInfo(n,t,r)}return{len:0,start:0,end:0,nextStart:void 0}}},{key:\\\"bufferedInfo\\\",value:function(e,t,r){var i,a,n,s,o,l=[];for(e.sort(function(e,t){var r=e.start-t.start;return r?r:t.end-e.end}),o=0;o<e.length;o++){var u=l.length;if(u){var d=l[u-1].end;e[o].start-d<r?e[o].end>d&&(l[u-1].end=e[o].end):l.push(e[o])}else l.push(e[o])}for(o=0,i=0,a=n=t;o<l.length;o++){var h=l[o].start,f=l[o].end;if(t+r>=h&&t<f)a=h,n=f,i=n-t;else if(t+r<h){s=h;break}}return{len:i,start:a,end:n,nextStart:s}}}]),e}();r.default=n},{}],31:[function(e,t,r){\\\"use strict\\\";function i(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),n=e(45),s=function(){function e(){i(this,e)}return a(e,null,[{key:\\\"mergeDetails\\\",value:function(t,r){var i,a=Math.max(t.startSN,r.startSN)-r.startSN,s=Math.min(t.endSN,r.endSN)-r.startSN,o=r.startSN-t.startSN,l=t.fragments,u=r.fragments,d=0;if(s<a)return void(r.PTSKnown=!1);for(var h=a;h<=s;h++){var f=l[o+h],c=u[h];c&&f&&(d=f.cc-c.cc,isNaN(f.startPTS)||(c.start=c.startPTS=f.startPTS,c.endPTS=f.endPTS,c.duration=f.duration,i=c))}if(d)for(n.logger.log(\\\"discontinuity sliding from playlist, take drift into account\\\"),h=0;h<u.length;h++)u[h].cc+=d;if(i)e.updateFragPTSDTS(r,i.sn,i.startPTS,i.endPTS,i.startDTS,i.endDTS);else if(o>=0&&o<l.length){var v=l[o].start;for(h=0;h<u.length;h++)u[h].start+=v}r.PTSKnown=t.PTSKnown}},{key:\\\"updateFragPTSDTS\\\",value:function(t,r,i,a,n,s){var o,l,u,d;if(r<t.startSN||r>t.endSN)return 0;if(o=r-t.startSN,l=t.fragments,u=l[o],!isNaN(u.startPTS)){var h=Math.abs(u.startPTS-i);isNaN(u.deltaPTS)?u.deltaPTS=h:u.deltaPTS=Math.max(h,u.deltaPTS),i=Math.min(i,u.startPTS),a=Math.max(a,u.endPTS),n=Math.min(n,u.startDTS),s=Math.max(s,u.endDTS)}var f=i-u.start;for(u.start=u.startPTS=i,u.endPTS=a,u.startDTS=n,u.endDTS=s,u.duration=a-i,d=o;d>0;d--)e.updatePTS(l,d,d-1);for(d=o;d<l.length-1;d++)e.updatePTS(l,d,d+1);return t.PTSKnown=!0,f}},{key:\\\"updatePTS\\\",value:function(e,t,r){var i=e[t],a=e[r],s=a.startPTS;isNaN(s)?r>t?a.start=i.start+i.duration:a.start=i.start-a.duration:r>t?(i.duration=s-i.start,i.duration<0&&n.logger.warn(\\\"negative duration computed for frag \\\"+i.sn+\\\",level \\\"+i.level+\\\", there should be some duration drift between playlist and fragment!\\\")):(a.duration=i.start-s,a.duration<0&&n.logger.warn(\\\"negative duration computed for frag \\\"+a.sn+\\\",level \\\"+a.level+\\\", there should be some duration drift between playlist and fragment!\\\"))}}]),e}();r.default=s},{45:45}],32:[function(e,t,r){\\\"use strict\\\";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),s=e(28),o=i(s),l=e(26),u=e(36),d=i(u),h=e(34),f=i(h),c=e(4),v=i(c),g=e(7),p=i(g),y=e(8),m=i(y),E=e(5),b=i(E),R=e(12),_=i(R),k=e(11),T=i(k),A=e(13),S=i(A),L=e(10),D=i(L),w=e(6),O=i(w),P=e(45),I=e(48),C=i(I),M=e(1),x=i(M),N=e(35),F=i(N),U=e(43),G=i(U),B=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this,e);var r=e.DefaultConfig;if((t.liveSyncDurationCount||t.liveMaxLatencyDurationCount)&&(t.liveSyncDuration||t.liveMaxLatencyDuration))throw new Error(\\\"Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration\\\");for(var i in r)i in t||(t[i]=r[i]);if(void 0!==t.liveMaxLatencyDurationCount&&t.liveMaxLatencyDurationCount<=t.liveSyncDurationCount)throw new Error('Illegal hls.js config: \\\"liveMaxLatencyDurationCount\\\" must be gt \\\"liveSyncDurationCount\\\"');if(void 0!==t.liveMaxLatencyDuration&&(t.liveMaxLatencyDuration<=t.liveSyncDuration||void 0===t.liveSyncDuration))throw new Error('Illegal hls.js config: \\\"liveMaxLatencyDuration\\\" must be gt \\\"liveSyncDuration\\\"');(0,P.enableLogs)(t.debug),this.config=t;var n=this.observer=new x.default;n.trigger=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];n.emit.apply(n,[e,e].concat(r))},n.off=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];n.removeListener.apply(n,[e].concat(r))},this.on=n.on.bind(n),this.off=n.off.bind(n),this.trigger=n.trigger.bind(n),this.playlistLoader=new d.default(this),this.fragmentLoader=new f.default(this),this.levelController=new T.default(this),this.abrController=new t.abrController(this),this.bufferController=new t.bufferController(this),this.capLevelController=new t.capLevelController(this),this.fpsController=new t.fpsController(this),this.streamController=new t.streamController(this),this.audioStreamController=new t.audioStreamController(this),this.timelineController=new t.timelineController(this),this.audioTrackController=new O.default(this),this.keyLoader=new F.default(this)}return n(e,null,[{key:\\\"isSupported\\\",value:function(){return window.MediaSource=window.MediaSource||window.WebKitMediaSource,window.MediaSource&&\\\"function\\\"==typeof window.MediaSource.isTypeSupported&&window.MediaSource.isTypeSupported('video/mp4; codecs=\\\"avc1.42E01E,mp4a.40.2\\\"')}},{key:\\\"version\\\",get:function(){return\\\"0.6.10\\\"}},{key:\\\"Events\\\",get:function(){return o.default}},{key:\\\"ErrorTypes\\\",get:function(){return l.ErrorTypes}},{key:\\\"ErrorDetails\\\",get:function(){return l.ErrorDetails}},{key:\\\"DefaultConfig\\\",get:function(){return e.defaultConfig||(e.defaultConfig={autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,maxSeekHole:2,seekHoleNudgeDuration:.01,stalledInBufferedNudgeThreshold:10,maxFragLookUpTolerance:.2,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,fragLoadingLoopThreshold:3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:C.default,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,fetchSetup:void 0,abrController:v.default,bufferController:p.default,capLevelController:m.default,fpsController:D.default,streamController:_.default,audioStreamController:b.default,timelineController:S.default,cueHandler:G.default,enableCEA708Captions:!0,enableMP2TPassThrough:!1,stretchShortVideoTrack:!1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0}),e.defaultConfig},set:function(t){e.defaultConfig=t}}]),n(e,[{key:\\\"destroy\\\",value:function(){P.logger.log(\\\"destroy\\\"),this.trigger(o.default.DESTROYING),this.detachMedia(),this.playlistLoader.destroy(),this.fragmentLoader.destroy(),this.levelController.destroy(),this.abrController.destroy(),this.bufferController.destroy(),this.capLevelController.destroy(),this.fpsController.destroy(),this.streamController.destroy(),this.audioStreamController.destroy(),this.timelineController.destroy(),this.audioTrackController.destroy(),this.keyLoader.destroy(),this.url=null,this.observer.removeAllListeners()}},{key:\\\"attachMedia\\\",value:function(e){P.logger.log(\\\"attachMedia\\\"),this.media=e,this.trigger(o.default.MEDIA_ATTACHING,{media:e})}},{key:\\\"detachMedia\\\",value:function(){P.logger.log(\\\"detachMedia\\\"),this.trigger(o.default.MEDIA_DETACHING),this.media=null}},{key:\\\"loadSource\\\",value:function(e){P.logger.log(\\\"loadSource:\\\"+e),this.url=e,this.trigger(o.default.MANIFEST_LOADING,{url:e})}},{key:\\\"startLoad\\\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;P.logger.log(\\\"startLoad\\\"),this.levelController.startLoad(),this.streamController.startLoad(e),this.audioStreamController.startLoad(e)}},{key:\\\"stopLoad\\\",value:function(){P.logger.log(\\\"stopLoad\\\"),this.levelController.stopLoad(),this.streamController.stopLoad(),this.audioStreamController.stopLoad()}},{key:\\\"swapAudioCodec\\\",value:function(){P.logger.log(\\\"swapAudioCodec\\\"),this.streamController.swapAudioCodec()}},{key:\\\"recoverMediaError\\\",value:function(){P.logger.log(\\\"recoverMediaError\\\");var e=this.media;this.detachMedia(),this.attachMedia(e)}},{key:\\\"levels\\\",get:function(){return this.levelController.levels}},{key:\\\"currentLevel\\\",get:function(){return this.streamController.currentLevel},set:function(e){P.logger.log(\\\"set currentLevel:\\\"+e),this.loadLevel=e,this.streamController.immediateLevelSwitch()}},{key:\\\"nextLevel\\\",get:function(){return this.streamController.nextLevel},set:function(e){P.logger.log(\\\"set nextLevel:\\\"+e),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}},{key:\\\"loadLevel\\\",get:function(){return this.levelController.level},set:function(e){P.logger.log(\\\"set loadLevel:\\\"+e),this.levelController.manualLevel=e}},{key:\\\"nextLoadLevel\\\",get:function(){return this.levelController.nextLoadLevel},set:function(e){this.levelController.nextLoadLevel=e}},{key:\\\"firstLevel\\\",get:function(){return this.levelController.firstLevel},set:function(e){P.logger.log(\\\"set firstLevel:\\\"+e),this.levelController.firstLevel=e}},{key:\\\"startLevel\\\",get:function(){return this.levelController.startLevel},set:function(e){P.logger.log(\\\"set startLevel:\\\"+e),this.levelController.startLevel=e}},{key:\\\"autoLevelCapping\\\",get:function(){return this.abrController.autoLevelCapping},set:function(e){P.logger.log(\\\"set autoLevelCapping:\\\"+e),this.abrController.autoLevelCapping=e}},{key:\\\"autoLevelEnabled\\\",get:function(){return this.levelController.manualLevel===-1}},{key:\\\"manualLevel\\\",get:function(){return this.levelController.manualLevel}},{key:\\\"audioTracks\\\",get:function(){return this.audioTrackController.audioTracks}},{key:\\\"audioTrack\\\",get:function(){return this.audioTrackController.audioTrack},set:function(e){this.audioTrackController.audioTrack=e}},{key:\\\"liveSyncPosition\\\",get:function(){return this.streamController.liveSyncPosition}}]),e}();r.default=B},{1:1,10:10,11:11,12:12,13:13,26:26,28:28,34:34,35:35,36:36,4:4,43:43,45:45,48:48,5:5,6:6,7:7,8:8}],33:[function(e,t,r){\\\"use strict\\\";t.exports=e(32).default},{32:32}],34:[function(e,t,r){\\\"use strict\\\";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}function n(e,t){if(!e)throw new ReferenceError(\\\"this hasn't been initialised - super() hasn't been called\\\");return!t||\\\"object\\\"!=typeof t&&\\\"function\\\"!=typeof t?e:t}function s(e,t){if(\\\"function\\\"!=typeof t&&null!==t)throw new TypeError(\\\"Super expression must either be null or a function, not \\\"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}\\nObject.defineProperty(r,\\\"__esModule\\\",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),l=e(28),u=i(l),d=e(27),h=i(d),f=e(26),c=e(45),v=function(e){function t(e){a(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,u.default.FRAG_LOADING));return r.loaders={},r}return s(t,e),o(t,[{key:\\\"destroy\\\",value:function(){var e=this.loaders;for(var t in e){var r=e[t];r&&r.destroy()}this.loaders={},h.default.prototype.destroy.call(this)}},{key:\\\"onFragLoading\\\",value:function(e){var t=e.frag,r=t.type,i=this.loaders[r],a=this.hls.config;t.loaded=0,i&&(c.logger.warn(\\\"abort previous fragment loader for type:\\\"+r),i.abort()),i=this.loaders[r]=t.loader=\\\"undefined\\\"!=typeof a.fLoader?new a.fLoader(a):new a.loader(a);var n=void 0,s=void 0,o=void 0;n={url:t.url,frag:t,responseType:\\\"arraybuffer\\\",progressData:!1};var l=t.byteRangeStartOffset,u=t.byteRangeEndOffset;isNaN(l)||isNaN(u)||(n.rangeStart=l,n.rangeEnd=u),s={timeout:a.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:a.fragLoadingMaxRetryTimeout},o={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},i.load(n,s,o)}},{key:\\\"loadsuccess\\\",value:function(e,t,r){var i=e.data,a=r.frag;a.loader=void 0,this.loaders[a.type]=void 0,this.hls.trigger(u.default.FRAG_LOADED,{payload:i,frag:a,stats:t})}},{key:\\\"loaderror\\\",value:function(e,t){var r=t.loader;r&&r.abort(),this.loaders[t.type]=void 0,this.hls.trigger(u.default.ERROR,{type:f.ErrorTypes.NETWORK_ERROR,details:f.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:t.frag,response:e})}},{key:\\\"loadtimeout\\\",value:function(e,t){var r=t.loader;r&&r.abort(),this.loaders[t.type]=void 0,this.hls.trigger(u.default.ERROR,{type:f.ErrorTypes.NETWORK_ERROR,details:f.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t.frag})}},{key:\\\"loadprogress\\\",value:function(e,t,r){var i=t.frag;i.loaded=e.loaded,this.hls.trigger(u.default.FRAG_LOAD_PROGRESS,{frag:i,stats:e})}}]),t}(h.default);r.default=v},{26:26,27:27,28:28,45:45}],35:[function(e,t,r){\\\"use strict\\\";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}function n(e,t){if(!e)throw new ReferenceError(\\\"this hasn't been initialised - super() hasn't been called\\\");return!t||\\\"object\\\"!=typeof t&&\\\"function\\\"!=typeof t?e:t}function s(e,t){if(\\\"function\\\"!=typeof t&&null!==t)throw new TypeError(\\\"Super expression must either be null or a function, not \\\"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),l=e(28),u=i(l),d=e(27),h=i(d),f=e(26),c=e(45),v=function(e){function t(e){a(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,u.default.KEY_LOADING));return r.loaders={},r.decryptkey=null,r.decrypturl=null,r}return s(t,e),o(t,[{key:\\\"destroy\\\",value:function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy()}this.loaders={},h.default.prototype.destroy.call(this)}},{key:\\\"onKeyLoading\\\",value:function(e){var t=e.frag,r=t.type,i=this.loaders[r],a=t.decryptdata,n=a.uri;if(n!==this.decrypturl||null===this.decryptkey){var s=this.hls.config;i&&(c.logger.warn(\\\"abort previous key loader for type:\\\"+r),i.abort()),t.loader=this.loaders[r]=new s.loader(s),this.decrypturl=n,this.decryptkey=null;var o=void 0,l=void 0,d=void 0;o={url:n,frag:t,responseType:\\\"arraybuffer\\\"},l={timeout:s.fragLoadingTimeOut,maxRetry:s.fragLoadingMaxRetry,retryDelay:s.fragLoadingRetryDelay,maxRetryDelay:s.fragLoadingMaxRetryTimeout},d={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},t.loader.load(o,l,d)}else this.decryptkey&&(a.key=this.decryptkey,this.hls.trigger(u.default.KEY_LOADED,{frag:t}))}},{key:\\\"loadsuccess\\\",value:function(e,t,r){var i=r.frag;this.decryptkey=i.decryptdata.key=new Uint8Array(e.data),i.loader=void 0,this.loaders[i.type]=void 0,this.hls.trigger(u.default.KEY_LOADED,{frag:i})}},{key:\\\"loaderror\\\",value:function(e,t){var r=t.frag,i=r.loader;i&&i.abort(),this.loaders[t.type]=void 0,this.hls.trigger(u.default.ERROR,{type:f.ErrorTypes.NETWORK_ERROR,details:f.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:r,response:e})}},{key:\\\"loadtimeout\\\",value:function(e,t){var r=t.frag,i=r.loader;i&&i.abort(),this.loaders[t.type]=void 0,this.hls.trigger(u.default.ERROR,{type:f.ErrorTypes.NETWORK_ERROR,details:f.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:r})}}]),t}(h.default);r.default=v},{26:26,27:27,28:28,45:45}],36:[function(e,t,r){\\\"use strict\\\";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}function n(e,t){if(!e)throw new ReferenceError(\\\"this hasn't been initialised - super() hasn't been called\\\");return!t||\\\"object\\\"!=typeof t&&\\\"function\\\"!=typeof t?e:t}function s(e,t){if(\\\"function\\\"!=typeof t&&null!==t)throw new TypeError(\\\"Super expression must either be null or a function, not \\\"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),l=e(2),u=i(l),d=e(28),h=i(d),f=e(27),c=i(f),v=e(26),g=e(40),p=i(g),y=e(45),m=function(e){function t(e){a(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,h.default.MANIFEST_LOADING,h.default.LEVEL_LOADING,h.default.AUDIO_TRACK_LOADING));return r.loaders={},r}return s(t,e),o(t,[{key:\\\"destroy\\\",value:function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy()}this.loaders={},c.default.prototype.destroy.call(this)}},{key:\\\"onManifestLoading\\\",value:function(e){this.load(e.url,{type:\\\"manifest\\\"})}},{key:\\\"onLevelLoading\\\",value:function(e){this.load(e.url,{type:\\\"level\\\",level:e.level,id:e.id})}},{key:\\\"onAudioTrackLoading\\\",value:function(e){this.load(e.url,{type:\\\"audioTrack\\\",id:e.id})}},{key:\\\"load\\\",value:function(e,t){var r=this.loaders[t.type];if(r){var i=r.context;if(i&&i.url===e)return void y.logger.trace(\\\"playlist request ongoing\\\");y.logger.warn(\\\"abort previous loader for type:\\\"+t.type),r.abort()}var a=this.hls.config,n=void 0,s=void 0,o=void 0,l=void 0;\\\"manifest\\\"===t.type?(n=a.manifestLoadingMaxRetry,s=a.manifestLoadingTimeOut,o=a.manifestLoadingRetryDelay,l=a.manifestLoadingMaxRetryTimeOut):(n=a.levelLoadingMaxRetry,s=a.levelLoadingTimeOut,o=a.levelLoadingRetryDelay,l=a.levelLoadingMaxRetryTimeOut,y.logger.log(\\\"loading playlist for level \\\"+t.level)),r=this.loaders[t.type]=t.loader=\\\"undefined\\\"!=typeof a.pLoader?new a.pLoader(a):new a.loader(a),t.url=e,t.responseType=\\\"\\\";var u=void 0,d=void 0;u={timeout:s,maxRetry:n,retryDelay:o,maxRetryDelay:l},d={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},r.load(t,u,d)}},{key:\\\"resolve\\\",value:function(e,t){return u.default.buildAbsoluteURL(t,e)}},{key:\\\"parseMasterPlaylist\\\",value:function(e,t){for(var r=[],i=void 0,a=/#EXT-X-STREAM-INF:([^\\\\n\\\\r]*)[\\\\r\\\\n]+([^\\\\r\\\\n]+)/g;null!=(i=a.exec(e));){var n={},s=n.attrs=new p.default(i[1]);n.url=this.resolve(i[2],t);var o=s.decimalResolution(\\\"RESOLUTION\\\");o&&(n.width=o.width,n.height=o.height),n.bitrate=s.decimalInteger(\\\"AVERAGE-BANDWIDTH\\\")||s.decimalInteger(\\\"BANDWIDTH\\\"),n.name=s.NAME;var l=s.CODECS;if(l){l=l.split(/[ ,]+/);for(var u=0;u<l.length;u++){var d=l[u];d.indexOf(\\\"avc1\\\")!==-1?n.videoCodec=this.avc1toavcoti(d):n.audioCodec=d}}r.push(n)}return r}},{key:\\\"parseMasterPlaylistMedia\\\",value:function(e,t,r){for(var i=void 0,a=[],n=/#EXT-X-MEDIA:(.*)/g;null!=(i=n.exec(e));){var s={},o=new p.default(i[1]);o.TYPE===r&&(s.groupId=o[\\\"GROUP-ID\\\"],s.name=o.NAME,s.type=r,s.default=\\\"YES\\\"===o.DEFAULT,s.autoselect=\\\"YES\\\"===o.AUTOSELECT,s.forced=\\\"YES\\\"===o.FORCED,o.URI&&(s.url=this.resolve(o.URI,t)),s.lang=o.LANGUAGE,s.name||(s.name=s.lang),a.push(s))}return a}},{key:\\\"createInitializationVector\\\",value:function(e){for(var t=new Uint8Array(16),r=12;r<16;r++)t[r]=e>>8*(15-r)&255;return t}},{key:\\\"fragmentDecryptdataFromLevelkey\\\",value:function(e,t){var r=e;return e&&e.method&&e.uri&&!e.iv&&(r=this.cloneObj(e),r.iv=this.createInitializationVector(t)),r}},{key:\\\"avc1toavcoti\\\",value:function(e){var t,r=e.split(\\\".\\\");return r.length>2?(t=r.shift()+\\\".\\\",t+=parseInt(r.shift()).toString(16),t+=(\\\"000\\\"+parseInt(r.shift()).toString(16)).substr(-4)):t=e,t}},{key:\\\"cloneObj\\\",value:function(e){return JSON.parse(JSON.stringify(e))}},{key:\\\"parseLevelPlaylist\\\",value:function(e,t,r,i){var a,n,s,o=0,l=0,u={type:null,version:null,url:t,fragments:[],live:!0,startSN:0},d={method:null,key:null,iv:null,uri:null},h=0,f=null,c=null,v=null,g=null,m=null,E=null,b=[];for(s=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\\\\d+))|(?:#EXT-X-(TARGETDURATION): *(\\\\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT(INF): *(\\\\d+(?:\\\\.\\\\d+)?)(?:,(.*))?)|(?:(?!#)()(\\\\S.+))|(?:#EXT-X-(BYTERANGE): *(\\\\d+(?:@\\\\d+(?:\\\\.\\\\d+)?)?)|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\\\\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(PROGRAM-DATE-TIME):(.+))|(?:#EXT-X-(VERSION):(\\\\d+))|(?:(#)(.*):(.*))|(?:(#)(.*)))(?:.*)\\\\r?\\\\n?/g;null!==(n=s.exec(e));)switch(n.shift(),n=n.filter(function(e){return void 0!==e}),n[0]){case\\\"PLAYLIST-TYPE\\\":u.type=n[1].toUpperCase();break;case\\\"MEDIA-SEQUENCE\\\":o=u.startSN=parseInt(n[1]);break;case\\\"TARGETDURATION\\\":u.targetduration=parseFloat(n[1]);break;case\\\"VERSION\\\":u.version=parseInt(n[1]);break;case\\\"EXTM3U\\\":break;case\\\"ENDLIST\\\":u.live=!1;break;case\\\"DIS\\\":h++,b.push(n);break;case\\\"DISCONTINUITY-SEQ\\\":h=parseInt(n[1]);break;case\\\"BYTERANGE\\\":var R=n[1].split(\\\"@\\\");E=1===R.length?m:parseInt(R[1]),m=parseInt(R[0])+E;break;case\\\"INF\\\":v=parseFloat(n[1]),g=n[2]?n[2]:null,b.push(n);break;case\\\"\\\":if(!isNaN(v)){var _=o++;a=this.fragmentDecryptdataFromLevelkey(d,_);var k=n[1]?this.resolve(n[1],t):null;c={url:k,type:i,duration:v,title:g,start:l,sn:_,level:r,cc:h,decryptdata:a,programDateTime:f,tagList:b},null!==E&&(c.byteRangeStartOffset=E,c.byteRangeEndOffset=m),u.fragments.push(c),l+=v,v=null,g=null,E=null,f=null,b=[]}break;case\\\"KEY\\\":var T=n[1],A=new p.default(T),S=A.enumeratedString(\\\"METHOD\\\"),L=A.URI,D=A.hexadecimalInteger(\\\"IV\\\");S&&(d={method:null,key:null,iv:null,uri:null},L&&\\\"AES-128\\\"===S&&(d.method=S,d.uri=this.resolve(L,t),d.key=null,d.iv=D));break;case\\\"START\\\":var w=n[1],O=new p.default(w),P=O.decimalFloatingPoint(\\\"TIME-OFFSET\\\");isNaN(P)||(u.startTimeOffset=P);break;case\\\"PROGRAM-DATE-TIME\\\":f=new Date(Date.parse(n[1])),b.push(n);break;case\\\"#\\\":n.shift(),b.push(n);break;default:y.logger.warn(\\\"line parsed but not handled: \\\"+n)}return c&&!c.url&&(u.fragments.pop(),l-=c.duration),u.totalduration=l,u.averagetargetduration=l/u.fragments.length,u.endSN=o-1,u}},{key:\\\"loadsuccess\\\",value:function(e,t,r){var i=e.data,a=e.url,n=r.type,s=r.id,o=r.level,l=this.hls;if(this.loaders[n]=void 0,void 0!==a&&0!==a.indexOf(\\\"data:\\\")||(a=r.url),t.tload=performance.now(),0===i.indexOf(\\\"#EXTM3U\\\"))if(i.indexOf(\\\"#EXTINF:\\\")>0){var u=\\\"audioTrack\\\"!==n,d=this.parseLevelPlaylist(i,a,(u?o:s)||0,u?\\\"main\\\":\\\"audio\\\");\\\"manifest\\\"===n&&l.trigger(h.default.MANIFEST_LOADED,{levels:[{url:a,details:d}],audioTracks:[],url:a,stats:t}),t.tparsed=performance.now(),d.targetduration?u?l.trigger(h.default.LEVEL_LOADED,{details:d,level:o||0,id:s||0,stats:t}):l.trigger(h.default.AUDIO_TRACK_LOADED,{details:d,id:s,stats:t}):l.trigger(h.default.ERROR,{type:v.ErrorTypes.NETWORK_ERROR,details:v.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:a,reason:\\\"invalid targetduration\\\"})}else{var f=this.parseMasterPlaylist(i,a);if(f.length){var c=this.parseMasterPlaylistMedia(i,a,\\\"AUDIO\\\");if(c.length){var g=!1;c.forEach(function(e){e.url||(g=!0)}),g===!1&&f[0].audioCodec&&!f[0].attrs.AUDIO&&(y.logger.log(\\\"audio codec signaled in quality level, but no embedded audio track signaled, create one\\\"),c.unshift({type:\\\"main\\\",name:\\\"main\\\"}))}l.trigger(h.default.MANIFEST_LOADED,{levels:f,audioTracks:c,url:a,stats:t})}else l.trigger(h.default.ERROR,{type:v.ErrorTypes.NETWORK_ERROR,details:v.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:a,reason:\\\"no level found in manifest\\\"})}else l.trigger(h.default.ERROR,{type:v.ErrorTypes.NETWORK_ERROR,details:v.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:a,reason:\\\"no EXTM3U delimiter\\\"})}},{key:\\\"loaderror\\\",value:function(e,t){var r,i,a=t.loader;switch(t.type){case\\\"manifest\\\":r=v.ErrorDetails.MANIFEST_LOAD_ERROR,i=!0;break;case\\\"level\\\":r=v.ErrorDetails.LEVEL_LOAD_ERROR,i=!1;break;case\\\"audioTrack\\\":r=v.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,i=!1}a&&(a.abort(),this.loaders[t.type]=void 0),this.hls.trigger(h.default.ERROR,{type:v.ErrorTypes.NETWORK_ERROR,details:r,fatal:i,url:a.url,loader:a,response:e,context:t})}},{key:\\\"loadtimeout\\\",value:function(e,t){var r,i,a=t.loader;switch(t.type){case\\\"manifest\\\":r=v.ErrorDetails.MANIFEST_LOAD_TIMEOUT,i=!0;break;case\\\"level\\\":r=v.ErrorDetails.LEVEL_LOAD_TIMEOUT,i=!1;break;case\\\"audioTrack\\\":r=v.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT,i=!1}a&&(a.abort(),this.loaders[t.type]=void 0),this.hls.trigger(h.default.ERROR,{type:v.ErrorTypes.NETWORK_ERROR,details:r,fatal:i,url:a.url,loader:a,context:t})}}]),t}(c.default);r.default=m},{2:2,26:26,27:27,28:28,40:40,45:45}],37:[function(e,t,r){\\\"use strict\\\";function i(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),n=function(){function e(){i(this,e)}return a(e,null,[{key:\\\"init\\\",value:function(){e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};var t;for(t in e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var r=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),i=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);e.HDLR_TYPES={video:r,audio:i};var a=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),n=new Uint8Array([0,0,0,0,0,0,0,0]);e.STTS=e.STSC=e.STCO=n,e.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),e.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),e.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),e.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var s=new Uint8Array([105,115,111,109]),o=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);e.FTYP=e.box(e.types.ftyp,s,l,s,o),e.DINF=e.box(e.types.dinf,e.box(e.types.dref,a))}},{key:\\\"box\\\",value:function(e){for(var t,r=Array.prototype.slice.call(arguments,1),i=8,a=r.length,n=a;a--;)i+=r[a].byteLength;for(t=new Uint8Array(i),t[0]=i>>24&255,t[1]=i>>16&255,t[2]=i>>8&255,t[3]=255&i,t.set(e,4),a=0,i=8;a<n;a++)t.set(r[a],i),i+=r[a].byteLength;return t}},{key:\\\"hdlr\\\",value:function(t){return e.box(e.types.hdlr,e.HDLR_TYPES[t])}},{key:\\\"mdat\\\",value:function(t){return e.box(e.types.mdat,t)}},{key:\\\"mdhd\\\",value:function(t,r){return r*=t,e.box(e.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,r>>24,r>>16&255,r>>8&255,255&r,85,196,0,0]))}},{key:\\\"mdia\\\",value:function(t){return e.box(e.types.mdia,e.mdhd(t.timescale,t.duration),e.hdlr(t.type),e.minf(t))}},{key:\\\"mfhd\\\",value:function(t){return e.box(e.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))}},{key:\\\"minf\\\",value:function(t){return\\\"audio\\\"===t.type?e.box(e.types.minf,e.box(e.types.smhd,e.SMHD),e.DINF,e.stbl(t)):e.box(e.types.minf,e.box(e.types.vmhd,e.VMHD),e.DINF,e.stbl(t))}},{key:\\\"moof\\\",value:function(t,r,i){return e.box(e.types.moof,e.mfhd(t),e.traf(i,r))}},{key:\\\"moov\\\",value:function(t){for(var r=t.length,i=[];r--;)i[r]=e.trak(t[r]);return e.box.apply(null,[e.types.moov,e.mvhd(t[0].timescale,t[0].duration)].concat(i).concat(e.mvex(t)))}},{key:\\\"mvex\\\",value:function(t){for(var r=t.length,i=[];r--;)i[r]=e.trex(t[r]);return e.box.apply(null,[e.types.mvex].concat(i))}},{key:\\\"mvhd\\\",value:function(t,r){r*=t;var i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,t>>24&255,t>>16&255,t>>8&255,255&t,r>>24&255,r>>16&255,r>>8&255,255&r,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e.box(e.types.mvhd,i)}},{key:\\\"sdtp\\\",value:function(t){var r,i,a=t.samples||[],n=new Uint8Array(4+a.length);for(i=0;i<a.length;i++)r=a[i].flags,n[i+4]=r.dependsOn<<4|r.isDependedOn<<2|r.hasRedundancy;return e.box(e.types.sdtp,n)}},{key:\\\"stbl\\\",value:function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.STTS),e.box(e.types.stsc,e.STSC),e.box(e.types.stsz,e.STSZ),e.box(e.types.stco,e.STCO))}},{key:\\\"avc1\\\",value:function(t){var r,i,a,n=[],s=[];for(r=0;r<t.sps.length;r++)i=t.sps[r],a=i.byteLength,n.push(a>>>8&255),n.push(255&a),n=n.concat(Array.prototype.slice.call(i));for(r=0;r<t.pps.length;r++)i=t.pps[r],a=i.byteLength,s.push(a>>>8&255),s.push(255&a),s=s.concat(Array.prototype.slice.call(i));var o=e.box(e.types.avcC,new Uint8Array([1,n[3],n[4],n[5],255,224|t.sps.length].concat(n).concat([t.pps.length]).concat(s))),l=t.width,u=t.height;return e.box(e.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,255&l,u>>8&255,255&u,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),o,e.box(e.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))}},{key:\\\"esds\\\",value:function(e){var t=e.config.length;return new Uint8Array([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([t]).concat(e.config).concat([6,1,2]))}},{key:\\\"mp4a\\\",value:function(t){var r=t.audiosamplerate;return e.box(e.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,r>>8&255,255&r,0,0]),e.box(e.types.esds,e.esds(t)))}},{key:\\\"stsd\\\",value:function(t){return\\\"audio\\\"===t.type?e.box(e.types.stsd,e.STSD,e.mp4a(t)):e.box(e.types.stsd,e.STSD,e.avc1(t))}},{key:\\\"tkhd\\\",value:function(t){var r=t.id,i=t.duration*t.timescale,a=t.width,n=t.height;return e.box(e.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,r>>24&255,r>>16&255,r>>8&255,255&r,0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,a>>8&255,255&a,0,0,n>>8&255,255&n,0,0]))}},{key:\\\"traf\\\",value:function(t,r){var i=e.sdtp(t),a=t.id;return e.box(e.types.traf,e.box(e.types.tfhd,new Uint8Array([0,0,0,0,a>>24,a>>16&255,a>>8&255,255&a])),e.box(e.types.tfdt,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r])),e.trun(t,i.length+16+16+8+16+8+8),i)}},{key:\\\"trak\\\",value:function(t){return t.duration=t.duration||4294967295,e.box(e.types.trak,e.tkhd(t),e.mdia(t))}},{key:\\\"trex\\\",value:function(t){var r=t.id;return e.box(e.types.trex,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}},{key:\\\"trun\\\",value:function(t,r){var i,a,n,s,o,l,u=t.samples||[],d=u.length,h=12+16*d,f=new Uint8Array(h);for(r+=8+h,f.set([0,0,15,1,d>>>24&255,d>>>16&255,d>>>8&255,255&d,r>>>24&255,r>>>16&255,r>>>8&255,255&r],0),i=0;i<d;i++)a=u[i],n=a.duration,s=a.size,o=a.flags,l=a.cts,f.set([n>>>24&255,n>>>16&255,n>>>8&255,255&n,s>>>24&255,s>>>16&255,s>>>8&255,255&s,o.isLeading<<2|o.dependsOn,o.isDependedOn<<6|o.hasRedundancy<<4|o.paddingValue<<1|o.isNonSync,61440&o.degradPrio,15&o.degradPrio,l>>>24&255,l>>>16&255,l>>>8&255,255&l],12+16*i);return e.box(e.types.trun,f)}},{key:\\\"initSegment\\\",value:function(t){e.types||e.init();var r,i=e.moov(t);return r=new Uint8Array(e.FTYP.byteLength+i.byteLength),r.set(e.FTYP),r.set(i,e.FTYP.byteLength),r}}]),e}();r.default=n},{}],38:[function(e,t,r){\\\"use strict\\\";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),s=e(29),o=i(s),l=e(28),u=i(l),d=e(45),h=e(37),f=i(h),c=e(26);e(46);var v=function(){function e(t,r,i){a(this,e),this.observer=t,this.id=r,this.config=i,this.ISGenerated=!1,this.PES2MP4SCALEFACTOR=4,this.PES_TIMESCALE=9e4,this.MP4_TIMESCALE=this.PES_TIMESCALE/this.PES2MP4SCALEFACTOR}return n(e,[{key:\\\"destroy\\\",value:function(){}},{key:\\\"insertDiscontinuity\\\",value:function(){this._initPTS=this._initDTS=void 0}},{key:\\\"switchLevel\\\",value:function(){this.ISGenerated=!1}},{key:\\\"remux\\\",value:function(e,t,r,i,a,n,s,o,l){if(this.level=e,this.sn=t,this.ISGenerated||this.generateIS(r,i,s),this.ISGenerated)if(r.samples.length){var d=this.remuxAudio(r,s,o,l);if(i.samples.length){var h=void 0;d&&(h=d.endPTS-d.startPTS),this.remuxVideo(i,s,o,h)}}else{var f=void 0;i.samples.length&&(f=this.remuxVideo(i,s,o)),f&&r.codec&&this.remuxEmptyAudio(r,s,o,f)}a.samples.length&&this.remuxID3(a,s),n.samples.length&&this.remuxText(n,s),this.observer.trigger(u.default.FRAG_PARSED,{id:this.id,level:this.level,sn:this.sn})}},{key:\\\"generateIS\\\",value:function(e,t,r){var i,a,n=this.observer,s=e.samples,o=t.samples,l=this.PES_TIMESCALE,h={},v={id:this.id,level:this.level,sn:this.sn,tracks:h,unique:!1},g=void 0===this._initPTS;g&&(i=a=1/0),e.config&&s.length&&(e.timescale=e.audiosamplerate,e.timescale*e.duration>Math.pow(2,32)&&!function(){var t=function e(t,r){return r?e(r,t%r):t};e.timescale=e.audiosamplerate/t(e.audiosamplerate,1024)}(),d.logger.log(\\\"audio mp4 timescale :\\\"+e.timescale),h.audio={container:\\\"audio/mp4\\\",codec:e.codec,initSegment:f.default.initSegment([e]),metadata:{channelCount:e.channelCount}},g&&(i=a=s[0].pts-l*r)),t.sps&&t.pps&&o.length&&(t.timescale=this.MP4_TIMESCALE,h.video={container:\\\"video/mp4\\\",codec:t.codec,initSegment:f.default.initSegment([t]),metadata:{width:t.width,height:t.height}},g&&(i=Math.min(i,o[0].pts-l*r),a=Math.min(a,o[0].dts-l*r))),Object.keys(h).length?(n.trigger(u.default.FRAG_PARSING_INIT_SEGMENT,v),this.ISGenerated=!0,g&&(this._initPTS=i,this._initDTS=a)):n.trigger(u.default.ERROR,{type:c.ErrorTypes.MEDIA_ERROR,id:this.id,details:c.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:\\\"no audio/video samples found\\\"})}},{key:\\\"remuxVideo\\\",value:function(e,t,r,i){var a,n,s,o,l,h,c,v,g=8,p=this.PES_TIMESCALE,y=this.PES2MP4SCALEFACTOR,m=e.samples,E=[],b=m.reduce(function(e,t){return Math.max(Math.min(e,t.pts-t.dts),-18e3)},0);if(b<0){d.logger.warn(\\\"PTS < DTS detected in video samples, shifting DTS by \\\"+Math.round(b/90)+\\\" ms to overcome this issue\\\");for(var R=0;R<m.length;R++)m[R].dts+=b}var _=void 0;_=r?this.nextAvcDts:t*p;var k=m[0];l=Math.max(this._PTSNormalize(k.dts-this._initDTS,_),0),o=Math.max(this._PTSNormalize(k.pts-this._initDTS,_),0);var T=Math.round((l-_)/90);r&&T&&(T>1?d.logger.log(\\\"AVC:\\\"+T+\\\" ms hole between fragments detected,filling it\\\"):T<-1&&d.logger.log(\\\"AVC:\\\"+-T+\\\" ms overlapping between fragments detected\\\"),l=_,m[0].dts=l+this._initDTS,o=Math.max(o-T,_),m[0].pts=o+this._initDTS,d.logger.log(\\\"Video/PTS/DTS adjusted: \\\"+Math.round(o/90)+\\\"/\\\"+Math.round(l/90)+\\\",delta:\\\"+T+\\\" ms\\\")),h=l,k=m[m.length-1],v=Math.max(this._PTSNormalize(k.dts-this._initDTS,_),0),c=Math.max(this._PTSNormalize(k.pts-this._initDTS,_),0),c=Math.max(c,v);var A=navigator.vendor,S=navigator.userAgent,L=A&&A.indexOf(\\\"Apple\\\")>-1&&S&&!S.match(\\\"CriOS\\\");L&&(a=Math.round((v-l)/(y*(m.length-1))));for(var D=0;D<m.length;D++){var w=m[D];L?w.dts=l+D*y*a:(w.dts=Math.max(this._PTSNormalize(w.dts-this._initDTS,_),l),w.dts=Math.round(w.dts/y)*y),w.pts=Math.max(this._PTSNormalize(w.pts-this._initDTS,_),w.dts),w.pts=Math.round(w.pts/y)*y}n=new Uint8Array(e.len+4*e.nbNalu+8);var O=new DataView(n.buffer);O.setUint32(0,n.byteLength),n.set(f.default.types.mdat,4);for(var P=0;P<m.length;P++){for(var I=m[P],C=0,M=void 0;I.units.units.length;){var x=I.units.units.shift();O.setUint32(g,x.data.byteLength),g+=4,n.set(x.data,g),g+=x.data.byteLength,C+=4+x.data.byteLength}if(L)M=Math.max(0,a*Math.round((I.pts-I.dts)/(y*a)));else{if(P<m.length-1)a=m[P+1].dts-I.dts;else{var N=this.config,F=I.dts-m[P>0?P-1:P].dts;if(N.stretchShortVideoTrack){var U=N.maxBufferHole,G=N.maxSeekHole,B=Math.floor(Math.min(U,G)*p),j=(i?o+i*p:this.nextAacPts)-I.pts;j>B?(a=j-F,a<0&&(a=F),d.logger.log(\\\"It is approximately \\\"+j/90+\\\" ms to the next segment; using duration \\\"+a/90+\\\" ms for the last video frame.\\\")):a=F}else a=F}a/=y,M=Math.round((I.pts-I.dts)/y)}E.push({size:C,duration:a,cts:M,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:I.key?2:1,isNonSync:I.key?0:1}})}this.nextAvcDts=v+a*y;var H=e.dropped;if(e.len=0,e.nbNalu=0,e.dropped=0,E.length&&navigator.userAgent.toLowerCase().indexOf(\\\"chrome\\\")>-1){var K=E[0].flags;K.dependsOn=2,K.isNonSync=0}e.samples=E,s=f.default.moof(e.sequenceNumber++,l/y,e),e.samples=[];var V={id:this.id,level:this.level,sn:this.sn,data1:s,data2:n,startPTS:o/p,endPTS:(c+y*a)/p,startDTS:l/p,endDTS:this.nextAvcDts/p,type:\\\"video\\\",nb:E.length,dropped:H};return this.observer.trigger(u.default.FRAG_PARSING_DATA,V),V}},{key:\\\"remuxAudio\\\",value:function(e,t,r,i){var a,n,s,l,h,c,v,g,p,y,m,E,b,R,_,k,T=this.PES_TIMESCALE,A=e.timescale,S=T/A,L=1024*e.timescale/e.audiosamplerate,D=L*S,w=8,O=[],P=[];if(e.samples.sort(function(e,t){return e.pts-t.pts}),P=e.samples,k=this.nextAacPts,r|=P.length&&k&&(Math.abs(t-k/T)<.1||Math.abs(P[0].pts-k-this._initDTS)<20*D),r||(k=t*T),i)for(var I=0,C=k;I<P.length;){var M=P[I],x=this._PTSNormalize(M.pts-this._initDTS,k),N=x-C;if(N<=-D)d.logger.warn(\\\"Dropping 1 audio frame @ \\\"+Math.round(C/90)/1e3+\\\"s due to \\\"+Math.round(Math.abs(N/90))+\\\" ms overlap.\\\"),P.splice(I,1),e.len-=M.unit.length;else if(N>=D){var F=Math.round(N/D);d.logger.warn(\\\"Injecting \\\"+F+\\\" audio frame @ \\\"+Math.round(C/90)/1e3+\\\"s due to \\\"+Math.round(N/90)+\\\" ms gap.\\\");for(var U=0;U<F;U++)_=C+this._initDTS,_=Math.max(_,this._initDTS),R=o.default.getSilentFrame(e.channelCount),R||(d.logger.log(\\\"Unable to get silent frame for given audio codec; duplicating last frame instead.\\\"),R=M.unit.slice(0)),P.splice(I,0,{unit:R,pts:_,dts:_}),e.len+=R.length,C+=D,I+=1;M.pts=M.dts=C+this._initDTS,C+=D,I+=1}else Math.abs(N)>.1*D,C+=D,0===I?M.pts=M.dts=this._initDTS+k:M.pts=M.dts=P[I-1].pts+D,I+=1}for(;P.length;){if(n=P.shift(),l=n.unit,y=n.pts-this._initDTS,m=n.dts-this._initDTS,void 0!==p)E=this._PTSNormalize(y,p),b=this._PTSNormalize(m,p),s.duration=Math.round((b-p)/S);else{E=this._PTSNormalize(y,k),b=this._PTSNormalize(m,k);var G=Math.round(1e3*(E-k)/T),B=0;if(r&&G){if(G>0)B=Math.round((E-k)/D),d.logger.log(G+\\\" ms hole between AAC samples detected,filling it\\\"),B>0&&(R=o.default.getSilentFrame(e.channelCount),R||(R=l.slice(0)),e.len+=B*R.length);else if(G<-12){d.logger.log(-G+\\\" ms overlapping between AAC samples detected, drop frame\\\"),e.len-=l.byteLength;continue}E=b=k}if(v=Math.max(0,E),g=Math.max(0,b),!(e.len>0))return;h=new Uint8Array(e.len+8),a=new DataView(h.buffer),a.setUint32(0,h.byteLength),h.set(f.default.types.mdat,4);for(var j=0;j<B;j++)_=E-(B-j)*D,R=o.default.getSilentFrame(e.channelCount),R||(d.logger.log(\\\"Unable to get silent frame for given audio codec; duplicating this frame instead.\\\"),R=l.slice(0)),h.set(R,w),w+=R.byteLength,s={size:R.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},O.push(s)}h.set(l,w),w+=l.byteLength,s={size:l.byteLength,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},O.push(s),p=b}var H=0,K=O.length;if(K>=2&&(H=O[K-2].duration,s.duration=H),K){this.nextAacPts=E+S*H,e.len=0,e.samples=O,c=f.default.moof(e.sequenceNumber++,g/S,e),e.samples=[];var V={id:this.id,level:this.level,sn:this.sn,data1:c,data2:h,startPTS:v/T,endPTS:this.nextAacPts/T,startDTS:g/T,endDTS:(b+S*H)/T,type:\\\"audio\\\",nb:K};return this.observer.trigger(u.default.FRAG_PARSING_DATA,V),V}return null}},{key:\\\"remuxEmptyAudio\\\",value:function(e,t,r,i){var a=this.PES_TIMESCALE,n=e.timescale?e.timescale:e.audiosamplerate,s=a/n,l=this.nextAacPts,u=(void 0!==l?l:i.startDTS*a)+this._initDTS,h=i.endDTS*a+this._initDTS,f=1024,c=s*f,v=Math.ceil((h-u)/c),g=o.default.getSilentFrame(e.channelCount);if(d.logger.warn(\\\"remux empty Audio\\\"),!g)return void d.logger.trace(\\\"Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!\\\");for(var p=[],y=0;y<v;y++){var m=u+y*c;p.push({unit:g.slice(0),pts:m,dts:m}),e.len+=g.length}e.samples=p,this.remuxAudio(e,t,r)}},{key:\\\"remuxID3\\\",value:function(e,t){var r,i=e.samples.length;if(i){for(var a=0;a<i;a++)r=e.samples[a],r.pts=(r.pts-this._initPTS)/this.PES_TIMESCALE,r.dts=(r.dts-this._initDTS)/this.PES_TIMESCALE;this.observer.trigger(u.default.FRAG_PARSING_METADATA,{id:this.id,level:this.level,sn:this.sn,samples:e.samples})}e.samples=[],t=t}},{key:\\\"remuxText\\\",value:function(e,t){e.samples.sort(function(e,t){return e.pts-t.pts});var r,i=e.samples.length;if(i){for(var a=0;a<i;a++)r=e.samples[a],r.pts=(r.pts-this._initPTS)/this.PES_TIMESCALE;this.observer.trigger(u.default.FRAG_PARSING_USERDATA,{id:this.id,level:this.level,sn:this.sn,samples:e.samples})}e.samples=[],t=t}},{key:\\\"_PTSNormalize\\\",value:function(e,t){var r;if(void 0===t)return e;for(r=t<e?-8589934592:8589934592;Math.abs(e-t)>4294967296;)e+=r;return e}},{key:\\\"passthrough\\\",get:function(){return!1}}]),e}();r.default=v},{26:26,28:28,29:29,37:37,45:45,46:46}],39:[function(e,t,r){\\\"use strict\\\";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),s=e(28),o=i(s),l=function(){function e(t,r){a(this,e),this.observer=t,this.id=r,this.ISGenerated=!1}return n(e,[{key:\\\"destroy\\\",value:function(){}},{key:\\\"insertDiscontinuity\\\",value:function(){}},{key:\\\"switchLevel\\\",value:function(){this.ISGenerated=!1}},{key:\\\"remux\\\",value:function(e,t,r,i,a,n){var s=this.observer;if(!this.ISGenerated){var l={},u={id:this.id,tracks:l,unique:!0},d=t,h=d.codec;h&&(u.tracks.video={container:d.container,codec:h,metadata:{width:d.width,height:d.height}}),d=e,h=d.codec,h&&(u.tracks.audio={container:d.container,codec:h,metadata:{channelCount:d.channelCount}}),this.ISGenerated=!0,s.trigger(o.default.FRAG_PARSING_INIT_SEGMENT,u)}s.trigger(o.default.FRAG_PARSING_DATA,{id:this.id,data1:n,startPTS:a,startDTS:a,type:\\\"audiovideo\\\",nb:1,dropped:0})}},{key:\\\"passthrough\\\",get:function(){return!0}}]),e}();r.default=l},{28:28}],40:[function(e,t,r){\\\"use strict\\\";function i(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\");\\n}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),n=function(){function e(t){i(this,e),\\\"string\\\"==typeof t&&(t=e.parseAttrList(t));for(var r in t)t.hasOwnProperty(r)&&(this[r]=t[r])}return a(e,[{key:\\\"decimalInteger\\\",value:function(e){var t=parseInt(this[e],10);return t>Number.MAX_SAFE_INTEGER?1/0:t}},{key:\\\"hexadecimalInteger\\\",value:function(e){if(this[e]){var t=(this[e]||\\\"0x\\\").slice(2);t=(1&t.length?\\\"0\\\":\\\"\\\")+t;for(var r=new Uint8Array(t.length/2),i=0;i<t.length/2;i++)r[i]=parseInt(t.slice(2*i,2*i+2),16);return r}return null}},{key:\\\"hexadecimalIntegerAsNumber\\\",value:function(e){var t=parseInt(this[e],16);return t>Number.MAX_SAFE_INTEGER?1/0:t}},{key:\\\"decimalFloatingPoint\\\",value:function(e){return parseFloat(this[e])}},{key:\\\"enumeratedString\\\",value:function(e){return this[e]}},{key:\\\"decimalResolution\\\",value:function(e){var t=/^(\\\\d+)x(\\\\d+)$/.exec(this[e]);if(null!==t)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}}}],[{key:\\\"parseAttrList\\\",value:function(e){for(var t,r=/\\\\s*(.+?)\\\\s*=((?:\\\\\\\".*?\\\\\\\")|.*?)(?:,|$)/g,i={};null!==(t=r.exec(e));){var a=t[2],n='\\\"';0===a.indexOf(n)&&a.lastIndexOf(n)===a.length-1&&(a=a.slice(1,-1)),i[t[1]]=a}return i}}]),e}();r.default=n},{}],41:[function(e,t,r){\\\"use strict\\\";var i={search:function(e,t){for(var r=0,i=e.length-1,a=null,n=null;r<=i;){a=(r+i)/2|0,n=e[a];var s=t(n);if(s>0)r=a+1;else{if(!(s<0))return n;i=a-1}}return null}};t.exports=i},{}],42:[function(e,t,r){\\\"use strict\\\";function i(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),n={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},s=function(e){var t=e;return n.hasOwnProperty(e)&&(t=n[e]),String.fromCharCode(t)},o=15,l=32,u={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},d={17:2,18:4,21:6,22:8,23:10,19:13,20:15},h={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},f={25:2,26:4,29:6,30:8,31:10,27:13,28:15},c=[\\\"white\\\",\\\"green\\\",\\\"blue\\\",\\\"cyan\\\",\\\"red\\\",\\\"yellow\\\",\\\"magenta\\\",\\\"black\\\",\\\"transparent\\\"],v={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(e){this.time=e},log:function(e,t){var r=this.verboseFilter[e];this.verboseLevel>=r}},g=function(e){for(var t=[],r=0;r<e.length;r++)t.push(e[r].toString(16));return t},p=function(){function e(t,r,a,n,s){i(this,e),this.foreground=t||\\\"white\\\",this.underline=r||!1,this.italics=a||!1,this.background=n||\\\"black\\\",this.flash=s||!1}return a(e,[{key:\\\"reset\\\",value:function(){this.foreground=\\\"white\\\",this.underline=!1,this.italics=!1,this.background=\\\"black\\\",this.flash=!1}},{key:\\\"setStyles\\\",value:function(e){for(var t=[\\\"foreground\\\",\\\"underline\\\",\\\"italics\\\",\\\"background\\\",\\\"flash\\\"],r=0;r<t.length;r++){var i=t[r];e.hasOwnProperty(i)&&(this[i]=e[i])}}},{key:\\\"isDefault\\\",value:function(){return\\\"white\\\"===this.foreground&&!this.underline&&!this.italics&&\\\"black\\\"===this.background&&!this.flash}},{key:\\\"equals\\\",value:function(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash}},{key:\\\"copy\\\",value:function(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash}},{key:\\\"toString\\\",value:function(){return\\\"color=\\\"+this.foreground+\\\", underline=\\\"+this.underline+\\\", italics=\\\"+this.italics+\\\", background=\\\"+this.background+\\\", flash=\\\"+this.flash}}]),e}(),y=function(){function e(t,r,a,n,s,o){i(this,e),this.uchar=t||\\\" \\\",this.penState=new p(r,a,n,s,o)}return a(e,[{key:\\\"reset\\\",value:function(){this.uchar=\\\" \\\",this.penState.reset()}},{key:\\\"setChar\\\",value:function(e,t){this.uchar=e,this.penState.copy(t)}},{key:\\\"setPenState\\\",value:function(e){this.penState.copy(e)}},{key:\\\"equals\\\",value:function(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)}},{key:\\\"copy\\\",value:function(e){this.uchar=e.uchar,this.penState.copy(e.penState)}},{key:\\\"isEmpty\\\",value:function(){return\\\" \\\"===this.uchar&&this.penState.isDefault()}}]),e}(),m=function(){function e(){i(this,e),this.chars=[];for(var t=0;t<l;t++)this.chars.push(new y);this.pos=0,this.currPenState=new p}return a(e,[{key:\\\"equals\\\",value:function(e){for(var t=!0,r=0;r<l;r++)if(!this.chars[r].equals(e.chars[r])){t=!1;break}return t}},{key:\\\"copy\\\",value:function(e){for(var t=0;t<l;t++)this.chars[t].copy(e.chars[t])}},{key:\\\"isEmpty\\\",value:function(){for(var e=!0,t=0;t<l;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e}},{key:\\\"setCursor\\\",value:function(e){this.pos!==e&&(this.pos=e),this.pos<0?(v.log(\\\"ERROR\\\",\\\"Negative cursor position \\\"+this.pos),this.pos=0):this.pos>l&&(v.log(\\\"ERROR\\\",\\\"Too large cursor position \\\"+this.pos),this.pos=l)}},{key:\\\"moveCursor\\\",value:function(e){var t=this.pos+e;if(e>1)for(var r=this.pos+1;r<t+1;r++)this.chars[r].setPenState(this.currPenState);this.setCursor(t)}},{key:\\\"backSpace\\\",value:function(){this.moveCursor(-1),this.chars[this.pos].setChar(\\\" \\\",this.currPenState)}},{key:\\\"insertChar\\\",value:function(e){e>=144&&this.backSpace();var t=s(e);return this.pos>=l?void v.log(\\\"ERROR\\\",\\\"Cannot insert \\\"+e.toString(16)+\\\" (\\\"+t+\\\") at position \\\"+this.pos+\\\". Skipping it!\\\"):(this.chars[this.pos].setChar(t,this.currPenState),void this.moveCursor(1))}},{key:\\\"clearFromPos\\\",value:function(e){var t;for(t=e;t<l;t++)this.chars[t].reset()}},{key:\\\"clear\\\",value:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}},{key:\\\"clearToEndOfRow\\\",value:function(){this.clearFromPos(this.pos)}},{key:\\\"getTextString\\\",value:function(){for(var e=[],t=!0,r=0;r<l;r++){var i=this.chars[r].uchar;\\\" \\\"!==i&&(t=!1),e.push(i)}return t?\\\"\\\":e.join(\\\"\\\")}},{key:\\\"setPenStyles\\\",value:function(e){this.currPenState.setStyles(e);var t=this.chars[this.pos];t.setPenState(this.currPenState)}}]),e}(),E=function(){function e(){i(this,e),this.rows=[];for(var t=0;t<o;t++)this.rows.push(new m);this.currRow=o-1,this.nrRollUpRows=null,this.reset()}return a(e,[{key:\\\"reset\\\",value:function(){for(var e=0;e<o;e++)this.rows[e].clear();this.currRow=o-1}},{key:\\\"equals\\\",value:function(e){for(var t=!0,r=0;r<o;r++)if(!this.rows[r].equals(e.rows[r])){t=!1;break}return t}},{key:\\\"copy\\\",value:function(e){for(var t=0;t<o;t++)this.rows[t].copy(e.rows[t])}},{key:\\\"isEmpty\\\",value:function(){for(var e=!0,t=0;t<o;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e}},{key:\\\"backSpace\\\",value:function(){var e=this.rows[this.currRow];e.backSpace()}},{key:\\\"clearToEndOfRow\\\",value:function(){var e=this.rows[this.currRow];e.clearToEndOfRow()}},{key:\\\"insertChar\\\",value:function(e){var t=this.rows[this.currRow];t.insertChar(e)}},{key:\\\"setPen\\\",value:function(e){var t=this.rows[this.currRow];t.setPenStyles(e)}},{key:\\\"moveCursor\\\",value:function(e){var t=this.rows[this.currRow];t.moveCursor(e)}},{key:\\\"setCursor\\\",value:function(e){v.log(\\\"INFO\\\",\\\"setCursor: \\\"+e);var t=this.rows[this.currRow];t.setCursor(e)}},{key:\\\"setPAC\\\",value:function(e,t){v.log(\\\"INFO\\\",\\\"pacData = \\\"+JSON.stringify(e));var r=e.row-1;if(this.nrRollUpRows&&r<this.nrRollUpRows-1&&(r=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==r){for(var i=0;i<o;i++)this.rows[i].clear();var a=this.currRow+1-this.nrRollUpRows,n=t.rows[a].cueStartTime;if(n&&n<v.time)for(i=0;i<this.nrRollUpRows;i++)this.rows[r-this.nrRollUpRows+i+1].copy(t.rows[a+i])}this.currRow=r;var s=this.rows[this.currRow];if(null!==e.indent){var l=e.indent,u=Math.max(l-1,0);s.setCursor(e.indent),e.color=s.chars[u].penState.foreground}var d={foreground:e.color,underline:e.underline,italics:e.italics,background:\\\"black\\\",flash:!1};this.setPen(d)}},{key:\\\"setBkgData\\\",value:function(e){v.log(\\\"INFO\\\",\\\"bkgData = \\\"+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)}},{key:\\\"setRollUpRows\\\",value:function(e){this.nrRollUpRows=e}},{key:\\\"rollUp\\\",value:function(){if(null===this.nrRollUpRows)return void v.log(\\\"DEBUG\\\",\\\"roll_up but nrRollUpRows not set yet\\\");v.log(\\\"TEXT\\\",this.getDisplayText());var e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),v.log(\\\"INFO\\\",\\\"Rolling up\\\")}},{key:\\\"getDisplayText\\\",value:function(e){e=e||!1;for(var t=[],r=\\\"\\\",i=-1,a=0;a<o;a++){var n=this.rows[a].getTextString();n&&(i=a+1,e?t.push(\\\"Row \\\"+i+\\\": '\\\"+n+\\\"'\\\"):t.push(n.trim()))}return t.length>0&&(r=e?\\\"[\\\"+t.join(\\\" | \\\")+\\\"]\\\":t.join(\\\"\\\\n\\\")),r}},{key:\\\"getTextAndFormat\\\",value:function(){return this.rows}}]),e}(),b=function(){function e(t,r){i(this,e),this.chNr=t,this.outputFilter=r,this.mode=null,this.verbose=0,this.displayedMemory=new E,this.nonDisplayedMemory=new E,this.lastOutputScreen=new E,this.currRollUpRow=this.displayedMemory.rows[o-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}return a(e,[{key:\\\"reset\\\",value:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[o-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null}},{key:\\\"getHandler\\\",value:function(){return this.outputFilter}},{key:\\\"setHandler\\\",value:function(e){this.outputFilter=e}},{key:\\\"setPAC\\\",value:function(e){this.writeScreen.setPAC(e,this.lastOutputScreen)}},{key:\\\"setBkgData\\\",value:function(e){this.writeScreen.setBkgData(e)}},{key:\\\"setMode\\\",value:function(e){e!==this.mode&&(this.mode=e,v.log(\\\"INFO\\\",\\\"MODE=\\\"+e),\\\"MODE_POP-ON\\\"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset(),this.lastOutputScreen.reset()),\\\"MODE_ROLL-UP\\\"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)}},{key:\\\"insertChars\\\",value:function(e){for(var t=0;t<e.length;t++)this.writeScreen.insertChar(e[t]);var r=this.writeScreen===this.displayedMemory?\\\"DISP\\\":\\\"NON_DISP\\\";v.log(\\\"INFO\\\",r+\\\": \\\"+this.writeScreen.getDisplayText(!0)),\\\"MODE_PAINT-ON\\\"!==this.mode&&\\\"MODE_ROLL-UP\\\"!==this.mode||(v.log(\\\"TEXT\\\",\\\"DISPLAYED: \\\"+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}},{key:\\\"ccRCL\\\",value:function(){v.log(\\\"INFO\\\",\\\"RCL - Resume Caption Loading\\\"),this.setMode(\\\"MODE_POP-ON\\\")}},{key:\\\"ccBS\\\",value:function(){v.log(\\\"INFO\\\",\\\"BS - BackSpace\\\"),\\\"MODE_TEXT\\\"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}},{key:\\\"ccAOF\\\",value:function(){}},{key:\\\"ccAON\\\",value:function(){}},{key:\\\"ccDER\\\",value:function(){v.log(\\\"INFO\\\",\\\"DER- Delete to End of Row\\\"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}},{key:\\\"ccRU\\\",value:function(e){v.log(\\\"INFO\\\",\\\"RU(\\\"+e+\\\") - Roll Up\\\"),this.writeScreen=this.displayedMemory,this.setMode(\\\"MODE_ROLL-UP\\\"),this.writeScreen.setRollUpRows(e)}},{key:\\\"ccFON\\\",value:function(){v.log(\\\"INFO\\\",\\\"FON - Flash On\\\"),this.writeScreen.setPen({flash:!0})}},{key:\\\"ccRDC\\\",value:function(){v.log(\\\"INFO\\\",\\\"RDC - Resume Direct Captioning\\\"),this.setMode(\\\"MODE_PAINT-ON\\\")}},{key:\\\"ccTR\\\",value:function(){v.log(\\\"INFO\\\",\\\"TR\\\"),this.setMode(\\\"MODE_TEXT\\\")}},{key:\\\"ccRTD\\\",value:function(){v.log(\\\"INFO\\\",\\\"RTD\\\"),this.setMode(\\\"MODE_TEXT\\\")}},{key:\\\"ccEDM\\\",value:function(){v.log(\\\"INFO\\\",\\\"EDM - Erase Displayed Memory\\\"),this.displayedMemory.reset(),this.outputDataUpdate()}},{key:\\\"ccCR\\\",value:function(){v.log(\\\"CR - Carriage Return\\\"),this.writeScreen.rollUp(),this.outputDataUpdate()}},{key:\\\"ccENM\\\",value:function(){v.log(\\\"INFO\\\",\\\"ENM - Erase Non-displayed Memory\\\"),this.nonDisplayedMemory.reset()}},{key:\\\"ccEOC\\\",value:function(){if(v.log(\\\"INFO\\\",\\\"EOC - End Of Caption\\\"),\\\"MODE_POP-ON\\\"===this.mode){var e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,v.log(\\\"TEXT\\\",\\\"DISP: \\\"+this.displayedMemory.getDisplayText())}this.outputDataUpdate()}},{key:\\\"ccTO\\\",value:function(e){v.log(\\\"INFO\\\",\\\"TO(\\\"+e+\\\") - Tab Offset\\\"),this.writeScreen.moveCursor(e)}},{key:\\\"ccMIDROW\\\",value:function(e){var t={flash:!1};if(t.underline=e%2===1,t.italics=e>=46,t.italics)t.foreground=\\\"white\\\";else{var r=Math.floor(e/2)-16,i=[\\\"white\\\",\\\"green\\\",\\\"blue\\\",\\\"cyan\\\",\\\"red\\\",\\\"yellow\\\",\\\"magenta\\\"];t.foreground=i[r]}v.log(\\\"INFO\\\",\\\"MIDROW: \\\"+JSON.stringify(t)),this.writeScreen.setPen(t)}},{key:\\\"outputDataUpdate\\\",value:function(){var e=v.time;null!==e&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(e,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))}},{key:\\\"cueSplitAtTime\\\",value:function(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}}]),e}(),R=function(){function e(t,r,a){i(this,e),this.field=t||1,this.outputs=[r,a],this.channels=[new b(1,r),new b(2,a)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}}return a(e,[{key:\\\"getHandler\\\",value:function(e){return this.channels[e].getHandler()}},{key:\\\"setHandler\\\",value:function(e,t){this.channels[e].setHandler(t)}},{key:\\\"addData\\\",value:function(e,t){var r,i,a,n=!1;this.lastTime=e,v.setTime(e);for(var s=0;s<t.length;s+=2)if(i=127&t[s],a=127&t[s+1],0!==i||0!==a){if(v.log(\\\"DATA\\\",\\\"[\\\"+g([t[s],t[s+1]])+\\\"] -> (\\\"+g([i,a])+\\\")\\\"),r=this.parseCmd(i,a),r||(r=this.parseMidrow(i,a)),r||(r=this.parsePAC(i,a)),r||(r=this.parseBackgroundAttributes(i,a)),!r&&(n=this.parseChars(i,a)))if(this.currChNr&&this.currChNr>=0){var o=this.channels[this.currChNr-1];o.insertChars(n)}else v.log(\\\"WARNING\\\",\\\"No channel found yet. TEXT-MODE?\\\");r?this.dataCounters.cmd+=2:n?this.dataCounters.char+=2:(this.dataCounters.other+=2,v.log(\\\"WARNING\\\",\\\"Couldn't parse cleaned data \\\"+g([i,a])+\\\" orig: \\\"+g([t[s],t[s+1]])))}else this.dataCounters.padding+=2}},{key:\\\"parseCmd\\\",value:function(e,t){var r=null,i=(20===e||28===e)&&32<=t&&t<=47,a=(23===e||31===e)&&33<=t&&t<=35;if(!i&&!a)return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,v.log(\\\"DEBUG\\\",\\\"Repeated command (\\\"+g([e,t])+\\\") is dropped\\\"),!0;r=20===e||23===e?1:2;var n=this.channels[r-1];return 20===e||28===e?32===t?n.ccRCL():33===t?n.ccBS():34===t?n.ccAOF():35===t?n.ccAON():36===t?n.ccDER():37===t?n.ccRU(2):38===t?n.ccRU(3):39===t?n.ccRU(4):40===t?n.ccFON():41===t?n.ccRDC():42===t?n.ccTR():43===t?n.ccRTD():44===t?n.ccEDM():45===t?n.ccCR():46===t?n.ccENM():47===t&&n.ccEOC():n.ccTO(t-32),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=r,!0}},{key:\\\"parseMidrow\\\",value:function(e,t){var r=null;if((17===e||25===e)&&32<=t&&t<=47){if(r=17===e?1:2,r!==this.currChNr)return v.log(\\\"ERROR\\\",\\\"Mismatch channel in midrow parsing\\\"),!1;var i=this.channels[r-1];return i.ccMIDROW(t),v.log(\\\"DEBUG\\\",\\\"MIDROW (\\\"+g([e,t])+\\\")\\\"),!0}return!1}},{key:\\\"parsePAC\\\",value:function(e,t){var r=null,i=null,a=(17<=e&&e<=23||25<=e&&e<=31)&&64<=t&&t<=127,n=(16===e||24===e)&&64<=t&&t<=95;if(!a&&!n)return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,!0;r=e<=23?1:2,i=64<=t&&t<=95?1===r?u[e]:h[e]:1===r?d[e]:f[e];var s=this.interpretPAC(i,t),o=this.channels[r-1];return o.setPAC(s),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=r,!0}},{key:\\\"interpretPAC\\\",value:function(e,t){var r=t,i={color:null,italics:!1,indent:null,underline:!1,row:e};return r=t>95?t-96:t-64,i.underline=1===(1&r),r<=13?i.color=[\\\"white\\\",\\\"green\\\",\\\"blue\\\",\\\"cyan\\\",\\\"red\\\",\\\"yellow\\\",\\\"magenta\\\",\\\"white\\\"][Math.floor(r/2)]:r<=15?(i.italics=!0,i.color=\\\"white\\\"):i.indent=4*Math.floor((r-16)/2),i}},{key:\\\"parseChars\\\",value:function(e,t){var r=null,i=null,a=null;if(e>=25?(r=2,a=e-8):(r=1,a=e),17<=a&&a<=19){var n=t;n=17===a?t+80:18===a?t+112:t+144,v.log(\\\"INFO\\\",\\\"Special char '\\\"+s(n)+\\\"' in channel \\\"+r),i=[n]}else 32<=e&&e<=127&&(i=0===t?[e]:[e,t]);if(i){var o=g(i);v.log(\\\"DEBUG\\\",\\\"Char codes =  \\\"+o.join(\\\",\\\")),this.lastCmdA=null,this.lastCmdB=null}return i}},{key:\\\"parseBackgroundAttributes\\\",value:function(e,t){var r,i,a,n,s=(16===e||24===e)&&32<=t&&t<=47,o=(23===e||31===e)&&45<=t&&t<=47;return!(!s&&!o)&&(r={},16===e||24===e?(i=Math.floor((t-32)/2),r.background=c[i],t%2===1&&(r.background=r.background+\\\"_semi\\\")):45===t?r.background=\\\"transparent\\\":(r.foreground=\\\"black\\\",47===t&&(r.underline=!0)),a=e<24?1:2,n=this.channels[a-1],n.setBkgData(r),this.lastCmdA=null,this.lastCmdB=null,!0)}},{key:\\\"reset\\\",value:function(){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].reset();this.lastCmdA=null,this.lastCmdB=null}},{key:\\\"cueSplitAtTime\\\",value:function(e){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].cueSplitAtTime(e)}}]),e}();r.default=R},{}],43:[function(e,t,r){\\\"use strict\\\";var i={newCue:function(e,t,r,i){for(var a,n,s,o,l,u=window.VTTCue||window.TextTrackCue,d=0;d<i.rows.length;d++)if(a=i.rows[d],s=!0,o=0,l=\\\"\\\",!a.isEmpty()){for(var h=0;h<a.chars.length;h++)a.chars[h].uchar.match(/\\\\s/)&&s?o++:(l+=a.chars[h].uchar,s=!1);a.cueStartTime=t,n=new u(t,r,l.trim()),o>=16?o--:o++,navigator.userAgent.match(/Firefox\\\\//)?n.line=d+1:n.line=d>7?d-2:d+1,n.align=\\\"left\\\",n.position=Math.max(0,Math.min(100,100*(o/32)+(navigator.userAgent.match(/Firefox\\\\//)?50:0))),e.addCue(n)}}};t.exports=i},{}],44:[function(e,t,r){\\\"use strict\\\";function i(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),n=function(){function e(t){i(this,e),this.alpha_=t?Math.exp(Math.log(.5)/t):0,this.estimate_=0,this.totalWeight_=0}return a(e,[{key:\\\"sample\\\",value:function(e,t){var r=Math.pow(this.alpha_,e);this.estimate_=t*(1-r)+r*this.estimate_,this.totalWeight_+=e}},{key:\\\"getTotalWeight\\\",value:function(){return this.totalWeight_}},{key:\\\"getEstimate\\\",value:function(){if(this.alpha_){var e=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/e}return this.estimate_}}]),e}();r.default=n},{}],45:[function(e,t,r){\\\"use strict\\\";function i(){}function a(e,t){return t=\\\"[\\\"+e+\\\"] > \\\"+t}function n(e){var t=self.console[e];return t?function(){for(var r=arguments.length,i=Array(r),n=0;n<r;n++)i[n]=arguments[n];i[0]&&(i[0]=a(e,i[0])),t.apply(self.console,i)}:i}function s(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];r.forEach(function(t){u[t]=e[t]?e[t].bind(e):n(t)})}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var o=\\\"function\\\"==typeof Symbol&&\\\"symbol\\\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\\\"function\\\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\\\"symbol\\\":typeof e},l={trace:i,debug:i,log:i,warn:i,info:i,error:i},u=l;r.enableLogs=function(e){if(e===!0||\\\"object\\\"===(\\\"undefined\\\"==typeof e?\\\"undefined\\\":o(e))){s(e,\\\"debug\\\",\\\"log\\\",\\\"info\\\",\\\"warn\\\",\\\"error\\\");try{u.log()}catch(e){u=l}}else u=l},r.logger=u},{}],46:[function(e,t,r){\\\"use strict\\\";\\\"undefined\\\"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||(ArrayBuffer.prototype.slice=function(e,t){var r=new Uint8Array(this);void 0===t&&(t=r.length);for(var i=new ArrayBuffer(t-e),a=new Uint8Array(i),n=0;n<a.length;n++)a[n]=r[n+e];return i})},{}],47:[function(e,t,r){\\\"use strict\\\";function i(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),n=function(){function e(){i(this,e)}return a(e,null,[{key:\\\"toString\\\",value:function(e){for(var t=\\\"\\\",r=e.length,i=0;i<r;i++)t+=\\\"[\\\"+e.start(i).toFixed(3)+\\\",\\\"+e.end(i).toFixed(3)+\\\"]\\\";return t}}]),e}();r.default=n},{}],48:[function(e,t,r){\\\"use strict\\\";function i(e,t){if(!(e instanceof t))throw new TypeError(\\\"Cannot call a class as a function\\\")}Object.defineProperty(r,\\\"__esModule\\\",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\\\"value\\\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),n=e(45),s=function(){function e(t){i(this,e),t&&t.xhrSetup&&(this.xhrSetup=t.xhrSetup)}return a(e,[{key:\\\"destroy\\\",value:function(){this.abort(),this.loader=null}},{key:\\\"abort\\\",value:function(){var e=this.loader;e&&4!==e.readyState&&(this.stats.aborted=!0,e.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null}},{key:\\\"load\\\",value:function(e,t,r){this.context=e,this.config=t,this.callbacks=r,this.stats={trequest:performance.now(),retry:0},this.retryDelay=t.retryDelay,this.loadInternal()}},{key:\\\"loadInternal\\\",value:function(){var e,t=this.context;e=\\\"undefined\\\"!=typeof XDomainRequest?this.loader=new XDomainRequest:this.loader=new XMLHttpRequest,e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.open(\\\"GET\\\",t.url,!0),t.rangeEnd&&e.setRequestHeader(\\\"Range\\\",\\\"bytes=\\\"+t.rangeStart+\\\"-\\\"+(t.rangeEnd-1)),e.responseType=t.responseType;var r=this.stats;r.tfirst=0,r.loaded=0,this.xhrSetup&&this.xhrSetup(e,t.url),this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),e.send()}},{key:\\\"readystatechange\\\",value:function(e){var t=e.currentTarget,r=t.readyState,i=this.stats,a=this.context,s=this.config;if(!i.aborted&&(window.clearTimeout(this.requestTimeout),r>=2&&(0===i.tfirst&&(i.tfirst=Math.max(performance.now(),i.trequest),this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),s.timeout-(i.tfirst-i.trequest))),4===r))){var o=t.status;if(o>=200&&o<300){i.tload=Math.max(i.tfirst,performance.now());var l=void 0,u=void 0;\\\"arraybuffer\\\"===a.responseType?(l=t.response,u=l.byteLength):(l=t.responseText,u=l.length),i.loaded=i.total=u;var d={url:t.responseURL,data:l};this.callbacks.onSuccess(d,i,a)}else i.retry>=s.maxRetry||o>=400&&o<499?(n.logger.error(o+\\\" while loading \\\"+a.url),this.callbacks.onError({code:o,text:t.statusText},a)):(n.logger.warn(o+\\\" while loading \\\"+a.url+\\\", retrying in \\\"+this.retryDelay+\\\"...\\\"),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,s.maxRetryDelay),i.retry++)}}},{key:\\\"loadtimeout\\\",value:function(){n.logger.warn(\\\"timeout while loading \\\"+this.context.url),this.callbacks.onTimeout(this.stats,this.context)}},{key:\\\"loadprogress\\\",value:function(e){var t=this.stats;t.loaded=e.loaded,e.lengthComputable&&(t.total=e.total);var r=this.callbacks.onProgress;r&&r(t,this.context,null)}}]),e}();r.default=s},{45:45}]},{},[33])(33)});\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/raw-loader!./~/hls.js/dist/hls.min.js\n// module id = 645\n// module chunks = 1"],"sourceRoot":""}